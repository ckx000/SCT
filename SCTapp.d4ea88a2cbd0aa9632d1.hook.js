webpackJsonp([3],[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(109),a=r(i),o=n(165),s=r(o),l=n(909),u=r(l),c=n(161),f=r(c),d=n(168),p=r(d),h=n(110),y=r(h),m=n(14),_=r(m),g=n(988),b=r(g),v=n(115),w=r(v),k=n(989),S=r(k),I=n(990),E=r(I),A=n(991),x=r(A),C=n(251),T=r(C),P=n(421),O=r(P),N=n(23),M=r(N),R=n(282),D=r(R),F=n(993),B=r(F),j=n(24),L=r(j),U=n(116),H=r(U),G=n(422),z=r(G),V=n(22),K=r(V),W=n(997),q=r(W),X=n(57),Y=r(X),J=n(998),Q=r(J),Z=n(111),$=r(Z),ee=n(108),te=r(ee),ne=n(423),re=r(ne),ie=n(424),ae=r(ie),oe=n(253),se=r(oe),le=n(1e3),ue=r(le),ce=n(1001),fe=r(ce),de=n(250),pe=r(de);t.default={INCREASE_FONT_COLOR:16199014,DECREASE_FONT_COLOR:43263,advHelper:a.default,commonUiHelper:s.default,CommonPartsLayer:u.default,createDialogOverlay:f.default,CancelButton:p.default,DecideButton:y.default,Dialog:_.default,dotLine:b.default,Gauge:w.default,ImageLabel:S.default,InteractionBox:E.default,graphics:x.default,MovingBg:T.default,MuteVideo:O.default,ParticleSystem:M.default,playParticle:D.default,receiveRewardDialogFactory:B.default,ScrollBar:L.default,ScrollBarBase:H.default,ScrollMap:z.default,ScrollRect:K.default,SelectButton:q.default,Spine:Y.default,ToggleButton:Q.default,TransitionFadeLayer:$.default,TransitionPageTurn:te.default,TransitionProduceEvent:re.default,TransitionSupportSkillEvent:ae.default,TipsPage:se.default,platform:ue.default,LoadingIndicator:fe.default,LoadingLayer:pe.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),a=r(i),o=n(106),s=r(o),l=n(807),u=r(l),c=n(808),f=r(c),d=n(42),p=r(d),h=n(809),y=r(h);t.default={app:a.default,asset:s.default,bg:u.default,bgm:f.default,env:p.default,tips:y.default,SCREEN_WIDTH:1136,SCREEN_HEIGHT:640,SCREEN_CENTER:{x:568,y:320}}},function(e,t,n){var r=n(11),i=n(59),a=n(46),o=n(47),s=n(53),l=function(e,t,n){var u,c,f,d,p=e&l.F,h=e&l.G,y=e&l.S,m=e&l.P,_=e&l.B,g=h?r:y?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),v=b.prototype||(b.prototype={});h&&(n=t);for(u in n)c=!p&&g&&void 0!==g[u],f=(c?g:n)[u],d=_&&c?s(f,r):m&&"function"==typeof f?s(Function.call,f):f,g&&o(g,u,f,e&l.U),b[u]!=f&&a(b,u,d),m&&v[u]!=f&&(v[u]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(841),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._locale="ja",e._polyglot=null,e}return a(t,e),o(t,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._polyglot)throw new Error("Polyglot already exist");t=t||this._locale,this._polyglot=new l.default({phrases:e,locale:t})}},{key:"t",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._polyglot)throw new Error("Polyglot dont exist");return this._polyglot.t(e,t)}}]),t}(aoba.utils.EventEmitter),c=new u;t.default=c},function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,a,o){for(;a>=0&&a<o;a+=e){var s=i?i[a]:a;r=n(r,t[s],s,t)}return r}return function(n,r,i,a){r=S(r,a,4);var o=!P(n)&&k.keys(n),s=(o||n).length,l=e>0?0:s-1;return arguments.length<3&&(i=n[o?o[l]:l],l+=e),t(n,r,i,o,l,s)}}function a(e){return function(t,n,r){n=I(n,r);for(var i=T(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(n(t[a],a,t))return a;return-1}}function o(e,t,n){return function(r,i,a){var o=0,s=T(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=t(h.call(r,o,s),k.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&a<s;a+=e)if(r[a]===i)return a;return-1}}function s(e,t){var n=D.length,r=e.constructor,i=k.isFunction(r)&&r.prototype||f,a="constructor";for(k.has(e,a)&&!k.contains(t,a)&&t.push(a);n--;)(a=D[n])in e&&e[a]!==i[a]&&!k.contains(t,a)&&t.push(a)}var l=this,u=l._,c=Array.prototype,f=Object.prototype,d=Function.prototype,p=c.push,h=c.slice,y=f.toString,m=f.hasOwnProperty,_=Array.isArray,g=Object.keys,b=d.bind,v=Object.create,w=function(){},k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};void 0!==e&&e.exports&&(t=e.exports=k),t._=k,k.VERSION="1.8.3";var S=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},I=function(e,t,n){return null==e?k.identity:k.isFunction(e)?S(e,t,n):k.isObject(e)?k.matcher(e):k.property(e)};k.iteratee=function(e,t){return I(e,t,1/0)};var E=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=e(a),s=o.length,l=0;l<s;l++){var u=o[l];t&&void 0!==n[u]||(n[u]=a[u])}return n}},A=function(e){if(!k.isObject(e))return{};if(v)return v(e);w.prototype=e;var t=new w;return w.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,T=x("length"),P=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=C};k.each=k.forEach=function(e,t,n){t=S(t,n);var r,i;if(P(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var a=k.keys(e);for(r=0,i=a.length;r<i;r++)t(e[a[r]],a[r],e)}return e},k.map=k.collect=function(e,t,n){t=I(t,n);for(var r=!P(e)&&k.keys(e),i=(r||e).length,a=Array(i),o=0;o<i;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a},k.reduce=k.foldl=k.inject=n(1),k.reduceRight=k.foldr=n(-1),k.find=k.detect=function(e,t,n){var r;if(void 0!==(r=P(e)?k.findIndex(e,t,n):k.findKey(e,t,n))&&-1!==r)return e[r]},k.filter=k.select=function(e,t,n){var r=[];return t=I(t,n),k.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},k.reject=function(e,t,n){return k.filter(e,k.negate(I(t)),n)},k.every=k.all=function(e,t,n){t=I(t,n);for(var r=!P(e)&&k.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},k.some=k.any=function(e,t,n){t=I(t,n);for(var r=!P(e)&&k.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},k.contains=k.includes=k.include=function(e,t,n,r){return P(e)||(e=k.values(e)),("number"!=typeof n||r)&&(n=0),k.indexOf(e,t,n)>=0},k.invoke=function(e,t){var n=h.call(arguments,2),r=k.isFunction(t);return k.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matcher(t))},k.findWhere=function(e,t){return k.find(e,k.matcher(t))},k.max=function(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t&&null!=e){e=P(e)?e:k.values(e);for(var s=0,l=e.length;s<l;s++)(r=e[s])>a&&(a=r)}else t=I(t,n),k.each(e,function(e,n,r){((i=t(e,n,r))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)});return a},k.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e){e=P(e)?e:k.values(e);for(var s=0,l=e.length;s<l;s++)(r=e[s])<a&&(a=r)}else t=I(t,n),k.each(e,function(e,n,r){
((i=t(e,n,r))<o||i===1/0&&a===1/0)&&(a=e,o=i)});return a},k.shuffle=function(e){for(var t,n=P(e)?e:k.values(e),r=n.length,i=Array(r),a=0;a<r;a++)t=k.random(0,a),t!==a&&(i[a]=i[t]),i[t]=n[a];return i},k.sample=function(e,t,n){return null==t||n?(P(e)||(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))},k.sortBy=function(e,t,n){return t=I(t,n),k.pluck(k.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};return n=I(n,r),k.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};k.groupBy=O(function(e,t,n){k.has(e,n)?e[n].push(t):e[n]=[t]}),k.indexBy=O(function(e,t,n){e[n]=t}),k.countBy=O(function(e,t,n){k.has(e,n)?e[n]++:e[n]=1}),k.toArray=function(e){return e?k.isArray(e)?h.call(e):P(e)?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:P(e)?e.length:k.keys(e).length},k.partition=function(e,t,n){t=I(t,n);var r=[],i=[];return k.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},k.first=k.head=k.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:k.initial(e,e.length-t)},k.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},k.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:k.rest(e,Math.max(0,e.length-t))},k.rest=k.tail=k.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var N=function(e,t,n,r){for(var i=[],a=0,o=r||0,s=T(e);o<s;o++){var l=e[o];if(P(l)&&(k.isArray(l)||k.isArguments(l))){t||(l=N(l,t,n));var u=0,c=l.length;for(i.length+=c;u<c;)i[a++]=l[u++]}else n||(i[a++]=l)}return i};k.flatten=function(e,t){return N(e,t,!1)},k.without=function(e){return k.difference(e,h.call(arguments,1))},k.uniq=k.unique=function(e,t,n,r){k.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=I(n,r));for(var i=[],a=[],o=0,s=T(e);o<s;o++){var l=e[o],u=n?n(l,o,e):l;t?(o&&a===u||i.push(l),a=u):n?k.contains(a,u)||(a.push(u),i.push(l)):k.contains(i,l)||i.push(l)}return i},k.union=function(){return k.uniq(N(arguments,!0,!0))},k.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=T(e);r<i;r++){var a=e[r];if(!k.contains(t,a)){for(var o=1;o<n&&k.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},k.difference=function(e){var t=N(arguments,!0,!0,1);return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(e){for(var t=e&&k.max(e,T).length||0,n=Array(t),r=0;r<t;r++)n[r]=k.pluck(e,r);return n},k.object=function(e,t){for(var n={},r=0,i=T(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},k.findIndex=a(1),k.findLastIndex=a(-1),k.sortedIndex=function(e,t,n,r){n=I(n,r,1);for(var i=n(t),a=0,o=T(e);a<o;){var s=Math.floor((a+o)/2);n(e[s])<i?a=s+1:o=s}return a},k.indexOf=o(1,k.findIndex,k.sortedIndex),k.lastIndexOf=o(-1,k.findLastIndex),k.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;a<r;a++,e+=n)i[a]=e;return i};var M=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=A(e.prototype),o=e.apply(a,i);return k.isObject(o)?o:a};k.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,h.call(arguments,1));if(!k.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),r=function(){return M(e,r,t,this,n.concat(h.call(arguments)))};return r},k.partial=function(e){var t=h.call(arguments,1),n=function(){for(var r=0,i=t.length,a=Array(i),o=0;o<i;o++)a[o]=t[o]===k?arguments[r++]:t[o];for(;r<arguments.length;)a.push(arguments[r++]);return M(e,n,this,this,a)};return n},k.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=k.bind(e[n],e);return e},k.memoize=function(e,t){var n=function(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return k.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},k.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=k.partial(k.delay,k,1),k.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:k.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var u=k.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return r=this,i=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),s=u,a=e.apply(r,i),o||(r=i=null)):o||!1===n.trailing||(o=setTimeout(l,c)),a}},k.debounce=function(e,t,n){var r,i,a,o,s,l=function(){var u=k.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=k.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s}},k.wrap=function(e,t){return k.partial(t,e)},k.negate=function(e){return function(){return!e.apply(this,arguments)}},k.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},k.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},k.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},k.once=k.partial(k.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(e){if(!k.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return R&&s(e,t),t},k.allKeys=function(e){if(!k.isObject(e))return[];var t=[];for(var n in e)t.push(n);return R&&s(e,t),t},k.values=function(e){for(var t=k.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},k.mapObject=function(e,t,n){t=I(t,n);for(var r,i=k.keys(e),a=i.length,o={},s=0;s<a;s++)r=i[s],o[r]=t(e[r],r,e);return o},k.pairs=function(e){for(var t=k.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},k.invert=function(e){for(var t={},n=k.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=E(k.allKeys),k.extendOwn=k.assign=E(k.keys),k.findKey=function(e,t,n){t=I(t,n);for(var r,i=k.keys(e),a=0,o=i.length;a<o;a++)if(r=i[a],t(e[r],r,e))return r},k.pick=function(e,t,n){var r,i,a={},o=e;if(null==o)return a;k.isFunction(t)?(i=k.allKeys(o),r=S(t,n)):(i=N(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var s=0,l=i.length;s<l;s++){var u=i[s],c=o[u];r(c,u,o)&&(a[u]=c)}return a},k.omit=function(e,t,n){if(k.isFunction(t))t=k.negate(t);else{var r=k.map(N(arguments,!1,!1,1),String);t=function(e,t){return!k.contains(r,t)}}return k.pick(e,t,n)},k.defaults=E(k.allKeys,!0),k.create=function(e,t){var n=A(e);return t&&k.extendOwn(n,t),n},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e},k.isMatch=function(e,t){var n=k.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;a<r;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var F=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var i=y.call(e);if(i!==y.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(k.isFunction(o)&&o instanceof o&&k.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!F(e[l],t[l],n,r))return!1}else{var u,c=k.keys(e);if(l=c.length,
k.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!k.has(t,u)||!F(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};k.isEqual=function(e,t){return F(e,t)},k.isEmpty=function(e){return null==e||(P(e)&&(k.isArray(e)||k.isString(e)||k.isArguments(e))?0===e.length:0===k.keys(e).length)},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=_||function(e){return"[object Array]"===y.call(e)},k.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){k["is"+e]=function(t){return y.call(t)==="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return k.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(e){return"function"==typeof e||!1}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!==+e},k.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===y.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return null!=e&&m.call(e,t)},k.noConflict=function(){return l._=u,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.noop=function(){},k.property=x,k.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},k.matcher=k.matches=function(e){return e=k.extendOwn({},e),function(t){return k.isMatch(t,e)}},k.times=function(e,t,n){var r=Array(Math.max(0,e));t=S(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=k.invert(B),L=function(e){var t=function(t){return e[t]},n="(?:"+k.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};k.escape=L(B),k.unescape=L(j),k.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),k.isFunction(r)?r.call(e):r};var U=0;k.uniqueId=function(e){var t=++U+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+G[e]};k.template=function(e,t,n){!t&&n&&(t=n),t=k.defaults({},t,k.templateSettings);var r=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,s){return a+=e.slice(i,s).replace(z,V),i=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return o.call(this,e,k)};return s.source="function("+(t.variable||"obj")+"){\n"+a+"}",s},k.chain=function(e){var t=k(e);return t._chain=!0,t};var K=function(e,t){return e._chain?k(t).chain():t};k.mixin=function(e){k.each(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),K(this,n.apply(k,e))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],K(this,n)}}),k.each(["concat","join","slice"],function(e){var t=c[e];k.prototype[e]=function(){return K(this,t.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return k}.apply(t,r))&&(e.exports=i)}).call(this)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(250),d=r(f),p=n(397),h=r(p),y=n(14),m=r(y),_=n(3),g=r(_),b=n(1),v=r(b),w=n(1018),k=r(w),S=n(66),I=r(S),E=n(1019),A=r(E),x=n(67),C=r(x),T=n(42),P=r(T),O=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.interactive=!0,e._tapEffectLayer=k.default.new(),e._loadingLayer=null,e.on("tap",e._showTapEffect,e),e.on("removed",e._onRemoved,e),e.on("enter",e.onEnter,e),e.on("exit",e._onExit,e),I.default.isAndroid()&&I.default.isChrome()&&e.once("tap",A.default),e}return s(t,e),l(t,[{key:"_onRemoved",value:function(){}},{key:"onEnter",value:function(){}},{key:"_onExit",value:function(){this.hideLoadingLayer()}},{key:"addHeader",value:function(e){return c.default.commonUiHelper.createHeader(e).addTo(this)}},{key:"addGlobalMenuButton",value:function(){return h.default.new().addTo(this)}},{key:"addBackButton",value:function(e){return c.default.CancelButton.new("back_button.png").addTo(this,51,589).on("tap",e)}},{key:"showLoadingLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._loadingLayer&&this.hideLoadingLayer(),this._loadingLayer=d.default.new().addTo(this),e.transparent?this._loadingLayer.alpha=0:this._loadingLayer.fadeIn(),this._loadingLayer}},{key:"hideLoadingLayer",value:function(){if(this._loadingLayer){var e=this._loadingLayer;this._loadingLayer=null,e.fadeOut().then(function(){e.destroy({children:!0}),e=null})}}},{key:"showRecommendLandscapeOrientationDialog",value:function(){var e=this;this._landscapeDialog||(this._landscapeDialog=m.default.new({size:"s",title:g.default.t("landscapeDialog.title"),text:g.default.t("landscapeDialog.text"),type:"close"}).on("closeEnd",function(){e._landscapeDialog=null}).addTo(this),this._landscapeDialog.open())}},{key:"showErrorDialog",value:function(e){var t=void 0,n=void 0;e.response&&e.response.body&&(t=e.response.body.requestId,n=e.response.body.status);var r=void 0,i=v.default.app.SERVER_ERROR_TYPES;switch(e.type){case i.FORBIDDEN:r=v.default.app.FORBIDDEN_ERRROR_STATUS;break;case i.TIMEOUT:r=v.default.app.TIMEOUT_ERRROR_STATUS;break;case i.OTHER:r=v.default.app.DEFAULT_ERROR_STATUS;break;case i.BAD_REQUEST:r=v.default.app.BAD_REQUEST_STATUSES.find(function(e){return e.code===n}),r||(r=v.default.app.DEFAULT_ERROR_STATUS);break;default:r=v.default.app.DEFAULT_ERROR_STATUS}m.default.new({size:"s",title:g.default.t(r.dialogTitleKey),text:g.default.t(r.dialogContentKey,{requestId:t,errorCode:n}),buttons:[{type:"close",image:"to_title_button.png"}]}).on("closeEnd",function(){window.location.replace("/")}).addTo(this).open(),this.hideLoadingLayer()}},{key:"showMaintenanceDialog",value:function(e){this.hideLoadingLayer(),m.default.new({size:"l",title:g.default.t("maintenance.title"),
text:e.text.replace(/\\n/g,"\n")||g.default.t("maintenance.defaultMessage"),buttons:[{type:"submit",image:"inquiry_button_l.png"}],height:200,textAnchorY:.5,isCenter:!0}).on("closeEnd",function(){window.location.replace("/")}).on("submit",function(){P.default.PF_URI&&C.default.ui.showInquiryDialog()}).addTo(this).open()}},{key:"_showTapEffect",value:function(e){this._tapEffectLayer.addTo(this),this._tapEffectLayer.play(e.data.global)}}],[{key:"request",value:function(){return Promise.resolve()}},{key:"importModuleAsync",value:function(){return Promise.resolve()}},{key:"getContentResources",value:function(e){return[]}},{key:"getRequiredBgmResourceNames",value:function(){return[]}},{key:"getResourceList",value:function(e){return[].concat(i(this.uiResources),i(this.getContentResources(e)))}},{key:"uiResources",get:function(){return[]}}]),t}(aoba.Scene);t.default=O},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={transition:{maskIn:"sounds/se/028a.m4a",maskOut:"sounds/se/028b.m4a"},ui:{typeText:"sounds/se/002.m4a",decide:"sounds/se/003.m4a",cancel:"sounds/se/004.m4a",select:"sounds/se/005.m4a",scroll:"sounds/se/011.m4a",stamp:"sounds/se/335.m4a",popup:"sounds/se/215.m4a"}}},function(e,t,n){var r=n(17);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(129),a=r(i),o=n(4),s=r(o),l=n(42),u=r(l),c=n(81),f=r(c),d=n(229),p=r(d),h=n(359),y=r(h),m=f.default.SERVER_ERROR_TYPES,_=function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},g=!1;t.default={_defaultHeaders:{},_errorEvent:null,addHeader:function(e,t){this._defaultHeaders[e]=t},setErrorEvent:function(e){this._errorEvent=e},get:function(e,t,n){return this.request("get",e,{query:t,headers:n})},post:function(e,t,n){return this.request("post",e,{params:t,headers:n})},put:function(e,t,n){return this.request("put",e,{params:t,headers:n})},patch:function(e,t,n){return this.request("PATCH",e,{params:t,headers:n})},delete:function(e,t,n){return this.request("delete",e,{params:t,headers:n})},request:function(e,t,n){var r=this;return g?_(80).then(function(){return r.request(e,t,n)}):(g=!0,this._request({method:e,path:t,options:n}).then(function(e){if(!e)return g=!1,Promise.reject();if(e.text&&e.text.length>0){var t=e.text,n=e.header["x-sessionid"]||"";e.text=decodeURIComponent(escape(y.default.decodeResponse(t,n))),e.body=JSON.parse(e.text)}return r.addHeader("x-sessionid",e.header["x-sessionid"]),g=!1,e.header["x-maintenance"]?(r._handleMaintenance(decodeURIComponent(escape(e.header["x-maintenance-text"]||""))),Promise.reject()):Promise.resolve(e)}))},_encryptRequest:function(e){var t=e.method,n=e.path,r=e.headers,i=e.options,o=[t.toUpperCase(),"/"+n,"HTTP/1.1\r\n"].join(" ");if("get"!==t&&(o+="Content-Type: application/json\r\n"),Object.keys(r).forEach(function(e){var t=e+": "+r[e]+"\r\n";o+=t}),i.params){var s=JSON.stringify(i.params);o+="Content-Length: "+s.length+"\r\n",o+="\r\n"+s}else o+="\r\n";var l=(0,a.default)("POST",u.default.API_ROOT).timeout(3e4);return l.type("application/json"),l.send(y.default.encodeRequest(o))},_request:function(e){var t=this,n=e.method,r=e.path,i=e.options,a=i.headers?s.default.extend(i.headers,this._defaultHeaders):this._defaultHeaders;return this.addHeader("x-version",u.default.X_VERSION),this._encryptRequest({method:n,path:r,headers:a,options:i}).catch(function(e){return t._handleError(e)})},_handleMaintenance:function(e){this._errorEvent.emit("maintenance",{text:e})},_handleError:function(e){if(g=!1,e){if(e.timeout)return void this._errorEvent.emit("error",{type:m.TIMEOUT});if(403===e.status)return void this._errorEvent.emit("error",{type:m.FORBIDDEN});var t=e.response;if(t&&this.addHeader("x-sessionid",t.header["x-sessionid"]),p.default.removePreUrlFromStorage(),e.status>=400&&e.status<500)return void(t&&t.body?this._errorEvent.emit("error",{type:m.BAD_REQUEST,response:t.body}):this._errorEvent.emit("error",{type:m.OTHER}));this._errorEvent.emit("error",{type:m.OTHER})}}}},function(e,t){e.exports=function(e){return null==e?"":""+e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),a=r(i),o=n(812),s=r(o),l=n(107),u=r(l),c=n(357),f=r(c),d=n(42),p=r(d),h=n(353),y=r(h),m=n(229),_=r(m),g=n(1006),b=r(g),v=n(114),w=r(v),k=n(97),S=r(k),I=n(66),E=r(I),A=aoba,x=A.game,C=A.loader,T=A.Sound,P=A.soundManager,O=A.sceneManager,N=!1,M=!1,R=function(){var e=!0,t=function t(){if(e){E.default.isChrome()&&aoba.utils.audioContext.resume();var n=new T("sounds/se/002.m4a");n.play(),n.volume=0,n.stop(),e=!1,document.body.removeEventListener("touchend",t),document.body.removeEventListener("mouseup",t)}};document.body.addEventListener("touchend",t),document.body.addEventListener("mouseup",t)},D=function(e){if(!M)return void(M=!0);history.pushState("","",e)},F=function(e){D(e),e.split("/")[1]&&"/login"!==e&&_.default.setPreUrlToStorage(),aoba.utils.isMobile.any&&""!==document.referrer&&S.default.isExternalReferrer()&&S.default.isScreenPortraitOrientation()&&setTimeout(function(){aoba.sceneManager.currentScene.showRecommendLandscapeOrientationDialog()},2e3)},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(N)return Promise.resolve();N=!0;var n=f.default[e];if(E.default.webViewInApp()&&"/"!==e&&""!==e)return window.location.replace(window.location.href),N=!1,new Promise(function(e,t){});var r=void 0;return"function"==typeof n?(t.request=!1!==t.request,r=n(t)):r=a.default.loadSceneAsync(n,t),r.then(function(){var n=t.path||e;F(n),N=!1})},j=function(){var e=[];return e.push(new Promise(function(e){return C.add(y.default).load(e)})),e.push((0,b.default)()),Promise.all(e)},L=function(e,t){if(x.running)return void window.location.reload();j().then(function(){return R(),(0,s.default)(P),O.loadScene("loading",{},!0),x.run(),u.default.start(x),"/_event/:category/:id"===e||"_video"===e?void B(e,{sceneParams:t.params,path:t.path}):""===p.default.PF_URI&&null===localStorage.getItem("userId")||"/login"===e?void B("/login"):void(0,w.default)().then(function(n){var r=n.body;Object.assign(t.params,r,n.headers),r.isCreated?B(e,{sceneParams:t.params,path:t.path}):B("/",{request:!1,sceneParams:t.params})})})};t.default={loadCommonAssets:j,onLoadScene:F,directTo:B,updateHashState:D,init:L}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this._wrapped=e}function i(e,t){"function"==typeof t&&(r.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=t.apply(null,e);return"string"==typeof n?new r(n):n})}r.VERSION="3.3.4",r.isBlank=n(383),r.stripTags=n(860),r.capitalize=n(233),r.decapitalize=n(384),r.chop=n(861),r.trim=n(75),r.clean=n(862),r.cleanDiacritics=n(386),r.count=n(863),r.chars=n(235),r.swapCase=n(864),r.escapeHTML=n(865),r.unescapeHTML=n(867),r.splice=n(387),r.insert=n(869),r.replaceAll=n(870),r.include=n(871),r.join=n(872),r.lines=n(873),r.dedent=n(874),r.reverse=n(875),r.startsWith=n(876),r.endsWith=n(877),r.pred=n(878),r.succ=n(879),r.titleize=n(880),r.camelize=n(390),r.underscored=n(391),r.dasherize=n(392),r.classify=n(881),r.humanize=n(882),r.ltrim=n(883),r.rtrim=n(236),r.truncate=n(884),r.prune=n(885),r.words=n(886),r.pad=n(166),r.lpad=n(887),r.rpad=n(888),r.lrpad=n(889),r.sprintf=n(890),
r.vsprintf=n(891),r.toNumber=n(892),r.numberFormat=n(893),r.strRight=n(894),r.strRightBack=n(895),r.strLeft=n(896),r.strLeftBack=n(897),r.toSentence=n(395),r.toSentenceSerial=n(898),r.slugify=n(899),r.surround=n(396),r.quote=n(900),r.unquote=n(901),r.repeat=n(902),r.naturalCmp=n(903),r.levenshtein=n(904),r.toBoolean=n(905),r.exports=n(906),r.escapeRegExp=n(385),r.wrap=n(907),r.map=n(908),r.strip=r.trim,r.lstrip=r.ltrim,r.rstrip=r.rtrim,r.center=r.lrpad,r.rjust=r.lpad,r.ljust=r.rpad,r.contains=r.include,r.q=r.quote,r.toBool=r.toBoolean,r.camelcase=r.camelize,r.mapChars=r.map,r.prototype={value:function(){return this._wrapped}};for(var a in r)i(a,r[a]);i("tap",function(e,t){return t(e)});var o=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var s in o)!function(e){i(e,function(t){var n=Array.prototype.slice.call(arguments,1);return String.prototype[e].apply(t,n)})}(o[s]);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(110),f=r(c),d=n(168),p=r(d),h=n(161),y=r(h),m={fill:5063497,fontFamily:"HummingStd-E",fontSize:24},_={align:"center",fill:5063497,fontFamily:"HummingStd-E",fontSize:20},g={1:0,2:30,3:10},b=function(e){function t(e){i(this,t);var n=e.size,r=void 0===n?"s":n,o=e.title,s=e.type,l=e.buttons,c=void 0===l?[]:l,d=e.text,h=e.container,b=e.textAnchorY,v=void 0===b?0:b,w=e.height,k=void 0===w?null:w,S=e.isCenter,I=void 0!==S&&S,E=e.marginTop,A=void 0===E?20:E,x=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));x._overlay=(0,y.default)().addTo(x);var C=aoba.Container.new(),T=aoba.Sprite.new("pop_"+r+"_top.png"),P=aoba.Sprite.new("pop_"+r+"_middle.png"),O=aoba.Sprite.new("pop_"+r+"_bottom.png"),N=h||aoba.Container.new(),M=aoba.Container.new();o&&aoba.Text.new(o,m).addTo(T,56,18),d&&aoba.Text.new(d,_).addTo(N,0,0,{anchor:aoba.p(.5,v)}),"close"===s&&c.push({type:"close",image:"close_button.png"}),"submit"===s&&(c.push({type:"close",image:"cancel_button.png"}),c.push({type:"submit",image:"ok_button.png"}));var R=g[c.length];c.forEach(function(e,t){var n=e.buttonClass||("close"===e.type?p.default:f.default),r=n.new(e.image);if(r.addTo(M,(r.width+R)*t,0,{anchor:.5}),e.type?r.on("tap",x[e.type],x):e.callback&&r.on("tap",function(){e.callback(x)}),e.grayFilter){var i=new aoba.filters.ColorMatrixFilter;i.brightness(.6,!0),r.filters=[i],r.interactive=!1}}),M.pivot.set(M.width/2,0);var D=k||N.height;P.height=D+M.height+48,T.addTo(C),P.addTo(C,0,T.height),O.addTo(C,0,T.height+P.height),C.addTo(x,u.default.SCREEN_CENTER.x,u.default.SCREEN_CENTER.y,{pivot:.5});var F=C.width/2,B=void 0;return B=I?C.height/2:T.height+A,N.addTo(C,F,B),M.addTo(C,(C.width+M.children[0].width)/2,C.height-64),x._overlay.alpha=0,x._top=T,x._base=C,x._main=N,x._buttons=M,x._base.scale.set(0),x}return o(t,e),s(t,[{key:"submit",value:function(){this.emit("submit"),this.destroy({children:!0})}},{key:"open",value:function(){var e=this;if(arguments.length>0&&void 0!==arguments[0]&&!arguments[0])return this._overlay.alpha=1,this._base.scale.set(1),void this.emit("openEnd");aoba.Tween.new(this._overlay).to({alpha:1},180),aoba.Tween.new(this._base).to({scaleX:1,scaleY:1},180,"easeOutBack").call(function(){e.emit("openEnd")})}},{key:"close",value:function(){var e=this;aoba.Tween.new(this._overlay).to({alpha:0},180),aoba.Tween.new(this._base).to({scaleX:0,scaleY:0},180,"easeInBack").call(function(){e.emit("closeEnd"),e.destroy({children:!0})})}},{key:"top",get:function(){return this._top}},{key:"base",get:function(){return this._base}},{key:"main",get:function(){return this._main}},{key:"buttons",get:function(){return this._buttons}},{key:"overlay",get:function(){return this._overlay}}]),t}(aoba.Container);t.default=b},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";(function(e){function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return o(this,e,t,n)}function o(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?c(e,t,n):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(s(t),e=i(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n);e=i(e,r);var o=e.write(t,n);return o!==r&&(e=e.slice(0,o)),e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=f(e,t),e}function p(e,t){if(a.isBuffer(t)){var n=0|h(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),a.alloc(+e)}function m(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":
return O(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(a(e,u)===a(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*o}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,d=0;d<l;d++)if(a(e,u+d)!==a(t,d)){f=!1;break}if(f)return u}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function k(e,t,n,r){return X(V(t,e.length-n),e,n,r)}function S(e,t,n,r){return X(K(t),e,n,r)}function I(e,t,n,r){return S(e,t,n,r)}function E(e,t,n,r){return X(q(t),e,n,r)}function A(e,t,n,r){return X(W(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:a<128&&(o=a);break;case 2:l=e[i+1],128==(192&l)&&(f=(31&a)<<6|63&l)>127&&(o=f);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(f=(15&a)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(o=f);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(o=f)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return T(r)}function T(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=$));return n}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=z(e[a]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,r,52,8),n+8}function H(e){if(e=G(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function K(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function q(e){return J.toByteArray(H(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e){return e!==e}var J=n(706),Q=n(707),Z=n(319);t.Buffer=a,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return o(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return l(null,e,t,n)},a.allocUnsafe=function(e){return u(null,e)},a.allocUnsafeSlow=function(e){return u(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):_.apply(this,arguments)},a.prototype.equals=function(e){
if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,l=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=a.prototype;else{var i=t-e;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),Q.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),Q.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),Q.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),Q.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r)D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r)D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){
var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:V(new a(e,r).toString()),l=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(44))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return o(e,t,n)}var a=n(16),o=a.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=a:(r(a,t),t.Buffer=i),r(o,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.folderPath,n=e.interceptor,r=void 0===n?new PIXI.AEDataInterceptor({}):n,i=e.fileName,a=void 0===i?"data.json":i,o=l.default.join("/",c.default.asset.AFTER_EFFECTS_PATH,t,a),s=l.default.basename(o,l.default.extname(o)),u=l.default.join("/assets",h.default.encryptPath(o,s));return new Promise(function(e,n){d.default.get(u).end(function(i,a){if(i)return n(i);var s=JSON.parse(decodeURIComponent(escape(h.default.decryptText(a.text))));return s.assets.forEach(function(e){if(void 0!==e.p&&void 0!==e.u){var n=l.default.join("/",c.default.asset.AFTER_EFFECTS_PATH,t,e.u,e.p),i=l.default.basename(n,l.default.extname(n)),a=l.default.join("/assets",h.default.encryptPath(n,i));r.add(e.id,{imagePath:a}),e.imagePath=a}}),e(PIXI.AEDataLoader.load(s,o,r))})})}function a(e,t){e.forEach(function(e){e.image?e.image.blendMode=t:e.layers&&a(e.layers,t)})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aoba.BLEND_MODES.NORMAL;e&&e.layers&&a(e.layers,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.setBlendMode=t.loadAEData=void 0,t.default=function(e){var t=e.folderPath,n=e.interceptor,r=e.fileName,a=void 0===r?"data.json":r,s=e.blendMode,l=void 0===s?aoba.BLEND_MODES.NORMAL:s;return i({folderPath:t,interceptor:n,fileName:a}).then(function(e){if(e){var t=new PIXI.AfterEffects.fromData(e);return l!==aoba.BLEND_MODES.NORMAL&&o(t,l),Promise.resolve(t)}return Promise.resolve(null)})};var s=n(31),l=r(s),u=n(1),c=r(u),f=n(129),d=r(f),p=n(214),h=r(p);t.loadAEData=i,t.setBlendMode=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=r(i),o=n(13),s=r(o),l=n(1),u=r(l),c=u.default.asset,f=c.ADMIN_UPLOADED_FILE_PATH,d=c.CONTENT_IMAGE_PATH,p=c.MOVIE_PATH,h=c.SPINE_PATH,y=c.VOICE_PATH,m=c.ID_DIGIT_NUMBER,_=c.IMAGE_EXTENSION,g=c.DEFAULT_IMAGE_EXTENSION,b=c.MOVIE_EXTENSION,v=c.SOUND_EXTENSION,w=c.HTML_EXTENSION,k=c.CONCERT_MUSIC_PATH,S=c.SPINE_FILE_NAME,I=function(e,t){return s.default.pad(t,m[e],"0")},E=function(e,t,n){return""+I(e,n)+(_[e]&&_[e][t]||g)},A=function(e,t){return""+I(e,t)+b},x=function(e,t,n){var r=I(e,t);return n?r+"/"+n+v:""+r+v},C={createImagePath:function(e,t,n){return a.default.join(d,e,t,E(e,t,n))},createMoviePath:function(e,t,n){return a.default.join(p,e,t,A(e,n))},createSpinePath:function(e,t,n){return a.default.join(h,e,t,I(e,n),S)},createVoicePath:function(e,t,n){var r=[y,e,x(e,t,n)].filter(function(e){return e});return a.default.join.apply(null,r)},createConcertMusicPath:function(e,t){return a.default.join(k,e,""+I("unit",t)+v)},createAdminImagePath:function(e,t,n){var r=a.default.join(f,e,I(e,t),""+n+g);return r},createAdminHTMLPath:function(e,t){var n=a.default.join(f,e,I(e,t),"index"+w);return n}};t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(32),a=r(i),o=n(228),s=r(o),l=n(811),u=r(l),c=aoba,f=c.sceneManager,d=function(){var e=f.currentScene;return e.showLoadingLayer?e.showLoadingLayer():null};t.default={loadScene:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={additive:!1,sceneParams:{}},r=Object.assign({},n,t),i=r.additive,a=r.sceneParams,o=r.transition,s=f.find(e);if(!s)throw new Error("sceneName "+e+" is not registered.");return(o?o.addTo(aoba.sceneManager.currentScene).play():Promise.resolve()).then(function(){o&&o.remove();var e=s.new(a);return i?aoba.sceneManager.pushScene(e):aoba.sceneManager.replaceScene(e),o&&o.addTo(aoba.sceneManager.currentScene).disappear(),e})},loadSceneAsync:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={additive:!1,request:!0,asset:!0,showLoading:!0,sceneParams:{},requestParams:{}},r=Object.assign({},n,t),i=r.additive,o=r.request,l=r.asset,c=r.showLoading,p=r.sceneParams,h=r.requestParams,y=r.transition,m=void 0;c&&(m=d());var _=f.find(e);if(!_)throw new Error("sceneName "+e+" not found.");return Promise.resolve().then(function(){return _.importModuleAsync()}).then(function(){return o?_.request(h):p}).then(function(e){if(!l)return{params:e};var t=_.getResourceList(e);return(0,a.default)(t).then(function(){return{params:e,resources:t}})}).then(function(e){var t=e.params,n=e.resources,r=Object.keys(p).length&&!0===o?Object.assign({},p,t):t;return(y?y.addTo(aoba.sceneManager.currentScene).play():Promise.resolve()).then(function(){m&&m.fadeOut(),y&&y.remove();var e=void 0;if(!i){var t=n.concat(_.getRequiredBgmResourceNames());e=s.default.extractUnnecessaryResourceNames(t)}var a=_.new(r);return i?aoba.sceneManager.pushScene(a):(aoba.sceneManager.replaceScene(a),(0,u.default)()),aoba.soundManager.removeByGroup("voice"),aoba.soundManager.removeByGroup("se"),e&&s.default.releaseResources(e),y&&y.addTo(aoba.sceneManager.currentScene).disappear(),a})}).catch(function(e){})},loadLoadingScene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.transition;return(t?t.addTo(aoba.sceneManager.currentScene).appear():Promise.resolve()).then(function(){t&&t.destroy();var n=f.find("loading"),r=n.new();if(aoba.sceneManager.replaceScene(r),e.releaseResources){var i=s.default.extractUnnecessaryResourceNames();s.default.releaseResources(i)}return r})}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=aoba,l=s.Container,u=s.Graphics,c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maskX:0,maskY:0};r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.mask=u.new().beginFill(0),
e.round?n.mask.drawRoundedRect(e.maskX,e.maskY,e.width,e.height,e.round):n.mask.drawRect(e.maskX,e.maskY,e.width,e.height),n.mask.addTo(n),n._container=e.container.addTo(n),n._scrollBarBase=e.scrollBarBase,n._scrollBar=e.scrollBar,n._overflow=0,n._scrollOverflow=0,n._time=0,n._prevTime=0,n._swiping=!1,n._prevPosition=null,n._diffPosition=null,n.interactive=!0,n._scrollBarBase&&n._scrollBar&&(n._scrollBar.parent&&n._scrollBar.parent.removeChild(n._scrollBar),n._scrollBarBaseHeight=n._scrollBarBase.height,n._scrollBar.addTo(n._scrollBarBase,(n._scrollBarBase.width-n._scrollBar.width)/2,0),n._updateScrollBarTransform(),n._updateScrollBarPosition()),n.on("touchstart",n._onTouchStart,n),n.on("touchmove",n._onTouchMove,n),n.on("touchend",n._onTouchEnd,n),n.on("touchendoutside",n._onTouchEnd,n),n}return a(t,e),o(t,[{key:"_updateScrollBarPosition",value:function(){if(this._scrollBar){var e=this._scrollBar.y,t=this._scrollBar.y+this._scrollOverflow;this._scrollBar.y=Math.max(this._scrollBar.y,e),this._scrollBar.y=Math.min(this._scrollBar.y,t),this._scrollOverflow>0&&this._updateContainerWithPositionRate(this._scrollBar.y/this._scrollOverflow)}}},{key:"_updateScrollBarTransform",value:function(){if(this._overflow=Math.max(0,this._container.height-this.mask.height),this._scrollBarBase&&this._scrollBar){this._scrollOverflow=this._scrollBarBaseHeight-this._scrollBar.height,this._scrollBarBase.visible=this._overflow>0;var e=this._scrollBar.width,t=Math.min(1,this.mask.height/this._container.height),n=this._scrollBar.width,r=this._scrollBarBaseHeight*t,i=this._scrollBar.fillColor;this._scrollBar.updateMaxY(this._scrollBarBaseHeight-r),this._scrollBar.clear().beginFill(i).drawRoundedRect(0,0,n,r,e/2)}}},{key:"_onTouchStart",value:function(e){this._swiping||(this._diffPosition=null,this._swiping=!0,this._targetInitialPos=this._container.y,this._pointInitialPos=e.data.global.y,this._prevPosition=e.data.global.y,this._prevTime=this._time)}},{key:"_onTouchMove",value:function(e){if(this._swiping){var t=this._targetInitialPos,n=this._pointInitialPos,r=e.data.global.y,i=n-r,a=this._time-this._prevTime;this._container.interactiveChildren&&Math.abs(i)>=8&&(this._container.interactiveChildren=!1),this._updateContainerPos(t-i),this._diffPosition=a>0?(r-this._prevPosition)/a:0,this._prevPosition=r,this._prevTime=this._time,this._checkBorder()}}},{key:"_onTouchEnd",value:function(){this._swiping&&(this._swiping=!1,this._container.interactiveChildren=!0)}},{key:"_checkBorder",value:function(){this._container.y>0&&this._updateContainerPos(0),this._container.y<-this._overflow&&this._updateContainerPos(-this._overflow)}},{key:"_updateContainerPos",value:function(e){if(this._container.y=e,this._scrollBar){var t=this._overflow>0?-e/this._overflow:0;this._scrollBar.y=this._scrollOverflow*t}}},{key:"_updateContainerWithPositionRate",value:function(e){this._container.y=-this._overflow*e}},{key:"ezgUpdate",value:function(e){if(this._time+=e,this._updateScrollBarTransform(),this._updateScrollBarPosition(),!this._swiping&&this._diffPosition){var t=this._diffPosition;this._updateContainerPos(this._container.y+t*e),this._checkBorder(),t*=Math.pow(.92,e/(1e3/60)),Math.abs(t)<.02&&(t=null),this._diffPosition=t}}},{key:"containerBottomY",get:function(){return-this._overflow}}]),t}(l);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"destroy",value:function(e){this.parent&&this.parent.removeChild(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this,e)}}]),t}(PIXI.Container),u=function(e){function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{autoDestroy:!0};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._container=new l;var s=void 0,u=!1;return"string"==typeof e[0]?s=e.map(function(e){return aoba.Texture.fromImage(e)}):(s=e.map(function(e){var t=Object.assign({},e);return t.textures=e.textures.map(function(e){return aoba.Texture.fromImage(e)}),t}),u=!0),o._emitter=new pixiParticles.Emitter(o._container,s,aoba.loader.resources[n].data),u&&(o._emitter.particleConstructor=pixiParticles.AnimatedParticle),a.autoDestroy&&o._container.on("removed",o.destroy,o),o}return a(t,e),o(t,[{key:"setPosition",value:function(e,t){this._emitter.updateSpawnPos(e,t)}},{key:"setScale",value:function(e,t){this._container.scale.set(e,t)}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cb,n=e.startTime;this._emitter.playOnce(t),n&&this._emitter.update(e.startTime)}},{key:"playAndDestroy",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.cb,r=t.startTime;this._emitter.playOnceAndDestroy(function(){n&&n(),e.destroy()}),r&&this._emitter.update(t.startTime)}},{key:"stop",value:function(){this._emitter.emit=!1}},{key:"stopAndDestroy",value:function(){var e=this;this.stop(),setTimeout(function(){e.destroy()},1e3*this.maxLifetime)}},{key:"destroy",value:function(){this._emitter&&(this._emitter.destroy(),this._emitter=null),this._container&&(this._container.destroy(),this._container=null),this.emit("destroyed")}},{key:"emitter",get:function(){return this._emitter}},{key:"maxLifetime",get:function(){return this._emitter.maxLifetime}},{key:"container",get:function(){return this._container}},{key:"x",get:function(){return this._emitter.spawnPos.x},set:function(e){this._emitter.spawnPos.x=e}},{key:"y",get:function(){return this._emitter.spawnPos.y},set:function(e){this._emitter.spawnPos.y=e}},{key:"alpha",get:function(){return this._container.alpha},set:function(e){this._container.alpha=e}}]),t}(aoba.utils.EventEmitter);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(916),l=aoba,u=l.Graphics,c=function(e){function t(e){var n;r(this,t);var a=e.width;return(n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))).beginFill(16777215).drawRoundedRect(0,0,a,0,a/2),
n.filters=[new s.OutlineFilter(2,6378598)],n._swiping=!1,n._prevPosition=null,n._diffPosition=null,n.interactive=!0,n.on("touchstart",n._onTouchStart,n),n.on("touchmove",n._onTouchMove,n),n.on("touchend",n._onTouchEnd,n),n.on("touchendoutside",n._onTouchEnd,n),n}return a(t,e),o(t,[{key:"updateMaxY",value:function(e){this._maxY=e}},{key:"_onTouchStart",value:function(e){this._swiping||(this._swiping=!0,this._startY=this.y,this._pointerStartY=e.data.global.y)}},{key:"_onTouchMove",value:function(e){if(this._swiping){var t=this._startY+(e.data.global.y-this._pointerStartY);t=Math.max(0,t),t=Math.min(this._maxY,t),this.y=t,this.emit("moved")}}},{key:"_onTouchEnd",value:function(){this._swiping&&(this._swiping=!1)}}]),t}(u);t.default=c},function(e,t,n){var r=n(141)("wks"),i=n(85),a=n(11).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ready:{start:"sounds/se/301.m4a"},commu:{tensionUp:"sounds/se/206.m4a",tensionDown:"sounds/se/220.m4a",memoryUp:"sounds/se/210.m4a",statusUp:"sounds/se/219.m4a",answerSelect:"sounds/se/227.m4a",result:{normal:"sounds/se/207.m4a",good:"sounds/se/208.m4a",perfect:"sounds/se/209.m4a"},promise:{agree:"sounds/se/231.m4a",disagree:"sounds/se/220.m4a"}},tvShow:{fan:"sounds/se/260.m4a"},activity:{statusRankUp:"sounds/se/259.m4a",friendshipPointUp:"sounds/se/222.m4a",stageLevelUp:"sounds/se/258.m4a",staminaRecover:"sounds/se/260.m4a",result:{cutIn:{success:"sounds/se/173.m4a",normal:"sounds/se/260.m4a",failure:"sounds/se/261.m4a",critical:"sounds/se/172.m4a",excellent:"sounds/se/175.m4a",perfectExcellent:"sounds/se/174.m4a"},stage:{success:"sounds/se/221.m4a",failure:"sounds/se/220.m4a"}},promiseResult:{success:"sounds/se/221.m4a",failure:"sounds/se/220.m4a"}},idolRank:{fanCountUp:"sounds/se/223.m4a",fanCountStop:"sounds/se/236.m4a",fanCountMax:"sounds/se/224.m4a",rankUp:"sounds/se/225.m4a",rankUpEffect:"sounds/se/226.m4a"},supportSkill:{cutIn:"sounds/se/262.m4a"}}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(8),i=n(285),a=n(60),o=Object.defineProperty;t.f=n(27)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(62),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t,n){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}function o(e,t,n){for(var r=0,i=Math.min(e.length,n),a=t;a<i;a++){var o=e.charCodeAt(a)-48;r<<=4,r|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return r}function s(e,t,n,r){for(var i=0,a=Math.min(e.length,n),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function l(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}function u(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,l=o/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,f=67108863&l,d=Math.min(u,t.length-1),p=Math.max(0,u-e.length+1);p<=d;p++){var h=u-p|0;i=0|e.words[h],a=0|t.words[p],o=i*a+f,c+=o/67108864|0,f=67108863&o}n.words[u]=0|f,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}function c(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var o=i;i=0;for(var s=67108863&r,l=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=l;u++){var c=a-u,f=0|e.words[c],d=0|t.words[u],p=f*d,h=67108863&p;o=o+(p/67108864|0)|0,h=h+s|0,s=67108863&h,o=o+(h>>>26)|0,i+=o>>>26,o&=67108863}n.words[a]=s,r=o,o=i}return 0!==r?n.words[a]=r:n.length--,n.strip()}function f(e,t,n){return(new d).mulp(e,t,n)}function d(e,t){this.x=e,this.y=t}function p(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function h(){p.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){p.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function m(){p.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){p.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function b(e){g.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;var v;try{v=n(747).Buffer}catch(e){}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var i=0;"-"===e[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,a=0;for(n=e.length-6,r=0;n>=t;n-=6)i=o(e,n,n+6),this.words[r]|=i<<a&67108863,this.words[r+1]|=i>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);n+6!==t&&(i=o(e,t,n+6),this.words[r]|=i<<a&67108863,this.words[r+1]|=i>>>26-a&4194303),this.strip()},a.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,o=a%r,l=Math.min(a,a-o)+n,u=0,c=n;c<l;c+=r)u=s(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=s(e,c,e.length,t),c=0;c<o;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e
},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,t){e=e||10,t=0|t||1;var n;if(16===e||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],l=(16777215&(s<<i|a)).toString(16);a=s>>>24-i&16777215,n=0!==a||o!==this.length-1?w[6-l.length]+l+n:l+n,i+=2,i>=26&&(i-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=k[e],c=S[e];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modn(c).toString(e);f=f.idivn(c),n=f.isZero()?d+n:w[u-d.length]+d+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==v),this.toArrayLike(v,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var o,s,l="le"===t,u=new e(a),c=this.clone();if(l){for(s=0;!c.isZero();s++)o=c.andln(255),c.iushrn(8),u[s]=o;for(;s<a;s++)u[s]=0}else{for(s=0;s<a-i;s++)u[s]=0;for(s=0;!c.isZero();s++)o=c.andln(255),c.iushrn(8),u[a-s-1]=o}return u},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},a.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var n,r;this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=e):(r=e,i=this);for(var a=0,o=0;o<i.length;o++)t=(0|r.words[o])-(0|i.words[o])+a,a=t>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)t=(0|r.words[o])+a,a=t>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var I=function(e,t,n){
var r,i,a,o=e.words,s=t.words,l=n.words,u=0,c=0|o[0],f=8191&c,d=c>>>13,p=0|o[1],h=8191&p,y=p>>>13,m=0|o[2],_=8191&m,g=m>>>13,b=0|o[3],v=8191&b,w=b>>>13,k=0|o[4],S=8191&k,I=k>>>13,E=0|o[5],A=8191&E,x=E>>>13,C=0|o[6],T=8191&C,P=C>>>13,O=0|o[7],N=8191&O,M=O>>>13,R=0|o[8],D=8191&R,F=R>>>13,B=0|o[9],j=8191&B,L=B>>>13,U=0|s[0],H=8191&U,G=U>>>13,z=0|s[1],V=8191&z,K=z>>>13,W=0|s[2],q=8191&W,X=W>>>13,Y=0|s[3],J=8191&Y,Q=Y>>>13,Z=0|s[4],$=8191&Z,ee=Z>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],le=8191&se,ue=se>>>13,ce=0|s[8],fe=8191&ce,de=ce>>>13,pe=0|s[9],he=8191&pe,ye=pe>>>13;n.negative=e.negative^t.negative,n.length=19,r=Math.imul(f,H),i=Math.imul(f,G),i=i+Math.imul(d,H)|0,a=Math.imul(d,G);var me=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(h,H),i=Math.imul(h,G),i=i+Math.imul(y,H)|0,a=Math.imul(y,G),r=r+Math.imul(f,V)|0,i=i+Math.imul(f,K)|0,i=i+Math.imul(d,V)|0,a=a+Math.imul(d,K)|0;var _e=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(_,H),i=Math.imul(_,G),i=i+Math.imul(g,H)|0,a=Math.imul(g,G),r=r+Math.imul(h,V)|0,i=i+Math.imul(h,K)|0,i=i+Math.imul(y,V)|0,a=a+Math.imul(y,K)|0,r=r+Math.imul(f,q)|0,i=i+Math.imul(f,X)|0,i=i+Math.imul(d,q)|0,a=a+Math.imul(d,X)|0;var ge=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(v,H),i=Math.imul(v,G),i=i+Math.imul(w,H)|0,a=Math.imul(w,G),r=r+Math.imul(_,V)|0,i=i+Math.imul(_,K)|0,i=i+Math.imul(g,V)|0,a=a+Math.imul(g,K)|0,r=r+Math.imul(h,q)|0,i=i+Math.imul(h,X)|0,i=i+Math.imul(y,q)|0,a=a+Math.imul(y,X)|0,r=r+Math.imul(f,J)|0,i=i+Math.imul(f,Q)|0,i=i+Math.imul(d,J)|0,a=a+Math.imul(d,Q)|0;var be=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,H),i=Math.imul(S,G),i=i+Math.imul(I,H)|0,a=Math.imul(I,G),r=r+Math.imul(v,V)|0,i=i+Math.imul(v,K)|0,i=i+Math.imul(w,V)|0,a=a+Math.imul(w,K)|0,r=r+Math.imul(_,q)|0,i=i+Math.imul(_,X)|0,i=i+Math.imul(g,q)|0,a=a+Math.imul(g,X)|0,r=r+Math.imul(h,J)|0,i=i+Math.imul(h,Q)|0,i=i+Math.imul(y,J)|0,a=a+Math.imul(y,Q)|0,r=r+Math.imul(f,$)|0,i=i+Math.imul(f,ee)|0,i=i+Math.imul(d,$)|0,a=a+Math.imul(d,ee)|0;var ve=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(A,H),i=Math.imul(A,G),i=i+Math.imul(x,H)|0,a=Math.imul(x,G),r=r+Math.imul(S,V)|0,i=i+Math.imul(S,K)|0,i=i+Math.imul(I,V)|0,a=a+Math.imul(I,K)|0,r=r+Math.imul(v,q)|0,i=i+Math.imul(v,X)|0,i=i+Math.imul(w,q)|0,a=a+Math.imul(w,X)|0,r=r+Math.imul(_,J)|0,i=i+Math.imul(_,Q)|0,i=i+Math.imul(g,J)|0,a=a+Math.imul(g,Q)|0,r=r+Math.imul(h,$)|0,i=i+Math.imul(h,ee)|0,i=i+Math.imul(y,$)|0,a=a+Math.imul(y,ee)|0,r=r+Math.imul(f,ne)|0,i=i+Math.imul(f,re)|0,i=i+Math.imul(d,ne)|0,a=a+Math.imul(d,re)|0;var we=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(T,H),i=Math.imul(T,G),i=i+Math.imul(P,H)|0,a=Math.imul(P,G),r=r+Math.imul(A,V)|0,i=i+Math.imul(A,K)|0,i=i+Math.imul(x,V)|0,a=a+Math.imul(x,K)|0,r=r+Math.imul(S,q)|0,i=i+Math.imul(S,X)|0,i=i+Math.imul(I,q)|0,a=a+Math.imul(I,X)|0,r=r+Math.imul(v,J)|0,i=i+Math.imul(v,Q)|0,i=i+Math.imul(w,J)|0,a=a+Math.imul(w,Q)|0,r=r+Math.imul(_,$)|0,i=i+Math.imul(_,ee)|0,i=i+Math.imul(g,$)|0,a=a+Math.imul(g,ee)|0,r=r+Math.imul(h,ne)|0,i=i+Math.imul(h,re)|0,i=i+Math.imul(y,ne)|0,a=a+Math.imul(y,re)|0,r=r+Math.imul(f,ae)|0,i=i+Math.imul(f,oe)|0,i=i+Math.imul(d,ae)|0,a=a+Math.imul(d,oe)|0;var ke=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(N,H),i=Math.imul(N,G),i=i+Math.imul(M,H)|0,a=Math.imul(M,G),r=r+Math.imul(T,V)|0,i=i+Math.imul(T,K)|0,i=i+Math.imul(P,V)|0,a=a+Math.imul(P,K)|0,r=r+Math.imul(A,q)|0,i=i+Math.imul(A,X)|0,i=i+Math.imul(x,q)|0,a=a+Math.imul(x,X)|0,r=r+Math.imul(S,J)|0,i=i+Math.imul(S,Q)|0,i=i+Math.imul(I,J)|0,a=a+Math.imul(I,Q)|0,r=r+Math.imul(v,$)|0,i=i+Math.imul(v,ee)|0,i=i+Math.imul(w,$)|0,a=a+Math.imul(w,ee)|0,r=r+Math.imul(_,ne)|0,i=i+Math.imul(_,re)|0,i=i+Math.imul(g,ne)|0,a=a+Math.imul(g,re)|0,r=r+Math.imul(h,ae)|0,i=i+Math.imul(h,oe)|0,i=i+Math.imul(y,ae)|0,a=a+Math.imul(y,oe)|0,r=r+Math.imul(f,le)|0,i=i+Math.imul(f,ue)|0,i=i+Math.imul(d,le)|0,a=a+Math.imul(d,ue)|0;var Se=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,H),i=Math.imul(D,G),i=i+Math.imul(F,H)|0,a=Math.imul(F,G),r=r+Math.imul(N,V)|0,i=i+Math.imul(N,K)|0,i=i+Math.imul(M,V)|0,a=a+Math.imul(M,K)|0,r=r+Math.imul(T,q)|0,i=i+Math.imul(T,X)|0,i=i+Math.imul(P,q)|0,a=a+Math.imul(P,X)|0,r=r+Math.imul(A,J)|0,i=i+Math.imul(A,Q)|0,i=i+Math.imul(x,J)|0,a=a+Math.imul(x,Q)|0,r=r+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,i=i+Math.imul(I,$)|0,a=a+Math.imul(I,ee)|0,r=r+Math.imul(v,ne)|0,i=i+Math.imul(v,re)|0,i=i+Math.imul(w,ne)|0,a=a+Math.imul(w,re)|0,r=r+Math.imul(_,ae)|0,i=i+Math.imul(_,oe)|0,i=i+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0,r=r+Math.imul(h,le)|0,i=i+Math.imul(h,ue)|0,i=i+Math.imul(y,le)|0,a=a+Math.imul(y,ue)|0,r=r+Math.imul(f,fe)|0,i=i+Math.imul(f,de)|0,i=i+Math.imul(d,fe)|0,a=a+Math.imul(d,de)|0;var Ie=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(j,H),i=Math.imul(j,G),i=i+Math.imul(L,H)|0,a=Math.imul(L,G),r=r+Math.imul(D,V)|0,i=i+Math.imul(D,K)|0,i=i+Math.imul(F,V)|0,a=a+Math.imul(F,K)|0,r=r+Math.imul(N,q)|0,i=i+Math.imul(N,X)|0,i=i+Math.imul(M,q)|0,a=a+Math.imul(M,X)|0,r=r+Math.imul(T,J)|0,i=i+Math.imul(T,Q)|0,i=i+Math.imul(P,J)|0,a=a+Math.imul(P,Q)|0,r=r+Math.imul(A,$)|0,i=i+Math.imul(A,ee)|0,i=i+Math.imul(x,$)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(S,ne)|0,i=i+Math.imul(S,re)|0,i=i+Math.imul(I,ne)|0,a=a+Math.imul(I,re)|0,r=r+Math.imul(v,ae)|0,i=i+Math.imul(v,oe)|0,i=i+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,r=r+Math.imul(_,le)|0,i=i+Math.imul(_,ue)|0,i=i+Math.imul(g,le)|0,a=a+Math.imul(g,ue)|0,r=r+Math.imul(h,fe)|0,i=i+Math.imul(h,de)|0,i=i+Math.imul(y,fe)|0,a=a+Math.imul(y,de)|0,r=r+Math.imul(f,he)|0,i=i+Math.imul(f,ye)|0,i=i+Math.imul(d,he)|0,a=a+Math.imul(d,ye)|0;var Ee=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(j,V),i=Math.imul(j,K),i=i+Math.imul(L,V)|0,a=Math.imul(L,K),r=r+Math.imul(D,q)|0,i=i+Math.imul(D,X)|0,i=i+Math.imul(F,q)|0,a=a+Math.imul(F,X)|0,r=r+Math.imul(N,J)|0,i=i+Math.imul(N,Q)|0,i=i+Math.imul(M,J)|0,a=a+Math.imul(M,Q)|0,r=r+Math.imul(T,$)|0,i=i+Math.imul(T,ee)|0,i=i+Math.imul(P,$)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(A,ne)|0,i=i+Math.imul(A,re)|0,i=i+Math.imul(x,ne)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(S,ae)|0,i=i+Math.imul(S,oe)|0,i=i+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,r=r+Math.imul(v,le)|0,i=i+Math.imul(v,ue)|0,i=i+Math.imul(w,le)|0,a=a+Math.imul(w,ue)|0,r=r+Math.imul(_,fe)|0,i=i+Math.imul(_,de)|0,i=i+Math.imul(g,fe)|0,a=a+Math.imul(g,de)|0,r=r+Math.imul(h,he)|0,i=i+Math.imul(h,ye)|0,i=i+Math.imul(y,he)|0,a=a+Math.imul(y,ye)|0;var Ae=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(j,q),i=Math.imul(j,X),i=i+Math.imul(L,q)|0,a=Math.imul(L,X),r=r+Math.imul(D,J)|0,i=i+Math.imul(D,Q)|0,i=i+Math.imul(F,J)|0,a=a+Math.imul(F,Q)|0,r=r+Math.imul(N,$)|0,i=i+Math.imul(N,ee)|0,i=i+Math.imul(M,$)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(T,ne)|0,i=i+Math.imul(T,re)|0,i=i+Math.imul(P,ne)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(A,ae)|0,i=i+Math.imul(A,oe)|0,i=i+Math.imul(x,ae)|0,a=a+Math.imul(x,oe)|0,r=r+Math.imul(S,le)|0,i=i+Math.imul(S,ue)|0,i=i+Math.imul(I,le)|0,a=a+Math.imul(I,ue)|0,r=r+Math.imul(v,fe)|0,i=i+Math.imul(v,de)|0,i=i+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0,r=r+Math.imul(_,he)|0,i=i+Math.imul(_,ye)|0,i=i+Math.imul(g,he)|0,a=a+Math.imul(g,ye)|0;var xe=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(j,J),i=Math.imul(j,Q),i=i+Math.imul(L,J)|0,a=Math.imul(L,Q),r=r+Math.imul(D,$)|0,i=i+Math.imul(D,ee)|0,i=i+Math.imul(F,$)|0,a=a+Math.imul(F,ee)|0,r=r+Math.imul(N,ne)|0,i=i+Math.imul(N,re)|0,i=i+Math.imul(M,ne)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(T,ae)|0,i=i+Math.imul(T,oe)|0,i=i+Math.imul(P,ae)|0,a=a+Math.imul(P,oe)|0,r=r+Math.imul(A,le)|0,i=i+Math.imul(A,ue)|0,i=i+Math.imul(x,le)|0,a=a+Math.imul(x,ue)|0,
r=r+Math.imul(S,fe)|0,i=i+Math.imul(S,de)|0,i=i+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0,r=r+Math.imul(v,he)|0,i=i+Math.imul(v,ye)|0,i=i+Math.imul(w,he)|0,a=a+Math.imul(w,ye)|0;var Ce=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(j,$),i=Math.imul(j,ee),i=i+Math.imul(L,$)|0,a=Math.imul(L,ee),r=r+Math.imul(D,ne)|0,i=i+Math.imul(D,re)|0,i=i+Math.imul(F,ne)|0,a=a+Math.imul(F,re)|0,r=r+Math.imul(N,ae)|0,i=i+Math.imul(N,oe)|0,i=i+Math.imul(M,ae)|0,a=a+Math.imul(M,oe)|0,r=r+Math.imul(T,le)|0,i=i+Math.imul(T,ue)|0,i=i+Math.imul(P,le)|0,a=a+Math.imul(P,ue)|0,r=r+Math.imul(A,fe)|0,i=i+Math.imul(A,de)|0,i=i+Math.imul(x,fe)|0,a=a+Math.imul(x,de)|0,r=r+Math.imul(S,he)|0,i=i+Math.imul(S,ye)|0,i=i+Math.imul(I,he)|0,a=a+Math.imul(I,ye)|0;var Te=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(j,ne),i=Math.imul(j,re),i=i+Math.imul(L,ne)|0,a=Math.imul(L,re),r=r+Math.imul(D,ae)|0,i=i+Math.imul(D,oe)|0,i=i+Math.imul(F,ae)|0,a=a+Math.imul(F,oe)|0,r=r+Math.imul(N,le)|0,i=i+Math.imul(N,ue)|0,i=i+Math.imul(M,le)|0,a=a+Math.imul(M,ue)|0,r=r+Math.imul(T,fe)|0,i=i+Math.imul(T,de)|0,i=i+Math.imul(P,fe)|0,a=a+Math.imul(P,de)|0,r=r+Math.imul(A,he)|0,i=i+Math.imul(A,ye)|0,i=i+Math.imul(x,he)|0,a=a+Math.imul(x,ye)|0;var Pe=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(j,ae),i=Math.imul(j,oe),i=i+Math.imul(L,ae)|0,a=Math.imul(L,oe),r=r+Math.imul(D,le)|0,i=i+Math.imul(D,ue)|0,i=i+Math.imul(F,le)|0,a=a+Math.imul(F,ue)|0,r=r+Math.imul(N,fe)|0,i=i+Math.imul(N,de)|0,i=i+Math.imul(M,fe)|0,a=a+Math.imul(M,de)|0,r=r+Math.imul(T,he)|0,i=i+Math.imul(T,ye)|0,i=i+Math.imul(P,he)|0,a=a+Math.imul(P,ye)|0;var Oe=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(j,le),i=Math.imul(j,ue),i=i+Math.imul(L,le)|0,a=Math.imul(L,ue),r=r+Math.imul(D,fe)|0,i=i+Math.imul(D,de)|0,i=i+Math.imul(F,fe)|0,a=a+Math.imul(F,de)|0,r=r+Math.imul(N,he)|0,i=i+Math.imul(N,ye)|0,i=i+Math.imul(M,he)|0,a=a+Math.imul(M,ye)|0;var Ne=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(j,fe),i=Math.imul(j,de),i=i+Math.imul(L,fe)|0,a=Math.imul(L,de),r=r+Math.imul(D,he)|0,i=i+Math.imul(D,ye)|0,i=i+Math.imul(F,he)|0,a=a+Math.imul(F,ye)|0;var Me=(u+r|0)+((8191&i)<<13)|0;u=(a+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(j,he),i=Math.imul(j,ye),i=i+Math.imul(L,he)|0,a=Math.imul(L,ye);var Re=(u+r|0)+((8191&i)<<13)|0;return u=(a+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,l[0]=me,l[1]=_e,l[2]=ge,l[3]=be,l[4]=ve,l[5]=we,l[6]=ke,l[7]=Se,l[8]=Ie,l[9]=Ee,l[10]=Ae,l[11]=xe,l[12]=Ce,l[13]=Te,l[14]=Pe,l[15]=Oe,l[16]=Ne,l[17]=Me,l[18]=Re,0!==u&&(l[19]=u,n.length++),n};Math.imul||(I=u),a.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?I(this,e,t):n<63?u(this,e,t):n<1024?c(this,e,t):f(this,e,t)},d.prototype.makeRBT=function(e){for(var t=new Array(e),n=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},d.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},d.prototype.permute=function(e,t,n,r,i,a){for(var o=0;o<a;o++)r[o]=t[e[o]],i[o]=n[e[o]]},d.prototype.transform=function(e,t,n,r,i,a){this.permute(a,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=l,d=u,p=0;p<o;p++){var h=n[c+p],y=r[c+p],m=n[c+p+o],_=r[c+p+o],g=f*m-d*_;_=f*_+d*m,m=g,n[c+p]=h+m,r[c+p]=y+_,n[c+p+o]=h-m,r[c+p+o]=y-_,p!==s&&(g=l*f-u*d,d=l*d+u*f,f=g)}},d.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},d.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},d.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},d.prototype.convert13b=function(e,t,n,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===a),r(0==(-8192&a))},d.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},d.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),a=this.stub(r),o=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,u,r),this.transform(o,a,s,l,r,i),this.transform(u,a,c,f,r,i);for(var p=0;p<r;p++){var h=s[p]*c[p]-l[p]*f[p];l[p]=s[p]*f[p]+l[p]*c[p],s[p]=h}return this.conjugate(s,l,r),this.transform(s,l,d,a,r,i),this.conjugate(d,a,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),f(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=l(e);if(0===t.length)return new a(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,l=(0|this.words[t])-s<<n;this.words[t]=l|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,n){r("number"==typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,l=n;if(i-=o,i=Math.max(0,i),l){for(var u=0;u<o;u++)l.words[u]=this.words[u];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-a|f>>>a,c=f&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e
;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var i,a=e.length+n;this._expand(a);var o,s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var l=(0|e.words[i])*t;o-=67108863&l,s=(o>>26)-(l/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)o=(0|this.words[i+n])+s,s=o>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)o=-(0|this.words[i])+s,s=o>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var s,l=r.length-i.length;if("mod"!==t){s=new a(null),s.length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var c=r.clone()._ishlnsubmul(i,1,l);0===c.negative&&(r=c,s&&(s.words[l]=1));for(var f=l-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},a.prototype.divmod=function(e,t,n){if(r(!e.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var i,o,s;return 0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t)},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),l=new a(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=t.clone();!t.isZero();){for(var d=0,p=1;0==(t.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var h=0,y=1;0==(n.words[0]&y)&&h<26;++h,y<<=1);if(h>0)for(n.iushrn(h);h-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(f)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),o.isub(l)):(n.isub(t),s.isub(i),l.isub(o))}return{a:s,b:l,gcd:n.iushln(u)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(o)):(n.isub(t),o.isub(i))}var d;return d=0===t.cmpn(1)?i:o,d.cmpn(0)<0&&d.iadd(e),d},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];s+=a,a=s>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var n;if(this.length>1)n=1;else{t&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];n=i===e?0:i<e?-1:1}return 0!==this.negative?0|-n:n},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new g(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){
return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};p.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},p.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),t=n.bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},p.prototype.split=function(e,t){e.iushrn(this.n,0,t)},p.prototype.imulK=function(e){return e.imul(this.k)},i(h,p),h.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(4194303&a)<<4|i>>>22,i=a}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},h.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(y,p),i(m,p),i(_,p),_.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(E[e])return E[e];var t;if("k256"===e)t=new h;else if("p224"===e)t=new y;else if("p192"===e)t=new m;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return E[e]=t,t},g.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},g.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},g.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},g.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},g.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},g.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},g.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},g.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},g.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},g.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},g.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},g.prototype.isqr=function(e){return this.imul(e,e.clone())},g.prototype.sqr=function(e){return this.mul(e,e)},g.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var s=new a(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var f=this.pow(c,i),d=this.pow(e,i.addn(1).iushrn(1)),p=this.pow(e,i),h=o;0!==p.cmp(s);){for(var y=p,m=0;0!==y.cmp(s);m++)y=y.redSqr();r(m<h);var _=this.pow(f,new a(1).iushln(h-m-1));d=d.redMul(_),f=_.redSqr(),p=p.redMul(f),h=m}return d},g.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},g.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new a(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],c=l-1;c>=0;c--){var f=u>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[o]),s=0,o=0)):s=0}l=26}return i},g.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},g.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new b(e)},i(b,g),b.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},b.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},b.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},b.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},b.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,n(746)(e))},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),a="/"===o(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,l=0;l<o;l++)if(i[l]!==a[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");return u=u.concat(a.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=a(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},
t.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return a(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=aoba,o=a.loader,s=function(e){var t=i.default.uniq(e,!1,function(e){return e.name||e}),n=Object.keys(o.resources),r=t.filter(function(e){return!n.includes(e.name||e)});return i.default.uniq(r)},l=function e(t,n){var r=s(t);return 0===r.length?void n():o.loading?void o.onComplete.once(function(){e(r,n)}):(o.add(r),void o.onComplete.once(n))},u=function(e){return new Promise(function(t){l(e,t)})};t.default=u},function(e,t,n){var r=n(61);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=r(i),o=n(231),s=r(o),l=n(26),u=r(l),c=n(164),f=r(c),d=n(839),p=r(d),h=n(376),y=r(h),m=n(840),_=r(m);t.default={common:a.default,start:s.default,produce:u.default,concertResult:f.default,skillBoard:p.default,loginBonus:y.default,ending:_.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={prepare:"sounds/se/138.m4a",start:"sounds/se/139.m4a",turnStart:"sounds/se/140.m4a",passiveSkill:"sounds/se/033.m4a",drawCard:"sounds/se/142.m4a",increaseMemory:"sounds/se/143.m4a",maxMemory:"sounds/se/144.m4a",selectCard:"sounds/se/145.m4a",showAttackOrder:"sounds/se/146.m4a",selectJudgeTarget:"sounds/se/147.m4a",gaugeStart:"sounds/se/148.m4a",gaugeBad:"sounds/se/149.m4a",gaugeNormal:"sounds/se/150.m4a",gaugeGood:"sounds/se/151.m4a",gaugePerfect:"sounds/se/152.m4a",appealStart:"sounds/se/153.m4a",showDamageText:"sounds/se/154.m4a",hitIdolAppeal:"sounds/se/155.m4a",audienceVoice:"sounds/se/162.m4a",idolReceiveDamage:"sounds/se/165.m4a",idolSpecialAttack:"sounds/se/193.m4a",idolNormalAttack:"sounds/se/194.m4a",reachJudgeGauge:"sounds/se/156a.m4a",giveBonus1:"sounds/se/156b2.m4a",giveBonus2:"sounds/se/156c2.m4a",linkSkill:"sounds/se/157.m4a",startMemoryRoulette:"sounds/se/166.m4a",memoryRouletteGood:"sounds/se/167.m4a",memoryRouletteBad:"sounds/se/168.m4a",memoryRouletteMiss:"sounds/se/169.m4a",showMemoryCutIn:"sounds/se/170.m4a",showBuffEffect:"sounds/se/114a.m4a",showDebuffEffect:"sounds/se/115.m4a",showRecoverEffect:"sounds/se/116.m4a",idolRetire:"sounds/se/concert_result/0135.m4a"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{type:"by",props:{y:40},frame:10,easing:"easeInOutQuad"}],i=[{type:"by",props:{y:-40},frame:10,easing:"easeInOutQuad"}];t.activeSkillCutIn={fadeInSkillInfo:[{type:"to",props:{alpha:1},frame:10,easing:"easeInOutQuad"}],fadeOut:[{type:"by",props:{alpha:-1,x:-4},frame:4}]},t.playerSkillCutIn={slideInBase:[{type:"by",props:{x:-680},frame:5,easing:"easeInOutQuart"},{type:"by",props:{x:-20},frame:42},{event:"fadeOut"},{type:"by",props:{x:-1},frame:4}],slideInIdol:[{type:"by",props:{x:-270},frame:4,easing:"easeInQuad"},{type:"by",props:{x:-605},frame:8,easing:"easeOutQuad"},{type:"by",props:{x:-15},frame:42},{type:"by",props:{x:-1},frame:4}]},t.rivalSkillCutIn={slideInBase:[{type:"by",props:{x:-680},frame:5,easing:"easeInOutQuart"},{type:"by",props:{x:-20},frame:30},{event:"fadeOut"},{type:"by",props:{x:-1},frame:4}],slideInIdol:[{type:"by",props:{x:-420},frame:5,easing:"easeInOutQuart"},{type:"by",props:{x:-15},frame:24},{type:"by",props:{x:-1},frame:4}]},t.idolAttackDamageText={appear:[{type:"to",props:{scaleX:1.1,scaleY:1.1},frame:3},{type:"to",props:{scaleX:.96,scaleY:.96},frame:3},{type:"to",props:{scaleX:1,scaleY:1},frame:5},{type:"to",props:{scaleX:1.2,scaleY:1.2},frame:6}],hit:[{type:"set",props:{scaleX:.8,scaleY:.8}},{type:"by",props:{y:-15},frame:3,easing:"easeInOutQuad"},{type:"by",props:{y:15},frame:5,easing:"easeInOutQuad"},{wait:6},{type:"to",props:{alpha:0},frame:10}],appearFromRival:[{type:"to",props:{scaleX:1.1,scaleY:1.1},frame:3},{type:"to",props:{scaleX:.9,scaleY:.9},frame:3},{wait:12},{type:"to",props:{alpha:0},frame:4}]},t.judge={moveArrow:[{type:"by",props:{x:-10},frame:15,easing:"easeInOutQuad"},{type:"by",props:{x:10},frame:15,easing:"easeInOutQuad"}],targetFrame:[{type:"to",props:{scaleX:1.3,scaleY:1.3,alpha:0},frame:19}],goForward:[{type:"by",props:{x:100,scaleX:.2,scaleY:.2},frame:5,easing:"easeInOutQuad"}],backFromForward:[{type:"by",props:{x:-100,scaleX:-.2,scaleY:-.2},frame:5,easing:"easeInOutQuad"}],goBackward:[{type:"by",props:{x:-100},frame:5,easing:"easeInOutQuad"}],backFromBackward:[{type:"by",props:{x:100},frame:5,easing:"easeInOutQuad"}],showAttackOrder:[{parallel:[{series:[{type:"by",props:{x:6},frame:2,easing:"easeInQuart"},{type:"by",props:{x:14},frame:8,easing:"easeOutQuart"}]},{type:"to",props:{alpha:1},frame:5}]}],hideAttackOrder:[{type:"to",props:{alpha:0},frame:10}]},t.judgeList={slideIn:[{type:"from",props:{x:-133},frame:20,easing:"easeInOutQuart"}],slideDown:r,slideUp:i},t.playerIdol={showAttackOrder:[{parallel:[{series:[{type:"by",props:{x:-6},frame:2,easing:"easeInQuart"},{type:"by",props:{x:-14},frame:8,easing:"easeOutQuart"}]},{type:"to",props:{alpha:1},frame:5}]}],showAttackResult:[{parallel:[{type:"by",props:{y:-24},frame:3},{type:"to",props:{alpha:1},frame:3}]},{type:"by",props:{y:4},frame:7}],hideAttackOrder:[{type:"to",props:{alpha:0},frame:10}],goForward:[{type:"by",props:{x:-200},frame:3,easing:"easeOutQuad"}],backFromForward:[{type:"by",props:{x:200},frame:3,easing:"easeOutQuad"}]},t.playerIdolList={slideIn:[{type:"from",props:{x:1068},frame:20,easing:"easeInOutQuart"}],slideDown:r,slideUp:i},t.stageLayer={showOverlay:[{type:"to",props:{alpha:.3},frame:6}],hideOverlay:[{type:"to",props:{alpha:0},frame:6}]},t.skillSelectLayer={slideIn:function(e){return[{type:"to",props:{y:e.y},frame:20,easing:"easeInOutQuart"}]},slideDown:[{type:"by",props:{y:131},frame:10,easing:"easeInOutQuart"}],slideUp:[{type:"by",props:{y:-131},frame:10,easing:"easeInOutQuart"}]},t.skillCard={slideUp:[{type:"by",props:{y:-32},frame:2,easing:"easeInQuart"},{type:"by",props:{y:-68},frame:8,easing:"easeOutQuart"}],select:[{type:"by",props:{y:-40},frame:5,easing:"easeInOutQuart"}],cancel:[{type:"by",props:{y:40},frame:5,easing:"easeInOutQuart"}],disappear:[{parallel:[{series:[{type:"by",props:{y:-13},frame:1,easing:"easeInQuart"},{type:"by",props:{y:-27},frame:4,easing:"easeOutQuart"}]},{type:"to",props:{scaleX:1.2,scaleY:1.2,alpha:0},frame:5}]}]},t.skillDetailList={slideIn:[{type:"by",props:{y:-40},frame:1,easing:"easeInQuart"},{type:"by",props:{y:-231},frame:8,easing:"easeOutQuart"}],slideOut:[{type:"by",props:{y:40},frame:1,easing:"easeInQuart"},{event:"switch"},{type:"by",props:{y:231},frame:7,easing:"easeOutQuart"}],disappear:[{type:"to",props:{scaleX:1.2,scaleY:1.2,alpha:0},frame:5}]},t.memorySkillCard={slideUp:[{type:"by",props:{y:-36},frame:2,easing:"easeInQuart"},{type:"by",props:{y:-76},frame:8,easing:"easeOutQuart"}],select:[{type:"by",props:{y:-20},frame:5,easing:"easeInOutQuart"}],cancel:[{type:"by",props:{y:20},frame:5,easing:"easeInOutQuart"}]},t.timingGaugeGroup={appearGauge:[{parallel:[{type:"from",props:{scaleX:1.49,scaleY:1.49},frame:5,easing:"easeInOutQuart"},{type:"from",props:{alpha:0},frame:5}]}],disappear:[{wait:9},{type:"to",props:{alpha:0},frame:6}],showResult:[{type:"set",props:{scaleX:.5,scaleY:.5}},{type:"to",props:{scaleX:1,scaleY:1},frame:2},{type:"to",props:{scaleX:1.1,scaleY:1.1},frame:10}],appearReadyIn:[{type:"set",props:{alpha:0}},{type:"by",props:{y:-20,alpha:1},frame:3}],appealReadyOut:[{parallel:[{type:"by",props:{y:-12},frame:21},{series:[{type:"by",props:{},frame:18},{type:"by",props:{alpha:-1},frame:3}]}]}]},t.turn={slideIn:[{type:"from",props:{scaleX:1,scaleY:1},frame:1}]}},function(e,t){e.exports=function(e){
if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(69),s=r(o),l=n(112),u=r(l),c=n(360),f=n(130),d=n(132),p=r(d),h=function(){return(0,u.default)("/request_mocks/produce/concert/start.json").then(f.processConcertStartResponse)},y=function(){return(0,u.default)("/request_mocks/produce/audition/start.json").then(f.processConcertStartResponse)},m=function(e,t){var n="/request_mocks/produce/concert/finish_"+("win"===t?e+"_win":"lose")+".json";return(0,u.default)(n).then(f.processAuditionResultResponse)},_=function(e){return(0,u.default)("/request_mocks/produce/audition/finish_"+e+".json").then(f.processAuditionResultResponse)},g=function(){return(0,u.default)("/request_mocks/produce/skillPanels.json").then(c.processSkillBoardResponse)},b=function(){return a.default.post("produces/1/actions/next").then(c.processNextResponse)},v=function(e){return a.default.post("produces/1/audition/actions/start",e).then(f.processConcertStartResponse).then(function(e){return p.default.get().then(function(t){return Object.assign(e,{nickname:t.nickname})})})},w=function(){return a.default.post("produces/1/concert/actions/start").then(f.processConcertStartResponse).then(function(e){return p.default.get().then(function(t){return Object.assign(e,{nickname:t.nickname})})})};t.default={ready:function(){return a.default.post("produces/1/actions/ready").then(c.processReadyResponse)},start:function(e){return a.default.post("produces/1/actions/start",e)},act:function(e){return a.default.post("produces/1/actions/act",{producePlaceCategoryId:e}).then(c.processActResponse)},endWeek:function(){return a.default.post("produces/1/actions/endWeek").then(c.processEndWeekResponse)},next:function(){return b()},get:function(){return a.default.get("userProduces/1").then(c.processProduceTopResponse)},resume:function(){return a.default.post("produces/1/actions/resume").then(c.processResumeResponse).then(function(e){switch(e.produceState){case s.default.PRODUCE_STATES.NOT_STARTED:return b().then(function(e){return e.produceState=s.default.PRODUCE_STATES.MORNING,Promise.resolve(e)});case s.default.PRODUCE_STATES.AFTER_AUDITION_EVENT:return v({auditionId:e.produceAudition.id}).then(function(e){return e.produceState=s.default.PRODUCE_STATES.AUDITION,Promise.resolve(e)});case s.default.PRODUCE_STATES.AFTER_CONCERT_EVENT:return w().then(function(e){return e.produceState=s.default.PRODUCE_STATES.CONCERT,Promise.resolve(e)});default:return Promise.resolve(e)}})},retire:function(){return a.default.post("produces/1/actions/retire")},getSkillPanels:function(){return a.default.get("userProduces/1/skillPanels").then(c.processSkillBoardResponse)},acquireSkillPanel:function(e,t){return a.default.post("userProduces/1/skillPanels/"+e,{deleteSkillId:t}).then(c.processSkillBoardResponse)},notifyReleasedSkillPanelsConfirmation:function(){return a.default.patch("userProduces/1/releasedSkills")},getUnit:function(){return a.default.get("produces/1/decks").then(c.processDecksResponse)},finish:function(){return a.default.post("produces/1/actions/finish").then(c.processFinishResponse)},result:function(){return a.default.post("produces/1/actions/result").then(function(e){return e.body})},selectProduceEvent:function(e,t){return a.default.post("produceEvents/"+e+"/actions/select",t).then(function(e){return e.body})},selectCommunication:function(e,t){return a.default.post("produceCommunications/"+e+"/actions/select",t).then(function(e){return e.body})},selectCommunicationPromise:function(e,t){return a.default.post("produceCommunicationPromises/"+e+"/actions/select",t).then(function(e){return e.body})},selectCommunicationCheer:function(e,t){return a.default.post("produceCommunicationCheers/"+e+"/actions/select",t).then(function(e){return e.body})},selectCommunicationTelevision:function(e,t){return a.default.post("produceCommunicationTelevisions/"+e+"/actions/select",t).then(function(e){return e.body})},selectCommunicationAudition:function(e,t){return a.default.post("produceCommunicationAuditions/"+e+"/actions/select",t).then(function(e){return e.body})},auditionPrepare:function(e){return a.default.post("produces/1/audition/actions/prepare",e).then(f.processConcertReadyResponse)},auditionStart:function(e){return v(e)},auditionFinish:function(e){return a.default.post("produces/1/audition/actions/finish",e).then(f.processAuditionResultResponse)},concertReady:function(){return a.default.post("produces/1/concert/actions/ready").then(f.processConcertReadyResponse)},concertStart:function(){return w()},concertFinish:function(e){return a.default.post("produces/1/concert/actions/finish",e).then(f.processConcertResultResponse)},touchIdol:function(e){return a.default.post("produces/1/characterReaction/actions/select",{selectedReactionId:e}).then(function(e){return e.body})},_concertStart:function(){return h()},_concertFinish:function(e,t){return m(e,t)},_auditionStart:function(){return y()},_auditionFinish:function(e){return _(e)},_finish:function(){return(0,u.default)("/request_mocks/produce/finish.json").then(c.processFinishResponse)},_result:function(){return(0,u.default)("/request_mocks/produce/result.json").then(function(e){return e.body})},_getSkillPanels:function(){return g()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(408),a=r(i),o=n(132),s=r(o),l=n(958),u=r(l),c=n(960),f=r(c),d=n(961),p=r(d),h=n(964),y=r(h),m=n(965),_=r(m),g=n(967),b=r(g),v=n(413),w=r(v),k=n(970),S=r(k),I=n(416),E=r(I),A=n(38),x=r(A),C=n(977),T=r(C),P=n(978),O=r(P),N=n(247),M=r(N),R=n(980),D=r(R),F=n(248),B=r(F),j=n(981),L=r(j),U=n(418),H=r(U),G=n(249),z=r(G),V=n(419),K=r(V),W=n(983),q=r(W),X=n(174),Y=r(X),J=n(420),Q=r(J),Z=n(986),$=r(Z),ee=n(987),te=r(ee);t.default={announce:a.default,earthUser:s.default,fes:u.default,gameEventCommunicationHistory:f.default,gasha:p.default,gashaGroup:y.default,idol:_.default,invitation:b.default,item:w.default,loginBonus:S.default,myPage:E.default,produce:x.default,produceMarathon:T.default,supportIdol:O.default,user:M.default,userEnhancementItem:D.default,userFesIdol:B.default,userGashaTicket:L.default,userIdol:H.default,userMission:z.default,userProduceIdol:K.default,userShop:q.default,userSupportIdol:Y.default,userRecoveryItem:Q.default,userReserveIdol:$.default,userReserveSupportIdol:te.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["concert_note_1.png","concert_note_2.png","concert_note_3.png","concert_note_4.png"],i=t.twinkle={data:"particles/concert/common/twinkle.json",images:["concert_twinkle.png"]},a=t.flashLine1={data:"particles/concert/common/flash_line_1.json",images:["concert_flash_line.png"]},o=t.flashLine2={data:"particles/concert/common/flash_line_2.json",images:["concert_flash_line.png"]},s=t.flashLine3={data:"particles/concert/common/flash_line_3.json",images:["concert_flash_line.png"]},l=t.flashLine3Down={data:"particles/concert/common/flash_line_3_down.json",images:["concert_flash_line.png"]},u=t.flashLine3Up={data:"particles/concert/common/flash_line_3_up.json",images:["concert_flash_line.png"]},c=t.flashLineRing={data:"particles/concert/common/flash_line_ring.json",images:["concert_flash_line.png"]},f=t.flashSpark3={data:"particles/concert/common/flash_spark_3.json",images:["light_cross_flare_purple.png"]},d=t.flashSpark4={data:"particles/concert/common/flash_spark_4.json",images:["concert_twinkle.png"]},p=t.retireAura={data:"particles/concert/common/retire_aura.json",images:["concert_circle_boke.png"]},h=t.retireFlash={data:"particles/concert/common/retire_flash.json",images:["light_cross_flare_purple.png","concert_common_particle.png"]},y=t.arrowUp={data:"particles/concert/common/arrow_up.json",images:["concert_arrow_up.png"]},m=t.arrowDown={data:"particles/concert/common/arrow_down.json",
images:["concert_arrow_down.png"]},_=t.idolBuff={data:"particles/concert/common/idol_buff.json",images:["concert_arrow_up.png"]},g=t.idolDebuff={data:"particles/concert/common/idol_debuff.json",images:["concert_arrow_down.png"]},b=t.idolGainStar={data:"particles/concert/common/idol_gain_star.json",images:["concert_flash_line.png"]},v=t.stageFlash011={data:"particles/concert/common/stage_flash_011.json",images:["concert_flash_line.png"]},w=t.stageFlash012={data:"particles/concert/common/stage_flash_012.json",images:["concert_flash_line.png"]},k=t.stageFlash013={data:"particles/concert/common/stage_flash_013.json",images:["concert_flash_line.png"]},S=t.timingPerfect={top:{data:"particles/concert/common/timing_perfect_top.json",images:["concert_star_b.png","concert_star_g.png","concert_star_p.png","concert_star_w.png","concert_star_y.png","concet_sparks.png"]},center:{data:"particles/concert/common/timing_perfect_center.json",images:["concert_star_b.png","concert_star_g.png","concert_star_p.png","concert_star_w.png","concert_star_y.png"]}},I=t.timingGood={top:{data:"particles/concert/common/timing_good_top.json",images:["concert_star_y.png","concet_sparks.png"]},center:{data:"particles/concert/common/timing_good_center.json",images:["concert_star_w.png","concert_star_y.png"]}},E=t.timingNormal={top:{data:"particles/concert/common/timing_normal_top.json",images:["concert_star_y.png","concet_sparks.png"]}},A=t.timingBad={top:{data:"particles/concert/common/timing_bad_top.json",images:["concert_smoke.png"]},center:{data:"particles/concert/common/timing_bad_center.json",images:["concert_smoke.png"]}},x=t.memoryAppeal={bg:{data:"particles/concert/memory_appeal/bg.json",images:["concert_cross_particle.png","concert_flash_light.png","concert_hexagon.png"]},impact:{data:"particles/concert/memory_appeal/impact.json",images:["concert_cross_particle.png","concert_hexagon.png"]},spark:{data:"particles/concert/memory_appeal/spark.json",images:["concert_cross_particle.png","concert_hexagon.png"]}},C=t.memoryAppealGauge={heart1:{data:"particles/concert/memory_appeal_gauge/heart_1.json",images:["concert_heart.png","concert_twinkle2.png"]},heart2:{data:"particles/concert/memory_appeal_gauge/heart_2.json",images:["concert_heart.png","concert_twinkle2.png"]}},T=t.recoverSkill={note:{data:"particles/concert/recover_skill/note.json",images:r},wave:{data:"particles/concert/recover_skill/wave.json",images:["concert_twinkle.png"]}},P=t.judgeAttack={trailBoke:{data:"particles/concert/judge_attack/trail_boke.json",images:["concert_common_particle.png"]},trail:{data:"particles/concert/judge_attack/trail.json",images:["judge_attack_trail_boke.png"]}},O=t.rivalAttack={hit:{data:"particles/concert/rival_attack/hit.json",images:r},trail:{data:"particles/concert/rival_attack/trail.json",images:r},charge:{data:"particles/concert/rival_attack/charge.json",images:["concert_common_particle.png"]}},N=t.idolAttack={hit:{data:"particles/concert/idol_attack/hit.json",images:r},trail:{data:"particles/concert/idol_attack/trail.json",images:r},origin:{data:"particles/concert/idol_attack/origin.json",images:["concert_common_particle.png"]},charge:{data:"particles/concert/idol_attack/charge.json",images:["concert_common_particle.png"]}},M=t.heart={hit:{data:"particles/concert/heart/hit.json",images:["concert_heart.png","concert_twinkle2.png"]},trail:{data:"particles/concert/heart/trail.json",images:["concert_heart.png","concert_twinkle2.png"]}},R=t.star={trail:{data:"particles/concert/star/trail.json",images:["concert_star_particle.png"]},trailBoke:{data:"particles/concert/star/trail_boke.json",images:["concert_common_particle.png"]},hit:{data:"particles/concert/star/hit.json",images:["concert_star_particle.png"]}};t.default={twinkle:i,flashLine1:a,flashLine2:o,flashLine3:s,flashLine3Down:l,flashLine3Up:u,flashLineRing:c,arrowUp:y,arrowDown:m,idolBuff:_,idolDebuff:g,idolGainStar:b,memoryAppeal:x,memoryAppealGauge:C,recoverSkill:T,idolAttack:N,judgeAttack:P,rivalAttack:O,flashSpark3:f,flashSpark4:d,stageFlash011:v,stageFlash012:w,stageFlash013:k,timingPerfect:S,timingGood:I,timingNormal:E,timingBad:A,retireAura:p,retireFlash:h,heart:M,star:R}},function(e,t,n){"use strict";var r=t;r.version=n(753).version,r.utils=n(754),r.rand=n(339),r.curve=n(159),r.curves=n(759),r.ec=n(767),r.eddsa=n(771)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={API_ROOT:"https://api.shinycolors.enza.fun/",ASSET_ROOT:"/assets/",STATS:!1,SENTRY_DSN:"https://14d9deb0a65d43acbbc59df15a20503d@sentry.io/1188061",GAME_ID:"01",PF_URI:"https://platform.enza.fun/",X_VERSION:102,SPEED:void 0}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){y&&p&&(y=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!y){var e=i(o);y=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,y=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],y=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||y||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},,function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(28),i=n(84);e.exports=n(27)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(11),i=n(46),a=n(45),o=n(85)("src"),s=Function.toString,l=(""+s).split("toString");n(59).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(a(n,o)||i(n,o,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t,n){var r=n(2),i=n(15),a=n(61),o=/"/g,s=function(e,t,n,r){var i=String(a(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){var r=n(119),i=n(61);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(120),i=n(84),a=n(49),o=n(60),s=n(45),l=n(285),u=Object.getOwnPropertyDescriptor;t.f=n(27)?u:function(e,t){if(e=a(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(45),i=n(33),a=n(190)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){
if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){var r=n(37);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){if(!e)throw new Error("ArgumentError. invalid param date");return(0,i.default)(e,t,n,r)};var r=n(953),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.autoUpdate=!1,n}return a(t,e),o(t,[{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.setAnimation(0,e,t),this.autoUpdate||this.update(0),this}},{key:"setAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.mixing,a=r.startTime,o=r.onComplete;i&&this.setMix(e,t);var s=this.state.setAnimation(e,t,n);return a&&(s.trackTime=a),o&&(s.listener={complete:o}),this}},{key:"findAnimationEvent",value:function(e,t){var n=this.spineData.animations.find(function(t){return t.name===e}),r=n.timelines.find(function(e){return e.events});if(r){var i=r.events.find(function(e){return e.data.name===t});if(i)return i}}},{key:"setMix",value:function(e,t){var n=this.state.getCurrent(e);return n&&this.stateData.setMix(n.animation.name,t,.3),this}},{key:"playLipAnimation",value:function(e,t,n,r){var i=this;this.setAnimation(e,t,!0,{mixing:!0}),this._lipAnimationTween&&this._lipAnimationTween.remove(),this._lipAnimationTween=aoba.FrameTween.new(this).wait(n).call(function(){i.stopLipAnimation(e),r&&r()})}},{key:"stopLipAnimation",value:function(e){var t=this.state.getCurrent(e);t&&(t.trackTime=0,t.timeScale=0),this._lipAnimationTween&&(this._lipAnimationTween.remove(),this._lipAnimationTween=null)}},{key:"createSkeletonBounds",value:function(){var e=new aoba.spine.core.SkeletonBounds;return e.update(this.skeleton,!1),e}},{key:"getBoundingBoxes",value:function(){return this.createSkeletonBounds().boundingBoxes}},{key:"isBoundingBoxContainsPoint",value:function(e,t){var n=this.createSkeletonBounds(),r=this.toGlobal(aoba.p(0,0)),i=aoba.p(t.x-r.x,t.y-r.y),a=n.containsPoint(i.x,i.y);return a&&a.name===e}},{key:"findBone",value:function(e){return this.skeleton.findBone(e)}},{key:"reverse",value:function(){return this.scale.x*=-1,this}},{key:"getChildByNameRecursively",value:function(){return null}}]),t}(aoba.spine.Spine);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._particleSystem=e,n.addChild(e.container),n}return a(t,e),o(t,[{key:"play",value:function(){this._particleSystem.play()}},{key:"particleSystem",get:function(){return this._particleSystem}}]),t}(aoba.Container);t.default=s},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(17);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(2),i=n(59),a=n(15);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},function(e,t,n){var r=n(53),i=n(119),a=n(33),o=n(29),s=n(207);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var y,m,_=a(t),g=i(_),b=r(s,h,3),v=o(g.length),w=0,k=n?p(t,v):l?p(t,0):void 0;v>w;w++)if((d||w in g)&&(y=g[w],m=b(y,w,_),e))if(n)k[w]=m;else if(m)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:k.push(y)}else if(c)return!1;return f?-1:u||c?c:k}}},function(e,t,n){"use strict";function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for(e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var i=e.charCodeAt(r),a=i>>8,o=255&i;a?n.push(a,o):n.push(o)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n}function i(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=l(i.toString(16))}return n}function s(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function u(e,t,n,r){var i=n-t;C(i%4==0);for(var a=new Array(i/4),o=0,s=t;o<a.length;o++,s+=4){var l;l="big"===r?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],a[o]=l>>>0}return a}function c(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var a=e[r];"big"===t?(n[i]=a>>>24,n[i+1]=a>>>16&255,n[i+2]=a>>>8&255,n[i+3]=255&a):(n[i+3]=a>>>24,n[i+2]=a>>>16&255,n[i+1]=a>>>8&255,n[i]=255&a)}return n}function f(e,t){return e>>>t|e<<32-t}function d(e,t){return e<<t|e>>>32-t}function p(e,t){return e+t>>>0}function h(e,t,n){return e+t+n>>>0}function y(e,t,n,r){return e+t+n+r>>>0}function m(e,t,n,r,i){return e+t+n+r+i>>>0}function _(e,t,n,r){var i=e[t],a=e[t+1],o=r+a>>>0,s=(o<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=o}function g(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0}function b(e,t,n,r){return t+r>>>0}
function v(e,t,n,r,i,a,o,s){var l=0,u=t;return u=u+r>>>0,l+=u<t?1:0,u=u+a>>>0,l+=u<a?1:0,u=u+s>>>0,l+=u<s?1:0,e+n+i+o+l>>>0}function w(e,t,n,r,i,a,o,s){return t+r+a+s>>>0}function k(e,t,n,r,i,a,o,s,l,u){var c=0,f=t;return f=f+r>>>0,c+=f<t?1:0,f=f+a>>>0,c+=f<a?1:0,f=f+s>>>0,c+=f<s?1:0,f=f+u>>>0,c+=f<u?1:0,e+n+i+o+l+c>>>0}function S(e,t,n,r,i,a,o,s,l,u){return t+r+a+s+u>>>0}function I(e,t,n){return(t<<32-n|e>>>n)>>>0}function E(e,t,n){return(e<<32-n|t>>>n)>>>0}function A(e,t,n){return e>>>n}function x(e,t,n){return(e<<32-n|t>>>n)>>>0}var C=n(52),T=n(6);t.inherits=T,t.toArray=r,t.toHex=i,t.htonl=a,t.toHex32=o,t.zero2=s,t.zero8=l,t.join32=u,t.split32=c,t.rotr32=f,t.rotl32=d,t.sum32=p,t.sum32_3=h,t.sum32_4=y,t.sum32_5=m,t.sum64=_,t.sum64_hi=g,t.sum64_lo=b,t.sum64_4_hi=v,t.sum64_4_lo=w,t.sum64_5_hi=k,t.sum64_5_lo=S,t.rotr64_hi=I,t.rotr64_lo=E,t.shr64_hi=A,t.shr64_lo=x},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function e(t){var n=[];return i.default.each(t,function(t){"string"==typeof t?n.push(t):n=n.concat(e(t))}),n};t.default=function(e){return i.default.uniq(a(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={placeCategories:{1:{idolSpine:{animation:"vocal",skin:"reverse",cutInIdolSkin:"reverse",cutInSupportIdolSkin:"normal"},idolPosition:{x:240,y:420,scaleX:-1},supportIdolPositions:[{x:360,y:400,scaleX:1},{x:480,y:380,scaleX:1},{x:660,y:410,scaleX:1},{x:780,y:370,scaleX:1},{x:900,y:420,scaleX:1}]},2:{idolSpine:{animation:"dance",skin:"reverse_j",cutInIdolSkin:"reverse_j",cutInSupportIdolSkin:"normal_j"},idolPosition:{x:350,y:410,scaleX:-1},supportIdolPositions:[{x:230,y:380,scaleX:1},{x:480,y:380,scaleX:1},{x:660,y:410,scaleX:1},{x:780,y:380,scaleX:1},{x:900,y:410,scaleX:1}]},3:{idolSpine:{animation:"visual",skin:"normal",cutInIdolSkin:"reverse",cutInSupportIdolSkin:"normal"},idolPosition:{x:235,y:410,scaleX:1},supportIdolPositions:[{x:350,y:320,scaleX:1},{x:480,y:320,scaleX:1},{x:610,y:320,scaleX:1},{x:430,y:420,scaleX:-1},{x:700,y:420,scaleX:1}]},4:{idolSpine:{animation:"radio",skin:"reverse",cutInIdolSkin:"reverse",cutInSupportIdolSkin:"normal"},idolPosition:{x:260,y:415,scaleX:-1},supportIdolPositions:[{x:400,y:330,scaleX:1},{x:785,y:435,scaleX:1},{x:810,y:300,scaleX:1},{x:910,y:350,scaleX:1},{x:970,y:420,scaleX:1}]},5:{idolSpine:{animation:"talk",skin:"reverse",cutInIdolSkin:"reverse",cutInSupportIdolSkin:"normal"},idolPosition:{x:440,y:300,scaleX:-1},supportIdolPositions:[{x:300,y:310,scaleX:-1},{x:565,y:300,scaleX:1},{x:860,y:300,scaleX:1},{x:950,y:360,scaleX:1},{x:1010,y:410,scaleX:1}]},6:{idolSpine:{animation:"photo",skin:"reverse",cutInIdolSkin:"reverse",cutInSupportIdolSkin:"normal"},idolPosition:{x:340,y:390,scaleX:-1},supportIdolPositions:[{x:230,y:390,scaleX:1},{x:440,y:340,scaleX:-1},{x:660,y:380,scaleX:1},{x:780,y:340,scaleX:1},{x:910,y:390,scaleX:1}]}},tutorialImages:{top1:["images/ui/produce_tutorial/top_01.jpg","images/ui/produce_tutorial/top_02.jpg"],top2:["images/ui/produce_tutorial/top_03.jpg","images/ui/produce_tutorial/top_04.jpg"],activity:["images/ui/produce_tutorial/activity_01.jpg","images/ui/produce_tutorial/activity_02.jpg","images/ui/produce_tutorial/activity_03.jpg"],skillBoard:["images/ui/produce_tutorial/skill_board_01.jpg","images/ui/produce_tutorial/skill_board_02.jpg"],finish:["images/ui/produce_tutorial/finish_01.jpg","images/ui/produce_tutorial/finish_02.jpg"],concert:["images/ui/produce_tutorial/concert_01.jpg","images/ui/produce_tutorial/concert_02.jpg","images/ui/produce_tutorial/concert_03.jpg","images/ui/produce_tutorial/concert_04.jpg","images/ui/produce_tutorial/concert_05.jpg"]},SEASON_WEEK_NUM:8,CONCERT_SEASON:5,CONCERT_WEEK_NUM:2,TOTAL_WEEK_NUM:34,EVENT_CATEGORIES:{COMMUNICATION:"communication",COMMUNICATION_CHEER:"communicationCheer"},PRODUCE_STATES:{NOT_STARTED:100,MORNING:200,AFTER_ACTION:300,END_OF_WEEK:400,AUDITION_EVENT:500,AFTER_AUDITION_EVENT:550,AUDITION:600,AUDITION_RESULT:700,AFTER_CONCERT_EVENT:800,CONCERT:900,CONCERT_RESULT:1e3,END_OF_PRODUCE:1100,ENDING:1200,FES_IDOL_BIRTH:1300,FINISHED:1400}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(939),a=r(i),o=n(940),s=r(o),l=n(941),u=r(l),c=n(942),f=r(c),d={setActiveSkillMixin:function(e){aoba.utils.setPrototypeOf(e,s.default),e.linkSkill&&aoba.utils.setPrototypeOf(e.linkSkill,a.default)},setPassiveSkillMixin:function(e){aoba.utils.setPrototypeOf(e,u.default)},setLimitBreakSkillMixin:function(e){aoba.utils.setPrototypeOf(e,f.default)}};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(413),s=r(o),l={recoveryItem:{key:"recoveryItem",requestItems:function(){return s.default.getRecoveryItems()},requestUseItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s.default.useRecoveryItem(e.id,t)},iconPath:"recovery_items/icon",useButtonKey:"item_use_button.png",getItemMast:function(e){return e.recoveryItem},calcRecoveryValue:function(e,t){return e.recoveryItem.isFixed?e.recoveryItem.value:Math.floor(e.recoveryItem.value*t/100)},types:{produce:{id:"produce",maxValue:a.default.app.MAX_STAMINA,valueNameTextId:"item.recoveryItem.type.produce.valueName",maxValueNoticeTextId:"item.maxStamina"},fes:{id:"fes",maxValue:a.default.app.MAX_FES_TICKET,valueNameTextId:"item.recoveryItem.type.fes.valueName",maxValueNoticeTextId:"item.maxFesTicket"}}},enhancementItem:{key:"enhancementItem",requestItems:function(){return s.default.getEnhancementItems()},iconPath:"enhancement_items/icon",useButtonKey:"item_training_button.png",getItemMast:function(e){return e.enhancementItem}},gashaTicket:{key:"gashaTicket",requestItems:function(){return s.default.getGashaTickets()},iconPath:"gasha_tickets/icon",useButtonKey:"item_gasha_button.png",getItemMast:function(e){return e.gashaTicket},getGashaId:function(e){return e.gashaTicket.gashaId}}};t.default=l},function(e,t,n){"use strict";if(n(27)){var r=n(86),i=n(11),a=n(15),o=n(2),s=n(151),l=n(213),u=n(53),c=n(92),f=n(84),d=n(46),p=n(94),h=n(62),y=n(29),m=n(311),_=n(88),g=n(60),b=n(45),v=n(121),w=n(17),k=n(33),S=n(204),I=n(89),E=n(51),A=n(90).f,x=n(206),C=n(85),T=n(25),P=n(64),O=n(142),N=n(149),M=n(209),R=n(102),D=n(146),F=n(91),B=n(208),j=n(301),L=n(28),U=n(50),H=L.f,G=U.f,z=i.RangeError,V=i.TypeError,K=i.Uint8Array,W=Array.prototype,q=l.ArrayBuffer,X=l.DataView,Y=P(0),J=P(2),Q=P(3),Z=P(4),$=P(5),ee=P(6),te=O(!0),ne=O(!1),re=M.values,ie=M.keys,ae=M.entries,oe=W.lastIndexOf,se=W.reduce,le=W.reduceRight,ue=W.join,ce=W.sort,fe=W.slice,de=W.toString,pe=W.toLocaleString,he=T("iterator"),ye=T("toStringTag"),me=C("typed_constructor"),_e=C("def_constructor"),ge=s.CONSTR,be=s.TYPED,ve=s.VIEW,we=P(1,function(e,t){return Ae(N(e,e[_e]),t)}),ke=a(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),Se=!!K&&!!K.prototype.set&&a(function(){new K(1).set({})}),Ie=function(e,t){var n=h(e);if(n<0||n%t)throw z("Wrong offset!");return n},Ee=function(e){if(w(e)&&be in e)return e;throw V(e+" is not a typed array!")},Ae=function(e,t){if(!(w(e)&&me in e))throw V("It is not a typed array constructor!");return new e(t)},xe=function(e,t){return Ce(N(e,e[_e]),t)},Ce=function(e,t){for(var n=0,r=t.length,i=Ae(e,r);r>n;)i[n]=t[n++];return i},Te=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Pe=function(e){var t,n,r,i,a,o,s=k(e),l=arguments.length,c=l>1?arguments[1]:void 0,f=void 0!==c,d=x(s);if(void 0!=d&&!S(d)){for(o=d.call(s),r=[],t=0;!(a=o.next()).done;t++)r.push(a.value);s=r}for(f&&l>2&&(c=u(c,arguments[2],2)),t=0,n=y(s.length),i=Ae(this,n);n>t;t++)i[t]=f?c(s[t],t):s[t];return i},Oe=function(){for(var e=0,t=arguments.length,n=Ae(this,t);t>e;)n[e]=arguments[e++];return n},Ne=!!K&&a(function(){pe.call(new K(1))}),Me=function(){
return pe.apply(Ne?fe.call(Ee(this)):Ee(this),arguments)},Re={copyWithin:function(e,t){return j.call(Ee(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Ee(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return B.apply(Ee(this),arguments)},filter:function(e){return xe(this,J(Ee(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(Ee(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ee(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Y(Ee(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ee(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ee(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Ee(this),arguments)},lastIndexOf:function(e){return oe.apply(Ee(this),arguments)},map:function(e){return we(Ee(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ee(this),arguments)},reduceRight:function(e){return le.apply(Ee(this),arguments)},reverse:function(){for(var e,t=this,n=Ee(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return Q(Ee(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Ee(this),e)},subarray:function(e,t){var n=Ee(this),r=n.length,i=_(e,r);return new(N(n,n[_e]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,y((void 0===t?r:_(t,r))-i))}},De=function(e,t){return xe(this,fe.call(Ee(this),e,t))},Fe=function(e){Ee(this);var t=Ie(arguments[1],1),n=this.length,r=k(e),i=y(r.length),a=0;if(i+t>n)throw z("Wrong length!");for(;a<i;)this[t+a]=r[a++]},Be={entries:function(){return ae.call(Ee(this))},keys:function(){return ie.call(Ee(this))},values:function(){return re.call(Ee(this))}},je=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Le=function(e,t){return je(e,t=g(t,!0))?f(2,e[t]):G(e,t)},Ue=function(e,t,n){return!(je(e,t=g(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};ge||(U.f=Le,L.f=Ue),o(o.S+o.F*!ge,"Object",{getOwnPropertyDescriptor:Le,defineProperty:Ue}),a(function(){de.call({})})&&(de=pe=function(){return ue.call(this)});var He=p({},Re);p(He,Be),d(He,he,Be.values),p(He,{slice:De,set:Fe,constructor:function(){},toString:de,toLocaleString:Me}),Te(He,"buffer","b"),Te(He,"byteOffset","o"),Te(He,"byteLength","l"),Te(He,"length","e"),H(He,ye,{get:function(){return this[be]}}),e.exports=function(e,t,n,l){l=!!l;var u=e+(l?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[u],_=h||{},g=h&&E(h),b=!h||!s.ABV,k={},S=h&&h.prototype,x=function(e,n){var r=e._d;return r.v[f](n*t+r.o,ke)},C=function(e,n,r){var i=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,ke)},T=function(e,t){H(e,t,{get:function(){return x(this,t)},set:function(e){return C(this,t,e)},enumerable:!0})};b?(h=n(function(e,n,r,i){c(e,h,u,"_d");var a,o,s,l,f=0,p=0;if(w(n)){if(!(n instanceof q||"ArrayBuffer"==(l=v(n))||"SharedArrayBuffer"==l))return be in n?Ce(h,n):Pe.call(h,n);a=n,p=Ie(r,t);var _=n.byteLength;if(void 0===i){if(_%t)throw z("Wrong length!");if((o=_-p)<0)throw z("Wrong length!")}else if((o=y(i)*t)+p>_)throw z("Wrong length!");s=o/t}else s=m(n),o=s*t,a=new q(o);for(d(e,"_d",{b:a,o:p,l:o,e:s,v:new X(a)});f<s;)T(e,f++)}),S=h.prototype=I(He),d(S,"constructor",h)):a(function(){h(1)})&&a(function(){new h(-1)})&&D(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,i){c(e,h,u);var a;return w(n)?n instanceof q||"ArrayBuffer"==(a=v(n))||"SharedArrayBuffer"==a?void 0!==i?new _(n,Ie(r,t),i):void 0!==r?new _(n,Ie(r,t)):new _(n):be in n?Ce(h,n):Pe.call(h,n):new _(m(n))}),Y(g!==Function.prototype?A(_).concat(A(g)):A(_),function(e){e in h||d(h,e,_[e])}),h.prototype=S,r||(S.constructor=h));var P=S[he],O=!!P&&("values"==P.name||void 0==P.name),N=Be.values;d(h,me,!0),d(S,be,u),d(S,ve,!0),d(S,_e,h),(l?new h(1)[ye]==u:ye in S)||H(S,ye,{get:function(){return u}}),k[u]=h,o(o.G+o.W+o.F*(h!=_),k),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*a(function(){_.of.call(h,1)}),u,{from:Pe,of:Oe}),"BYTES_PER_ELEMENT"in S||d(S,"BYTES_PER_ELEMENT",t),o(o.P,u,Re),F(u),o(o.P+o.F*Se,u,{set:Fe}),o(o.P+o.F*!O,u,Be),r||S.toString==de||(S.toString=de),o(o.P+o.F*a(function(){new h(1).slice()}),u,{slice:De}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!a(function(){S.toLocaleString.call([1,2])})),u,{toLocaleString:Me}),R[u]=O?P:N,r||O||d(S,he,N)}}else e.exports=function(){}},function(e,t,n){var r=n(306),i=n(2),a=n(141)("metadata"),o=a.store||(a.store=new(n(309))),s=function(e,t,n){var i=o.get(e);if(!i){if(!n)return;o.set(e,i=new r)}var a=i.get(t);if(!a){if(!n)return;i.set(t,a=new r)}return a},l=function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},u=function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},c=function(e,t,n,r){s(n,r,!0).set(e,t)},f=function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){i(i.S,"Reflect",e)};e.exports={store:o,map:s,has:l,get:u,set:c,keys:f,key:d,exp:p}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(833),a=r(i),o=n(834),s=r(o),l=n(362),u=r(l),c=n(364),f=r(c),d=n(363),p=r(d),h=n(367),y=r(h),m=n(365),_=r(m),g=n(368),b=r(g),v=n(369),w=r(v),k=n(370),S=r(k),I=n(373),E=r(I),A=n(372),x=r(A),C=n(374),T=r(C),P=n(371),O=r(P),N=n(375),M=r(N);t.default={AdvPlayer:a.default,AdvResourceConverter:s.default,BgLayer:u.default,Character:f.default,CharacterStage:p.default,EffectLayer:y.default,LipAnimationPlayer:_.default,MainController:b.default,MovieLayer:w.default,ScenarioPlayer:S.default,SelectItem:E.default,SelectList:x.default,SoundController:T.default,TextPlayer:O.default,TrackManager:M.default}},function(e,t,n){var r=n(10),i=n(234),a=String.prototype.trim;e.exports=function(e,t){return e=r(e),!t&&a?a.call(e):(t=i(t),e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(240),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getImagePath:function(e){return this._extendedIdol.getImagePath(e)},getMoviePath:function(e){return this._extendedIdol.getMoviePath(e)},getVoicePath:function(e){return this._extendedIdol.getVoicePath(e)},getSpinePath:function(e){return this._extendedIdol.getSpinePath(e)},getRarityImagePath:function(e){return this._extendedIdol.getRarityImagePath(e)},getUnitImagePath:function(e){return this._extendedIdol.getUnitImagePath(e)},getIconImagePath:function(){return this._extendedIdol.getIconImagePath()},get name(){return this.idol.name},get firstName(){return this._extendedIdol.firstName},get idolId(){return this._extendedIdol.id},get characterId(){return this._extendedIdol.characterId},get unitId(){return this._extendedIdol.unitId},get skillPanels(){return this.idol.skillPanels},get rarity(){return this.idol.rarity},get produceIdolEvents(){return this.idol.produceIdolEvents},get produceAfterEvents(){return this.idol.produceAfterEvents},get idolParameterRanks(){return this.idol.idolParameterRanks},get memoryAppeals(){return this.idol.memoryAppeals},get character(){return this.idol.character},get parameter(){return{vocal:this.idol.vocal,dance:this.idol.dance,visual:this.idol.visual,mental:this.idol.mental}},get _extendedIdol(){return aoba.utils.getPrototypeOf(this.idol)!==i.default&&(aoba.utils.setPrototypeOf(this.idol,i.default),this.idol.id||(this.idol.id=this.idolId)),this.idol}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(259),l=r(s),u=n(1),c=r(u),f=n(20),d=r(f),p=function(e){return""+c.default.env.ASSET_ROOT+d.default.createImagePath("characters","link_skill_icon",e)},h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.name,o=e.comment,s=e.linkSkillCharacters,u=e.linkSkillType,c=n.fromData(l.default,{skillDetailBase:{key:"skill_detail_base_link.png"},idolIcon:null,name:{text:r},description:{text:o}}),f=aoba.Container.new();if(s.forEach(function(e,t){aoba.Sprite.from(p(e.characterId)).addTo(f,52*t,0)}),"linear"===u)for(var d=f.children.length-1,h=0;h<d;h++){var y=aoba.Sprite.new("link_skill_arrow.png"),m=f.children[h];y.addTo(f,m.x+m.width,m.height/2,{anchor:.5})}return f.addTo(n,19,11),c.description.style.wordWrap=!0,c.description.style.wordWrapWidth=260,c.description.style.breakWords=!0,n}return o(t,e),t}(aoba.Container);t.default=h},function(e,t,n){var r=n(85)("meta"),i=n(17),a=n(45),o=n(28).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(15)(function(){return l(Object.preventExtensions({}))}),c=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},d=function(e,t){if(!a(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},p=function(e){return u&&h.NEED&&l(e)&&!a(e,r)&&c(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(25)("unscopables"),i=Array.prototype;void 0==i[r]&&n(46)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){function r(e){a.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var i=n(18).Buffer,a=n(155).Transform,o=n(221).StringDecoder;n(6)(r,a),r.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},r.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},r.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},r.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={MANO:1,HIORI:2,MEGURU:3,KOGANE:4,MAMIMI:5,SAKUYA:6,YUIKA:7,KIRIKO:8,KAHO:9,CHIYOKO:10,JYURI:11,RINZE:12,NATSUHA:13,AMANE:14,TENKA:15,CHIYUKI:16},i=Object.keys(r).length;t.default={SERVICE_POLICY_URI:"https://legal.bandainamcoent.co.jp/terms/html5-jp",PRIVACY_POLICY_URI:"https://legal.bandainamcoent.co.jp/privacy/jp",FAQ_URI:"https://bnfaq.channel.or.jp/contact/faq_list/1921",MAX_EVOLUTION_STAGE:4,EVOLUTION_ENABLED_RARITY:2,SUPPORT_IDOL_NUM:5,STAMINA_RECOVER_INTERVAL:300,MIN_STAMINA:0,MAX_STAMINA:100,FES_TICKET_RECOVER_INTERVAL:1800,MAX_FES_TICKET:5,MIN_TENSION:1,MAX_TENSION:5,MAX_MEMORY_APPEAL_LEVEL:5,MISSION_TYPES:{DAILY:"daily",WEEKLY:"weekly",NORMAL:"normal",SPECIAL:"special",EVENT:"event",PREVIOUS_EVENT:"previousEvent"},MISSION_STATUS:{PROGRESS:"progress",CLEARED:"cleared",RECEIVED:"received"},RARITIES:{N:1,R:2,SR:3,SSR:4},SKILL_CATEGORIES:{ACTIVE:"active",PASSIVE:"passive",LIMIT_BREAK:"limit_break"},SKILL_TYPES:{ACTIVE:"live_skill",PASSIVE:"passive",SUPPORT:"support_skill",OTHER:"other"},CHARACTERS:r,CHARACTER_NUM:i,textStyle:{fontFamily:"HummingStd-E"},SERVER_ERROR_TYPES:{TIMEOUT:"timeout",FORBIDDEN:"forbidden",BAD_REQUEST:"badRequest",OTHER:"other"},BAD_REQUEST_STATUSES:[{code:1010,dialogTitleKey:"errorDialog.errorTitle",dialogContentKey:"errorDialog.invalidSession"},{code:1020,dialogTitleKey:"errorDialog.errorTitle",dialogContentKey:"errorDialog.produceDuplicate"},{code:1030,dialogTitleKey:"errorDialog.confirmTitle",dialogContentKey:"errorDialog.fesSeason"},{code:1040,dialogTitleKey:"errorDialog.confirmTitle",dialogContentKey:"errorDialog.updateVersion"},{code:1050,dialogTitleKey:"errorDialog.confirmTitle",dialogContentKey:"errorDialog.unavailableGasha"},{code:1070,dialogTitleKey:"errorDialog.errorTitle",dialogContentKey:"errorDialog.earthPaymentFailure"},{code:9e3,dialogTitleKey:"errorDialog.errorTitle",dialogContentKey:"errorDialog.other"}],FORBIDDEN_ERRROR_STATUS:{dialogTitleKey:"errorDialog.errorTitle",dialogContentKey:"errorDialog.forbidden"},TIMEOUT_ERRROR_STATUS:{dialogTitleKey:"errorDialog.errorTitle",dialogContentKey:"errorDialog.timeout"},DEFAULT_ERROR_STATUS:{dialogTitleKey:"errorDialog.errorTitle",dialogContentKey:"errorDialog.simpleOther"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),s=n(128),l=r(s),u=n(360),c=n(130),f=n(417),d=n(411),p=r(d),h=n(412),y=r(h),m=n(132),_=r(m),g={getMoney:function(){return 0},getJewel:function(){return 0}},b={nickname:"",isGuest:function(){return!1}},v=function(){return o.default.post("tutorialProduces/actions/next").then(u.processNextResponse)},w=function(e,t){switch(t){case l.default.PROGRESS.NOT_STARTED:case l.default.PROGRESS.STARTED:return v();case l.default.PROGRESS.OPENING_EVENT_FIRST_HALF:return(0,u.processNextResponse)(e);case l.default.PROGRESS.READY:return(0,u.processReadyResponse)(e);case l.default.PROGRESS.OPENING_EVENT_LAST_HALF:case l.default.PROGRESS.TOP:case l.default.PROGRESS.AFTER_ACTION:case l.default.PROGRESS.BEFORE_COMMU:case l.default.PROGRESS.AFTER_COMMU:case l.default.PROGRESS.SKILL_BOARD:case l.default.PROGRESS.AFTER_SKILL_BOARD:case l.default.PROGRESS.BEFORE_AUDITION_CHEER:case l.default.PROGRESS.AFTER_AUDITION_CHEER:return(0,u.processNextResponse)(e);case l.default.PROGRESS.AUDITION:return(0,c.processConcertStartResponse)(e).then(function(e){return _.default.get().then(function(t){return Object.assign(e,{nickname:t.nickname})})});case l.default.PROGRESS.AUDITION_RESULT:return(0,c.processAuditionResultResponse)(e);case l.default.PROGRESS.IDOL_RANK:return(0,u.processEndWeekResponse)(e);case l.default.PROGRESS.MY_PAGE:return(0,f.processGetResponse)(e).then(function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.idols[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)i.value.comments=[]}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return{user:g,myPage:e,earthUser:b}});case l.default.PROGRESS.FINISHED:return Promise.resolve(e.body);default:throw new Error("tutorial progress "+t+" is invalid")}};t.default={updateProgress:function(){return o.default.post("tutorial/progressUpdate").then(function(e){return e.body})},ready:function(){return o.default.post("tutorialProduces/actions/ready").then(u.processReadyResponse)},start:function(){
return o.default.post("tutorialProduces/actions/start")},startAndNext:function(){var e=this;return this.start().then(function(){return e.next()})},resume:function(){return o.default.get("tutorialProduces/actions/resume").then(function(e){var t=e.header["x-tutorial-progress-status"];if(void 0===t)return window.location.href="/",Promise.reject();var n=parseInt(t,10);return w(e,n).then(function(e){return Object.assign({},e,{tutorialProgress:n})})})},act:function(e){return o.default.post("tutorialProduces/actions/act",{producePlaceCategoryId:e}).then(u.processActResponse)},endWeek:function(){return o.default.post("tutorialProduces/actions/endWeek").then(u.processEndWeekResponse)},next:function(){return v()},get:function(){return o.default.get("tutorialProduces/top").then(u.processProduceTopResponse).then(function(e){for(var t=e.topCharacterReaction.moveReactions,n=e.topCharacterReaction.waitReactions,r=[].concat(i(t),i(n)),a=0;a<r.length;a++)r[a].voice="";return e})},getSkillPanels:function(){return o.default.get("tutorialProduces/skillPanels").then(u.processSkillBoardResponse)},notifyReleasedSkillPanelsConfirmation:function(){return Promise.resolve()},selectProduceEvent:function(e,t){return o.default.post("tutorialProduceEvents/actions/select",t).then(function(e){return e.body})},selectCommunication:function(e,t){return o.default.post("tutorialProduceCommunications/actions/select",t).then(function(e){return e.body})},selectCommunicationCheer:function(e,t){return o.default.post("tutorialProduceCommunicationCheers/actions/select",t).then(function(e){return e.body})},selectCommunicationTelevision:function(e,t){return o.default.post("tutorialProduceCommunicationTelevisions/actions/select",t).then(function(e){return e.body})},selectCommunicationAudition:function(e,t){return o.default.post("tutorialProduceCommunicationAuditions/actions/select",t).then(function(e){return e.body})},auditionPrepare:function(e){return o.default.post("tutorialProduces/audition/actions/prepare",e).then(c.processConcertReadyResponse).then(function(e){return e.produceAudition={},Promise.resolve(e)})},auditionStart:function(){return o.default.post("tutorialProduces/audition/actions/start").then(c.processConcertStartResponse).then(function(e){return _.default.get().then(function(t){return Object.assign(e,{nickname:t.nickname})})})},auditionFinish:function(e){return o.default.post("tutorialProduces/audition/actions/finish",e).then(c.processAuditionResultResponse)},myPage:function(){return o.default.post("tutorial/myPage").then(function(e){return(0,f.processGetResponse)(e).then(function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.idols[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)i.value.comments=[]}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return{user:g,myPage:e,earthUser:b}})})},gashaGroups:function(){return o.default.get("tutorial/gashaGroups").then(function(e){var t=e.body;return t.forEach(function(e,t){aoba.utils.setPrototypeOf(e,y.default),e.gashas.forEach(function(e){aoba.utils.setPrototypeOf(e,p.default)}),e.bannerType="carousel",e.initialCurrencyType="none"}),{user:g,userGashaTickets:[],gashaGroups:t,moneyPower:{coin:"-",point:"-"}}})},finish:function(){return o.default.post("tutorial/finish").then(function(e){return e.body})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(1110),s=r(o),l={AUDITION:function(e){return e>15?{bg:"images/bg/concert/audition_4.jpg",effect:"effect_audition_4.png"}:e>10?{bg:"images/bg/concert/audition_3.jpg",effect:"effect_audition_3.png"}:e>5?{bg:"images/bg/concert/audition_2.jpg",effect:"effect_audition_2.png"}:{bg:"images/bg/concert/audition_1.jpg",effect:"effect_audition_1.png"}},CONCERT:{bg:"images/bg/concert/last_live.jpg",effect:"effect_last_live.png"},FES:{bg:"images/bg/concert/fes.jpg",effect:"effect_fes.png"},AUDITION_SELECT:{bg:"images/bg/concert/audition_4.jpg",effect:"effect_audition_4.png"}},u={NORMAL:{left:"speaker_left.png",right:"speaker_right.png",dy:0},LARGE:{left:"speaker_l_left.png",right:"speaker_l_right.png",dy:-36}},c={CONCERT:{image1:"audience_last_live_1.png",image2:"audience_last_live_2.png"},FES:{image1:"audience_fes_1.png",image2:"audience_fes_2.png"}},f=function(e,t,n,r){var i=function(e){aoba.Tween.new(e).to({alpha:1},800,"easeOutQuad").wait(200).to({alpha:0},800,"easeInQuad").loop()};[e,t,n,r].forEach(function(e,t){t>=2?aoba.Tween.createBlank().wait(900).call(function(){return i(e)}):i(e)})},d=function(e,t){var n=function(e){aoba.Tween.new(e).to({alpha:1},640).to({alpha:0},640).loop()};[e,t].forEach(function(e,t){t>=1?aoba.Tween.createBlank().wait(640).call(function(){return n(e)}):n(e)})},p=function(e,t){[e,t].forEach(function(e){aoba.Tween.new(e).by({scaleX:.1,scaleY:.1},480).by({scaleX:-.1,scaleY:-.1},480).loop()})},h=function(e,t){[e,t].forEach(function(e){aoba.Tween.new(e).to({rotation:7*aoba.DEG_TO_RAD},1024,"easeInOutSine").to({rotation:-7*aoba.DEG_TO_RAD},1024,"easeInOutSine").loop()})},y=function(e){var t=aoba.Sprite.new(e).setScale(4.4375);return t.alpha=.7,t.blendMode=aoba.BLEND_MODES.ADD,aoba.FrameTween.new(t).to({alpha:.7*.7},37).to({alpha:.7},37).loop(),t},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.NORMAL,t=aoba.Container.new(),n=t.fromData(s.default,{speakerLeft:{key:e.left,dy:e.dy},speakerRight:{key:e.right,dy:e.dy},spotlight1:{alpha:0,scale:2.03},spotlight2:{alpha:0,scale:2.87},light1:{scale:2,alpha:0,dx:10,dy:-6},light2:{scale:2,alpha:0,dx:10,dy:-6},light3:{scale:2,alpha:0},light4:{scale:2,alpha:0},effectLeft:{key:"effect_side.png",x:0,y:-20,anchor:aoba.p(.5,0),scale:3.6,alpha:.4},effectRight:{key:"effect_side.png",x:1140,y:-20,anchor:aoba.p(.5,0),scale:3.6,alpha:.4}}),r=n.spotlight1,i=n.spotlight2,a=n.light1,o=n.light2,l=n.light3,c=n.light4,y=n.speakerLeft,m=n.speakerRight,_=n.effectLeft,g=n.effectRight;return[_,_,a,o,l,c].forEach(function(e){e.blendMode=aoba.BLEND_MODES.ADD}),d(r,i),f(a,o,l,c),p(y,m),h(_,g),t},_=function(e){var t=aoba.Sprite.new(e.image1);return t.setScale(2.2),t.setAnchor(.5,1),t.setPosition(a.default.SCREEN_WIDTH/2,a.default.SCREEN_HEIGHT),aoba.FrameTween.new(t).wait(30).call(function(){t.texture=aoba.Texture.fromImage(e.image2)}).wait(30).call(function(){t.texture=aoba.Texture.fromImage(e.image1)}).loop(),t},g=function(e){var t=l.AUDITION(e),n=aoba.Sprite.new(t.bg);return y(t.effect).addTo(n),m().addTo(n),n},b=function(){var e=l.CONCERT,t=aoba.Sprite.new(e.bg);return y(e.effect).addTo(t),_(c.CONCERT).addTo(t),m(u.LARGE).addTo(t),t},v=function(){var e=l.FES,t=aoba.Sprite.new(e.bg);return y(e.effect).addTo(t),_(c.FES).addTo(t),m(u.LARGE).addTo(t),t},w=function(){var e=l.AUDITION_SELECT,t=aoba.Sprite.new(e.bg);y(e.effect).addTo(t),m().addTo(t);var n=new PIXI.filters.BlurFilter;return n.blur=5,t.filters=[n],t};t.default={IMAGES:l,createAudition:g,createConcert:b,createFes:v,createAuditionSelect:w}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(287),i=n(191);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(62),i=Math.max,a=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(8),i=n(288),a=n(191),o=n(190)("IE_PROTO"),s=function(){},l=function(){var e,t=n(188)("iframe"),r=a.length;for(t.style.display="none",n(192).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[a[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(287),i=n(191).concat("length","prototype")
;t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(11),i=n(28),a=n(27),o=n(25)("species");e.exports=function(e){var t=r[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(53),i=n(299),a=n(204),o=n(8),s=n(29),l=n(206),u={},c={},t=e.exports=function(e,t,n,f,d){var p,h,y,m,_=d?function(){return e}:l(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(a(_)){for(p=s(e.length);p>b;b++)if((m=t?g(o(h=e[b])[0],h[1]):g(e[b]))===u||m===c)return m}else for(y=_.call(e);!(h=y.next()).done;)if((m=i(y,g,h.value,t))===u||m===c)return m};t.BREAK=u,t.RETURN=c},function(e,t,n){var r=n(47);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);u.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||o(a,this)}function a(e){e.end()}var o=n(156),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var l=n(123);l.inherits=n(6);var u=n(320),c=n(219);l.inherits(r,u);for(var f=s(c.prototype),d=0;d<f.length;d++){var p=f[d];r.prototype[p]||(r.prototype[p]=c.prototype[p])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),o(t,e)}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(31),s=r(o),l=n(1),u=r(l),c=n(172),f=r(c),d=n(966),p=r(d),h=n(3),y=r(h),m=u.default.asset.CONTENT_IMAGE_PATH,_={JEWEL:"jewel",MONEY:"money",EVENT_POINT:"game_event_point"};t.default={getIconImagePath:function(){return e.contains(_,this.contentType)?s.default.join(p.default[this.contentType].iconPath):"gasha_ticket"===this.contentType?s.default.join(m,p.default[this.contentType].iconPath,this._getGashaIcon()+".png"):s.default.join(m,p.default[this.contentType].iconPath,a.default.pad(this._getRewardId(),3,"0")+".png")},_getRewardId:function(){return this.content.id},_setName:function(){if(e.contains(_,this.contentType)){var t=p.default[this.contentType].name;this.content={name:y.default.t(t)}}},getName:function(){return this.content||this._setName(),this.content.name},_getGashaIcon:function(){return f.default[this.content.image]}}}).call(t,n(4))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),a=r(i),o=n(32),s=r(o),l=n(228),u=r(l),c=n(382),f=r(c),d=function(e){return e>=0?"+"+e:""+e},p={NUMBER:"number"},h=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},y=function(e){return h(e)===p.NUMBER},m=function(){return(screen&&screen.orientation&&screen.orientation.angle||window.orientation||0)%180==0},_=function(){return-1===document.referrer.indexOf(window.location.hostname)},g=function(e){return e.replace(/_./g,function(e){return e.charAt(1).toUpperCase()})};t.default={dateFormat:a.default,isExternalReferrer:_,loadResources:s.default,resourceCleaner:u.default,scriptLoader:f.default,getNumberStringWithSign:d,TYPE:p,typeOf:h,isNumber:y,isScreenPortraitOrientation:m,snakeToCamel:g}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(1),f=r(c),d=n(0),p=r(d),h={l:{image:"icol_label_base_l.png",baseX:2,textX:90},s:{image:"icol_label_base_s.png",baseX:12,textX:80}},y=function(e,t){var n=aoba.Sprite.new(t.image);return aoba.Text.new(e,{fill:16777215,fontSize:14,fontFamily:"UDKakugo_SmallPr6-B"}).addTo(n,t.textX,n.height/2+1,{anchor:aoba.p(1,.5)}),n.x=t.baseX,n.y=76,n},m=function(e){var t=aoba.Container.new(),n=e===f.default.app.MAX_EVOLUTION_STAGE?"icon_evolution_max.png":"icon_evolution.png";return(0,u.default)(e).times(function(e){aoba.Sprite.new(n).addTo(t,0,-16*e,{scale:.7})}),t.x=-8,t.y=76,t},_=function(e){return aoba.Sprite.new("icon_fes_idol_rank_s_"+e+".png").setPosition(3,3).setScale(.6)},g={userIdol:function(e,t){m(e.evolutionStage).addTo(t)},userSupportIdol:function(e,t){y("Lv."+e.level,h.s).addTo(t),m(e.evolutionStage).addTo(t)},reserveIdol:function(e,t){y("\xd7"+e.num,h.l).addTo(t)},fesIdol:function(e,t){y(e.fesIdolRankPoint,h.s).addTo(t),_(e.fesIdolRank.rank.toLowerCase()).addTo(t)},fesResultIdol:function(e,t){_(e.fesIdolRank.rank.toLowerCase()).addTo(t)}},b=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.getIconImagePath()));if(r._overlayContainer=aoba.Container.new().addTo(r),e.fesIdolRankId)r._addOverlayContainer=n?g.fesResultIdol:g.fesIdol;else if(e.num)r._addOverlayContainer=g.reserveIdol;else if(e.idol)r._addOverlayContainer=g.userIdol;else{if(!e.supportIdol)throw new Error("Invalid idol type");r._addOverlayContainer=g.userSupportIdol}return r.applyData(e),r.interactive=!0,p.default.InteractionBox.new(r.bounds).addTo(r).on("longPress",function(){r.emit("longPress")}),r}return o(t,e),s(t,[{key:"applyData",value:function(e){this._addOverlayContainer(e,this._overlayContainer)}},{key:"updateFormationBadge",value:function(e){e?this._formationIcon||(this._formationIcon=aoba.Sprite.new("idol_icon_badge_formation.png").addTo(this,47,-10)):this._formationIcon&&(this._formationIcon.destroy(),this._formationIcon=null)}},{key:"disable",value:function(){this.tint=10066329,this.interactive=!1}}]),t}(aoba.Sprite);t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){
var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a._alpha=n,a._spotLight=aoba.Graphics.new().beginFill(0).drawRect(0,0,l.default.SCREEN_WIDTH,l.default.SCREEN_HEIGHT).addTo(a,0,0,{alpha:0}),e&&a._showSpotLight(),a}return a(t,e),o(t,[{key:"showSpotLight",value:function(){this._showSpotLight()}},{key:"hideSpotLight",value:function(){aoba.Tween.new(this._spotLight).wait(100).to({alpha:0,interactive:!1},100)}},{key:"hideSpotLightCallback",value:function(e){aoba.Tween.new(this._spotLight).wait(100).to({alpha:0,interactive:!1},100).call(function(){return e()})}},{key:"_showSpotLight",value:function(){aoba.Tween.new(this._spotLight).wait(100).to({alpha:this._alpha,interactive:!0},300)}}]),t}(aoba.Container);t.default=u},function(e,t,n){var r=n(28).f,i=n(45),a=n(25)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(2),i=n(61),a=n(15),o=n(194),s="["+o+"]",l="\u200b\x85",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(e,t,n){var i={},s=a(function(){return!!o[e]()||l[e]()!=l}),u=i[e]=s?t(d):o[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},d=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t){e.exports={}},function(e,t,n){var r=n(17);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";(function(t,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function a(e,n){if(e>65536)throw new Error("requested too many random bytes");var i=new t.Uint8Array(e);e>0&&s.getRandomValues(i);var a=o.from(i.buffer);return"function"==typeof n?r.nextTick(function(){n(null,a)}):a}var o=n(18).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=a:e.exports=i}).call(t,n(44),n(43))},function(e,t,n){function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var i=n(18).Buffer;r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,a=e.length,o=this._len,s=0;s<a;){for(var l=o%r,u=Math.min(a-s,r-l),c=0;c<u;c++)n[l+c]=e[s+c];o+=u,s+=u,o%r==0&&this._update(n)}return this._len+=a,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=4294967295&n,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ADMIN_UPLOADED_FILE_PATH:"upload",AFTER_EFFECTS_PATH:"assets/ae",CONTENT_IMAGE_PATH:"images/content",UI_IMAGE_PATH:"images/ui",MOVIE_PATH:"movies/",SCENARIO_PATH:"json/",SPINE_PATH:"spine/",VOICE_PATH:"sounds/voice",CONCERT_MUSIC_PATH:"sounds/concert_music",CONTENT_TYPE:{PRODUCER_IDOL:"idol",SUPPORT_IDOL:"support_idol",ENHANCEMENT_ITEM:"enhancement_item",RECOVERY_ITEM:"recovery_item",GASHA_TICKET:"gasha_ticket",JEWEL:"jewel",MONEY:"money"},ID_DIGIT_NUMBER:{announces:8,characters:3,enhancement_items:3,fes_trend_banners:8,gasha_tickets:3,general_banners:8,idols:10,produces:3,produce_auditions:3,produce_marathons:5,produce_place_categories:5,recovery_items:3,skills:3,special_banners:8,special_login_bonuses:3,support_idols:10,unit:3},SPINE_FILE_NAME:"data.json",MOVIE_EXTENSION:".mp4",SOUND_EXTENSION:".m4a",HTML_EXTENSION:"html",DEFAULT_IMAGE_EXTENSION:".png",IMAGE_EXTENSION:{gasha:{bg:".jpg"},idols:{card:".jpg",fes_card:".jpg"},support_idols:{card:".jpg"},produce_auditions:{banner:".jpg"},produce_marathons:{bg:".jpg"}},extMap:{card:"jpg",fes_card:"jpg"},imageTypes:{characters:["concert_player_icon","concert_card","concert_icon","icon_circle","icon_circle_l","link_skill_icon","memory_skill_icon","memory_movie","memory_roulette_bad","memory_roulette_good","active_skill_silhouette","sign"],idols:["card","concert_card","concert_icon","cut_in","face","fes_card","fes_card_s","fes_icon","fes_skill_panel","gasha_silhouette_black","gasha_silhouette_pose","gasha_silhouette_stand","home_card","icon","name","skill_panel"],support_idols:["card","home_card","icon","name","skill_panel"]},movieTypes:{characters:["card_costume"],idols:["card","card_costume"]},spineTypes:{idols:["cb","cb_costume","stand","stand_costume"]},voiceIds:{idols:["gasha"],support_idols:[]},specificMovieRarities:[3,4],specificSpineRarities:[3,4],advSpineTypeAliasMap:{stand_fix:"stand"},ICON_KEY_OF_STATUS_RANK:{S:"icon_status_rank_s_s.png",A:"icon_status_rank_s_a.png",B:"icon_status_rank_s_b.png",C:"icon_status_rank_s_c.png",D:"icon_status_rank_s_d.png",E:"icon_status_rank_s_e.png",F:"icon_status_rank_s_f.png"},PARAMETER_ICONS:{vocal:"icon_status_vocal.png",dance:"icon_status_dance.png",visual:"icon_status_visual.png",mental:"icon_status_mental.png",sp:"icon_status_sp.png",fan:"icon_status_fan.png"},PARAMETER_ICONS_L:{vocal:"icon_status_l_vocal.png",dance:"icon_status_l_dance.png",visual:"icon_status_l_visual.png",mental:"icon_status_l_mental.png",sp:"icon_status_l_sp.png",fan:"icon_status_l_fan.png"},IDOL_RANK_ICONS:{F:"icon_idol_rank_f.png",E:"icon_idol_rank_e.png",D:"icon_idol_rank_d.png",C:"icon_idol_rank_c.png",B:"icon_idol_rank_b.png",A:"icon_idol_rank_a.png",S:"icon_idol_rank_s.png"},ACTIVE_SKILL_ICON:function(e){return"active_skills/icon/"+e+".png"},PASSIVE_SKILL_ICON:function(e){return"passive_skills/icon/"+e+".png"},NOTICE_TYPE:{PICKUP:"pickups",BANNER:"banners"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=!1,l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"start",value:function(e){var t=this;if(s)throw new Error("CanvasStyleWatcher already started");s=!0,e.addResizeListener(function(e,n){t.emit("resized",{innerWidth:e,innerHeight:n})})}}]),t}(aoba.utils.EventEmitter),u=new l;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(7),c=r(u),f=n(0),d=r(f),p=450,h=280,y=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=d.default.MovingBg.new();n.addTo(e);var r=aoba.Sprite.new("transition_page_turn_bar.png");return r.addTo(e,-r.width),n.mask=aoba.Graphics.new().beginFill(0).drawPolygon([-p-h,0,n.width,0,n.width+p,n.height,-h,n.height]).addTo(e,-(n.width+p+h)),e._bg=n,e._bar=r,e}return s(t,e),l(t,[{key:"play",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parallels?[].concat(i(t.parallels),[this.appear()]):[this.appear()];return Promise.all(n).then(function(t){return e.disappear(),Promise.resolve(t)})}},{key:"appear",value:function(){return aoba.soundManager.playSE(c.default.transition.maskIn),aoba.FrameTween.new(this._bar).by({x:this._bg.width+p+h},16),aoba.FrameTween.new(this._bg.mask).by({x:this._bg.width+p+h},16).wait(3).promise()}},{key:"disappear",value:function(){var e=this;aoba.soundManager.playSE(c.default.transition.maskOut),this._bar.x=-this._bar.width,aoba.FrameTween.new(this._bar).by({x:this._bg.width+p+h},16),aoba.FrameTween.new(this._bg.mask).by({x:this._bg.width+p+h},16).call(function(){e.destroy({children:!0})})}},{key:"prepareForAppearing",value:function(){return this._bar.x=-this._bar.width,this._bg.mask.x=-(this._bg.width+p+h),this}},{key:"prepareForDisappearing",value:function(){return this._bar.x=-this._bar.width,this._bg.mask.x=0,this}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(74),a=r(i),o=n(1),s=r(o),l=n(163),u=r(l),c=n(835),f=r(c),d=n(836),p=r(d),h=n(837),y=r(h),m=n(838),_=r(m),g=n(858),b=r(g),v=n(859),w=r(v),k=n(382),S=r(k),I=n(32),E=r(I),A=a.default.AdvResourceConverter,x=function(e){return S.default.load(e).then(function(e){var t=new A(u.default),n=t.convertResourcePaths(e),r=s.default.asset.advSpineTypeAliasMap,i=Object.keys(r),a=!0,o=!1,l=void 0;try{for(var c,f=n[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var d=c.value;if(i.includes(d.charCategory)){var p=r[d.charCategory];d.charSpine=d.charSpine.replace(d.charCategory,p)}}}catch(e){o=!0,l=e}finally{try{!a&&f.return&&f.return()}finally{if(o)throw l}}return n})},C=function(e){var t=new A(u.default),n=t.extractResourceList(e);return(0,E.default)(n).then(function(){return Promise.resolve(e)})},T=function(e){return x(e).then(function(e){return C(e)})},P=function(e){var t=f.default.new(e,u.default);return t.mainController=p.default.new(),t.movieLayer=y.default.new(),t.selectList=w.default.new(u.default.selectList),t.soundController=new b.default,t.scenarioPlayer=_.default.new(u.default.scenarioPlayer),t.scenarioPlayer.x=u.default.scenarioPlayer.x,t.scenarioPlayer.y=u.default.scenarioPlayer.y,t},O=function(e){return new Promise(function(t){return e.start().on("end",t)}).catch(function(e){return Promise.resolve()})},N=function(e,t){var n=P(e).addTo(t);return O(n)};t.default={loadJson:x,loadResourcesFromTracks:C,loadJsonAndResources:T,createAdvPlayer:P,playAdvPlayer:O,createAndPlayAdvPlayer:N}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{}));return n.anchor.set(.5),n.on("tap",n._handleTap,n),n}return a(t,e),o(t,[{key:"setAvailable",value:function(e){e?this.enable():this.disable()}},{key:"disable",value:function(){this.interactive=!1,this.tint=10066329}},{key:"enable",value:function(){this.interactive=!0,this.tint=16777215}},{key:"_handleTap",value:function(){aoba.soundManager.playSE(l.default.ui.decide);var e=aoba.Sprite.new(this.texture).addTo(this,0,0,{alpha:0,anchor:.5,blendMode:aoba.BLEND_MODES.ADD});aoba.FrameTween.new(e).to({alpha:.3},2).to({alpha:0},3).call(function(){return e.destroy()})}}]),t}(aoba.Button);t.default=u},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e){var n;return i(this,t),(n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))).beginFill(e.color).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT),n.alpha=0,n._duration=e.duration,n}return o(t,e),s(t,[{key:"play",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parallels?[].concat(r(t.parallels),[this.appear()]):[this.appear()];return Promise.all(n).then(function(t){return e.disappear(),Promise.resolve(t)})}},{key:"appear",value:function(){return aoba.Tween.new(this).to({alpha:1},this._duration).promise()}},{key:"disappear",value:function(){var e=this;aoba.Tween.new(this).to({alpha:0},this._duration).call(function(){e.destroy({children:!0})})}}],[{key:"createBlack",value:function(e){return t.new(Object.assign({color:0,duration:100},e))}},{key:"createWhite",value:function(e){return t.new(Object.assign({color:16777215,duration:100},e))}}]),t}(aoba.Graphics);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)("get",e).type("application/json").then(function(e){return Promise.resolve(e)})};var r=n(129),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(405),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getImagePath:function(e){return this._extendedSupportIdol.getImagePath(e)},getSpinePath:function(e){return this._extendedSupportIdol.getSpinePath(e)},getRarityImagePath:function(e){return this._extendedSupportIdol.getRarityImagePath(e)},getUnitImagePath:function(e){return this._extendedSupportIdol.getUnitImagePath(e)},getIconImagePath:function(){
return this._extendedSupportIdol.getIconImagePath()},getVoicePath:function(e){return this._extendedSupportIdol.getVoicePath(e)},get name(){return this.supportIdol.name},get firstName(){return this._extendedSupportIdol.firstName},get supportIdolId(){return this.supportIdol.id},get characterId(){return this._extendedSupportIdol.characterId},get character(){return this.supportIdol.character},get unitId(){return this._extendedSupportIdol.unitId},get supportSkills(){return this.supportIdol.supportSkills||[]},get skillPanels(){return this.supportIdol.skillPanels},get rarity(){return this.supportIdol.rarity},get acquiredSupportSkills(){var e=this;return this.supportSkills.filter(function(t){return t.level<=e.level})},get supportIdolActiveSkill(){return this.supportIdol.supportIdolActiveSkill},get produceSupportIdolEvents(){return this.supportIdol.produceSupportIdolEvents},calcBonusMapWithLevel:function(e,t){return this._extendedSupportIdol.calcBonusMapWithLevel(e,t)},calcUniqueSkillLevelWithLevel:function(e){return this._extendedSupportIdol.calcUniqueSkillLevelWithLevel(e)},getTotalAppeal:function(){var e=this;return["vocalBonus","danceBonus","visualBonus"].reduce(function(t,n){return t+e[n]},0)},get _extendedSupportIdol(){return aoba.utils.getPrototypeOf(this.supportIdol)!==i.default&&aoba.utils.setPrototypeOf(this.supportIdol,i.default),this.supportIdol}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.claims=void 0;var i=n(944),a=r(i),o=n(9),s=r(o),l=n(242),u=r(l),c=n(42),f=r(c),d=n(67),p=r(d),h=!f.default.PF_URI,y=h?"dev/login":"login",m=t.claims=Object.create(null),_=function(){var e=!1;return new Promise(function(t,n){p.default.startLogin(f.default.GAME_ID,function(r){s.default.addHeader("Authorization",r),Object.assign(m,a.default.jws.JWS.readSafeJSONString(a.default.b64utoutf8(r.split(".")[1]))),e||s.default.post(y).then(function(n){e=!0,u.default.setUserId(m.id),t(n)}).catch(function(e){n(e)})},function(){})})},g=function(){return new Promise(function(e,t){var n=localStorage.getItem("userId");s.default.addHeader("Authorization",n),Object.assign(m,{id:n,is_app_installed:!1,is_guest:!0,is_game_user_registered:!0}),s.default.post(y).then(function(t){e(t)}).catch(function(e){t(e)})})};t.default=function(){return h?g():_()}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._fixed=void 0!==n.fixed&&n.fixed,a._type=void 0===n.type?"horizontal":n.type,a._maxValue=void 0===n.maxValue?100:n.maxValue,a._value=void 0===n.value?a._maxValue:n.value,a._viewValue=a._value,a._speed=void 0===n.speed?2:n.speed,a.mask=aoba.Graphics.new().addTo(a),a._updateGauge(),a}return a(t,e),o(t,[{key:"ezgUpdate",value:function(){if(!this._fixed){var e=this._maxValue*this._speed/100;this._value>this._viewValue&&this._increase(Math.min(e,this._value-this._viewValue)),this._value<this._viewValue&&this._decrease(Math.min(e,this._viewValue-this._value)),this._updateGauge()}}},{key:"setValue",value:function(e){if(this.value!==e){var t=e-this.value;t>0?this.increase(t):this.decrease(-t)}}},{key:"increase",value:function(e){this._isFull()||(this._value+=e,this._value=Math.min(this._value,this._maxValue))}},{key:"decrease",value:function(e){this._isEmpty()||(this._value-=e,this._value=Math.max(this._value,0))}},{key:"_increase",value:function(e){this._viewValue+=e,this._isFullView()&&this.emit("full")}},{key:"_decrease",value:function(e){this._viewValue-=e,this._isEmptyView()&&this.emit("empty")}},{key:"_isFull",value:function(){return this._value===this._maxValue}},{key:"_isFullView",value:function(){return this._viewValue===this._maxValue}},{key:"_isEmpty",value:function(){return 0===this._value}},{key:"_isEmptyView",value:function(){return 0===this._viewValue}},{key:"_updateGauge",value:function(){this.mask.clear(),this.mask.beginFill(0);var e=-this.width*this.anchor.x,t=-this.height*this.anchor.y;"horizontal"===this._type?this.mask.drawRect(e,t,this.width*this.viewRate,this.height):"vertical"===this._type&&this.mask.drawRect(e,t+this.height*(1-this.viewRate),this.width,this.height*this.viewRate)}},{key:"value",get:function(){return this._value},set:function(e){this._value=e}},{key:"maxValue",get:function(){return this._maxValue},set:function(e){this._maxValue=e}},{key:"rate",get:function(){return this._value/this._maxValue}},{key:"viewRate",get:function(){return this._viewValue/this._maxValue}}]),t}(aoba.Sprite);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=aoba,l=s.Graphics,u=function(e){function t(e){var n;r(this,t);var a=e.width,o=e.height;return(n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))).beginFill(7827066).drawRoundedRect(0,0,a,o,a/2),n._scrollBar=null,n}return a(t,e),o(t,[{key:"addScrollBar",value:function(e){this._scrollBar=e.addTo(this)}}]),t}(l);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)
},u=n(4),c=r(u),f=n(13),d=r(f),p=n(1),h=r(p),y=n(0),m=r(y),_=n(109),g=r(_),b=n(1038),v=r(b),w=n(1040),k=r(w),S=n(1044),I=r(S),E=n(255),A=r(E),x=n(1047),C=r(x),T=n(428),P=r(T),O=n(1050),N=r(O),M=n(228),R=r(M),D=function(e){var t=v.default.new().addTo(e).start().on("timeUp",function(){e.selectList.forceSelect()});e.selectList.on("selectStart",function(){t.fadeOut()})},F=function(e){return aoba.Tween.new(e).to({alpha:0},100).promise()},B=function(e,t){var n=m.default.Spine.new(e);return n.play("smile1",!0),n.addTo(t,224,640),aoba.Tween.new(n).to({alpha:1},100).promise()},j=function(e,t){return d.default.pad(e,3,"0")+"_memory_appeal_"+t},L=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._event=e.event,n._userProduceIdol=e.userProduceIdol,n._eventTracks=[],n._answerResponse=null,n._produceAction=e.produceAction,n._onUpdateParameter=e.onUpdateParameter,n._hideMainController=e.hideMainController,n}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){var e=this,n=["stand","stand_costume"],r=n.map(function(t){return e._userProduceIdol.getSpinePath(t)});r.push("spine/sub_characters/stand/staff/data.json");var i=[],a=["se","voice","bg","fg"],o=!0,s=!1,u=void 0;try{for(var f,d=this._eventTracks[Symbol.iterator]();!(o=(f=d.next()).done);o=!0){var p=f.value,h=!0,y=!1,m=void 0;try{for(var _,g=a[Symbol.iterator]();!(h=(_=g.next()).done);h=!0){var b=_.value,v=p[b];v&&i.push(v)}}catch(e){y=!0,m=e}finally{try{!h&&g.return&&g.return()}finally{if(y)throw m}}var w=aoba.soundManager.createBgmResourceName(aoba.soundManager.bgm.name);p.bgm&&p.bgm!==w&&i.push(p.bgm),p.charSpine&&!r.includes(p.charSpine)&&i.push(p.charSpine)}}catch(e){s=!0,u=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw u}}R.default.releaseResources(c.default.uniq(i)),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"preload",value:function(){var e=this,t=this._event.eventCategory.getDataPath(this._event.id);return g.default.loadJson(t).then(function(t){if(e._userProduceIdol){var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;Object.keys(h.default.asset.advSpineTypeAliasMap).includes(s.charCategory)||s.charSpine&&parseInt(s.charId,10).toString()===e._userProduceIdol.characterId&&(s.charSpine=e._userProduceIdol.getSpinePath(s.charCategory||"stand"))}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}return t}).then(function(e){return g.default.loadResourcesFromTracks(e)})}},{key:"play",value:function(e){var t=this;dlog(!1,"play_allTracks",[e]);this._eventTracks=e;var n=this._event,r=g.default.createAdvPlayer(this._processTracks(e)).addTo(this);this._hideMainController&&r.mainController.hide(),r.on("appearSelectList",function(){t.emit("appearSelectList",r)}),this._addPlate(),n.eventCategory.hasTimeLimit&&r.on("appearSelectList",function(){D(r)}),n.supportSkill&&(this._playSupportSkillCutIn(n.supportSkill),dlog(!1,"play_supportSkill",n));var i=this._getAnswerIds();return!n.eventCategory.noSelect&&i&&e.some(function(e){return e.select})&&r.on("select",function(e){dlog(!1,"play_storeAnswer",e);return t._storeAnswer(e)}),Promise.resolve().then(function(){return g.default.playAdvPlayer(r)}).then(function(){return t._notifyAnswer()}).then(function(){return t._showResults(r)})}},{key:"_processTracks",value:function(e){var t=this._getAnswerIds();if(this._event.eventCategory.hasRandomAnswers&&t){e=e.filter(function(e){return!(e.select&&!t.includes(e.nextLabel))});for(var n=e.filter(function(e){return e.select&&t.includes(e.nextLabel)}),r=n.length-1;r>0;r--){var i=Math.floor(Math.random()*(r+1)),a=n[r];n[r]=n[i],n[i]=a}for(var o=void 0,s=0;s<e.length;s++){var l=e[s];if(l.select&&t.includes(l.nextLabel)){o=s;break}}n.forEach(function(t,n){e[o+n]=t})}return e}},{key:"_storeAnswer",value:function(e){this._answerId=e}},{key:"_notifyAnswer",value:function(){var e=this,t=this._answerId,n=this._getAnswerIds();if(void 0===t||!n.includes(this._answerId))return Promise.resolve();var r=this._event;return r.eventCategory.requestSelect(this._produceAction,r.id,t).then(function(n){e._answerResponse=n,e._answerResponse.answerId=t})}},{key:"_showResults",value:function(e){var t=this._event,n=this._answerResponse,r=!!n&&(n.eventParam||n.param||n.produceEventParam),i=r||t.eventParam||t.param,a=[];if(i&&a.push(this._playParamsUp(i,e)),t.eventCategory.hasResultEffect){if(n){var o=t.eventCategory,s=o.getResult(n);if("agree"!=s&&"disagree"!=s)dlog("selectResult",s);a.push(o.ResultClass.new(s).addTo(e).play())}if(void 0!==t.isSuccess){var l=t.eventCategory,u=l.getResult(t);dlog("showResult",u);a.push(l.ResultClass.new(u).addTo(e).play())}}return Promise.all(a).then(function(){return Promise.resolve({answerResponse:n})})}},{key:"_getAnswerIds",value:function(){var e=this._event.answers;return e&&e.map(function(e){return e.id}).slice(0,3)}},{key:"_addPlate",value:function(){var e=this._event,t=e.eventCategoryName,n=e.title,r=e.supportIdolId,i=t&&n?{eventCategoryName:t,title:n,supportIdolId:r}:null;i&&(0,k.default)(i,this._userProduceIdol).addTo(this)}},{key:"_playSupportSkillCutIn",value:function(e){var t=this;return new Promise(function(n){A.default.new(e).addTo(t).on("end",n)})}},{key:"_playParamsUp",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=t.vocal,i=t.dance,a=t.visual,o=t.mental,s=t.stamina,l=t.tension,u=t.tensionLevel,f=t.memoryPoint,d=t.memoryLevel,p=t.fan,h=t.skillPoint,y=Promise.resolve(),m=this._userProduceIdol,_=s&&0!==s,g=l&&0!==l,b=f&&0!==f,v=d&&0!==d;var txt="\n";if(r+i+a+o+h>0){dlog(!1,"ParamsUp\n");var ii=-1,updata={vocal:r,dance:i,visual:a,mental:o,fan:p,sp:h},css=["FF70D0","70B0FF","F0C040","B050F0","10C000","F09040"],obja=[];for(var ll in updata){ii++;if(updata[ll]>0)dlog("%c"+ll+":+"+updata[ll],"font-weight:bold;font-size:2em;background:#"+css[ii])}}if(g){var w=m.tensionLevel,k=Math.min(Math.max(w+u,1),5);txt=txt+"tensionUP\n TensionLevel: "+w+(u?" "+(u>0?"+"+u:u):"")+(u?" \u2192 "+k:"")+"\n TensionPoint: "+m.tension+" "+(l>0?"+"+l:l)+" \u2192 "+(m.tension+l)+"\n";y=y.then(function(){return N.default.new({tensionLevel:k,isIncreased:l>0}).addTo(e).play()})}if(b){var S=this._userProduceIdol.memoryAppealLevel,E=m.userIdol.idol.memoryAppeals,A={nextMemoryAppeal:E.find(function(e){return e.level===S+1}),total:m.totalMemoryPoint,add:f};txt=txt+"memoryUP\n MemoryLevel: "+S+(d?" +"+d+" \u2192 "+(S+d):"")+"\n MemoryPoint: "+A.total+" +"+f+" \u2192 "+(A.total+f)+"\n";if(y=y.then(function(){return C.default.new(S,v,A).addTo(e).play()}),v){var x=S+d,T=E.find(function(e){return e.level===S}),P=E.find(function(e){return e.level===x});y=y.then(function(){return F(n.characterStage)}).then(function(){aoba.Tween.createBlank().wait(300).call(function(){B(e._userProduceIdol.getSpinePath("stand"),e),aoba.soundManager.playVoiceAsync(e._userProduceIdol.getVoicePath(j(e._userProduceIdol.characterId,P.level)))});var t=I.default.new(T,P).addTo(e);return t.once("middle",function(){e.emit("endMemoryLevelUp",e)}),t.play()})}}if("\n"!=txt)dlog(true,"Up",txt,"ParamsUp",5);return(_||g||v)&&this._onUpdateParameter({stamina:s,tensionLevel:u,memoryAppealLevel:d}),c.default.each({vocal:r,dance:i,visual:a,mental:o,fan:p,sp:h},function(t,n){t&&(y=y.then(function(){return e._showParameterUpEffect(n,t)}))}),y}},{key:"_showParameterUpEffect",value:function(e,t){var n=this;return new Promise(function(r){P.default.new(e,t).addTo(n).once("end",function(e){e.destroy({children:!0}),r()})})}}]),t}(aoba.Container);t.default=L},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.interactive=!0,n._holded=!1,n.on("touchstart",n._startHold,n),n.on("touchendoutside",n._endHold,n),n.on("touchmove",n._onTouchMove,n),n.on("touchend",n._endHold,n),n}return a(t,e),o(t,[{key:"_startHold",value:function(){this._holded||(this._holded=!0,this._scaleUp(),aoba.soundManager.playSE(l.default.ui.select),this.emit("holdstart",this))}},{key:"_onTouchMove",value:function(e){if(this._holded){e.stopPropagation();var t=e.data.global;this.bounds.contains(t.x,t.y)||this._endHold()}}},{key:"_endHold",value:function(e){e&&this._holded&&(this._holded=!1,this._scaleDown(),this.emit("holdend",this))}},{key:"_scaleUp",value:function(){this.scale.x*=1.1,this.scale.y*=1.1}},{key:"_scaleDown",value:function(){this.scale.x*=10/11,this.scale.y*=10/11}}]),t}(aoba.Sprite);t.default=u},function(e,t,n){var r=n(54);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(54),i=n(25)("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),i))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";(function(t){function r(e){u.call(this,"digest"),this._hash=e,this.buffers=[]}function i(e){u.call(this,"digest"),this._hash=e}var a=n(6),o=n(215),s=n(216),l=n(222),u=n(80);a(r,u),r.prototype._update=function(e){this.buffers.push(e)},r.prototype._final=function(){var e=t.concat(this.buffers),n=this._hash(e);return this.buffers=null,n},a(i,u),i.prototype._update=function(e){this._hash.update(e)},i.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return e=e.toLowerCase(),"md5"===e?new r(o):new i("rmd160"===e||"ripemd160"===e?new s:l(e))}}).call(t,n(16).Buffer)},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===m(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function a(e){return null==e}function o(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return"[object RegExp]"===m(e)}function f(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===m(e)}function p(e){return"[object Error]"===m(e)||e instanceof Error}function h(e){return"function"==typeof e}function y(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function m(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=a,t.isNumber=o,t.isString=s,t.isSymbol=l,t.isUndefined=u,t.isRegExp=c,t.isObject=f,t.isDate=d,t.isError=p,t.isFunction=h,t.isPrimitive=y,t.isBuffer=e.isBuffer}).call(t,n(16).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),a=0;a<r;++a)i[a]=e[a]^n[a];return i}}).call(t,n(16).Buffer)},function(e,t,n){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var i=n(65),a=n(52);t.BlockHash=r,r.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,a=8;a<this.padLength;a++)r[i++]=0;return r}},function(e,t,n){var r=t;r.bignum=n(30),r.define=n(775).define,r.base=n(127),r.constants=n(345),r.decoders=n(781),r.encoders=n(783)},function(e,t,n){var r=t;r.Reporter=n(778).Reporter,r.DecoderBuffer=n(344).DecoderBuffer,r.EncoderBuffer=n(344).EncoderBuffer,r.Node=n(779)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PROGRESS:{NOT_STARTED:0,STARTED:100,OPENING_EVENT_FIRST_HALF:150,READY:200,OPENING_EVENT_LAST_HALF:300,TOP:400,AFTER_ACTION:450,BEFORE_COMMU:500,AFTER_COMMU:550,SKILL_BOARD:600,AFTER_SKILL_BOARD:700,BEFORE_AUDITION_CHEER:730,AFTER_AUDITION_CHEER:750,AUDITION:800,AUDITION_RESULT:900,IDOL_RANK:950,MY_PAGE:1e3,FINISHED:99999}}},function(e,t,n){function r(){}function i(e){if(!y(e))return e;var t=[];for(var n in e)a(t,n,e[n]);return t.join("&")}function a(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){a(e,t,n)});else if(y(n))for(var r in n)a(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function o(e){for(var t,n,r={},i=e.split("&"),a=0,o=i.length;a<o;++a)t=i[a],n=t.indexOf("="),-1==n?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function s(e){for(var t,n,r,i,a=e.split(/\r?\n/),o={},s=0,l=a.length;s<l;++s)n=a[s],-1!==(t=n.indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=b(n.slice(t+1)),o[r]=i);return o}function l(e){return/[\/+]json($|[^-\w])/.test(e)}function u(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=s(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function c(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new u(n)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",t);var r;try{n._isResponseOK(t)||(r=new Error(t.statusText||"Unsuccessful HTTP response"))}catch(e){r=e}r?(r.original=e,r.response=t,r.status=t.status,
n.callback(r,t)):n.callback(null,t)})}function f(e,t,n){var r=g("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}var d;d="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var p=n(815),h=n(816),y=n(358),m=n(817),_=n(819),g=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=c,g.getXHR=function(){if(!(!d.XMLHttpRequest||d.location&&"file:"==d.location.protocol&&d.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var b="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=i,g.parseString=o,g.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":o,"application/json":JSON.parse},m(u.prototype),u.prototype._parseBody=function(e){var t=g.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&l(this.type)&&(t=g.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},u.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},g.Response=u,p(c.prototype),h(c.prototype),c.prototype.type=function(e){return this.set("Content-Type",g.types[e]||e),this},c.prototype.accept=function(e){return this.set("Accept",g.types[e]||e),this},c.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var r=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,r)},c.prototype.query=function(e){return"string"!=typeof e&&(e=i(e)),e&&this._query.push(e),this},c.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new d.FormData),this._formData},c.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},c.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return this},c.prototype.pipe=c.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},c.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},c.prototype.end=function(e){return this._endCalled,this._endCalled=!0,this._callback=e||r,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var e=this,t=this.xhr=g.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],a=this._serializer||g.serialize[i?i.split(";")[0]:""];!a&&l(i)&&(a=g.serialize["application/json"]),a&&(n=a(n))}for(var o in this.header)null!=this.header[o]&&this.header.hasOwnProperty(o)&&t.setRequestHeader(o,this.header[o]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},g.agent=function(){return new _},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){_.prototype[e.toLowerCase()]=function(t,n){var r=new g.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}}),_.prototype.del=_.prototype.delete,g.get=function(e,t,n){var r=g("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},g.head=function(e,t,n){var r=g("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},g.options=function(e,t,n){var r=g("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.del=f,g.delete=f,g.patch=function(e,t,n){var r=g("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.post=function(e,t,n){var r=g("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.put=function(e,t,n){var r=g("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.processConcertResultResponse=t.processAuditionResultResponse=t.processConcertResumeResponse=t.processConcertStartResponse=t.processConcertReadyResponse=t.getMajorUnitId=void 0;var a=n(131),o=r(a),s=n(404),l=r(s),u=n(170),c=r(u),f=n(162),d=r(f),p=n(20),h=r(p),y=n(70),m=r(y),_=n(171),g=r(_),b=t.getMajorUnitId=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=s.unitId;if(t[l]){if(++t[l]>=3)return l}else t[l]=1}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return 0},v=function(e){return{eventCategory:d.default.supportSkill,id:e.eventId,supportSkill:e}},w=(t.processConcertReadyResponse=function(e){var t=e.body;return t.userProduceIdol&&aoba.utils.setPrototypeOf(t.userProduceIdol,o.default),t.produceEvents=[],t.concertEvent&&(t.concertEvent.eventCategory=d.default.concertEvent,t.produceEvents.push(t.concertEvent)),t.communicationCheer&&(t.communicationCheer.eventCategory=d.default.communicationCheer,t.produceEvents.push(t.communicationCheer)),Promise.resolve(t)},t.processConcertStartResponse=function(e){var t=e.body;t.userProduceSupportIdols=t.userProduceSupportIdols.slice(0,4);var n=t.produceAudition||t.produceConcert,r=t.userProduceIdol,a=t.userProduceSupportIdols,s=t.produceTrendCombination,u=n.rivals,f=n.judges,d=[].concat(i(u),[{character:r.userIdol.idol.character,mental:r.mental,isPlayer:!0}]);aoba.utils.setPrototypeOf(r,o.default);var p=!0,y=!1,_=void 0;try{for(var g,v=a[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var w=g.value;aoba.utils.setPrototypeOf(w,l.default)}}catch(e){y=!0,_=e}finally{try{!p&&v.return&&v.return()}finally{if(y)throw _}}var k=!0,S=!1,I=void 0;try{for(var E,A=d[Symbol.iterator]();!(k=(E=A.next()).done);k=!0){var x=E.value;aoba.utils.setPrototypeOf(x.character,c.default)}}catch(e){S=!0,I=e}finally{try{!k&&A.return&&A.return()}finally{if(S)throw I}}
var C=r.memoryAppeal;C&&(C.idol=r.userIdol.idol,C.imagePaths={card:r.getImagePath("concert_card"),icon:"memory_skill_icon.png"},C.isMemoryAppeal=!0,C.skillEffects=C.memoryAppealEffects),r.activeSkills.map(function(e){return e.idol=r.userIdol.idol,e.belongsToSupportIdol=!1,e.imagePaths={card:r.getImagePath("concert_card"),icon:r.getImagePath("concert_icon")},e});var T=a.map(function(e){var t=e.activeSkill;return t.idol=e.userSupportIdol.supportIdol,t.belongsToSupportIdol=!0,t.imagePaths={card:e.getImagePath("concert_card"),icon:e.getImagePath("concert_icon")},t}),P=[].concat(i(r.activeSkills),i(T));P.forEach(function(e){m.default.setActiveSkillMixin(e)});var O=!0,N=!1,M=void 0;try{for(var R,D=r.passiveSkills[Symbol.iterator]();!(O=(R=D.next()).done);O=!0){var F=R.value;m.default.setPassiveSkillMixin(F),F.idol=r.userIdol.idol}}catch(e){N=!0,M=e}finally{try{!O&&D.return&&D.return()}finally{if(N)throw M}}["first","second","third"].forEach(function(e,t){var n=s[e];f.find(function(e){return e.attribute===n}).order=t+1}),r.isCenter=!0,r.displayParams={mental:r.mental,vocal:r.vocal,dance:r.dance,visual:r.mental};var B=!0,j=!1,L=void 0;try{for(var U,H=a[Symbol.iterator]();!(B=(U=H.next()).done);B=!0){var G=U.value;G.idolId=G.userSupportIdol.supportIdol.id}}catch(e){j=!0,L=e}finally{try{!B&&H.return&&H.return()}finally{if(j)throw L}}var z=[r].concat(i(a));return t.activeSkills=P,t.judges=f,t.rivals=d,t.activeSkills=P,t.idols=z,t.musicPath=h.default.createConcertMusicPath("main",b(z)),Promise.resolve(t)});t.processConcertResumeResponse=function(e){var t=e.body,n=JSON.parse(t.gameData);n.produceState=t.produceState,n.turnNum=t.turnNum;var r=t.playData,i=r.map(function(e){return JSON.parse(e)});return n.appealRequests=i,w({body:n})},t.processAuditionResultResponse=function(e){var t=e.body;t.userProduceSupportIdols=t.userProduceSupportIdols.slice(0,4);var n=t.userProduceIdol,r=t.userProduceSupportIdols,i=t.produceEvents,a=t.communicationTelevision,s=t.communicationAudition,u=t.produceCommunicationPromiseResult,c=t.supportSkills;t.order=t.produceAuditionOrder,t.result=t.produceAuditionResult,t.score=t.produceAuditionScore,t.score||(t.score=0),t.concertData=t.produceAudition,t.concertType="audition",aoba.utils.setPrototypeOf(n,o.default);var f=!0,p=!1,h=void 0;try{for(var y,m=r[Symbol.iterator]();!(f=(y=m.next()).done);f=!0){var _=y.value;aoba.utils.setPrototypeOf(_,l.default)}}catch(e){p=!0,h=e}finally{try{!f&&m.return&&m.return()}finally{if(p)throw h}}if(a&&(a.eventCategory=d.default.communicationTelevision),s&&(s.eventCategory=d.default.communicationAudition),c.forEach(function(e){aoba.utils.setPrototypeOf(e,g.default.create(e.effectType))}),i.forEach(function(e){e.answers=[{id:"1"},{id:"2"},{id:"3"}],e.eventCategory=d.default.event}),u){var b=d.default.communicationPromiseResult.getResult(u),w=c.find(function(e){return e.isPromiseRecover()});!b&&w?(u.eventCategory=d.default.communicationPromiseRecover,u.resultEvent=v(w)):u.eventCategory=d.default.communicationPromiseResult}return Promise.resolve(t)},t.processConcertResultResponse=function(e){var t=e.body;t.userProduceSupportIdols=t.userProduceSupportIdols.slice(0,4);var n=t.userProduceIdol,r=t.userProduceSupportIdols,i=t.concertEvent;t.order=t.produceConcertOrder,t.result=t.produceConcertResult,t.score=t.produceConcertScore,t.score||(t.score=0),t.concertData=t.produceConcert,aoba.utils.setPrototypeOf(n,o.default);var a=!0,s=!1,u=void 0;try{for(var c,f=r[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var p=c.value;aoba.utils.setPrototypeOf(p,l.default)}}catch(e){s=!0,u=e}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}return i&&(i.eventCategory=d.default.concertEvent),Promise.resolve(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getImagePath:function(e){return this._extendedUserIdol.getImagePath(e)},getSpinePath:function(e){return this._extendedUserIdol.getSpinePath(e)},getMoviePath:function(e){return this._extendedUserIdol.getMoviePath(e)},getVoicePath:function(e){return this._extendedUserIdol.getVoicePath(e)},getRarityImagePath:function(e){return this._extendedUserIdol.getRarityImagePath(e)},getUnitImagePath:function(e){return this._extendedUserIdol.getUnitImagePath(e)},getParameterRank:function(e){var t=this.idolParameterRank.filter(function(t){return t.category===e}),n=this[e];return t.sort(function(e,t){return t.value-e.value}).find(function(e){return n>=e.value}).rank},getTotalAppeal:function(){var e=this;return["vocal","dance","visual"].reduce(function(t,n){return t+e[n]},0)},get name(){return this._extendedUserIdol.name},get firstName(){return this._extendedUserIdol.firstName},get idolId(){return this._extendedUserIdol.idolId},get characterId(){return this._extendedUserIdol.characterId},get unitId(){return this._extendedUserIdol.unitId},get idolParameterRank(){return this.userIdol.idol.idolParameterRanks},get memoryAppealLevel(){return this.memoryAppeal?this.memoryAppeal.level:0},get tensionLevel(){return this.produceTension.tensionLevel},set tensionLevel(e){this.produceTension.tensionLevel=e},get _extendedUserIdol(){return aoba.utils.getPrototypeOf(this.userIdol)!==i.default&&aoba.utils.setPrototypeOf(this.userIdol,i.default),this.userIdol}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(3),s=r(o),l=n(943),u=r(l),c=n(114),f=function(){var e={id:c.claims.id,nickname:s.default.t("guestUser"),grade:0};return aoba.utils.setPrototypeOf(e,u.default),e};t.default={get:function(){return new Promise(function(e){if(c.claims.is_guest)return void e(f());a.default.get("earthUser").then(function(t){var n=t.body;return aoba.utils.setPrototypeOf(n,u.default),e(n)}).catch(function(){return e(f())})})},getMoneyPower:function(){return new Promise(function(e){if(c.claims.is_guest)return void e({coin:"-",point:"-"});a.default.get("earthUser/moneyPower").then(function(t){return e(t.body)}).catch(function(){return e({coin:"-",point:"-"})})})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(947),a=r(i),o=n(1),s=r(o),l={execCopy:function(e){return(0,a.default)(e)},calcScrollSize:function(){var e=window.innerWidth,t=window.innerHeight,n=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),i=0,a=0;return e<n&&(i=(n-e)/2),t<r&&(a=(r-t)/2),{scrollX:i,scrollY:a}},resizeDom:function(e,t,n,r,i){var a=document.getElementsByTagName("canvas")[0].getBoundingClientRect(),o=this.calcScrollSize(),l=o.scrollX,u=o.scrollY,c=a.width/s.default.SCREEN_WIDTH,f=a.top+Math.floor(n*c)+u,d=a.left+Math.floor(t*c)+l;e.style.top=f+"px",e.style.left=d+"px",e.style.width=Math.floor(r*c)+"px",e.style.height=Math.floor(i*c)+"px"},createClickTargetDom:function(e,t,n,r){var i=document.createElement("div");return i.style.position="fixed",i.style.left="50%",i.style.transform="translate(-50%, -50%)",this.resizeDom(i,e,t,n,r),i},createLinkTargetDom:function(e,t,n,r,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this.createClickTargetDom(e,t,n,r),s=document.createElement("a");return s.style.display="block",s.style.width="100%",s.style.height="100%",s.href=i,a&&(s.target="_blank"),o.appendChild(s),o}};t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,
configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=.65,u={center:{anchor:.5,x:-45,y:28},upperLeft:{anchor:0,x:2,y:76}},c=function(e){function t(e,n){var a=n.isLabelVisible,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"upperLeft";r(this,t);var c=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),f=u[o];if(aoba.Sprite.new(e.getIconImagePath()).addTo(c,0,0,{scale:l,anchor:f.anchor}),a){var d=aoba.Sprite.new("icol_label_base_l.png").addTo(c,f.x,f.y);aoba.Text.new(s.default.t("common.quantityMessage",{quantity:e.num}),{fill:16777215,fontSize:14,fontFamily:"UDKakugo_SmallPr6-B"}).addTo(d,90,d.height/2+1,{anchor:aoba.p(1,.5)})}return c}return a(t,e),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),u=r(l),c=n(256),f=r(c),d=n(429),p=r(d),h=n(1053),y=r(h),m=n(1054),_=r(m),g=n(1106),b=r(g),v=n(21),w=r(v),k=n(111),S=r(k),I=n(132),E=r(I),A=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createConcertGame",value:function(e,n,r){var i=_.default.new(Object.assign({},e,{bg:r,concert:new b.default(e,n,t.LiveGameManager),onEndConcert:this.goToResult.bind(this)}));return i.start(),i.addTo(this),i}},{key:"goToResult",value:function(e){var t=this;Promise.all([this._requestFinishConcert(e),E.default.get()]).then(function(e){return Object.assign(e[0],{userName:e[1].nickname})}).then(function(e){var n=S.default.createBlack(),r=Object.assign(e,{serverAction:t._produceAction});w.default.loadSceneAsync("concertResult",{request:!1,sceneParams:r,transition:n})})}}],[{key:"importModuleAsync",value:function(){return new Promise(function(e){(0,y.default)(function(n){t.LiveGameManager=n,e()})})}},{key:"getContentResources",value:function(e){var t=["concert_player_icon","memory_roulette_bad","memory_roulette_good","cut_in"],n=["concert_card","concert_icon"],r=["cb_costume","stand_costume"],i=["concert_rival_icon","active_skill_silhouette"];return(0,p.default)(e,{centerIdolImageList:t,idolImageList:n,idolSpineList:r,rivalImageList:i})}},{key:"uiResources",get:function(){return f.default}}]),t}(u.default);t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a={standby:function(e){return i.default.post("produces/1/audition/actions/game/standby/"+e).then(function(e){return e.body})},appeal:function(e){return i.default.post("produces/1/audition/actions/game/appeal",e).then(function(e){return e.body})}},o={standby:function(){return Promise.resolve()},appeal:function(){return Promise.resolve()}},s={standby:function(e){return i.default.post("produces/1/concert/actions/game/standby/"+e).then(function(e){return e.body})},appeal:function(e){return i.default.post("produces/1/concert/actions/game/appeal",e).then(function(e){return e.body})}},l={standby:function(e){return i.default.post("fesConcert/actions/game/standby/"+e).then(function(e){return e.body})},appeal:function(e){return i.default.post("fesConcert/actions/game/appeal",e).then(function(e){return e.body})}};t.default={audition:a,tutorialAudition:o,concert:s,fes:l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(32),l=r(s),u=n(1),c=r(u),f=function(e){var t=e.map(function(e){return e.getIconImagePath()});return(0,l.default)(t)},d=c.default.app,p=d.EVOLUTION_ENABLED_RARITY,h=d.MAX_EVOLUTION_STAGE,y=function(e){return e.rarity>=p&&e.evolutionStage!==h},m=function(){function e(){i(this,e),this._idolLists={}}return o(e,[{key:"fetchIdolsAndResources",value:function(e,t){var n=this;if(t){var r=this._idolLists[e.name];if(r)return Promise.resolve(r)}return e.serverAction.getList().then(function(t){return t=t.sort(function(e,t){var n=e.rarity-t.rarity;return 0===n?parseInt(e.id,10)-parseInt(t.id,10):n}),n._storeIdolList(e.name,t),f(t).then(function(){return Promise.resolve(t)})})}},{key:"fetchEvolutionIdolsAndResources",value:function(e,t){var n=this;if(t){var r=this._idolLists[e.name];if(r)return Promise.resolve(r)}var i=e.name+"Id";return Promise.all([e.serverAction.getList(),e.reserveServerAction.getList()]).then(function(e){return n._setEvolvableIdols(e,i)}).then(function(t){return n._storeIdolList(e.name,t),f(t).then(function(){return Promise.resolve(t)})})}},{key:"setIdolDetail",value:function(e,t){for(var n=this._idolLists[e.name],r=void 0,i=0;i<n.length;i++)if(n[i].id===t.id){r=i;break}n[r]=t}},{key:"_setEvolvableIdols",value:function(e,t){var n=[],r=a(e,2),i=r[0],o=r[1],s=o.filter(function(e){return e.num>0});return i.forEach(function(e){y(e)&&s.some(function(n){return n[t]===e.id})&&n.push(e)}),n}},{key:"_storeIdolList",value:function(e,t){this._idolLists[e]=t}},{key:"updateIdolList",value:function(e,t,n){if(!(y(t)&&n.num>0)){for(var r=this._idolLists[e.name],i=void 0,a=0;a<r.length;a++)if(r[a].id===t.id){i=a;break}r.splice(i,1)}}},{key:"idolLists",get:function(){return this._idolLists}}]),e}();t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(1549),f=r(c),d=n(1553),p=r(d),h={FREE:Symbol("free"),WAITING:Symbol("waiting"),PLAYING:Symbol("playing"),LOCKED:Symbol("locked")},y={tips:"images/tutorial/${id}.jpg",
mask:"images/tutorial/mask/${id}.png",voice:"sounds/voice/staff/${id}"+u.default.asset.SOUND_EXTENSION},m={tips:function(e){return y.tips.replace("${id}",e)},mask:function(e){return y.mask.replace("${id}",e)},voice:function(e){return y.voice.replace("${id}",e)}},_={waitEvent:function(e){var t=this,n=e.target,r=e.event;this._tutorialLayer.disable();var i=this.getTargetContainer(n);return new Promise(function(e){i.once(r,function(){t._tutorialLayer.enable(),t.deleteImage("finger"),e()})})},waitInput:function(e){var t=this,n=e.target,r=e.event,i=void 0===r?"tap":r,a=e.bringFront,o=void 0===a||a;this._tutorialLayer.disable();var s=this.getTargetContainer(n);if(!o)return new Promise(function(e){s.once(i,function(){t._tutorialLayer.enable(),t.deleteImage("finger"),e()})});var l=aoba.p(s.position.x,s.position.y),u=s.parent,c=s.getGlobalPosition();return this._tutorialLayer.addButton(s),s.setPosition(c.x,c.y),new Promise(function(e){s.once(i,function(){s.addTo(u,l.x,l.y),t._tutorialLayer.enable(),t.deleteImage("finger"),e()})})},wait:function(e){var t=e.time;return new Promise(function(e){return setTimeout(e,t)})},trigger:function(e){var t=e.target,n=e.event,r=void 0===n?"tap":n,i=this.getTargetContainer(t);i.emit(r,i)},showTips:function(e){var t=e.imageName;this._tutorialLayer.showTips(m.tips(t))},hideTips:function(){this._tutorialLayer.hideTips()},changeTips:function(e){var t=e.imageName;this._tutorialLayer.changeTips(m.tips(t))},showImage:function(e){var t=e.image,n=e.label,r=e.x,i=void 0===r?0:r,a=e.y,o=void 0===a?0:a,s=e.scale,l=void 0===s?1:s,u=aoba.Sprite.new(t);u.setPosition(i,o),u.scale.set(l),this.addImage(u,n)},hideImage:function(e){var t=e.label;this.deleteImage(t)},showMask:function(e){var t=e.imageName,n=e.label,r=e.scale,i=void 0===r?2:r,a=aoba.Sprite.new(m.mask(t));a.scale.set(i),this.addMask(a,n)},hideMask:function(e){var t=e.label;this.deleteMask(t)},showOverlay:function(e){return this._tutorialLayer.showOverlay(e)},hideOverlay:function(){return this._tutorialLayer.hideOverlay()},changeOverlay:function(e){this._tutorialLayer.changeOverlay(e)},showComment:function(e){return this._tutorialLayer.showComment(e)},hideComment:function(){return this._tutorialLayer.hideComment()},playComment:function(e){this._tutorialLayer.playComment(e)},showFinger:function(e){var t=e.type,n=e.x,r=void 0===n?0:n,i=e.y,a=void 0===i?0:i,o=e.target,s=e.dx,l=e.dy,u=p.default.create(t);if(o){var c=this.getTargetContainer(o),f=c.getGlobalPosition();s&&(f.x+=s),l&&(f.y+=l),u.setPosition(f.x,f.y)}else u.setPosition(r,a);this.addImage(u,"finger")},hideFinger:function(){this.deleteImage("finger")},playVoice:function(e){var t=e.voiceName;this._currentVoice&&this._currentVoice.stop(),this._currentVoice=aoba.soundManager.playVoice(m.voice(t))},bringFront:function(e){var t=e.target,n=this.getTargetContainer(t),r=n.getGlobalPosition();this._tutorialLayer.addButton(n),n.setPosition(r.x,r.y)},bringBack:function(e){e._target},pause:function(e){var t=e.target,n=this.getTargetContainer(t);aoba.TweenManager.tweens&&aoba.TweenManager.tweens.forEach(function(e){e.target.parent===n&&e.pause()}),n.pause()},resume:function(e){var t=e.target,n=this.getTargetContainer(t);aoba.TweenManager.tweens&&aoba.TweenManager.tweens.forEach(function(e){e.target.parent===n&&e.resume()}),n.resume()}},g=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._targetLayer=n,r._tutorialLayer=f.default.new(),r._trackIndex=0,r._tracks=e,r._commands=_,r._state=h.FREE,r._maskStore={},r._imageStore={},r._currentVoice=null,r._tutorialLayer.on("tap",r._handleTap,r),r._tutorialLayer.on("endText",r._handleEndText,r),r}return o(t,e),s(t,[{key:"start",value:function(){this._tutorialLayer.addTo(this._targetLayer),this.playCurrentTrack()}},{key:"playCurrentTrack",value:function(){var e=this,t=this._tracks[this._trackIndex],n=this._commands[t.command];if(!n)return void this.forward();var r=n.call(this,t)||Promise.resolve();if("playComment"===t.command)return void this._changeToPlaying();t.lock?this._state=h.LOCKED:r.then(function(){return e.forward()})}},{key:"forward",value:function(){this._trackIndex++,this._trackIndex<this._tracks.length?(this._changeToFree(),this.playCurrentTrack()):this.emit("end")}},{key:"destroy",value:function(){this._currentVoice&&this._currentVoice.stop(),this._tutorialLayer.destroy({children:!0})}},{key:"fadeOut",value:function(){return aoba.FrameTween.new(this._tutorialLayer).to({alpha:0},3).promise()}},{key:"getTargetContainer",value:function(e){if(!e)return this._targetLayer;var t=this._targetLayer.getChildByNameRecursively(e);if(!t)throw new Error("target "+e+" is not found");return t}},{key:"addImage",value:function(e,t){this._tutorialLayer.addImage(e),this._imageStore[t]=e}},{key:"deleteImage",value:function(e){var t=this._imageStore[e];t&&(t.destroy(),delete this._imageStore[e])}},{key:"addMask",value:function(e,t){this._tutorialLayer.addMaskImage(e),this._maskStore[t]=e}},{key:"deleteMask",value:function(e){var t=this._maskStore[e];t&&(t.destroy(),delete this._maskStore[e])}},{key:"_handleTap",value:function(){switch(this._state){case h.PLAYING:return void this._tutorialLayer.endText();case h.LOCKED:return void this.forward();default:return}}},{key:"_handleEndText",value:function(e){e?this._changeToLocked():this.forward()}},{key:"_changeToFree",value:function(){this._state=h.FREE}},{key:"_changeToPlaying",value:function(){this._state=h.PLAYING}},{key:"_changeToLocked",value:function(){this._state=h.LOCKED}}],[{key:"getTrackResources",value:function(e){return e.map(function(e){return e.imageName?"showMask"===e.command?m.mask(e.imageName):m.tips(e.imageName):e.voiceName?m.voice(e.voiceName):null}).filter(function(e){return null!==e})}},{key:"createAndPlay",value:function(e,n){var r=new t(e,n);return r.start(),new Promise(function(e){r.once("end",function(){r.fadeOut().then(function(){r.destroy(),e()})})})}}]),t}(aoba.utils.EventEmitter);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/tutorial/parts.json"]},function(e,t){},function(e,t,n){var r=n(11),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(49),i=n(29),a=n(88);e.exports=function(e){return function(t,n,o){var s,l=r(t),u=i(l.length),c=a(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(54);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(17),i=n(54),a=n(25)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(25)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(8);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(46),i=n(47),a=n(15),o=n(61),s=n(25);e.exports=function(e,t,n){var l=s(e),u=n(o,l,""[e]),c=u[0],f=u[1];a(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,c),r(RegExp.prototype,l,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){var r=n(8),i=n(37),a=n(25)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},function(e,t,n){"use strict";var r=n(11),i=n(2),a=n(47),o=n(94),s=n(78),l=n(93),u=n(92),c=n(17),f=n(15),d=n(146),p=n(100),h=n(195);e.exports=function(e,t,n,y,m,_){var g=r[e],b=g,v=m?"set":"add",w=b&&b.prototype,k={},S=function(e){var t=w[e]
;a(w,e,"delete"==e?function(e){return!(_&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(_||w.forEach&&!f(function(){(new b).entries().next()}))){var I=new b,E=I[v](_?{}:-0,1)!=I,A=f(function(){I.has(1)}),x=d(function(e){new b(e)}),C=!_&&f(function(){for(var e=new b,t=5;t--;)e[v](t,t);return!e.has(-0)});x||(b=t(function(t,n){u(t,b,e);var r=h(new g,t,b);return void 0!=n&&l(n,m,r[v],r),r}),b.prototype=w,w.constructor=b),(A||C)&&(S("delete"),S("has"),m&&S("get")),(C||E)&&S(v),_&&w.clear&&delete w.clear}else b=y.getConstructor(t,e,m,v),o(b.prototype,n),s.NEED=!0;return p(b,e),k[e]=b,i(i.G+i.W+i.F*(b!=g),k),_||y.setStrong(b,e,m),b}},function(e,t,n){for(var r,i=n(11),a=n(46),o=n(85),s=o("typed_array"),l=o("view"),u=!(!i.ArrayBuffer||!i.DataView),c=u,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(a(r.prototype,s,!0),a(r.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(e,t,n){"use strict";e.exports=n(86)||!n(15)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(11)[e]})},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(2),i=n(37),a=n(53),o=n(93);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,l=arguments[1];return i(this),t=void 0!==l,t&&i(l),void 0==e?new this:(n=[],t?(r=0,s=a(l,arguments[2],2),o(e,!1,function(e){n.push(s(e,r++))})):o(e,!1,n.push,n),new this(n))}})}},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(217).EventEmitter;n(6)(r,i),r.Readable=n(218),r.Writable=n(715),r.Duplex=n(716),r.Transform=n(717),r.PassThrough=n(718),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function a(){c||(c=!0,e.end())}function o(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",n),e.removeListener("drain",r),u.removeListener("end",a),u.removeListener("close",o),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(u.on("end",a),u.on("close",o));var c=!1;return u.on("error",s),e.on("error",s),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},function(e,t,n){"use strict";(function(t){function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick(function(){e.apply(null,a)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(43))},function(e,t,n){function r(e,t,n,r){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=n/8,s=i.alloc(o),l=i.alloc(r||0),u=i.alloc(0);o>0||r>0;){var c=new a;c.update(u),c.update(e),t&&c.update(t),u=c.digest();var f=0;if(o>0){var d=s.length-o;f=Math.min(o,u.length),u.copy(s,d,0,f),o-=f}if(f<u.length&&r>0){var p=l.length-r,h=Math.min(r,u.length-f);u.copy(l,p,f,f+h),r-=h}}return u.fill(0),{key:s,iv:l}}var i=n(18).Buffer,a=n(727);e.exports=r},function(e,t,n){function r(e){s.isBuffer(e)||(e=s.from(e));for(var t=e.length/4|0,n=new Array(t),r=0;r<t;r++)n[r]=e.readUInt32BE(4*r);return n}function i(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var a,o,s,l,u=n[0],c=n[1],f=n[2],d=n[3],p=e[0]^t[0],h=e[1]^t[1],y=e[2]^t[2],m=e[3]^t[3],_=4,g=1;g<i;g++)a=u[p>>>24]^c[h>>>16&255]^f[y>>>8&255]^d[255&m]^t[_++],o=u[h>>>24]^c[y>>>16&255]^f[m>>>8&255]^d[255&p]^t[_++],s=u[y>>>24]^c[m>>>16&255]^f[p>>>8&255]^d[255&h]^t[_++],l=u[m>>>24]^c[p>>>16&255]^f[h>>>8&255]^d[255&y]^t[_++],p=a,h=o,y=s,m=l;return a=(r[p>>>24]<<24|r[h>>>16&255]<<16|r[y>>>8&255]<<8|r[255&m])^t[_++],o=(r[h>>>24]<<24|r[y>>>16&255]<<16|r[m>>>8&255]<<8|r[255&p])^t[_++],s=(r[y>>>24]<<24|r[m>>>16&255]<<16|r[p>>>8&255]<<8|r[255&h])^t[_++],l=(r[m>>>24]<<24|r[p>>>16&255]<<16|r[h>>>8&255]<<8|r[255&y])^t[_++],a>>>=0,o>>>=0,s>>>=0,l>>>=0,[a,o,s,l]}function o(e){this._key=r(e),this._reset()}var s=n(18).Buffer,l=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],a=[[],[],[],[]],o=0,s=0,l=0;l<256;++l){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,n[o]=u,r[u]=o;var c=e[o],f=e[c],d=e[f],p=257*e[u]^16843008*u;i[0][o]=p<<24|p>>>8,i[1][o]=p<<16|p>>>16,i[2][o]=p<<8|p>>>24,i[3][o]=p,p=16843009*d^65537*f^257*c^16843008*o,a[0][u]=p<<24|p>>>8,a[1][u]=p<<16|p>>>16,a[2][u]=p<<8|p>>>24,a[3][u]=p,0===o?o=s=1:(o=c^e[e[e[d^c]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:a}}();o.blockSize=16,o.keySize=32,o.prototype.blockSize=o.blockSize,o.prototype.keySize=o.keySize,o.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],a=0;a<t;a++)i[a]=e[a];for(a=t;a<r;a++){var o=i[a-1];a%t==0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=l[a/t|0]<<24):t>6&&a%t==4&&(o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]),i[a]=i[a-t]^o}for(var s=[],c=0;c<r;c++){var f=r-c,d=i[f-(c%4?0:4)];s[c]=c<4||f<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=s},o.prototype.encryptBlockRaw=function(e){return e=r(e),a(e,this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},o.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=s.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},o.prototype.decryptBlock=function(e){e=r(e);var t=e[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),i=s.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},o.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},e.exports.AES=o},function(e,t,n){"use strict";var r=t;r.base=n(755),r.short=n(756),r.mont=n(757),r.edwards=n(758)},function(e,t,n){(function(t){function r(e){var n;"object"!=typeof e||t.isBuffer(e)||(n=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var r,o,l=s(e,n),u=l.tag,c=l.data;switch(u){case"CERTIFICATE":o=a.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=a.PublicKey.decode(c,"der")),r=o.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=a.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+u);case"ENCRYPTED PRIVATE KEY":c=a.EncryptedPrivateKey.decode(c,"der"),c=i(c,n);case"PRIVATE KEY":switch(o=a.PrivateKey.decode(c,"der"),r=o.algorithm.algorithm.join(".")){
case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:a.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=a.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+u);case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=a.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+u)}}function i(e,n){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=o[e.algorithm.decrypt.cipher.algo.join(".")],s=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,f=parseInt(a.split("-")[1],10)/8,d=u.pbkdf2Sync(n,r,i,f),p=l.createDecipheriv(a,d,s),h=[];return h.push(p.update(c)),h.push(p.final()),t.concat(h)}var a=n(774),o=n(786),s=n(787),l=n(223),u=n(328);e.exports=r,r.signature=a.signature}).call(t,n(16).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return aoba.Graphics.new().beginFill(0,e).drawRect(0,0,i.default.SCREEN_WIDTH,i.default.SCREEN_HEIGHT).setInteractive(!0)};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=r(i),o=n(69),s=r(o),l=n(820),u=r(l),c=n(826),f=r(c),d=n(828),p=r(d),h=n(108),y=r(h),m=n(423),_=r(m),g=n(424),b=r(g),v={getDataPath:function(e){return this.dataPath+"/"+e+".json"},requestSelect:function(e,t,n){var r={};return r[this.selectRequestParamKey]=this.getSelectRequestValue?this.getSelectRequestValue(n):Number(n),e[this.actionName](t,r)}},w={event:{actionName:"selectProduceEvent",dataPath:"produce_events",selectRequestParamKey:"selectNum",TransitionClass:_.default},concertEvent:{actionName:"selectProduceEvent",dataPath:"produce_events",selectRequestParamKey:"selectAnswerId",TransitionClass:y.default},communication:{key:s.default.EVENT_CATEGORIES.COMMUNICATION,actionName:"selectCommunication",dataPath:"produce_communications",selectRequestParamKey:"selectAnswerId",hasTimeLimit:!0,hasRandomAnswers:!0,hasResultEffect:!0,ResultClass:u.default,getResult:function(e){return e.answerResult},TransitionClass:y.default},communicationPromise:{actionName:"selectCommunicationPromise",dataPath:"produce_communications_promises",selectRequestParamKey:"isAccept",hasStringAnswerId:!0,hasResultEffect:!0,ResultClass:f.default,getResult:function(e){return e.answerId},getSelectRequestValue:function(e){return"agree"===e},TransitionClass:y.default},communicationPromiseResult:{dataPath:"produce_communication_promise_results",hasResultEffect:!0,ResultClass:p.default,noSelect:!0,getResult:function(e){return e.isSuccess},TransitionClass:y.default},communicationPromiseRecover:{dataPath:"produce_communication_promise_results",TransitionClass:y.default},communicationCheer:{key:s.default.EVENT_CATEGORIES.COMMUNICATION_CHEER,actionName:"selectCommunicationCheer",dataPath:"produce_communication_cheers",selectRequestParamKey:"selectAnswerId",TransitionClass:y.default},communicationTelevision:{actionName:"selectCommunicationTelevision",dataPath:"produce_communication_televisions",selectRequestParamKey:"selectAnswerId",TransitionClass:y.default},communicationAudition:{actionName:"selectCommunicationAudition",dataPath:"produce_communication_auditions",selectRequestParamKey:"selectAnswerId",TransitionClass:y.default},supportSkill:{dataPath:"support_skills",TransitionClass:b.default}};a.default.each(w,function(e){aoba.utils.setPrototypeOf(e,v)}),t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={REGULAR:{adjustLayout:function(e,t){t.forEach(function(t,n){t.texture=aoba.Texture.fromImage(e.image),t.x=e.startPosition.x+e.interval.x*n,t.y=e.startPosition.y+e.interval.y*n})}},CUSTOM:{adjustLayout:function(e,t){t.slice(3).forEach(function(e){e.destroy()}),t.slice(0,3).forEach(function(n,r){var i=e[t.length][r];n.texture=aoba.Texture.fromImage(i.image),n.x=i.x,n.y=i.y})}}};t.default={defaultCommand:{textCtrl:"p"},assetFormat:{textFrame:"images/event/text_frame/${id}.png",bg:"images/event/bg/${id}.jpg",fg:"images/event/fg/${id}.png",bgm:"sounds/bgm/${id}.m4a",se:"sounds/se/event/${id}.m4a",voice:"sounds/voice/events/${id}.m4a",movie:"movies/idols/card/${id}.mp4",still:"images/content/${type}/card/${id}.jpg",spine:"spine/${type}/${category}/${id}/data.json"},characterAssetFormat:{still:"images/content/${type}/card/${id}.jpg",spine:"spine/${type}/${category}/${id}/data.json"},defaultTextFrame:"001",scenarioPlayer:{x:80,y:464,content:{x:148,y:60,textStyle:{fill:5592405,fontSize:22,lineHeight:30,wordWrap:!0,wordWrapWidth:660,breakWords:!0,fontFamily:"HummingStd-E"}},speaker:{x:160,y:14,textStyle:{fill:5592405,fontFamily:"HummingStd-E"}}},selectList:{x:0,y:0,layout:{type:r.CUSTOM,1:[{x:564,y:114,image:"images/event/select_frame/001.png"}],2:[{x:212,y:216,image:"images/event/select_frame/001.png"},{x:912,y:216,image:"images/event/select_frame/002.png"}],3:[{x:564,y:114,image:"images/event/select_frame/001.png"},{x:212,y:216,image:"images/event/select_frame/002.png"},{x:912,y:216,image:"images/event/select_frame/003.png"}]},item:{x:0,y:0,options:{anchor:.5},image:"images/event/select_frame/001.png",textStyle:{align:"center",fill:5853004,fontFamily:"HummingStd-E"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={murmur:"sounds/se/138.m4a",record:"sounds/se/223.m4a",audition_win:{grade:"sounds/se/concert_result/0130.m4a",effect:"sounds/se/concert_result/0132.m4a"},semi_final_win:{grade:"sounds/se/concert_result/0130.m4a",effect:"sounds/se/concert_result/0133.m4a"},final_win:{grade:"sounds/se/concert_result/0130.m4a",effect:"sounds/se/concert_result/0134.m4a"},lose:{grade:"sounds/se/concert_result/0131.m4a",effect:"sounds/se/concert_result/0135.m4a"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(7),s=r(o),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"l",n=aoba.Sprite.new("common_header_base_"+t+".png");return n.text=aoba.Text.new(e,{fill:5063497,fontFamily:"HummingStd-E",fontSize:22}).addTo(n,50,12),n.setPosition(0,7),n},u=function(e,t){return t="l"===t?"l_":"",aoba.Sprite.new("icon_status_"+t+e+".png")},c=function(e){return aoba.Sprite.new("icon_idol_rank_"+e+".png")},f=function(e){var t=e.textUI,n=e.startNumber,r=void 0===n?0:n,i=e.endNumber,o=e.addNumber,s=void 0===o?0:o,l=e.isFormatted,u=void 0!==l&&l,c=e.formatNumber,f=void 0===c?null:c;f||(f=function(e){return u?a.default.numberFormat(e):e});var d=i-r;if(0===d)return aoba.FrameTween.new(t).call(function(){t.text=""+f(i,a.default)}).wait(1);0===s?s=d/Math.abs(d):s*d<0&&(s*=-1);for(var p=Math.floor(d/s),h=aoba.FrameTween.new(t),y=0;y<=p;++y)!function(e){var n=Math.floor(r+s*e);h.call(function(){t.text=""+f(n,a.default)}).wait(1)}(y);return i===Math.floor(r+s*p)?h:h.call(function(){t.text=""+f(i,a.default)}).wait(1)},d=function(e){var t=e.width,n=e.height;return aoba.Graphics.new().beginFill(8616327).drawRoundedRect(0,0,t,n,t/2)},p=function(e,t){var n=Math.min(e.texture.width/t.width,e.texture.height/t.height);e.scale=aoba.p(e.scale.x*n,e.scale.y*n),e.texture=t},h=function(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.scale,r=void 0===n?1.2:n,i=t.duration,a=void 0===i?500:i,o=t.delay,s=void 0===o?500:o,l=e.x-e.width*e.anchor.x+e.width/2,u=e.y-e.height*e.anchor.y+e.height/2,c=aoba.Sprite.new(e.texture).addTo(e.parent,l,u,{anchor:.5,alpha:0});return aoba.Tween.new(c).wait(s).call(function(){c.alpha=1}).to({scaleX:r,scaleY:r,alpha:0},a).call(function(){return c.destroy({children:!0})})},y=[{position:aoba.p(-270,-270),scale:aoba.p(3,.4),alpha:1},{position:aoba.p(-270,-270),scale:aoba.p(3,1),alpha:0},{position:aoba.p(-270,-270),scale:aoba.p(3,1),alpha:1}],m=function(){var e=aoba.Container.new(),t=[];return y.forEach(function(n){var r=aoba.Sprite.new("hi_gradation_01.png").addTo(e,n.position.x,n.position.y,{alpha:n.alpha,scale:n.scale,rotation:-45*aoba.DEG_TO_RAD,anchor:aoba.p(.5),blendMode:aoba.BLEND_MODES.ADD});t.push(r)}),aoba.FrameTween.new(e).wait(15).call(function(){return e.destroy({children:!0})}),aoba.FrameTween.new(t[0]).wait(4).to({x:175,y:175},10),aoba.FrameTween.new(t[1]).to({x:270,y:270},14),aoba.FrameTween.new(t[1]).to({alpha:1},7).wait(5).to({alpha:0},7),aoba.FrameTween.new(t[2]).to({x:270,y:270},14),e},_=function(e,t,n){var r=aoba.Sprite.new("icon_stamp.png").addTo(e,t,n,{anchor:.5,scale:1.2,visible:!1});return new Promise(function(i){aoba.Tween.new(r).wait(500).call(function(){aoba.soundManager.playSE(s.default.ui.stamp),r.show()}).to({scaleX:.8,scaleY:.8},400).call(function(){aoba.FrameAnimation.new("effect_stamp_stars.png",80,72).addTo(e,t,n,{anchor:.5,scale:1.5}).play()}).to({scaleX:1,scaleY:1},200,"easeOutElastic").call(i)})};t.default={createHeader:l,createStatusIcon:u,createRankIcon:c,createCountUpTween:f,createScrollBarBase:d,replaceSpriteTexture:p,createSpriteEmphasizeTween:h,createGlossEffect:m,createStampEffect:_}},function(e,t,n){var r=n(10),i=n(393);e.exports=function(e,t,n,a){e=r(e),t=~~t;var o=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",a){case"right":return o=t-e.length,e+i(n,o);case"both":return o=t-e.length,i(n,Math.ceil(o/2))+e+i(n,Math.floor(o/2));default:return o=t-e.length,i(n,o)+e}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(913),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},c=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(l.default,{num:{style:u}});return e._num=n.num,e}return a(t,e),o(t,[{key:"setNum",value:function(e){this.visible=e>0,this._num.text=e>99?"99+":e}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{}));return n.anchor.set(.5),n.on("tap",n._handleTap,n),n}return a(t,e),o(t,[{key:"setAvailable",value:function(e){e?this.enable():this.disable()}},{key:"disable",value:function(){this.interactive=!1,this.tint=10066329}},{key:"enable",value:function(){this.interactive=!0,this.tint=16777215}},{key:"_handleTap",value:function(){aoba.soundManager.playSE(l.default.ui.cancel)}}]),t}(aoba.Button);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=r(l),c=n(3),f=r(c),d=n(935),p=r(d),h=n(937),y=r(h),m=n(38),_=r(m),g=n(14),b=r(g),v=n(32),w=r(v),k=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"onSelectProduce",value:function(e,t,n){var r=this;e.userFesIdolCount>=e.fesIdolLimit?this._showFesIdolLimitDialog(t):e.produceIdol?this._loadProduceResumePopContentResources(e).then(function(){return r._showProduceResumePop(e,t)}):this._goToNextPage("/produceReady",n)}},{key:"_loadProduceResumePopContentResources",value:function(e){return e.produceIdol?(0,w.default)([e.produceIdol.getImagePath("icon")]):Promise.resolve()}},{key:"_showProduceResumePop",value:function(e,t){var n=this,r=e.produce,i=p.default.new(e.produceIdol,r.getSeason(),r.getRestOfSeasonWeek());b.default.new({title:f.default.t("commonMenu.produceResume.title"),container:i,buttons:[{type:"close",image:"cancel_button.png"},{image:"terminate_cancel_button.png",callback:function(e){n._showProduceRetireConfirmPop(t),e.close()}},{image:"resume_button.png",callback:function(e){n._goToNextPage("/produce"),e.close()}}]}).addTo(t).open()}},{key:"_showProduceRetireConfirmPop",value:function(e){var t=this,n=aoba.Container.new(),r=n.fromData(y.default,{iconNoticeRed:{dx:34},comment1:{text:f.default.t("commonMenu.produceRetire.comment1"),dx:34},comment2:{text:f.default.t("commonMenu.produceRetire.comment2")}}),i=r.comment1,a=r.comment2;i.style.align="center",a.style.align="center",b.default.new({title:f.default.t("commonMenu.produceRetire.title"),container:n,buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"terminate_ok_button.png"}]}).on("submit",function(){t.interactiveChildren=!1,_.default.retire().then(function(){return t._goToNextPage("/produceReady")})}).addTo(e).open()}},{key:"_showFesIdolLimitDialog",value:function(e){var t=this;b.default.new({title:f.default.t("commonMenu.fesIdolLimit.title"),text:f.default.t("commonMenu.fesIdolLimit.text"),buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"transfer_button.png"}]}).on("submit",function(){
return t._goToNextPage("/idolList")}).addTo(e).open()}},{key:"_goToNextPage",value:function(e,t){aoba.sceneManager.currentScene.showLoadingLayer(),u.default.directTo(e,{sceneParams:{fromPath:t}})}}],[{key:"getProduceData",value:function(e){return{fesIdolLimit:e.fesIdolLimit,userFesIdolCount:e.userFesIdolCount,produce:e.produce,produceIdol:e.produceIdol}}}]),t}(aoba.Container);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),a=r(i),o=n(938),s=r(o);t.default={getSpinePath:function(e){return a.default.createSpinePath("characters",e,this.id)},getMoviePath:function(e){return a.default.createMoviePath("characters",e,this.id)},getVoicePath:function(e){return a.default.createVoicePath("characters",this.id,e)},getImagePath:function(e){return a.default.createImagePath("characters",e,this.id)},getUnitImagePath:function(e){return this._extendedUnit.getImagePath(e)},get _extendedUnit(){return this.unit||(this.unit={id:this.unitId}),aoba.utils.getPrototypeOf(this.unit)!==s.default&&aoba.utils.setPrototypeOf(this.unit,s.default),this.unit}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(31),s=r(o),l=n(241),u=r(l),c=n(20),f=r(c),d={getSpinePath:function(e){return f.default.createSpinePath("characters",e,this.characterId)},getCutInVoicePath:function(){var e=this._getPaddedCharacterId()+"_"+this.effectType+"_cutin";return f.default.createVoicePath("characters",this.characterId,e)},_getPaddedCharacterId:function(){return a.default.pad(this.characterId,3,"0")},get eventId(){return s.default.join(this._getPaddedCharacterId(),this.effectType)},isCommunicationRetry:function(){return this.effectType===u.default.communicationRetry},isPromiseRecover:function(){return this.effectType===u.default.promiseRecover},isPromiseRejectRecover:function(){return this.effectType===u.default.promiseRejectRecover},isRestBoost:function(){return this.effectType===u.default.restBoost},isTroubleGuard:function(){return this.effectType===u.default.troubleGuard},isSupportEventRate:function(){return this.effectType===u.default.supportEventRate},isStaminaSupport:function(){return this.effectType===u.default.staminaSupport},isTensionBoost:function(){return this.effectType===u.default.tensionBoost},isTagBoost:function(){return this.effectType===u.default.tagBoost},isFriendship:function(){return this.effectType===u.default.friendship}},p={communication_retry:{hasEvent:!0},promise_recover:{hasEvent:!0},promise_reject_recover:{hasEvent:!0},rest_boost:{hasEvent:!0},trouble_guard:{calcTroubleRateVariation:function(e){return this.supportSkillEffect.isFixed?-this.supportSkillEffect.value:Math.floor(e*-this.supportSkillEffect.value/100)}},tension_boost:{getTargetParam:function(){return this.supportSkillEffect.attribute}},tag_boost:{getPlaceIconImagePath:function(){return"images/content/produce_place_categories/icon/"+a.default.pad(this._getProducePlaceCategoryId(),5,"0")+".png"},_getProducePlaceCategoryId:function(){return this.supportSkillEffect.producePlaceCategoryId}}},h=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0;i<n.length;++i)!function(t){var r=n[t];e=Object.getOwnPropertyNames(r).reduce(function(e,t){return Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t)),e},e)}(i);return e};t.default={create:function(e){var t=p[e];return t?h({},d,t):d}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={none:"",draw_10_ticket:"001",sr_ticket:"002",ssr_fix_ticket:"003"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={calcCurrentStamina:function(){if(this.overStamina>0)return i.default.app.MAX_STAMINA+parseInt(this.overStamina,10);var e=Math.floor(Date.now()/1e3);return this.recoveryTime<e?i.default.app.MAX_STAMINA:Math.floor(i.default.app.MAX_STAMINA-(this.recoveryTime-e)/i.default.app.STAMINA_RECOVER_INTERVAL)},calcNextStaminaRecoveryTime:function(){if(this.overStamina>0)return 0;var e=Math.floor(Date.now()/1e3);return this.recoveryTime<e?0:(this.recoveryTime-e)%i.default.app.STAMINA_RECOVER_INTERVAL*1e3}}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(113),s=r(o),l=n(171),u=r(l),c=n(20),f=r(c),d=n(70),p=r(d),h=n(1),y=r(h),m=function(e){aoba.utils.setPrototypeOf(e,s.default),e.supportSkills.forEach(function(e){aoba.utils.setPrototypeOf(e,u.default.create(e.effectType))})};t.default={getList:function(){return a.default.get("userSupportIdols").then(function(e){var t=e.body;return t.forEach(m),Promise.resolve(t)})},get:function(t){var n=this;return a.default.get("userSupportIdols/"+t).then(function(t){var r=t.body;m(r),r.supportIdol.skillPanels.forEach(function(e){var t=y.default.app.SKILL_CATEGORIES;switch(e.skillCategory){case t.ACTIVE:p.default.setActiveSkillMixin(e.skill);break;case t.PASSIVE:p.default.setPassiveSkillMixin(e.skill);break;case t.LIMIT_BREAK:p.default.setLimitBreakSkillMixin(e.skill)}e.skill.linkSkill&&n._setLinkSkillResourcePath(e.skill.linkSkill)});var i=r.supportIdol.supportIdolActiveSkill,a=i.supportIdolActiveSkillLevels.filter(function(e){return e.requiredIdolLevel<=r.level}),o=e.max(a,function(e){return e.skillLevel});return i.currentActiveSkills=i.activeSkills.filter(function(e){return e.level===o.skillLevel}),i.currentActiveSkills.forEach(function(e){p.default.setActiveSkillMixin(e),e.linkSkill&&n._setLinkSkillResourcePath(e.linkSkill)}),Promise.resolve(r)})},enhance:function(e,t){return a.default.patch("userSupportIdols/"+e,t).then(function(e){var t=e.body;return Promise.resolve(t)})},evolve:function(e,t){return a.default.patch("userSupportIdols/"+e+"/actions/evolve",t).then(function(e){var t=e.body;return m(t),Promise.resolve(t)})},_setLinkSkillResourcePath:function(e){e.linkSkillCharacters.forEach(function(e){e.iconPath=f.default.createImagePath("characters","link_skill_icon",e.characterId)})}}}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"tabBase",fullName:"tabBase",type:"sprite",key:"tab_base.png",x:0,y:0},{name:"tabList",fullName:"tabList",type:"container",x:16,y:80},{name:"idolListContainer",fullName:"idolListContainer",type:"container",x:209,y:80}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(7),u=r(l),c=n(1122),f=r(c),d=n(98),p=r(d),h=n(24),y=r(h),m=n(116),_=r(m),g=n(22),b=r(g),v={x:20,y:87,width:860,height:436},w=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default,{sortOrderButton:{visible:!1},sortConditionButton:{visible:!1}});return n._emptyNotice=r.emptyNotice,n._onTapIdolIcon=e.onTapIdolIcon,
n._onHoldIdolIcon=e.onHoldIdolIcon,n}return o(t,e),s(t,[{key:"showIdols",value:function(e,t,n){var r=this;this._idols=e,this._idolIcons=[];var i=aoba.Container.new();e.forEach(function(e,a){var o=a%7,s=Math.floor(a/7),l=p.default.new(e).addTo(i,8+123*o,8+123*s);r._idolIcons.push(l),n&&n(e)&&l.disable(),r._onTapIdolIcon&&l.on("tap",function(){aoba.soundManager.playSE(u.default.ui.decide),r._onTapIdolIcon(t,e,l)}),r._onHoldIdolIcon&&l.on("longPress",function(){aoba.soundManager.playSE(u.default.ui.decide),r._onHoldIdolIcon(t,e,l)})}),aoba.Graphics.new().beginFill(16777215,.01).drawRect(0,0,8,8).addTo(i),this._idolsContainer=i;var a=y.default.new({width:16});this._scrollBarBase=_.default.new({width:8,height:436}),this._scrollRect=b.default.new({width:v.width,height:v.height,container:i,scrollBar:a,scrollBarBase:this._scrollBarBase}).addTo(this,v.x,v.y),this._scrollBarBase.addTo(this,890,88)}},{key:"emptyIdols",value:function(){this._scrollRect&&(this._scrollBarBase.destroy({children:!0}),this._scrollRect.destroy({children:!0}),this._scrollBarBase=null,this._scrollRect=null)}},{key:"showEmptyNotice",value:function(){this._emptyNotice.show()}},{key:"hideEmptyNotice",value:function(){this._emptyNotice.hide()}},{key:"idols",get:function(){return this._idols}},{key:"idolIcons",get:function(){return this._idolIcons}}]),t}(aoba.Container);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(448),s=r(o),l=n(261),u=r(l),c=n(262),f=r(c),d=function(){function e(){i(this,e)}return a(e,null,[{key:"create",value:function(e){var t=s.default.new();return f.default.filter(function(t){return e.idolTypeNames.includes(t.name)}).forEach(function(n){var r=u.default.new(n.buttonNames.off,{image:n.buttonNames.off,imageOn:n.buttonNames.on,onSelect:function(){e.onSelectTab(n)}});t.addTab(r)}),t}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.tabList,n=e.idolListContainer,r=e.store,i=e.idolType,a=e.checkIconIsDisabled;return t.disableAll(),n.emptyIdols(),r.fetchIdolsAndResources(i).then(function(e){t.enableAll(),n.showIdols(e,i,a)})},i=function(e){var t=e.tabList,n=e.idolListContainer,r=e.store,i=e.idolType,a=e.checkIconIsDisabled;return t.disableAll(),n.emptyIdols(),n.hideEmptyNotice(),r.fetchEvolutionIdolsAndResources(i).then(function(e){t.enableAll(),0===e.length?n.showEmptyNotice():n.showIdols(e,i,a)})};t.default={switchIdolList:r,switchEvolutionIdolList:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1159),u=r(l),c=n(0),f=r(c),d=n(1160),p=r(d),h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.userFesIdol,s={card:{key:o.getImagePath("fes_card_s")},roleIcon:{key:"fes_role_icon_"+e.fesDeckMemberPosition.position+".png"},rankIcon:{key:"icon_fes_idol_rank_s_"+o.fesIdolRank.rank.toLowerCase()+".png"},unitIcon:{key:o.getUnitImagePath("icon")},deckMemberStatus:p.default.new(e,n)};n.hideRoleIcon&&(s.roleIcon=null),n.hideStatus&&(s.deckMemberStatus=null);var l=r.fromData(u.default,s);return n.onLongPressDeckMember&&f.default.InteractionBox.new(l.card.bounds).addTo(l.card).on("longPress",n.onLongPressDeckMember),n.onSelectDeckMember&&(l.card.interactive=!0,l.card.on("tap",n.onSelectDeckMember)),r.x=0,r.y=0,r._memberNumber=e.memberNumber,r._deckMemberStatus=l.deckMemberStatus,r._activeSkills=e.userFesIdol.activeSkills,r._unitIcon=l.unitIcon,e.hasFixedUnitBonus&&r.setUnitIconTwinkle(),r}return o(t,e),s(t,[{key:"setUnitIconTwinkle",value:function(){this._unitIconEffect&&(this._unitIconEffect.destroy(),this._unitIconEffect=null);this._unitIconEffect=aoba.Sprite.new(this._unitIcon.texture).addTo(this._unitIcon),this._unitIconEffect.anchor.set(this._unitIcon.anchor.x,this._unitIcon.anchor.y),this._unitIconEffect.blendMode=aoba.BLEND_MODES.ADD,aoba.Tween.new(this._unitIconEffect).to({alpha:0,scaleX:.9,scaleY:.9},900).to({alpha:.8,scaleX:1,scaleY:1},900).loop()}},{key:"updateActiveSkills",value:function(e){var t=this._activeSkills.filter(function(t){return e.includes(t.id)});this._deckMemberStatus.updateActiveSkills(t)}},{key:"memberNumber",get:function(){return this._memberNumber}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a={get:function(){return{event:i.default.t("announce.event"),campaign:i.default.t("announce.campaign"),gasha:i.default.t("announce.gasha"),update:i.default.t("announce.update"),maintenance:i.default.t("announce.maintenance"),problem:i.default.t("announce.problem")}}},o={isEvent:function(e){return"event"===e},isCampaign:function(e){return"campaign"===e},isGasha:function(e){return"gasha"===e},isUpdate:function(e){return"update"===e},isMaintenance:function(e){return"maintenance"===e},isProblem:function(e){return"problem"===e}};t.default={Types:a,TypeChecker:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1212),u=r(l),c=n(469),f=r(c),d=n(1215),p=r(d),h={LEARNED:"skill_learned",LEARN_POSSIBLE:"skill_learn_possible",SKILL_PANEL:"skill_panel"},y=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.LEARNED;i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=n===h.LEARNED?f.default:p.default,s=r.fromData(u.default,{skillOn:{key:n+"_on.png"},skillLists:o.new(e)});return r._skillLists=s.skillLists,r}return o(t,e),s(t,[{key:"reset",value:function(){return this._skillLists.reset(),this}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1221),l=r(s),u=n(3),c=r(u),f=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.nameKana,s=e.attribute,u=e.height,f=e.weight,d=e.bloodType,p=e.bust,h=e.waist,y=e.hip,m=e.age,_=e.birthDay,g=e.starSign,b=e.arm,v=e.place,w=e.hobby,k=e.specialty,S=e.characterVoice,I=r.fromData(l.default,{"nameKana/text":{text:o},"unit/text":{text:e.unit.name},"unitLogo/unitLogo":{key:n,dy:-2},"attribute/text":{text:s},"height/text":{text:c.default.t("idolDetail.profile.height",{height:u})},"weight/text":{text:c.default.t("idolDetail.profile.weight",{weight:f})},"bloodType/text":{text:c.default.t("idolDetail.profile.bloodType",{bloodType:d})},"figure/text":{text:c.default.t("idolDetail.profile.figure",{bust:p,waist:h,hip:y})},"age/text":{text:m},"birthday/text":{text:_},"starSign/text":{text:g},"arm/text":{text:b},"place/text":{text:v},"hobby/text":{text:w},"specialty/text":{text:k},"cv/text":{text:S}});return I["figure/figureTitle"].style.fontSize=13,I["figure/figureTitle"].y+=1,r}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(271),u=r(l),c=n(467),f=r(c),d=n(7),p=r(d),h=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=void 0,l={rarity:e.rarity,isShowSign:!0};return"fes"===n?(s=f.default,l.userFesIdol=e):(s=u.default,l.idol=e,l.idolType=n),o._idol=e,o._idolType=n,o._cardType="card",o._card=s.new(l).addTo(o),o.scale.set(.465),o.interactive=!0,o._zoomCardLayer=r,o.once("tap",function(){o._zoomInCardImage()}),o}return o(t,e),s(t,[{key:"switchCardImage",value:function(){if("support"!==this._idolType){this._card.removeChildren();var e="card"===this._cardType?"fes_card":"card";this._card=u.default.new({rarity:this._idol.rarity,isShowSign:!0,idol:this._idol,idolType:this._idolType,cardType:e}).addTo(this),this._cardType=e}}},{key:"_zoomInCardImage",value:function(){var e=this;this._originCardImage={x:this.x,y:this.y,scale:this.scaleX,parent:this.parent},aoba.soundManager.playSE(p.default.ui.decide),this._card.hideFrame(),this.setScale(1.01).setPosition(-2,0).addTo(this._zoomCardLayer),this.once("tap",function(){e._zoomOutCardImage()})}},{key:"_zoomOutCardImage",value:function(){var e=this;aoba.soundManager.playSE(p.default.ui.decide),this._card.showFrame(),this.setScale(this._originCardImage.scale).setPosition(this._originCardImage.x,this._originCardImage.y).addTo(this._originCardImage.parent),this.once("tap",function(){e._zoomInCardImage()})}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.png",x:0,y:0},{children:[{name:"detailLeftBase",fullName:"idolDetailBase/detailLeftBase",type:"sprite",key:"detail_left_base.png",x:10,y:0},{name:"detailRightBase",fullName:"idolDetailBase/detailRightBase",type:"sprite",key:"detail_right_base.png",x:585,y:0},{children:[{name:"unitIcon",fullName:"idolDetailBase/idolName/unitIcon",anchor:{x:.5,y:.5},type:"sprite",key:"1.png",x:20,y:20},{name:"idolName",fullName:"idolDetailBase/idolName/idolName",type:"text",text:"\u30a4\u30eb\u30df\u30cd\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30fc\u30ba\u3000\u6afb\u6728\u771f\u4e43",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:46,y:21}],name:"idolName",fullName:"idolDetailBase/idolName",type:"container",x:26,y:6},{name:"copyright",fullName:"idolDetailBase/copyright",anchor:{x:1,y:.5},type:"text",text:"\xa9\u7aaa\u5ca1\u4fca\u4e4b \xa9BANDAI NAMCO Entertainment Inc.",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:12},rotation:0,x:550,y:370},{name:"cardImage",fullName:"idolDetailBase/cardImage",type:"sprite",key:"card_image.png",x:27,y:66}],name:"idolDetailBase",fullName:"idolDetailBase",type:"container",x:6,y:69},{name:"detail",fullName:"detail",type:"container",x:0,y:0}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={common:["images/ui/common/parts_link_skill_dialog.json","images/ui/idol_detail/parts.json","images/ui/common/parts_skill_list.json","images/ui/produce_event/parts_event.json","images/event/select_frame/001.png","images/event/select_frame/002.png","images/event/select_frame/003.png"],fesIdol:["images/ui/idol_detail/parts_fes.json"],produceIdol:["images/ui/idol_detail/parts_produce.json"],supportIdol:["images/ui/idol_detail/parts_support.json"]}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(19),c=r(u),f=n(1),d=r(f),p={top_flare:PIXI.BLEND_MODES.ADD,touch_ADD:PIXI.BLEND_MODES.ADD,flare_parts_common_anime_gold_all:PIXI.BLEND_MODES.ADD,title_back_anime:PIXI.BLEND_MODES.ADD,glow_other_2_common:PIXI.BLEND_MODES.ADD,"text_glow _1":PIXI.BLEND_MODES.ADD,START_flash:PIXI.BLEND_MODES.MULTIPLY,AUDITION_flash:PIXI.BLEND_MODES.ADD,back_front_light:PIXI.BLEND_MODES.SCREEN},h={1:"n",2:"r",3:"sr",4:"ssr"},y=function(t){function n(e,t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r._idol=e,r._effectLayer=aoba.Container.new().addTo(r),r._commonEffectLayer=aoba.Container.new().addTo(r._effectLayer),r._fader=aoba.Graphics.new().beginFill(16777215).drawRect(0,0,aoba.game.width,aoba.game.height).addTo(r,0,0,{alpha:0}),
r._touchPanel=aoba.Graphics.new().beginFill(0,0).drawRect(0,0,aoba.game.width,aoba.game.height).addTo(r,0,0,{interactive:!0}),r._aeTable={},r._effectTweens=[],r._createCommonTopEffect(t).then(function(){return r._createIdolEffect(e,t)}).then(function(){return r.emit("initialized")}),r}return o(n,t),l(n,null,[{key:"getNameOfRarity",value:function(e){return h[e]}}]),l(n,[{key:"ezgPreDestroy",value:function(){this._cancelEffectTweens(),this._effectLayer=null,this._commonEffectLayer=null,this._fadeTween&&this._fadeTween.remove(),this._fadeTween=null,this._fader=null,this._aeTable=null,this._effectTweens=null,this._skipListener=null,s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"play",value:function(e){var t=this;this._playCommonTopEffect(e).then(function(){return t._playIdolEffect(t._idol)})}},{key:"listAETextureCacheIds",value:function(){var t=[];return e.each(this._aeTable,function(e){t=t.concat(e.assets.map(function(e){if(e.texture&&e.texture.textureCacheIds&&e.texture.textureCacheIds.length)return e.texture.textureCacheIds[0]}))}),e.uniq(t.filter(function(e){return!!e}))}},{key:"_createCommonTopEffect",value:function(t){var n=this;if(t)return Promise.resolve();var r={};e.each(p,function(e,t){r[t]={blendMode:e}});var i=new PIXI.AEDataInterceptor(r);return["top_bg","hane_fall_anime_all","audition_cut_in","audition_loop","tap_fade_in","tap_loop","top_flare"].reduce(function(e,t){return e.then(function(){return(0,c.default)({folderPath:"gasha",interceptor:i,fileName:t+".json"}).then(function(e){e.alpha=0,n._commonEffectLayer.addChild(e),n._aeTable[t]=e})})},Promise.resolve())}},{key:"_createIdolEffect",value:function(){}},{key:"_onStart",value:function(){this.emit("started")}},{key:"_playCommonTopEffect",value:function(e){var t=this;return e?(this._onStart(),Promise.resolve()):new Promise(function(e){aoba.FrameTween.new(t).wait(30).call(function(){t._aeTable.top_bg.alpha=1,t._aeTable.top_flare.alpha=1,t._aeTable.hane_fall_anime_all.alpha=1,t._aeTable.audition_cut_in.alpha=1,t._aeTable.tap_fade_in.alpha=1}).wait(1).call(function(){aoba.FrameTween.new(t).wait(3).call(function(){return aoba.soundManager.playSE("se0180")}),t._onStart(),t._aeTable.top_bg.play(),t._aeTable.top_flare.play(!0),t._aeTable.hane_fall_anime_all.play(!0),t._aeTable.audition_cut_in.on("completed",function(){t._aeTable.audition_cut_in.alpha=0,t._aeTable.audition_loop.alpha=1,t._aeTable.audition_loop.play(!0)}),t._aeTable.audition_cut_in.play(),t._aeTable.tap_fade_in.on("completed",function(){t._aeTable.tap_fade_in.alpha=0,t._aeTable.tap_loop.alpha=1,t._aeTable.tap_loop.play(!0)}),t._aeTable.tap_fade_in.play(),t._touchPanel.once("tap",function(){t.initIdolMovie().then(e)})})})}},{key:"_playIdolEffect",value:function(){}},{key:"initIdolMovie",value:function(){return Promise.resolve()}},{key:"_setSkipListener",value:function(e){this._skipListener&&(this._touchPanel.removeListener("tap",this._onSkip,this),this._skipListener=null),e&&this._isSkipEnabled()&&(this._skipListener=e,this._touchPanel.once("tap",this._onSkip,this))}},{key:"_isSkipEnabled",value:function(){return this._idol.rarity===d.default.app.RARITIES.R||this._idol.rarity===d.default.app.RARITIES.SR&&!this._idol.isNew}},{key:"_onSkip",value:function(){var e=this._skipListener;this._skipListener=null,e()}},{key:"fadeIn",value:function(){this._fadeTween&&this._fadeTween.remove(),this._fader.alpha=1,this._fadeTween=aoba.FrameTween.new(this._fader).to({alpha:0},5)}},{key:"fadeOut",value:function(){this._fadeTween&&this._fadeTween.remove(),this._fader.alpha=0,this._fadeTween=aoba.FrameTween.new(this._fader).to({alpha:1},5)}},{key:"whiten",value:function(){this._fadeTween&&this._fadeTween.remove(),this._fader.alpha=1}},{key:"_seekAE",value:function(e,t){var n=e.deltaPlayer,r=n.inFrame+30*n.elapsedTime/1e3,i=t-r;e.updateByDelta(1e3*i/30)}},{key:"_findAELayer",value:function(t,n){var r=void 0;return e.each(this._aeTable,function(e,i){if(void 0===r&&(!n||i===n)){var a=e.find(t);1===a.length&&(r=a[0])}}),r}},{key:"_createEffectTween",value:function(e,t){var n=t?aoba.FrameTween.fromData(e,t):aoba.FrameTween.new(e);return this._effectTweens.push(n),n}},{key:"_cancelEffectTweens",value:function(){this._effectTweens.forEach(function(e){return e.remove()}),this._effectTweens=[]}},{key:"_playParticles",value:function(t){var n=this;t&&t.forEach(function(t){t.conf.props&&e.each(t.conf.props,function(e,n){t[n]=e}),n._createEffectTween(t).wait(t.conf.delay).call(function(){t.play(),t.conf.duration&&n._createEffectTween(t).wait(t.conf.duration).to({alpha:0},3),t.conf.tween&&n._createEffectTween(t,t.conf.tween)})})}},{key:"_playSEs",value:function(e){var t=this;e&&e.forEach(function(e){t._createEffectTween(t).wait(e.delay).call(function(){return aoba.soundManager.playSE(e.id)})})}},{key:"_playVoice",value:function(e){var t=this;e&&e.forEach(function(e){var n=t._idol.getVoicePath(e.id);n&&t._createEffectTween(t).wait(e.delay).call(function(){return aoba.soundManager.playSE(n)})})}}]),n}(aoba.Container);t.default=y}).call(t,n(4))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1),c=r(u),f=n(3),d=r(f),p=n(1289),h=r(p),y=n(427),m=r(y),_=n(478),g=r(_),b={fill:5592405,fontSize:22,lineHeight:30,wordWrap:!0,wordWrapWidth:660,breakWords:!0,fontFamily:"HummingStd-E"},v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hasBalloon:!0};i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r={hasBalloon:!0};e=Object.assign(r,e),n._animate=!e||void 0===e.animate||e.animate;var o=!(!e||void 0===e.hasBg)&&e.hasBg,s=n._animate?"wait":"lip_smile_s";o&&aoba.Sprite.new(c.default.bg.HOME).addTo(n,-39,-66);var l=n.fromData(h.default,{staff:{key:null},staffBalloon:{dy:30},"staffBalloon/staffBalloon":e.hasBalloon?{dx:-207,dy:-50}:null,"staffBalloon/comment":{style:b,x:48,dy:-35}});return n._staff=l.staff,n._staffBalloon=l.staffBalloon,n._comment=l["staffBalloon/comment"],n._comment.style.fontFamily="HummingStd-E",n._staffSpine=m.default.new("spine/sub_characters/stand/staff/data.json"),n._staffSpine.position=n._staff.position,n._staffSpine.playAnimation(s),n.addChildAt(n._staffSpine,n.getChildIndex(n._staff)),aoba.Text.new(d.default.t("common.staff"),{fill:5592405,fontFamily:"HummingStd-E",fontSize:26}).addTo(n._staffBalloon,60,-35),n}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this.stopVoice(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"_playStaffAnimation",value:function(e,t){this._staffSpine.playAnimation(e,t)}},{key:"showBalloon",value:function(){var e=this;return new Promise(function(t){aoba.FrameTween.new(e._staffBalloon).call(function(){e._staffBalloon.show()}).from({alpha:0},10).call(t)})}},{key:"hideBalloon",value:function(){this._staffBalloon.hide(),
this.stopVoice()}},{key:"open",value:function(e){var t=this,n=e.comment,r=e.voice,i=e.animation,a=void 0===i?"wait":i,o=e.faceAnimation,s=void 0===o?"blank":o,l=e.lipAnimation,u=void 0===l?"lip_smile":l,c=e.interval,f=void 0===c?64:c;return new Promise(function(e){t._animate&&t._playStaffAnimation(a,s),t._comment.typeInterval=f,t._comment.typeText(n,!0),t._comment.on("endText",function(){t.emit("end"),e()}),t._playVoice(r,u)})}},{key:"close",value:function(){this.hide(),this.stopVoice()}},{key:"changeAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank";this._playStaffAnimation(e,t)}},{key:"setSpinePosition",value:function(e,t){this._staffSpine.position.set(e,t)}},{key:"setSpineScale",value:function(e){this._staffSpine.scale.set(e)}},{key:"_playVoice",value:function(e,t){var n=this;if(this.stopVoice(),e){var r=g.default.getVoicePath(e);aoba.soundManager.playVoiceAsync(r).then(function(e){n._voiceSound=e,n._voiceSound&&n._staffSpine.playLipAnimation(t,n._voiceSound.duration)})}}},{key:"stopVoice",value:function(){this._voiceSound&&(this._voiceSound.stop(),this._voiceSound=null),this._staffSpine.stopLipAnimation()}}]),t}(aoba.Container);t.default=v},function(e,t,n){var r=n(17),i=n(11).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(11),i=n(59),a=n(86),o=n(286),s=n(28).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(141)("keys"),i=n(85);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(11).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(17),i=n(8),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(53)(Function.call,n(50).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){var r=n(17),i=n(193).set;e.exports=function(e,t,n){var a,o=t.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(e,a),e}},function(e,t,n){"use strict";var r=n(62),i=n(61);e.exports=function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(62),i=n(61);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(86),i=n(2),a=n(47),o=n(46),s=n(45),l=n(102),u=n(201),c=n(100),f=n(51),d=n(25)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,y,m,_,g){u(n,t,y);var b,v,w,k=function(e){if(!p&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",I="values"==m,E=!1,A=e.prototype,x=A[d]||A["@@iterator"]||m&&A[m],C=x||k(m),T=m?I?k("entries"):C:void 0,P="Array"==t?A.entries||x:x;if(P&&(w=f(P.call(new e)))!==Object.prototype&&w.next&&(c(w,S,!0),r||s(w,d)||o(w,d,h)),I&&x&&"values"!==x.name&&(E=!0,C=function(){return x.call(this)}),r&&!g||!p&&!E&&A[d]||o(A,d,C),l[t]=C,l[S]=h,m)if(b={values:I?C:k("values"),keys:_?C:k("keys"),entries:T},g)for(v in b)v in A||a(A,v,b[v]);else i(i.P+i.F*(p||E),t,b);return b}},function(e,t,n){"use strict";var r=n(89),i=n(84),a=n(100),o={};n(46)(o,n(25)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(145),i=n(61);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(25)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(102),i=n(25)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){"use strict";var r=n(28),i=n(84);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(121),i=n(25)("iterator"),a=n(102);e.exports=n(59).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(589);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(33),i=n(88),a=n(29);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(79),i=n(302),a=n(102),o=n(49);e.exports=n(200)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r,i,a,o=n(53),s=n(292),l=n(192),u=n(188),c=n(11),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,y=c.Dispatch,m=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete _[e]},"process"==n(54)(f)?r=function(e){f.nextTick(o(g,e,1))}:y&&y.now?r=function(e){y.now(o(g,e,1))}:h?(i=new h,a=i.port2,i.port1.onmessage=b,r=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(11),i=n(210).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,l="process"==n(54)(o);e.exports=function(){var e,t,n,u=function(){var r,i;for(l&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){o.nextTick(u)};else if(a){var c=!0,f=document.createTextNode("");new a(u).observe(f,{characterData:!0}),n=function(){f.data=c=!c}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(u)}}else n=function(){i.call(r,u)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(37);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e,t,n){var r,i,a,o=Array(n),s=8*n-t-1,l=(1<<s)-1,u=l>>1,c=23===t?j(2,-24)-j(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=B(e),e!=e||e===D?(i=e!=e?1:0,r=l):(r=L(U(e)/H),e*(a=j(2,-r))<1&&(r--,a*=2),e+=r+u>=1?c/a:c*j(2,1-u),e*a>=2&&(r++,a/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(e*a-1)*j(2,t),r+=u):(i=e*j(2,u-1)*j(2,t),r=0));t>=8;o[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[f++]=255&r,r/=256,
s-=8);return o[--f]|=128*d,o}function i(e,t,n){var r,i=8*n-t-1,a=(1<<i)-1,o=a>>1,s=i-7,l=n-1,u=e[l--],c=127&u;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===c)c=1-o;else{if(c===a)return r?NaN:u?-D:D;r+=j(2,t),c-=o}return(u?-1:1)*r*j(2,c-t)}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function l(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function u(e){return r(e,52,8)}function c(e){return r(e,23,4)}function f(e,t,n){A(e[T],t,{get:function(){return this[n]}})}function d(e,t,n,r){var i=+n,a=I(i);if(a+t>e[z])throw R(P);var o=e[G]._b,s=a+e[V],l=o.slice(s,s+t);return r?l:l.reverse()}function p(e,t,n,r,i,a){var o=+n,s=I(o);if(s+t>e[z])throw R(P);for(var l=e[G]._b,u=s+e[V],c=r(+i),f=0;f<t;f++)l[u+f]=c[a?f:t-f-1]}var h=n(11),y=n(27),m=n(86),_=n(151),g=n(46),b=n(94),v=n(15),w=n(92),k=n(62),S=n(29),I=n(311),E=n(90).f,A=n(28).f,x=n(208),C=n(100),T="prototype",P="Wrong index!",O=h.ArrayBuffer,N=h.DataView,M=h.Math,R=h.RangeError,D=h.Infinity,F=O,B=M.abs,j=M.pow,L=M.floor,U=M.log,H=M.LN2,G=y?"_b":"buffer",z=y?"_l":"byteLength",V=y?"_o":"byteOffset";if(_.ABV){if(!v(function(){O(1)})||!v(function(){new O(-1)})||v(function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name})){O=function(e){return w(this,O),new F(I(e))};for(var K,W=O[T]=F[T],q=E(F),X=0;q.length>X;)(K=q[X++])in O||g(O,K,F[K]);m||(W.constructor=O)}var Y=new N(new O(2)),J=N[T].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||b(N[T],{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else O=function(e){w(this,O,"ArrayBuffer");var t=I(e);this._b=x.call(Array(t),0),this[z]=t},N=function(e,t,n){w(this,N,"DataView"),w(e,O,"DataView");var r=e[z],i=k(t);if(i<0||i>r)throw R("Wrong offset!");if(n=void 0===n?r-i:S(n),i+n>r)throw R("Wrong length!");this[G]=e,this[V]=i,this[z]=n},y&&(f(O,"byteLength","_l"),f(N,"buffer","_b"),f(N,"byteLength","_l"),f(N,"byteOffset","_o")),b(N[T],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return a(d(this,4,e,arguments[1]))},getUint32:function(e){return a(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,o,t)},setUint8:function(e,t){p(this,1,e,o,t)},setInt16:function(e,t){p(this,2,e,s,t,arguments[2])},setUint16:function(e,t){p(this,2,e,s,t,arguments[2])},setInt32:function(e,t){p(this,4,e,l,t,arguments[2])},setUint32:function(e,t){p(this,4,e,l,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,u,t,arguments[2])}});C(O,"ArrayBuffer"),C(N,"DataView"),g(N[T],_.VIEW,!0),t.ArrayBuffer=O,t.DataView=N},function(module,exports,__webpack_require__){"use strict";(function(process,__dirname,Buffer){function globalEval(e){eval.call(null,e)}function assert(e,t){e||abort("Assertion failed: "+t)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,n,r){switch(n=n||"i8","*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+n)}}function getValue(e,t,n){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}function allocate(e,t,n,r){var i,a;"number"==typeof e?(i=!0,a=e):(i=!1,a=e.length);var o,s="string"==typeof t?t:null;if(o=n==ALLOC_NONE?r:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===n?ALLOC_STATIC:n](Math.max(a,s?1:t.length)),i){var l,r=o;for(assert(0==(3&o)),l=o+(-4&a);r<l;r+=4)HEAP32[r>>2]=0;for(l=o+a;r<l;)HEAP8[r++>>0]=0;return o}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;for(var u,c,f,d=0;d<a;){var p=e[d];"function"==typeof p&&(p=Runtime.getFunctionIndex(p)),u=s||t[d],0!==u?("i64"==u&&(u="i32"),setValue(o+d,p,u),f!==u&&(c=Runtime.getNativeTypeSize(u),f=u),d+=c):d++}return o}function getMemory(e){return staticSealed?void 0!==_sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;;){if(n=HEAPU8[e+i>>0],r|=n,0==n&&!t)break;if(i++,t&&i==t)break}t||(t=i);var a="";if(r<128){for(var o;t>0;)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var n=HEAP8[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var n,r,i,a,o,s,l="";;){if(!(n=e[t++]))return l;if(128&n)if(r=63&e[t++],192!=(224&n))if(i=63&e[t++],224==(240&n)?n=(15&n)<<12|r<<6|i:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|r<<12|i<<6|a:(o=63&e[t++],248==(252&n)?n=(3&n)<<24|r<<18|i<<12|a<<6|o:(s=63&e[t++],n=(1&n)<<30|r<<24|i<<18|a<<12|o<<6|s))),n<65536)l+=String.fromCharCode(n);else{var u=n-65536;l+=String.fromCharCode(55296|u>>10,56320|1023&u)}else l+=String.fromCharCode((31&n)<<6|r);else l+=String.fromCharCode(n)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function stringToUTF8(e,t,n){return stringToUTF8Array(e,HEAPU8,t,n)}function lengthBytesUTF8(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function UTF16ToString(e){for(var t=0,n="";;){var r=HEAP16[e+2*t>>1];if(0==r)return n;++t,n+=String.fromCharCode(r)}}function stringToUTF16(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;n-=2;for(var r=t,i=n<2*e.length?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);HEAP16[t>>1]=o,t+=2}return HEAP16[t>>1]=0,t-r}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var t=0,n="";;){var r=HEAP32[e+4*t>>2];if(0==r)return n;if(++t,r>=65536){var i=r-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(r)}}function stringToUTF32(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a)
;if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a);if(HEAP32[t>>2]=o,(t+=4)+4>i)break}return HEAP32[t>>2]=0,t-r}function lengthBytesUTF32(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function demangle(e){function t(){s++,"K"===e[s]&&s++;for(var t=[];"E"!==e[s];)if("S"!==e[s])if("C"!==e[s]){var n=parseInt(e.substr(s)),r=n.toString().length;if(!n||!r){s--;break}var i=e.substr(s+r,n);t.push(i),u.push(i),s+=r+n}else t.push(t[t.length-1]),s+=2;else{s++;var a=e.indexOf("_",s),o=e.substring(s,a)||0;t.push(u[o]||"?"),s=a+1}return s++,t}function n(r,i,a){i=i||1/0;var o,u="",f=[];if("N"===e[s]){if(o=t().join("::"),0===--i)return r?[o]:o}else{("K"===e[s]||c&&"L"===e[s])&&s++;var d=parseInt(e.substr(s));if(d){var p=d.toString().length;o=e.substr(s+p,d),s+=p+d}}if(c=!1,"I"===e[s]){s++;var h=n(!0);u+=n(!0,1,!0)[0]+" "+o+"<"+h.join(", ")+">"}else u=o;e:for(;s<e.length&&i-- >0;){var y=e[s++];if(y in l)f.push(l[y]);else switch(y){case"P":f.push(n(!0,1,!0)[0]+"*");break;case"R":f.push(n(!0,1,!0)[0]+"&");break;case"L":s++;var m=e.indexOf("E",s),d=m-s;f.push(e.substr(s,d)),s+=d+2;break;case"A":var d=parseInt(e.substr(s));if(s+=d.toString().length,"_"!==e[s])throw"?";s++,f.push(n(!0,1,!0)[0]+" ["+d+"]");break;case"E":break e;default:u+="?"+y;break e}}return a||1!==f.length||"void"!==f[0]||(f=[]),r?(u&&f.push(u+"?"),f):u+function(){return"("+f.join(", ")+")"}()}var r=!!Module.___cxa_demangle;if(r)try{var i=_malloc(e.length);writeStringToMemory(e.substr(1),i);var a=_malloc(4),o=Module.___cxa_demangle(i,0,0,a);if(0===getValue(a,"i32")&&o)return Pointer_stringify(o)}catch(e){}finally{i&&_free(i),a&&_free(a),o&&_free(o)}var s=3,l={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},u=[],c=!0,f=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}f=n()}catch(e){f+="?"}return f.indexOf("?")>=0&&!r&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),f}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Runtime.dynCall("v",n):Runtime.dynCall("vi",n,[t.arg]):n(void 0===t.arg?null:t.arg)}else t()}}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,n){var r=n>0?n:lengthBytesUTF8(e)+1,i=new Array(r),a=stringToUTF8Array(e,i,0,i.length);return t&&(i.length=a),i}function intArrayToString(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")}function writeStringToMemory(e,t,n){for(var r=intArrayFromString(e,n),i=0;i<r.length;){var a=r[i];HEAP8[t+i>>0]=a,i+=1}}function writeArrayToMemory(e,t){for(var n=0;n<e.length;n++)HEAP8[t++>>0]=e[n]}function writeAsciiToMemory(e,t,n){for(var r=0;r<e.length;++r)HEAP8[t++>>0]=e.charCodeAt(r);n||(HEAP8[t>>0]=0)}function unSign(e,t,n){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,n){if(e<=0)return e;var r=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=r&&(t<=32||e>r)&&(e=-2*r+e),e}function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _atexit(e,t){__ATEXIT__.unshift({func:e,arg:t})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function ___assert_fail(e,t,n,r){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",n,r?Pointer_stringify(r):"unknown function"]+" at "+stackTrace()}function embind_init_charCodes(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);embind_charCodes=e}function readLatin1String(e){for(var t="",n=e;HEAPU8[n];)t+=embind_charCodes[HEAPU8[n++]];return t}function makeLegalFunctionName(e){if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=char_0&&t<=char_9?"_"+e:e}function createNamedFunction(e,t){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function extendError(e,t){var n=createNamedFunction(t,function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}function throwBindingError(e){throw new BindingError(e)}function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,t,n){function r(t){var r=n(t);r.length!==e.length&&throwInternalError("Mismatched type converter count");for(var i=0;i<e.length;++i)registerType(e[i],r[i])}e.forEach(function(e){typeDependencies[e]=t});var i=new Array(t.length),a=[],o=0;t.forEach(function(e,t){registeredTypes.hasOwnProperty(e)?i[t]=registeredTypes[e]:(a.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push(function(){
i[t]=registeredTypes[e],++o===a.length&&r(i)}))}),0===a.length&&r(i)}function registerType(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||throwBindingError('type "'+r+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+r+"' twice")}if(registeredTypes[e]=t,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var i=awaitingDependencies[e];delete awaitingDependencies[e],i.forEach(function(e){e()})}}function __embind_register_void(e,t){t=readLatin1String(t),registerType(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm.setTempRet0(0),0);var t=EXCEPTIONS.infos[e],n=t.type;if(!n)return 0|(asm.setTempRet0(0),e);var r=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(n);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var i=0;i<r.length;i++)if(r[i]&&Module.___cxa_can_catch(r[i],n,e))return e=HEAP32[e>>2],t.adjusted=e,0|(asm.setTempRet0(r[i]),e);return e=HEAP32[e>>2],0|(asm.setTempRet0(n),e)}function ___cxa_throw(e,t,n){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:n,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function __embind_register_bool(e,t,n,r,i){var a=getShiftFromSize(n);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=HEAP8;else if(2===n)r=HEAP16;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=HEAP32}return this.fromWireType(r[e>>a])},destructorFunction:null})}function ___gxx_personality_v0(){}function _pthread_mutex_lock(){}function __isLeapYear(e){return e%4==0&&(e%100!=0||e%400==0)}function __arraySum(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}function __addDays(e,t){for(var n=new Date(e.getTime());t>0;){var r=__isLeapYear(n.getFullYear()),i=n.getMonth(),a=(r?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[i];if(!(t>a-n.getDate()))return n.setDate(n.getDate()+t),n;t-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function _strftime(e,t,n,r){function i(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function a(e,t){return i(e,t,"0")}function o(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=s(n),a=s(r);return o(i,t)<=0?o(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var u=HEAP32[r+40>>2],c={tm_sec:HEAP32[r>>2],tm_min:HEAP32[r+4>>2],tm_hour:HEAP32[r+8>>2],tm_mday:HEAP32[r+12>>2],tm_mon:HEAP32[r+16>>2],tm_year:HEAP32[r+20>>2],tm_wday:HEAP32[r+24>>2],tm_yday:HEAP32[r+28>>2],tm_isdst:HEAP32[r+32>>2],tm_gmtoff:HEAP32[r+36>>2],tm_zone:u?Pointer_stringify(u):""},f=Pointer_stringify(n),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var p in d)f=f.replace(new RegExp(p,"g"),d[p]);var h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],m={"%a":function(e){return h[e.tm_wday].substring(0,3)},"%A":function(e){return h[e.tm_wday]},"%b":function(e){return y[e.tm_mon].substring(0,3)},"%B":function(e){return y[e.tm_mon]},"%C":function(e){return a((e.tm_year+1900)/100|0,2)},"%d":function(e){return a(e.tm_mday,2)},"%e":function(e){return i(e.tm_mday,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return a(e.tm_hour,2)},"%I":function(e){return a(e.tm_hour<13?e.tm_hour:e.tm_hour-12,2)},"%j":function(e){return a(e.tm_mday+__arraySum(__isLeapYear(e.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,e.tm_mon-1),3)},"%m":function(e){return a(e.tm_mon+1,2)},"%M":function(e){return a(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>0&&e.tm_hour<13?"AM":"PM"},"%S":function(e){return a(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0).getDay()||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),n=0===t.getDay()?t:__addDays(t,7-t.getDay()),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(o(n,r)<0){var i=__arraySum(__isLeapYear(r.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,r.getMonth()-1)-31,s=31-n.getDate(),l=s+i+r.getDate();return a(Math.ceil(l/7),2)}return 0===o(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),r=s(t),i=s(n),l=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);if(o(l,r)<0)return"53";if(o(i,l)<=0)return"01";var u;return u=r.getFullYear()<e.tm_year+1900?e.tm_yday+32-r.getDate():e.tm_yday+1-r.getDate(),a(Math.ceil(u/7),2)},"%w":function(e){return new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0).getDay()},"%W":function(e){var t=new Date(e.tm_year,0,1),n=1===t.getDay()?t:__addDays(t,0===t.getDay()?1:7-t.getDay()+1),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(o(n,r)<0){var i=__arraySum(__isLeapYear(r.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,r.getMonth()-1)-31,s=31-n.getDate(),l=s+i+r.getDate();return a(Math.ceil(l/7),2)}return 0===o(n,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=Math.abs(t)/60,t=t/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var p in m)f.indexOf(p)>=0&&(f=f.replace(new RegExp(p,"g"),m[p](c)));var _=intArrayFromString(f,!1);return _.length>t?0:(writeArrayToMemory(_,e),_.length-1)}function _strftime_l(e,t,n,r){return _strftime(e,t,n,r)}function _abort(){Module.abort()}function _free(){}function _malloc(e){return Runtime.dynamicAlloc(e+8)+8&4294967288}function simpleReadValueFromPointer(e){return this.fromWireType(HEAPU32[e>>2])}function __embind_register_std_string(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){for(var t=HEAPU32[e>>2],n=new Array(t),r=0;r<t;++r)n[r]=String.fromCharCode(HEAPU8[e+4+r]);return _free(e),n.join("")},toWireType:function(e,t){function n(e,t){return e[t]}function r(e,t){return e.charCodeAt(t)}
t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i;t instanceof Uint8Array?i=n:t instanceof Int8Array?i=n:"string"==typeof t?i=r:throwBindingError("Cannot pass non-string to std::string");var a=t.length,o=_malloc(4+a);HEAPU32[o>>2]=a;for(var s=0;s<a;++s){var l=i(t,s);l>255&&(_free(o),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[o+4+s]=l}return null!==e&&e.push(_free,o),o},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function __embind_register_std_wstring(e,t,n){n=readLatin1String(n);var r,i;2===t?(r=function(){return HEAPU16},i=1):4===t&&(r=function(){return HEAPU32},i=2),registerType(e,{name:n,fromWireType:function(e){for(var t=r(),n=HEAPU32[e>>2],a=new Array(n),o=e+4>>i,s=0;s<n;++s)a[s]=String.fromCharCode(t[o+s]);return _free(e),a.join("")},toWireType:function(e,n){var a=r(),o=n.length,s=_malloc(4+o*t);HEAPU32[s>>2]=o;for(var l=s+4>>i,u=0;u<o;++u)a[l+u]=n.charCodeAt(u);return null!==e&&e.push(_free,s),s},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function _pthread_once(e,t){_pthread_once.seen||(_pthread_once.seen={}),e in _pthread_once.seen||(Runtime.dynCall("v",t),_pthread_once.seen[e]=1)}function ___lock(){}function ___unlock(){}function _pthread_getspecific(e){return PTHREAD_SPECIFIC[e]||0}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===("undefined"==typeof navigator?"undefined":_typeof(navigator))?navigator.hardwareConcurrency||1:1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function _pthread_key_create(e,t){return 0==e?ERRNO_CODES.EINVAL:(HEAP32[e>>2]=PTHREAD_SPECIFIC_NEXT_KEY,PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0,PTHREAD_SPECIFIC_NEXT_KEY++,0)}function _embind_repr(e){if(null===e)return"null";var t=void 0===e?"undefined":_typeof(e);return"object"===t||"array"===t||"function"===t?e.toString():""+e}function integerReadValueFromPointer(e,t,n){switch(t){case 0:return n?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return n?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return n?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,t,n,r,i){t=readLatin1String(t),-1===i&&(i=4294967295);var a=getShiftFromSize(n),o=function(e){return e};if(0===r){var s=32-8*n;o=function(e){return e<<s>>>s}}registerType(e,{name:t,fromWireType:o,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+_embind_repr(n)+'" to '+this.name);if(n<r||n>i)throw new TypeError('Passing a number "'+_embind_repr(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+i+"]!");return 0|n},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(t,a,0!==r),destructorFunction:null})}function _emscripten_set_main_loop_timing(e,t){if(Browser.mainLoop.timingMode=e,Browser.mainLoop.timingValue=t,!Browser.mainLoop.func)return 1;if(0==e)Browser.mainLoop.scheduler=function(){setTimeout(Browser.mainLoop.runner,t)},Browser.mainLoop.method="timeout";else if(1==e)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(2==e){if(!window.setImmediate){var n=function(e){e.source===window&&e.data===i&&(e.stopPropagation(),r.shift()())},r=[],i="__emcc";window.addEventListener("message",n,!0),window.setImmediate=function(e){r.push(e),window.postMessage(i,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_set_main_loop(e,t,n,r,i){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=e,Browser.mainLoop.arg=r;var a=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var t=(Date.now(),Browser.mainLoop.queue.shift());if(t.func(t.arg),Browser.mainLoop.remainingBlockers){var n=Browser.mainLoop.remainingBlockers,i=n%1==0?n-1:Math.floor(n);t.counted?Browser.mainLoop.remainingBlockers=i:(i+=.5,Browser.mainLoop.remainingBlockers=(8*n+i)/9)}return Browser.mainLoop.updateStatus(),void setTimeout(Browser.mainLoop.runner,0)}if(!(a<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,1==Browser.mainLoop.timingMode&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0)return void Browser.mainLoop.scheduler();"timeout"===Browser.mainLoop.method&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(function(){void 0!==r?Runtime.dynCall("vi",e,[r]):Runtime.dynCall("v",e)}),a<Browser.mainLoop.currentlyRunningMainloop||("object"===("undefined"==typeof SDL?"undefined":_typeof(SDL))&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},i||(t&&t>0?_emscripten_set_main_loop_timing(0,1e3/t):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),n)throw"SimulateInfiniteLoop"}function _pthread_setspecific(e,t){return e in PTHREAD_SPECIFIC?(PTHREAD_SPECIFIC[e]=t,0):ERRNO_CODES.EINVAL}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function __emval_decref(e){e>4&&0==--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,t=5;t<emval_handle_array.length;++t)void 0!==emval_handle_array[t]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[t]={
refcount:1,value:e},t}}function __embind_register_emval(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){var t=emval_handle_array[e].value;return __emval_decref(e),t},toWireType:function(e,t){return __emval_register(t)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function ___cxa_allocate_exception(e){return _malloc(e)}function ___syscall54(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get();switch(r){case 21505:case 21506:return n.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!n.tty)return-ERRNO_CODES.ENOTTY;var i=SYSCALLS.get();return HEAP32[i>>2]=0,0;case 21520:return n.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:var i=SYSCALLS.get();return FS.ioctl(n,r,i);default:abort("bad ioctl syscall "+r)}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function floatReadValueFromPointer(e,t){switch(t){case 2:return function(e){return this.fromWireType(HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,t,n){var r=getShiftFromSize(n);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+_embind_repr(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(t,r),destructorFunction:null})}function _pthread_cleanup_push(e,t){__ATEXIT__.push(function(){Runtime.dynCall("vi",e,[t])}),_pthread_cleanup_push.level=__ATEXIT__.length}function _pthread_cond_broadcast(){return 0}function ___cxa_guard_acquire(e){return HEAP8[e>>0]?0:(HEAP8[e>>0]=1,1)}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function ___cxa_begin_catch(e){return __ZSt18uncaught_exceptionv.uncaught_exception--,EXCEPTIONS.caught.push(e),EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(e)),e}function new_(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+(void 0===e?"undefined":_typeof(e))+" which is not a function");var n=createNamedFunction(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return i instanceof Object?i:r}function runDestructors(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function craftInvokerFunction(e,t,n,r,i){var a=t.length;a<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&null!==n,s="",l="",u=0;u<a-2;++u)s+=(0!==u?", ":"")+"arg"+u,l+=(0!==u?", ":"")+"arg"+u+"Wired";for(var c="return function "+makeLegalFunctionName(e)+"("+s+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n",f=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){f=!0;break}f&&(c+="var destructors = [];\n");var d=f?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[throwBindingError,r,i,runDestructors,t[0],t[1]];o&&(c+="var thisWired = classParam.toWireType("+d+", this);\n");for(var u=0;u<a-2;++u)c+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",p.push("argType"+u),h.push(t[u+2]);o&&(l="thisWired"+(l.length>0?", ":"")+l);var y="void"!==t[0].name;if(c+=(y?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",f)c+="runDestructors(destructors);\n";else for(var u=o?1:2;u<t.length;++u){var m=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(c+=m+"_dtor("+m+"); // "+t[u].name+"\n",p.push(m+"_dtor"),h.push(t[u].destructorFunction))}return y&&(c+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),c+="}\n",p.push(c),new_(Function,p).apply(null,h)}function ensureOverloadTable(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function exposePublicSymbol(e,t,n){Module.hasOwnProperty(e)?((void 0===n||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[n])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(n)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),Module[e].overloadTable[n]=t):(Module[e]=t,void 0!==n&&(Module[e].numArguments=n))}function heap32VectorToArray(e,t){for(var n=[],r=0;r<e;r++)n.push(HEAP32[(t>>2)+r]);return n}function replacePublicSymbol(e,t,n){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==n?Module[e].overloadTable[n]=t:Module[e]=t}function requireFunction(e,t){e=readLatin1String(e);var n;if(void 0!==Module["FUNCTION_TABLE_"+e])n=Module["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)n=FUNCTION_TABLE[t];else{var r=asm["dynCall_"+e];void 0===r&&void 0===(r=asm["dynCall_"+e.replace(/f/g,"d")])&&throwBindingError("No dynCall invoker for signature: "+e),n=function(n){for(var r=[],i=1;i<e.length;++i)r.push("a"+i);var a="dynCall_"+e+"_"+t,o="return function "+a+"("+r.join(", ")+") {\n";return o+="    return dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(n,t)}(r)}return"function"!=typeof n&&throwBindingError("unknown function pointer with signature "+e+": "+t),n}function getTypeName(e){var t=___getTypeName(e),n=readLatin1String(t);return _free(t),n}function throwUnboundTypeError(e,t){function n(e){if(!i[e]&&!registeredTypes[e]){if(typeDependencies[e])return void typeDependencies[e].forEach(n);r.push(e),i[e]=!0}}var r=[],i={};throw t.forEach(n),new UnboundTypeError(e+": "+r.map(getTypeName).join([", "]))}function __embind_register_function(e,t,n,r,i,a){var o=heap32VectorToArray(t,n);e=readLatin1String(e),i=requireFunction(r,i),exposePublicSymbol(e,function(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",o)},t-1),whenDependentTypesAreResolved([],o,function(n){var r=[n[0],null].concat(n.slice(1));return replacePublicSymbol(e,craftInvokerFunction(e,r,null,i,a),t-1),[]})}function _emscripten_memcpy_big(e,t,n){return HEAPU8.set(HEAPU8.subarray(t,t+n),e),e}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD();return FS.close(n),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var n=DYNAMICTOP;if(0!=e)if(!t.alloc(e))return-1>>>0;return n}function _pthread_cond_wait(){return 0}function _pthread_mutex_unlock(){}function __embind_register_memory_view(e,t,n){function r(e){e>>=2;var t=HEAPU32,n=t[e],r=t[e+1];return new a(t.buffer,r,n)}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=i[t];n=readLatin1String(n),registerType(e,{name:n,fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})}function ___cxa_guard_release(){}function _pthread_self(){return 0}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),i=SYSCALLS.get(),a=SYSCALLS.get(),o=SYSCALLS.get(),s=i;return assert(0===r),FS.llseek(n,s,o),HEAP32[a>>2]=n.position,n.getdents&&0===s&&0===o&&(n.getdents=null),0}catch(e){
return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),i=SYSCALLS.get();return SYSCALLS.doWritev(n,r,i)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function invoke_iiiiiiii(e,t,n,r,i,a,o,s){try{return Module.dynCall_iiiiiiii(e,t,n,r,i,a,o,s)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiii(e,t,n,r){try{return Module.dynCall_iiii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,t,n,r,i,a){try{Module.dynCall_viiiii(e,t,n,r,i,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiiid(e,t,n,r,i,a,o){try{return Module.dynCall_iiiiiid(e,t,n,r,i,a,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vii(e,t,n){try{Module.dynCall_vii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiiii(e,t,n,r,i,a,o){try{return Module.dynCall_iiiiiii(e,t,n,r,i,a,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiid(e,t,n,r,i,a){try{return Module.dynCall_iiiiid(e,t,n,r,i,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viii(e,t,n,r){try{Module.dynCall_viii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiiiiii(e,t,n,r,i,a,o,s,l){try{return Module.dynCall_iiiiiiiii(e,t,n,r,i,a,o,s,l)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiii(e,t,n,r,i){try{return Module.dynCall_iiiii(e,t,n,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiii(e,t,n,r,i,a,o){try{Module.dynCall_viiiiii(e,t,n,r,i,a,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iii(e,t,n){try{return Module.dynCall_iii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiii(e,t,n,r,i,a){try{return Module.dynCall_iiiiii(e,t,n,r,i,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiii(e,t,n,r,i){try{Module.dynCall_viiii(e,t,n,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function exit(e,t){if(!t||!Module.noExitRuntime)throw Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(e)}),setTimeout(function(){process.exit(e)},500)):ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e)}function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="abort("+e+") at "+stackTrace()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw abortDecorators&&abortDecorators.forEach(function(n){t=n(t,e)}),t}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Module;Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"===("undefined"==typeof window?"undefined":_typeof(window)),ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"===(void 0===process?"undefined":_typeof(process))&&!0&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=__webpack_require__(140),nodePath=__webpack_require__(31);Module.read=function(e,t){e=nodePath.normalize(e);var n=nodeFS.readFileSync(e);return n||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),n=nodeFS.readFileSync(e)),n&&!t&&(n=n.toString()),n},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"===(void 0===t?"undefined":_typeof(t))),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},void 0!==arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){}),Module.printErr||(Module.printErr=function(e){});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){
return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,t,n){return n||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,n){return n&&n.length?(n.splice||(n=Array.prototype.slice.call(n)),n.splice(0,0,t),Module["dynCall_"+e].apply(null,n)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var n=Runtime.funcWrappers[t];return n[e]||(n[e]=function(){return Runtime.dynCall(t,e,arguments)}),n[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=STACKTOP+e|0,STACKTOP=STACKTOP+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=STATICTOP+e|0,STATICTOP=STATICTOP+15&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;if(DYNAMICTOP=DYNAMICTOP+e|0,(DYNAMICTOP=DYNAMICTOP+15&-16)>=TOTAL_MEMORY)if(!enlargeMemory())return DYNAMICTOP=t,0;return t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,n){return n?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9,globalScope=void 0,cwrap,ccall;!function(){function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!==e&&void 0!==e&&0!==e&&(t=Runtime.stackAlloc(1+(e.length<<2)),writeStringToMemory(e,t)),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,n,r,i){var a=getCFunc(e),o=[],s=0;if(r)for(var l=0;l<r.length;l++){var u=toC[n[l]];u?(0===s&&(s=Runtime.stackSave()),o[l]=u(r[l])):o[l]=r[l]}var c=a.apply(null,o);if("string"===t&&(c=Pointer_stringify(c)),0!==s){if(i&&i.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return c};var sourceRegex=/^function\s*[^(]*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:\s*(.*?)[;\s]*)?}$/,JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;for(var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0,TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||16777216,totalMemory=65536;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var buffer;buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var n=e>>>16,r=65535&e,i=t>>>16,a=65535&t;return r*a+(n*a+r*i<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[];STATIC_BASE=8,
STATICTOP=STATIC_BASE+23232,__ATINIT__.push({func:function(){__GLOBAL__sub_I_bind_cc()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}}),
allocate([28,11,0,0,20,51,0,0,108,11,0,0,240,49,0,0,0,0,0,0,1,0,0,0,40,0,0,0,0,0,0,0,28,11,0,0,47,50,0,0,68,11,0,0,85,50,0,0,240,1,0,0,0,0,0,0,68,11,0,0,151,50,0,0,248,1,0,0,0,0,0,0,108,11,0,0,124,55,0,0,0,0,0,0,1,0,0,0,40,0,0,0,0,0,0,0,108,11,0,0,61,55,0,0,0,0,0,0,1,0,0,0,40,0,0,0,0,0,0,0,28,11,0,0,30,55,0,0,28,11,0,0,255,54,0,0,28,11,0,0,224,54,0,0,28,11,0,0,193,54,0,0,28,11,0,0,162,54,0,0,28,11,0,0,131,54,0,0,28,11,0,0,100,54,0,0,28,11,0,0,69,54,0,0,28,11,0,0,38,54,0,0,28,11,0,0,7,54,0,0,28,11,0,0,232,53,0,0,28,11,0,0,201,53,0,0,68,11,0,0,187,55,0,0,240,0,0,0,0,0,0,0,28,11,0,0,200,55,0,0,28,11,0,0,213,55,0,0,68,11,0,0,226,55,0,0,248,0,0,0,0,0,0,0,68,11,0,0,3,56,0,0,0,1,0,0,0,0,0,0,68,11,0,0,73,56,0,0,0,1,0,0,0,0,0,0,68,11,0,0,37,56,0,0,32,1,0,0,0,0,0,0,68,11,0,0,107,56,0,0,0,1,0,0,0,0,0,0,0,11,0,0,147,56,0,0,0,11,0,0,149,56,0,0,0,11,0,0,151,56,0,0,0,11,0,0,153,56,0,0,0,11,0,0,155,56,0,0,0,11,0,0,157,56,0,0,0,11,0,0,159,56,0,0,0,11,0,0,161,56,0,0,0,11,0,0,163,56,0,0,0,11,0,0,126,87,0,0,0,11,0,0,165,56,0,0,0,11,0,0,167,56,0,0,0,11,0,0,169,56,0,0,68,11,0,0,171,56,0,0,16,1,0,0,0,0,0,0,68,11,0,0,208,56,0,0,16,1,0,0,0,0,0,0,28,11,0,0,111,81,0,0,68,11,0,0,129,81,0,0,216,1,0,0,0,0,0,0,28,11,0,0,171,81,0,0,108,11,0,0,220,81,0,0,0,0,0,0,1,0,0,0,224,1,0,0,3,244,255,255,68,11,0,0,44,82,0,0,0,9,0,0,0,0,0,0,108,11,0,0,66,82,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,48,8,0,0,2,0,0,0,108,11,0,0,84,82,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,56,8,0,0,2,0,0,0,108,11,0,0,118,82,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,56,8,0,0,2,0,0,0,108,11,0,0,153,82,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,56,8,0,0,2,0,0,0,68,11,0,0,188,82,0,0,128,2,0,0,0,0,0,0,68,11,0,0,222,82,0,0,128,2,0,0,0,0,0,0,108,11,0,0,1,83,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,56,8,0,0,2,0,0,0,68,11,0,0,35,83,0,0,16,2,0,0,0,0,0,0,68,11,0,0,57,83,0,0,16,2,0,0,0,0,0,0,68,11,0,0,77,83,0,0,16,2,0,0,0,0,0,0,108,11,0,0,97,83,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,48,8,0,0,2,0,0,0,68,11,0,0,115,83,0,0,16,2,0,0,0,0,0,0,68,11,0,0,136,83,0,0,16,2,0,0,0,0,0,0,108,11,0,0,157,83,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,64,8,0,0,0,0,0,0,108,11,0,0,225,83,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,88,8,0,0,0,0,0,0,108,11,0,0,37,84,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,112,8,0,0,0,0,0,0,108,11,0,0,105,84,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,136,8,0,0,0,0,0,0,108,11,0,0,173,84,0,0,0,0,0,0,3,0,0,0,16,2,0,0,2,0,0,0,160,8,0,0,2,0,0,0,168,8,0,0,0,8,0,0,108,11,0,0,242,84,0,0,0,0,0,0,3,0,0,0,16,2,0,0,2,0,0,0,160,8,0,0,2,0,0,0,176,8,0,0,0,8,0,0,108,11,0,0,55,85,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,184,8,0,0,0,8,0,0,108,11,0,0,124,85,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,184,8,0,0,0,8,0,0,108,11,0,0,193,85,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,192,8,0,0,2,0,0,0,108,11,0,0,221,85,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,192,8,0,0,2,0,0,0,108,11,0,0,249,85,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,192,8,0,0,2,0,0,0,108,11,0,0,21,86,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,192,8,0,0,2,0,0,0,108,11,0,0,49,86,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,200,8,0,0,0,0,0,0,108,11,0,0,119,86,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,208,8,0,0,0,0,0,0,108,11,0,0,189,86,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,216,8,0,0,0,0,0,0,108,11,0,0,3,87,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,224,8,0,0,0,0,0,0,108,11,0,0,73,87,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,232,8,0,0,2,0,0,0,108,11,0,0,94,87,0,0,0,0,0,0,2,0,0,0,16,2,0,0,2,0,0,0,232,8,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,11,0,0,149,90,0,0,28,11,0,0,126,90,0,0,108,11,0,0,104,90,0,0,0,0,0,0,1,0,0,0,248,8,0,0,0,0,0,0,108,11,0,0,57,90,0,0,0,0,0,0,1,0,0,0,248,8,0,0,0,0,0,0,108,11,0,0,35,90,0,0,0,0,0,0,1,0,0,0,240,8,0,0,0,0,0,0,108,11,0,0,244,89,0,0,0,0,0,0,1,0,0,0,240,8,0,0,0,0,0,0,28,11,0,0,225,89,0,0,28,11,0,0,191,89,0,0,28,11,0,0,157,89,0,0,28,11,0,0,136,89,0,0,28,11,0,0,115,89,0,0,28,11,0,0,90,89,0,0,28,11,0,0,65,89,0,0,28,11,0,0,40,89,0,0,28,11,0,0,15,89,0,0,28,11,0,0,247,88,0,0,28,11,0,0,10,90,0,0,28,11,0,0,79,90,0,0,28,11,0,0,170,90,0,0,16,0,0,0,16,0,0,0,16,0,0,0,16,0,0,0,16,0,0,0,56,0,0,0,0,0,0,0,248,1,0,0,1,0,0,0,2,0,0,0,200,255,255,255,200,255,255,255,248,1,0,0,3,0,0,0,4,0,0,0,56,0,0,0,0,0,0,0,64,0,0,0,5,0,0,0,6,0,0,0,200,255,255,255,200,255,255,255,64,0,0,0,7,0,0,0,8,0,0,0,0,0,0,0,48,0,0,0,9,0,0,0,10,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,1,0,0,0,3,0,0,0,2,0,0,0,80,9,0,0,40,9,0,0,60,9,0,0,100,9,0,0,103,230,9,106,133,174,103,187,114,243,110,60,58,245,79,165,127,82,14,81,140,104,5,155,171,217,131,31,25,205,224,91,152,47,138,66,145,68,55,113,207,251,192,181,165,219,181,233,91,194,86,57,241,17,241,89,164,130,63,146,213,94,28,171,152,170,7,216,1,91,131,18,190,133,49,36,195,125,12,85,116,93,190,114,254,177,222,128,167,6,220,155,116,241,155,193,193,105,155,228,134,71,190,239,198,157,193,15,204,161,12,36,111,44,233,45,170,132,116,74,220,169,176,92,218,136,249,118,82,81,62,152,109,198,49,168,200,39,3,176,199,127,89,191,243,11,224,198,71,145,167,213,81,99,202,6,103,41,41,20,133,10,183,39,56,33,27,46,252,109,44,77,19,13,56,83,84,115,10,101,187,10,106,118,46,201,194,129,133,44,114,146,161,232,191,162,75,102,26,168,112,139,75,194,163,81,108,199,25,232,146,209,36,6,153,214,133,53,14,244,112,160,106,16,22,193,164,25,8,108,55,30,76,119,72,39,181,188,176,52,179,12,28,57,74,170,216,78,79,202,156,91,243,111,46,104,238,130,143,116,111,99,165,120,20,120,200,132,8,2,199,140,250,255,190,144,235,108,80,164,247,163,249,190,242,120,113,198,1,0,0,0,0,0,0,0,224,0,0,0,11,0,0,0,12,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,64,1,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,4,0,0,0,0,0,0,0,16,1,0,0,13,0,0,0,17,0,0,0,15,0,0,0,16,0,0,0,5,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,184,1,0,0,13,0,0,0,18,0,0,0,15,0,0,0,16,0,0,0,5,0,0,0,3,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,200,1,0,0,13,0,0,0,19,0,0,0,15,0,0,0,16,0,0,0,5,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,195,66,0,0,64,13,0,0,176,13,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,22,0,0,184,47,0,0,32,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,5,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,8,0,0,0,89,75,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,8,0,0,0,81,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,41,0,0,0,42,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,46,0,0,0,47,0,0,0,48,0,0,0,49,0,0,0,50,0,0,0,51,0,0,0,52,0,0,0,53,0,0,0,54,0,0,0,55,0,0,0,56,0,0,0,57,0,0,0,58,0,0,0,59,0,0,0,60,0,0,0,61,0,0,0,62,0,0,0,63,0,0,0,64,0,0,0,65,0,0,0,66,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,70,0,0,0,71,0,0,0,72,0,0,0,73,0,0,0,74,0,0,0,75,0,0,0,76,0,0,0,77,0,0,0,78,0,0,0,79,0,0,0,80,0,0,0,81,0,0,0,82,0,0,0,83,0,0,0,84,0,0,0,85,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,91,0,0,0,92,0,0,0,93,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,65,0,0,0,66,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,70,0,0,0,71,0,0,0,72,0,0,0,73,0,0,0,74,0,0,0,75,0,0,0,76,0,0,0,77,0,0,0,78,0,0,0,79,0,0,0,80,0,0,0,81,0,0,0,82,0,0,0,83,0,0,0,84,0,0,0,85,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,123,0,0,0,124,0,0,0,125,0,0,0,126,0,0,0,127],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),
allocate([1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,41,0,0,0,42,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,46,0,0,0,47,0,0,0,48,0,0,0,49,0,0,0,50,0,0,0,51,0,0,0,52,0,0,0,53,0,0,0,54,0,0,0,55,0,0,0,56,0,0,0,57,0,0,0,58,0,0,0,59,0,0,0,60,0,0,0,61,0,0,0,62,0,0,0,63,0,0,0,64,0,0,0,97,0,0,0,98,0,0,0,99,0,0,0,100,0,0,0,101,0,0,0,102,0,0,0,103,0,0,0,104,0,0,0,105,0,0,0,106,0,0,0,107,0,0,0,108,0,0,0,109,0,0,0,110,0,0,0,111,0,0,0,112,0,0,0,113,0,0,0,114,0,0,0,115,0,0,0,116,0,0,0,117,0,0,0,118,0,0,0,119,0,0,0,120,0,0,0,121,0,0,0,122,0,0,0,91,0,0,0,92,0,0,0,93,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,97,0,0,0,98,0,0,0,99,0,0,0,100,0,0,0,101,0,0,0,102,0,0,0,103,0,0,0,104,0,0,0,105,0,0,0,106,0,0,0,107,0,0,0,108,0,0,0,109,0,0,0,110,0,0,0,111,0,0,0,112,0,0,0,113,0,0,0,114,0,0,0,115,0,0,0,116,0,0,0,117,0,0,0,118,0,0,0,119,0,0,0,120,0,0,0,121,0,0,0,122,0,0,0,123,0,0,0,124,0,0,0,125,0,0,0,126,0,0,0,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,1,0,0,20,0,0,0,21,0,0,0,1,0,0,0,1,0,0,0,5,0,0,0,5,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,7,0,0,0,4,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,0,0,0,0,216,1,0,0,22,0,0,0,23,0,0,0,0,0,0,0,240,2,0,0,24,0,0,0,25,0,0,0,26,0,0,0,1,0,0,0,6,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,27,0,0,0,28,0,0,0,26,0,0,0,2,0,0,0,7,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,3,0,0,29,0,0,0,30,0,0,0,26,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,3,0,0,31,0,0,0,32,0,0,0,26,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,3,0,0,33,0,0,0,34,0,0,0,26,0,0,0,3,0,0,0,4,0,0,0,23,0,0,0,5,0,0,0,24,0,0,0,1,0,0,0,2,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,176,3,0,0,35,0,0,0,36,0,0,0,26,0,0,0,7,0,0,0,8,0,0,0,25,0,0,0,9,0,0,0,26,0,0,0,3,0,0,0,4,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,208,3,0,0,37,0,0,0,38,0,0,0,26,0,0,0,8,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,1,0,0,0,248,255,255,255,208,3,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,248,3,0,0,39,0,0,0,40,0,0,0,26,0,0,0,16,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,2,0,0,0,248,255,255,255,248,3,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,4,0,0,41,0,0,0,42,0,0,0,26,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,4,0,0,43,0,0,0,44,0,0,0,26,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,4,0,0,45,0,0,0,46,0,0,0,26,0,0,0,24,0,0,0,25,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,26,0,0,0,6,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,4,0,0,47,0,0,0,48,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,29,0,0,0,12,0,0,0,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,4,0,0,49,0,0,0,50,0,0,0,26,0,0,0,30,0,0,0,31,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,32,0,0,0,18,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,4,0,0,51,0,0,0,52,0,0,0,26,0,0,0,33,0,0,0,34,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,35,0,0,0,24,0,0,0,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,4,0,0,53,0,0,0,54,0,0,0,26,0,0,0,3,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,55,0,0,0,56,0,0,0,26,0,0,0,5,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,5,0,0,57,0,0,0,58,0,0,0,26,0,0,0,1,0,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,5,0,0,59,0,0,0,60,0,0,0,26,0,0,0,2,0,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,5,0,0,61,0,0,0,62,0,0,0,26,0,0,0,12,0,0,0,6,0,0,0,26,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,5,0,0,63,0,0,0,64,0,0,0,26,0,0,0,13,0,0,0,7,0,0,0,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,2,0,0,65,0,0,0,66,0,0,0,26,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,3,0,0,67,0,0,0,68,0,0,0,26,0,0,0,5,0,0,0,14,0,0,0,6,0,0,0,15,0,0,0,7,0,0,0,1,0,0,0,16,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,2,0,0,69,0,0,0,70,0,0,0,26,0,0,0,3,0,0,0,4,0,0,0,12,0,0,0,36,0,0,0,37,0,0,0,13,0,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,3,0,0,71,0,0,0,72,0,0,0,26,0,0,0,39,0,0,0,40,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,0,0,0,0,64,3,0,0,73,0,0,0,74,0,0,0,26,0,0,0,41,0,0,0,42,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,0,0,0,0,16,2,0,0,75,0,0,0,76,0,0,0,26,0,0,0,0,0,0,0,32,2,0,0,75,0,0,0,77,0,0,0,26,0,0,0,17,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,18,0,0,0,9,0,0,0,19,0,0,0,10,0,0,0,5,0,0,0,20,0,0,0,14,0,0,0,0,0,0,0,64,2,0,0,75,0,0,0,78,0,0,0,26,0,0,0,5,0,0,0,6,0,0,0,15,0,0,0,43,0,0,0,44,0,0,0,16,0,0,0,45,0,0,0,0,0,0,0,96,2,0,0,75,0,0,0,79,0,0,0,26,0,0,0,7,0,0,0,8,0,0,0,17,0,0,0,46,0,0,0,47,0,0,0,18,0,0,0,48,0,0,0,0,0,0,0,128,2,0,0,75,0,0,0,80,0,0,0,26,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,49,0,0,0,50,0,0,0,20,0,0,0,51,0,0,0,0,0,0,0,160,2,0,0,75,0,0,0,81,0,0,0,26,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,49,0,0,0,50,0,0,0,20,0,0,0,51,0,0,0,0,0,0,0,176,2,0,0,75,0,0,0,82,0,0,0,26,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,49,0,0,0,50,0,0,0,20,0,0,0,51,0,0,0,0,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,37,0,0,0,109,0,0,0,47,0,0,0,37,0,0,0,100,0,0,0,47,0,0,0,37,0,0,0,121,0,0,0,37,0,0,0,89,0,0,0,45,0,0,0,37,0,0,0,109,0,0,0,45,0,0,0,37,0,0,0,100,0,0,0,37,0,0,0,73,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,112,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,116,0,0,0,114,0,0,0,117,0,0,0,101,0,0,0,0,0,0,0,102,0,0,0,97,0,0,0,108,0,0,0,115,0,0,0,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,0,0,0,117,0,0,0,110,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,77,0,0,0,111,0,0,0,110,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,84,0,0,0,117,0,0,0,101,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,87,0,0,0,101,0,0,0,100,0,0,0,110,0,0,0,101,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,84,0,0,0,104,0,0,0,117,0,0,0,114,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,70,0,0,0,114,0,0,0,105,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,83,0,0,0,97,0,0,0,116,0,0,0,117,0,0,0,114,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,83,0,0,0,117,0,0,0,110,0,0,0,0,0,0,0,77,0,0,0,111,0,0,0,110,0,0,0,0,0,0,0,84,0,0,0,117,0,0,0,101,0,0,0,0,0,0,0,87,0,0,0,101,0,0,0,100,0,0,0,0,0,0,0,84,0,0,0,104,0,0,0,117,0,0,0,0,0,0,0,70,0,0,0,114,0,0,0,105,0,0,0,0,0,0,0,83,0,0,0,97,0,0,0,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,0,0,0,97,0,0,0,110,0,0,0,117,0,0,0,97,0,0,0,114,0,0,0,121,0,0,0,0,0,0,0,70,0,0,0,101,0,0,0,98,0,0,0,114,0,0,0,117,0,0,0,97,0,0,0,114,0,0,0,121,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,114,0,0,0,99,0,0,0,104,0,0,0,0,0,0,0,65,0,0,0,112,0,0,0,114,0,0,0,105,0,0,0,108,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,110,0,0,0,101,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,108,0,0,0,121,0,0,0,0,0,0,0,65,0,0,0,117,0,0,0,103,0,0,0,117,0,0,0,115,0,0,0,116,0,0,0,0,0,0,0,83,0,0,0,101,0,0,0,112,0,0,0,116,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,79,0,0,0,99,0,0,0,116,0,0,0,111,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,78,0,0,0,111,0,0,0,118,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,68,0,0,0,101,0,0,0,99,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,74,0,0,0,97,0,0,0,110,0,0,0,0,0,0,0,70,0,0,0,101,0,0,0,98,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,114,0,0,0,0,0,0,0,65,0,0,0,112,0,0,0,114,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,110,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,108,0,0,0,0,0,0,0,65,0,0,0,117,0,0,0,103,0,0,0,0,0,0,0,83,0,0,0,101,0,0,0,112,0,0,0,0,0,0,0,79,0,0,0,99,0,0,0,116,0,0,0,0,0,0,0,78,0,0,0,111,0,0,0,118,0,0,0,0,0,0,0,68,0,0,0,101,0,0,0,99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,65,0,0,0,77,0,0,0,0,0,0,0,80,0,0,0,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,109,0,0,0,47,0,0,0,37,0,0,0,100,0,0,0,47,0,0,0,37,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,97,0,0,0,32,0,0,0,37,0,0,0,98,0,0,0,32,0,0,0,37,0,0,0,100,0,0,0,32,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,89,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,73,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,3,32,2,32,2,32,2,32,2,32,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,96,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,4,192,4,192,4,192,4,192,4,192,4,192,4,192,8,213,8,213,8,213,8,213,8,213,8,213,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,4,192,4,192,4,192,4,192,4,192,4,192,8,214,8,214,8,214,8,214,8,214,8,214,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,4,192,4,192,4,192,4,192,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,121,97,115,117,95,114,101,113,117,101,115,116,95,104,97,115,104,0,37,99,37,99,0,100,101,99,114,121,112,116,84,101,120,116,0,105,105,105,0,101,110,99,114,121,112,116,80,97,116,104,0,105,105,105,105,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,50,49,95,95,98,97,115,105,99,95,115,116,114,105,110,103,95,99,111,109,109,111,110,73,76,98,49,69,69,69,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,105,110,103,98,117,102,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,57,98,97,115,105,99,95,111,115,116,114,105,110,103,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,102,105,114,115,116,32,43,32,54,52,32,61,61,32,108,97,115,116,0,101,109,115,99,114,105,112,116,101,110,47,112,105,99,111,115,104,97,50,46,104,0,104,97,115,104,50,53,54,95,98,108,111,99,107,0,78,49,48,101,109,115,99,114,105,112,116,101,110,51,118,97,108,69,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,115,116,100,58,58,119,115,116,114,105,110,103,0,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,102,108,111,97,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,100,111,117,98,108,101,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,32,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,101,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,100,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,102,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,109,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,108,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,106,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,105,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,116,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,115,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,104,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,97,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,99,69,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,104,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,104,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,104,69,69,69,69,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0,118,0,98,0,99,0,104,0,97,0,115,0,116,0,105,0,106,0,109,0,102,0,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,116,97,103,45,49,46,51,53,46,52,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,116,97,103,45,49,46,51,53,46,52,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,32,40,0,41,0,95,98,108,111,99,107,95,105,110,118,111,107,101,0,105,110,118,111,99,97,116,105,111,110,32,102,117,110,99,116,105,111,110,32,102,111,114,32,98,108,111,99,107,32,105,110,32,0,32,99,111,110,115,116,0,32,118,111,108,97,116,105,108,101,0,32,114,101,115,116,114,105,99,116,0,32,91,0,32,91,93,0,93,0,32,99,111,109,112,108,101,120,0,40,0,44,32,0,32,38,0,32,38,38,0,32,0,32,105,109,97,103,105,110,97,114,121,0,58,58,42,0,38,38,0,111,98,106,99,95,111,98,106,101,99,116,60,0,42,0,105,100,0,38,0,111,98,106,99,112,114,111,116,111,0,60,0,62,0,32,118,101,99,116,111,114,91,0,112,105,120,101,108,32,118,101,99,116,111,114,91,0,100,101,99,108,116,121,112,101,40,0,115,116,100,58,58,97,108,108,111,99,97,116,111,114,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,0,115,116,100,58,58,115,116,114,105,110,103,0,115,116,100,58,58,105,115,116,114,101,97,109,0,115,116,100,58,58,111,115,116,114,101,97,109,0,115,116,100,58,58,105,111,115,116,114,101,97,109,0,115,116,100,0,58,58,0,58,58,115,116,114,105,110,103,32,108,105,116,101,114,97,108,0,115,116,100,58,58,0,126,0,39,117,110,110,97,109,101,100,0,39,108,97,109,98,100,97,39,40,0,111,112,101,114,97,116,111,114,38,38,0,111,112,101,114,97,116,111,114,38,0,111,112,101,114,97,116,111,114,38,61,0,111,112,101,114,97,116,111,114,61,0,111,112,101,114,97,116,111,114,40,41,0,111,112,101,114,97,116,111,114,44,0,111,112,101,114,97,116,111,114,126,0,111,112,101,114,97,116,111,114,32,0,111,112,101,114,97,116,111,114,32,100,101,108,101,116,101,91,93,0,111,112,101,114,97,116,111,114,42,0,111,112,101,114,97,116,111,114,32,100,101,108,101,116,101,0,111,112,101,114,97,116,111,114,47,0,111,112,101,114,97,116,111,114,47,61,0,111,112,101,114,97,116,111,114,94,0,111,112,101,114,97,116,111,114,94,61,0,111,112,101,114,97,116,111,114,61,61,0,111,112,101,114,97,116,111,114,62,61,0,111,112,101,114,97,116,111,114,62,0,111,112,101,114,97,116,111,114,91,93,0,111,112,101,114,97,116,111,114,60,61,0,111,112,101,114,97,116,111,114,34,34,32,0,111,112,101,114,97,116,111,114,60,60,0,111,112,101,114,97,116,111,114,60,60,61,0,111,112,101,114,97,116,111,114,60,0,111,112,101,114,97,116,111,114,45,0,111,112,101,114,97,116,111,114,45,61,0,111,112,101,114,97,116,111,114,42,61,0,111,112,101,114,97,116,111,114,45,45,0,111,112,101,114,97,116,111,114,32,110,101,119,91,93,0,111,112,101,114,97,116,111,114,33,61,0,111,112,101,114,97,116,111,114,33,0,111,112,101,114,97,116,111,114,32,110,101,119,0,111,112,101,114,97,116,111,114,124,124,0,111,112,101,114,97,116,111,114,124,0,111,112,101,114,97,116,111,114,124,61,0,111,112,101,114,97,116,111,114,45,62,42,0,111,112,101,114,97,116,111,114,43,0,111,112,101,114,97,116,111,114,43,61,0,111,112,101,114,97,116,111,114,43,43,0,111,112,101,114,97,116,111,114,45,62,0,111,112,101,114,97,116,111,114,63,0,111,112,101,114,97,116,111,114,37,0,111,112,101,114,97,116,111,114,37,61,0,111,112,101,114,97,116,111,114,62,62,0,111,112,101,114,97,116,111,114,62,62,61,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,44,32,115,116,100,58,58,97,108,108,111,99,97,116,111,114,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,115],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+5660),
allocate([116,114,105,110,103,0,115,116,100,58,58,98,97,115,105,99,95,105,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,105,115,116,114,101,97,109,0,115,116,100,58,58,98,97,115,105,99,95,111,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,111,115,116,114,101,97,109,0,115,116,100,58,58,98,97,115,105,99,95,105,111,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,105,111,115,116,114,101,97,109,0,95,71,76,79,66,65,76,95,95,78,0,40,97,110,111,110,121,109,111,117,115,32,110,97,109,101,115,112,97,99,101,41,0,32,62,0,119,99,104,97,114,95,116,0,99,104,97,114,0,115,105,103,110,101,100,32,99,104,97,114,0,117,110,115,105,103,110,101,100,32,99,104,97,114,0,115,104,111,114,116,0,117,110,115,105,103,110,101,100,32,115,104,111,114,116,0,117,0,117,108,0,117,108,108,0,95,95,105,110,116,49,50,56,0,117,110,115,105,103,110,101,100,32,95,95,105,110,116,49,50,56,0,37,97,102,0,37,97,0,37,76,97,76,0,38,61,0,61,0,97,108,105,103,110,111,102,32,40,0,99,111,110,115,116,95,99,97,115,116,60,0,62,40,0,44,0,41,40,0,100,101,108,101,116,101,91,93,32,0,100,121,110,97,109,105,99,95,99,97,115,116,60,0,100,101,108,101,116,101,32,0,46,42,0,47,0,47,61,0,94,0,94,61,0,61,61,0,62,61,0,41,91,0,60,61,0,60,60,0,60,60,61,0,45,0,45,61,0,42,61,0,45,45,0,41,45,45,0,91,93,32,0,41,32,0,33,61,0,33,0,110,111,101,120,99,101,112,116,32,40,0,124,124,0,124,0,124,61,0,45,62,42,0,43,0,43,61,0,43,43,0,41,43,43,0,45,62,0,41,32,63,32,40,0,41,32,58,32,40,0,114,101,105,110,116,101,114,112,114,101,116,95,99,97,115,116,60,0,37,0,37,61,0,62,62,0,62,62,61,0,115,116,97,116,105,99,95,99,97,115,116,60,0,115,105,122,101,111,102,32,40,0,115,105,122,101,111,102,46,46,46,40,0,116,121,112,101,105,100,40,0,116,104,114,111,119,0,116,104,114,111,119,32,0,102,112,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,111,117,116,95,111,102,95,114,97,110,103,101,34,0,95,95,116,104,114,111,119,95,111,117,116,95,111,102,95,114,97,110,103,101,0,118,111,105,100,0,98,111,111,108,0,105,110,116,0,117,110,115,105,103,110,101,100,32,105,110,116,0,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,0,108,111,110,103,32,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,32,108,111,110,103,0,102,108,111,97,116,0,100,111,117,98,108,101,0,108,111,110,103,32,100,111,117,98,108,101,0,95,95,102,108,111,97,116,49,50,56,0,46,46,46,0,100,101,99,105,109,97,108,54,52,0,100,101,99,105,109,97,108,49,50,56,0,100,101,99,105,109,97,108,51,50,0,100,101,99,105,109,97,108,49,54,0,99,104,97,114,51,50,95,116,0,99,104,97,114,49,54,95,116,0,97,117,116,111,0,115,116,100,58,58,110,117,108,108,112,116,114,95,116,0,118,116,97,98,108,101,32,102,111,114,32,0,86,84,84,32,102,111,114,32,0,116,121,112,101,105,110,102,111,32,102,111,114,32,0,116,121,112,101,105,110,102,111,32,110,97,109,101,32,102,111,114,32,0,99,111,118,97,114,105,97,110,116,32,114,101,116,117,114,110,32,116,104,117,110,107,32,116,111,32,0,99,111,110,115,116,114,117,99,116,105,111,110,32,118,116,97,98,108,101,32,102,111,114,32,0,45,105,110,45,0,118,105,114,116,117,97,108,32,116,104,117,110,107,32,116,111,32,0,110,111,110,45,118,105,114,116,117,97,108,32,116,104,117,110,107,32,116,111,32,0,103,117,97,114,100,32,118,97,114,105,97,98,108,101,32,102,111,114,32,0,114,101,102,101,114,101,110,99,101,32,116,101,109,112,111,114,97,114,121,32,102,111,114,32,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,116,101,114,109,105,110,97,116,105,110,103,0,117,110,99,97,117,103,104,116,0,80,79,83,73,88,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+15900),
allocate([17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0,78,83,116,51,95,95,49,56,105,111,115,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,98,97,115,105,99,95,105,111,115,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,101,97,109,98,117,102,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,111,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,65,66,67,68,69,70,120,88,43,45,112,80,105,73,110,78,0,78,83,116,51,95,95,49,54,108,111,99,97,108,101,53,102,97,99,101,116,69,0,78,83,116,51,95,95,49,53,99,116,121,112,101,73,119,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,99,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,68,115,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,68,105,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,49,54,95,95,110,97,114,114,111,119,95,116,111,95,117,116,102,56,73,76,106,51,50,69,69,69,0,78,83,116,51,95,95,49,49,55,95,95,119,105,100,101,110,95,102,114,111,109,95,117,116,102,56,73,76,106,51,50,69,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,119,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,54,108,111,99,97,108,101,53,95,95,105,109,112,69,0,78,83,116,51,95,95,49,55,99,111,108,108,97,116,101,73,99,69,69,0,78,83,116,51,95,95,49,55,99,111,108,108,97,116,101,73,119,69,69,0,78,83,116,51,95,95,49,53,99,116,121,112,101,73,99,69,69,0,78,83,116,51,95,95,49,56,110,117,109,112,117,110,99,116,73,99,69,69,0,78,83,116,51,95,95,49,56,110,117,109,112,117,110,99,116,73,119,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,99,76,98,48,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,99,76,98,49,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,119,76,98,48,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,119,76,98,49,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,109,101,115,115,97,103,101,115,73,99,69,69,0,78,83,116,51,95,95,49,56,109,101,115,115,97,103,101,115,73,119,69,69,0,37,112,0,67,0,37,0,0,0,0,0,108,0,108,108,0,0,76,0,37,112,0,0,0,0,37,72,58,37,77,58,37,83,37,109,47,37,100,47,37,121,37,89,45,37,109,45,37,100,37,73,58,37,77,58,37,83,32,37,112,37,72,58,37,77,37,72,58,37,77,58,37,83,48,49,50,51,52,53,54,55,56,57,0,37,76,102,0,48,49,50,51,52,53,54,55,56,57,0,37,46,48,76,102,0,116,114,117,101,0,102,97,108,115,101,0,83,117,110,100,97,121,0,77,111,110,100,97,121,0,84,117,101,115,100,97,121,0,87,101,100,110,101,115,100,97,121,0,84,104,117,114,115,100,97,121,0,70,114,105,100,97,121,0,83,97,116,117,114,100,97,121,0,83,117,110,0,77,111,110,0,84,117,101,0,87,101,100,0,84,104,117,0,70,114,105,0,83,97,116,0,74,97,110,117,97,114,121,0,70,101,98,114,117,97,114,121,0,77,97,114,99,104,0,65,112,114,105,108,0,77,97,121,0,74,117,110,101,0,74,117,108,121,0,65,117,103,117,115,116,0,83,101,112,116,101,109,98,101,114,0,79,99,116,111,98,101,114,0,78,111,118,101,109,98,101,114,0,68,101,99,101,109,98,101,114,0,74,97,110,0,70,101,98,0,77,97,114,0,65,112,114,0,74,117,110,0,74,117,108,0,65,117,103,0,83,101,112,0,79,99,116,0,78,111,118,0,68,101,99,0,65,77,0,80,77,0,37,109,47,37,100,47,37,121,0,37,72,58,37,77,58,37,83,0,37,97,32,37,98,32,37,100,32,37,72,58,37,77,58,37,83,32,37,89,0,37,73,58,37,77,58,37,83,32,37,112,0,78,83,116,51,95,95,49,49,51,109,101,115,115,97,103,101,115,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,112,117,116,73,119,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,112,117,116,73,99,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,103,101,116,73,119,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,103,101,116,73,99,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,48,95,95,116,105,109,101,95,112,117,116,69,0,78,83,116,51,95,95,49,50,48,95,95,116,105,109,101,95,103,101,116,95,99,95,115,116,111,114,97,103,101,73,119,69,69,0,78,83,116,51,95,95,49,50,48,95,95,116,105,109,101,95,103,101,116,95,99,95,115,116,111,114,97,103,101,73,99,69,69,0,78,83,116,51,95,95,49,57,116,105,109,101,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,112,117,116,73,119,69,69,0,78,83,116,51,95,95,49,49,52,95,95,110,117,109,95,112,117,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,112,117,116,73,99,69,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,103,101,116,73,119,69,69,0,78,83,116,51,95,95,49,49,52,95,95,110,117,109,95,103,101,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,103,101,116,73,99,69,69,0,78,83,116,51,95,95,49,49,50,99,111,100,101,99,118,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,48,99,116,121,112,101,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,52,95,95,115,104,97,114,101,100,95,99,111,117,110,116,69,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+20305)
;var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);assert(tempDoublePtr%8==0),Module._i64Subtract=_i64Subtract;var embind_charCodes=void 0,awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57,BindingError=void 0,InternalError=void 0,EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos)if(EXCEPTIONS.infos[t].adjusted===e)return t;return e},addRef:function(e){if(e)EXCEPTIONS.infos[e].refcount++},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0===t.refcount&&(t.destructor&&Runtime.dynCall("vi",t.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){if(e)EXCEPTIONS.infos[e].refcount=0}};Module._memset=_memset;var _BDtoILow=!0,__MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],__MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];Module._free=_free,Module._malloc=_malloc;var PTHREAD_SPECIFIC={},ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},_fabs=Math_abs,PTHREAD_SPECIFIC_NEXT_KEY=1,ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===s||void 0===s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var a=0;a<r;a++)try{e.tty.ops.put_char(e.tty,t[n+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var n=new Buffer(256),r=0,i=process.stdin.fd,a=!1;try{i=fs.openSync("/dev/stdin","r"),a=!0}catch(e){}r=fs.readSync(i,n,0,256,null),a&&fs.closeSync(i),t=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(FS.isBlkdev(n)||FS.isFIFO(n))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,
setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var i=FS.createNode(e,t,n,r);return FS.isDir(i.mode)?(i.node_ops=MEMFS.ops_table.dir.node,i.stream_ops=MEMFS.ops_table.dir.stream,i.contents={}):FS.isFile(i.mode)?(i.node_ops=MEMFS.ops_table.file.node,i.stream_ops=MEMFS.ops_table.file.stream,i.usedBytes=0,i.contents=null):FS.isLink(i.mode)?(i.node_ops=MEMFS.ops_table.link.node,i.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(i.mode)&&(i.node_ops=MEMFS.ops_table.chrdev.node,i.stream_ops=MEMFS.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.buffer.byteLength:0;if(n>=t)return;t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,n,r){return MEMFS.createNode(e,t,n,r)},rename:function(e,t,n){if(FS.isDir(e.mode)){var r;try{r=FS.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=FS.lookupNode(e,t);for(var r in n.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=MEMFS.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,n,r,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(assert(o>=0),o>8&&a.subarray)t.set(a.subarray(i,i+o),n);else for(var s=0;s<o;s++)t[n+s]=a[i+s];return o},write:function(e,t,n,r,i,a){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=new Uint8Array(t.subarray(n,n+r)),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(MEMFS.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&FS.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r},allocate:function(e,t,n){MEMFS.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,a,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,l,u=e.node.contents;if(2&o||u.buffer!==t&&u.buffer!==t.buffer){if((i>0||i+r<e.node.usedBytes)&&(u=u.subarray?u.subarray(i,i+r):Array.prototype.slice.call(u,i,i+r)),l=!0,!(s=_malloc(r)))throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(u,s)}else l=!1,s=u.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,n,r,i){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&i)return 0;MEMFS.stream_ops.write(e,t,0,r,n,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e}),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,n){IDBFS.getLocalSet(e,function(r,i){if(r)return n(r);IDBFS.getRemoteSet(e,function(e,r){if(e)return n(e);var a=t?r:i,o=t?i:r;IDBFS.reconcile(a,o,n)})})},getDB:function(e,t){var n=IDBFS.dbs[e];if(n)return t(null,n);var r;try{r=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;t=n.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?r.objectStore(IDBFS.DB_STORE_NAME):n.createObjectStore(IDBFS.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,IDBFS.dbs[e]=n,t(null,n)},r.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){function n(e){return"."!==e&&".."!==e}function r(e){return function(t){return PATH.join2(e,t)}}for(var i={},a=FS.readdir(e.mountpoint).filter(n).map(r(e.mountpoint));a.length;){var o,s=a.pop();try{o=FS.stat(s)}catch(e){return t(e)}FS.isDir(o.mode)&&a.push.apply(a,FS.readdir(s).filter(n).map(r(s))),i[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var n={};IDBFS.getDB(e.mountpoint,function(e,r){if(e)return t(e);var i=r.transaction([IDBFS.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()},i.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:r,entries:n});n[i.primaryKey]={timestamp:i.key},i.continue()}})},loadLocalEntry:function(e,t){var n,r;try{r=FS.lookupPath(e).node,n=FS.stat(e)}catch(e){return t(e)}return FS.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):FS.isFile(n.mode)?(r.contents=MEMFS.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{
if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return n(new Error("node type not supported"));FS.writeFile(e,t.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,t.mode),FS.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=(FS.lookupPath(e),FS.stat(e));FS.isDir(n.mode)?FS.rmdir(e):FS.isFile(n.mode)&&FS.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){var i=e.put(n,t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else if(++s>=i)return n(null)}var i=0,a=[];Object.keys(e.entries).forEach(function(n){var r=e.entries[n],o=t.entries[n];(!o||r.timestamp>o.timestamp)&&(a.push(n),i++)});var o=[];if(Object.keys(t.entries).forEach(function(n){t.entries[n];e.entries[n]||(o.push(n),i++)}),!i)return n(null);var s=0,l="remote"===e.type?e.db:t.db,u=l.transaction([IDBFS.DB_STORE_NAME],"readwrite"),c=u.objectStore(IDBFS.DB_STORE_NAME);u.onerror=function(e){r(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(c,e,function(t,n){if(t)return r(t);IDBFS.storeLocalEntry(e,n,r)}):IDBFS.loadLocalEntry(e,function(t,n){if(t)return r(t);IDBFS.storeRemoteEntry(c,e,n,r)})}),o.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,r):IDBFS.removeRemoteEntry(c,e,r)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,n,r){if(!FS.isDir(n)&&!FS.isFile(n)&&!FS.isLink(n))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.createNode(e,t,n);return i.node_ops=NODEFS.node_ops,i.stream_ops=NODEFS.stream_ops,i},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(146&t.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if(e&=-32769,(e&=-524289)in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var t,n=NODEFS.realPath(e);try{t=fs.lstatSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!t.blksize&&(t.blksize=4096),NODEFS.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);fs.utimesSync(n,r,r)}void 0!==t.size&&fs.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t),r=NODEFS.getMode(n);return NODEFS.createNode(e,t,r)},mknod:function(e,t,n,r){var i=NODEFS.createNode(e,t,n,r),a=NODEFS.realPath(i);try{FS.isDir(i.mode)?fs.mkdirSync(a,i.mode):fs.writeFileSync(a,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return i},rename:function(e,t,n){var r=NODEFS.realPath(e),i=PATH.join2(NODEFS.realPath(t),n);try{fs.renameSync(r,i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,n){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(n,r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return t=fs.readlinkSync(t),t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,n,r,i){if(0===r)return 0;var a,o=new Buffer(r);try{a=fs.readSync(e.nfd,o,0,r,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(a>0)for(var s=0;s<a;s++)t[n+s]=o[s];return a},write:function(e,t,n,r,i){var a,o=new Buffer(t.subarray(n,n+r));try{a=fs.writeSync(e.nfd,o,0,r,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return a},llseek:function(e,t,n){var r=t;if(1===n)r+=e.position;else if(2===n&&FS.isFile(e.node.mode))try{var i=fs.fstatSync(e.nfd);r+=i.size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function t(e){for(var t=e.split("/"),n=r,a=0;a<t.length-1;a++){var o=t.slice(0,a+1).join("/");i[o]||(i[o]=WORKERFS.createNode(n,o,WORKERFS.DIR_MODE,0)),n=i[o]}return n}function n(e){var t=e.split("/");return t[t.length-1]}assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var r=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),i={};return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(t(e.name),n(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(t(e.name),n(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(r){var i=r.filename.substr(1);WORKERFS.createNode(t(i),n(i),WORKERFS.FILE_MODE,0,e.blob.slice(r.start,r.end))})}),r},createNode:function(e,t,n,r,i,a){var o=FS.createNode(e,t,n);return o.mode=n,o.node_ops=WORKERFS.node_ops,o.stream_ops=WORKERFS.stream_ops,o.timestamp=(a||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),n===WORKERFS.FILE_MODE?(o.size=i.size,o.contents=i):(o.size=4096,o.contents={}),e&&(e.contents[t]=o),o},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,n,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},
symlink:function(e,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,t,n,r,i){if(i>=e.node.size)return 0;var a=e.node.contents.slice(i,i+r),o=WORKERFS.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),n),a.size},write:function(e,t,n,r,i){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&FS.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){if(e=PATH.resolve(FS.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var i=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=FS.root,o="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&t.parent)break;if(a=FS.lookupNode(a,i[s]),o=PATH.join2(o,i[s]),FS.isMountpoint(a)&&(!l||l&&t.follow_mount)&&(a=a.mounted.root),!l||t.follow)for(var u=0;FS.isLink(a.mode);){var c=FS.readlink(o);o=PATH.resolve(PATH.dirname(o),c);var f=FS.lookupPath(o,{recurse_count:t.recurse_count});if(a=f.node,u++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(FS.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var n=FS.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=FS.mayLookup(e);if(n)throw new FS.ErrnoError(n,e);for(var r=FS.hashName(e.id,t),i=FS.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return FS.lookup(e,t)},createNode:function(e,t,n,r){if(!FS.FSNode){FS.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},FS.FSNode.prototype={};Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var i=new FS.FSNode(e,t,n,r);return FS.hashAddNode(i),i},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var t=FS.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=FS.lookupNode(e,t)}catch(e){return e.errno}var i=FS.nodePermissions(e,"wx");if(i)return i;if(n){if(!FS.isDir(r.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(r)||FS.getPath(r)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(r.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!=(2097155&t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!FS.streams[n])return n;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,n){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new FS.FSStream;for(var i in e)r[i]=e[i];e=r;var a=FS.nextfd(t,n);return e.fd=a,FS.streams[a]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){function n(e){if(e){if(!n.errored)return n.errored=!0,t(e)}else++i>=r.length&&t(null)}"function"==typeof e&&(t=e,e=!1);var r=FS.getMounts(FS.root.mount),i=0;r.forEach(function(t){if(!t.type.syncfs)return n(null);t.type.syncfs(t,e,n)})},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!i&&!a){var o=FS.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,i?FS.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=t.node,r=n.mounted,i=FS.getMounts(r);Object.keys(FS.nameTable).forEach(function(e){for(var t=FS.nameTable[e];t;){var n=t.name_next;-1!==i.indexOf(t.mount)&&FS.destroyNode(t),t=n}}),n.mounted=null;var a=n.mount.mounts.indexOf(r);assert(-1!==a),n.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=FS.lookupPath(e,{parent:!0}),i=r.node,a=PATH.basename(e);if(!a||"."===a||".."===a)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=FS.mayCreate(i,a);if(o)throw new FS.ErrnoError(o);if(!i.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.mknod(i,a,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,FS.mknod(e,t,n)},symlink:function(e,t){
if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var n=FS.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var i=PATH.basename(t),a=FS.mayCreate(r,i);if(a)throw new FS.ErrnoError(a);if(!r.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var n,r,i,a=PATH.dirname(e),o=PATH.dirname(t),s=PATH.basename(e),l=PATH.basename(t);try{n=FS.lookupPath(e,{parent:!0}),r=n.node,n=FS.lookupPath(t,{parent:!0}),i=n.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!r||!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(r.mount!==i.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var u=FS.lookupNode(r,s),c=PATH.relative(e,o);if("."!==c.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(c=PATH.relative(t,a),"."!==c.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);var f;try{f=FS.lookupNode(i,l)}catch(e){}if(u!==f){var d=FS.isDir(u.mode),p=FS.mayDelete(r,s,d);if(p)throw new FS.ErrnoError(p);if(p=f?FS.mayDelete(i,l,d):FS.mayCreate(i,l))throw new FS.ErrnoError(p);if(!r.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(u)||f&&FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(i!==r&&(p=FS.nodePermissions(r,"w")))throw new FS.ErrnoError(p);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,t)}catch(e){}FS.hashRemoveNode(u);try{r.node_ops.rename(u,i,l)}catch(e){throw e}finally{FS.hashAddNode(u)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,t)}catch(e){}}},rmdir:function(e){var t=FS.lookupPath(e,{parent:!0}),n=t.node,r=PATH.basename(e),i=FS.lookupNode(n,r),a=FS.mayDelete(n,r,!0);if(a)throw new FS.ErrnoError(a);if(!n.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(e){}n.node_ops.rmdir(n,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(e){}},readdir:function(e){var t=FS.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var t=FS.lookupPath(e,{parent:!0}),n=t.node,r=PATH.basename(e),i=FS.lookupNode(n,r),a=FS.mayDelete(n,r,!1);if(a)throw a===ERRNO_CODES.EISDIR&&(a=ERRNO_CODES.EPERM),new FS.ErrnoError(a);if(!n.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(e){}n.node_ops.unlink(n,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(e){}},readlink:function(e){var t=FS.lookupPath(e),n=t.node;if(!n)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!n.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=FS.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!r.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,n){var r;if("string"==typeof e)r=FS.lookupPath(e,{follow:!n}).node;else r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(n.node,t)},chown:function(e,t,n,r){var i;if("string"==typeof e)i=FS.lookupPath(e,{follow:!r}).node;else i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){FS.chown(e,t,n,!0)},fchown:function(e,t,n){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n;if("string"==typeof e)n=FS.lookupPath(e,{follow:!0}).node;else n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=FS.nodePermissions(n,"w");if(r)throw new FS.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&n.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(n.node,t)},utime:function(e,t,n){var r=FS.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);t="string"==typeof t?FS.modeStringToFlags(t):t,n=void 0===n?438:n,n=64&t?4095&n|32768:0;var a;if("object"===(void 0===e?"undefined":_typeof(e)))a=e;else{e=PATH.normalize(e);try{a=FS.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(a){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else a=FS.mknod(e,n,0),o=!0;if(!a)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(a.mode)&&(t&=-513),65536&t&&!FS.isDir(a.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!o){var s=FS.mayOpen(a,t);if(s)throw new FS.ErrnoError(s)}512&t&&FS.truncate(a,0),t&=-641;var l=FS.createStream({node:a,path:FS.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,i);l.stream_ops.open&&l.stream_ops.open(l),!Module.logReadFiles||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var u=0;1!=(2097155&t)&&(u|=FS.tracking.openFlags.READ),0!=(2097155&t)&&(u|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,u)}}catch(e){}return l},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,t,n){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=!0;if(void 0===i)i=e.position,a=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var o=!0;if(void 0===i)i=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,t,n,r,i,a);o||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){}return s},allocate:function(e,t,n){if(t<0||n<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,a,o){if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,n,r,i,a,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},
ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=FS.open(e,t.flags),i=FS.stat(e),a=i.size,o=new Uint8Array(a);return FS.read(r,o,0,a,0),"utf8"===t.encoding?n=UTF8ArrayToString(o,0):"binary"===t.encoding&&(n=o),FS.close(r),n},writeFile:function(e,t,n){if(n=n||{},n.flags=n.flags||"w",n.encoding=n.encoding||"utf8","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var r=FS.open(e,n.flags,n.mode);if("utf8"===n.encoding){var i=new Uint8Array(lengthBytesUTF8(t)+1),a=stringToUTF8Array(t,i,0,i.length);FS.write(r,i,0,a,0,n.canOwn)}else"binary"===n.encoding&&FS.write(r,t,0,t.length,0,n.canOwn);FS.close(r)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var n=FS.nodePermissions(t.node,"x");if(n)throw new FS.ErrnoError(n);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ENVIRONMENT_IS_NODE?function(){return __webpack_require__(281).randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=FS.getStream(n);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var n=FS.open("/dev/stderr","w");assert(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,n){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=n||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<FS.streams.length;t++){var n=FS.streams[t];n&&FS.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=PATH.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var n=FS.analyzePath(e,t);return n.exists?n.object:(___setErrNo(n.error),null)},analyzePath:function(e,t){try{var n=FS.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=PATH.basename(e),n=FS.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,n,r){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(n,r);return FS.mkdir(i,a)},createPath:function(e,t,n,r){e="string"==typeof e?e:FS.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=PATH.join2(e,a);try{FS.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,n,r,i){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(r,i);return FS.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t?PATH.join2("string"==typeof e?e:FS.getPath(e),t):e,s=FS.getMode(r,i),l=FS.create(o,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),c=0,f=n.length;c<f;++c)u[c]=n.charCodeAt(c);n=u}FS.chmod(l,146|s);var d=FS.open(l,"w");FS.write(d,n,0,n.length,0,a),FS.close(d),FS.chmod(l,s)}return l},createDevice:function(e,t,n,r){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(!!n,!!r);FS.createDevice.major||(FS.createDevice.major=64);var o=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var l;try{l=n()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===l&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===l||void 0===l)break;o++,t[r+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),o}}),FS.mkdev(i,a,o)},createLink:function(e,t,n,r,i){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),t);return FS.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,n,r,i){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=1048576;i||(a=r);var o=function(e,t){
if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):intArrayFromString(i.responseText||"",!0)},s=this;s.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,r-1),void 0===s.chunks[e]&&(s.chunks[e]=o(t,n)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new a;Object.defineProperty(o,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(o,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var s={isDevice:!1,contents:o}}else var s={isDevice:!1,url:n};var l=FS.createFile(e,t,s,r,i);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperty(l,"usedBytes",{get:function(){return this.contents.length}});var u={};return Object.keys(l.stream_ops).forEach(function(e){var t=l.stream_ops[e];u[e]=function(){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),u.read=function(e,t,n,r,i){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);var a=e.node.contents;if(i>=a.length)return 0;var o=Math.min(a.length-i,r);if(assert(o>=0),a.slice)for(var s=0;s<o;s++)t[n+s]=a[i+s];else for(var s=0;s<o;s++)t[n+s]=a.get(i+s);return o},l.stream_ops=u,l},createPreloadedFile:function(e,t,n,r,i,a,o,s,l,u){function c(n){function c(n){u&&u(),s||FS.createDataFile(e,t,n,r,i,l),a&&a(),removeRunDependency(d)}var p=!1;Module.preloadPlugins.forEach(function(e){p||e.canHandle(f)&&(e.handle(n,f,c,function(){o&&o(),removeRunDependency(d)}),p=!0)}),p||c(n)}Browser.init();var f=t?PATH.resolve(PATH.join2(e,t)):e,d=getUniqueRunDependency("cp "+f);addRunDependency(d),"string"==typeof n?Browser.asyncLoad(n,function(e){c(e)},o):c(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=FS.indexedDB();try{var i=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){i.result.createObjectStore(FS.DB_STORE_NAME)},i.onsuccess=function(){function r(){0==u?t():n()}var a=i.result,o=a.transaction([FS.DB_STORE_NAME],"readwrite"),s=o.objectStore(FS.DB_STORE_NAME),l=0,u=0,c=e.length;e.forEach(function(e){var t=s.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){++l+u==c&&r()},t.onerror=function(){u++,l+u==c&&r()}}),o.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=FS.indexedDB();try{var i=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function r(){0==u?t():n()}var a=i.result;try{var o=a.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=o.objectStore(FS.DB_STORE_NAME),l=0,u=0,c=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),++l+u==c&&r()},t.onerror=function(){u++,l+u==c&&r()}}),o.onerror=n},i.onerror=n}},PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:FS.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}for(var l=[],s=o;s<r.length;s++)l.push("..");return l=l.concat(i.slice(o)),l.join("/")}},Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var e=Browser.mainLoop.timingMode,t=Browser.mainLoop.timingValue,n=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(n,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(e,t),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",t=Browser.mainLoop.remainingBlockers,n=Browser.mainLoop.expectedBlockers;t?t<n?Module.setStatus(e+" ("+(n-t)+"/"+n+")"):Module.setStatus(e):Module.setStatus("")}},runIter:function(e){if(!ABORT){if(Module.preMainLoop)if(!1===Module.preMainLoop())return;try{e()}catch(e){if(e instanceof ExitStatus)return;throw e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}Module.postMainLoop&&Module.postMainLoop()}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){function e(){Browser.pointerLock=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r||document.msPointerLockElement===r}if(Module.preloadPlugins||(Module.preloadPlugins=[]),!Browser.initted){Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(e){Browser.hasBlobConstructor=!1}Browser.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Browser.hasBlobConstructor?null:void 0,Browser.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,Module.noImageDecoding||void 0!==Browser.URLObject||(Module.noImageDecoding=!0);var t={};t.canHandle=function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},t.handle=function(e,t,n,r){var i=null;if(Browser.hasBlobConstructor)try{i=new Blob([e],{type:Browser.getMimetype(t)}),i.size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:Browser.getMimetype(t)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!i){var a=new Browser.BlobBuilder;a.append(new Uint8Array(e).buffer),i=a.getBlob()}var o=Browser.URLObject.createObjectURL(i),s=new Image
;s.onload=function(){assert(s.complete,"Image "+t+" could not be decoded");var r=document.createElement("canvas");r.width=s.width,r.height=s.height,r.getContext("2d").drawImage(s,0,0),Module.preloadedImages[t]=r,Browser.URLObject.revokeObjectURL(o),n&&n(e)},s.onerror=function(e){r&&r()},s.src=o},Module.preloadPlugins.push(t);var n={};n.canHandle=function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},n.handle=function(e,t,n,r){function i(r){o||(o=!0,Module.preloadedAudios[t]=r,n&&n(e))}function a(){o||(o=!0,Module.preloadedAudios[t]=new Audio,r&&r())}var o=!1;if(!Browser.hasBlobConstructor)return a();try{var s=new Blob([e],{type:Browser.getMimetype(t)})}catch(e){return a()}var l=Browser.URLObject.createObjectURL(s),u=new Audio;u.addEventListener("canplaythrough",function(){i(u)},!1),u.onerror=function(n){o||(u.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0,i=0,a=0;a<e.length;a++)for(r=r<<8|e[a],i+=8;i>=6;){var o=r>>i-6&63;i-=6,n+=t[o]}return 2==i?(n+=t[(3&r)<<4],n+="=="):4==i&&(n+=t[(15&r)<<2],n+="="),n}(e),i(u))},u.src=l,Browser.safeSetTimeout(function(){i(u)},1e4)},Module.preloadPlugins.push(n);var r=Module.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),Module.elementPointerLock&&r.addEventListener("click",function(e){!Browser.pointerLock&&r.requestPointerLock&&(r.requestPointerLock(),e.preventDefault())},!1))}},createContext:function(e,t,n,r){if(t&&Module.ctx&&e==Module.canvas)return Module.ctx;var i,a;if(t){var o={antialias:!1,alpha:!1};if(r)for(var s in r)o[s]=r[s];a=GL.createContext(e,o),a&&(i=GL.getContext(a).GLctx),e.style.backgroundColor="black"}else i=e.getContext("2d");return i?(n&&(t||assert("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=i,t&&GL.makeContextCurrent(a),Module.useWebGL=t,Browser.moduleContextCreatedCallbacks.forEach(function(e){e()}),Browser.init()),i):null},destroyContext:function(e,t,n){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(e,t,n){function r(){Browser.isFullScreen=!1;var e=i.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e?(i.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},i.cancelFullScreen=i.cancelFullScreen.bind(document),Browser.lockPointer&&i.requestPointerLock(),Browser.isFullScreen=!0,Browser.resizeCanvas&&Browser.setFullScreenCanvasSize()):(e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullScreen),Browser.updateCanvasDimensions(i)}Browser.lockPointer=e,Browser.resizeCanvas=t,Browser.vrDevice=n,void 0===Browser.lockPointer&&(Browser.lockPointer=!0),void 0===Browser.resizeCanvas&&(Browser.resizeCanvas=!1),void 0===Browser.vrDevice&&(Browser.vrDevice=null);var i=Module.canvas;Browser.fullScreenHandlersInstalled||(Browser.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",r,!1),document.addEventListener("mozfullscreenchange",r,!1),document.addEventListener("webkitfullscreenchange",r,!1),document.addEventListener("MSFullscreenChange",r,!1));var a=document.createElement("div");i.parentNode.insertBefore(a,i),a.appendChild(i),a.requestFullScreen=a.requestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n?a.requestFullScreen({vrDisplay:n}):a.requestFullScreen()},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===Browser.nextRAF)Browser.nextRAF=t+1e3/60;else for(;t+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var n=Math.max(Browser.nextRAF-t,0);setTimeout(e,n)},requestAnimationFrame:function(e){"undefined"==typeof window?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!ABORT)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var e=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],e.forEach(function(e){e()})}},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))})},safeSetTimeout:function(e,t){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))},t)},safeSetInterval:function(e,t){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&e()},t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail;break;case"mousewheel":t=e.wheelDelta;break;case"wheel":t=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),"undefined"!=typeof SDL?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var t=Module.canvas.getBoundingClientRect(),n=Module.canvas.width,r=Module.canvas.height,i=void 0!==window.scrollX?window.scrollX:window.pageXOffset,a=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var o=e.touch;if(void 0===o)return;var s=o.pageX-(i+t.left),l=o.pageY-(a+t.top);s*=n/t.width,l*=r/t.height;var u={x:s,y:l};if("touchstart"===e.type)Browser.lastTouches[o.identifier]=u,Browser.touches[o.identifier]=u;else if("touchend"===e.type||"touchmove"===e.type){var c=Browser.touches[o.identifier];c||(c=u),Browser.lastTouches[o.identifier]=c,Browser.touches[o.identifier]=u}return}var f=e.pageX-(i+t.left),d=e.pageY-(a+t.top);f*=n/t.width,d*=r/t.height,Browser.mouseMovementX=f-Browser.mouseX,Browser.mouseMovementY=d-Browser.mouseY,
Browser.mouseX=f,Browser.mouseY=d}},xhrLoad:function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},asyncLoad:function(e,t,n,r){Browser.xhrLoad(e,function(n){assert(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),r||removeRunDependency("al "+e)},function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()}),r||addRunDependency("al "+e)},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach(function(t){t(e.width,e.height)})},setCanvasSize:function(e,t,n){var r=Module.canvas;Browser.updateCanvasDimensions(r,e,t),n||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullScreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e|=8388608,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e&=-8388609,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},updateCanvasDimensions:function(e,t,n){t&&n?(e.widthNative=t,e.heightNative=n):(t=e.widthNative,n=e.heightNative);var r=t,i=n;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(r/i<Module.forcedAspectRatio?r=Math.round(i*Module.forcedAspectRatio):i=Math.round(r/Module.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/r,screen.height/i);r=Math.round(r*a),i=Math.round(i*a)}Browser.resizeCanvas?(e.width!=r&&(e.width=r),e.height!=i&&(e.height=i),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),void 0!==e.style&&(r!=t||i!=n?(e.style.setProperty("width",r+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,e}},emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}],SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=FS.cwd();else{var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);n=r.path}t=PATH.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[n>>2]=r.dev,HEAP32[n+4>>2]=0,HEAP32[n+8>>2]=r.ino,HEAP32[n+12>>2]=r.mode,HEAP32[n+16>>2]=r.nlink,HEAP32[n+20>>2]=r.uid,HEAP32[n+24>>2]=r.gid,HEAP32[n+28>>2]=r.rdev,HEAP32[n+32>>2]=0,HEAP32[n+36>>2]=r.size,HEAP32[n+40>>2]=4096,HEAP32[n+44>>2]=r.blocks,HEAP32[n+48>>2]=r.atime.getTime()/1e3|0,HEAP32[n+52>>2]=0,HEAP32[n+56>>2]=r.mtime.getTime()/1e3|0,HEAP32[n+60>>2]=0,HEAP32[n+64>>2]=r.ctime.getTime()/1e3|0,HEAP32[n+68>>2]=0,HEAP32[n+72>>2]=r.ino,0},doMsync:function(e,t,n,r){var i=new Uint8Array(HEAPU8.subarray(e,e+n));FS.msync(t,i,0,n,r)},doMkdir:function(e,t){return e=PATH.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-ERRNO_CODES.EINVAL;var r=FS.readlink(e);return r=r.slice(0,Math.max(0,n)),writeStringToMemory(r,t,!0),r.length},doAccess:function(e,t){if(-8&t)return-ERRNO_CODES.EINVAL;var n;n=FS.lookupPath(e,{follow:!0}).node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&FS.nodePermissions(n,r)?-ERRNO_CODES.EACCES:0},doDup:function(e,t,n){var r=FS.getStream(n);return r&&FS.close(r),FS.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=HEAP32[t+8*a>>2],s=HEAP32[t+(8*a+4)>>2],l=FS.read(e,HEAP8,o,s,r);if(l<0)return-1;if(i+=l,l<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=HEAP32[t+8*a>>2],s=HEAP32[t+(8*a+4)>>2],l=FS.write(e,HEAP8,o,s,r);if(l<0)return-1;i+=l}return i},varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),n=SYSCALLS.get();if(e&&0===t)return null;var r=__read_sockaddr(t,n);if(r.errno)throw new FS.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};Module._i64Add=_i64Add,Module._bitshift64Lshr=_bitshift64Lshr;var _BDtoIHigh=!0,UnboundTypeError=void 0;Module._memcpy=_memcpy,Module._bitshift64Shl=_bitshift64Shl,Module._memmove=_memmove;var _BItoD=!0,___dso_handle=allocate(1,"i32*",ALLOC_STATIC);if(embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),Module.requestFullScreen=function(e,t,n){Browser.requestFullScreen(e,t,n)},Module.requestAnimationFrame=function(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function(e,t,n){Browser.setCanvasSize(e,t,n)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},Module.createContext=function(e,t,n,r){return Browser.createContext(e,t,n,r)},FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=__webpack_require__(140),NODEJS_PATH=__webpack_require__(31);NODEFS.staticInit()}init_emval(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0
},Module.asmLibraryArg={abort:abort,assert:assert,invoke_iiiiiiii:invoke_iiiiiiii,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_iiiiiid:invoke_iiiiiid,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_iiiiiii:invoke_iiiiiii,invoke_iiiiid:invoke_iiiiid,invoke_ii:invoke_ii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_iiiiiiiii:invoke_iiiiiiiii,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_iiiiii:invoke_iiiiii,invoke_viiii:invoke_viiii,_fabs:_fabs,_pthread_cleanup_pop:_pthread_cleanup_pop,_pthread_cond_wait:_pthread_cond_wait,floatReadValueFromPointer:floatReadValueFromPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,integerReadValueFromPointer:integerReadValueFromPointer,__embind_register_memory_view:__embind_register_memory_view,throwInternalError:throwInternalError,get_first_emval:get_first_emval,___syscall6:___syscall6,___cxa_guard_acquire:___cxa_guard_acquire,___setErrNo:___setErrNo,___gxx_personality_v0:___gxx_personality_v0,__embind_register_integer:__embind_register_integer,__embind_register_void:__embind_register_void,___assert_fail:___assert_fail,___cxa_allocate_exception:___cxa_allocate_exception,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,extendError:extendError,getShiftFromSize:getShiftFromSize,__embind_register_function:__embind_register_function,__embind_register_emval:__embind_register_emval,__addDays:__addDays,_strftime_l:_strftime_l,throwBindingError:throwBindingError,_emscripten_set_main_loop_timing:_emscripten_set_main_loop_timing,__emval_register:__emval_register,_sbrk:_sbrk,__embind_register_std_wstring:__embind_register_std_wstring,_emscripten_memcpy_big:_emscripten_memcpy_big,__embind_register_bool:__embind_register_bool,___resumeException:___resumeException,___cxa_find_matching_catch:___cxa_find_matching_catch,_sysconf:_sysconf,_embind_repr:_embind_repr,___cxa_begin_catch:___cxa_begin_catch,_strftime:_strftime,createNamedFunction:createNamedFunction,embind_init_charCodes:embind_init_charCodes,readLatin1String:readLatin1String,throwUnboundTypeError:throwUnboundTypeError,_pthread_self:_pthread_self,craftInvokerFunction:craftInvokerFunction,__emval_decref:__emval_decref,_pthread_once:_pthread_once,_pthread_mutex_unlock:_pthread_mutex_unlock,_pthread_getspecific:_pthread_getspecific,__embind_register_float:__embind_register_float,___syscall146:___syscall146,makeLegalFunctionName:makeLegalFunctionName,whenDependentTypesAreResolved:whenDependentTypesAreResolved,___syscall54:___syscall54,___unlock:___unlock,heap32VectorToArray:heap32VectorToArray,init_emval:init_emval,__isLeapYear:__isLeapYear,_emscripten_set_main_loop:_emscripten_set_main_loop,___cxa_guard_release:___cxa_guard_release,getTypeName:getTypeName,new_:new_,_pthread_setspecific:_pthread_setspecific,___cxa_atexit:___cxa_atexit,registerType:registerType,___cxa_throw:___cxa_throw,_pthread_cond_broadcast:_pthread_cond_broadcast,___lock:___lock,__arraySum:__arraySum,_abort:_abort,_pthread_cleanup_push:_pthread_cleanup_push,ensureOverloadTable:ensureOverloadTable,count_emval_handles:count_emval_handles,_time:_time,_pthread_mutex_lock:_pthread_mutex_lock,runDestructors:runDestructors,_pthread_key_create:_pthread_key_create,_atexit:_atexit,___syscall140:___syscall140,exposePublicSymbol:exposePublicSymbol,__embind_register_std_string:__embind_register_std_string,replacePublicSymbol:replacePublicSymbol,requireFunction:requireFunction,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,t,n){"use asm";var r=new e.Int8Array(n);var i=new e.Int16Array(n);var a=new e.Int32Array(n);var o=new e.Uint8Array(n);var s=new e.Uint16Array(n);var l=new e.Uint32Array(n);var u=new e.Float32Array(n);var c=new e.Float64Array(n);var f=t.STACKTOP|0;var d=t.STACK_MAX|0;var p=t.tempDoublePtr|0;var h=t.ABORT|0;var y=t.cttz_i8|0;var m=t.___dso_handle|0;var _=0;var g=0;var b=0;var v=0;var w=e.NaN,k=e.Infinity;var S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0;var N=0;var M=0;var R=0;var D=0;var F=0;var B=0;var j=0;var L=0;var U=0;var H=0;var G=e.Math.floor;var z=e.Math.abs;var V=e.Math.sqrt;var K=e.Math.pow;var W=e.Math.cos;var q=e.Math.sin;var X=e.Math.tan;var Y=e.Math.acos;var J=e.Math.asin;var Q=e.Math.atan;var Z=e.Math.atan2;var $=e.Math.exp;var ee=e.Math.log;var te=e.Math.ceil;var ne=e.Math.imul;var re=e.Math.min;var ie=e.Math.clz32;var ae=t.abort;var oe=t.assert;var se=t.invoke_iiiiiiii;var le=t.invoke_iiii;var ue=t.invoke_viiiii;var ce=t.invoke_iiiiiid;var fe=t.invoke_vi;var de=t.invoke_vii;var pe=t.invoke_iiiiiii;var he=t.invoke_iiiiid;var ye=t.invoke_ii;var me=t.invoke_viii;var _e=t.invoke_v;var ge=t.invoke_iiiiiiiii;var be=t.invoke_iiiii;var ve=t.invoke_viiiiii;var we=t.invoke_iii;var ke=t.invoke_iiiiii;var Se=t.invoke_viiii;var Ie=t._fabs;var Ee=t._pthread_cleanup_pop;var Ae=t._pthread_cond_wait;var xe=t.floatReadValueFromPointer;var Ce=t.simpleReadValueFromPointer;var Te=t.integerReadValueFromPointer;var Pe=t.__embind_register_memory_view;var Oe=t.throwInternalError;var Ne=t.get_first_emval;var Me=t.___syscall6;var Re=t.___cxa_guard_acquire;var De=t.___setErrNo;var Fe=t.___gxx_personality_v0;var Be=t.__embind_register_integer;var je=t.__embind_register_void;var Le=t.___assert_fail;var Ue=t.___cxa_allocate_exception;var He=t.__ZSt18uncaught_exceptionv;var Ge=t.extendError;var ze=t.getShiftFromSize;var Ve=t.__embind_register_function;var Ke=t.__embind_register_emval;var We=t.__addDays;var qe=t._strftime_l;var Xe=t.throwBindingError;var Ye=t._emscripten_set_main_loop_timing;var Je=t.__emval_register;var Qe=t._sbrk;var Ze=t.__embind_register_std_wstring;var $e=t._emscripten_memcpy_big;var et=t.__embind_register_bool;var tt=t.___resumeException;var nt=t.___cxa_find_matching_catch;var rt=t._sysconf;var it=t._embind_repr;var at=t.___cxa_begin_catch;var ot=t._strftime;var st=t.createNamedFunction;var lt=t.embind_init_charCodes;var ut=t.readLatin1String;var ct=t.throwUnboundTypeError;var ft=t._pthread_self;var dt=t.craftInvokerFunction;var pt=t.__emval_decref;var ht=t._pthread_once;var yt=t._pthread_mutex_unlock;var mt=t._pthread_getspecific;var _t=t.__embind_register_float;var gt=t.___syscall146;var bt=t.makeLegalFunctionName;var vt=t.whenDependentTypesAreResolved;var wt=t.___syscall54;var kt=t.___unlock;var St=t.heap32VectorToArray;var It=t.init_emval;var Et=t.__isLeapYear;var At=t._emscripten_set_main_loop;var xt=t.___cxa_guard_release;var Ct=t.getTypeName;var Tt=t.new_;var Pt=t._pthread_setspecific;var Ot=t.___cxa_atexit;var Nt=t.registerType;var Mt=t.___cxa_throw;var Rt=t._pthread_cond_broadcast;var Dt=t.___lock;var Ft=t.__arraySum;var Bt=t._abort;var jt=t._pthread_cleanup_push;var Lt=t.ensureOverloadTable;var Ut=t.count_emval_handles;var Ht=t._time;var Gt=t._pthread_mutex_lock;var zt=t.runDestructors;var Vt=t._pthread_key_create;var Kt=t._atexit;var Wt=t.___syscall140;var qt=t.exposePublicSymbol;var Xt=t.__embind_register_std_string;var Yt=t.replacePublicSymbol;var Jt=t.requireFunction;var Qt=0;function Zt(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0;h=e+t|0;n=a[e+4>>2]|0;do{if(!(n&1)){i=a[e>>2]|0;if(!(n&3))return;f=e+(0-i)|0;c=i+t|0;l=a[1676]|0;if(f>>>0<l>>>0)Bt();if((f|0)==(a[1677]|0)){e=h+4|0;n=a[e>>2]|0;if((n&3|0)!=3){_=f;o=c;break}a[1674]=c;a[e>>2]=n&-2;a[f+4>>2]=c|1;a[f+c>>2]=c;return}r=i>>>3;if(i>>>0<256){e=a[f+8>>2]|0;t=a[f+12>>2]|0;n=6728+(r<<1<<2)|0;if((e|0)!=(n|0)){if(e>>>0<l>>>0)Bt();if((a[e+12>>2]|0)!=(f|0))Bt()}if((t|0)==(e|0)){a[1672]=a[1672]&~(1<<r);_=f;o=c;break}if((t|0)!=(n|0)){if(t>>>0<l>>>0)Bt();n=t+8|0;if((a[n>>2]|0)==(f|0))s=n;else Bt()}else s=t+8|0;a[e+12>>2]=t;a[s>>2]=e;_=f;o=c;break}i=a[f+24>>2]|0;t=a[f+12>>2]|0;do{if((t|0)==(f|0)){e=f+16|0;t=e+4|0;n=a[t>>2]|0;if(!n){n=a[e>>2]|0;if(!n){u=0;break}}else e=t;while(1){t=n+20|0;r=a[t>>2]|0;if(r){n=r;e=t;continue}t=n+16|0;r=a[t>>2]|0;if(!r)break;else{n=r;e=t}}if(e>>>0<l>>>0)Bt();else{a[e>>2]=0;u=n;break}}else{r=a[f+8>>2]|0
;if(r>>>0<l>>>0)Bt();n=r+12|0;if((a[n>>2]|0)!=(f|0))Bt();e=t+8|0;if((a[e>>2]|0)==(f|0)){a[n>>2]=t;a[e>>2]=r;u=t;break}else Bt()}}while(0);if(i){n=a[f+28>>2]|0;e=6992+(n<<2)|0;if((f|0)==(a[e>>2]|0)){a[e>>2]=u;if(!u){a[1673]=a[1673]&~(1<<n);_=f;o=c;break}}else{if(i>>>0<(a[1676]|0)>>>0)Bt();n=i+16|0;if((a[n>>2]|0)==(f|0))a[n>>2]=u;else a[i+20>>2]=u;if(!u){_=f;o=c;break}}t=a[1676]|0;if(u>>>0<t>>>0)Bt();a[u+24>>2]=i;n=f+16|0;e=a[n>>2]|0;do{if(e)if(e>>>0<t>>>0)Bt();else{a[u+16>>2]=e;a[e+24>>2]=u;break}}while(0);n=a[n+4>>2]|0;if(n){if(n>>>0<(a[1676]|0)>>>0)Bt();else{a[u+20>>2]=n;a[n+24>>2]=u;_=f;o=c;break}}else{_=f;o=c}}else{_=f;o=c}}else{_=e;o=t}}while(0);s=a[1676]|0;if(h>>>0<s>>>0)Bt();n=h+4|0;e=a[n>>2]|0;if(!(e&2)){if((h|0)==(a[1678]|0)){m=(a[1675]|0)+o|0;a[1675]=m;a[1678]=_;a[_+4>>2]=m|1;if((_|0)!=(a[1677]|0))return;a[1677]=0;a[1674]=0;return}if((h|0)==(a[1677]|0)){m=(a[1674]|0)+o|0;a[1674]=m;a[1677]=_;a[_+4>>2]=m|1;a[_+m>>2]=m;return}o=(e&-8)+o|0;r=e>>>3;do{if(e>>>0>=256){i=a[h+24>>2]|0;t=a[h+12>>2]|0;do{if((t|0)==(h|0)){e=h+16|0;t=e+4|0;n=a[t>>2]|0;if(!n){n=a[e>>2]|0;if(!n){p=0;break}}else e=t;while(1){t=n+20|0;r=a[t>>2]|0;if(r){n=r;e=t;continue}t=n+16|0;r=a[t>>2]|0;if(!r)break;else{n=r;e=t}}if(e>>>0<s>>>0)Bt();else{a[e>>2]=0;p=n;break}}else{r=a[h+8>>2]|0;if(r>>>0<s>>>0)Bt();n=r+12|0;if((a[n>>2]|0)!=(h|0))Bt();e=t+8|0;if((a[e>>2]|0)==(h|0)){a[n>>2]=t;a[e>>2]=r;p=t;break}else Bt()}}while(0);if(i){n=a[h+28>>2]|0;e=6992+(n<<2)|0;if((h|0)==(a[e>>2]|0)){a[e>>2]=p;if(!p){a[1673]=a[1673]&~(1<<n);break}}else{if(i>>>0<(a[1676]|0)>>>0)Bt();n=i+16|0;if((a[n>>2]|0)==(h|0))a[n>>2]=p;else a[i+20>>2]=p;if(!p)break}t=a[1676]|0;if(p>>>0<t>>>0)Bt();a[p+24>>2]=i;n=h+16|0;e=a[n>>2]|0;do{if(e)if(e>>>0<t>>>0)Bt();else{a[p+16>>2]=e;a[e+24>>2]=p;break}}while(0);n=a[n+4>>2]|0;if(n)if(n>>>0<(a[1676]|0)>>>0)Bt();else{a[p+20>>2]=n;a[n+24>>2]=p;break}}}else{e=a[h+8>>2]|0;t=a[h+12>>2]|0;n=6728+(r<<1<<2)|0;if((e|0)!=(n|0)){if(e>>>0<s>>>0)Bt();if((a[e+12>>2]|0)!=(h|0))Bt()}if((t|0)==(e|0)){a[1672]=a[1672]&~(1<<r);break}if((t|0)!=(n|0)){if(t>>>0<s>>>0)Bt();n=t+8|0;if((a[n>>2]|0)==(h|0))d=n;else Bt()}else d=t+8|0;a[e+12>>2]=t;a[d>>2]=e}}while(0);a[_+4>>2]=o|1;a[_+o>>2]=o;if((_|0)==(a[1677]|0)){a[1674]=o;return}}else{a[n>>2]=e&-2;a[_+4>>2]=o|1;a[_+o>>2]=o}n=o>>>3;if(o>>>0<256){t=6728+(n<<1<<2)|0;e=a[1672]|0;n=1<<n;if(e&n){n=t+8|0;e=a[n>>2]|0;if(e>>>0<(a[1676]|0)>>>0)Bt();else{y=n;m=e}}else{a[1672]=e|n;y=t+8|0;m=t}a[y>>2]=_;a[m+12>>2]=_;a[_+8>>2]=m;a[_+12>>2]=t;return}n=o>>>8;if(n){if(o>>>0>16777215)t=31;else{y=(n+1048320|0)>>>16&8;m=n<<y;h=(m+520192|0)>>>16&4;m=m<<h;t=(m+245760|0)>>>16&2;t=14-(h|y|t)+(m<<t>>>15)|0;t=o>>>(t+7|0)&1|t<<1}}else t=0;r=6992+(t<<2)|0;a[_+28>>2]=t;a[_+20>>2]=0;a[_+16>>2]=0;n=a[1673]|0;e=1<<t;if(!(n&e)){a[1673]=n|e;a[r>>2]=_;a[_+24>>2]=r;a[_+12>>2]=_;a[_+8>>2]=_;return}i=o<<((t|0)==31?0:25-(t>>>1)|0);n=a[r>>2]|0;while(1){if((a[n+4>>2]&-8|0)==(o|0)){t=n;r=127;break}e=n+16+(i>>>31<<2)|0;t=a[e>>2]|0;if(!t){r=124;break}else{i=i<<1;n=t}}if((r|0)==124){if(e>>>0<(a[1676]|0)>>>0)Bt();a[e>>2]=_;a[_+24>>2]=n;a[_+12>>2]=_;a[_+8>>2]=_;return}else if((r|0)==127){n=t+8|0;e=a[n>>2]|0;m=a[1676]|0;if(!(e>>>0>=m>>>0&t>>>0>=m>>>0))Bt();a[e+12>>2]=_;a[n>>2]=_;a[_+8>>2]=e;a[_+12>>2]=t;a[_+24>>2]=0;return}}function $t(e,t){e=e|0;t=t|0;if(!(r[t>>0]&1)){a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2]}else en(e,a[t+8>>2]|0,a[t+4>>2]|0);return}function en(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;if(n>>>0>4294967279)$h(e);if(n>>>0<11){r[e>>0]=n<<1;e=e+1|0}else{o=n+16&-16;i=ny(o)|0;a[e+8>>2]=i;a[e>>2]=o|1;a[e+4>>2]=n;e=i}zc(e|0,t|0,n|0)|0;r[e+n>>0]=0;return}function tn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;if(t>>>0>4294967279)$h(e);if(t>>>0<11){r[e>>0]=t<<1;e=e+1|0}else{o=t+16&-16;i=ny(o)|0;a[e+8>>2]=i;a[e>>2]=o|1;a[e+4>>2]=t;e=i}Uc(e|0,n|0,t|0)|0;r[e+t>>0]=0;return}function nn(e){e=e|0;if(r[e>>0]&1)ry(a[e+8>>2]|0);return}function rn(e,t){e=e|0;t=t|0;var n=0,i=0;if((e|0)!=(t|0)){n=r[t>>0]|0;i=(n&1)==0;on(e,i?t+1|0:a[t+8>>2]|0,i?(n&255)>>>1:a[t+4>>2]|0)|0}return e|0}function an(e,t){e=e|0;t=t|0;return on(e,t,vd(t)|0)|0}function on(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;i=r[e>>0]|0;if(!(i&1))s=10;else{i=a[e>>2]|0;s=(i&-2)+-1|0;i=i&255}o=(i&1)==0;do{if(s>>>0>=n>>>0){if(o)i=e+1|0;else i=a[e+8>>2]|0;Kc(i|0,t|0,n|0)|0;r[i+n>>0]=0;if(!(r[e>>0]&1)){r[e>>0]=n<<1;break}else{a[e+4>>2]=n;break}}else{if(o)i=(i&255)>>>1;else i=a[e+4>>2]|0;dn(e,s,n-s|0,i,0,i,n,t)}}while(0);return e|0}function sn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;i=r[e>>0]|0;o=(i&1)==0;if(o)i=(i&255)>>>1;else i=a[e+4>>2]|0;do{if(i>>>0>=t>>>0){if(o){r[e+1+t>>0]=0;r[e>>0]=t<<1;break}else{r[(a[e+8>>2]|0)+t>>0]=0;a[e+4>>2]=t;break}}else ln(e,t-i|0,n)|0}while(0);return}function ln(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;if(t){i=r[e>>0]|0;if(!(i&1))o=10;else{i=a[e>>2]|0;o=(i&-2)+-1|0;i=i&255}if(!(i&1))s=(i&255)>>>1;else s=a[e+4>>2]|0;if((o-s|0)>>>0<t>>>0){pn(e,o,t-o+s|0,s,s,0,0);i=r[e>>0]|0}if(!(i&1))o=e+1|0;else o=a[e+8>>2]|0;Uc(o+s|0,n|0,t|0)|0;i=s+t|0;if(!(r[e>>0]&1))r[e>>0]=i<<1;else a[e+4>>2]=i;r[o+i>>0]=0}return e|0}function un(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0;if(t>>>0>4294967279)$h(e);n=r[e>>0]|0;if(!(n&1))i=10;else{n=a[e>>2]|0;i=(n&-2)+-1|0;n=n&255}if(!(n&1))u=(n&255)>>>1;else u=a[e+4>>2]|0;t=u>>>0>t>>>0?u:t;if(t>>>0<11)l=10;else l=(t+16&-16)+-1|0;do{if((l|0)!=(i|0)){do{if((l|0)!=10){t=ny(l+1|0)|0;if(!(n&1)){i=1;o=e+1|0;s=0;break}else{i=1;o=a[e+8>>2]|0;s=1;break}}else{t=e+1|0;i=0;o=a[e+8>>2]|0;s=1}}while(0);if(!(n&1))n=(n&255)>>>1;else n=a[e+4>>2]|0;zc(t|0,o|0,n+1|0)|0;if(s)ry(o);if(i){a[e>>2]=l+1|1;a[e+4>>2]=u;a[e+8>>2]=t;break}else{r[e>>0]=u<<1;break}}}while(0);return}function cn(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0;n=r[e>>0]|0;i=(n&1)!=0;if(i){o=(a[e>>2]&-2)+-1|0;s=a[e+4>>2]|0}else{o=10;s=(n&255)>>>1}if((s|0)==(o|0)){pn(e,o,1,o,o,0,0);if(!(r[e>>0]&1))i=7;else i=8}else if(i)i=8;else i=7;if((i|0)==7){r[e>>0]=(s<<1)+2;n=e+1|0}else if((i|0)==8){n=a[e+8>>2]|0;a[e+4>>2]=s+1}e=n+s|0;r[e>>0]=t;r[e+1>>0]=0;return}function fn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;i=r[e>>0]|0;if(!(i&1))o=10;else{i=a[e>>2]|0;o=(i&-2)+-1|0;i=i&255}if(!(i&1))s=(i&255)>>>1;else s=a[e+4>>2]|0;if((o-s|0)>>>0>=n>>>0){if(n){if(!(i&1))o=e+1|0;else o=a[e+8>>2]|0;zc(o+s|0,t|0,n|0)|0;i=s+n|0;if(!(r[e>>0]&1))r[e>>0]=i<<1;else a[e+4>>2]=i;r[o+i>>0]=0}}else dn(e,o,n-o+s|0,s,s,0,n,t);return e|0}function dn(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,f=0,d=0;if((-18-t|0)>>>0<n>>>0)$h(e);if(!(r[e>>0]&1))d=e+1|0;else d=a[e+8>>2]|0;if(t>>>0<2147483623){c=n+t|0;f=t<<1;c=c>>>0<f>>>0?f:c;c=c>>>0<11?11:c+16&-16}else c=-17;f=ny(c)|0;if(o)zc(f|0,d|0,o|0)|0;if(l)zc(f+o|0,u|0,l|0)|0;n=i-s|0;if((n|0)!=(o|0))zc(f+o+l|0,d+o+s|0,n-o|0)|0;if((t|0)!=10)ry(d);a[e+8>>2]=f;a[e>>2]=c|1;t=n+l|0;a[e+4>>2]=t;r[f+t>>0]=0;return}function pn(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,f=0;if((-17-t|0)>>>0<n>>>0)$h(e);if(!(r[e>>0]&1))f=e+1|0;else f=a[e+8>>2]|0;if(t>>>0<2147483623){u=n+t|0;c=t<<1;u=u>>>0<c>>>0?c:u;u=u>>>0<11?11:u+16&-16}else u=-17;c=ny(u)|0;if(o)zc(c|0,f|0,o|0)|0;n=i-s|0;if((n|0)!=(o|0))zc(c+o+l|0,f+o+s|0,n-o|0)|0;if((t|0)!=10)ry(f);a[e+8>>2]=c;a[e>>2]=u|1;return}function hn(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0;if(i>>>0>4294967279)$h(e);if(i>>>0<11){r[e>>0]=n<<1;i=e+1|0}else{o=i+16&-16;i=ny(o)|0;a[e+8>>2]=i;a[e>>2]=o|1;a[e+4>>2]=n}zc(i|0,t|0,n|0)|0;r[i+n>>0]=0;return}function yn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;if(n>>>0>1073741807)$h(e);if(n>>>0<2){r[e>>0]=n<<1;e=e+4|0}else{o=n+4&-4;i=ny(o<<2)|0;a[e+8>>2]=i;a[e>>2]=o|1;a[e+4>>2]=n;e=i}Sd(e,t,n)|0;a[e+(n<<2)>>2]=0;return}function mn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;if(t>>>0>1073741807)$h(e);if(t>>>0<2){r[e>>0]=t<<1;e=e+4|0}else{o=t+4&-4;i=ny(o<<2)|0;a[e+8>>2]=i;a[e>>2]=o|1;a[e+4>>2]=t;e=i}xd(e,n,t)|0;a[e+(t<<2)>>2]=0;return}function _n(e){e=e|0;if(r[e>>0]&1)ry(a[e+8>>2]|0);return}function gn(e,t){e=e|0;t=t|0;return bn(e,t,Id(t)|0)|0}function bn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;i=r[e>>0]|0;if(!(i&1))s=1;else{i=a[e>>2]|0;s=(i&-2)+-1|0;i=i&255}
o=(i&1)==0;do{if(s>>>0>=n>>>0){if(o)i=e+4|0;else i=a[e+8>>2]|0;Ad(i,t,n)|0;a[i+(n<<2)>>2]=0;if(!(r[e>>0]&1)){r[e>>0]=n<<1;break}else{a[e+4>>2]=n;break}}else{if(o)i=(i&255)>>>1;else i=a[e+4>>2]|0;kn(e,s,n-s|0,i,0,i,n,t)}}while(0);return e|0}function vn(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0;if(t>>>0>1073741807)$h(e);n=r[e>>0]|0;if(!(n&1))i=1;else{n=a[e>>2]|0;i=(n&-2)+-1|0;n=n&255}if(!(n&1))u=(n&255)>>>1;else u=a[e+4>>2]|0;t=u>>>0>t>>>0?u:t;if(t>>>0<2)l=1;else l=(t+4&-4)+-1|0;do{if((l|0)!=(i|0)){do{if((l|0)!=1){t=ny((l<<2)+4|0)|0;if(!(n&1)){i=1;o=e+4|0;s=0;break}else{i=1;o=a[e+8>>2]|0;s=1;break}}else{t=e+4|0;i=0;o=a[e+8>>2]|0;s=1}}while(0);if(!(n&1))n=(n&255)>>>1;else n=a[e+4>>2]|0;Sd(t,o,n+1|0)|0;if(s)ry(o);if(i){a[e>>2]=l+1|1;a[e+4>>2]=u;a[e+8>>2]=t;break}else{r[e>>0]=u<<1;break}}}while(0);return}function wn(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0;n=r[e>>0]|0;i=(n&1)!=0;if(i){o=(a[e>>2]&-2)+-1|0;s=a[e+4>>2]|0}else{o=1;s=(n&255)>>>1}if((s|0)==(o|0)){Sn(e,o,1,o,o,0,0);if(!(r[e>>0]&1))i=7;else i=8}else if(i)i=8;else i=7;if((i|0)==7){r[e>>0]=(s<<1)+2;n=e+4|0}else if((i|0)==8){n=a[e+8>>2]|0;a[e+4>>2]=s+1}e=n+(s<<2)|0;a[e>>2]=t;a[e+4>>2]=0;return}function kn(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,f=0,d=0;if((1073741806-t|0)>>>0<n>>>0)$h(e);if(!(r[e>>0]&1))d=e+4|0;else d=a[e+8>>2]|0;if(t>>>0<536870887){c=n+t|0;f=t<<1;c=c>>>0<f>>>0?f:c;c=c>>>0<2?2:c+4&-4}else c=1073741807;f=ny(c<<2)|0;if(o)Sd(f,d,o)|0;if(l)Sd(f+(o<<2)|0,u,l)|0;n=i-s|0;if((n|0)!=(o|0))Sd(f+(o<<2)+(l<<2)|0,d+(o<<2)+(s<<2)|0,n-o|0)|0;if((t|0)!=1)ry(d);a[e+8>>2]=f;a[e>>2]=c|1;t=n+l|0;a[e+4>>2]=t;a[f+(t<<2)>>2]=0;return}function Sn(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,f=0;if((1073741807-t|0)>>>0<n>>>0)$h(e);if(!(r[e>>0]&1))f=e+4|0;else f=a[e+8>>2]|0;if(t>>>0<536870887){u=n+t|0;c=t<<1;u=u>>>0<c>>>0?c:u;u=u>>>0<2?2:u+4&-4}else u=1073741807;c=ny(u<<2)|0;if(o)Sd(c,f,o)|0;n=i-s|0;if((n|0)!=(o|0))Sd(c+(o<<2)+(l<<2)|0,f+(o<<2)+(s<<2)|0,n-o|0)|0;if((t|0)!=1)ry(f);a[e+8>>2]=c;a[e>>2]=u|1;return}function In(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;o=t;i=n-o|0;if(i>>>0>4294967279)$h(e);if(i>>>0<11){r[e>>0]=i<<1;s=e+1|0}else{l=i+16&-16;s=ny(l)|0;a[e+8>>2]=s;a[e>>2]=l|1;a[e+4>>2]=i}e=n-o|0;i=s;while(1){if((t|0)==(n|0))break;r[i>>0]=r[t>>0]|0;t=t+1|0;i=i+1|0}r[s+e>>0]=0;return}function En(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;s=t;i=n-s|0;o=i>>2;if(o>>>0>1073741807)$h(e);if(o>>>0<2){r[e>>0]=i>>>1;e=e+4|0}else{l=o+4&-4;i=ny(l<<2)|0;a[e+8>>2]=i;a[e>>2]=l|1;a[e+4>>2]=o;e=i}o=(n-s|0)>>>2;i=e;while(1){if((t|0)==(n|0))break;a[i>>2]=a[t>>2];t=t+4|0;i=i+4|0}a[e+(o<<2)>>2]=0;return}function An(e){e=e|0;xn(e);return}function xn(e){e=e|0;a[e>>2]=7256;Cn(e,0);us(e+28|0);Pp(a[e+32>>2]|0);Pp(a[e+36>>2]|0);Pp(a[e+48>>2]|0);Pp(a[e+60>>2]|0);return}function Cn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0;n=e+32|0;r=e+36|0;i=a[e+40>>2]|0;while(1){if(!i)break;o=i+-1|0;Tm[a[(a[n>>2]|0)+(o<<2)>>2]&1](t,e,a[(a[r>>2]|0)+(o<<2)>>2]|0);i=o}return}function Tn(e){e=e|0;var t=0,n=0;n=f;f=f+16|0;t=n;ls(t,e+28|0);f=n;return a[t>>2]|0}function Pn(e,t){e=e|0;t=t|0;var n=0;a[e+24>>2]=t;a[e+16>>2]=(t|0)==0&1;a[e+20>>2]=0;a[e+4>>2]=4098;a[e+12>>2]=0;a[e+8>>2]=6;n=e+28|0;t=e+32|0;e=t+40|0;do{a[t>>2]=0;t=t+4|0}while((t|0)<(e|0));ss(n);return}function On(e){e=e|0;a[e>>2]=7192;us(e+4|0);return}function Nn(e){e=e|0;a[e>>2]=7192;us(e+4|0);ry(e);return}function Mn(e){e=e|0;a[e>>2]=7192;ss(e+4|0);e=e+8|0;a[e>>2]=0;a[e+4>>2]=0;a[e+8>>2]=0;a[e+12>>2]=0;a[e+16>>2]=0;a[e+20>>2]=0;return}function Rn(e,t){e=e|0;t=t|0;return}function Dn(e,t,n){e=e|0;t=t|0;n=n|0;return e|0}function Fn(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=-1;a[t+4>>2]=-1;return}function Bn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=-1;a[t+4>>2]=-1;return}function jn(e){e=e|0;return 0}function Ln(e){e=e|0;return 0}function Un(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;s=e+12|0;l=e+16|0;o=t;t=0;while(1){if((t|0)>=(n|0))break;i=a[s>>2]|0;if(i>>>0<(a[l>>2]|0)>>>0){a[s>>2]=i+1;i=r[i>>0]|0}else{i=Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;if((i|0)==-1)break;i=i&255}r[o>>0]=i;o=o+1|0;t=t+1|0}return t|0}function Hn(e){e=e|0;return-1}function Gn(e){e=e|0;var t=0;if((Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1)e=-1;else{t=e+12|0;e=a[t>>2]|0;a[t>>2]=e+1;e=o[e>>0]|0}return e|0}function zn(e,t){e=e|0;t=t|0;return-1}function Vn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,s=0,l=0,u=0,c=0;l=e+24|0;u=e+28|0;i=t;t=0;while(1){if((t|0)>=(n|0))break;s=a[l>>2]|0;if(s>>>0>=(a[u>>2]|0)>>>0){if((Rm[a[(a[e>>2]|0)+52>>2]&15](e,o[i>>0]|0)|0)==-1)break}else{c=r[i>>0]|0;a[l>>2]=s+1;r[s>>0]=c}i=i+1|0;t=t+1|0}return t|0}function Kn(e,t){e=e|0;t=t|0;return-1}function Wn(e){e=e|0;var t=0,n=0,i=0;n=f;f=f+16|0;t=n;if(a[e+(a[(a[e>>2]|0)+-12>>2]|0)+24>>2]|0){Zn(t,e);if((r[t>>0]|0)!=0?(i=a[e+(a[(a[e>>2]|0)+-12>>2]|0)+24>>2]|0,(Cm[a[(a[i>>2]|0)+24>>2]&63](i)|0)==-1):0){i=e+(a[(a[e>>2]|0)+-12>>2]|0)+16|0;a[i>>2]=a[i>>2]|1}$n(t)}f=n;return e|0}function qn(e,t){e=e|0;t=t|0;return}function Xn(e){e=e|0;xn(e+4|0);return}function Yn(e){e=e|0;xn(e+(a[(a[e>>2]|0)+-12>>2]|0)+4|0);return}function Jn(e){e=e|0;xn(e+4|0);ry(e);return}function Qn(e){e=e|0;Jn(e+(a[(a[e>>2]|0)+-12>>2]|0)|0);return}function Zn(e,t){e=e|0;t=t|0;r[e>>0]=0;a[e+4>>2]=t;t=t+(a[(a[t>>2]|0)+-12>>2]|0)|0;if(!(a[t+16>>2]|0)){t=a[t+72>>2]|0;if(t)Wn(t)|0;r[e>>0]=1}return}function $n(e){e=e|0;var t=0;e=e+4|0;t=a[e>>2]|0;t=t+(a[(a[t>>2]|0)+-12>>2]|0)|0;if(((((a[t+24>>2]|0)!=0?(a[t+16>>2]|0)==0:0)?(a[t+4>>2]&8192|0)!=0:0)?!(He()|0):0)?(t=a[e>>2]|0,t=a[t+(a[(a[t>>2]|0)+-12>>2]|0)+24>>2]|0,(Cm[a[(a[t>>2]|0)+24>>2]&63](t)|0)==-1):0){t=a[e>>2]|0;t=t+(a[(a[t>>2]|0)+-12>>2]|0)+16|0;a[t>>2]=a[t>>2]|1}return}function er(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0;p=f;f=f+32|0;l=p+16|0;u=p+12|0;d=p;n=p+8|0;Zn(d,e);if(r[d>>0]|0){a[n>>2]=Tn(e+(a[(a[e>>2]|0)+-12>>2]|0)|0)|0;c=fs(n,7540)|0;us(n);o=e+(a[(a[e>>2]|0)+-12>>2]|0)|0;s=a[o+24>>2]|0;i=o+76|0;n=a[i>>2]|0;if((n|0)==-1){a[l>>2]=Tn(o)|0;n=fs(l,8368)|0;n=Rm[a[(a[n>>2]|0)+28>>2]&15](n,32)|0;us(l);n=n<<24>>24;a[i>>2]=n}i=a[(a[c>>2]|0)+24>>2]|0;a[u>>2]=s;a[l>>2]=a[u>>2];if(!(Dm[i&31](c,l,o,n&255,t)|0)){t=e+(a[(a[e>>2]|0)+-12>>2]|0)+16|0;a[t>>2]=a[t>>2]|5}}$n(d);f=p;return e|0}function tr(e){e=e|0;xn(e);ry(e);return}function nr(e){e=e|0;return}function rr(e){e=e|0;return}function ir(e){e=e|0;ry(e);return}function ar(e,t,n,i,a){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;var o=0,s=0;while(1){if((i|0)==(a|0)){s=7;break}if((t|0)==(n|0)){t=-1;break}e=r[t>>0]|0;o=r[i>>0]|0;if(e<<24>>24<o<<24>>24){t=-1;break}if(o<<24>>24<e<<24>>24){t=1;break}i=i+1|0;t=t+1|0}if((s|0)==7)t=(t|0)!=(n|0)&1;return t|0}function or(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;In(e,n,r);return}function sr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0;e=0;while(1){if((t|0)==(n|0))break;i=(r[t>>0]|0)+(e<<4)|0;a=i&-268435456;e=(a>>>24|a)^i;t=t+1|0}return e|0}function lr(e){e=e|0;return}function ur(e){e=e|0;ry(e);return}function cr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0;while(1){if((r|0)==(i|0)){s=7;break}if((t|0)==(n|0)){t=-1;break}e=a[t>>2]|0;o=a[r>>2]|0;if((e|0)<(o|0)){t=-1;break}if((o|0)<(e|0)){t=1;break}r=r+4|0;t=t+4|0}if((s|0)==7)t=(t|0)!=(n|0)&1;return t|0}function fr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;En(e,n,r);return}function dr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;e=0;while(1){if((t|0)==(n|0))break;r=(a[t>>2]|0)+(e<<4)|0;i=r&-268435456;e=(i>>>24|i)^r;t=t+4|0}return e|0}function pr(e){e=e|0;return}function hr(e){e=e|0;ry(e);return}function yr(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;_=f;f=f+64|0;u=_+48|0;l=_+24|0;m=_+16|0;c=_+20|0;d=_+12|0;p=_+8|0;h=_+4|0;y=_;if(!(a[i+4>>2]&1)){a[m>>2]=-1;y=a[(a[e>>2]|0)+16>>2]|0;a[c>>2]=a[t>>2];a[d>>2]=a[n>>2];a[l>>2]=a[c>>2];a[u>>2]=a[d>>2];l=Am[y&63](e,l,u,i,o,m)|0;a[t>>2]=l;switch(a[m>>2]|0){case 0:{r[s>>0]=0;break}case 1:{r[s>>0]=1;break}default:{r[s>>0]=1;a[o>>2]=4}}}else{e=Tn(i)|0;a[p>>2]=e;m=fs(p,8368)|0;Fc(e)|0;i=Tn(i)|0;a[h>>2]=i;e=fs(h,8508)|0;Fc(i)|0
;Em[a[(a[e>>2]|0)+24>>2]&63](l,e);Em[a[(a[e>>2]|0)+28>>2]&63](l+12|0,e);a[y>>2]=a[n>>2];a[u>>2]=a[y>>2];r[s>>0]=(Ql(t,u,l,l+24|0,m,o,1)|0)==(l|0)&1;s=a[t>>2]|0;nn(l+12|0);nn(l);l=s}f=_;return l|0}function mr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=Zl(e,u,l,r,i,o)|0;f=s;return e|0}function _r(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=$l(e,u,l,r,i,o)|0;f=s;return e|0}function gr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=eu(e,u,l,r,i,o)|0;f=s;return e|0}function br(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=tu(e,u,l,r,i,o)|0;f=s;return e|0}function vr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=nu(e,u,l,r,i,o)|0;f=s;return e|0}function wr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=ru(e,u,l,r,i,o)|0;f=s;return e|0}function kr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=iu(e,u,l,r,i,o)|0;f=s;return e|0}function Sr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=au(e,u,l,r,i,o)|0;f=s;return e|0}function Ir(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=ou(e,u,l,r,i,o)|0;f=s;return e|0}function Er(e,t,n,i,s,l){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0;E=f;f=f+240|0;k=E;_=E+208|0;I=E+196|0;e=E+180|0;S=E+184|0;w=E+176|0;b=E+16|0;v=E+8|0;g=E+4|0;u=0;while(1){if((u|0)==3)break;a[I+(u<<2)>>2]=0;u=u+1|0}m=Tn(i)|0;a[e>>2]=m;e=fs(e,8368)|0;Nm[a[(a[e>>2]|0)+32>>2]&7](e,21003,21029,_)|0;Fc(m)|0;e=0;while(1){if((e|0)==3)break;a[S+(e<<2)>>2]=0;e=e+1|0}if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);y=S+8|0;m=S+1|0;u=(r[S>>0]&1)==0?m:a[y>>2]|0;a[w>>2]=u;a[v>>2]=b;a[g>>2]=0;h=S+4|0;e=a[t>>2]|0;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;c=(e|0)==0;i=a[n>>2]|0;do{if(i){if((a[i+12>>2]|0)!=(a[i+16>>2]|0))if(c)break;else break e;if((Cm[a[(a[i>>2]|0)+36>>2]&63](i)|0)!=-1){if(c)break;else break e}else{a[n>>2]=0;A=19;break}}else A=19}while(0);if((A|0)==19){A=0;if(c){i=0;break}else i=0}c=r[S>>0]|0;c=(c&1)==0?(c&255)>>>1:a[h>>2]|0;if((a[w>>2]|0)==(u+c|0)){sn(S,c<<1,0);if(!(r[S>>0]&1))u=10;else u=(a[S>>2]&-2)+-1|0;sn(S,u,0);u=(r[S>>0]&1)==0?m:a[y>>2]|0;a[w>>2]=u+c}d=e+12|0;c=a[d>>2]|0;p=e+16|0;if((c|0)==(a[p>>2]|0))c=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else c=o[c>>0]|0;if(Ar(c&255,16,u,w,g,0,I,b,v,_)|0)break;i=a[d>>2]|0;if((i|0)==(a[p>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[d>>2]=i+1;continue}}sn(S,(a[w>>2]|0)-u|0,0);v=(r[S>>0]&1)==0?m:a[y>>2]|0;w=xr()|0;a[k>>2]=l;if((su(v,w,22387,k)|0)!=1)a[s>>2]=4;if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(i){if((a[i+12>>2]|0)==(a[i+16>>2]|0)?(Cm[a[(a[i>>2]|0)+36>>2]&63](i)|0)==-1:0){a[n>>2]=0;A=43;break}if(!e)A=44}else A=43}while(0);if((A|0)==43?e:0)A=44;if((A|0)==44)a[s>>2]=a[s>>2]|2;A=a[t>>2]|0;nn(S);nn(I);f=E;return A|0}function Ar(e,t,n,i,o,s,l,u,c,f){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;c=c|0;f=f|0;var d=0,p=0,h=0,y=0;h=a[i>>2]|0;y=(h|0)==(n|0);do{if(y){d=(r[f+24>>0]|0)==e<<24>>24;if(!d?(r[f+25>>0]|0)!=e<<24>>24:0){p=5;break}a[i>>2]=n+1;r[n>>0]=d?43:45;a[o>>2]=0;d=0}else p=5}while(0);e:do{if((p|0)==5){p=r[l>>0]|0;if(e<<24>>24==s<<24>>24?(((p&1)==0?(p&255)>>>1:a[l+4>>2]|0)|0)!=0:0){d=a[c>>2]|0;if((d-u|0)>=160){d=0;break}t=a[o>>2]|0;a[c>>2]=d+4;a[d>>2]=t;a[o>>2]=0;d=0;break}l=f+26|0;d=f;while(1){if((d|0)==(l|0)){d=l;break}if((r[d>>0]|0)==e<<24>>24)break;d=d+1|0}d=d-f|0;if((d|0)>23)d=-1;else{switch(t|0){case 10:case 8:{if((d|0)>=(t|0)){d=-1;break e}break}case 16:{if((d|0)>=22){if(y){d=-1;break e}if((h-n|0)>=3){d=-1;break e}if((r[h+-1>>0]|0)!=48){d=-1;break e}a[o>>2]=0;d=r[21003+d>>0]|0;a[i>>2]=h+1;r[h>>0]=d;d=0;break e}break}default:{}}d=r[21003+d>>0]|0;a[i>>2]=h+1;r[h>>0]=d;a[o>>2]=(a[o>>2]|0)+1;d=0}}}while(0);return d|0}function xr(){if((r[1440]|0)==0?(Re(1440)|0)!=0:0){a[2233]=dd(2147483647,22390,0)|0;xt(1440)}return a[2233]|0}function Cr(e){e=e|0;return}function Tr(e){e=e|0;ry(e);return}function Pr(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;_=f;f=f+64|0;u=_+48|0;l=_+24|0;m=_+16|0;c=_+20|0;d=_+12|0;p=_+8|0;h=_+4|0;y=_;if(!(a[i+4>>2]&1)){a[m>>2]=-1;y=a[(a[e>>2]|0)+16>>2]|0;a[c>>2]=a[t>>2];a[d>>2]=a[n>>2];a[l>>2]=a[c>>2];a[u>>2]=a[d>>2];l=Am[y&63](e,l,u,i,o,m)|0;a[t>>2]=l;switch(a[m>>2]|0){case 0:{r[s>>0]=0;break}case 1:{r[s>>0]=1;break}default:{r[s>>0]=1;a[o>>2]=4}}}else{e=Tn(i)|0;a[p>>2]=e;m=fs(p,8360)|0;Fc(e)|0;i=Tn(i)|0;a[h>>2]=i;e=fs(h,8516)|0;Fc(i)|0;Em[a[(a[e>>2]|0)+24>>2]&63](l,e);Em[a[(a[e>>2]|0)+28>>2]&63](l+12|0,e);a[y>>2]=a[n>>2];a[u>>2]=a[y>>2];r[s>>0]=(lu(t,u,l,l+24|0,m,o,1)|0)==(l|0)&1;s=a[t>>2]|0;_n(l+12|0);_n(l);l=s}f=_;return l|0}function Or(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=uu(e,u,l,r,i,o)|0;f=s;return e|0}function Nr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=cu(e,u,l,r,i,o)|0;f=s;return e|0}function Mr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=fu(e,u,l,r,i,o)|0;f=s;return e|0}function Rr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=du(e,u,l,r,i,o)|0;f=s;return e|0}function Dr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=pu(e,u,l,r,i,o)|0;f=s;return e|0}function Fr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=hu(e,u,l,r,i,o)|0;f=s;return e|0}function Br(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=yu(e,u,l,r,i,o)|0;f=s;return e|0}function jr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=mu(e,u,l,r,i,o)|0;f=s;return e|0}function Lr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=_u(e,u,l,r,i,o)|0;f=s;return e|0}function Ur(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0
;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0;I=f;f=f+320|0;w=I;m=I+208|0;S=I+196|0;e=I+180|0;k=I+184|0;v=I+176|0;g=I+16|0;b=I+8|0;_=I+4|0;l=0;while(1){if((l|0)==3)break;a[S+(l<<2)>>2]=0;l=l+1|0}y=Tn(i)|0;a[e>>2]=y;e=fs(e,8360)|0;Nm[a[(a[e>>2]|0)+48>>2]&7](e,21003,21029,m)|0;Fc(y)|0;e=0;while(1){if((e|0)==3)break;a[k+(e<<2)>>2]=0;e=e+1|0}if(!(r[k>>0]&1))e=10;else e=(a[k>>2]&-2)+-1|0;sn(k,e,0);h=k+8|0;y=k+1|0;e=(r[k>>0]&1)==0?y:a[h>>2]|0;a[v>>2]=e;a[b>>2]=g;a[_>>2]=0;p=k+4|0;l=a[t>>2]|0;e:while(1){if(l){i=a[l+12>>2]|0;if((i|0)==(a[l+16>>2]|0))i=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else i=a[i>>2]|0;if((i|0)==-1){a[t>>2]=0;l=0;u=1}else u=0}else{l=0;u=1}c=a[n>>2]|0;do{if(c){i=a[c+12>>2]|0;if((i|0)==(a[c+16>>2]|0))i=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else i=a[i>>2]|0;if((i|0)!=-1){if(u){i=c;break}else{i=c;break e}}else{a[n>>2]=0;E=22;break}}else E=22}while(0);if((E|0)==22){E=0;if(u){i=0;break}else i=0}u=r[k>>0]|0;u=(u&1)==0?(u&255)>>>1:a[p>>2]|0;if((a[v>>2]|0)==(e+u|0)){sn(k,u<<1,0);if(!(r[k>>0]&1))e=10;else e=(a[k>>2]&-2)+-1|0;sn(k,e,0);e=(r[k>>0]&1)==0?y:a[h>>2]|0;a[v>>2]=e+u}c=l+12|0;u=a[c>>2]|0;d=l+16|0;if((u|0)==(a[d>>2]|0))u=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else u=a[u>>2]|0;if(Hr(u,16,e,v,_,0,S,g,b,m)|0)break;i=a[c>>2]|0;if((i|0)==(a[d>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[c>>2]=i+4;continue}}sn(k,(a[v>>2]|0)-e|0,0);b=(r[k>>0]&1)==0?y:a[h>>2]|0;v=xr()|0;a[w>>2]=s;if((su(b,v,22387,w)|0)!=1)a[o>>2]=4;if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=1}else l=0}else l=1;do{if(i){e=a[i+12>>2]|0;if((e|0)==(a[i+16>>2]|0))e=Cm[a[(a[i>>2]|0)+36>>2]&63](i)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(l)break;else{E=51;break}}else{a[n>>2]=0;E=49;break}}else E=49}while(0);if((E|0)==49?l:0)E=51;if((E|0)==51)a[o>>2]=a[o>>2]|2;E=a[t>>2]|0;nn(k);nn(S);f=I;return E|0}function Hr(e,t,n,i,o,s,l,u,c,f){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;c=c|0;f=f|0;var d=0,p=0,h=0,y=0;h=a[i>>2]|0;y=(h|0)==(n|0);do{if(y){d=(a[f+96>>2]|0)==(e|0);if(!d?(a[f+100>>2]|0)!=(e|0):0){p=5;break}a[i>>2]=n+1;r[n>>0]=d?43:45;a[o>>2]=0;d=0}else p=5}while(0);e:do{if((p|0)==5){p=r[l>>0]|0;if((e|0)==(s|0)?(((p&1)==0?(p&255)>>>1:a[l+4>>2]|0)|0)!=0:0){d=a[c>>2]|0;if((d-u|0)>=160){d=0;break}t=a[o>>2]|0;a[c>>2]=d+4;a[d>>2]=t;a[o>>2]=0;d=0;break}l=f+104|0;d=f;while(1){if((d|0)==(l|0)){d=l;break}if((a[d>>2]|0)==(e|0))break;d=d+4|0}d=d-f|0;l=d>>2;if((d|0)>92)d=-1;else{switch(t|0){case 10:case 8:{if((l|0)>=(t|0)){d=-1;break e}break}case 16:{if((d|0)>=88){if(y){d=-1;break e}if((h-n|0)>=3){d=-1;break e}if((r[h+-1>>0]|0)!=48){d=-1;break e}a[o>>2]=0;d=r[21003+l>>0]|0;a[i>>2]=h+1;r[h>>0]=d;d=0;break e}break}default:{}}d=r[21003+l>>0]|0;a[i>>2]=h+1;r[h>>0]=d;a[o>>2]=(a[o>>2]|0)+1;d=0}}}while(0);return d|0}function Gr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0;o=f;f=f+16|0;s=o;t=Tn(t)|0;a[s>>2]=t;l=fs(s,8368)|0;Nm[a[(a[l>>2]|0)+32>>2]&7](l,21003,21029,n)|0;n=fs(s,8508)|0;r[i>>0]=Cm[a[(a[n>>2]|0)+16>>2]&63](n)|0;Em[a[(a[n>>2]|0)+20>>2]&63](e,n);Fc(t)|0;f=o;return}function zr(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0;s=f;f=f+16|0;l=s;t=Tn(t)|0;a[l>>2]=t;u=fs(l,8368)|0;Nm[a[(a[u>>2]|0)+32>>2]&7](u,21003,21035,n)|0;n=fs(l,8508)|0;r[i>>0]=Cm[a[(a[n>>2]|0)+12>>2]&63](n)|0;r[o>>0]=Cm[a[(a[n>>2]|0)+16>>2]&63](n)|0;Em[a[(a[n>>2]|0)+20>>2]&63](e,n);Fc(t)|0;f=s;return}function Vr(e,t,n,i,s,l,u,c,f,d,p,h){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;u=u|0;c=c|0;f=f|0;d=d|0;p=p|0;h=h|0;var y=0,m=0;e:do{if(e<<24>>24==l<<24>>24){if(r[t>>0]|0){r[t>>0]=0;n=a[s>>2]|0;a[s>>2]=n+1;r[n>>0]=46;n=r[c>>0]|0;if((((n&1)==0?(n&255)>>>1:a[c+4>>2]|0)|0)!=0?(y=a[d>>2]|0,(y-f|0)<160):0){f=a[p>>2]|0;a[d>>2]=y+4;a[y>>2]=f;y=0}else y=0}else y=-1}else{if(e<<24>>24==u<<24>>24?(u=r[c>>0]|0,(((u&1)==0?(u&255)>>>1:a[c+4>>2]|0)|0)!=0):0){if(!(r[t>>0]|0)){y=-1;break}y=a[d>>2]|0;if((y-f|0)>=160){y=0;break}f=a[p>>2]|0;a[d>>2]=y+4;a[y>>2]=f;a[p>>2]=0;y=0;break}l=h+32|0;y=h;while(1){if((y|0)==(l|0)){y=l;break}if((r[y>>0]|0)==e<<24>>24)break;y=y+1|0}l=y-h|0;if((l|0)>31)y=-1;else{u=r[21003+l>>0]|0;switch(l|0){case 24:case 25:{y=a[s>>2]|0;if((y|0)!=(i|0)?(o[y+-1>>0]&95|0)!=(o[n>>0]&127|0):0){y=-1;break e}a[s>>2]=y+1;r[y>>0]=u;y=0;break e}case 23:case 22:{r[n>>0]=80;y=a[s>>2]|0;a[s>>2]=y+1;r[y>>0]=u;y=0;break e}default:{y=u&95;if((((y|0)==(r[n>>0]|0)?(r[n>>0]=y|128,(r[t>>0]|0)!=0):0)?(r[t>>0]=0,n=r[c>>0]|0,(((n&1)==0?(n&255)>>>1:a[c+4>>2]|0)|0)!=0):0)?(m=a[d>>2]|0,(m-f|0)<160):0){f=a[p>>2]|0;a[d>>2]=m+4;a[m>>2]=f}d=a[s>>2]|0;a[s>>2]=d+1;r[d>>0]=u;if((l|0)>21){y=0;break e}a[p>>2]=(a[p>>2]|0)+1;y=0;break e}}}}}while(0);return y|0}function Kr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0,s=0;i=f;f=f+16|0;o=i;t=Tn(t)|0;a[o>>2]=t;s=fs(o,8360)|0;Nm[a[(a[s>>2]|0)+48>>2]&7](s,21003,21029,n)|0;n=fs(o,8516)|0;a[r>>2]=Cm[a[(a[n>>2]|0)+16>>2]&63](n)|0;Em[a[(a[n>>2]|0)+20>>2]&63](e,n);Fc(t)|0;f=i;return}function Wr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0;o=f;f=f+16|0;s=o;t=Tn(t)|0;a[s>>2]=t;l=fs(s,8360)|0;Nm[a[(a[l>>2]|0)+48>>2]&7](l,21003,21035,n)|0;n=fs(s,8516)|0;a[r>>2]=Cm[a[(a[n>>2]|0)+12>>2]&63](n)|0;a[i>>2]=Cm[a[(a[n>>2]|0)+16>>2]&63](n)|0;Em[a[(a[n>>2]|0)+20>>2]&63](e,n);Fc(t)|0;f=o;return}function qr(e,t,n,i,s,l,u,c,f,d,p,h){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;u=u|0;c=c|0;f=f|0;d=d|0;p=p|0;h=h|0;var y=0,m=0;e:do{if((e|0)==(l|0)){if(r[t>>0]|0){r[t>>0]=0;n=a[s>>2]|0;a[s>>2]=n+1;r[n>>0]=46;n=r[c>>0]|0;if((((n&1)==0?(n&255)>>>1:a[c+4>>2]|0)|0)!=0?(y=a[d>>2]|0,(y-f|0)<160):0){f=a[p>>2]|0;a[d>>2]=y+4;a[y>>2]=f;y=0}else y=0}else y=-1}else{if((e|0)==(u|0)?(u=r[c>>0]|0,(((u&1)==0?(u&255)>>>1:a[c+4>>2]|0)|0)!=0):0){if(!(r[t>>0]|0)){y=-1;break}y=a[d>>2]|0;if((y-f|0)>=160){y=0;break}f=a[p>>2]|0;a[d>>2]=y+4;a[y>>2]=f;a[p>>2]=0;y=0;break}l=h+128|0;y=h;while(1){if((y|0)==(l|0)){y=l;break}if((a[y>>2]|0)==(e|0))break;y=y+4|0}l=y-h|0;y=l>>2;if((l|0)<=124){u=r[21003+y>>0]|0;switch(y|0){case 24:case 25:{y=a[s>>2]|0;if((y|0)!=(i|0)?(o[y+-1>>0]&95|0)!=(o[n>>0]&127|0):0){y=-1;break e}a[s>>2]=y+1;r[y>>0]=u;y=0;break e}case 23:case 22:{r[n>>0]=80;break}default:{y=u&95;if((((y|0)==(r[n>>0]|0)?(r[n>>0]=y|128,(r[t>>0]|0)!=0):0)?(r[t>>0]=0,n=r[c>>0]|0,(((n&1)==0?(n&255)>>>1:a[c+4>>2]|0)|0)!=0):0)?(m=a[d>>2]|0,(m-f|0)<160):0){f=a[p>>2]|0;a[d>>2]=m+4;a[m>>2]=f}}}d=a[s>>2]|0;a[s>>2]=d+1;r[d>>0]=u;if((l|0)>84)y=0;else{a[p>>2]=(a[p>>2]|0)+1;y=0}}else y=-1}}while(0);return y|0}function Xr(e){e=e|0;return}function Yr(e){e=e|0;ry(e);return}function Jr(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0;p=f;f=f+32|0;d=p+8|0;s=p+4|0;l=p;if(!(a[n+4>>2]&1)){c=a[(a[e>>2]|0)+24>>2]|0;a[s>>2]=a[t>>2];a[d>>2]=a[s>>2];s=Dm[c&31](e,d,n,i,o&1)|0}else{c=Tn(n)|0;a[l>>2]=c;s=fs(l,8508)|0;Fc(c)|0;l=a[s>>2]|0;if(o)Em[a[l+24>>2]&63](d,s);else Em[a[l+28>>2]&63](d,s);s=r[d>>0]|0;n=(s&1)==0;c=d+1|0;o=d+8|0;e=n?c:d+1|0;u=d+4|0;c=n?c:a[d+8>>2]|0;while(1){n=(s&1)==0;if((c|0)==((n?e:a[o>>2]|0)+(n?(s&255)>>>1:a[u>>2]|0)|0))break;s=r[c>>0]|0;l=a[t>>2]|0;do{if(l){i=l+24|0;n=a[i>>2]|0;if((n|0)!=(a[l+28>>2]|0)){a[i>>2]=n+1;r[n>>0]=s;break}if((Rm[a[(a[l>>2]|0)+52>>2]&15](l,s&255)|0)==-1)a[t>>2]=0}}while(0);s=r[d>>0]|0;c=c+1|0}s=a[t>>2]|0;nn(d)}f=p;return s|0}function Qr(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0;s=f;f=f+64|0;u=s;h=s+56|0;m=s+44|0;l=s+20|0;d=s+16|0;e=s+8|0;p=s+12|0;c=s+4|0;r[h>>0]=r[22392]|0;r[h+1>>0]=r[22393]|0;r[h+2>>0]=r[22394]|0;r[h+3>>0]=r[22395]|0;r[h+4>>0]=r[22396]|0;r[h+5>>0]=r[22397]|0;Zr(h+1|0,22398,1,a[n+4>>2]|0);y=xr()|0;a[u>>2]=o;h=m+(gu(m,12,y,h,u)|0)|0;y=$r(m,h,n)|0;o=Tn(n)|0;a[p>>2]=o;ei(m,y,h,l,d,e,p);Fc(o)|0;a[c>>2]=a[t>>2];o=a[d>>2]|0;e=a[e>>2]|0;a[u>>2]=a[c>>2];e=bu(u,l,o,e,n,i)|0;f=s;return e|0}function Zr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var a=0;if(i&2048){r[e>>0]=43;e=e+1|0}if(!(i&512))a=t;else{r[e>>0]=35;a=t;e=e+1|0}while(1){t=r[a>>0]|0;if(!(t<<24>>24))break;r[e>>0]=t;a=a+1|0;e=e+1|0}e:do{switch(i&74|0){case 64:{r[e>>0]=111;break}case 8:if(!(i&16384)){r[e>>0]=120;break e}else{r[e>>0]=88;break e}
default:if(n){r[e>>0]=100;break e}else{r[e>>0]=117;break e}}}while(0);return}function $r(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;e:do{switch(a[n+4>>2]&176|0){case 16:{n=r[e>>0]|0;switch(n<<24>>24){case 43:case 45:{e=e+1|0;break e}default:{}}if((t-e|0)>1&n<<24>>24==48){switch(r[e+1>>0]|0){case 88:case 120:break;default:{i=7;break e}}e=e+2|0}else i=7;break}case 32:{e=t;break}default:i=7}}while(0);return e|0}function ei(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0;b=f;f=f+16|0;g=b;_=fs(l,8368)|0;d=fs(l,8508)|0;Em[a[(a[d>>2]|0)+20>>2]&63](g,d);y=r[g>>0]|0;m=g+4|0;if(((y&1)==0?(y&255)>>>1:a[m>>2]|0)|0){a[s>>2]=i;l=r[e>>0]|0;switch(l<<24>>24){case 43:case 45:{y=Rm[a[(a[_>>2]|0)+28>>2]&15](_,l)|0;u=a[s>>2]|0;a[s>>2]=u+1;r[u>>0]=y;u=e+1|0;break}default:u=e}e:do{if((n-u|0)>1?(r[u>>0]|0)==48:0){l=u+1|0;switch(r[l>>0]|0){case 88:case 120:break;default:break e}y=Rm[a[(a[_>>2]|0)+28>>2]&15](_,48)|0;h=a[s>>2]|0;a[s>>2]=h+1;r[h>>0]=y;h=Rm[a[(a[_>>2]|0)+28>>2]&15](_,r[l>>0]|0)|0;y=a[s>>2]|0;a[s>>2]=y+1;r[y>>0]=h;u=u+2|0}}while(0);e:do{if((u|0)!=(n|0)){l=n;c=u;while(1){l=l+-1|0;if(c>>>0>=l>>>0)break e;y=r[c>>0]|0;r[c>>0]=r[l>>0]|0;r[l>>0]=y;c=c+1|0}}}while(0);d=Cm[a[(a[d>>2]|0)+16>>2]&63](d)|0;p=g+8|0;h=g+1|0;l=0;c=0;y=u;while(1){if(y>>>0>=n>>>0)break;v=r[((r[g>>0]&1)==0?h:a[p>>2]|0)+c>>0]|0;if(v<<24>>24!=0&(l|0)==(v<<24>>24|0)){v=a[s>>2]|0;a[s>>2]=v+1;r[v>>0]=d;v=r[g>>0]|0;l=0;c=(c>>>0<(((v&1)==0?(v&255)>>>1:a[m>>2]|0)+-1|0)>>>0&1)+c|0}w=Rm[a[(a[_>>2]|0)+28>>2]&15](_,r[y>>0]|0)|0;v=a[s>>2]|0;a[s>>2]=v+1;r[v>>0]=w;l=l+1|0;y=y+1|0}l=i+(u-e)|0;u=a[s>>2]|0;if((l|0)!=(u|0)){while(1){u=u+-1|0;if(l>>>0>=u>>>0)break;w=r[l>>0]|0;r[l>>0]=r[u>>0]|0;r[u>>0]=w;l=l+1|0}l=a[s>>2]|0}}else{Nm[a[(a[_>>2]|0)+32>>2]&7](_,e,n,i)|0;l=i+(n-e)|0;a[s>>2]=l}a[o>>2]=(t|0)==(n|0)?l:i+(t-e)|0;nn(g);f=b;return}function ti(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;s=f;f=f+96|0;u=s+8|0;h=s;y=s+74|0;l=s+32|0;d=s+28|0;e=s+20|0;p=s+24|0;c=s+16|0;m=h;a[m>>2]=37;a[m+4>>2]=0;Zr(h+1|0,22400,1,a[n+4>>2]|0);m=xr()|0;_=u;a[_>>2]=i;a[_+4>>2]=o;i=y+(gu(y,22,m,h,u)|0)|0;h=$r(y,i,n)|0;o=Tn(n)|0;a[p>>2]=o;ei(y,h,i,l,d,e,p);Fc(o)|0;a[c>>2]=a[t>>2];t=a[d>>2]|0;e=a[e>>2]|0;a[u>>2]=a[c>>2];e=bu(u,l,t,e,n,r)|0;f=s;return e|0}function ni(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0;s=f;f=f+64|0;u=s;h=s+56|0;m=s+44|0;l=s+20|0;d=s+16|0;e=s+8|0;p=s+12|0;c=s+4|0;r[h>>0]=r[22392]|0;r[h+1>>0]=r[22393]|0;r[h+2>>0]=r[22394]|0;r[h+3>>0]=r[22395]|0;r[h+4>>0]=r[22396]|0;r[h+5>>0]=r[22397]|0;Zr(h+1|0,22398,0,a[n+4>>2]|0);y=xr()|0;a[u>>2]=o;h=m+(gu(m,12,y,h,u)|0)|0;y=$r(m,h,n)|0;o=Tn(n)|0;a[p>>2]=o;ei(m,y,h,l,d,e,p);Fc(o)|0;a[c>>2]=a[t>>2];o=a[d>>2]|0;e=a[e>>2]|0;a[u>>2]=a[c>>2];e=bu(u,l,o,e,n,i)|0;f=s;return e|0}function ri(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;s=f;f=f+112|0;u=s+8|0;h=s;y=s+75|0;l=s+32|0;d=s+28|0;e=s+20|0;p=s+24|0;c=s+16|0;m=h;a[m>>2]=37;a[m+4>>2]=0;Zr(h+1|0,22400,0,a[n+4>>2]|0);m=xr()|0;_=u;a[_>>2]=i;a[_+4>>2]=o;i=y+(gu(y,23,m,h,u)|0)|0;h=$r(y,i,n)|0;o=Tn(n)|0;a[p>>2]=o;ei(y,h,i,l,d,e,p);Fc(o)|0;a[c>>2]=a[t>>2];t=a[d>>2]|0;e=a[e>>2]|0;a[u>>2]=a[c>>2];e=bu(u,l,t,e,n,r)|0;f=s;return e|0}function ii(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;var o=0,s=0,l=0,u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;w=f;f=f+160|0;y=w+68|0;u=w+32|0;s=w+24|0;o=w+8|0;l=w;p=w+130|0;d=w+64|0;h=w+72|0;v=w+60|0;b=w+56|0;m=w+52|0;_=w+48|0;x=l;a[x>>2]=37;a[x+4>>2]=0;x=ai(l+1|0,22403,a[n+4>>2]|0)|0;a[d>>2]=p;e=xr()|0;if(x){a[o>>2]=a[n+8>>2];c[o+8>>3]=i;e=gu(p,30,e,l,o)|0}else{c[s>>3]=i;e=gu(p,30,e,l,s)|0}if((e|0)>29){o=xr()|0;a[u>>2]=a[n+8>>2];c[u+8>>3]=i;o=vu(d,o,l,u)|0;e=a[d>>2]|0;if(!e)Uy();else{k=e;E=e;g=o}}else{k=a[d>>2]|0;E=0;g=e}o=k+g|0;s=$r(k,o,n)|0;if((k|0)!=(p|0)){e=Tp(g<<1)|0;if(!e)Uy();else{S=k;I=e;A=e}}else{S=p;I=0;A=h}x=Tn(n)|0;a[m>>2]=x;oi(S,s,o,A,v,b,m);Fc(x)|0;a[_>>2]=a[t>>2];t=a[v>>2]|0;x=a[b>>2]|0;a[y>>2]=a[_>>2];x=bu(y,A,t,x,n,r)|0;Pp(I);Pp(E);f=w;return x|0}function ai(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,o=0,s=0;if(n&2048){r[e>>0]=43;e=e+1|0}if(n&1024){r[e>>0]=35;e=e+1|0}o=n&260;i=n>>>14;s=(o|0)==260;if(s)a=0;else{r[e>>0]=46;r[e+1>>0]=42;e=e+2|0;a=1}while(1){n=r[t>>0]|0;if(!(n<<24>>24))break;r[e>>0]=n;t=t+1|0;e=e+1|0}e:do{switch(o|0){case 4:if(!(i&1)){r[e>>0]=102;break e}else{r[e>>0]=70;break e}case 256:if(!(i&1)){r[e>>0]=101;break e}else{r[e>>0]=69;break e}default:{n=(i&1|0)!=0;if(s){if(n){r[e>>0]=65;break e}else{r[e>>0]=97;break e}}else if(n){r[e>>0]=71;break e}else{r[e>>0]=103;break e}}}}while(0);return a|0}function oi(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0;S=f;f=f+16|0;w=S;v=fs(l,8368)|0;g=fs(l,8508)|0;Em[a[(a[g>>2]|0)+20>>2]&63](w,g);a[s>>2]=i;l=r[e>>0]|0;switch(l<<24>>24){case 43:case 45:{b=Rm[a[(a[v>>2]|0)+28>>2]&15](v,l)|0;u=a[s>>2]|0;a[s>>2]=u+1;r[u>>0]=b;u=e+1|0;break}default:u=e}b=n;e:do{if((b-u|0)>1?(r[u>>0]|0)==48:0){l=u+1|0;switch(r[l>>0]|0){case 88:case 120:break;default:{l=u;k=10;break e}}m=Rm[a[(a[v>>2]|0)+28>>2]&15](v,48)|0;_=a[s>>2]|0;a[s>>2]=_+1;r[_>>0]=m;u=u+2|0;_=Rm[a[(a[v>>2]|0)+28>>2]&15](v,r[l>>0]|0)|0;l=a[s>>2]|0;a[s>>2]=l+1;r[l>>0]=_;l=u;while(1){if(l>>>0>=n>>>0)break e;_=r[l>>0]|0;if(!(md(_,xr()|0)|0))break e;l=l+1|0}}else{l=u;k=10}}while(0);e:do{if((k|0)==10)while(1){k=0;if(l>>>0>=n>>>0)break e;_=r[l>>0]|0;if(!(pd(_,xr()|0)|0))break e;l=l+1|0;k=10}}while(0);m=r[w>>0]|0;_=w+4|0;e:do{if(((m&1)==0?(m&255)>>>1:a[_>>2]|0)|0){t:do{if((u|0)!=(l|0)){c=l;d=u;while(1){c=c+-1|0;if(d>>>0>=c>>>0)break t;m=r[d>>0]|0;r[d>>0]=r[c>>0]|0;r[c>>0]=m;d=d+1|0}}}while(0);p=Cm[a[(a[g>>2]|0)+16>>2]&63](g)|0;h=w+8|0;y=w+1|0;c=0;d=0;m=u;while(1){if(m>>>0>=l>>>0)break;I=r[((r[w>>0]&1)==0?y:a[h>>2]|0)+d>>0]|0;if(I<<24>>24>0&(c|0)==(I<<24>>24|0)){I=a[s>>2]|0;a[s>>2]=I+1;r[I>>0]=p;I=r[w>>0]|0;c=0;d=(d>>>0<(((I&1)==0?(I&255)>>>1:a[_>>2]|0)+-1|0)>>>0&1)+d|0}E=Rm[a[(a[v>>2]|0)+28>>2]&15](v,r[m>>0]|0)|0;I=a[s>>2]|0;a[s>>2]=I+1;r[I>>0]=E;c=c+1|0;m=m+1|0}c=i+(u-e)|0;u=a[s>>2]|0;if((c|0)==(u|0))c=v;else while(1){u=u+-1|0;if(c>>>0>=u>>>0){c=v;break e}E=r[c>>0]|0;r[c>>0]=r[u>>0]|0;r[u>>0]=E;c=c+1|0}}else{Nm[a[(a[v>>2]|0)+32>>2]&7](v,u,l,a[s>>2]|0)|0;a[s>>2]=(a[s>>2]|0)+(l-u);c=v}}while(0);while(1){if(l>>>0>=n>>>0)break;u=r[l>>0]|0;if(u<<24>>24==46){k=29;break}I=Rm[a[(a[c>>2]|0)+28>>2]&15](v,u)|0;E=a[s>>2]|0;a[s>>2]=E+1;r[E>>0]=I;l=l+1|0}if((k|0)==29){I=Cm[a[(a[g>>2]|0)+12>>2]&63](g)|0;E=a[s>>2]|0;a[s>>2]=E+1;r[E>>0]=I;l=l+1|0}Nm[a[(a[v>>2]|0)+32>>2]&7](v,l,n,a[s>>2]|0)|0;E=(a[s>>2]|0)+(b-l)|0;a[s>>2]=E;a[o>>2]=(t|0)==(n|0)?E:i+(t-e)|0;nn(w);f=S;return}function si(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;var o=0,s=0,l=0,u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0;S=f;f=f+176|0;_=S+76|0;p=S+48|0;d=S+32|0;s=S+24|0;o=S+8|0;u=S;y=S+138|0;h=S+72|0;m=S+80|0;k=S+68|0;w=S+64|0;g=S+60|0;b=S+56|0;l=u;a[l>>2]=37;a[l+4>>2]=0;l=ai(u+1|0,22404,a[n+4>>2]|0)|0;a[h>>2]=y;e=xr()|0;if(l){a[o>>2]=a[n+8>>2];c[o+8>>3]=i;e=gu(y,30,e,u,o)|0}else{c[s>>3]=i;e=gu(y,30,e,u,s)|0}if((e|0)>29){e=xr()|0;if(l){a[d>>2]=a[n+8>>2];c[d+8>>3]=i;o=vu(h,e,u,d)|0}else{c[p>>3]=i;o=vu(h,e,u,p)|0}e=a[h>>2]|0;if(!e)Uy();else{I=e;x=e;v=o}}else{I=a[h>>2]|0;x=0;v=e}o=I+v|0;s=$r(I,o,n)|0;if((I|0)!=(y|0)){e=Tp(v<<1)|0;if(!e)Uy();else{E=I;A=e;C=e}}else{E=y;A=0;C=m}I=Tn(n)|0;a[g>>2]=I;oi(E,s,o,C,k,w,g);Fc(I)|0;a[b>>2]=a[t>>2];E=a[k>>2]|0;t=a[w>>2]|0;a[_>>2]=a[b>>2];t=bu(_,C,E,t,n,r)|0;Pp(A);Pp(x);f=S;return t|0}function li(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0;s=f;f=f+80|0;d=s;e=s+72|0;l=s+52|0;u=s+12|0;h=s+8|0;p=s+4|0;r[e>>0]=r[22406]|0;r[e+1>>0]=r[22407]|0;r[e+2>>0]=r[22408]|0;r[e+3>>0]=r[22409]|0;r[e+4>>0]=r[22410]|0;r[e+5>>0]=r[22411]|0;c=xr()|0;a[d>>2]=o;e=gu(l,20,c,e,d)|0;c=l+e|0;o=$r(l,c,n)|0;y=Tn(n)|0;a[h>>2]=y;h=fs(h,8368)|0;Fc(y)|0;Nm[a[(a[h>>2]|0)+32>>2]&7](h,l,c,u)|0;e=u+e|0;a[p>>2]=a[t>>2]
;a[d>>2]=a[p>>2];e=bu(d,u,(o|0)==(c|0)?e:u+(o-l)|0,e,n,i)|0;f=s;return e|0}function ui(e){e=e|0;return}function ci(e){e=e|0;ry(e);return}function fi(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;d=f;f=f+32|0;c=d+8|0;s=d+4|0;l=d;if(!(a[n+4>>2]&1)){u=a[(a[e>>2]|0)+24>>2]|0;a[s>>2]=a[t>>2];a[c>>2]=a[s>>2];s=Dm[u&31](e,c,n,i,o&1)|0}else{u=Tn(n)|0;a[l>>2]=u;s=fs(l,8516)|0;Fc(u)|0;l=a[s>>2]|0;if(o)Em[a[l+24>>2]&63](c,s);else Em[a[l+28>>2]&63](c,s);s=r[c>>0]|0;n=(s&1)==0;u=c+4|0;o=c+8|0;e=n?u:c+4|0;u=n?u:a[c+8>>2]|0;while(1){n=(s&1)==0;if((u|0)==((n?e:a[o>>2]|0)+((n?(s&255)>>>1:a[e>>2]|0)<<2)|0))break;s=a[u>>2]|0;l=a[t>>2]|0;if(l){i=l+24|0;n=a[i>>2]|0;if((n|0)==(a[l+28>>2]|0))s=Rm[a[(a[l>>2]|0)+52>>2]&15](l,s)|0;else{a[i>>2]=n+4;a[n>>2]=s}if((s|0)==-1)a[t>>2]=0}s=r[c>>0]|0;u=u+4|0}s=a[t>>2]|0;_n(c)}f=d;return s|0}function di(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0;s=f;f=f+128|0;u=s;h=s+116|0;m=s+104|0;l=s+20|0;d=s+16|0;e=s+8|0;p=s+12|0;c=s+4|0;r[h>>0]=r[22392]|0;r[h+1>>0]=r[22393]|0;r[h+2>>0]=r[22394]|0;r[h+3>>0]=r[22395]|0;r[h+4>>0]=r[22396]|0;r[h+5>>0]=r[22397]|0;Zr(h+1|0,22398,1,a[n+4>>2]|0);y=xr()|0;a[u>>2]=o;h=m+(gu(m,12,y,h,u)|0)|0;y=$r(m,h,n)|0;o=Tn(n)|0;a[p>>2]=o;pi(m,y,h,l,d,e,p);Fc(o)|0;a[c>>2]=a[t>>2];o=a[d>>2]|0;e=a[e>>2]|0;a[u>>2]=a[c>>2];e=wu(u,l,o,e,n,i)|0;f=s;return e|0}function pi(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0;b=f;f=f+16|0;g=b;_=fs(l,8360)|0;d=fs(l,8516)|0;Em[a[(a[d>>2]|0)+20>>2]&63](g,d);y=r[g>>0]|0;m=g+4|0;e:do{if(((y&1)==0?(y&255)>>>1:a[m>>2]|0)|0){a[s>>2]=i;l=r[e>>0]|0;switch(l<<24>>24){case 43:case 45:{y=Rm[a[(a[_>>2]|0)+44>>2]&15](_,l)|0;u=a[s>>2]|0;a[s>>2]=u+4;a[u>>2]=y;u=e+1|0;break}default:u=e}t:do{if((n-u|0)>1?(r[u>>0]|0)==48:0){l=u+1|0;switch(r[l>>0]|0){case 88:case 120:break;default:break t}y=Rm[a[(a[_>>2]|0)+44>>2]&15](_,48)|0;h=a[s>>2]|0;a[s>>2]=h+4;a[h>>2]=y;h=Rm[a[(a[_>>2]|0)+44>>2]&15](_,r[l>>0]|0)|0;y=a[s>>2]|0;a[s>>2]=y+4;a[y>>2]=h;u=u+2|0}}while(0);t:do{if((u|0)!=(n|0)){l=n;c=u;while(1){l=l+-1|0;if(c>>>0>=l>>>0)break t;y=r[c>>0]|0;r[c>>0]=r[l>>0]|0;r[l>>0]=y;c=c+1|0}}}while(0);d=Cm[a[(a[d>>2]|0)+16>>2]&63](d)|0;p=g+8|0;h=g+1|0;l=0;c=0;y=u;while(1){if(y>>>0>=n>>>0)break;v=r[((r[g>>0]&1)==0?h:a[p>>2]|0)+c>>0]|0;if(v<<24>>24!=0&(l|0)==(v<<24>>24|0)){v=a[s>>2]|0;a[s>>2]=v+4;a[v>>2]=d;v=r[g>>0]|0;l=0;c=(c>>>0<(((v&1)==0?(v&255)>>>1:a[m>>2]|0)+-1|0)>>>0&1)+c|0}w=Rm[a[(a[_>>2]|0)+44>>2]&15](_,r[y>>0]|0)|0;v=a[s>>2]|0;a[s>>2]=v+4;a[v>>2]=w;l=l+1|0;y=y+1|0}l=i+(u-e<<2)|0;c=a[s>>2]|0;if((l|0)!=(c|0)){u=c;while(1){u=u+-4|0;if(l>>>0>=u>>>0){l=c;break e}w=a[l>>2]|0;a[l>>2]=a[u>>2];a[u>>2]=w;l=l+4|0}}}else{Nm[a[(a[_>>2]|0)+48>>2]&7](_,e,n,i)|0;l=i+(n-e<<2)|0;a[s>>2]=l}}while(0);a[o>>2]=(t|0)==(n|0)?l:i+(t-e<<2)|0;nn(g);f=b;return}function hi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;s=f;f=f+224|0;u=s+8|0;h=s;y=s+196|0;l=s+32|0;d=s+28|0;e=s+20|0;p=s+24|0;c=s+16|0;m=h;a[m>>2]=37;a[m+4>>2]=0;Zr(h+1|0,22400,1,a[n+4>>2]|0);m=xr()|0;_=u;a[_>>2]=i;a[_+4>>2]=o;i=y+(gu(y,22,m,h,u)|0)|0;h=$r(y,i,n)|0;o=Tn(n)|0;a[p>>2]=o;pi(y,h,i,l,d,e,p);Fc(o)|0;a[c>>2]=a[t>>2];t=a[d>>2]|0;e=a[e>>2]|0;a[u>>2]=a[c>>2];e=wu(u,l,t,e,n,r)|0;f=s;return e|0}function yi(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0;s=f;f=f+128|0;u=s;h=s+116|0;m=s+104|0;l=s+20|0;d=s+16|0;e=s+8|0;p=s+12|0;c=s+4|0;r[h>>0]=r[22392]|0;r[h+1>>0]=r[22393]|0;r[h+2>>0]=r[22394]|0;r[h+3>>0]=r[22395]|0;r[h+4>>0]=r[22396]|0;r[h+5>>0]=r[22397]|0;Zr(h+1|0,22398,0,a[n+4>>2]|0);y=xr()|0;a[u>>2]=o;h=m+(gu(m,12,y,h,u)|0)|0;y=$r(m,h,n)|0;o=Tn(n)|0;a[p>>2]=o;pi(m,y,h,l,d,e,p);Fc(o)|0;a[c>>2]=a[t>>2];o=a[d>>2]|0;e=a[e>>2]|0;a[u>>2]=a[c>>2];e=wu(u,l,o,e,n,i)|0;f=s;return e|0}function mi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;s=f;f=f+240|0;u=s+8|0;h=s;y=s+204|0;l=s+32|0;d=s+28|0;e=s+20|0;p=s+24|0;c=s+16|0;m=h;a[m>>2]=37;a[m+4>>2]=0;Zr(h+1|0,22400,0,a[n+4>>2]|0);m=xr()|0;_=u;a[_>>2]=i;a[_+4>>2]=o;i=y+(gu(y,23,m,h,u)|0)|0;h=$r(y,i,n)|0;o=Tn(n)|0;a[p>>2]=o;pi(y,h,i,l,d,e,p);Fc(o)|0;a[c>>2]=a[t>>2];t=a[d>>2]|0;e=a[e>>2]|0;a[u>>2]=a[c>>2];e=wu(u,l,t,e,n,r)|0;f=s;return e|0}function _i(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;var o=0,s=0,l=0,u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;I=f;f=f+336|0;y=I+296|0;u=I+32|0;s=I+24|0;o=I+8|0;l=I;p=I+300|0;d=I+292|0;h=I+64|0;v=I+60|0;b=I+56|0;m=I+52|0;_=I+48|0;x=l;a[x>>2]=37;a[x+4>>2]=0;x=ai(l+1|0,22403,a[n+4>>2]|0)|0;a[d>>2]=p;e=xr()|0;if(x){a[o>>2]=a[n+8>>2];c[o+8>>3]=i;e=gu(p,30,e,l,o)|0}else{c[s>>3]=i;e=gu(p,30,e,l,s)|0}if((e|0)>29){o=xr()|0;a[u>>2]=a[n+8>>2];c[u+8>>3]=i;o=vu(d,o,l,u)|0;e=a[d>>2]|0;if(!e)Uy();else{w=e;A=e;g=o}}else{w=a[d>>2]|0;A=0;g=e}o=w+g|0;s=$r(w,o,n)|0;if((w|0)!=(p|0)){e=Tp(g<<3)|0;if(!e)Uy();else{k=w;E=e;S=e}}else{k=p;E=0;S=h}x=Tn(n)|0;a[m>>2]=x;gi(k,s,o,S,v,b,m);Fc(x)|0;a[_>>2]=a[t>>2];x=a[v>>2]|0;e=a[b>>2]|0;a[y>>2]=a[_>>2];e=wu(y,S,x,e,n,r)|0;a[t>>2]=e;if(E)Pp(E);Pp(A);f=I;return e|0}function gi(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0;S=f;f=f+16|0;w=S;v=fs(l,8360)|0;g=fs(l,8516)|0;Em[a[(a[g>>2]|0)+20>>2]&63](w,g);a[s>>2]=i;l=r[e>>0]|0;switch(l<<24>>24){case 43:case 45:{b=Rm[a[(a[v>>2]|0)+44>>2]&15](v,l)|0;u=a[s>>2]|0;a[s>>2]=u+4;a[u>>2]=b;u=e+1|0;break}default:u=e}b=n;e:do{if((b-u|0)>1?(r[u>>0]|0)==48:0){l=u+1|0;switch(r[l>>0]|0){case 88:case 120:break;default:{l=u;k=10;break e}}m=Rm[a[(a[v>>2]|0)+44>>2]&15](v,48)|0;_=a[s>>2]|0;a[s>>2]=_+4;a[_>>2]=m;u=u+2|0;_=Rm[a[(a[v>>2]|0)+44>>2]&15](v,r[l>>0]|0)|0;l=a[s>>2]|0;a[s>>2]=l+4;a[l>>2]=_;l=u;while(1){if(l>>>0>=n>>>0)break e;_=r[l>>0]|0;if(!(md(_,xr()|0)|0))break e;l=l+1|0}}else{l=u;k=10}}while(0);e:do{if((k|0)==10)while(1){k=0;if(l>>>0>=n>>>0)break e;_=r[l>>0]|0;if(!(pd(_,xr()|0)|0))break e;l=l+1|0;k=10}}while(0);m=r[w>>0]|0;_=w+4|0;e:do{if(((m&1)==0?(m&255)>>>1:a[_>>2]|0)|0){t:do{if((u|0)!=(l|0)){c=l;d=u;while(1){c=c+-1|0;if(d>>>0>=c>>>0)break t;m=r[d>>0]|0;r[d>>0]=r[c>>0]|0;r[c>>0]=m;d=d+1|0}}}while(0);p=Cm[a[(a[g>>2]|0)+16>>2]&63](g)|0;h=w+8|0;y=w+1|0;c=0;d=0;m=u;while(1){if(m>>>0>=l>>>0)break;I=r[((r[w>>0]&1)==0?y:a[h>>2]|0)+d>>0]|0;if(I<<24>>24>0&(c|0)==(I<<24>>24|0)){I=a[s>>2]|0;a[s>>2]=I+4;a[I>>2]=p;I=r[w>>0]|0;c=0;d=(d>>>0<(((I&1)==0?(I&255)>>>1:a[_>>2]|0)+-1|0)>>>0&1)+d|0}E=Rm[a[(a[v>>2]|0)+44>>2]&15](v,r[m>>0]|0)|0;I=a[s>>2]|0;a[s>>2]=I+4;a[I>>2]=E;c=c+1|0;m=m+1|0}u=i+(u-e<<2)|0;d=a[s>>2]|0;if((u|0)==(d|0))c=v;else{c=d;while(1){c=c+-4|0;if(u>>>0>=c>>>0){c=v;u=d;break e}E=a[u>>2]|0;a[u>>2]=a[c>>2];a[c>>2]=E;u=u+4|0}}}else{Nm[a[(a[v>>2]|0)+48>>2]&7](v,u,l,a[s>>2]|0)|0;u=(a[s>>2]|0)+(l-u<<2)|0;a[s>>2]=u;c=v}}while(0);while(1){if(l>>>0>=n>>>0)break;u=r[l>>0]|0;if(u<<24>>24==46){k=29;break}I=Rm[a[(a[c>>2]|0)+44>>2]&15](v,u)|0;E=a[s>>2]|0;u=E+4|0;a[s>>2]=u;a[E>>2]=I;l=l+1|0}if((k|0)==29){I=Cm[a[(a[g>>2]|0)+12>>2]&63](g)|0;E=a[s>>2]|0;u=E+4|0;a[s>>2]=u;a[E>>2]=I;l=l+1|0}Nm[a[(a[v>>2]|0)+48>>2]&7](v,l,n,u)|0;E=(a[s>>2]|0)+(b-l<<2)|0;a[s>>2]=E;a[o>>2]=(t|0)==(n|0)?E:i+(t-e<<2)|0;nn(w);f=S;return}function bi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;var o=0,s=0,l=0,u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0;A=f;f=f+352|0;_=A+304|0;p=A+48|0;d=A+32|0;s=A+24|0;o=A+8|0;u=A;y=A+308|0;h=A+300|0;m=A+72|0;k=A+68|0;w=A+64|0;g=A+60|0;b=A+56|0;l=u;a[l>>2]=37;a[l+4>>2]=0;l=ai(u+1|0,22404,a[n+4>>2]|0)|0;a[h>>2]=y;e=xr()|0;if(l){a[o>>2]=a[n+8>>2];c[o+8>>3]=i;e=gu(y,30,e,u,o)|0}else{c[s>>3]=i;e=gu(y,30,e,u,s)|0}if((e|0)>29){e=xr()|0;if(l){a[d>>2]=a[n+8>>2];c[d+8>>3]=i;o=vu(h,e,u,d)|0}else{c[p>>3]=i;o=vu(h,e,u,p)|0}e=a[h>>2]|0;if(!e)Uy();else{S=e;C=e;v=o}}else{S=a[h>>2]|0;C=0;v=e}o=S+v|0;s=$r(S,o,n)|0;if((S|0)!=(y|0)){e=Tp(v<<3)|0;if(!e)Uy();else{I=S;x=e;E=e}}else{I=y;x=0;E=m}e=Tn(n)|0;a[g>>2]=e;gi(I,s,o,E,k,w,g);Fc(e)|0;a[b>>2]=a[t>>2];I=a[k>>2]|0;e=a[w>>2]|0;a[_>>2]=a[b>>2];e=wu(_,E,I,e,n,r)|0
;a[t>>2]=e;if(x)Pp(x);Pp(C);f=A;return e|0}function vi(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0;s=f;f=f+192|0;d=s;e=s+180|0;l=s+160|0;u=s+8|0;h=s+156|0;p=s+4|0;r[e>>0]=r[22406]|0;r[e+1>>0]=r[22407]|0;r[e+2>>0]=r[22408]|0;r[e+3>>0]=r[22409]|0;r[e+4>>0]=r[22410]|0;r[e+5>>0]=r[22411]|0;c=xr()|0;a[d>>2]=o;e=gu(l,20,c,e,d)|0;c=l+e|0;o=$r(l,c,n)|0;y=Tn(n)|0;a[h>>2]=y;h=fs(h,8360)|0;Fc(y)|0;Nm[a[(a[h>>2]|0)+48>>2]&7](h,l,c,u)|0;e=u+(e<<2)|0;a[p>>2]=a[t>>2];a[d>>2]=a[p>>2];e=wu(d,u,(o|0)==(c|0)?e:u+(o-l<<2)|0,e,n,i)|0;f=s;return e|0}function wi(e,t,n,s,l,u,c,d){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;u=u|0;c=c|0;d=d|0;var p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;x=f;f=f+32|0;v=x+16|0;b=x+12|0;S=x+8|0;w=x+4|0;k=x;I=Tn(s)|0;a[S>>2]=I;S=fs(S,8368)|0;Fc(I)|0;a[l>>2]=0;I=S+8|0;p=c;c=0;e:while(1){g=(p|0)!=(d|0);h=c;while(1){c=a[t>>2]|0;if(!(g&(h|0)==0))break e;h=c;if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[t>>2]=0;h=0;c=0}}else c=0;_=(c|0)==0;m=a[n>>2]|0;y=m;do{if(m){if((a[m+12>>2]|0)==(a[m+16>>2]|0)?(Cm[a[(a[m>>2]|0)+36>>2]&63](m)|0)==-1:0){a[n>>2]=0;y=0;A=13;break}if(!_){A=14;break e}}else A=13}while(0);if((A|0)==13){A=0;if(_){A=14;break e}else m=0}if((wm[a[(a[S>>2]|0)+36>>2]&31](S,r[p>>0]|0,0)|0)<<24>>24==37){g=y;A=16;break}h=r[p>>0]|0;if(h<<24>>24>-1?(E=a[I>>2]|0,(i[E+(h<<24>>24<<1)>>1]&8192)!=0):0){y=E;A=25;break}m=c+12|0;y=a[m>>2]|0;h=c+16|0;if((y|0)==(a[h>>2]|0))y=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else y=o[y>>0]|0;_=Rm[a[(a[S>>2]|0)+12>>2]&15](S,y&255)|0;if(_<<24>>24==(Rm[a[(a[S>>2]|0)+12>>2]&15](S,r[p>>0]|0)|0)<<24>>24){A=53;break}a[l>>2]=4;h=4}t:do{if((A|0)==16){A=0;y=p+1|0;if((y|0)==(d|0)){A=17;break e}_=wm[a[(a[S>>2]|0)+36>>2]&31](S,r[y>>0]|0,0)|0;switch(_<<24>>24){case 48:case 69:{m=p+2|0;if((m|0)==(d|0)){A=22;break e}p=y;y=wm[a[(a[S>>2]|0)+36>>2]&31](S,r[m>>0]|0,0)|0;c=_;break}default:{y=_;c=0}}_=a[(a[e>>2]|0)+36>>2]|0;a[w>>2]=h;a[k>>2]=g;a[b>>2]=a[w>>2];a[v>>2]=a[k>>2];a[t>>2]=Om[_&15](e,b,v,s,l,u,y,c)|0;c=p+2|0}else if((A|0)==25){A=0;do{p=p+1|0;if((p|0)==(d|0)){p=d;break}h=r[p>>0]|0;if(h<<24>>24<=-1)break}while((i[y+(h<<24>>24<<1)>>1]&8192)!=0);h=m;while(1){if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[t>>2]=0;c=0}}else c=0;y=(c|0)==0;do{if(m){if((a[m+12>>2]|0)!=(a[m+16>>2]|0))if(y){g=h;break}else{c=p;break t}if((Cm[a[(a[m>>2]|0)+36>>2]&63](m)|0)!=-1){if(y^(h|0)==0){g=h;m=h;break}else{c=p;break t}}else{a[n>>2]=0;h=0;A=39;break}}else A=39}while(0);if((A|0)==39){A=0;if(y){c=p;break t}else{g=h;m=0}}y=c+12|0;h=a[y>>2]|0;_=c+16|0;if((h|0)==(a[_>>2]|0))h=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else h=o[h>>0]|0;if((h&255)<<24>>24<=-1){c=p;break t}if(!(i[(a[I>>2]|0)+(h<<24>>24<<1)>>1]&8192)){c=p;break t}h=a[y>>2]|0;if((h|0)==(a[_>>2]|0)){Cm[a[(a[c>>2]|0)+40>>2]&63](c)|0;h=g;continue}else{a[y>>2]=h+1;h=g;continue}}}else if((A|0)==53){A=0;y=a[m>>2]|0;if((y|0)==(a[h>>2]|0))Cm[a[(a[c>>2]|0)+40>>2]&63](c)|0;else a[m>>2]=y+1;c=p+1|0}}while(0);p=c;c=a[l>>2]|0}if((A|0)==14)a[l>>2]=4;else if((A|0)==17)a[l>>2]=4;else if((A|0)==22)a[l>>2]=4;if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[t>>2]=0;c=0}}else c=0;p=(c|0)==0;h=a[n>>2]|0;do{if(h){if((a[h+12>>2]|0)==(a[h+16>>2]|0)?(Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0)==-1:0){a[n>>2]=0;A=68;break}if(!p)A=69}else A=68}while(0);if((A|0)==68?p:0)A=69;if((A|0)==69)a[l>>2]=a[l>>2]|2;f=x;return c|0}function ki(e){e=e|0;return}function Si(e){e=e|0;ry(e);return}function Ii(e){e=e|0;return 2}function Ei(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=wi(e,u,l,r,i,o,22412,22420)|0;f=s;return e|0}function Ai(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0;l=f;f=f+16|0;u=l+12|0;c=l+8|0;p=l+4|0;d=l;h=e+8|0;h=Cm[a[(a[h>>2]|0)+20>>2]&63](h)|0;a[p>>2]=a[t>>2];a[d>>2]=a[n>>2];n=r[h>>0]|0;y=(n&1)==0;t=y?h+1|0:a[h+8>>2]|0;n=t+(y?(n&255)>>>1:a[h+4>>2]|0)|0;a[c>>2]=a[p>>2];a[u>>2]=a[d>>2];e=wi(e,c,u,i,o,s,t,n)|0;f=l;return e|0}function xi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+8|0;d=s+4|0;u=s;c=Tn(r)|0;a[d>>2]=c;r=fs(d,8368)|0;Fc(c)|0;a[u>>2]=a[n>>2];a[l>>2]=a[u>>2];Ci(e,o+24|0,t,l,i,r);f=s;return a[t>>2]|0}function Ci(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0;s=f;f=f+16|0;l=s+4|0;u=s;e=e+8|0;e=Cm[a[a[e>>2]>>2]&63](e)|0;a[u>>2]=a[r>>2];a[l>>2]=a[u>>2];n=(Ql(n,l,e,e+168|0,o,i,0)|0)-e|0;if((n|0)<168)a[t>>2]=((n|0)/12|0|0)%7|0;f=s;return}function Ti(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+8|0;d=s+4|0;u=s;c=Tn(r)|0;a[d>>2]=c;r=fs(d,8368)|0;Fc(c)|0;a[u>>2]=a[n>>2];a[l>>2]=a[u>>2];Pi(e,o+16|0,t,l,i,r);f=s;return a[t>>2]|0}function Pi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0;s=f;f=f+16|0;l=s+4|0;u=s;e=e+8|0;e=Cm[a[(a[e>>2]|0)+4>>2]&63](e)|0;a[u>>2]=a[r>>2];a[l>>2]=a[u>>2];n=(Ql(n,l,e,e+288|0,o,i,0)|0)-e|0;if((n|0)<288)a[t>>2]=((n|0)/12|0|0)%12|0;f=s;return}function Oi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+8|0;d=s+4|0;u=s;c=Tn(r)|0;a[d>>2]=c;r=fs(d,8368)|0;Fc(c)|0;a[u>>2]=a[n>>2];a[l>>2]=a[u>>2];Ni(e,o+20|0,t,l,i,r);f=s;return a[t>>2]|0}function Ni(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,4)|0;if(!(a[i>>2]&4)){if((e|0)<69)e=e+2e3|0;else e=(e+-69|0)>>>0<31?e+1900|0:e;a[t>>2]=e+-1900}f=s;return}function Mi(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0;V=f;f=f+144|0;c=V+132|0;u=V+116|0;B=V+128|0;k=V+124|0;M=V+120|0;j=V+112|0;L=V+108|0;U=V+104|0;H=V+100|0;G=V+96|0;z=V+92|0;d=V+88|0;p=V+84|0;h=V+80|0;y=V+76|0;m=V+72|0;_=V+68|0;g=V+64|0;b=V+60|0;v=V+56|0;w=V+52|0;S=V+48|0;I=V+44|0;E=V+40|0;A=V+36|0;x=V+32|0;C=V+28|0;T=V+24|0;P=V+20|0;O=V+16|0;N=V+12|0;R=V+8|0;D=V+4|0;F=V;a[o>>2]=0;W=Tn(i)|0;a[B>>2]=W;B=fs(B,8368)|0;Fc(W)|0;do{switch(l<<24>>24|0){case 65:case 97:{a[k>>2]=a[n>>2];a[c>>2]=a[k>>2];Ci(e,s+24|0,t,c,o,B);K=26;break}case 104:case 66:case 98:{a[M>>2]=a[n>>2];a[c>>2]=a[M>>2];Pi(e,s+16|0,t,c,o,B);K=26;break}case 99:{K=e+8|0;K=Cm[a[(a[K>>2]|0)+12>>2]&63](K)|0;a[j>>2]=a[t>>2];a[L>>2]=a[n>>2];l=r[K>>0]|0;n=(l&1)==0;W=n?K+1|0:a[K+8>>2]|0;K=W+(n?(l&255)>>>1:a[K+4>>2]|0)|0;a[u>>2]=a[j>>2];a[c>>2]=a[L>>2];a[t>>2]=wi(e,u,c,i,o,s,W,K)|0;K=26;break}case 101:case 100:{a[U>>2]=a[n>>2];a[c>>2]=a[U>>2];Ri(e,s+12|0,t,c,o,B);K=26;break}case 68:{a[H>>2]=a[t>>2];a[G>>2]=a[n>>2];a[u>>2]=a[H>>2];a[c>>2]=a[G>>2];a[t>>2]=wi(e,u,c,i,o,s,22420,22428)|0;K=26;break}case 70:{a[z>>2]=a[t>>2];a[d>>2]=a[n>>2];a[u>>2]=a[z>>2];a[c>>2]=a[d>>2];a[t>>2]=wi(e,u,c,i,o,s,22428,22436)|0;K=26;break}case 72:{a[p>>2]=a[n>>2];a[c>>2]=a[p>>2];Di(e,s+8|0,t,c,o,B);K=26;break}case 73:{a[h>>2]=a[n>>2];a[c>>2]=a[h>>2];Fi(e,s+8|0,t,c,o,B);K=26;break}case 106:{a[y>>2]=a[n>>2];a[c>>2]=a[y>>2];Bi(e,s+28|0,t,c,o,B);K=26;break}case 109:{a[m>>2]=a[n>>2];a[c>>2]=a[m>>2];ji(e,s+16|0,t,c,o,B);K=26;break}case 77:{a[_>>2]=a[n>>2];a[c>>2]=a[_>>2];Li(e,s+4|0,t,c,o,B);K=26;break}case 116:case 110:{a[g>>2]=a[n>>2];a[c>>2]=a[g>>2];Ui(e,t,c,o,B);K=26;break}case 112:{a[b>>2]=a[n>>2];a[c>>2]=a[b>>2];Hi(e,s+8|0,t,c,o,B);K=26;break}case 114:{a[v>>2]=a[t>>2];a[w>>2]=a[n>>2];a[u>>2]=a[v>>2];a[c>>2]=a[w>>2];a[t>>2]=wi(e,u,c,i,o,s,22436,22447)|0;K=26;break}case 82:{a[S>>2]=a[t>>2];a[I>>2]=a[n>>2];a[u>>2]=a[S>>2];a[c>>2]=a[I>>2];a[t>>2]=wi(e,u,c,i,o,s,22447,22452)|0;K=26;break}case 83:{a[E>>2]=a[n>>2];a[c>>2]=a[E>>2];Gi(e,s,t,c,o,B);K=26;break}case 84:{a[A>>2]=a[t>>2];a[x>>2]=a[n>>2];a[u>>2]=a[A>>2];a[c>>2]=a[x>>2];a[t>>2]=wi(e,u,c,i,o,s,22452,22460)|0;K=26;break}case 119:{a[C>>2]=a[n>>2];a[c>>2]=a[C>>2];zi(e,s+24|0,t,c,o,B);K=26;break}case 120:{W=a[(a[e>>2]|0)+20>>2]|0
;a[T>>2]=a[t>>2];a[P>>2]=a[n>>2];a[u>>2]=a[T>>2];a[c>>2]=a[P>>2];u=Am[W&63](e,u,c,i,o,s)|0;break}case 88:{K=e+8|0;K=Cm[a[(a[K>>2]|0)+24>>2]&63](K)|0;a[O>>2]=a[t>>2];a[N>>2]=a[n>>2];l=r[K>>0]|0;n=(l&1)==0;W=n?K+1|0:a[K+8>>2]|0;K=W+(n?(l&255)>>>1:a[K+4>>2]|0)|0;a[u>>2]=a[O>>2];a[c>>2]=a[N>>2];a[t>>2]=wi(e,u,c,i,o,s,W,K)|0;K=26;break}case 121:{a[R>>2]=a[n>>2];a[c>>2]=a[R>>2];Ni(e,s+20|0,t,c,o,B);K=26;break}case 89:{a[D>>2]=a[n>>2];a[c>>2]=a[D>>2];Vi(e,s+20|0,t,c,o,B);K=26;break}case 37:{a[F>>2]=a[n>>2];a[c>>2]=a[F>>2];Ki(e,t,c,o,B);K=26;break}default:{a[o>>2]=a[o>>2]|4;K=26}}}while(0);if((K|0)==26)u=a[t>>2]|0;f=V;return u|0}function Ri(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,2)|0;n=a[i>>2]|0;if((e+-1|0)>>>0<31&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function Di(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,2)|0;n=a[i>>2]|0;if((e|0)<24&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function Fi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,2)|0;n=a[i>>2]|0;if((e+-1|0)>>>0<12&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function Bi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,3)|0;n=a[i>>2]|0;if((e|0)<366&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function ji(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,2)|0;n=a[i>>2]|0;if((e|0)<13&(n&4|0)==0)a[t>>2]=e+-1;else a[i>>2]=n|4;f=s;return}function Li(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,2)|0;n=a[i>>2]|0;if((e|0)<60&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function Ui(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var l=0,u=0,c=0;u=s+8|0;e:while(1){s=a[t>>2]|0;do{if(s){if((a[s+12>>2]|0)==(a[s+16>>2]|0))if((Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0)==-1){a[t>>2]=0;s=0;break}else{s=a[t>>2]|0;break}}else s=0}while(0);s=(s|0)==0;e=a[n>>2]|0;do{if(e){if((a[e+12>>2]|0)!=(a[e+16>>2]|0))if(s)break;else break e;if((Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)!=-1){if(s)break;else break e}else{a[n>>2]=0;c=12;break}}else c=12}while(0);if((c|0)==12){c=0;if(s){e=0;break}else e=0}s=a[t>>2]|0;l=a[s+12>>2]|0;if((l|0)==(a[s+16>>2]|0))s=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else s=o[l>>0]|0;if((s&255)<<24>>24<=-1)break;if(!(i[(a[u>>2]|0)+(s<<24>>24<<1)>>1]&8192))break;s=a[t>>2]|0;e=s+12|0;l=a[e>>2]|0;if((l|0)==(a[s+16>>2]|0)){Cm[a[(a[s>>2]|0)+40>>2]&63](s)|0;continue}else{a[e>>2]=l+1;continue}}s=a[t>>2]|0;do{if(s){if((a[s+12>>2]|0)==(a[s+16>>2]|0))if((Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0)==-1){a[t>>2]=0;s=0;break}else{s=a[t>>2]|0;break}}else s=0}while(0);s=(s|0)==0;do{if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[n>>2]=0;c=32;break}if(!s)c=33}else c=32}while(0);if((c|0)==32?s:0)c=33;if((c|0)==33)a[r>>2]=a[r>>2]|2;return}function Hi(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0;p=f;f=f+16|0;u=p+4|0;c=p;d=e+8|0;d=Cm[a[(a[d>>2]|0)+8>>2]&63](d)|0;e=r[d>>0]|0;if(!(e&1))l=(e&255)>>>1;else l=a[d+4>>2]|0;e=r[d+12>>0]|0;if(!(e&1))e=(e&255)>>>1;else e=a[d+16>>2]|0;do{if((l|0)!=(0-e|0)){a[c>>2]=a[i>>2];a[u>>2]=a[c>>2];e=Ql(n,u,d,d+24|0,s,o,0)|0;l=a[t>>2]|0;if((e|0)==(d|0)&(l|0)==12){a[t>>2]=0;break}if((l|0)<12&(e-d|0)==12)a[t>>2]=l+12}else a[o>>2]=a[o>>2]|4}while(0);f=p;return}function Gi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,2)|0;n=a[i>>2]|0;if((e|0)<61&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function zi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,1)|0;n=a[i>>2]|0;if((e|0)<7&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function Vi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=ku(n,e,i,o,4)|0;if(!(a[i>>2]&4))a[t>>2]=e+-1900;f=s;return}function Ki(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var s=0,l=0,u=0;e=a[t>>2]|0;do{if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0))if((Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1){a[t>>2]=0;e=0;break}else{e=a[t>>2]|0;break}}else e=0}while(0);s=(e|0)==0;e=a[n>>2]|0;do{if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[n>>2]=0;u=11;break}if(s){l=e;u=13}else u=12}else u=11}while(0);if((u|0)==11)if(s)u=12;else{l=0;u=13}e:do{if((u|0)==12)a[r>>2]=a[r>>2]|6;else if((u|0)==13){e=a[t>>2]|0;s=a[e+12>>2]|0;if((s|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=o[s>>0]|0;if((wm[a[(a[i>>2]|0)+36>>2]&31](i,e&255,0)|0)<<24>>24!=37){a[r>>2]=a[r>>2]|4;break}e=a[t>>2]|0;s=e+12|0;i=a[s>>2]|0;if((i|0)==(a[e+16>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;e=a[t>>2]|0;if(!e)e=0;else u=21}else{a[s>>2]=i+1;u=21}do{if((u|0)==21)if((a[e+12>>2]|0)==(a[e+16>>2]|0))if((Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1){a[t>>2]=0;e=0;break}else{e=a[t>>2]|0;break}}while(0);e=(e|0)==0;do{if(l){if((a[l+12>>2]|0)==(a[l+16>>2]|0)?(Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0)==-1:0){a[n>>2]=0;u=30;break}if(e)break e}else u=30}while(0);if((u|0)==30?!e:0)break;a[r>>2]=a[r>>2]|2}}while(0);return}function Wi(e,t,n,r,i,o,s,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;S=f;f=f+32|0;g=S+16|0;_=S+12|0;w=S+8|0;b=S+4|0;v=S;u=Tn(r)|0;a[w>>2]=u;w=fs(w,8360)|0;Fc(u)|0;a[i>>2]=0;u=s;s=0;e:while(1){m=(u|0)!=(l|0);c=s;while(1){s=a[t>>2]|0;if(!(m&(c|0)==0))break e;d=s;if(s){c=a[s+12>>2]|0;if((c|0)==(a[s+16>>2]|0))c=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else c=a[c>>2]|0;if((c|0)==-1){a[t>>2]=0;s=0;d=0;y=1}else y=0}else{s=0;y=1}h=a[n>>2]|0;c=h;do{if(h){p=a[h+12>>2]|0;if((p|0)==(a[h+16>>2]|0))p=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else p=a[p>>2]|0;if((p|0)!=-1){if(y){p=h;break}else{k=18;break e}}else{a[n>>2]=0;c=0;k=16;break}}else k=16}while(0);if((k|0)==16){k=0;if(y){k=18;break e}else p=0}if((wm[a[(a[w>>2]|0)+52>>2]&31](w,a[u>>2]|0,0)|0)<<24>>24==37){y=c;k=20;break}if(wm[a[(a[w>>2]|0)+12>>2]&31](w,8192,a[u>>2]|0)|0){d=p;k=28;break}p=s+12|0;d=a[p>>2]|0;c=s+16|0;if((d|0)==(a[c>>2]|0))d=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else d=a[d>>2]|0;y=Rm[a[(a[w>>2]|0)+28>>2]&15](w,d)|0;if((y|0)==(Rm[a[(a[w>>2]|0)+28>>2]&15](w,a[u>>2]|0)|0)){k=57;break}a[i>>2]=4;c=4}t:do{if((k|0)==20){k=0;c=u+4|0;if((c|0)==(l|0)){k=21;break e}h=wm[a[(a[w>>2]|0)+52>>2]&31](w,a[c>>2]|0,0)|0;switch(h<<24>>24){case 48:case 69:{p=u+8|0;if((p|0)==(l|0)){k=26;break e}u=c;c=wm[a[(a[w>>2]|0)+52>>2]&31](w,a[p>>2]|0,0)|0;s=h;break}default:{c=h;s=0}}m=a[(a[e>>2]|0)+36>>2]|0;a[b>>2]=d;a[v>>2]=y;a[_>>2]=a[b>>2];a[g>>2]=a[v>>2];a[t>>2]=Om[m&15](e,_,g,r,i,o,c,s)|0;s=u+8|0}else if((k|0)==28){k=0;do{u=u+4|0;if((u|0)==(l|0)){u=l;break}}while(wm[a[(a[w>>2]|0)+12>>2]&31](w,8192,a[u>>2]|0)|0);c=d;h=d;while(1){if(s){d=a[s+12>>2]|0;if((d|0)==(a[s+16>>2]|0))d=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else d=a[d>>2]|0;if((d|0)==-1){a[t>>2]=0;s=0;p=1}else p=0}else{s=0;p=1}do{if(h){d=a[h+12>>2]|0;if((d|0)==(a[h+16>>2]|0))d=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else d=a[d>>2]|0;if((d|0)!=-1){if(p^(c|0)==0){y=c;h=c;break}else{s=u;break t}}else{a[n>>2]=0;c=0;k=44;break}}else k=44}while(0);if((k|0)==44){k=0;if(p){s=u;break t}else{y=c;h=0}}p=s+12|0;c=a[p>>2]|0;d=s+16|0;if((c|0)==(a[d>>2]|0))c=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else c=a[c>>2]|0;if(!(wm[a[(a[w>>2]|0)+12>>2]&31](w,8192,c)|0)){s=u;break t}c=a[p>>2]|0;if((c|0)==(a[d>>2]|0)){Cm[a[(a[s>>2]|0)+40>>2]&63](s)|0;c=y;continue}else{a[p>>2]=c+4;c=y;continue}}}else if((k|0)==57){k=0;d=a[p>>2]|0;if((d|0)==(a[c>>2]|0))Cm[a[(a[s>>2]|0)+40>>2]&63](s)|0;else a[p>>2]=d+4;s=u+4|0}}while(0);u=s;s=a[i>>2]|0}if((k|0)==18)a[i>>2]=4;else if((k|0)==21)a[i>>2]=4;else if((k|0)==26)a[i>>2]=4;if(s){u=a[s+12>>2]|0
;if((u|0)==(a[s+16>>2]|0))u=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else u=a[u>>2]|0;if((u|0)==-1){a[t>>2]=0;s=0;d=1}else d=0}else{s=0;d=1}u=a[n>>2]|0;do{if(u){c=a[u+12>>2]|0;if((c|0)==(a[u+16>>2]|0))u=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else u=a[c>>2]|0;if((u|0)!=-1){if(d)break;else{k=77;break}}else{a[n>>2]=0;k=75;break}}else k=75}while(0);if((k|0)==75?d:0)k=77;if((k|0)==77)a[i>>2]=a[i>>2]|2;f=S;return s|0}function qi(e){e=e|0;return}function Xi(e){e=e|0;ry(e);return}function Yi(e){e=e|0;return 2}function Ji(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+12|0;u=s+8|0;d=s+4|0;c=s;a[d>>2]=a[t>>2];a[c>>2]=a[n>>2];a[u>>2]=a[d>>2];a[l>>2]=a[c>>2];e=Wi(e,u,l,r,i,o,8936,8968)|0;f=s;return e|0}function Qi(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0;l=f;f=f+16|0;u=l+12|0;c=l+8|0;p=l+4|0;d=l;m=e+8|0;m=Cm[a[(a[m>>2]|0)+20>>2]&63](m)|0;a[p>>2]=a[t>>2];a[d>>2]=a[n>>2];h=r[m>>0]|0;y=(h&1)==0;n=m+4|0;t=y?n:a[m+8>>2]|0;n=t+((y?(h&255)>>>1:a[n>>2]|0)<<2)|0;a[c>>2]=a[p>>2];a[u>>2]=a[d>>2];e=Wi(e,c,u,i,o,s,t,n)|0;f=l;return e|0}function Zi(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+8|0;d=s+4|0;u=s;c=Tn(r)|0;a[d>>2]=c;r=fs(d,8360)|0;Fc(c)|0;a[u>>2]=a[n>>2];a[l>>2]=a[u>>2];$i(e,o+24|0,t,l,i,r);f=s;return a[t>>2]|0}function $i(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0;s=f;f=f+16|0;l=s+4|0;u=s;e=e+8|0;e=Cm[a[a[e>>2]>>2]&63](e)|0;a[u>>2]=a[r>>2];a[l>>2]=a[u>>2];n=(lu(n,l,e,e+168|0,o,i,0)|0)-e|0;if((n|0)<168)a[t>>2]=((n|0)/12|0|0)%7|0;f=s;return}function ea(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+8|0;d=s+4|0;u=s;c=Tn(r)|0;a[d>>2]=c;r=fs(d,8360)|0;Fc(c)|0;a[u>>2]=a[n>>2];a[l>>2]=a[u>>2];ta(e,o+16|0,t,l,i,r);f=s;return a[t>>2]|0}function ta(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0;s=f;f=f+16|0;l=s+4|0;u=s;e=e+8|0;e=Cm[a[(a[e>>2]|0)+4>>2]&63](e)|0;a[u>>2]=a[r>>2];a[l>>2]=a[u>>2];n=(lu(n,l,e,e+288|0,o,i,0)|0)-e|0;if((n|0)<288)a[t>>2]=((n|0)/12|0|0)%12|0;f=s;return}function na(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+16|0;l=s+8|0;d=s+4|0;u=s;c=Tn(r)|0;a[d>>2]=c;r=fs(d,8360)|0;Fc(c)|0;a[u>>2]=a[n>>2];a[l>>2]=a[u>>2];ra(e,o+20|0,t,l,i,r);f=s;return a[t>>2]|0}function ra(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,4)|0;if(!(a[i>>2]&4)){if((e|0)<69)e=e+2e3|0;else e=(e+-69|0)>>>0<31?e+1900|0:e;a[t>>2]=e+-1900}f=s;return}function ia(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0;V=f;f=f+144|0;c=V+132|0;u=V+116|0;B=V+128|0;k=V+124|0;M=V+120|0;j=V+112|0;L=V+108|0;U=V+104|0;H=V+100|0;G=V+96|0;z=V+92|0;d=V+88|0;p=V+84|0;h=V+80|0;y=V+76|0;m=V+72|0;_=V+68|0;g=V+64|0;b=V+60|0;v=V+56|0;w=V+52|0;S=V+48|0;I=V+44|0;E=V+40|0;A=V+36|0;x=V+32|0;C=V+28|0;T=V+24|0;P=V+20|0;O=V+16|0;N=V+12|0;R=V+8|0;D=V+4|0;F=V;a[o>>2]=0;W=Tn(i)|0;a[B>>2]=W;B=fs(B,8360)|0;Fc(W)|0;do{switch(l<<24>>24|0){case 65:case 97:{a[k>>2]=a[n>>2];a[c>>2]=a[k>>2];$i(e,s+24|0,t,c,o,B);K=26;break}case 104:case 66:case 98:{a[M>>2]=a[n>>2];a[c>>2]=a[M>>2];ta(e,s+16|0,t,c,o,B);K=26;break}case 99:{W=e+8|0;W=Cm[a[(a[W>>2]|0)+12>>2]&63](W)|0;a[j>>2]=a[t>>2];a[L>>2]=a[n>>2];l=r[W>>0]|0;n=(l&1)==0;K=W+4|0;W=n?K:a[W+8>>2]|0;K=W+((n?(l&255)>>>1:a[K>>2]|0)<<2)|0;a[u>>2]=a[j>>2];a[c>>2]=a[L>>2];a[t>>2]=Wi(e,u,c,i,o,s,W,K)|0;K=26;break}case 101:case 100:{a[U>>2]=a[n>>2];a[c>>2]=a[U>>2];aa(e,s+12|0,t,c,o,B);K=26;break}case 68:{a[H>>2]=a[t>>2];a[G>>2]=a[n>>2];a[u>>2]=a[H>>2];a[c>>2]=a[G>>2];a[t>>2]=Wi(e,u,c,i,o,s,8968,9e3)|0;K=26;break}case 70:{a[z>>2]=a[t>>2];a[d>>2]=a[n>>2];a[u>>2]=a[z>>2];a[c>>2]=a[d>>2];a[t>>2]=Wi(e,u,c,i,o,s,9e3,9032)|0;K=26;break}case 72:{a[p>>2]=a[n>>2];a[c>>2]=a[p>>2];oa(e,s+8|0,t,c,o,B);K=26;break}case 73:{a[h>>2]=a[n>>2];a[c>>2]=a[h>>2];sa(e,s+8|0,t,c,o,B);K=26;break}case 106:{a[y>>2]=a[n>>2];a[c>>2]=a[y>>2];la(e,s+28|0,t,c,o,B);K=26;break}case 109:{a[m>>2]=a[n>>2];a[c>>2]=a[m>>2];ua(e,s+16|0,t,c,o,B);K=26;break}case 77:{a[_>>2]=a[n>>2];a[c>>2]=a[_>>2];ca(e,s+4|0,t,c,o,B);K=26;break}case 116:case 110:{a[g>>2]=a[n>>2];a[c>>2]=a[g>>2];fa(e,t,c,o,B);K=26;break}case 112:{a[b>>2]=a[n>>2];a[c>>2]=a[b>>2];da(e,s+8|0,t,c,o,B);K=26;break}case 114:{a[v>>2]=a[t>>2];a[w>>2]=a[n>>2];a[u>>2]=a[v>>2];a[c>>2]=a[w>>2];a[t>>2]=Wi(e,u,c,i,o,s,9032,9076)|0;K=26;break}case 82:{a[S>>2]=a[t>>2];a[I>>2]=a[n>>2];a[u>>2]=a[S>>2];a[c>>2]=a[I>>2];a[t>>2]=Wi(e,u,c,i,o,s,9076,9096)|0;K=26;break}case 83:{a[E>>2]=a[n>>2];a[c>>2]=a[E>>2];pa(e,s,t,c,o,B);K=26;break}case 84:{a[A>>2]=a[t>>2];a[x>>2]=a[n>>2];a[u>>2]=a[A>>2];a[c>>2]=a[x>>2];a[t>>2]=Wi(e,u,c,i,o,s,9096,9128)|0;K=26;break}case 119:{a[C>>2]=a[n>>2];a[c>>2]=a[C>>2];ha(e,s+24|0,t,c,o,B);K=26;break}case 120:{W=a[(a[e>>2]|0)+20>>2]|0;a[T>>2]=a[t>>2];a[P>>2]=a[n>>2];a[u>>2]=a[T>>2];a[c>>2]=a[P>>2];u=Am[W&63](e,u,c,i,o,s)|0;break}case 88:{W=e+8|0;W=Cm[a[(a[W>>2]|0)+24>>2]&63](W)|0;a[O>>2]=a[t>>2];a[N>>2]=a[n>>2];l=r[W>>0]|0;n=(l&1)==0;K=W+4|0;W=n?K:a[W+8>>2]|0;K=W+((n?(l&255)>>>1:a[K>>2]|0)<<2)|0;a[u>>2]=a[O>>2];a[c>>2]=a[N>>2];a[t>>2]=Wi(e,u,c,i,o,s,W,K)|0;K=26;break}case 121:{a[R>>2]=a[n>>2];a[c>>2]=a[R>>2];ra(e,s+20|0,t,c,o,B);K=26;break}case 89:{a[D>>2]=a[n>>2];a[c>>2]=a[D>>2];ya(e,s+20|0,t,c,o,B);K=26;break}case 37:{a[F>>2]=a[n>>2];a[c>>2]=a[F>>2];ma(e,t,c,o,B);K=26;break}default:{a[o>>2]=a[o>>2]|4;K=26}}}while(0);if((K|0)==26)u=a[t>>2]|0;f=V;return u|0}function aa(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,2)|0;n=a[i>>2]|0;if((e+-1|0)>>>0<31&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function oa(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,2)|0;n=a[i>>2]|0;if((e|0)<24&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function sa(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,2)|0;n=a[i>>2]|0;if((e+-1|0)>>>0<12&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function la(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,3)|0;n=a[i>>2]|0;if((e|0)<366&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function ua(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,2)|0;n=a[i>>2]|0;if((e|0)<13&(n&4|0)==0)a[t>>2]=e+-1;else a[i>>2]=n|4;f=s;return}function ca(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,2)|0;n=a[i>>2]|0;if((e|0)<60&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function fa(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0;e:while(1){e=a[t>>2]|0;do{if(e){o=a[e+12>>2]|0;if((o|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[o>>2]|0;if((e|0)==-1){a[t>>2]=0;s=1;break}else{s=(a[t>>2]|0)==0;break}}else s=1}while(0);o=a[n>>2]|0;do{if(o){e=a[o+12>>2]|0;if((e|0)==(a[o+16>>2]|0))e=Cm[a[(a[o>>2]|0)+36>>2]&63](o)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(s){s=o;break}else{s=o;break e}}else{a[n>>2]=0;l=15;break}}else l=15}while(0);if((l|0)==15){l=0;if(s){s=0;break}else s=0}e=a[t>>2]|0;o=a[e+12>>2]|0;if((o|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[o>>2]|0;if(!(wm[a[(a[i>>2]|0)+12>>2]&31](i,8192,e)|0))break;e=a[t>>2]|0;o=e+12|0;s=a[o>>2]|0;if((s|0)==(a[e+16>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[o>>2]=s+4;continue}}e=a[t>>2]|0;do{if(e){o=a[e+12>>2]|0;if((o|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[o>>2]|0;if((e|0)==-1){a[t>>2]=0;o=1;break}else{o=(a[t>>2]|0)==0;break}}else o=1}while(0);do{if(s){e=a[s+12>>2]|0
;if((e|0)==(a[s+16>>2]|0))e=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(o)break;else{l=39;break}}else{a[n>>2]=0;l=37;break}}else l=37}while(0);if((l|0)==37?o:0)l=39;if((l|0)==39)a[r>>2]=a[r>>2]|2;return}function da(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0;p=f;f=f+16|0;u=p+4|0;c=p;d=e+8|0;d=Cm[a[(a[d>>2]|0)+8>>2]&63](d)|0;e=r[d>>0]|0;if(!(e&1))l=(e&255)>>>1;else l=a[d+4>>2]|0;e=r[d+12>>0]|0;if(!(e&1))e=(e&255)>>>1;else e=a[d+16>>2]|0;do{if((l|0)!=(0-e|0)){a[c>>2]=a[i>>2];a[u>>2]=a[c>>2];e=lu(n,u,d,d+24|0,s,o,0)|0;l=a[t>>2]|0;if((e|0)==(d|0)&(l|0)==12){a[t>>2]=0;break}if((l|0)<12&(e-d|0)==12)a[t>>2]=l+12}else a[o>>2]=a[o>>2]|4}while(0);f=p;return}function pa(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,2)|0;n=a[i>>2]|0;if((e|0)<61&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function ha(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,1)|0;n=a[i>>2]|0;if((e|0)<7&(n&4|0)==0)a[t>>2]=e;else a[i>>2]=n|4;f=s;return}function ya(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;s=f;f=f+16|0;e=s+4|0;l=s;a[l>>2]=a[r>>2];a[e>>2]=a[l>>2];e=Su(n,e,i,o,4)|0;if(!(a[i>>2]&4))a[t>>2]=e+-1900;f=s;return}function ma(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0;e=a[t>>2]|0;do{if(e){o=a[e+12>>2]|0;if((o|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[o>>2]|0;if((e|0)==-1){a[t>>2]=0;s=1;break}else{s=(a[t>>2]|0)==0;break}}else s=1}while(0);o=a[n>>2]|0;do{if(o){e=a[o+12>>2]|0;if((e|0)==(a[o+16>>2]|0))e=Cm[a[(a[o>>2]|0)+36>>2]&63](o)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(s){l=o;u=17;break}else{u=16;break}}else{a[n>>2]=0;u=14;break}}else u=14}while(0);if((u|0)==14)if(s)u=16;else{l=0;u=17}e:do{if((u|0)==16)a[r>>2]=a[r>>2]|6;else if((u|0)==17){e=a[t>>2]|0;o=a[e+12>>2]|0;if((o|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[o>>2]|0;if((wm[a[(a[i>>2]|0)+52>>2]&31](i,e,0)|0)<<24>>24!=37){a[r>>2]=a[r>>2]|4;break}e=a[t>>2]|0;o=e+12|0;s=a[o>>2]|0;if((s|0)==(a[e+16>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;e=a[t>>2]|0;if(!e)o=1;else u=25}else{a[o>>2]=s+4;u=25}do{if((u|0)==25){o=a[e+12>>2]|0;if((o|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[o>>2]|0;if((e|0)==-1){a[t>>2]=0;o=1;break}else{o=(a[t>>2]|0)==0;break}}}while(0);do{if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(o)break e;else break}else{a[n>>2]=0;u=37;break}}else u=37}while(0);if((u|0)==37?!o:0)break;a[r>>2]=a[r>>2]|2}}while(0);return}function _a(e){e=e|0;ga(e+8|0);return}function ga(e){e=e|0;var t=0;t=a[e>>2]|0;if((t|0)!=(xr()|0))gd(a[e>>2]|0);return}function ba(e){e=e|0;ga(e+8|0);ry(e);return}function va(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0;u=f;f=f+112|0;n=u+4|0;i=u;a[i>>2]=n+100;wa(e+8|0,n,i,o,s,l);e=a[i>>2]|0;o=n;n=a[t>>2]|0;while(1){if((o|0)==(e|0))break;l=r[o>>0]|0;do{if(n){i=n+24|0;s=a[i>>2]|0;if((s|0)==(a[n+28>>2]|0)){t=(Rm[a[(a[n>>2]|0)+52>>2]&15](n,l&255)|0)==-1;n=t?0:n;break}else{a[i>>2]=s+1;r[s>>0]=l;break}}else n=0}while(0);o=o+1|0}f=u;return n|0}function wa(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0;d=f;f=f+16|0;c=d;r[c>>0]=37;l=c+1|0;r[l>>0]=o;u=c+2|0;r[u>>0]=s;r[c+3>>0]=0;if(s<<24>>24){r[l>>0]=s;r[u>>0]=o}a[n>>2]=t+(qe(t|0,(a[n>>2]|0)-t|0,c|0,i|0,a[e>>2]|0)|0);f=d;return}function ka(e){e=e|0;ga(e+8|0);return}function Sa(e){e=e|0;ga(e+8|0);ry(e);return}function Ia(e,t,n,r,i,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;s=s|0;var l=0;l=f;f=f+416|0;n=l+8|0;r=l;a[r>>2]=n+400;Ea(e+8|0,n,r,i,o,s);e=a[r>>2]|0;i=n;n=a[t>>2]|0;while(1){if((i|0)==(e|0))break;r=a[i>>2]|0;if(!n)n=0;else{o=n+24|0;s=a[o>>2]|0;if((s|0)==(a[n+28>>2]|0))r=Rm[a[(a[n>>2]|0)+52>>2]&15](n,r)|0;else{a[o>>2]=s+4;a[s>>2]=r}n=(r|0)==-1?0:n}i=i+4|0}f=l;return n|0}function Ea(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+128|0;c=s+16|0;d=s+12|0;l=s;u=s+8|0;a[d>>2]=c+100;wa(e,c,d,r,i,o);o=l;a[o>>2]=0;a[o+4>>2]=0;a[u>>2]=c;o=(a[n>>2]|0)-t>>2;i=yd(a[e>>2]|0)|0;o=fp(t,u,o,l)|0;if(i)yd(i)|0;a[n>>2]=t+(o<<2);f=s;return}function Aa(e){e=e|0;return}function xa(e){e=e|0;ry(e);return}function Ca(e){e=e|0;return 127}function Ta(e){e=e|0;return 127}function Pa(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function Oa(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function Na(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function Ma(e,t){e=e|0;t=t|0;tn(e,1,45);return}function Ra(e){e=e|0;return 0}function Da(e,t){e=e|0;t=t|0;r[e>>0]=2;r[e+1>>0]=3;r[e+2>>0]=0;r[e+3>>0]=4;return}function Fa(e,t){e=e|0;t=t|0;r[e>>0]=2;r[e+1>>0]=3;r[e+2>>0]=0;r[e+3>>0]=4;return}function Ba(e){e=e|0;return}function ja(e){e=e|0;ry(e);return}function La(e){e=e|0;return 127}function Ua(e){e=e|0;return 127}function Ha(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function Ga(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function za(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function Va(e,t){e=e|0;t=t|0;tn(e,1,45);return}function Ka(e){e=e|0;return 0}function Wa(e,t){e=e|0;t=t|0;r[e>>0]=2;r[e+1>>0]=3;r[e+2>>0]=0;r[e+3>>0]=4;return}function qa(e,t){e=e|0;t=t|0;r[e>>0]=2;r[e+1>>0]=3;r[e+2>>0]=0;r[e+3>>0]=4;return}function Xa(e){e=e|0;return}function Ya(e){e=e|0;ry(e);return}function Ja(e){e=e|0;return 2147483647}function Qa(e){e=e|0;return 2147483647}function Za(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function $a(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function eo(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function to(e,t){e=e|0;t=t|0;mn(e,1,45);return}function no(e){e=e|0;return 0}function ro(e,t){e=e|0;t=t|0;r[e>>0]=2;r[e+1>>0]=3;r[e+2>>0]=0;r[e+3>>0]=4;return}function io(e,t){e=e|0;t=t|0;r[e>>0]=2;r[e+1>>0]=3;r[e+2>>0]=0;r[e+3>>0]=4;return}function ao(e){e=e|0;return}function oo(e){e=e|0;ry(e);return}function so(e){e=e|0;return 2147483647}function lo(e){e=e|0;return 2147483647}function uo(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function co(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function fo(e,t){e=e|0;t=t|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}return}function po(e,t){e=e|0;t=t|0;mn(e,1,45);return}function ho(e){e=e|0;return 0}function yo(e,t){e=e|0;t=t|0;r[e>>0]=2;r[e+1>>0]=3;r[e+2>>0]=0;r[e+3>>0]=4;return}function mo(e,t){e=e|0;t=t|0;r[e>>0]=2;r[e+1>>0]=3;r[e+2>>0]=0;r[e+3>>0]=4;return}function _o(e){e=e|0;return}function go(e){e=e|0;ry(e);return}function bo(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;k=f;f=f+240|0;p=k+24|0;m=k;u=k+140|0;w=k+16|0;h=k+12|0;g=k+8|0;c=k+136|0;S=k+4|0;y=k+36|0;a[w>>2]=u;v=w+4|0;a[v>>2]=85;a[g>>2]=Tn(o)|0;e=fs(g,8368)|0;r[c>>0]=0;a[S>>2]=a[n>>2];o=a[o+4>>2]|0;a[p>>2]=a[S>>2];if(wo(t,p,i,g,o,s,c,e,w,h,u+100|0)|0){Nm[a[(a[e>>2]|0)+32>>2]&7](e,22460,22470,p)|0;i=a[h>>2]|0;u=a[w>>2]|0;e=i-u|0;if((e|0)>98){e=Tp(e+2|0)|0;if(!e)Uy();else{_=e;d=e}}else{_=0;d=y}if(!(r[c>>0]|0))e=d;else{r[d>>0]=45;e=d+1|0}c=p+10|0;d=p;while(1){if(u>>>0>=i>>>0)break;o=r[u>>0]|0;i=p;while(1){if((i|0)==(c|0)){i=c;break}if((r[i>>0]|0)==o<<24>>24)break;i=i+1|0}r[e>>0]=r[22460+(i-d)>>0]|0;i=a[h>>2]|0;e=e+1|0;u=u+1|0}r[e>>0]=0;a[m>>2]=l;Ld(y,22471,m)|0;if(_)Pp(_)}e=a[t>>2]|0;do{if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0))if((Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1){a[t>>2]=0;e=0;break}else{e=a[t>>2]|0;break}}else e=0}while(0);e=(e|0)==0;i=a[n>>2]|0;do{if(i){if((a[i+12>>2]|0)==(a[i+16>>2]|0)?(Cm[a[(a[i>>2]|0)+36>>2]&63](i)|0)==-1:0){a[n>>2]=0;b=27;break}if(!e)b=28}else b=27
}while(0);if((b|0)==27?e:0)b=28;if((b|0)==28)a[s>>2]=a[s>>2]|2;i=a[t>>2]|0;Fc(a[g>>2]|0)|0;e=a[w>>2]|0;a[w>>2]=0;if(e)Im[a[v>>2]&127](e);f=k;return i|0}function vo(e){e=e|0;return}function wo(e,t,n,s,l,u,c,d,p,h,y){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;u=u|0;c=c|0;d=d|0;p=p|0;h=h|0;y=y|0;var m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0;ne=f;f=f+512|0;U=ne+88|0;b=ne+96|0;te=ne+80|0;V=ne+72|0;z=ne+68|0;K=ne+500|0;H=ne+497|0;W=ne+496|0;J=ne+56|0;ee=ne+44|0;Z=ne+32|0;Q=ne+20|0;$=ne+8|0;G=ne+4|0;X=ne;a[U>>2]=y;a[te>>2]=b;Y=te+4|0;a[Y>>2]=85;a[V>>2]=b;a[z>>2]=b+400;y=0;while(1){if((y|0)==3)break;a[J+(y<<2)>>2]=0;y=y+1|0}y=0;while(1){if((y|0)==3)break;a[ee+(y<<2)>>2]=0;y=y+1|0}y=0;while(1){if((y|0)==3)break;a[Z+(y<<2)>>2]=0;y=y+1|0}y=0;while(1){if((y|0)==3)break;a[Q+(y<<2)>>2]=0;y=y+1|0}y=0;while(1){if((y|0)==3)break;a[$+(y<<2)>>2]=0;y=y+1|0}So(n,s,K,H,W,J,ee,Z,Q,G);a[h>>2]=a[p>>2];M=d+8|0;R=Z+4|0;D=Q+4|0;F=Q+8|0;B=Q+1|0;j=Z+8|0;L=Z+1|0;I=(l&512|0)!=0;E=ee+8|0;A=ee+1|0;x=ee+4|0;C=$+4|0;T=$+8|0;P=$+1|0;O=K+3|0;N=J+4|0;S=0;g=0;e:while(1){if(S>>>0>=4){q=218;break}y=a[e>>2]|0;do{if(y){if((a[y+12>>2]|0)==(a[y+16>>2]|0))if((Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0)==-1){a[e>>2]=0;y=0;break}else{y=a[e>>2]|0;break}}else y=0}while(0);y=(y|0)==0;d=a[t>>2]|0;do{if(d){if((a[d+12>>2]|0)!=(a[d+16>>2]|0))if(y)break;else{q=218;break e}if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)!=-1){if(y)break;else{q=218;break e}}else{a[t>>2]=0;q=28;break}}else q=28}while(0);if((q|0)==28){q=0;if(y){q=218;break}else d=0}t:do{switch(r[K+S>>0]|0){case 1:{if((S|0)!=3){y=a[e>>2]|0;n=a[y+12>>2]|0;if((n|0)==(a[y+16>>2]|0))y=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else y=o[n>>0]|0;if((y&255)<<24>>24<=-1){q=42;break e}if(!(i[(a[M>>2]|0)+(y<<24>>24<<1)>>1]&8192)){q=42;break e}y=a[e>>2]|0;n=y+12|0;s=a[n>>2]|0;if((s|0)==(a[y+16>>2]|0))y=Cm[a[(a[y>>2]|0)+40>>2]&63](y)|0;else{a[n>>2]=s+1;y=o[s>>0]|0}cn($,y&255);y=d;n=d;q=44}break}case 0:{if((S|0)!=3){y=d;n=d;q=44}break}case 3:{s=r[Z>>0]|0;y=(s&1)==0?(s&255)>>>1:a[R>>2]|0;n=r[Q>>0]|0;n=(n&1)==0?(n&255)>>>1:a[D>>2]|0;if((y|0)!=(0-n|0)){l=(y|0)==0;m=a[e>>2]|0;_=a[m+12>>2]|0;y=a[m+16>>2]|0;d=(_|0)==(y|0);if(l|(n|0)==0){if(d)y=Cm[a[(a[m>>2]|0)+36>>2]&63](m)|0;else y=o[_>>0]|0;y=y&255;if(l){if(y<<24>>24!=(r[((r[Q>>0]&1)==0?B:a[F>>2]|0)>>0]|0))break t;y=a[e>>2]|0;d=y+12|0;n=a[d>>2]|0;if((n|0)==(a[y+16>>2]|0))Cm[a[(a[y>>2]|0)+40>>2]&63](y)|0;else a[d>>2]=n+1;r[c>>0]=1;k=r[Q>>0]|0;g=((k&1)==0?(k&255)>>>1:a[D>>2]|0)>>>0>1?Q:g;break t}if(y<<24>>24!=(r[((r[Z>>0]&1)==0?L:a[j>>2]|0)>>0]|0)){r[c>>0]=1;break t}y=a[e>>2]|0;d=y+12|0;n=a[d>>2]|0;if((n|0)==(a[y+16>>2]|0))Cm[a[(a[y>>2]|0)+40>>2]&63](y)|0;else a[d>>2]=n+1;k=r[Z>>0]|0;g=((k&1)==0?(k&255)>>>1:a[R>>2]|0)>>>0>1?Z:g;break t}if(d){l=Cm[a[(a[m>>2]|0)+36>>2]&63](m)|0;y=a[e>>2]|0;s=r[Z>>0]|0;m=y;n=a[y+12>>2]|0;y=a[y+16>>2]|0}else{l=o[_>>0]|0;n=_}d=m+12|0;y=(n|0)==(y|0);if((l&255)<<24>>24==(r[((s&1)==0?L:a[j>>2]|0)>>0]|0)){if(y)Cm[a[(a[m>>2]|0)+40>>2]&63](m)|0;else a[d>>2]=n+1;k=r[Z>>0]|0;g=((k&1)==0?(k&255)>>>1:a[R>>2]|0)>>>0>1?Z:g;break t}if(y)y=Cm[a[(a[m>>2]|0)+36>>2]&63](m)|0;else y=o[n>>0]|0;if((y&255)<<24>>24!=(r[((r[Q>>0]&1)==0?B:a[F>>2]|0)>>0]|0)){q=98;break e}y=a[e>>2]|0;d=y+12|0;n=a[d>>2]|0;if((n|0)==(a[y+16>>2]|0))Cm[a[(a[y>>2]|0)+40>>2]&63](y)|0;else a[d>>2]=n+1;r[c>>0]=1;k=r[Q>>0]|0;g=((k&1)==0?(k&255)>>>1:a[D>>2]|0)>>>0>1?Q:g}break}case 2:{if(!(S>>>0<2|(g|0)!=0)?!(I|(S|0)==2&(r[O>>0]|0)!=0):0){g=0;break t}v=r[ee>>0]|0;y=(v&1)==0;w=a[E>>2]|0;s=y?A:w;k=s;n:do{if((S|0)!=0?(o[K+(S+-1)>>0]|0)<2:0){y=s+(y?(v&255)>>>1:a[x>>2]|0)|0;l=a[M>>2]|0;n=k;while(1){m=n;if((m|0)==(y|0))break;_=r[m>>0]|0;if(_<<24>>24<=-1)break;if(!(i[l+(_<<24>>24<<1)>>1]&8192))break;n=m+1|0}m=n-k|0;l=r[$>>0]|0;y=(l&1)==0;l=y?(l&255)>>>1:a[C>>2]|0;if(m>>>0<=l>>>0){l=(y?P:a[T>>2]|0)+l|0;y=l+(0-m)|0;while(1){if((y|0)==(l|0)){m=d;s=v;y=w;l=d;break n}if((r[y>>0]|0)!=(r[s>>0]|0)){m=d;s=v;y=w;n=k;l=d;break n}s=s+1|0;y=y+1|0}}else{m=d;s=v;y=w;n=k;l=d}}else{m=d;s=v;y=w;n=k;l=d}}while(0);n:while(1){_=(s&1)==0;y=(_?A:y)+(_?(s&255)>>>1:a[x>>2]|0)|0;_=n;if((_|0)==(y|0))break;y=a[e>>2]|0;do{if(y){if((a[y+12>>2]|0)==(a[y+16>>2]|0))if((Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0)==-1){a[e>>2]=0;y=0;break}else{y=a[e>>2]|0;break}}else y=0}while(0);d=(y|0)==0;do{if(l){if((a[l+12>>2]|0)!=(a[l+16>>2]|0))if(d){y=m;break}else{y=_;break n}if((Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0)!=-1){if(d^(m|0)==0){y=m;l=m;break}else{y=_;break n}}else{a[t>>2]=0;y=0;q=124;break}}else{y=m;q=124}}while(0);if((q|0)==124){q=0;if(d){y=_;break}else l=0}d=a[e>>2]|0;n=a[d+12>>2]|0;if((n|0)==(a[d+16>>2]|0))d=Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0;else d=o[n>>0]|0;if((d&255)<<24>>24!=(r[_>>0]|0)){y=_;break}d=a[e>>2]|0;n=d+12|0;s=a[n>>2]|0;if((s|0)==(a[d+16>>2]|0))Cm[a[(a[d>>2]|0)+40>>2]&63](d)|0;else a[n>>2]=s+1;m=y;s=r[ee>>0]|0;y=a[E>>2]|0;n=_+1|0}if(I?(k=r[ee>>0]|0,w=(k&1)==0,(y|0)!=((w?A:a[E>>2]|0)+(w?(k&255)>>>1:a[x>>2]|0)|0)):0){q=136;break e}break}case 4:{_=r[W>>0]|0;l=d;s=d;y=0;n:while(1){d=a[e>>2]|0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0))if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1){a[e>>2]=0;d=0;break}else{d=a[e>>2]|0;break}}else d=0}while(0);n=(d|0)==0;do{if(s){if((a[s+12>>2]|0)!=(a[s+16>>2]|0))if(n){d=l;m=s;break}else{d=l;break n}if((Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0)!=-1){if(n^(l|0)==0){d=l;m=l;break}else{d=l;break n}}else{a[t>>2]=0;d=0;q=147;break}}else{d=l;q=147}}while(0);if((q|0)==147){q=0;if(n)break;else m=0}n=a[e>>2]|0;s=a[n+12>>2]|0;if((s|0)==(a[n+16>>2]|0))n=Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0;else n=o[s>>0]|0;s=n&255;if(s<<24>>24>-1?(i[(a[M>>2]|0)+(n<<24>>24<<1)>>1]&2048)!=0:0){n=a[h>>2]|0;if((n|0)==(a[U>>2]|0)){Iu(p,h,U);n=a[h>>2]|0}a[h>>2]=n+1;r[n>>0]=s;y=y+1|0}else{k=r[J>>0]|0;if(!(s<<24>>24==_<<24>>24&((y|0)!=0?(((k&1)==0?(k&255)>>>1:a[N>>2]|0)|0)!=0:0)))break;if((b|0)==(a[z>>2]|0)){Eu(te,V,z);b=a[V>>2]|0}k=b+4|0;a[V>>2]=k;a[b>>2]=y;b=k;y=0}n=a[e>>2]|0;s=n+12|0;l=a[s>>2]|0;if((l|0)==(a[n+16>>2]|0)){Cm[a[(a[n>>2]|0)+40>>2]&63](n)|0;l=d;s=m;continue}else{a[s>>2]=l+1;l=d;s=m;continue}}if((y|0)!=0?(a[te>>2]|0)!=(b|0):0){if((b|0)==(a[z>>2]|0)){Eu(te,V,z);b=a[V>>2]|0}k=b+4|0;a[V>>2]=k;a[b>>2]=y;b=k}s=a[G>>2]|0;n:do{if((s|0)>0){y=a[e>>2]|0;do{if(y){if((a[y+12>>2]|0)==(a[y+16>>2]|0))if((Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0)==-1){a[e>>2]=0;y=0;break}else{y=a[e>>2]|0;break}}else y=0}while(0);y=(y|0)==0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0)?(Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1:0){a[t>>2]=0;q=179;break}if(y)l=d;else{q=184;break e}}else q=179}while(0);if((q|0)==179){q=0;if(y){q=184;break e}else l=0}y=a[e>>2]|0;d=a[y+12>>2]|0;if((d|0)==(a[y+16>>2]|0))y=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else y=o[d>>0]|0;if((y&255)<<24>>24!=(r[H>>0]|0)){q=184;break e}y=a[e>>2]|0;d=y+12|0;n=a[d>>2]|0;if((n|0)==(a[y+16>>2]|0)){Cm[a[(a[y>>2]|0)+40>>2]&63](y)|0;y=l;n=l}else{a[d>>2]=n+1;y=l;n=l}while(1){if((s|0)<=0)break n;d=a[e>>2]|0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0))if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1){a[e>>2]=0;d=0;break}else{d=a[e>>2]|0;break}}else d=0}while(0);d=(d|0)==0;do{if(n){if((a[n+12>>2]|0)!=(a[n+16>>2]|0))if(d){m=y;l=n;break}else{q=206;break e}if((Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0)!=-1){if(d^(y|0)==0){m=y;l=y;break}else{q=206;break e}}else{a[t>>2]=0;y=0;q=199;break}}else q=199}while(0);if((q|0)==199){q=0;if(d){q=206;break e}else{m=y;l=0}}y=a[e>>2]|0;d=a[y+12>>2]|0;if((d|0)==(a[y+16>>2]|0))y=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else y=o[d>>0]|0;if((y&255)<<24>>24<=-1){q=206;break e}if(!(i[(a[M>>2]|0)+(y<<24>>24<<1)>>1]&2048)){q=206;break e}if((a[h>>2]|0)==(a[U>>2]|0))Iu(p,h,U);y=a[e>>2]|0;d=a[y+12>>2]|0;if((d|0)==(a[y+16>>2]|0))y=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else y=o[d>>0]|0;d=a[h>>2]|0;a[h>>2]=d+1;r[d>>0]=y;s=s+-1|0;a[G>>2]=s;y=a[e>>2]|0;d=y+12|0;n=a[d>>2]|0;if((n|0)==(a[y+16>>2]|0)){Cm[a[(a[y>>2]|0)+40>>2]&63](y)|0;y=m;n=l;continue}else{a[d>>2]=n+1;y=m;n=l;continue}}}}while(0);if((a[h>>2]|0)==(a[p>>2]|0)){q=216;break e}break}default:{}}}while(0);t:do{if((q|0)==44)while(1){q=0;d=a[e>>2]|0;do{if(d){
if((a[d+12>>2]|0)==(a[d+16>>2]|0))if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1){a[e>>2]=0;d=0;break}else{d=a[e>>2]|0;break}}else d=0}while(0);d=(d|0)==0;do{if(n){if((a[n+12>>2]|0)!=(a[n+16>>2]|0))if(d){l=y;s=n;break}else break t;if((Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0)!=-1){if(d^(y|0)==0){l=y;s=y;break}else break t}else{a[t>>2]=0;y=0;q=54;break}}else q=54}while(0);if((q|0)==54){q=0;if(d)break t;else{l=y;s=0}}y=a[e>>2]|0;d=a[y+12>>2]|0;if((d|0)==(a[y+16>>2]|0))y=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else y=o[d>>0]|0;if((y&255)<<24>>24<=-1)break t;if(!(i[(a[M>>2]|0)+(y<<24>>24<<1)>>1]&8192))break t;y=a[e>>2]|0;d=y+12|0;n=a[d>>2]|0;if((n|0)==(a[y+16>>2]|0))y=Cm[a[(a[y>>2]|0)+40>>2]&63](y)|0;else{a[d>>2]=n+1;y=o[n>>0]|0}cn($,y&255);y=l;n=s;q=44}}while(0);S=S+1|0}e:do{if((q|0)==42){a[u>>2]=a[u>>2]|4;d=0}else if((q|0)==98){a[u>>2]=a[u>>2]|4;d=0}else if((q|0)==136){a[u>>2]=a[u>>2]|4;d=0}else if((q|0)==184){a[u>>2]=a[u>>2]|4;d=0}else if((q|0)==206){a[u>>2]=a[u>>2]|4;d=0}else if((q|0)==216){a[u>>2]=a[u>>2]|4;d=0}else if((q|0)==218){t:do{if(g){l=g+1|0;m=g+8|0;_=g+4|0;n=1;n:while(1){y=r[g>>0]|0;if(!(y&1))y=(y&255)>>>1;else y=a[_>>2]|0;if(n>>>0>=y>>>0)break t;y=a[e>>2]|0;do{if(y){if((a[y+12>>2]|0)==(a[y+16>>2]|0))if((Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0)==-1){a[e>>2]=0;y=0;break}else{y=a[e>>2]|0;break}}else y=0}while(0);y=(y|0)==0;d=a[t>>2]|0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0)?(Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1:0){a[t>>2]=0;q=234;break}if(!y)break n}else q=234}while(0);if((q|0)==234?(q=0,y):0)break;y=a[e>>2]|0;d=a[y+12>>2]|0;if((d|0)==(a[y+16>>2]|0))y=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else y=o[d>>0]|0;if(!(r[g>>0]&1))d=l;else d=a[m>>2]|0;if((y&255)<<24>>24!=(r[d+n>>0]|0))break;y=n+1|0;d=a[e>>2]|0;n=d+12|0;s=a[n>>2]|0;if((s|0)==(a[d+16>>2]|0)){Cm[a[(a[d>>2]|0)+40>>2]&63](d)|0;n=y;continue}else{a[n>>2]=s+1;n=y;continue}}a[u>>2]=a[u>>2]|4;d=0;break e}}while(0);y=a[te>>2]|0;if((y|0)!=(b|0)){a[X>>2]=0;Io(J,y,b,X);if(!(a[X>>2]|0)){d=1;break}else{a[u>>2]=a[u>>2]|4;d=0;break}}else d=1}}while(0);nn($);nn(Q);nn(Z);nn(ee);nn(J);y=a[te>>2]|0;a[te>>2]=0;if(y)Im[a[Y>>2]&127](y);f=ne;return d|0}function ko(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0;g=f;f=f+144|0;w=g+24|0;b=g+32|0;_=g+16|0;c=g+8|0;v=g+4|0;u=g+28|0;d=g;a[_>>2]=b;m=_+4|0;a[m>>2]=85;h=Tn(o)|0;a[v>>2]=h;e=fs(v,8368)|0;r[u>>0]=0;p=a[n>>2]|0;a[d>>2]=p;o=a[o+4>>2]|0;a[w>>2]=a[d>>2];d=p;if(wo(t,w,i,v,o,s,u,e,_,c,b+100|0)|0){if(!(r[l>>0]&1)){r[l+1>>0]=0;r[l>>0]=0}else{r[a[l+8>>2]>>0]=0;a[l+4>>2]=0}if(r[u>>0]|0)cn(l,Rm[a[(a[e>>2]|0)+28>>2]&15](e,45)|0);u=Rm[a[(a[e>>2]|0)+28>>2]&15](e,48)|0;i=a[c>>2]|0;o=i+-1|0;e=a[_>>2]|0;while(1){if(e>>>0>=o>>>0)break;if((r[e>>0]|0)!=u<<24>>24)break;e=e+1|0}Au(l,e,i)|0}e=a[t>>2]|0;do{if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0))if((Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1){a[t>>2]=0;e=0;break}else{e=a[t>>2]|0;break}}else e=0}while(0);e=(e|0)==0;do{if(p){if((a[d+12>>2]|0)==(a[d+16>>2]|0)?(Cm[a[(a[p>>2]|0)+36>>2]&63](d)|0)==-1:0){a[n>>2]=0;y=22;break}if(!e)y=23}else y=22}while(0);if((y|0)==22?e:0)y=23;if((y|0)==23)a[s>>2]=a[s>>2]|2;o=a[t>>2]|0;Fc(h)|0;e=a[_>>2]|0;a[_>>2]=0;if(e)Im[a[m>>2]&127](e);f=g;return o|0}function So(e,t,n,i,o,s,l,u,c,d){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;c=c|0;d=d|0;var p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;S=f;f=f+112|0;p=S+100|0;y=S+88|0;_=S+76|0;b=S+64|0;w=S+52|0;h=S+48|0;m=S+36|0;g=S+24|0;v=S+12|0;k=S;if(e){t=fs(t,7976)|0;Em[a[(a[t>>2]|0)+44>>2]&63](p,t);k=a[p>>2]|0;r[n>>0]=k;r[n+1>>0]=k>>8;r[n+2>>0]=k>>16;r[n+3>>0]=k>>24;Em[a[(a[t>>2]|0)+32>>2]&63](y,t);if(!(r[c>>0]&1)){r[c+1>>0]=0;r[c>>0]=0}else{r[a[c+8>>2]>>0]=0;a[c+4>>2]=0}un(c,0);a[c>>2]=a[y>>2];a[c+4>>2]=a[y+4>>2];a[c+8>>2]=a[y+8>>2];e=0;while(1){if((e|0)==3)break;a[y+(e<<2)>>2]=0;e=e+1|0}nn(y);Em[a[(a[t>>2]|0)+28>>2]&63](_,t);if(!(r[u>>0]&1)){r[u+1>>0]=0;r[u>>0]=0}else{r[a[u+8>>2]>>0]=0;a[u+4>>2]=0}un(u,0);a[u>>2]=a[_>>2];a[u+4>>2]=a[_+4>>2];a[u+8>>2]=a[_+8>>2];e=0;while(1){if((e|0)==3)break;a[_+(e<<2)>>2]=0;e=e+1|0}nn(_);r[i>>0]=Cm[a[(a[t>>2]|0)+12>>2]&63](t)|0;r[o>>0]=Cm[a[(a[t>>2]|0)+16>>2]&63](t)|0;Em[a[(a[t>>2]|0)+20>>2]&63](b,t);if(!(r[s>>0]&1)){r[s+1>>0]=0;r[s>>0]=0}else{r[a[s+8>>2]>>0]=0;a[s+4>>2]=0}un(s,0);a[s>>2]=a[b>>2];a[s+4>>2]=a[b+4>>2];a[s+8>>2]=a[b+8>>2];e=0;while(1){if((e|0)==3)break;a[b+(e<<2)>>2]=0;e=e+1|0}nn(b);Em[a[(a[t>>2]|0)+24>>2]&63](w,t);if(!(r[l>>0]&1)){r[l+1>>0]=0;r[l>>0]=0}else{r[a[l+8>>2]>>0]=0;a[l+4>>2]=0}un(l,0);a[l>>2]=a[w>>2];a[l+4>>2]=a[w+4>>2];a[l+8>>2]=a[w+8>>2];e=0;while(1){if((e|0)==3)break;a[w+(e<<2)>>2]=0;e=e+1|0}nn(w);e=Cm[a[(a[t>>2]|0)+36>>2]&63](t)|0}else{t=fs(t,7912)|0;Em[a[(a[t>>2]|0)+44>>2]&63](h,t);w=a[h>>2]|0;r[n>>0]=w;r[n+1>>0]=w>>8;r[n+2>>0]=w>>16;r[n+3>>0]=w>>24;Em[a[(a[t>>2]|0)+32>>2]&63](m,t);if(!(r[c>>0]&1)){r[c+1>>0]=0;r[c>>0]=0}else{r[a[c+8>>2]>>0]=0;a[c+4>>2]=0}un(c,0);a[c>>2]=a[m>>2];a[c+4>>2]=a[m+4>>2];a[c+8>>2]=a[m+8>>2];e=0;while(1){if((e|0)==3)break;a[m+(e<<2)>>2]=0;e=e+1|0}nn(m);Em[a[(a[t>>2]|0)+28>>2]&63](g,t);if(!(r[u>>0]&1)){r[u+1>>0]=0;r[u>>0]=0}else{r[a[u+8>>2]>>0]=0;a[u+4>>2]=0}un(u,0);a[u>>2]=a[g>>2];a[u+4>>2]=a[g+4>>2];a[u+8>>2]=a[g+8>>2];e=0;while(1){if((e|0)==3)break;a[g+(e<<2)>>2]=0;e=e+1|0}nn(g);r[i>>0]=Cm[a[(a[t>>2]|0)+12>>2]&63](t)|0;r[o>>0]=Cm[a[(a[t>>2]|0)+16>>2]&63](t)|0;Em[a[(a[t>>2]|0)+20>>2]&63](v,t);if(!(r[s>>0]&1)){r[s+1>>0]=0;r[s>>0]=0}else{r[a[s+8>>2]>>0]=0;a[s+4>>2]=0}un(s,0);a[s>>2]=a[v>>2];a[s+4>>2]=a[v+4>>2];a[s+8>>2]=a[v+8>>2];e=0;while(1){if((e|0)==3)break;a[v+(e<<2)>>2]=0;e=e+1|0}nn(v);Em[a[(a[t>>2]|0)+24>>2]&63](k,t);if(!(r[l>>0]&1)){r[l+1>>0]=0;r[l>>0]=0}else{r[a[l+8>>2]>>0]=0;a[l+4>>2]=0}un(l,0);a[l>>2]=a[k>>2];a[l+4>>2]=a[k+4>>2];a[l+8>>2]=a[k+8>>2];e=0;while(1){if((e|0)==3)break;a[k+(e<<2)>>2]=0;e=e+1|0}nn(k);e=Cm[a[(a[t>>2]|0)+36>>2]&63](t)|0}a[d>>2]=e;f=S;return}function Io(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0;o=r[e>>0]|0;l=e+4|0;s=a[l>>2]|0;do{if(((o&1)==0?(o&255)>>>1:s)|0){if((t|0)!=(n|0)){o=n;s=t;while(1){o=o+-4|0;if(s>>>0>=o>>>0)break;u=a[s>>2]|0;a[s>>2]=a[o>>2];a[o>>2]=u;s=s+4|0}o=r[e>>0]|0;s=a[l>>2]|0}l=(o&1)==0;e=l?e+1|0:a[e+8>>2]|0;u=n+-4|0;n=e+(l?(o&255)>>>1:s)|0;s=t;while(1){o=r[e>>0]|0;l=o<<24>>24<1|o<<24>>24==127;if(s>>>0>=u>>>0)break;if(!l?(o<<24>>24|0)!=(a[s>>2]|0):0){c=10;break}e=(n-e|0)>1?e+1|0:e;s=s+4|0}if((c|0)==10){a[i>>2]=4;break}if(!l?((a[u>>2]|0)+-1|0)>>>0>=o<<24>>24>>>0:0)a[i>>2]=4}}while(0);return}function Eo(e){e=e|0;return}function Ao(e){e=e|0;ry(e);return}function xo(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;k=f;f=f+576|0;p=k+424|0;m=k;u=k+24|0;w=k+16|0;h=k+12|0;g=k+8|0;c=k+564|0;S=k+4|0;y=k+464|0;a[w>>2]=u;v=w+4|0;a[v>>2]=85;a[g>>2]=Tn(o)|0;e=fs(g,8360)|0;r[c>>0]=0;a[S>>2]=a[n>>2];o=a[o+4>>2]|0;a[p>>2]=a[S>>2];if(Co(t,p,i,g,o,s,c,e,w,h,u+400|0)|0){Nm[a[(a[e>>2]|0)+48>>2]&7](e,22475,22485,p)|0;i=a[h>>2]|0;u=a[w>>2]|0;e=i-u|0;if((e|0)>392){e=Tp((e>>2)+2|0)|0;if(!e)Uy();else{_=e;d=e}}else{_=0;d=y}if(!(r[c>>0]|0))e=d;else{r[d>>0]=45;e=d+1|0}c=p+40|0;d=p;while(1){if(u>>>0>=i>>>0)break;o=a[u>>2]|0;i=p;while(1){if((i|0)==(c|0)){i=c;break}if((a[i>>2]|0)==(o|0))break;i=i+4|0}r[e>>0]=r[22475+(i-d>>2)>>0]|0;i=a[h>>2]|0;e=e+1|0;u=u+4|0}r[e>>0]=0;a[m>>2]=l;Ld(y,22471,m)|0;if(_)Pp(_)}e=a[t>>2]|0;do{if(e){i=a[e+12>>2]|0;if((i|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[i>>2]|0;if((e|0)==-1){a[t>>2]=0;o=1;break}else{o=(a[t>>2]|0)==0;break}}else o=1}while(0);e=a[n>>2]|0;do{if(e){i=a[e+12>>2]|0;if((i|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[i>>2]|0;if((e|0)!=-1){if(o)break;else{b=32;break}}else{a[n>>2]=0;b=30;break}}else b=30}while(0);if((b|0)==30?o:0)b=32;if((b|0)==32)a[s>>2]=a[s>>2]|2;i=a[t>>2]|0;Fc(a[g>>2]|0)|0;e=a[w>>2]|0;a[w>>2]=0;if(e)Im[a[v>>2]&127](e);f=k;return i|0}function Co(e,t,n,i,s,l,u,c,d,p,h){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;u=u|0;c=c|0;d=d|0;p=p|0;h=h|0
;var y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0;J=f;f=f+512|0;R=J+96|0;g=J+104|0;Y=J+88|0;j=J+80|0;B=J+76|0;L=J+504|0;D=J+72|0;U=J+68|0;V=J+56|0;X=J+44|0;W=J+32|0;K=J+20|0;q=J+8|0;F=J+4|0;G=J;a[R>>2]=h;a[Y>>2]=g;z=Y+4|0;a[z>>2]=85;a[j>>2]=g;a[B>>2]=g+400;h=0;while(1){if((h|0)==3)break;a[V+(h<<2)>>2]=0;h=h+1|0}h=0;while(1){if((h|0)==3)break;a[X+(h<<2)>>2]=0;h=h+1|0}h=0;while(1){if((h|0)==3)break;a[W+(h<<2)>>2]=0;h=h+1|0}h=0;while(1){if((h|0)==3)break;a[K+(h<<2)>>2]=0;h=h+1|0}h=0;while(1){if((h|0)==3)break;a[q+(h<<2)>>2]=0;h=h+1|0}Po(n,i,L,D,U,V,X,W,K,F);a[p>>2]=a[d>>2];P=W+4|0;O=K+4|0;N=K+8|0;M=W+8|0;S=(s&512|0)!=0;I=X+8|0;E=X+4|0;A=q+4|0;x=q+8|0;C=L+3|0;T=V+4|0;k=0;_=0;e:while(1){if(k>>>0>=4){H=232;break}h=a[e>>2]|0;do{if(h){n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if((h|0)==-1){a[e>>2]=0;i=1;break}else{i=(a[e>>2]|0)==0;break}}else i=1}while(0);n=a[t>>2]|0;do{if(n){h=a[n+12>>2]|0;if((h|0)==(a[n+16>>2]|0))h=Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0;else h=a[h>>2]|0;if((h|0)!=-1){if(i){w=n;break}else{H=232;break e}}else{a[t>>2]=0;H=31;break}}else H=31}while(0);if((H|0)==31){H=0;if(i){H=232;break}else w=0}t:do{switch(r[L+k>>0]|0){case 1:{if((k|0)!=3){h=a[e>>2]|0;n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if(!(wm[a[(a[c>>2]|0)+12>>2]&31](c,8192,h)|0)){H=44;break e}h=a[e>>2]|0;n=h+12|0;i=a[n>>2]|0;if((i|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+40>>2]&63](h)|0;else{a[n>>2]=i+4;h=a[i>>2]|0}wn(q,h);h=w;s=w;H=46}break}case 0:{if((k|0)!=3){h=w;s=w;H=46}break}case 3:{y=r[W>>0]|0;h=(y&1)==0?(y&255)>>>1:a[P>>2]|0;i=r[K>>0]|0;i=(i&1)==0?(i&255)>>>1:a[O>>2]|0;if((h|0)!=(0-i|0)){s=(h|0)==0;m=a[e>>2]|0;b=a[m+12>>2]|0;h=a[m+16>>2]|0;n=(b|0)==(h|0);if(s|(i|0)==0){if(n)h=Cm[a[(a[m>>2]|0)+36>>2]&63](m)|0;else h=a[b>>2]|0;if(s){if((h|0)!=(a[((r[K>>0]&1)==0?O:a[N>>2]|0)>>2]|0))break t;h=a[e>>2]|0;n=h+12|0;i=a[n>>2]|0;if((i|0)==(a[h+16>>2]|0))Cm[a[(a[h>>2]|0)+40>>2]&63](h)|0;else a[n>>2]=i+4;r[u>>0]=1;w=r[K>>0]|0;_=((w&1)==0?(w&255)>>>1:a[O>>2]|0)>>>0>1?K:_;break t}if((h|0)!=(a[((r[W>>0]&1)==0?P:a[M>>2]|0)>>2]|0)){r[u>>0]=1;break t}h=a[e>>2]|0;n=h+12|0;i=a[n>>2]|0;if((i|0)==(a[h+16>>2]|0))Cm[a[(a[h>>2]|0)+40>>2]&63](h)|0;else a[n>>2]=i+4;w=r[W>>0]|0;_=((w&1)==0?(w&255)>>>1:a[P>>2]|0)>>>0>1?W:_;break t}if(n){s=Cm[a[(a[m>>2]|0)+36>>2]&63](m)|0;h=a[e>>2]|0;y=r[W>>0]|0;m=h;i=a[h+12>>2]|0;h=a[h+16>>2]|0}else{s=a[b>>2]|0;i=b}n=m+12|0;h=(i|0)==(h|0);if((s|0)==(a[((y&1)==0?P:a[M>>2]|0)>>2]|0)){if(h)Cm[a[(a[m>>2]|0)+40>>2]&63](m)|0;else a[n>>2]=i+4;w=r[W>>0]|0;_=((w&1)==0?(w&255)>>>1:a[P>>2]|0)>>>0>1?W:_;break t}if(h)h=Cm[a[(a[m>>2]|0)+36>>2]&63](m)|0;else h=a[i>>2]|0;if((h|0)!=(a[((r[K>>0]&1)==0?O:a[N>>2]|0)>>2]|0)){H=102;break e}h=a[e>>2]|0;n=h+12|0;i=a[n>>2]|0;if((i|0)==(a[h+16>>2]|0))Cm[a[(a[h>>2]|0)+40>>2]&63](h)|0;else a[n>>2]=i+4;r[u>>0]=1;w=r[K>>0]|0;_=((w&1)==0?(w&255)>>>1:a[O>>2]|0)>>>0>1?K:_}break}case 2:{if(!(k>>>0<2|(_|0)!=0)?!(S|(k|0)==2&(r[C>>0]|0)!=0):0){_=0;break t}n=r[X>>0]|0;i=a[I>>2]|0;h=(n&1)==0?E:i;n:do{if((k|0)!=0?(o[L+(k+-1)>>0]|0)<2:0){s=i;while(1){v=(n&1)==0;i=h;if((i|0)==((v?E:s)+((v?(n&255)>>>1:a[E>>2]|0)<<2)|0)){i=s;break}if(!(wm[a[(a[c>>2]|0)+12>>2]&31](c,8192,a[i>>2]|0)|0)){H=109;break}n=r[X>>0]|0;s=a[I>>2]|0;h=i+4|0}if((H|0)==109){H=0;n=r[X>>0]|0;i=a[I>>2]|0}y=(n&1)==0?E:i;v=y;b=h-v>>2;m=r[q>>0]|0;s=(m&1)==0;m=s?(m&255)>>>1:a[A>>2]|0;if(b>>>0>m>>>0){b=w;s=v;y=w}else{m=(s?A:a[x>>2]|0)+(m<<2)|0;s=m+(0-b<<2)|0;while(1){if((s|0)==(m|0)){b=w;s=h;y=w;break n}if((a[s>>2]|0)!=(a[y>>2]|0)){b=w;s=v;y=w;break n}y=y+4|0;s=s+4|0}}}else{b=w;s=h;y=w}}while(0);n:while(1){h=(n&1)==0;h=(h?E:i)+((h?(n&255)>>>1:a[E>>2]|0)<<2)|0;m=s;if((m|0)==(h|0))break;h=a[e>>2]|0;do{if(h){n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if((h|0)==-1){a[e>>2]=0;n=1;break}else{n=(a[e>>2]|0)==0;break}}else n=1}while(0);do{if(y){h=a[y+12>>2]|0;if((h|0)==(a[y+16>>2]|0))h=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else h=a[h>>2]|0;if((h|0)!=-1){if(n^(b|0)==0){h=b;y=b;break}else{h=m;break n}}else{a[t>>2]=0;h=0;H=130;break}}else{h=b;H=130}}while(0);if((H|0)==130){H=0;if(n){h=m;break}else y=0}n=a[e>>2]|0;i=a[n+12>>2]|0;if((i|0)==(a[n+16>>2]|0))n=Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0;else n=a[i>>2]|0;if((n|0)!=(a[m>>2]|0)){h=m;break}n=a[e>>2]|0;i=n+12|0;s=a[i>>2]|0;if((s|0)==(a[n+16>>2]|0))Cm[a[(a[n>>2]|0)+40>>2]&63](n)|0;else a[i>>2]=s+4;b=h;n=r[X>>0]|0;i=a[I>>2]|0;s=m+4|0}if(S?(w=r[X>>0]|0,v=(w&1)==0,(h|0)!=((v?E:a[I>>2]|0)+((v?(w&255)>>>1:a[E>>2]|0)<<2)|0)):0){H=142;break e}break}case 4:{b=a[U>>2]|0;y=w;s=w;h=0;n:while(1){n=a[e>>2]|0;do{if(n){i=a[n+12>>2]|0;if((i|0)==(a[n+16>>2]|0))n=Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0;else n=a[i>>2]|0;if((n|0)==-1){a[e>>2]=0;i=1;break}else{i=(a[e>>2]|0)==0;break}}else i=1}while(0);do{if(s){n=a[s+12>>2]|0;if((n|0)==(a[s+16>>2]|0))n=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else n=a[n>>2]|0;if((n|0)!=-1){if(i^(y|0)==0){n=y;m=y;break}else break n}else{a[t>>2]=0;n=0;H=156;break}}else{n=y;H=156}}while(0);if((H|0)==156){H=0;if(i){y=n;break}else m=0}i=a[e>>2]|0;s=a[i+12>>2]|0;if((s|0)==(a[i+16>>2]|0))s=Cm[a[(a[i>>2]|0)+36>>2]&63](i)|0;else s=a[s>>2]|0;if(wm[a[(a[c>>2]|0)+12>>2]&31](c,2048,s)|0){i=a[p>>2]|0;if((i|0)==(a[R>>2]|0)){xu(d,p,R);i=a[p>>2]|0}a[p>>2]=i+4;a[i>>2]=s;h=h+1|0}else{w=r[V>>0]|0;if(!((s|0)==(b|0)&((h|0)!=0?(((w&1)==0?(w&255)>>>1:a[T>>2]|0)|0)!=0:0))){y=n;break}if((g|0)==(a[B>>2]|0)){Eu(Y,j,B);g=a[j>>2]|0}w=g+4|0;a[j>>2]=w;a[g>>2]=h;g=w;h=0}i=a[e>>2]|0;s=i+12|0;y=a[s>>2]|0;if((y|0)==(a[i+16>>2]|0)){Cm[a[(a[i>>2]|0)+40>>2]&63](i)|0;y=n;s=m;continue}else{a[s>>2]=y+4;y=n;s=m;continue}}if((h|0)!=0?(a[Y>>2]|0)!=(g|0):0){if((g|0)==(a[B>>2]|0)){Eu(Y,j,B);g=a[j>>2]|0}w=g+4|0;a[j>>2]=w;a[g>>2]=h;g=w}s=a[F>>2]|0;n:do{if((s|0)>0){h=a[e>>2]|0;do{if(h){n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if((h|0)==-1){a[e>>2]=0;n=1;break}else{n=(a[e>>2]|0)==0;break}}else n=1}while(0);do{if(y){h=a[y+12>>2]|0;if((h|0)==(a[y+16>>2]|0))h=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else h=a[h>>2]|0;if((h|0)!=-1){if(n)break;else{H=196;break e}}else{a[t>>2]=0;H=190;break}}else H=190}while(0);if((H|0)==190){H=0;if(n){H=196;break e}else y=0}h=a[e>>2]|0;n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if((h|0)!=(a[D>>2]|0)){H=196;break e}h=a[e>>2]|0;n=h+12|0;i=a[n>>2]|0;if((i|0)==(a[h+16>>2]|0)){Cm[a[(a[h>>2]|0)+40>>2]&63](h)|0;h=y}else{a[n>>2]=i+4;h=y}while(1){if((s|0)<=0)break n;n=a[e>>2]|0;do{if(n){i=a[n+12>>2]|0;if((i|0)==(a[n+16>>2]|0))n=Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0;else n=a[i>>2]|0;if((n|0)==-1){a[e>>2]=0;i=1;break}else{i=(a[e>>2]|0)==0;break}}else i=1}while(0);do{if(y){n=a[y+12>>2]|0;if((n|0)==(a[y+16>>2]|0))n=Cm[a[(a[y>>2]|0)+36>>2]&63](y)|0;else n=a[n>>2]|0;if((n|0)!=-1){if(i^(h|0)==0){m=h;y=h;break}else{H=220;break e}}else{a[t>>2]=0;h=0;H=214;break}}else H=214}while(0);if((H|0)==214){H=0;if(i){H=220;break e}else{m=h;y=0}}h=a[e>>2]|0;n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if(!(wm[a[(a[c>>2]|0)+12>>2]&31](c,2048,h)|0)){H=220;break e}if((a[p>>2]|0)==(a[R>>2]|0))xu(d,p,R);h=a[e>>2]|0;n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;n=a[p>>2]|0;a[p>>2]=n+4;a[n>>2]=h;s=s+-1|0;a[F>>2]=s;h=a[e>>2]|0;n=h+12|0;i=a[n>>2]|0;if((i|0)==(a[h+16>>2]|0)){Cm[a[(a[h>>2]|0)+40>>2]&63](h)|0;h=m;continue}else{a[n>>2]=i+4;h=m;continue}}}}while(0);if((a[p>>2]|0)==(a[d>>2]|0)){H=230;break e}break}default:{}}}while(0);t:do{if((H|0)==46)while(1){H=0;n=a[e>>2]|0;do{if(n){i=a[n+12>>2]|0;if((i|0)==(a[n+16>>2]|0))n=Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0;else n=a[i>>2]|0;if((n|0)==-1){a[e>>2]=0;i=1;break}else{i=(a[e>>2]|0)==0;break}}else i=1}while(0);do{if(s){n=a[s+12>>2]|0;if((n|0)==(a[s+16>>2]|0))n=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else n=a[n>>2]|0;if((n|0)!=-1){if(i^(h|0)==0){y=h;s=h;break}else break t}else{a[t>>2]=0;h=0;H=59
;break}}else H=59}while(0);if((H|0)==59){H=0;if(i)break t;else{y=h;s=0}}h=a[e>>2]|0;n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if(!(wm[a[(a[c>>2]|0)+12>>2]&31](c,8192,h)|0))break t;h=a[e>>2]|0;n=h+12|0;i=a[n>>2]|0;if((i|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+40>>2]&63](h)|0;else{a[n>>2]=i+4;h=a[i>>2]|0}wn(q,h);h=y;H=46}}while(0);k=k+1|0}e:do{if((H|0)==44){a[l>>2]=a[l>>2]|4;n=0}else if((H|0)==102){a[l>>2]=a[l>>2]|4;n=0}else if((H|0)==142){a[l>>2]=a[l>>2]|4;n=0}else if((H|0)==196){a[l>>2]=a[l>>2]|4;n=0}else if((H|0)==220){a[l>>2]=a[l>>2]|4;n=0}else if((H|0)==230){a[l>>2]=a[l>>2]|4;n=0}else if((H|0)==232){t:do{if(_){y=_+4|0;m=_+8|0;s=1;n:while(1){h=r[_>>0]|0;if(!(h&1))h=(h&255)>>>1;else h=a[y>>2]|0;if(s>>>0>=h>>>0)break t;h=a[e>>2]|0;do{if(h){n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if((h|0)==-1){a[e>>2]=0;i=1;break}else{i=(a[e>>2]|0)==0;break}}else i=1}while(0);h=a[t>>2]|0;do{if(h){n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if((h|0)!=-1){if(i)break;else break n}else{a[t>>2]=0;H=251;break}}else H=251}while(0);if((H|0)==251?(H=0,i):0)break;h=a[e>>2]|0;n=a[h+12>>2]|0;if((n|0)==(a[h+16>>2]|0))h=Cm[a[(a[h>>2]|0)+36>>2]&63](h)|0;else h=a[n>>2]|0;if(!(r[_>>0]&1))n=y;else n=a[m>>2]|0;if((h|0)!=(a[n+(s<<2)>>2]|0))break;h=s+1|0;n=a[e>>2]|0;i=n+12|0;s=a[i>>2]|0;if((s|0)==(a[n+16>>2]|0)){Cm[a[(a[n>>2]|0)+40>>2]&63](n)|0;s=h;continue}else{a[i>>2]=s+4;s=h;continue}}a[l>>2]=a[l>>2]|4;n=0;break e}}while(0);h=a[Y>>2]|0;if((h|0)!=(g|0)){a[G>>2]=0;Io(V,h,g,G);if(!(a[G>>2]|0)){n=1;break}else{a[l>>2]=a[l>>2]|4;n=0;break}}else n=1}}while(0);_n(q);_n(K);_n(W);_n(X);nn(V);h=a[Y>>2]|0;a[Y>>2]=0;if(h)Im[a[z>>2]&127](h);f=J;return n|0}function To(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0;g=f;f=f+432|0;w=g+424|0;b=g+24|0;_=g+16|0;c=g+8|0;v=g+4|0;u=g+428|0;d=g;a[_>>2]=b;m=_+4|0;a[m>>2]=85;h=Tn(o)|0;a[v>>2]=h;e=fs(v,8360)|0;r[u>>0]=0;p=a[n>>2]|0;a[d>>2]=p;o=a[o+4>>2]|0;a[w>>2]=a[d>>2];d=p;if(Co(t,w,i,v,o,s,u,e,_,c,b+400|0)|0){if(!(r[l>>0]&1))r[l>>0]=0;else a[a[l+8>>2]>>2]=0;a[l+4>>2]=0;if(r[u>>0]|0)wn(l,Rm[a[(a[e>>2]|0)+44>>2]&15](e,45)|0);u=Rm[a[(a[e>>2]|0)+44>>2]&15](e,48)|0;i=a[c>>2]|0;o=i+-4|0;e=a[_>>2]|0;while(1){if(e>>>0>=o>>>0)break;if((a[e>>2]|0)!=(u|0))break;e=e+4|0}Cu(l,e,i)|0}e=a[t>>2]|0;do{if(e){o=a[e+12>>2]|0;if((o|0)==(a[e+16>>2]|0))e=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else e=a[o>>2]|0;if((e|0)==-1){a[t>>2]=0;o=1;break}else{o=(a[t>>2]|0)==0;break}}else o=1}while(0);do{if(p){e=a[d+12>>2]|0;if((e|0)==(a[d+16>>2]|0))e=Cm[a[(a[p>>2]|0)+36>>2]&63](d)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(o)break;else{y=27;break}}else{a[n>>2]=0;y=25;break}}else y=25}while(0);if((y|0)==25?o:0)y=27;if((y|0)==27)a[s>>2]=a[s>>2]|2;o=a[t>>2]|0;Fc(h)|0;e=a[_>>2]|0;a[_>>2]=0;if(e)Im[a[m>>2]&127](e);f=g;return o|0}function Po(e,t,n,i,o,s,l,u,c,d){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;c=c|0;d=d|0;var p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;S=f;f=f+112|0;p=S+100|0;y=S+88|0;_=S+76|0;b=S+64|0;w=S+52|0;h=S+48|0;m=S+36|0;g=S+24|0;v=S+12|0;k=S;if(e){t=fs(t,8104)|0;Em[a[(a[t>>2]|0)+44>>2]&63](p,t);k=a[p>>2]|0;r[n>>0]=k;r[n+1>>0]=k>>8;r[n+2>>0]=k>>16;r[n+3>>0]=k>>24;Em[a[(a[t>>2]|0)+32>>2]&63](y,t);if(!(r[c>>0]&1))r[c>>0]=0;else a[a[c+8>>2]>>2]=0;a[c+4>>2]=0;vn(c,0);a[c>>2]=a[y>>2];a[c+4>>2]=a[y+4>>2];a[c+8>>2]=a[y+8>>2];e=0;while(1){if((e|0)==3)break;a[y+(e<<2)>>2]=0;e=e+1|0}_n(y);Em[a[(a[t>>2]|0)+28>>2]&63](_,t);if(!(r[u>>0]&1))r[u>>0]=0;else a[a[u+8>>2]>>2]=0;a[u+4>>2]=0;vn(u,0);a[u>>2]=a[_>>2];a[u+4>>2]=a[_+4>>2];a[u+8>>2]=a[_+8>>2];e=0;while(1){if((e|0)==3)break;a[_+(e<<2)>>2]=0;e=e+1|0}_n(_);a[i>>2]=Cm[a[(a[t>>2]|0)+12>>2]&63](t)|0;a[o>>2]=Cm[a[(a[t>>2]|0)+16>>2]&63](t)|0;Em[a[(a[t>>2]|0)+20>>2]&63](b,t);if(!(r[s>>0]&1)){r[s+1>>0]=0;r[s>>0]=0}else{r[a[s+8>>2]>>0]=0;a[s+4>>2]=0}un(s,0);a[s>>2]=a[b>>2];a[s+4>>2]=a[b+4>>2];a[s+8>>2]=a[b+8>>2];e=0;while(1){if((e|0)==3)break;a[b+(e<<2)>>2]=0;e=e+1|0}nn(b);Em[a[(a[t>>2]|0)+24>>2]&63](w,t);if(!(r[l>>0]&1))r[l>>0]=0;else a[a[l+8>>2]>>2]=0;a[l+4>>2]=0;vn(l,0);a[l>>2]=a[w>>2];a[l+4>>2]=a[w+4>>2];a[l+8>>2]=a[w+8>>2];e=0;while(1){if((e|0)==3)break;a[w+(e<<2)>>2]=0;e=e+1|0}_n(w);e=Cm[a[(a[t>>2]|0)+36>>2]&63](t)|0}else{t=fs(t,8040)|0;Em[a[(a[t>>2]|0)+44>>2]&63](h,t);w=a[h>>2]|0;r[n>>0]=w;r[n+1>>0]=w>>8;r[n+2>>0]=w>>16;r[n+3>>0]=w>>24;Em[a[(a[t>>2]|0)+32>>2]&63](m,t);if(!(r[c>>0]&1))r[c>>0]=0;else a[a[c+8>>2]>>2]=0;a[c+4>>2]=0;vn(c,0);a[c>>2]=a[m>>2];a[c+4>>2]=a[m+4>>2];a[c+8>>2]=a[m+8>>2];e=0;while(1){if((e|0)==3)break;a[m+(e<<2)>>2]=0;e=e+1|0}_n(m);Em[a[(a[t>>2]|0)+28>>2]&63](g,t);if(!(r[u>>0]&1))r[u>>0]=0;else a[a[u+8>>2]>>2]=0;a[u+4>>2]=0;vn(u,0);a[u>>2]=a[g>>2];a[u+4>>2]=a[g+4>>2];a[u+8>>2]=a[g+8>>2];e=0;while(1){if((e|0)==3)break;a[g+(e<<2)>>2]=0;e=e+1|0}_n(g);a[i>>2]=Cm[a[(a[t>>2]|0)+12>>2]&63](t)|0;a[o>>2]=Cm[a[(a[t>>2]|0)+16>>2]&63](t)|0;Em[a[(a[t>>2]|0)+20>>2]&63](v,t);if(!(r[s>>0]&1)){r[s+1>>0]=0;r[s>>0]=0}else{r[a[s+8>>2]>>0]=0;a[s+4>>2]=0}un(s,0);a[s>>2]=a[v>>2];a[s+4>>2]=a[v+4>>2];a[s+8>>2]=a[v+8>>2];e=0;while(1){if((e|0)==3)break;a[v+(e<<2)>>2]=0;e=e+1|0}nn(v);Em[a[(a[t>>2]|0)+24>>2]&63](k,t);if(!(r[l>>0]&1))r[l>>0]=0;else a[a[l+8>>2]>>2]=0;a[l+4>>2]=0;vn(l,0);a[l>>2]=a[k>>2];a[l+4>>2]=a[k+4>>2];a[l+8>>2]=a[k+8>>2];e=0;while(1){if((e|0)==3)break;a[k+(e<<2)>>2]=0;e=e+1|0}_n(k);e=Cm[a[(a[t>>2]|0)+36>>2]&63](t)|0}a[d>>2]=e;f=S;return}function Oo(e){e=e|0;return}function No(e){e=e|0;ry(e);return}function Mo(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=+s;var l=0,u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0;O=f;f=f+384|0;m=O+8|0;u=O;e=O+284|0;d=O+72|0;l=O+184|0;I=O+68|0;w=O+180|0;g=O+177|0;k=O+176|0;C=O+56|0;P=O+44|0;T=O+32|0;h=O+28|0;y=O+76|0;v=O+24|0;b=O+16|0;_=O+20|0;a[d>>2]=e;c[m>>3]=s;e=Vd(e,100,22486,m)|0;if(e>>>0>99){e=xr()|0;c[u>>3]=s;e=vu(d,e,22486,u)|0;l=a[d>>2]|0;if(!l)Uy();u=Tp(e)|0;if(!u)Uy();else{N=u;M=l;S=u;A=e}}else{N=0;M=0;S=l;A=e}e=Tn(i)|0;a[I>>2]=e;p=fs(I,8368)|0;u=a[d>>2]|0;Nm[a[(a[p>>2]|0)+32>>2]&7](p,u,u+A|0,S)|0;if(!A)d=0;else d=(r[a[d>>2]>>0]|0)==45;l=0;while(1){if((l|0)==3)break;a[C+(l<<2)>>2]=0;l=l+1|0}l=0;while(1){if((l|0)==3)break;a[P+(l<<2)>>2]=0;l=l+1|0}l=0;while(1){if((l|0)==3)break;a[T+(l<<2)>>2]=0;l=l+1|0}Ro(n,d,I,w,g,k,C,P,T,h);u=a[h>>2]|0;if((A|0)>(u|0)){n=r[T>>0]|0;l=r[P>>0]|0;l=(A-u<<1|1)+u+((n&1)==0?(n&255)>>>1:a[T+4>>2]|0)+((l&1)==0?(l&255)>>>1:a[P+4>>2]|0)|0}else{n=r[T>>0]|0;l=r[P>>0]|0;l=u+2+((n&1)==0?(n&255)>>>1:a[T+4>>2]|0)+((l&1)==0?(l&255)>>>1:a[P+4>>2]|0)|0}if(l>>>0>100){l=Tp(l)|0;if(!l)Uy();else{x=l;E=l}}else{x=0;E=y}Do(E,v,b,a[i+4>>2]|0,S,S+A|0,p,d,w,r[g>>0]|0,r[k>>0]|0,C,P,T,u);a[_>>2]=a[t>>2];t=a[v>>2]|0;l=a[b>>2]|0;a[m>>2]=a[_>>2];l=bu(m,E,t,l,i,o)|0;if(x){Pp(x);e=a[I>>2]|0}nn(T);nn(P);nn(C);Fc(e)|0;if(N)Pp(N);if(M)Pp(M);f=O;return l|0}function Ro(e,t,n,i,o,s,l,u,c,d){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;c=c|0;d=d|0;var p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0;A=f;f=f+112|0;h=A+108|0;g=A+96|0;y=A+92|0;b=A+80|0;S=A+68|0;E=A+56|0;m=A+52|0;v=A+40|0;_=A+36|0;w=A+24|0;k=A+12|0;I=A;if(e){p=fs(n,7976)|0;e=a[p>>2]|0;if(t){Em[a[e+44>>2]&63](h,p);I=a[h>>2]|0;r[i>>0]=I;r[i+1>>0]=I>>8;r[i+2>>0]=I>>16;r[i+3>>0]=I>>24;Em[a[(a[p>>2]|0)+32>>2]&63](g,p);if(!(r[c>>0]&1)){r[c+1>>0]=0;r[c>>0]=0}else{r[a[c+8>>2]>>0]=0;a[c+4>>2]=0}un(c,0);a[c>>2]=a[g>>2];a[c+4>>2]=a[g+4>>2];a[c+8>>2]=a[g+8>>2];e=0;while(1){if((e|0)==3)break;a[g+(e<<2)>>2]=0;e=e+1|0}nn(g);n=p}else{Em[a[e+40>>2]&63](y,p);I=a[y>>2]|0;r[i>>0]=I;r[i+1>>0]=I>>8;r[i+2>>0]=I>>16;r[i+3>>0]=I>>24;Em[a[(a[p>>2]|0)+28>>2]&63](b,p);if(!(r[c>>0]&1)){r[c+1>>0]=0;r[c>>0]=0}else{r[a[c+8>>2]>>0]=0;a[c+4>>2]=0}un(c,0);a[c>>2]=a[b>>2];a[c+4>>2]=a[b+4>>2];a[c+8>>2]=a[b+8>>2];e=0;while(1){if((e|0)==3)break;a[b+(e<<2)>>2]=0;e=e+1|0}nn(b);n=p}r[o>>0]=Cm[a[(a[p>>2]|0)+12>>2]&63](p)|0;r[s>>0]=Cm[a[(a[p>>2]|0)+16>>2]&63](p)|0;Em[a[(a[n>>2]|0)+20>>2]&63](S,p);if(!(r[l>>0]&1)){r[l+1>>0]=0
;r[l>>0]=0}else{r[a[l+8>>2]>>0]=0;a[l+4>>2]=0}un(l,0);a[l>>2]=a[S>>2];a[l+4>>2]=a[S+4>>2];a[l+8>>2]=a[S+8>>2];e=0;while(1){if((e|0)==3)break;a[S+(e<<2)>>2]=0;e=e+1|0}nn(S);Em[a[(a[n>>2]|0)+24>>2]&63](E,p);if(!(r[u>>0]&1)){r[u+1>>0]=0;r[u>>0]=0}else{r[a[u+8>>2]>>0]=0;a[u+4>>2]=0}un(u,0);a[u>>2]=a[E>>2];a[u+4>>2]=a[E+4>>2];a[u+8>>2]=a[E+8>>2];e=0;while(1){if((e|0)==3)break;a[E+(e<<2)>>2]=0;e=e+1|0}nn(E);e=Cm[a[(a[p>>2]|0)+36>>2]&63](p)|0}else{p=fs(n,7912)|0;e=a[p>>2]|0;if(t){Em[a[e+44>>2]&63](m,p);E=a[m>>2]|0;r[i>>0]=E;r[i+1>>0]=E>>8;r[i+2>>0]=E>>16;r[i+3>>0]=E>>24;Em[a[(a[p>>2]|0)+32>>2]&63](v,p);if(!(r[c>>0]&1)){r[c+1>>0]=0;r[c>>0]=0}else{r[a[c+8>>2]>>0]=0;a[c+4>>2]=0}un(c,0);a[c>>2]=a[v>>2];a[c+4>>2]=a[v+4>>2];a[c+8>>2]=a[v+8>>2];e=0;while(1){if((e|0)==3)break;a[v+(e<<2)>>2]=0;e=e+1|0}nn(v);n=p}else{Em[a[e+40>>2]&63](_,p);E=a[_>>2]|0;r[i>>0]=E;r[i+1>>0]=E>>8;r[i+2>>0]=E>>16;r[i+3>>0]=E>>24;Em[a[(a[p>>2]|0)+28>>2]&63](w,p);if(!(r[c>>0]&1)){r[c+1>>0]=0;r[c>>0]=0}else{r[a[c+8>>2]>>0]=0;a[c+4>>2]=0}un(c,0);a[c>>2]=a[w>>2];a[c+4>>2]=a[w+4>>2];a[c+8>>2]=a[w+8>>2];e=0;while(1){if((e|0)==3)break;a[w+(e<<2)>>2]=0;e=e+1|0}nn(w);n=p}r[o>>0]=Cm[a[(a[p>>2]|0)+12>>2]&63](p)|0;r[s>>0]=Cm[a[(a[p>>2]|0)+16>>2]&63](p)|0;Em[a[(a[n>>2]|0)+20>>2]&63](k,p);if(!(r[l>>0]&1)){r[l+1>>0]=0;r[l>>0]=0}else{r[a[l+8>>2]>>0]=0;a[l+4>>2]=0}un(l,0);a[l>>2]=a[k>>2];a[l+4>>2]=a[k+4>>2];a[l+8>>2]=a[k+8>>2];e=0;while(1){if((e|0)==3)break;a[k+(e<<2)>>2]=0;e=e+1|0}nn(k);Em[a[(a[n>>2]|0)+24>>2]&63](I,p);if(!(r[u>>0]&1)){r[u+1>>0]=0;r[u>>0]=0}else{r[a[u+8>>2]>>0]=0;a[u+4>>2]=0}un(u,0);a[u>>2]=a[I>>2];a[u+4>>2]=a[I+4>>2];a[u+8>>2]=a[I+8>>2];e=0;while(1){if((e|0)==3)break;a[I+(e<<2)>>2]=0;e=e+1|0}nn(I);e=Cm[a[(a[p>>2]|0)+36>>2]&63](p)|0}a[d>>2]=e;f=A;return}function Do(e,t,n,o,s,l,u,c,f,d,p,h,y,m,_){e=e|0;t=t|0;n=n|0;o=o|0;s=s|0;l=l|0;u=u|0;c=c|0;f=f|0;d=d|0;p=p|0;h=h|0;y=y|0;m=m|0;_=_|0;var g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0;a[n>>2]=e;M=m+4|0;R=m+8|0;D=m+1|0;x=y+4|0;C=(o&512|0)==0;T=y+8|0;P=y+1|0;O=u+8|0;N=(_|0)>0;I=h+4|0;E=h+8|0;A=h+1|0;S=0;while(1){if((S|0)==4)break;e:do{switch(r[f+S>>0]|0){case 0:{a[t>>2]=a[n>>2];break}case 1:{a[t>>2]=a[n>>2];w=Rm[a[(a[u>>2]|0)+28>>2]&15](u,32)|0;k=a[n>>2]|0;a[n>>2]=k+1;r[k>>0]=w;break}case 3:{k=r[m>>0]|0;g=(k&1)==0;if((g?(k&255)>>>1:a[M>>2]|0)|0){w=r[(g?D:a[R>>2]|0)>>0]|0;k=a[n>>2]|0;a[n>>2]=k+1;r[k>>0]=w}break}case 2:{b=r[y>>0]|0;g=(b&1)==0;b=g?(b&255)>>>1:a[x>>2]|0;if(!(C|(b|0)==0)){v=g?P:a[T>>2]|0;b=v+b|0;g=a[n>>2]|0;while(1){if((v|0)==(b|0))break;r[g>>0]=r[v>>0]|0;g=g+1|0;v=v+1|0}a[n>>2]=g}break}case 4:{b=a[n>>2]|0;s=c?s+1|0:s;v=a[O>>2]|0;g=s;while(1){if(g>>>0>=l>>>0)break;w=r[g>>0]|0;if(w<<24>>24<=-1)break;if(!(i[v+(w<<24>>24<<1)>>1]&2048))break;g=g+1|0}if(N){w=_;while(1){v=(w|0)>0;if(!(g>>>0>s>>>0&v))break;k=g+-1|0;F=r[k>>0]|0;v=a[n>>2]|0;a[n>>2]=v+1;r[v>>0]=F;g=k;w=w+-1|0}if(v)k=Rm[a[(a[u>>2]|0)+28>>2]&15](u,48)|0;else k=0;while(1){v=a[n>>2]|0;a[n>>2]=v+1;if((w|0)<=0)break;r[v>>0]=k;w=w+-1|0}r[v>>0]=d}t:do{if((g|0)==(s|0)){k=Rm[a[(a[u>>2]|0)+28>>2]&15](u,48)|0;F=a[n>>2]|0;a[n>>2]=F+1;r[F>>0]=k}else{F=r[h>>0]|0;v=(F&1)==0;if(!((v?(F&255)>>>1:a[I>>2]|0)|0)){v=-1;w=0;k=0}else{v=r[(v?A:a[E>>2]|0)>>0]|0;w=0;k=0}while(1){if((g|0)==(s|0))break t;if((k|0)==(v|0)){F=a[n>>2]|0;a[n>>2]=F+1;r[F>>0]=p;w=w+1|0;F=r[h>>0]|0;v=(F&1)==0;if(w>>>0<(v?(F&255)>>>1:a[I>>2]|0)>>>0){v=r[(v?A:a[E>>2]|0)+w>>0]|0;v=v<<24>>24==127?-1:v<<24>>24;k=0}else{v=k;k=0}}F=g+-1|0;j=r[F>>0]|0;B=a[n>>2]|0;a[n>>2]=B+1;r[B>>0]=j;g=F;k=k+1|0}}}while(0);g=a[n>>2]|0;if((b|0)!=(g|0))while(1){g=g+-1|0;if(b>>>0>=g>>>0)break e;j=r[b>>0]|0;r[b>>0]=r[g>>0]|0;r[g>>0]=j;b=b+1|0}break}default:{}}}while(0);S=S+1|0}s=r[m>>0]|0;g=(s&1)==0;s=g?(s&255)>>>1:a[M>>2]|0;if(s>>>0>1){g=g?D:a[R>>2]|0;b=g+s|0;s=a[n>>2]|0;while(1){g=g+1|0;if((g|0)==(b|0))break;r[s>>0]=r[g>>0]|0;s=s+1|0}a[n>>2]=s}switch(o&176|0){case 32:{a[t>>2]=a[n>>2];break}case 16:break;default:a[t>>2]=e}return}function Fo(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0;T=f;f=f+176|0;y=T+56|0;S=T+52|0;w=T+164|0;g=T+161|0;k=T+160|0;A=T+40|0;C=T+28|0;x=T+16|0;d=T+12|0;h=T+60|0;v=T+8|0;b=T+4|0;m=T;e=Tn(i)|0;a[S>>2]=e;_=fs(S,8368)|0;p=r[s>>0]|0;l=(p&1)==0;u=s+4|0;if(!((l?(p&255)>>>1:a[u>>2]|0)|0))p=0;else{p=r[(l?s+1|0:a[s+8>>2]|0)>>0]|0;p=p<<24>>24==(Rm[a[(a[_>>2]|0)+28>>2]&15](_,45)|0)<<24>>24}l=0;while(1){if((l|0)==3)break;a[A+(l<<2)>>2]=0;l=l+1|0}l=0;while(1){if((l|0)==3)break;a[C+(l<<2)>>2]=0;l=l+1|0}l=0;while(1){if((l|0)==3)break;a[x+(l<<2)>>2]=0;l=l+1|0}Ro(n,p,S,w,g,k,A,C,x,d);c=r[s>>0]|0;n=a[u>>2]|0;l=(c&1)==0?(c&255)>>>1:n;u=a[d>>2]|0;if((l|0)>(u|0)){P=r[x>>0]|0;d=r[C>>0]|0;l=(l-u<<1|1)+u+((P&1)==0?(P&255)>>>1:a[x+4>>2]|0)+((d&1)==0?(d&255)>>>1:a[C+4>>2]|0)|0}else{P=r[x>>0]|0;l=r[C>>0]|0;l=u+2+((P&1)==0?(P&255)>>>1:a[x+4>>2]|0)+((l&1)==0?(l&255)>>>1:a[C+4>>2]|0)|0}if(l>>>0>100){l=Tp(l)|0;if(!l)Uy();else{E=l;I=l}}else{E=0;I=h}P=(c&1)==0;l=P?s+1|0:a[s+8>>2]|0;Do(I,v,b,a[i+4>>2]|0,l,l+(P?(c&255)>>>1:n)|0,_,p,w,r[g>>0]|0,r[k>>0]|0,A,C,x,u);a[m>>2]=a[t>>2];P=a[v>>2]|0;l=a[b>>2]|0;a[y>>2]=a[m>>2];l=bu(y,I,P,l,i,o)|0;if(E){Pp(E);e=a[S>>2]|0}nn(x);nn(C);nn(A);Fc(e)|0;f=T;return l|0}function Bo(e){e=e|0;return}function jo(e){e=e|0;ry(e);return}function Lo(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=+s;var l=0,u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0;O=f;f=f+1008|0;m=O+8|0;u=O;e=O+896|0;d=O+888|0;l=O+488|0;I=O+480|0;w=O+892|0;g=O+476|0;k=O+472|0;C=O+460|0;P=O+448|0;T=O+436|0;h=O+432|0;y=O+32|0;v=O+24|0;b=O+16|0;_=O+20|0;a[d>>2]=e;c[m>>3]=s;e=Vd(e,100,22486,m)|0;if(e>>>0>99){e=xr()|0;c[u>>3]=s;e=vu(d,e,22486,u)|0;l=a[d>>2]|0;if(!l)Uy();u=Tp(e<<2)|0;if(!u)Uy();else{N=u;M=l;S=u;A=e}}else{N=0;M=0;S=l;A=e}e=Tn(i)|0;a[I>>2]=e;p=fs(I,8360)|0;u=a[d>>2]|0;Nm[a[(a[p>>2]|0)+48>>2]&7](p,u,u+A|0,S)|0;if(!A)d=0;else d=(r[a[d>>2]>>0]|0)==45;l=0;while(1){if((l|0)==3)break;a[C+(l<<2)>>2]=0;l=l+1|0}l=0;while(1){if((l|0)==3)break;a[P+(l<<2)>>2]=0;l=l+1|0}l=0;while(1){if((l|0)==3)break;a[T+(l<<2)>>2]=0;l=l+1|0}Uo(n,d,I,w,g,k,C,P,T,h);u=a[h>>2]|0;if((A|0)>(u|0)){n=r[T>>0]|0;l=r[P>>0]|0;l=(A-u<<1|1)+u+((n&1)==0?(n&255)>>>1:a[T+4>>2]|0)+((l&1)==0?(l&255)>>>1:a[P+4>>2]|0)|0}else{n=r[T>>0]|0;l=r[P>>0]|0;l=u+2+((n&1)==0?(n&255)>>>1:a[T+4>>2]|0)+((l&1)==0?(l&255)>>>1:a[P+4>>2]|0)|0}if(l>>>0>100){l=Tp(l<<2)|0;if(!l)Uy();else{x=l;E=l}}else{x=0;E=y}Ho(E,v,b,a[i+4>>2]|0,S,S+(A<<2)|0,p,d,w,a[g>>2]|0,a[k>>2]|0,C,P,T,u);a[_>>2]=a[t>>2];t=a[v>>2]|0;l=a[b>>2]|0;a[m>>2]=a[_>>2];l=wu(m,E,t,l,i,o)|0;if(x){Pp(x);e=a[I>>2]|0}_n(T);_n(P);nn(C);Fc(e)|0;if(N)Pp(N);if(M)Pp(M);f=O;return l|0}function Uo(e,t,n,i,o,s,l,u,c,d){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;c=c|0;d=d|0;var p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0;E=f;f=f+112|0;p=E+108|0;_=E+96|0;h=E+92|0;g=E+80|0;k=E+68|0;I=E+56|0;y=E+52|0;b=E+40|0;m=E+36|0;v=E+24|0;w=E+12|0;S=E;if(e){n=fs(n,8104)|0;e=a[n>>2]|0;if(t){Em[a[e+44>>2]&63](p,n);S=a[p>>2]|0;r[i>>0]=S;r[i+1>>0]=S>>8;r[i+2>>0]=S>>16;r[i+3>>0]=S>>24;Em[a[(a[n>>2]|0)+32>>2]&63](_,n);if(!(r[c>>0]&1))r[c>>0]=0;else a[a[c+8>>2]>>2]=0;a[c+4>>2]=0;vn(c,0);a[c>>2]=a[_>>2];a[c+4>>2]=a[_+4>>2];a[c+8>>2]=a[_+8>>2];e=0;while(1){if((e|0)==3)break;a[_+(e<<2)>>2]=0;e=e+1|0}_n(_)}else{Em[a[e+40>>2]&63](h,n);S=a[h>>2]|0;r[i>>0]=S;r[i+1>>0]=S>>8;r[i+2>>0]=S>>16;r[i+3>>0]=S>>24;Em[a[(a[n>>2]|0)+28>>2]&63](g,n);if(!(r[c>>0]&1))r[c>>0]=0;else a[a[c+8>>2]>>2]=0;a[c+4>>2]=0;vn(c,0);a[c>>2]=a[g>>2];a[c+4>>2]=a[g+4>>2];a[c+8>>2]=a[g+8>>2];e=0;while(1){if((e|0)==3)break;a[g+(e<<2)>>2]=0;e=e+1|0}_n(g)}a[o>>2]=Cm[a[(a[n>>2]|0)+12>>2]&63](n)|0;a[s>>2]=Cm[a[(a[n>>2]|0)+16>>2]&63](n)|0;Em[a[(a[n>>2]|0)+20>>2]&63](k,n);if(!(r[l>>0]&1)){r[l+1>>0]=0;r[l>>0]=0}else{r[a[l+8>>2]>>0]=0;a[l+4>>2]=0}un(l,0);a[l>>2]=a[k>>2];a[l+4>>2]=a[k+4>>2];a[l+8>>2]=a[k+8>>2];e=0;while(1){if((e|0)==3)break;a[k+(e<<2)>>2]=0;e=e+1|0}nn(k);Em[a[(a[n>>2]|0)+24>>2]&63](I,n);if(!(r[u>>0]&1))r[u>>0]=0;else a[a[u+8>>2]>>2]=0
;a[u+4>>2]=0;vn(u,0);a[u>>2]=a[I>>2];a[u+4>>2]=a[I+4>>2];a[u+8>>2]=a[I+8>>2];e=0;while(1){if((e|0)==3)break;a[I+(e<<2)>>2]=0;e=e+1|0}_n(I);e=Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0}else{n=fs(n,8040)|0;e=a[n>>2]|0;if(t){Em[a[e+44>>2]&63](y,n);I=a[y>>2]|0;r[i>>0]=I;r[i+1>>0]=I>>8;r[i+2>>0]=I>>16;r[i+3>>0]=I>>24;Em[a[(a[n>>2]|0)+32>>2]&63](b,n);if(!(r[c>>0]&1))r[c>>0]=0;else a[a[c+8>>2]>>2]=0;a[c+4>>2]=0;vn(c,0);a[c>>2]=a[b>>2];a[c+4>>2]=a[b+4>>2];a[c+8>>2]=a[b+8>>2];e=0;while(1){if((e|0)==3)break;a[b+(e<<2)>>2]=0;e=e+1|0}_n(b)}else{Em[a[e+40>>2]&63](m,n);I=a[m>>2]|0;r[i>>0]=I;r[i+1>>0]=I>>8;r[i+2>>0]=I>>16;r[i+3>>0]=I>>24;Em[a[(a[n>>2]|0)+28>>2]&63](v,n);if(!(r[c>>0]&1))r[c>>0]=0;else a[a[c+8>>2]>>2]=0;a[c+4>>2]=0;vn(c,0);a[c>>2]=a[v>>2];a[c+4>>2]=a[v+4>>2];a[c+8>>2]=a[v+8>>2];e=0;while(1){if((e|0)==3)break;a[v+(e<<2)>>2]=0;e=e+1|0}_n(v)}a[o>>2]=Cm[a[(a[n>>2]|0)+12>>2]&63](n)|0;a[s>>2]=Cm[a[(a[n>>2]|0)+16>>2]&63](n)|0;Em[a[(a[n>>2]|0)+20>>2]&63](w,n);if(!(r[l>>0]&1)){r[l+1>>0]=0;r[l>>0]=0}else{r[a[l+8>>2]>>0]=0;a[l+4>>2]=0}un(l,0);a[l>>2]=a[w>>2];a[l+4>>2]=a[w+4>>2];a[l+8>>2]=a[w+8>>2];e=0;while(1){if((e|0)==3)break;a[w+(e<<2)>>2]=0;e=e+1|0}nn(w);Em[a[(a[n>>2]|0)+24>>2]&63](S,n);if(!(r[u>>0]&1))r[u>>0]=0;else a[a[u+8>>2]>>2]=0;a[u+4>>2]=0;vn(u,0);a[u>>2]=a[S>>2];a[u+4>>2]=a[S+4>>2];a[u+8>>2]=a[S+8>>2];e=0;while(1){if((e|0)==3)break;a[S+(e<<2)>>2]=0;e=e+1|0}_n(S);e=Cm[a[(a[n>>2]|0)+36>>2]&63](n)|0}a[d>>2]=e;f=E;return}function Ho(e,t,n,i,o,s,l,u,c,f,d,p,h,y,m){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;c=c|0;f=f|0;d=d|0;p=p|0;h=h|0;y=y|0;m=m|0;var _=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0;a[n>>2]=e;M=y+4|0;R=y+8|0;A=h+4|0;x=(i&512|0)==0;C=h+8|0;T=(m|0)>0;P=p+4|0;O=p+8|0;N=p+1|0;E=0;while(1){if((E|0)==4)break;e:do{switch(r[c+E>>0]|0){case 0:{a[t>>2]=a[n>>2];break}case 1:{a[t>>2]=a[n>>2];S=Rm[a[(a[l>>2]|0)+44>>2]&15](l,32)|0;I=a[n>>2]|0;a[n>>2]=I+4;a[I>>2]=S;break}case 3:{I=r[y>>0]|0;_=(I&1)==0;if((_?(I&255)>>>1:a[M>>2]|0)|0){S=a[(_?M:a[R>>2]|0)>>2]|0;I=a[n>>2]|0;a[n>>2]=I+4;a[I>>2]=S}break}case 2:{w=r[h>>0]|0;_=(w&1)==0;w=_?(w&255)>>>1:a[A>>2]|0;if(!(x|(w|0)==0)){v=_?A:a[C>>2]|0;g=v+(w<<2)|0;b=a[n>>2]|0;_=b;while(1){if((v|0)==(g|0))break;a[_>>2]=a[v>>2];_=_+4|0;v=v+4|0}a[n>>2]=b+(w<<2)}break}case 4:{g=a[n>>2]|0;o=u?o+4|0:o;_=o;while(1){if(_>>>0>=s>>>0)break;if(!(wm[a[(a[l>>2]|0)+12>>2]&31](l,2048,a[_>>2]|0)|0))break;_=_+4|0}if(T){w=m;while(1){b=(w|0)>0;if(!(_>>>0>o>>>0&b))break;I=_+-4|0;k=a[I>>2]|0;S=a[n>>2]|0;a[n>>2]=S+4;a[S>>2]=k;_=I;w=w+-1|0}if(b)k=Rm[a[(a[l>>2]|0)+44>>2]&15](l,48)|0;else k=0;v=a[n>>2]|0;while(1){b=v+4|0;if((w|0)<=0)break;a[v>>2]=k;v=b;w=w+-1|0}a[n>>2]=b;a[v>>2]=f}if((_|0)==(o|0)){S=Rm[a[(a[l>>2]|0)+44>>2]&15](l,48)|0;I=a[n>>2]|0;_=I+4|0;a[n>>2]=_;a[I>>2]=S}else{S=r[p>>0]|0;b=(S&1)==0;I=a[P>>2]|0;if(!((b?(S&255)>>>1:I)|0)){k=-1;w=0;S=0}else{k=r[(b?N:a[O>>2]|0)>>0]|0;w=0;S=0}while(1){if((_|0)==(o|0))break;b=a[n>>2]|0;if((S|0)==(k|0)){v=b+4|0;a[n>>2]=v;a[b>>2]=d;w=w+1|0;k=r[p>>0]|0;b=(k&1)==0;if(w>>>0<(b?(k&255)>>>1:I)>>>0){k=r[(b?N:a[O>>2]|0)+w>>0]|0;b=v;k=k<<24>>24==127?-1:k<<24>>24;v=0}else{b=v;k=S;v=0}}else v=S;S=_+-4|0;D=a[S>>2]|0;a[n>>2]=b+4;a[b>>2]=D;_=S;S=v+1|0}_=a[n>>2]|0}if((g|0)!=(_|0))while(1){_=_+-4|0;if(g>>>0>=_>>>0)break e;D=a[g>>2]|0;a[g>>2]=a[_>>2];a[_>>2]=D;g=g+4|0}break}default:{}}}while(0);E=E+1|0}_=r[y>>0]|0;o=(_&1)==0;_=o?(_&255)>>>1:a[M>>2]|0;if(_>>>0>1){g=o?M:a[R>>2]|0;v=g+4|0;_=g+(_<<2)|0;g=a[n>>2]|0;b=_-v|0;o=g;while(1){if((v|0)==(_|0))break;a[o>>2]=a[v>>2];o=o+4|0;v=v+4|0}a[n>>2]=g+(b>>>2<<2)}switch(i&176|0){case 32:{a[t>>2]=a[n>>2];break}case 16:break;default:a[t>>2]=e}return}function Go(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0;P=f;f=f+480|0;y=P+468|0;I=P+464|0;k=P+472|0;b=P+460|0;S=P+456|0;x=P+444|0;T=P+432|0;C=P+420|0;d=P+416|0;h=P+16|0;w=P+8|0;v=P+4|0;m=P;e=Tn(i)|0;a[I>>2]=e;_=fs(I,8360)|0;p=r[s>>0]|0;l=(p&1)==0;g=s+4|0;if(!((l?(p&255)>>>1:a[g>>2]|0)|0))p=0;else{p=a[(l?g:a[s+8>>2]|0)>>2]|0;p=(p|0)==(Rm[a[(a[_>>2]|0)+44>>2]&15](_,45)|0)}l=0;while(1){if((l|0)==3)break;a[x+(l<<2)>>2]=0;l=l+1|0}l=0;while(1){if((l|0)==3)break;a[T+(l<<2)>>2]=0;l=l+1|0}l=0;while(1){if((l|0)==3)break;a[C+(l<<2)>>2]=0;l=l+1|0}Uo(n,p,I,k,b,S,x,T,C,d);u=r[s>>0]|0;c=a[g>>2]|0;l=(u&1)==0?(u&255)>>>1:c;n=a[d>>2]|0;if((l|0)>(n|0)){O=r[C>>0]|0;d=r[T>>0]|0;l=(l-n<<1|1)+n+((O&1)==0?(O&255)>>>1:a[C+4>>2]|0)+((d&1)==0?(d&255)>>>1:a[T+4>>2]|0)|0}else{O=r[C>>0]|0;l=r[T>>0]|0;l=n+2+((O&1)==0?(O&255)>>>1:a[C+4>>2]|0)+((l&1)==0?(l&255)>>>1:a[T+4>>2]|0)|0}if(l>>>0>100){l=Tp(l<<2)|0;if(!l)Uy();else{A=l;E=l}}else{A=0;E=h}O=(u&1)==0;l=O?g:a[s+8>>2]|0;Ho(E,w,v,a[i+4>>2]|0,l,l+((O?(u&255)>>>1:c)<<2)|0,_,p,k,a[b>>2]|0,a[S>>2]|0,x,T,C,n);a[m>>2]=a[t>>2];O=a[w>>2]|0;l=a[v>>2]|0;a[y>>2]=a[m>>2];l=wu(y,E,O,l,i,o)|0;if(A){Pp(A);e=a[I>>2]|0}_n(C);_n(T);nn(x);Fc(e)|0;f=P;return l|0}function zo(e){e=e|0;return}function Vo(e){e=e|0;ry(e);return}function Ko(e,t,n){e=e|0;t=t|0;n=n|0;e=_d((r[t>>0]&1)==0?t+1|0:a[t+8>>2]|0,1)|0;return e>>>((e|0)!=(-1|0)&1)|0}function Wo(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0;u=f;f=f+16|0;l=u;t=0;while(1){if((t|0)==3)break;a[l+(t<<2)>>2]=0;t=t+1|0}c=r[s>>0]|0;d=(c&1)==0;t=d?s+1|0:a[s+8>>2]|0;s=t+(d?(c&255)>>>1:a[s+4>>2]|0)|0;while(1){if(t>>>0>=s>>>0)break;cn(l,r[t>>0]|0);t=t+1|0}t=bd((n|0)==-1?-1:n<<1,i,o,(r[l>>0]&1)==0?l+1|0:a[l+8>>2]|0)|0;s=0;while(1){if((s|0)==3)break;a[e+(s<<2)>>2]=0;s=s+1|0}s=t+(vd(t)|0)|0;while(1){if(t>>>0>=s>>>0)break;cn(e,r[t>>0]|0);t=t+1|0}nn(l);f=u;return}function qo(e,t){e=e|0;t=t|0;return}function Xo(e){e=e|0;return}function Yo(e){e=e|0;ry(e);return}function Jo(e,t,n){e=e|0;t=t|0;n=n|0;e=_d((r[t>>0]&1)==0?t+1|0:a[t+8>>2]|0,1)|0;return e>>>((e|0)!=(-1|0)&1)|0}function Qo(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0;b=f;f=f+176|0;m=b+168|0;y=b+40|0;h=b+36|0;g=b+32|0;_=b;d=b+24|0;p=b+16|0;t=0;while(1){if((t|0)==3)break;a[_+(t<<2)>>2]=0;t=t+1|0}a[d+4>>2]=0;a[d>>2]=8844;c=r[s>>0]|0;t=(c&1)==0;u=s+4|0;s=t?u:a[s+8>>2]|0;u=s+((t?(c&255)>>>1:a[u>>2]|0)<<2)|0;c=y+32|0;t=0;while(1){if(!((t|0)!=2&s>>>0<u>>>0))break;a[g>>2]=s;l=Om[a[(a[d>>2]|0)+12>>2]&15](d,m,s,u,g,y,c,h)|0;t=y;while(1){if(t>>>0>=(a[h>>2]|0)>>>0)break;cn(_,r[t>>0]|0);t=t+1|0}s=a[g>>2]|0;t=l}s=bd((n|0)==-1?-1:n<<1,i,o,(r[_>>0]&1)==0?_+1|0:a[_+8>>2]|0)|0;t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}a[p+4>>2]=0;a[p>>2]=8892;u=s+(vd(s)|0)|0;c=u;d=y+128|0;t=0;while(1){if(!((t|0)!=2&s>>>0<u>>>0))break;a[g>>2]=s;l=Om[a[(a[p>>2]|0)+16>>2]&15](p,m,s,(c-s|0)>32?s+32|0:u,g,y,d,h)|0;t=y;while(1){if(t>>>0>=(a[h>>2]|0)>>>0)break;wn(e,a[t>>2]|0);t=t+4|0}s=a[g>>2]|0;t=l}nn(_);f=b;return}function Zo(e,t){e=e|0;t=t|0;return}function $o(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;a[e+4>>2]=t+-1;a[e>>2]=8344;t=e+8|0;Tu(t,28);en(e+144|0,22390,1);t=a[t>>2]|0;n=e+12|0;r=a[n>>2]|0;while(1){if((r|0)==(t|0))break;i=r+-4|0;a[n>>2]=i;r=i}a[363]=0;a[362]=7272;Pu(e,1448);a[365]=0;a[364]=7312;Ou(e,1456);Cs(1464,0,0,1);Nu(e,1464);a[371]=0;a[370]=8632;Mu(e,1480);a[373]=0;a[372]=8700;Ru(e,1488);a[375]=0;a[374]=8452;a[376]=xr()|0;Du(e,1496);a[379]=0;a[378]=8748;Fu(e,1512);a[381]=0;a[380]=8796;Bu(e,1520);bl(1528,1);ju(e,1528);vl(1552,1);Lu(e,1552);a[397]=0;a[396]=7352;Uu(e,1584);a[399]=0;a[398]=7424;Hu(e,1592);a[401]=0;a[400]=7496;Gu(e,1600);a[403]=0;a[402]=7556;zu(e,1608);a[405]=0;a[404]=7864;Vu(e,1616);a[407]=0;a[406]=7928;Ku(e,1624);a[409]=0;a[408]=7992;Wu(e,1632);a[411]=0;a[410]=8056;qu(e,1640);a[413]=0;a[412]=8120;Xu(e,1648);a[415]=0;a[414]=8156;Yu(e,1656);a[417]=0;a[416]=8192;Ju(e,1664);a[419]=0;a[418]=8228;Qu(e,1672);a[421]=0;a[420]=7616;a[422]=7664;Zu(e,1680);a[425]=0;a[424]=7708;a[426]=7756;$u(e,1696);a[429]=0;a[428]=8612;a[430]=xr()|0;a[428]=7800;ec(e,1712);a[433]=0;a[432]=8612;a[434]=xr()|0;a[432]=7832;tc(e,1728);a[437]=0;a[436]=8264;nc(e,1744);a[439]=0;a[438]=8304;rc(e,1752);return}function es(){if((r[1760]|0)==0?(Re(1760)|0)!=0:0){is()|0;a[2283]=9128;xt(1760)}
return a[2283]|0}function ts(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;Dc(t);i=e+8|0;r=a[i>>2]|0;if((a[e+12>>2]|0)-r>>2>>>0>n>>>0)e=i;else{ic(i,n+1|0);e=i;r=a[i>>2]|0}r=a[r+(n<<2)>>2]|0;if(r)Fc(r)|0;a[(a[e>>2]|0)+(n<<2)>>2]=t;return}function ns(e){e=e|0;var t=0,n=0,r=0,i=0;a[e>>2]=8344;n=e+8|0;r=e+12|0;i=0;while(1){t=a[n>>2]|0;if(i>>>0>=(a[r>>2]|0)-t>>2>>>0)break;t=a[t+(i<<2)>>2]|0;if(t)Fc(t)|0;i=i+1|0}nn(e+144|0);ac(n);return}function rs(e){e=e|0;ns(e);ry(e);return}function is(){$o(1768,1);a[2282]=1768;return 9128}function as(){var e=0;e=a[(es()|0)>>2]|0;a[2284]=e;Dc(e);return 9136}function os(){if((r[1928]|0)==0?(Re(1928)|0)!=0:0){as()|0;a[2285]=9136;xt(1928)}return a[2285]|0}function ss(e){e=e|0;var t=0;t=a[(os()|0)>>2]|0;a[e>>2]=t;Dc(t);return}function ls(e,t){e=e|0;t=t|0;t=a[t>>2]|0;a[e>>2]=t;Dc(t);return}function us(e){e=e|0;Fc(a[e>>2]|0)|0;return}function cs(e){e=e|0;var t=0,n=0;n=f;f=f+16|0;t=n;if((a[e>>2]|0)!=-1){a[t>>2]=e;a[t+4>>2]=86;a[t+8>>2]=0;Bc(e,t,87)}f=n;return(a[e+4>>2]|0)+-1|0}function fs(e,t){e=e|0;t=t|0;e=a[e>>2]|0;t=cs(t)|0;return a[(a[e+8>>2]|0)+(t<<2)>>2]|0}function ds(e){e=e|0;ry(e);return}function ps(e){e=e|0;if(e)Im[a[(a[e>>2]|0)+4>>2]&127](e);return}function hs(e){e=e|0;var t=0;t=a[2089]|0;a[2089]=t+1;a[e+4>>2]=t+1;return}function ys(e){e=e|0;ry(e);return}function ms(e,t,n){e=e|0;t=t|0;n=n|0;if(n>>>0<128)n=(i[(a[(ud()|0)>>2]|0)+(n<<1)>>1]&t)<<16>>16!=0;else n=0;return n|0}function _s(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var o=0,l=0;l=(n-t|0)>>>2;o=t;while(1){if((o|0)==(n|0))break;e=a[o>>2]|0;if(e>>>0<128)e=s[(a[(ud()|0)>>2]|0)+(e<<1)>>1]|0;else e=0;i[r>>1]=e;r=r+2|0;o=o+4|0}return t+(l<<2)|0}function gs(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;while(1){if((n|0)==(r|0)){n=r;break}e=a[n>>2]|0;if(e>>>0<128?(i[(a[(ud()|0)>>2]|0)+(e<<1)>>1]&t)<<16>>16!=0:0)break;n=n+4|0}return n|0}function bs(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;while(1){if((n|0)==(r|0)){n=r;break}e=a[n>>2]|0;if(e>>>0>=128)break;if(!((i[(a[(ud()|0)>>2]|0)+(e<<1)>>1]&t)<<16>>16))break;n=n+4|0}return n|0}function vs(e,t){e=e|0;t=t|0;if(t>>>0<128)t=a[(a[(fd()|0)>>2]|0)+(t<<2)>>2]|0;return t|0}function ws(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=(n-t|0)>>>2;r=t;while(1){if((r|0)==(n|0))break;e=a[r>>2]|0;if(e>>>0<128)e=a[(a[(fd()|0)>>2]|0)+(e<<2)>>2]|0;a[r>>2]=e;r=r+4|0}return t+(i<<2)|0}function ks(e,t){e=e|0;t=t|0;if(t>>>0<128)t=a[(a[(od()|0)>>2]|0)+(t<<2)>>2]|0;return t|0}function Ss(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=(n-t|0)>>>2;r=t;while(1){if((r|0)==(n|0))break;e=a[r>>2]|0;if(e>>>0<128)e=a[(a[(od()|0)>>2]|0)+(e<<2)>>2]|0;a[r>>2]=e;r=r+4|0}return t+(i<<2)|0}function Is(e,t){e=e|0;t=t|0;return t<<24>>24|0}function Es(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;while(1){if((t|0)==(n|0))break;a[i>>2]=r[t>>0];i=i+4|0;t=t+1|0}return n|0}function As(e,t,n){e=e|0;t=t|0;n=n|0;return(t>>>0<128?t&255:n)|0}function xs(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0;s=(n-t|0)>>>2;e=o;o=t;while(1){if((o|0)==(n|0))break;l=a[o>>2]|0;r[e>>0]=l>>>0<128?l&255:i;e=e+1|0;o=o+4|0}return t+(s<<2)|0}function Cs(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;a[e+4>>2]=i+-1;a[e>>2]=8384;i=e+8|0;a[i>>2]=t;r[e+12>>0]=n&1;if(!t)a[i>>2]=a[(ud()|0)>>2];return}function Ts(e){e=e|0;var t=0;a[e>>2]=8384;t=a[e+8>>2]|0;if((t|0)!=0?(r[e+12>>0]|0)!=0:0)iy(t);return}function Ps(e){e=e|0;Ts(e);ry(e);return}function Os(e,t){e=e|0;t=t|0;if(t<<24>>24>-1)t=a[(a[(fd()|0)>>2]|0)+((t&255)<<2)>>2]&255;return t|0}function Ns(e,t,n){e=e|0;t=t|0;n=n|0;e=t;while(1){if((e|0)==(n|0))break;t=r[e>>0]|0;if(t<<24>>24>-1)t=a[(a[(fd()|0)>>2]|0)+(t<<24>>24<<2)>>2]&255;r[e>>0]=t;e=e+1|0}return n|0}function Ms(e,t){e=e|0;t=t|0;if(t<<24>>24>-1)t=a[(a[(od()|0)>>2]|0)+(t<<24>>24<<2)>>2]&255;return t|0}function Rs(e,t,n){e=e|0;t=t|0;n=n|0;e=t;while(1){if((e|0)==(n|0))break;t=r[e>>0]|0;if(t<<24>>24>-1)t=a[(a[(od()|0)>>2]|0)+(t<<24>>24<<2)>>2]&255;r[e>>0]=t;e=e+1|0}return n|0}function Ds(e,t){e=e|0;t=t|0;return t|0}function Fs(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;while(1){if((t|0)==(n|0))break;r[i>>0]=r[t>>0]|0;i=i+1|0;t=t+1|0}return n|0}function Bs(e,t,n){e=e|0;t=t|0;n=n|0;return(t<<24>>24>-1?t:n)|0}function js(e,t,n,i,a){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;while(1){if((t|0)==(n|0))break;e=r[t>>0]|0;r[a>>0]=e<<24>>24>-1?e:i;a=a+1|0;t=t+1|0}return n|0}function Ls(e){e=e|0;ry(e);return}function Us(e,t,n,r,i,o,s,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;s=s|0;l=l|0;a[i>>2]=n;a[l>>2]=o;return 3}function Hs(e,t,n,r,i,o,s,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;s=s|0;l=l|0;a[i>>2]=n;a[l>>2]=o;return 3}function Gs(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a[i>>2]=n;return 3}function zs(e){e=e|0;return 1}function Vs(e){e=e|0;return 1}function Ks(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;e=r-n|0;return(e>>>0<i>>>0?e:i)|0}function Ws(e){e=e|0;return 1}function qs(e){e=e|0;Jl(e);ry(e);return}function Xs(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0;_=f;f=f+16|0;m=_;h=_+8|0;c=n;while(1){if((c|0)==(i|0)){c=i;break}if(!(a[c>>2]|0))break;c=c+4|0}a[u>>2]=s;a[o>>2]=n;p=l;y=e+8|0;e:while(1){if((s|0)==(l|0)|(n|0)==(i|0)){c=35;break}g=t;d=a[g+4>>2]|0;e=m;a[e>>2]=a[g>>2];a[e+4>>2]=d;e=yd(a[y>>2]|0)|0;d=cp(s,o,c-n>>2,p-s|0,t)|0;if(e)yd(e)|0;switch(d|0){case-1:{c=10;break e}case 0:{n=1;c=32;break e}default:{}}s=(a[u>>2]|0)+d|0;a[u>>2]=s;if((s|0)==(l|0)){c=33;break}if((c|0)==(i|0)){n=a[o>>2]|0;c=i}else{n=yd(a[y>>2]|0)|0;s=op(h,0,t)|0;if(n)yd(n)|0;if((s|0)==-1){n=2;c=31;break}if(s>>>0>(p-(a[u>>2]|0)|0)>>>0){n=1;c=31;break}else n=h;while(1){if(!s)break;d=r[n>>0]|0;g=a[u>>2]|0;a[u>>2]=g+1;r[g>>0]=d;s=s+-1|0;n=n+1|0}n=(a[o>>2]|0)+4|0;a[o>>2]=n;c=n;while(1){if((c|0)==(i|0)){c=i;break}if(!(a[c>>2]|0))break;c=c+4|0}s=a[u>>2]|0}}if((c|0)==10){a[u>>2]=s;while(1){if((n|0)==(a[o>>2]|0))break;g=a[n>>2]|0;c=yd(a[y>>2]|0)|0;s=op(s,g,m)|0;if(c)yd(c)|0;if((s|0)==-1)break;s=(a[u>>2]|0)+s|0;a[u>>2]=s;n=n+4|0}a[o>>2]=n;n=2;c=32}else if((c|0)==31)c=32;else if((c|0)==33){n=a[o>>2]|0;c=35}if((c|0)!=32)if((c|0)==35)n=(n|0)!=(i|0)&1;f=_;return n|0}function Ys(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,d=0,p=0,h=0,y=0,m=0,_=0;_=f;f=f+16|0;m=_;c=n;while(1){if((c|0)==(i|0)){c=i;break}if(!(r[c>>0]|0))break;c=c+1|0}a[u>>2]=s;a[o>>2]=n;h=l;y=e+8|0;e:while(1){if((s|0)==(l|0)|(n|0)==(i|0)){c=34;break}p=t;d=a[p+4>>2]|0;e=m;a[e>>2]=a[p>>2];a[e+4>>2]=d;e=c;d=yd(a[y>>2]|0)|0;p=dp(s,o,e-n|0,h-s>>2,t)|0;if(d)yd(d)|0;switch(p|0){case-1:{c=10;break e}case 0:{n=2;c=30;break e}default:{}}s=(a[u>>2]|0)+(p<<2)|0;a[u>>2]=s;if((s|0)==(l|0)){c=31;break}n=a[o>>2]|0;if((c|0)==(i|0))c=i;else{c=yd(a[y>>2]|0)|0;n=ip(s,n,1,t)|0;if(c)yd(c)|0;if(n){n=2;c=30;break}a[u>>2]=(a[u>>2]|0)+4;n=(a[o>>2]|0)+1|0;a[o>>2]=n;c=n;while(1){if((c|0)==(i|0)){c=i;break}if(!(r[c>>0]|0))break;c=c+1|0}s=a[u>>2]|0}}do{if((c|0)==10){e:while(1){a[u>>2]=s;if((n|0)==(a[o>>2]|0)){c=20;break}c=yd(a[y>>2]|0)|0;s=ip(s,n,e-n|0,m)|0;if(c)yd(c)|0;switch(s|0){case-1:{c=16;break e}case-2:{c=17;break e}case 0:{n=n+1|0;break}default:n=n+s|0}s=(a[u>>2]|0)+4|0}if((c|0)==16){a[o>>2]=n;n=2;c=30;break}else if((c|0)==17){a[o>>2]=n;n=1;c=30;break}else if((c|0)==20){a[o>>2]=n;n=(n|0)!=(i|0)&1;c=30;break}}else if((c|0)==31){n=a[o>>2]|0;c=34}}while(0);if((c|0)!=30)if((c|0)==34)n=(n|0)!=(i|0)&1;f=_;return n|0}function Js(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0;l=f;f=f+16|0;s=l;a[o>>2]=n;n=yd(a[e+8>>2]|0)|0;e=op(s,0,t)|0;if(n)yd(n)|0;e:do{switch(e|0){case 0:case-1:{s=2;break}default:{e=e+-1|0;if(e>>>0>(i-(a[o>>2]|0)|0)>>>0)s=1;else while(1){if(!e){s=0;break e}t=r[s>>0]|0;i=a[o>>2]|0;a[o>>2]=i+1;r[i>>0]=t;e=e+-1|0;s=s+1|0}}}}while(0);f=l;return s|0}function Qs(e){e=e|0;var t=0,n=0;e=e+8|0;t=yd(a[e>>2]|0)|0;n=rp(0,0,4)|0;if(t)yd(t)|0;if(!n){e=a[e>>2]|0;if(e){e=yd(e)|0;if(!e)e=0;else{yd(e)|0;e=0}}else e=1}else e=-1;return e|0}function Zs(e){e=e|0;return 0}function $s(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0,c=0;c=r;u=e+8|0;e=0;l=0;e:while(1){if((n|0)==(r|0)|l>>>0>=i>>>0)break;s=yd(a[u>>2]|0)|0;o=sp(n,c-n|0,t)|0;if(s)yd(s)|0;switch(o|0){case-2:case-1:break e;case 0:{n=n+1|0;o=1;break}default:
n=n+o|0}e=o+e|0;l=l+1|0}return e|0}function el(e){e=e|0;e=a[e+8>>2]|0;if(e){e=yd(e)|0;if(!e)e=4;else{yd(e)|0;e=4}}else e=1;return e|0}function tl(e){e=e|0;ry(e);return}function nl(e,t,n,r,i,o,s,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0;e=f;f=f+16|0;u=e+4|0;t=e;a[u>>2]=n;a[t>>2]=o;s=sc(n,r,u,o,s,t,1114111,0)|0;a[i>>2]=a[u>>2];a[l>>2]=a[t>>2];f=e;return s|0}function rl(e,t,n,r,i,o,s,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0;e=f;f=f+16|0;u=e+4|0;t=e;a[u>>2]=n;a[t>>2]=o;s=lc(n,r,u,o,s,t,1114111,0)|0;a[i>>2]=a[u>>2];a[l>>2]=a[t>>2];f=e;return s|0}function il(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a[i>>2]=n;return 3}function al(e){e=e|0;return 0}function ol(e){e=e|0;return 0}function sl(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;return uc(n,r,i,1114111,0)|0}function ll(e){e=e|0;return 4}function ul(e){e=e|0;ry(e);return}function cl(e,t,n,r,i,o,s,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0;e=f;f=f+16|0;u=e+4|0;t=e;a[u>>2]=n;a[t>>2]=o;s=cc(n,r,u,o,s,t,1114111,0)|0;a[i>>2]=a[u>>2];a[l>>2]=a[t>>2];f=e;return s|0}function fl(e,t,n,r,i,o,s,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0;e=f;f=f+16|0;u=e+4|0;t=e;a[u>>2]=n;a[t>>2]=o;s=fc(n,r,u,o,s,t,1114111,0)|0;a[i>>2]=a[u>>2];a[l>>2]=a[t>>2];f=e;return s|0}function dl(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a[i>>2]=n;return 3}function pl(e){e=e|0;return 0}function hl(e){e=e|0;return 0}function yl(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;return dc(n,r,i,1114111,0)|0}function ml(e){e=e|0;return 4}function _l(e){e=e|0;ry(e);return}function gl(e){e=e|0;ry(e);return}function bl(e,t){e=e|0;t=t|0;a[e+4>>2]=t+-1;a[e>>2]=8532;r[e+8>>0]=46;r[e+9>>0]=44;t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function vl(e,t){e=e|0;t=t|0;a[e+4>>2]=t+-1;a[e>>2]=8572;a[e+8>>2]=46;a[e+12>>2]=44;t=e+16|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function wl(e){e=e|0;a[e>>2]=8532;nn(e+12|0);return}function kl(e){e=e|0;wl(e);ry(e);return}function Sl(e){e=e|0;a[e>>2]=8572;nn(e+16|0);return}function Il(e){e=e|0;Sl(e);ry(e);return}function El(e){e=e|0;return r[e+8>>0]|0}function Al(e){e=e|0;return a[e+8>>2]|0}function xl(e){e=e|0;return r[e+9>>0]|0}function Cl(e){e=e|0;return a[e+12>>2]|0}function Tl(e,t){e=e|0;t=t|0;$t(e,t+12|0);return}function Pl(e,t){e=e|0;t=t|0;$t(e,t+16|0);return}function Ol(e,t){e=e|0;t=t|0;en(e,22492,4);return}function Nl(e,t){e=e|0;t=t|0;yn(e,9144,Id(9144)|0);return}function Ml(e,t){e=e|0;t=t|0;en(e,22497,5);return}function Rl(e,t){e=e|0;t=t|0;yn(e,9164,Id(9164)|0);return}function Dl(e){e=e|0;switch(a[e+4>>2]&74|0){case 64:{e=8;break}case 8:{e=16;break}case 0:{e=0;break}default:e=10}return e|0}function Fl(e){e=e|0;var t=0;if((r[1936]|0)==0?(Re(1936)|0)!=0:0){if((r[1944]|0)==0?(Re(1944)|0)!=0:0){e=9188;do{t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}e=e+12|0}while((e|0)!=9356);Ot(88,0,m|0)|0;xt(1944)}an(9188,22503)|0;an(9200,22510)|0;an(9212,22517)|0;an(9224,22525)|0;an(9236,22535)|0;an(9248,22544)|0;an(9260,22551)|0;an(9272,22560)|0;an(9284,22564)|0;an(9296,22568)|0;an(9308,22572)|0;an(9320,22576)|0;an(9332,22580)|0;an(9344,22584)|0;a[2339]=9188;xt(1936)}return a[2339]|0}function Bl(e){e=e|0;var t=0;if((r[1952]|0)==0?(Re(1952)|0)!=0:0){if((r[1960]|0)==0?(Re(1960)|0)!=0:0){e=9360;do{t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}e=e+12|0}while((e|0)!=9528);Ot(89,0,m|0)|0;xt(1960)}gn(9360,9528)|0;gn(9372,9556)|0;gn(9384,9584)|0;gn(9396,9616)|0;gn(9408,9656)|0;gn(9420,9692)|0;gn(9432,9720)|0;gn(9444,9756)|0;gn(9456,9772)|0;gn(9468,9788)|0;gn(9480,9804)|0;gn(9492,9820)|0;gn(9504,9836)|0;gn(9516,9852)|0;a[2467]=9360;xt(1952)}return a[2467]|0}function jl(e){e=e|0;var t=0;if((r[1968]|0)==0?(Re(1968)|0)!=0:0){if((r[1976]|0)==0?(Re(1976)|0)!=0:0){e=9872;do{t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}e=e+12|0}while((e|0)!=10160);Ot(90,0,m|0)|0;xt(1976)}an(9872,22588)|0;an(9884,22596)|0;an(9896,22605)|0;an(9908,22611)|0;an(9920,22617)|0;an(9932,22621)|0;an(9944,22626)|0;an(9956,22631)|0;an(9968,22638)|0;an(9980,22648)|0;an(9992,22656)|0;an(10004,22665)|0;an(10016,22674)|0;an(10028,22678)|0;an(10040,22682)|0;an(10052,22686)|0;an(10064,22617)|0;an(10076,22690)|0;an(10088,22694)|0;an(10100,22698)|0;an(10112,22702)|0;an(10124,22706)|0;an(10136,22710)|0;an(10148,22714)|0;a[2540]=9872;xt(1968)}return a[2540]|0}function Ll(e){e=e|0;var t=0;if((r[1984]|0)==0?(Re(1984)|0)!=0:0){if((r[1992]|0)==0?(Re(1992)|0)!=0:0){e=10164;do{t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}e=e+12|0}while((e|0)!=10452);Ot(91,0,m|0)|0;xt(1992)}gn(10164,10452)|0;gn(10176,10484)|0;gn(10188,10520)|0;gn(10200,10544)|0;gn(10212,10568)|0;gn(10224,10584)|0;gn(10236,10604)|0;gn(10248,10624)|0;gn(10260,10652)|0;gn(10272,10692)|0;gn(10284,10724)|0;gn(10296,10760)|0;gn(10308,10796)|0;gn(10320,10812)|0;gn(10332,10828)|0;gn(10344,10844)|0;gn(10356,10568)|0;gn(10368,10860)|0;gn(10380,10876)|0;gn(10392,10892)|0;gn(10404,10908)|0;gn(10416,10924)|0;gn(10428,10940)|0;gn(10440,10956)|0;a[2743]=10164;xt(1984)}return a[2743]|0}function Ul(e){e=e|0;var t=0;if((r[2e3]|0)==0?(Re(2e3)|0)!=0:0){if((r[2008]|0)==0?(Re(2008)|0)!=0:0){e=10976;do{t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}e=e+12|0}while((e|0)!=11264);Ot(92,0,m|0)|0;xt(2008)}an(10976,22718)|0;an(10988,22721)|0;a[2816]=10976;xt(2e3)}return a[2816]|0}function Hl(e){e=e|0;var t=0;if((r[2016]|0)==0?(Re(2016)|0)!=0:0){if((r[2024]|0)==0?(Re(2024)|0)!=0:0){e=11268;do{t=0;while(1){if((t|0)==3)break;a[e+(t<<2)>>2]=0;t=t+1|0}e=e+12|0}while((e|0)!=11556);Ot(93,0,m|0)|0;xt(2024)}gn(11268,11556)|0;gn(11280,11568)|0;a[2895]=11268;xt(2016)}return a[2895]|0}function Gl(e){e=e|0;if((r[2032]|0)==0?(Re(2032)|0)!=0:0){en(11584,22724,8);Ot(94,11584,m|0)|0;xt(2032)}return 11584}function zl(e){e=e|0;if((r[2040]|0)==0?(Re(2040)|0)!=0:0){yn(11632,11596,Id(11596)|0);Ot(95,11632,m|0)|0;xt(2040)}return 11632}function Vl(e){e=e|0;if((r[2048]|0)==0?(Re(2048)|0)!=0:0){en(11644,22733,8);Ot(94,11644,m|0)|0;xt(2048)}return 11644}function Kl(e){e=e|0;if((r[2056]|0)==0?(Re(2056)|0)!=0:0){yn(11692,11656,Id(11656)|0);Ot(95,11692,m|0)|0;xt(2056)}return 11692}function Wl(e){e=e|0;if((r[2064]|0)==0?(Re(2064)|0)!=0:0){en(11704,22742,20);Ot(94,11704,m|0)|0;xt(2064)}return 11704}function ql(e){e=e|0;if((r[2072]|0)==0?(Re(2072)|0)!=0:0){yn(11800,11716,Id(11716)|0);Ot(95,11800,m|0)|0;xt(2072)}return 11800}function Xl(e){e=e|0;if((r[2080]|0)==0?(Re(2080)|0)!=0:0){en(11812,22763,11);Ot(94,11812,m|0)|0;xt(2080)}return 11812}function Yl(e){e=e|0;if((r[2088]|0)==0?(Re(2088)|0)!=0:0){yn(11872,11824,Id(11824)|0);Ot(95,11872,m|0)|0;xt(2088)}return 11872}function Jl(e){e=e|0;var t=0;a[e>>2]=8452;e=e+8|0;t=a[e>>2]|0;if((t|0)!=(xr()|0))gd(a[e>>2]|0);return}function Ql(e,t,n,i,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;u=u|0;var c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0;E=f;f=f+112|0;d=E;p=(i-n|0)/12|0;if(p>>>0>100){d=Tp(p)|0;if(!d)Uy();else{S=d;c=d}}else{S=0;c=d}m=n;d=0;y=c;while(1){if((m|0)==(i|0))break;h=r[m>>0]|0;if(!(h&1))h=(h&255)>>>1;else h=a[m+4>>2]|0;if(!h){r[y>>0]=2;d=d+1|0;p=p+-1|0}else r[y>>0]=1;m=m+12|0;y=y+1|0}k=0;b=d;_=p;e:while(1){d=a[e>>2]|0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0))if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1){a[e>>2]=0;d=0;break}else{d=a[e>>2]|0;break}}else d=0}while(0);y=(d|0)==0;p=a[t>>2]|0;if(p){if((a[p+12>>2]|0)==(a[p+16>>2]|0)?(Cm[a[(a[p>>2]|0)+36>>2]&63](p)|0)==-1:0){a[t>>2]=0;p=0}}else p=0;h=(p|0)==0;d=a[e>>2]|0;if(!((_|0)!=0&(y^h)))break;p=a[d+12>>2]|0;if((p|0)==(a[d+16>>2]|0))d=Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0;else d=o[p>>0]|0;d=d&255;if(!u)d=Rm[a[(a[s>>2]|0)+12>>2]&15](s,d)|0;w=k+1|0;m=0;g=n;v=_;_=c;while(1){if((g|0)==(i|0))break;do{if((r[_>>0]|0)==1){if(!(r[g>>0]&1))p=g+1|0;else p=a[g+8>>2]|0;p=r[p+k>>0]|0;if(!u)p=Rm[a[(a[s>>2]|0)+12>>2]&15](s,p)|0;if(d<<24>>24!=p<<24>>24){r[_>>0]=0;p=m;h=b;y=v+-1|0;break}p=r[g>>0]|0;if(!(p&1))p=(p&255)>>>1;else p=a[g+4>>2]|0;if((p|0)==(w|0)){r[_>>0]=2;p=1;h=b+1|0;y=v+-1|0}else{p=1;h=b;y=v}}else{p=m;h=b;y=v}}while(0);m=p
;g=g+12|0;b=h;v=y;_=_+1|0}if(!m){k=w;_=v;continue}d=a[e>>2]|0;p=d+12|0;h=a[p>>2]|0;if((h|0)==(a[d+16>>2]|0))Cm[a[(a[d>>2]|0)+40>>2]&63](d)|0;else a[p>>2]=h+1;if((b+v|0)>>>0>1){y=n;d=b;h=c}else{k=w;_=v;continue}while(1){if((y|0)==(i|0)){k=w;b=d;_=v;continue e}if((r[h>>0]|0)==2){p=r[y>>0]|0;if(!(p&1))p=(p&255)>>>1;else p=a[y+4>>2]|0;if((p|0)!=(w|0)){r[h>>0]=0;d=d+-1|0}}y=y+12|0;h=h+1|0}}do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0))if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1){a[e>>2]=0;d=0;break}else{d=a[e>>2]|0;break}}else d=0}while(0);d=(d|0)==0;do{if(!h){if((a[p+12>>2]|0)==(a[p+16>>2]|0)?(Cm[a[(a[p>>2]|0)+36>>2]&63](p)|0)==-1:0){a[t>>2]=0;I=34;break}if(!d)I=69}else I=34}while(0);if((I|0)==34)if(d)I=69;if((I|0)==69)a[l>>2]=a[l>>2]|2;while(1){if((n|0)==(i|0)){I=73;break}if((r[c>>0]|0)==2)break;n=n+12|0;c=c+1|0}if((I|0)==73){a[l>>2]=a[l>>2]|4;n=i}Pp(S);f=E;return n|0}function Zl(e,t,n,i,s,l){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;A=f;f=f+224|0;g=A+198|0;u=A+196|0;E=A+184|0;I=A+172|0;k=A+168|0;S=A+8|0;v=A+4|0;b=A;w=Dl(i)|0;Gr(E,i,g,u);e=0;while(1){if((e|0)==3)break;a[I+(e<<2)>>2]=0;e=e+1|0}if(!(r[I>>0]&1))e=10;else e=(a[I>>2]&-2)+-1|0;sn(I,e,0);y=I+8|0;m=I+1|0;p=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=p;a[v>>2]=S;a[b>>2]=0;_=I+4|0;h=r[u>>0]|0;e=a[t>>2]|0;u=p;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;i=(e|0)==0;c=a[n>>2]|0;do{if(c){if((a[c+12>>2]|0)!=(a[c+16>>2]|0))if(i)break;else break e;if((Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)!=-1){if(i)break;else break e}else{a[n>>2]=0;x=16;break}}else x=16}while(0);if((x|0)==16){x=0;if(i){c=0;break}else c=0}d=r[I>>0]|0;d=(d&1)==0?(d&255)>>>1:a[_>>2]|0;if((a[k>>2]|0)==(u+d|0)){sn(I,d<<1,0);if(!(r[I>>0]&1))i=10;else i=(a[I>>2]&-2)+-1|0;sn(I,i,0);u=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=u+d}d=e+12|0;i=a[d>>2]|0;p=e+16|0;if((i|0)==(a[p>>2]|0))i=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else i=o[i>>0]|0;if(Ar(i&255,w,u,k,b,h,E,S,v,g)|0)break;i=a[d>>2]|0;if((i|0)==(a[p>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[d>>2]=i+1;continue}}g=r[E>>0]|0;i=a[v>>2]|0;if((((g&1)==0?(g&255)>>>1:a[E+4>>2]|0)|0)!=0?(i-S|0)<160:0){g=a[b>>2]|0;b=i+4|0;a[v>>2]=b;a[i>>2]=g;i=b}a[l>>2]=Mc(u,a[k>>2]|0,s,w)|0;Io(E,S,i,s);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[n>>2]=0;x=41;break}if(!e)x=42}else x=41}while(0);if((x|0)==41?e:0)x=42;if((x|0)==42)a[s>>2]=a[s>>2]|2;x=a[t>>2]|0;nn(I);nn(E);f=A;return x|0}function $l(e,t,n,i,s,l){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;A=f;f=f+224|0;g=A+198|0;u=A+196|0;E=A+184|0;I=A+172|0;k=A+168|0;S=A+8|0;v=A+4|0;b=A;w=Dl(i)|0;Gr(E,i,g,u);e=0;while(1){if((e|0)==3)break;a[I+(e<<2)>>2]=0;e=e+1|0}if(!(r[I>>0]&1))e=10;else e=(a[I>>2]&-2)+-1|0;sn(I,e,0);y=I+8|0;m=I+1|0;p=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=p;a[v>>2]=S;a[b>>2]=0;_=I+4|0;h=r[u>>0]|0;e=a[t>>2]|0;u=p;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;i=(e|0)==0;c=a[n>>2]|0;do{if(c){if((a[c+12>>2]|0)!=(a[c+16>>2]|0))if(i)break;else break e;if((Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)!=-1){if(i)break;else break e}else{a[n>>2]=0;x=16;break}}else x=16}while(0);if((x|0)==16){x=0;if(i){c=0;break}else c=0}d=r[I>>0]|0;d=(d&1)==0?(d&255)>>>1:a[_>>2]|0;if((a[k>>2]|0)==(u+d|0)){sn(I,d<<1,0);if(!(r[I>>0]&1))i=10;else i=(a[I>>2]&-2)+-1|0;sn(I,i,0);u=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=u+d}d=e+12|0;i=a[d>>2]|0;p=e+16|0;if((i|0)==(a[p>>2]|0))i=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else i=o[i>>0]|0;if(Ar(i&255,w,u,k,b,h,E,S,v,g)|0)break;i=a[d>>2]|0;if((i|0)==(a[p>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[d>>2]=i+1;continue}}g=r[E>>0]|0;i=a[v>>2]|0;if((((g&1)==0?(g&255)>>>1:a[E+4>>2]|0)|0)!=0?(i-S|0)<160:0){g=a[b>>2]|0;b=i+4|0;a[v>>2]=b;a[i>>2]=g;i=b}k=Nc(u,a[k>>2]|0,s,w)|0;a[l>>2]=k;a[l+4>>2]=N;Io(E,S,i,s);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[n>>2]=0;x=41;break}if(!e)x=42}else x=41}while(0);if((x|0)==41?e:0)x=42;if((x|0)==42)a[s>>2]=a[s>>2]|2;x=a[t>>2]|0;nn(I);nn(E);f=A;return x|0}function eu(e,t,n,s,l,u){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;u=u|0;var c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0;x=f;f=f+224|0;b=x+198|0;c=x+196|0;A=x+184|0;E=x+172|0;S=x+168|0;I=x+8|0;w=x+4|0;v=x;k=Dl(s)|0;Gr(A,s,b,c);e=0;while(1){if((e|0)==3)break;a[E+(e<<2)>>2]=0;e=e+1|0}if(!(r[E>>0]&1))e=10;else e=(a[E>>2]&-2)+-1|0;sn(E,e,0);m=E+8|0;_=E+1|0;h=(r[E>>0]&1)==0?_:a[m>>2]|0;a[S>>2]=h;a[w>>2]=I;a[v>>2]=0;g=E+4|0;y=r[c>>0]|0;e=a[t>>2]|0;c=h;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;s=(e|0)==0;d=a[n>>2]|0;do{if(d){if((a[d+12>>2]|0)!=(a[d+16>>2]|0))if(s)break;else break e;if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)!=-1){if(s)break;else break e}else{a[n>>2]=0;C=16;break}}else C=16}while(0);if((C|0)==16){C=0;if(s){d=0;break}else d=0}p=r[E>>0]|0;p=(p&1)==0?(p&255)>>>1:a[g>>2]|0;if((a[S>>2]|0)==(c+p|0)){sn(E,p<<1,0);if(!(r[E>>0]&1))s=10;else s=(a[E>>2]&-2)+-1|0;sn(E,s,0);c=(r[E>>0]&1)==0?_:a[m>>2]|0;a[S>>2]=c+p}p=e+12|0;s=a[p>>2]|0;h=e+16|0;if((s|0)==(a[h>>2]|0))s=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else s=o[s>>0]|0;if(Ar(s&255,k,c,S,v,y,A,I,w,b)|0)break;s=a[p>>2]|0;if((s|0)==(a[h>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[p>>2]=s+1;continue}}b=r[A>>0]|0;s=a[w>>2]|0;if((((b&1)==0?(b&255)>>>1:a[A+4>>2]|0)|0)!=0?(s-I|0)<160:0){b=a[v>>2]|0;v=s+4|0;a[w>>2]=v;a[s>>2]=b;s=v}i[u>>1]=Oc(c,a[S>>2]|0,l,k)|0;Io(A,I,s,l);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0)?(Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1:0){a[n>>2]=0;C=41;break}if(!e)C=42}else C=41}while(0);if((C|0)==41?e:0)C=42;if((C|0)==42)a[l>>2]=a[l>>2]|2;C=a[t>>2]|0;nn(E);nn(A);f=x;return C|0}function tu(e,t,n,i,s,l){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;A=f;f=f+224|0;g=A+198|0;u=A+196|0;E=A+184|0;I=A+172|0;k=A+168|0;S=A+8|0;v=A+4|0;b=A;w=Dl(i)|0;Gr(E,i,g,u);e=0;while(1){if((e|0)==3)break;a[I+(e<<2)>>2]=0;e=e+1|0}if(!(r[I>>0]&1))e=10;else e=(a[I>>2]&-2)+-1|0;sn(I,e,0);y=I+8|0;m=I+1|0;p=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=p;a[v>>2]=S;a[b>>2]=0;_=I+4|0;h=r[u>>0]|0;e=a[t>>2]|0;u=p;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;i=(e|0)==0;c=a[n>>2]|0;do{if(c){if((a[c+12>>2]|0)!=(a[c+16>>2]|0))if(i)break;else break e;if((Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)!=-1){if(i)break;else break e}else{a[n>>2]=0;x=16;break}}else x=16}while(0);if((x|0)==16){x=0;if(i){c=0;break}else c=0}d=r[I>>0]|0;d=(d&1)==0?(d&255)>>>1:a[_>>2]|0;if((a[k>>2]|0)==(u+d|0)){sn(I,d<<1,0);if(!(r[I>>0]&1))i=10;else i=(a[I>>2]&-2)+-1|0;sn(I,i,0);u=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=u+d}d=e+12|0;i=a[d>>2]|0;p=e+16|0;if((i|0)==(a[p>>2]|0))i=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else i=o[i>>0]|0;if(Ar(i&255,w,u,k,b,h,E,S,v,g)|0)break;i=a[d>>2]|0;if((i|0)==(a[p>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[d>>2]=i+1;continue}}g=r[E>>0]|0;i=a[v>>2]|0;if((((g&1)==0?(g&255)>>>1:a[E+4>>2]|0)|0)!=0?(i-S|0)<160:0){g=a[b>>2]|0;b=i+4|0;a[v>>2]=b;a[i>>2]=g;i=b}a[l>>2]=Pc(u,a[k>>2]|0,s,w)|0;Io(E,S,i,s);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[n>>2]=0;x=41;break}if(!e)x=42}else x=41}while(0);if((x|0)==41?e:0)x=42;if((x|0)==42)a[s>>2]=a[s>>2]|2;x=a[t>>2]|0;nn(I);nn(E);f=A;return x|0}function nu(e,t,n,i,s,l){
e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;A=f;f=f+224|0;g=A+198|0;u=A+196|0;E=A+184|0;I=A+172|0;k=A+168|0;S=A+8|0;v=A+4|0;b=A;w=Dl(i)|0;Gr(E,i,g,u);e=0;while(1){if((e|0)==3)break;a[I+(e<<2)>>2]=0;e=e+1|0}if(!(r[I>>0]&1))e=10;else e=(a[I>>2]&-2)+-1|0;sn(I,e,0);y=I+8|0;m=I+1|0;p=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=p;a[v>>2]=S;a[b>>2]=0;_=I+4|0;h=r[u>>0]|0;e=a[t>>2]|0;u=p;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;i=(e|0)==0;c=a[n>>2]|0;do{if(c){if((a[c+12>>2]|0)!=(a[c+16>>2]|0))if(i)break;else break e;if((Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)!=-1){if(i)break;else break e}else{a[n>>2]=0;x=16;break}}else x=16}while(0);if((x|0)==16){x=0;if(i){c=0;break}else c=0}d=r[I>>0]|0;d=(d&1)==0?(d&255)>>>1:a[_>>2]|0;if((a[k>>2]|0)==(u+d|0)){sn(I,d<<1,0);if(!(r[I>>0]&1))i=10;else i=(a[I>>2]&-2)+-1|0;sn(I,i,0);u=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=u+d}d=e+12|0;i=a[d>>2]|0;p=e+16|0;if((i|0)==(a[p>>2]|0))i=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else i=o[i>>0]|0;if(Ar(i&255,w,u,k,b,h,E,S,v,g)|0)break;i=a[d>>2]|0;if((i|0)==(a[p>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[d>>2]=i+1;continue}}g=r[E>>0]|0;i=a[v>>2]|0;if((((g&1)==0?(g&255)>>>1:a[E+4>>2]|0)|0)!=0?(i-S|0)<160:0){g=a[b>>2]|0;b=i+4|0;a[v>>2]=b;a[i>>2]=g;i=b}a[l>>2]=Tc(u,a[k>>2]|0,s,w)|0;Io(E,S,i,s);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[n>>2]=0;x=41;break}if(!e)x=42}else x=41}while(0);if((x|0)==41?e:0)x=42;if((x|0)==42)a[s>>2]=a[s>>2]|2;x=a[t>>2]|0;nn(I);nn(E);f=A;return x|0}function ru(e,t,n,i,s,l){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;A=f;f=f+224|0;g=A+198|0;u=A+196|0;E=A+184|0;I=A+172|0;k=A+168|0;S=A+8|0;v=A+4|0;b=A;w=Dl(i)|0;Gr(E,i,g,u);e=0;while(1){if((e|0)==3)break;a[I+(e<<2)>>2]=0;e=e+1|0}if(!(r[I>>0]&1))e=10;else e=(a[I>>2]&-2)+-1|0;sn(I,e,0);y=I+8|0;m=I+1|0;p=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=p;a[v>>2]=S;a[b>>2]=0;_=I+4|0;h=r[u>>0]|0;e=a[t>>2]|0;u=p;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;i=(e|0)==0;c=a[n>>2]|0;do{if(c){if((a[c+12>>2]|0)!=(a[c+16>>2]|0))if(i)break;else break e;if((Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)!=-1){if(i)break;else break e}else{a[n>>2]=0;x=16;break}}else x=16}while(0);if((x|0)==16){x=0;if(i){c=0;break}else c=0}d=r[I>>0]|0;d=(d&1)==0?(d&255)>>>1:a[_>>2]|0;if((a[k>>2]|0)==(u+d|0)){sn(I,d<<1,0);if(!(r[I>>0]&1))i=10;else i=(a[I>>2]&-2)+-1|0;sn(I,i,0);u=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=u+d}d=e+12|0;i=a[d>>2]|0;p=e+16|0;if((i|0)==(a[p>>2]|0))i=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else i=o[i>>0]|0;if(Ar(i&255,w,u,k,b,h,E,S,v,g)|0)break;i=a[d>>2]|0;if((i|0)==(a[p>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[d>>2]=i+1;continue}}g=r[E>>0]|0;i=a[v>>2]|0;if((((g&1)==0?(g&255)>>>1:a[E+4>>2]|0)|0)!=0?(i-S|0)<160:0){g=a[b>>2]|0;b=i+4|0;a[v>>2]=b;a[i>>2]=g;i=b}k=Cc(u,a[k>>2]|0,s,w)|0;a[l>>2]=k;a[l+4>>2]=N;Io(E,S,i,s);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[n>>2]=0;x=41;break}if(!e)x=42}else x=41}while(0);if((x|0)==41?e:0)x=42;if((x|0)==42)a[s>>2]=a[s>>2]|2;x=a[t>>2]|0;nn(I);nn(E);f=A;return x|0}function iu(e,t,n,i,s,l){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0;T=f;f=f+240|0;v=T+200|0;c=T+199|0;d=T+198|0;C=T+184|0;x=T+172|0;E=T+168|0;A=T+8|0;S=T+4|0;k=T;I=T+197|0;w=T+196|0;zr(C,i,v,c,d);e=0;while(1){if((e|0)==3)break;a[x+(e<<2)>>2]=0;e=e+1|0}if(!(r[x>>0]&1))e=10;else e=(a[x>>2]&-2)+-1|0;sn(x,e,0);_=x+8|0;g=x+1|0;h=(r[x>>0]&1)==0?g:a[_>>2]|0;a[E>>2]=h;a[S>>2]=A;a[k>>2]=0;r[I>>0]=1;r[w>>0]=69;b=x+4|0;m=r[c>>0]|0;y=r[d>>0]|0;e=a[t>>2]|0;c=h;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;i=(e|0)==0;d=a[n>>2]|0;do{if(d){if((a[d+12>>2]|0)!=(a[d+16>>2]|0))if(i)break;else break e;if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)!=-1){if(i)break;else break e}else{a[n>>2]=0;P=16;break}}else P=16}while(0);if((P|0)==16){P=0;if(i){d=0;break}else d=0}p=r[x>>0]|0;p=(p&1)==0?(p&255)>>>1:a[b>>2]|0;if((a[E>>2]|0)==(c+p|0)){sn(x,p<<1,0);if(!(r[x>>0]&1))i=10;else i=(a[x>>2]&-2)+-1|0;sn(x,i,0);c=(r[x>>0]&1)==0?g:a[_>>2]|0;a[E>>2]=c+p}p=e+12|0;i=a[p>>2]|0;h=e+16|0;if((i|0)==(a[h>>2]|0))i=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else i=o[i>>0]|0;if(Vr(i&255,I,w,c,E,m,y,C,A,S,k,v)|0)break;i=a[p>>2]|0;if((i|0)==(a[h>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[p>>2]=i+1;continue}}w=r[C>>0]|0;i=a[S>>2]|0;if(!((r[I>>0]|0)==0?1:(((w&1)==0?(w&255)>>>1:a[C+4>>2]|0)|0)==0)?(i-A|0)<160:0){k=a[k>>2]|0;I=i+4|0;a[S>>2]=I;a[i>>2]=k;i=I}u[l>>2]=+xc(c,a[E>>2]|0,s);Io(C,A,i,s);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0)?(Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1:0){a[n>>2]=0;P=41;break}if(!e)P=42}else P=41}while(0);if((P|0)==41?e:0)P=42;if((P|0)==42)a[s>>2]=a[s>>2]|2;P=a[t>>2]|0;nn(x);nn(C);f=T;return P|0}function au(e,t,n,i,s,l){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0;T=f;f=f+240|0;v=T+200|0;u=T+199|0;d=T+198|0;C=T+184|0;x=T+172|0;E=T+168|0;A=T+8|0;S=T+4|0;k=T;I=T+197|0;w=T+196|0;zr(C,i,v,u,d);e=0;while(1){if((e|0)==3)break;a[x+(e<<2)>>2]=0;e=e+1|0}if(!(r[x>>0]&1))e=10;else e=(a[x>>2]&-2)+-1|0;sn(x,e,0);_=x+8|0;g=x+1|0;h=(r[x>>0]&1)==0?g:a[_>>2]|0;a[E>>2]=h;a[S>>2]=A;a[k>>2]=0;r[I>>0]=1;r[w>>0]=69;b=x+4|0;m=r[u>>0]|0;y=r[d>>0]|0;e=a[t>>2]|0;u=h;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;i=(e|0)==0;d=a[n>>2]|0;do{if(d){if((a[d+12>>2]|0)!=(a[d+16>>2]|0))if(i)break;else break e;if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)!=-1){if(i)break;else break e}else{a[n>>2]=0;P=16;break}}else P=16}while(0);if((P|0)==16){P=0;if(i){d=0;break}else d=0}p=r[x>>0]|0;p=(p&1)==0?(p&255)>>>1:a[b>>2]|0;if((a[E>>2]|0)==(u+p|0)){sn(x,p<<1,0);if(!(r[x>>0]&1))i=10;else i=(a[x>>2]&-2)+-1|0;sn(x,i,0);u=(r[x>>0]&1)==0?g:a[_>>2]|0;a[E>>2]=u+p}p=e+12|0;i=a[p>>2]|0;h=e+16|0;if((i|0)==(a[h>>2]|0))i=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else i=o[i>>0]|0;if(Vr(i&255,I,w,u,E,m,y,C,A,S,k,v)|0)break;i=a[p>>2]|0;if((i|0)==(a[h>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[p>>2]=i+1;continue}}w=r[C>>0]|0;i=a[S>>2]|0;if(!((r[I>>0]|0)==0?1:(((w&1)==0?(w&255)>>>1:a[C+4>>2]|0)|0)==0)?(i-A|0)<160:0){k=a[k>>2]|0;I=i+4|0;a[S>>2]=I;a[i>>2]=k;i=I}c[l>>3]=+Ac(u,a[E>>2]|0,s);Io(C,A,i,s);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0)?(Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1:0){a[n>>2]=0;P=41;break}if(!e)P=42}else P=41}while(0);if((P|0)==41?e:0)P=42;if((P|0)==42)a[s>>2]=a[s>>2]|2;P=a[t>>2]|0;nn(x);nn(C);f=T;return P|0}function ou(e,t,n,i,s,l){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;var u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0;T=f;f=f+240|0;v=T+200|0;u=T+199|0;d=T+198|0;C=T+184|0;x=T+172|0;E=T+168|0;A=T+8|0;S=T+4|0;k=T;I=T+197|0;w=T+196|0;zr(C,i,v,u,d);e=0;while(1){if((e|0)==3)break;a[x+(e<<2)>>2]=0;e=e+1|0}if(!(r[x>>0]&1))e=10;else e=(a[x>>2]&-2)+-1|0;sn(x,e,0);_=x+8|0;g=x+1|0;h=(r[x>>0]&1)==0?g:a[_>>2]|0;a[E>>2]=h;a[S>>2]=A;a[k>>2]=0;r[I>>0]=1;r[w>>0]=69;b=x+4|0;m=r[u>>0]|0;y=r[d>>0]|0;e=a[t>>2]|0;u=h;e:while(1){if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;i=(e|0)==0;d=a[n>>2]|0;do{if(d){if((a[d+12>>2]|0)!=(a[d+16>>2]|0))if(i)break;else break e
;if((Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)!=-1){if(i)break;else break e}else{a[n>>2]=0;P=16;break}}else P=16}while(0);if((P|0)==16){P=0;if(i){d=0;break}else d=0}p=r[x>>0]|0;p=(p&1)==0?(p&255)>>>1:a[b>>2]|0;if((a[E>>2]|0)==(u+p|0)){sn(x,p<<1,0);if(!(r[x>>0]&1))i=10;else i=(a[x>>2]&-2)+-1|0;sn(x,i,0);u=(r[x>>0]&1)==0?g:a[_>>2]|0;a[E>>2]=u+p}p=e+12|0;i=a[p>>2]|0;h=e+16|0;if((i|0)==(a[h>>2]|0))i=Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0;else i=o[i>>0]|0;if(Vr(i&255,I,w,u,E,m,y,C,A,S,k,v)|0)break;i=a[p>>2]|0;if((i|0)==(a[h>>2]|0)){Cm[a[(a[e>>2]|0)+40>>2]&63](e)|0;continue}else{a[p>>2]=i+1;continue}}w=r[C>>0]|0;i=a[S>>2]|0;if(!((r[I>>0]|0)==0?1:(((w&1)==0?(w&255)>>>1:a[C+4>>2]|0)|0)==0)?(i-A|0)<160:0){k=a[k>>2]|0;I=i+4|0;a[S>>2]=I;a[i>>2]=k;i=I}c[l>>3]=+Ec(u,a[E>>2]|0,s);Io(C,A,i,s);if(e){if((a[e+12>>2]|0)==(a[e+16>>2]|0)?(Cm[a[(a[e>>2]|0)+36>>2]&63](e)|0)==-1:0){a[t>>2]=0;e=0}}else e=0;e=(e|0)==0;do{if(d){if((a[d+12>>2]|0)==(a[d+16>>2]|0)?(Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0)==-1:0){a[n>>2]=0;P=41;break}if(!e)P=42}else P=41}while(0);if((P|0)==41?e:0)P=42;if((P|0)==42)a[s>>2]=a[s>>2]|2;P=a[t>>2]|0;nn(x);nn(C);f=T;return P|0}function su(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0;i=f;f=f+16|0;o=i;a[o>>2]=r;r=yd(t)|0;t=Jd(e,n,o)|0;if(r)yd(r)|0;f=i;return t|0}function lu(e,t,n,i,o,s,l){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0;I=f;f=f+112|0;c=I;d=(i-n|0)/12|0;if(d>>>0>100){c=Tp(d)|0;if(!c)Uy();else{k=c;u=c}}else{k=0;u=c}y=n;c=0;h=u;while(1){if((y|0)==(i|0))break;p=r[y>>0]|0;if(!(p&1))p=(p&255)>>>1;else p=a[y+4>>2]|0;if(!p){r[h>>0]=2;c=c+1|0;d=d+-1|0}else r[h>>0]=1;y=y+12|0;h=h+1|0}w=0;g=c;m=d;e:while(1){c=a[e>>2]|0;do{if(c){d=a[c+12>>2]|0;if((d|0)==(a[c+16>>2]|0))c=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else c=a[d>>2]|0;if((c|0)==-1){a[e>>2]=0;h=1;break}else{h=(a[e>>2]|0)==0;break}}else h=1}while(0);p=a[t>>2]|0;if(p){c=a[p+12>>2]|0;if((c|0)==(a[p+16>>2]|0))c=Cm[a[(a[p>>2]|0)+36>>2]&63](p)|0;else c=a[c>>2]|0;if((c|0)==-1){a[t>>2]=0;p=0;c=1}else c=0}else{p=0;c=1}d=a[e>>2]|0;if(!((m|0)!=0&(h^c)))break;c=a[d+12>>2]|0;if((c|0)==(a[d+16>>2]|0))c=Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0;else c=a[c>>2]|0;if(!l)c=Rm[a[(a[o>>2]|0)+28>>2]&15](o,c)|0;v=w+1|0;y=0;_=n;b=m;m=u;while(1){if((_|0)==(i|0))break;do{if((r[m>>0]|0)==1){if(!(r[_>>0]&1))d=_+4|0;else d=a[_+8>>2]|0;d=a[d+(w<<2)>>2]|0;if(!l)d=Rm[a[(a[o>>2]|0)+28>>2]&15](o,d)|0;if((c|0)!=(d|0)){r[m>>0]=0;d=y;p=g;h=b+-1|0;break}d=r[_>>0]|0;if(!(d&1))d=(d&255)>>>1;else d=a[_+4>>2]|0;if((d|0)==(v|0)){r[m>>0]=2;d=1;p=g+1|0;h=b+-1|0}else{d=1;p=g;h=b}}else{d=y;p=g;h=b}}while(0);y=d;_=_+12|0;g=p;b=h;m=m+1|0}if(!y){w=v;m=b;continue}c=a[e>>2]|0;d=c+12|0;p=a[d>>2]|0;if((p|0)==(a[c+16>>2]|0))Cm[a[(a[c>>2]|0)+40>>2]&63](c)|0;else a[d>>2]=p+4;if((g+b|0)>>>0>1){h=n;c=g;p=u}else{w=v;m=b;continue}while(1){if((h|0)==(i|0)){w=v;g=c;m=b;continue e}if((r[p>>0]|0)==2){d=r[h>>0]|0;if(!(d&1))d=(d&255)>>>1;else d=a[h+4>>2]|0;if((d|0)!=(v|0)){r[p>>0]=0;c=c+-1|0}}h=h+12|0;p=p+1|0}}do{if(d){c=a[d+12>>2]|0;if((c|0)==(a[d+16>>2]|0))c=Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0;else c=a[c>>2]|0;if((c|0)==-1){a[e>>2]=0;d=1;break}else{d=(a[e>>2]|0)==0;break}}else d=1}while(0);do{if(p){c=a[p+12>>2]|0;if((c|0)==(a[p+16>>2]|0))c=Cm[a[(a[p>>2]|0)+36>>2]&63](p)|0;else c=a[c>>2]|0;if((c|0)!=-1){if(d)break;else{S=77;break}}else{a[t>>2]=0;S=41;break}}else S=41}while(0);if((S|0)==41)if(d)S=77;if((S|0)==77)a[s>>2]=a[s>>2]|2;while(1){if((n|0)==(i|0)){S=81;break}if((r[u>>0]|0)==2)break;n=n+12|0;u=u+1|0}if((S|0)==81){a[s>>2]=a[s>>2]|4;n=i}Pp(k);f=I;return n|0}function uu(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0;E=f;f=f+304|0;_=E+200|0;l=E+196|0;I=E+184|0;S=E+172|0;w=E+168|0;k=E+8|0;b=E+4|0;g=E;v=Dl(i)|0;Kr(I,i,_,l);e=0;while(1){if((e|0)==3)break;a[S+(e<<2)>>2]=0;e=e+1|0}if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);h=S+8|0;y=S+1|0;i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i;a[b>>2]=k;a[g>>2]=0;m=S+4|0;p=a[l>>2]|0;l=a[t>>2]|0;e:while(1){if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=0;u=1}else u=0}else{l=0;u=1}c=a[n>>2]|0;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(u)break;else break e}else{a[n>>2]=0;A=19;break}}else A=19}while(0);if((A|0)==19){A=0;if(u){c=0;break}else c=0}u=r[S>>0]|0;u=(u&1)==0?(u&255)>>>1:a[m>>2]|0;if((a[w>>2]|0)==(i+u|0)){sn(S,u<<1,0);if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i+u}u=l+12|0;e=a[u>>2]|0;d=l+16|0;if((e|0)==(a[d>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if(Hr(e,v,i,w,g,p,I,k,b,_)|0)break;e=a[u>>2]|0;if((e|0)==(a[d>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[u>>2]=e+4;continue}}_=r[I>>0]|0;e=a[b>>2]|0;if((((_&1)==0?(_&255)>>>1:a[I+4>>2]|0)|0)!=0?(e-k|0)<160:0){_=a[g>>2]|0;g=e+4|0;a[b>>2]=g;a[e>>2]=_;e=g}a[s>>2]=Mc(i,a[w>>2]|0,o,v)|0;Io(I,k,e,o);if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;i=1}else i=0}else i=1;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(i)break;else{A=49;break}}else{a[n>>2]=0;A=47;break}}else A=47}while(0);if((A|0)==47?i:0)A=49;if((A|0)==49)a[o>>2]=a[o>>2]|2;A=a[t>>2]|0;nn(S);nn(I);f=E;return A|0}function cu(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0;E=f;f=f+304|0;_=E+200|0;l=E+196|0;I=E+184|0;S=E+172|0;w=E+168|0;k=E+8|0;b=E+4|0;g=E;v=Dl(i)|0;Kr(I,i,_,l);e=0;while(1){if((e|0)==3)break;a[S+(e<<2)>>2]=0;e=e+1|0}if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);h=S+8|0;y=S+1|0;i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i;a[b>>2]=k;a[g>>2]=0;m=S+4|0;p=a[l>>2]|0;l=a[t>>2]|0;e:while(1){if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=0;u=1}else u=0}else{l=0;u=1}c=a[n>>2]|0;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(u)break;else break e}else{a[n>>2]=0;A=19;break}}else A=19}while(0);if((A|0)==19){A=0;if(u){c=0;break}else c=0}u=r[S>>0]|0;u=(u&1)==0?(u&255)>>>1:a[m>>2]|0;if((a[w>>2]|0)==(i+u|0)){sn(S,u<<1,0);if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i+u}u=l+12|0;e=a[u>>2]|0;d=l+16|0;if((e|0)==(a[d>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if(Hr(e,v,i,w,g,p,I,k,b,_)|0)break;e=a[u>>2]|0;if((e|0)==(a[d>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[u>>2]=e+4;continue}}_=r[I>>0]|0;e=a[b>>2]|0;if((((_&1)==0?(_&255)>>>1:a[I+4>>2]|0)|0)!=0?(e-k|0)<160:0){_=a[g>>2]|0;g=e+4|0;a[b>>2]=g;a[e>>2]=_;e=g}w=Nc(i,a[w>>2]|0,o,v)|0;a[s>>2]=w;a[s+4>>2]=N;Io(I,k,e,o);if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;i=1}else i=0}else i=1;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(i)break;else{A=49;break}}else{a[n>>2]=0;A=47;break}}else A=47}while(0);if((A|0)==47?i:0)A=49;if((A|0)==49)a[o>>2]=a[o>>2]|2;A=a[t>>2]|0;nn(S);nn(I);f=E;return A|0}function fu(e,t,n,o,s,l){e=e|0;t=t|0;n=n|0;o=o|0;s=s|0;l=l|0;var u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;A=f;f=f+304|0;g=A+200|0;u=A+196|0;E=A+184|0;I=A+172|0;k=A+168|0;S=A+8|0;v=A+4|0;b=A;w=Dl(o)|0;Kr(E,o,g,u);e=0;while(1){if((e|0)==3)break;a[I+(e<<2)>>2]=0;e=e+1|0}if(!(r[I>>0]&1))e=10;else e=(a[I>>2]&-2)+-1|0;sn(I,e,0);y=I+8|0;m=I+1|0;o=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=o;a[v>>2]=S;a[b>>2]=0;_=I+4|0;h=a[u>>2]|0;u=a[t>>2]|0;e:while(1){if(u){e=a[u+12>>2]|0;if((e|0)==(a[u+16>>2]|0))e=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;u=0;c=1}else c=0}else{u=0;c=1}d=a[n>>2]|0;do{if(d){e=a[d+12>>2]|0
;if((e|0)==(a[d+16>>2]|0))e=Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(c)break;else break e}else{a[n>>2]=0;x=19;break}}else x=19}while(0);if((x|0)==19){x=0;if(c){d=0;break}else d=0}c=r[I>>0]|0;c=(c&1)==0?(c&255)>>>1:a[_>>2]|0;if((a[k>>2]|0)==(o+c|0)){sn(I,c<<1,0);if(!(r[I>>0]&1))e=10;else e=(a[I>>2]&-2)+-1|0;sn(I,e,0);o=(r[I>>0]&1)==0?m:a[y>>2]|0;a[k>>2]=o+c}c=u+12|0;e=a[c>>2]|0;p=u+16|0;if((e|0)==(a[p>>2]|0))e=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else e=a[e>>2]|0;if(Hr(e,w,o,k,b,h,E,S,v,g)|0)break;e=a[c>>2]|0;if((e|0)==(a[p>>2]|0)){Cm[a[(a[u>>2]|0)+40>>2]&63](u)|0;continue}else{a[c>>2]=e+4;continue}}g=r[E>>0]|0;e=a[v>>2]|0;if((((g&1)==0?(g&255)>>>1:a[E+4>>2]|0)|0)!=0?(e-S|0)<160:0){g=a[b>>2]|0;b=e+4|0;a[v>>2]=b;a[e>>2]=g;e=b}i[l>>1]=Oc(o,a[k>>2]|0,s,w)|0;Io(E,S,e,s);if(u){e=a[u+12>>2]|0;if((e|0)==(a[u+16>>2]|0))e=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;o=1}else o=0}else o=1;do{if(d){e=a[d+12>>2]|0;if((e|0)==(a[d+16>>2]|0))e=Cm[a[(a[d>>2]|0)+36>>2]&63](d)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(o)break;else{x=49;break}}else{a[n>>2]=0;x=47;break}}else x=47}while(0);if((x|0)==47?o:0)x=49;if((x|0)==49)a[s>>2]=a[s>>2]|2;x=a[t>>2]|0;nn(I);nn(E);f=A;return x|0}function du(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0;E=f;f=f+304|0;_=E+200|0;l=E+196|0;I=E+184|0;S=E+172|0;w=E+168|0;k=E+8|0;b=E+4|0;g=E;v=Dl(i)|0;Kr(I,i,_,l);e=0;while(1){if((e|0)==3)break;a[S+(e<<2)>>2]=0;e=e+1|0}if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);h=S+8|0;y=S+1|0;i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i;a[b>>2]=k;a[g>>2]=0;m=S+4|0;p=a[l>>2]|0;l=a[t>>2]|0;e:while(1){if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=0;u=1}else u=0}else{l=0;u=1}c=a[n>>2]|0;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(u)break;else break e}else{a[n>>2]=0;A=19;break}}else A=19}while(0);if((A|0)==19){A=0;if(u){c=0;break}else c=0}u=r[S>>0]|0;u=(u&1)==0?(u&255)>>>1:a[m>>2]|0;if((a[w>>2]|0)==(i+u|0)){sn(S,u<<1,0);if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i+u}u=l+12|0;e=a[u>>2]|0;d=l+16|0;if((e|0)==(a[d>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if(Hr(e,v,i,w,g,p,I,k,b,_)|0)break;e=a[u>>2]|0;if((e|0)==(a[d>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[u>>2]=e+4;continue}}_=r[I>>0]|0;e=a[b>>2]|0;if((((_&1)==0?(_&255)>>>1:a[I+4>>2]|0)|0)!=0?(e-k|0)<160:0){_=a[g>>2]|0;g=e+4|0;a[b>>2]=g;a[e>>2]=_;e=g}a[s>>2]=Pc(i,a[w>>2]|0,o,v)|0;Io(I,k,e,o);if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;i=1}else i=0}else i=1;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(i)break;else{A=49;break}}else{a[n>>2]=0;A=47;break}}else A=47}while(0);if((A|0)==47?i:0)A=49;if((A|0)==49)a[o>>2]=a[o>>2]|2;A=a[t>>2]|0;nn(S);nn(I);f=E;return A|0}function pu(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0;E=f;f=f+304|0;_=E+200|0;l=E+196|0;I=E+184|0;S=E+172|0;w=E+168|0;k=E+8|0;b=E+4|0;g=E;v=Dl(i)|0;Kr(I,i,_,l);e=0;while(1){if((e|0)==3)break;a[S+(e<<2)>>2]=0;e=e+1|0}if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);h=S+8|0;y=S+1|0;i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i;a[b>>2]=k;a[g>>2]=0;m=S+4|0;p=a[l>>2]|0;l=a[t>>2]|0;e:while(1){if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=0;u=1}else u=0}else{l=0;u=1}c=a[n>>2]|0;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(u)break;else break e}else{a[n>>2]=0;A=19;break}}else A=19}while(0);if((A|0)==19){A=0;if(u){c=0;break}else c=0}u=r[S>>0]|0;u=(u&1)==0?(u&255)>>>1:a[m>>2]|0;if((a[w>>2]|0)==(i+u|0)){sn(S,u<<1,0);if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i+u}u=l+12|0;e=a[u>>2]|0;d=l+16|0;if((e|0)==(a[d>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if(Hr(e,v,i,w,g,p,I,k,b,_)|0)break;e=a[u>>2]|0;if((e|0)==(a[d>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[u>>2]=e+4;continue}}_=r[I>>0]|0;e=a[b>>2]|0;if((((_&1)==0?(_&255)>>>1:a[I+4>>2]|0)|0)!=0?(e-k|0)<160:0){_=a[g>>2]|0;g=e+4|0;a[b>>2]=g;a[e>>2]=_;e=g}a[s>>2]=Tc(i,a[w>>2]|0,o,v)|0;Io(I,k,e,o);if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;i=1}else i=0}else i=1;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(i)break;else{A=49;break}}else{a[n>>2]=0;A=47;break}}else A=47}while(0);if((A|0)==47?i:0)A=49;if((A|0)==49)a[o>>2]=a[o>>2]|2;A=a[t>>2]|0;nn(S);nn(I);f=E;return A|0}function hu(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0;E=f;f=f+304|0;_=E+200|0;l=E+196|0;I=E+184|0;S=E+172|0;w=E+168|0;k=E+8|0;b=E+4|0;g=E;v=Dl(i)|0;Kr(I,i,_,l);e=0;while(1){if((e|0)==3)break;a[S+(e<<2)>>2]=0;e=e+1|0}if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);h=S+8|0;y=S+1|0;i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i;a[b>>2]=k;a[g>>2]=0;m=S+4|0;p=a[l>>2]|0;l=a[t>>2]|0;e:while(1){if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=0;u=1}else u=0}else{l=0;u=1}c=a[n>>2]|0;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(u)break;else break e}else{a[n>>2]=0;A=19;break}}else A=19}while(0);if((A|0)==19){A=0;if(u){c=0;break}else c=0}u=r[S>>0]|0;u=(u&1)==0?(u&255)>>>1:a[m>>2]|0;if((a[w>>2]|0)==(i+u|0)){sn(S,u<<1,0);if(!(r[S>>0]&1))e=10;else e=(a[S>>2]&-2)+-1|0;sn(S,e,0);i=(r[S>>0]&1)==0?y:a[h>>2]|0;a[w>>2]=i+u}u=l+12|0;e=a[u>>2]|0;d=l+16|0;if((e|0)==(a[d>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if(Hr(e,v,i,w,g,p,I,k,b,_)|0)break;e=a[u>>2]|0;if((e|0)==(a[d>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[u>>2]=e+4;continue}}_=r[I>>0]|0;e=a[b>>2]|0;if((((_&1)==0?(_&255)>>>1:a[I+4>>2]|0)|0)!=0?(e-k|0)<160:0){_=a[g>>2]|0;g=e+4|0;a[b>>2]=g;a[e>>2]=_;e=g}w=Cc(i,a[w>>2]|0,o,v)|0;a[s>>2]=w;a[s+4>>2]=N;Io(I,k,e,o);if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;i=1}else i=0}else i=1;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(i)break;else{A=49;break}}else{a[n>>2]=0;A=47;break}}else A=47}while(0);if((A|0)==47?i:0)A=49;if((A|0)==49)a[o>>2]=a[o>>2]|2;A=a[t>>2]|0;nn(S);nn(I);f=E;return A|0}function yu(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0;C=f;f=f+352|0;b=C+208|0;l=C+200|0;c=C+196|0;x=C+184|0;A=C+172|0;I=C+168|0;E=C+8|0;k=C+4|0;w=C;S=C+337|0;v=C+336|0;Wr(x,i,b,l,c);e=0;while(1){if((e|0)==3)break;a[A+(e<<2)>>2]=0;e=e+1|0}if(!(r[A>>0]&1))e=10;else e=(a[A>>2]&-2)+-1|0;sn(A,e,0);m=A+8|0;_=A+1|0;i=(r[A>>0]&1)==0?_:a[m>>2]|0;a[I>>2]=i;a[k>>2]=E;a[w>>2]=0;r[S>>0]=1;r[v>>0]=69;g=A+4|0;y=a[l>>2]|0;h=a[c>>2]|0;l=a[t>>2]|0;e:while(1){if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=0;d=1}else d=0}else{l=0;d=1}c=a[n>>2]|0;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(d)break;else break e}else{a[n>>2]=0;T=19;break}}else T=19}while(0);if((T|0)==19){T=0;if(d){c=0;break}else c=0}d=r[A>>0]|0;d=(d&1)==0?(d&255)>>>1:a[g>>2]|0;if((a[I>>2]|0)==(i+d|0)){sn(A,d<<1,0);if(!(r[A>>0]&1))e=10;else e=(a[A>>2]&-2)+-1|0;sn(A,e,0);i=(r[A>>0]&1)==0?_:a[m>>2]|0;a[I>>2]=i+d}
d=l+12|0;e=a[d>>2]|0;p=l+16|0;if((e|0)==(a[p>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if(qr(e,S,v,i,I,y,h,x,E,k,w,b)|0)break;e=a[d>>2]|0;if((e|0)==(a[p>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[d>>2]=e+4;continue}}v=r[x>>0]|0;e=a[k>>2]|0;if(!((r[S>>0]|0)==0?1:(((v&1)==0?(v&255)>>>1:a[x+4>>2]|0)|0)==0)?(e-E|0)<160:0){w=a[w>>2]|0;S=e+4|0;a[k>>2]=S;a[e>>2]=w;e=S}u[s>>2]=+xc(i,a[I>>2]|0,o);Io(x,E,e,o);if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;i=1}else i=0}else i=1;do{if(c){e=a[c+12>>2]|0;if((e|0)==(a[c+16>>2]|0))e=Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(i)break;else{T=49;break}}else{a[n>>2]=0;T=47;break}}else T=47}while(0);if((T|0)==47?i:0)T=49;if((T|0)==49)a[o>>2]=a[o>>2]|2;T=a[t>>2]|0;nn(A);nn(x);f=C;return T|0}function mu(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0;C=f;f=f+352|0;b=C+208|0;l=C+200|0;u=C+196|0;x=C+184|0;A=C+172|0;I=C+168|0;E=C+8|0;k=C+4|0;w=C;S=C+337|0;v=C+336|0;Wr(x,i,b,l,u);e=0;while(1){if((e|0)==3)break;a[A+(e<<2)>>2]=0;e=e+1|0}if(!(r[A>>0]&1))e=10;else e=(a[A>>2]&-2)+-1|0;sn(A,e,0);m=A+8|0;_=A+1|0;i=(r[A>>0]&1)==0?_:a[m>>2]|0;a[I>>2]=i;a[k>>2]=E;a[w>>2]=0;r[S>>0]=1;r[v>>0]=69;g=A+4|0;y=a[l>>2]|0;h=a[u>>2]|0;l=a[t>>2]|0;e:while(1){if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=0;d=1}else d=0}else{l=0;d=1}u=a[n>>2]|0;do{if(u){e=a[u+12>>2]|0;if((e|0)==(a[u+16>>2]|0))e=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(d)break;else break e}else{a[n>>2]=0;T=19;break}}else T=19}while(0);if((T|0)==19){T=0;if(d){u=0;break}else u=0}d=r[A>>0]|0;d=(d&1)==0?(d&255)>>>1:a[g>>2]|0;if((a[I>>2]|0)==(i+d|0)){sn(A,d<<1,0);if(!(r[A>>0]&1))e=10;else e=(a[A>>2]&-2)+-1|0;sn(A,e,0);i=(r[A>>0]&1)==0?_:a[m>>2]|0;a[I>>2]=i+d}d=l+12|0;e=a[d>>2]|0;p=l+16|0;if((e|0)==(a[p>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if(qr(e,S,v,i,I,y,h,x,E,k,w,b)|0)break;e=a[d>>2]|0;if((e|0)==(a[p>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[d>>2]=e+4;continue}}v=r[x>>0]|0;e=a[k>>2]|0;if(!((r[S>>0]|0)==0?1:(((v&1)==0?(v&255)>>>1:a[x+4>>2]|0)|0)==0)?(e-E|0)<160:0){w=a[w>>2]|0;S=e+4|0;a[k>>2]=S;a[e>>2]=w;e=S}c[s>>3]=+Ac(i,a[I>>2]|0,o);Io(x,E,e,o);if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;i=1}else i=0}else i=1;do{if(u){e=a[u+12>>2]|0;if((e|0)==(a[u+16>>2]|0))e=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(i)break;else{T=49;break}}else{a[n>>2]=0;T=47;break}}else T=47}while(0);if((T|0)==47?i:0)T=49;if((T|0)==49)a[o>>2]=a[o>>2]|2;T=a[t>>2]|0;nn(A);nn(x);f=C;return T|0}function _u(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0;C=f;f=f+352|0;b=C+208|0;l=C+200|0;u=C+196|0;x=C+184|0;A=C+172|0;I=C+168|0;E=C+8|0;k=C+4|0;w=C;S=C+337|0;v=C+336|0;Wr(x,i,b,l,u);e=0;while(1){if((e|0)==3)break;a[A+(e<<2)>>2]=0;e=e+1|0}if(!(r[A>>0]&1))e=10;else e=(a[A>>2]&-2)+-1|0;sn(A,e,0);m=A+8|0;_=A+1|0;i=(r[A>>0]&1)==0?_:a[m>>2]|0;a[I>>2]=i;a[k>>2]=E;a[w>>2]=0;r[S>>0]=1;r[v>>0]=69;g=A+4|0;y=a[l>>2]|0;h=a[u>>2]|0;l=a[t>>2]|0;e:while(1){if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;l=0;d=1}else d=0}else{l=0;d=1}u=a[n>>2]|0;do{if(u){e=a[u+12>>2]|0;if((e|0)==(a[u+16>>2]|0))e=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(d)break;else break e}else{a[n>>2]=0;T=19;break}}else T=19}while(0);if((T|0)==19){T=0;if(d){u=0;break}else u=0}d=r[A>>0]|0;d=(d&1)==0?(d&255)>>>1:a[g>>2]|0;if((a[I>>2]|0)==(i+d|0)){sn(A,d<<1,0);if(!(r[A>>0]&1))e=10;else e=(a[A>>2]&-2)+-1|0;sn(A,e,0);i=(r[A>>0]&1)==0?_:a[m>>2]|0;a[I>>2]=i+d}d=l+12|0;e=a[d>>2]|0;p=l+16|0;if((e|0)==(a[p>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if(qr(e,S,v,i,I,y,h,x,E,k,w,b)|0)break;e=a[d>>2]|0;if((e|0)==(a[p>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;continue}else{a[d>>2]=e+4;continue}}v=r[x>>0]|0;e=a[k>>2]|0;if(!((r[S>>0]|0)==0?1:(((v&1)==0?(v&255)>>>1:a[x+4>>2]|0)|0)==0)?(e-E|0)<160:0){w=a[w>>2]|0;S=e+4|0;a[k>>2]=S;a[e>>2]=w;e=S}c[s>>3]=+Ec(i,a[I>>2]|0,o);Io(x,E,e,o);if(l){e=a[l+12>>2]|0;if((e|0)==(a[l+16>>2]|0))e=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else e=a[e>>2]|0;if((e|0)==-1){a[t>>2]=0;i=1}else i=0}else i=1;do{if(u){e=a[u+12>>2]|0;if((e|0)==(a[u+16>>2]|0))e=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else e=a[e>>2]|0;if((e|0)!=-1){if(i)break;else{T=49;break}}else{a[n>>2]=0;T=47;break}}else T=47}while(0);if((T|0)==47?i:0)T=49;if((T|0)==49)a[o>>2]=a[o>>2]|2;T=a[t>>2]|0;nn(A);nn(x);f=C;return T|0}function gu(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0;o=f;f=f+16|0;s=o;a[s>>2]=i;i=yd(n)|0;n=Fd(e,t,r,s)|0;if(i)yd(i)|0;f=o;return n|0}function bu(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0;h=f;f=f+16|0;p=h;l=a[e>>2]|0;e:do{if(!l)l=0;else{y=t;c=i-y|0;d=o+12|0;u=a[d>>2]|0;c=(u|0)>(c|0)?u-c|0:0;u=n;o=u-y|0;if((o|0)>0?(wm[a[(a[l>>2]|0)+48>>2]&31](l,t,o)|0)!=(o|0):0){a[e>>2]=0;l=0;break}do{if((c|0)>0){tn(p,c,s);if((wm[a[(a[l>>2]|0)+48>>2]&31](l,(r[p>>0]&1)==0?p+1|0:a[p+8>>2]|0,c)|0)==(c|0)){nn(p);break}else{a[e>>2]=0;nn(p);l=0;break e}}}while(0);i=i-u|0;if((i|0)>0?(wm[a[(a[l>>2]|0)+48>>2]&31](l,n,i)|0)!=(i|0):0){a[e>>2]=0;l=0;break}a[d>>2]=0}}while(0);f=h;return l|0}function vu(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0;i=f;f=f+16|0;o=i;a[o>>2]=r;r=yd(t)|0;t=Wd(e,n,o)|0;if(r)yd(r)|0;f=i;return t|0}function wu(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,d=0,p=0,h=0,y=0;h=f;f=f+16|0;p=h;l=a[e>>2]|0;e:do{if(!l)l=0;else{y=t;c=i-y>>2;d=o+12|0;o=a[d>>2]|0;c=(o|0)>(c|0)?o-c|0:0;o=n;y=o-y|0;u=y>>2;if((y|0)>0?(wm[a[(a[l>>2]|0)+48>>2]&31](l,t,u)|0)!=(u|0):0){a[e>>2]=0;l=0;break}do{if((c|0)>0){mn(p,c,s);if((wm[a[(a[l>>2]|0)+48>>2]&31](l,(r[p>>0]&1)==0?p+4|0:a[p+8>>2]|0,c)|0)==(c|0)){_n(p);break}else{a[e>>2]=0;_n(p);l=0;break e}}}while(0);y=i-o|0;i=y>>2;if((y|0)>0?(wm[a[(a[l>>2]|0)+48>>2]&31](l,n,i)|0)!=(i|0):0){a[e>>2]=0;l=0;break}a[d>>2]=0}}while(0);f=h;return l|0}function ku(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0;l=a[e>>2]|0;do{if(l){if((a[l+12>>2]|0)==(a[l+16>>2]|0))if((Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0)==-1){a[e>>2]=0;l=0;break}else{l=a[e>>2]|0;break}}else l=0}while(0);u=(l|0)==0;l=a[t>>2]|0;do{if(l){if((a[l+12>>2]|0)==(a[l+16>>2]|0)?(Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0)==-1:0){a[t>>2]=0;_=11;break}if(u)_=13;else _=12}else _=11}while(0);if((_|0)==11)if(u)_=12;else{l=0;_=13}e:do{if((_|0)==12){a[n>>2]=a[n>>2]|6;l=0}else if((_|0)==13){u=a[e>>2]|0;c=a[u+12>>2]|0;if((c|0)==(a[u+16>>2]|0))u=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else u=o[c>>0]|0;c=u&255;if(c<<24>>24>-1?(m=r+8|0,(i[(a[m>>2]|0)+(u<<24>>24<<1)>>1]&2048)!=0):0){d=(wm[a[(a[r>>2]|0)+36>>2]&31](r,c,0)|0)<<24>>24;u=a[e>>2]|0;c=u+12|0;f=a[c>>2]|0;if((f|0)==(a[u+16>>2]|0)){Cm[a[(a[u>>2]|0)+40>>2]&63](u)|0;h=s;p=l;s=l;l=d}else{a[c>>2]=f+1;h=s;p=l;s=l;l=d}while(1){l=l+-48|0;y=h+-1|0;u=a[e>>2]|0;do{if(u){if((a[u+12>>2]|0)==(a[u+16>>2]|0))if((Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0)==-1){a[e>>2]=0;u=0;break}else{u=a[e>>2]|0;break}}else u=0}while(0);f=(u|0)==0;if(s){if((a[s+12>>2]|0)==(a[s+16>>2]|0)){if((Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0)==-1){a[t>>2]=0;c=0;s=0}else{c=p;s=p}}else c=p}else{c=p;s=0}u=a[e>>2]|0;if(!((h|0)>1&(f^(s|0)==0)))break;f=a[u+12>>2]|0;if((f|0)==(a[u+16>>2]|0))u=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else u=o[f>>0]|0;f=u&255;if(f<<24>>24<=-1)break e;if(!(i[(a[m>>2]|0)+(u<<24>>24<<1)>>1]&2048))break e;l=((wm[a[(a[r>>2]|0)+36>>2]&31](r,f,0)|0)<<24>>24)+(l*10|0)|0;u=a[e>>2]|0;f=u+12|0;d=a[f>>2]|0;if((d|0)==(a[u+16>>2]|0)){Cm[a[(a[u>>2]|0)+40>>2]&63](u)|0;h=y;p=c;continue}else{a[f>>2]=d+1;h=y;p=c;continue}}do{if(u){if((a[u+12>>2]|0)==(a[u+16>>2]|0))if((Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0)==-1){a[e>>2]=0;u=0
;break}else{u=a[e>>2]|0;break}}else u=0}while(0);u=(u|0)==0;do{if(c){if((a[c+12>>2]|0)==(a[c+16>>2]|0)?(Cm[a[(a[c>>2]|0)+36>>2]&63](c)|0)==-1:0){a[t>>2]=0;_=50;break}if(u)break e}else _=50}while(0);if((_|0)==50?!u:0)break;a[n>>2]=a[n>>2]|2;break}a[n>>2]=a[n>>2]|4;l=0}}while(0);return l|0}function Su(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0;o=a[e>>2]|0;do{if(o){s=a[o+12>>2]|0;if((s|0)==(a[o+16>>2]|0))o=Cm[a[(a[o>>2]|0)+36>>2]&63](o)|0;else o=a[s>>2]|0;if((o|0)==-1){a[e>>2]=0;l=1;break}else{l=(a[e>>2]|0)==0;break}}else l=1}while(0);s=a[t>>2]|0;do{if(s){o=a[s+12>>2]|0;if((o|0)==(a[s+16>>2]|0))o=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else o=a[o>>2]|0;if((o|0)!=-1){if(l){h=17;break}else{h=16;break}}else{a[t>>2]=0;h=14;break}}else h=14}while(0);if((h|0)==14)if(l)h=16;else{s=0;h=17}e:do{if((h|0)==16){a[n>>2]=a[n>>2]|6;o=0}else if((h|0)==17){o=a[e>>2]|0;l=a[o+12>>2]|0;if((l|0)==(a[o+16>>2]|0))o=Cm[a[(a[o>>2]|0)+36>>2]&63](o)|0;else o=a[l>>2]|0;if(!(wm[a[(a[r>>2]|0)+12>>2]&31](r,2048,o)|0)){a[n>>2]=a[n>>2]|4;o=0;break}o=(wm[a[(a[r>>2]|0)+52>>2]&31](r,o,0)|0)<<24>>24;l=a[e>>2]|0;u=l+12|0;c=a[u>>2]|0;if((c|0)==(a[l+16>>2]|0)){Cm[a[(a[l>>2]|0)+40>>2]&63](l)|0;d=i;f=s;u=s}else{a[u>>2]=c+4;d=i;f=s;u=s}while(1){o=o+-48|0;p=d+-1|0;s=a[e>>2]|0;do{if(s){l=a[s+12>>2]|0;if((l|0)==(a[s+16>>2]|0))s=Cm[a[(a[s>>2]|0)+36>>2]&63](s)|0;else s=a[l>>2]|0;if((s|0)==-1){a[e>>2]=0;c=1;break}else{c=(a[e>>2]|0)==0;break}}else c=1}while(0);do{if(u){s=a[u+12>>2]|0;if((s|0)==(a[u+16>>2]|0))s=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else s=a[s>>2]|0;if((s|0)==-1){a[t>>2]=0;u=0;i=0;s=1;break}else{u=f;i=f;s=(f|0)==0;break}}else{u=f;i=0;s=1}}while(0);l=a[e>>2]|0;if(!((d|0)>1&(c^s)))break;s=a[l+12>>2]|0;if((s|0)==(a[l+16>>2]|0))s=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else s=a[s>>2]|0;if(!(wm[a[(a[r>>2]|0)+12>>2]&31](r,2048,s)|0))break e;o=((wm[a[(a[r>>2]|0)+52>>2]&31](r,s,0)|0)<<24>>24)+(o*10|0)|0;s=a[e>>2]|0;l=s+12|0;c=a[l>>2]|0;if((c|0)==(a[s+16>>2]|0)){Cm[a[(a[s>>2]|0)+40>>2]&63](s)|0;d=p;f=u;u=i;continue}else{a[l>>2]=c+4;d=p;f=u;u=i;continue}}do{if(l){s=a[l+12>>2]|0;if((s|0)==(a[l+16>>2]|0))s=Cm[a[(a[l>>2]|0)+36>>2]&63](l)|0;else s=a[s>>2]|0;if((s|0)==-1){a[e>>2]=0;l=1;break}else{l=(a[e>>2]|0)==0;break}}else l=1}while(0);do{if(u){s=a[u+12>>2]|0;if((s|0)==(a[u+16>>2]|0))s=Cm[a[(a[u>>2]|0)+36>>2]&63](u)|0;else s=a[s>>2]|0;if((s|0)!=-1){if(l)break e;else break}else{a[t>>2]=0;h=60;break}}else h=60}while(0);if((h|0)==60?!l:0)break;a[n>>2]=a[n>>2]|2}}while(0);return o|0}function Iu(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;s=e+4|0;i=(a[s>>2]|0)!=85;r=a[e>>2]|0;o=(a[n>>2]|0)-r|0;o=o>>>0<2147483647?o<<1:-1;l=(a[t>>2]|0)-r|0;r=Np(i?r:0,o)|0;if(!r)Uy();if(!i){i=a[e>>2]|0;a[e>>2]=r;if(i){Im[a[s>>2]&127](i);r=a[e>>2]|0}}else a[e>>2]=r;a[s>>2]=96;a[t>>2]=r+l;a[n>>2]=(a[e>>2]|0)+o;return}function Eu(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;s=e+4|0;i=(a[s>>2]|0)!=85;r=a[e>>2]|0;o=(a[n>>2]|0)-r|0;o=o>>>0<2147483647?o<<1:-1;l=(a[t>>2]|0)-r>>2;r=Np(i?r:0,o)|0;if(!r)Uy();if(!i){i=a[e>>2]|0;a[e>>2]=r;if(i){Im[a[s>>2]&127](i);r=a[e>>2]|0}}else a[e>>2]=r;a[s>>2]=96;a[t>>2]=r+(l<<2);a[n>>2]=(a[e>>2]|0)+(o>>>2<<2);return}function Au(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0;s=t;i=r[e>>0]|0;if(!(i&1)){c=(i&255)>>>1;o=10}else{i=a[e>>2]|0;c=a[e+4>>2]|0;o=(i&-2)+-1|0;i=i&255}u=n-s|0;do{if((n|0)!=(t|0)){if((o-c|0)>>>0<u>>>0){pn(e,o,c+u-o|0,c,c,0,0);i=r[e>>0]|0}if(!(i&1))l=e+1|0;else l=a[e+8>>2]|0;s=n+(c-s)|0;i=t;o=l+c|0;while(1){if((i|0)==(n|0))break;r[o>>0]=r[i>>0]|0;i=i+1|0;o=o+1|0}r[l+s>>0]=0;i=c+u|0;if(!(r[e>>0]&1)){r[e>>0]=i<<1;break}else{a[e+4>>2]=i;break}}}while(0);return e|0}function xu(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;s=e+4|0;i=(a[s>>2]|0)!=85;r=a[e>>2]|0;o=(a[n>>2]|0)-r|0;o=o>>>0<2147483647?o<<1:-1;l=(a[t>>2]|0)-r>>2;r=Np(i?r:0,o)|0;if(!r)Uy();if(!i){i=a[e>>2]|0;a[e>>2]=r;if(i){Im[a[s>>2]&127](i);r=a[e>>2]|0}}else a[e>>2]=r;a[s>>2]=96;a[t>>2]=r+(l<<2);a[n>>2]=(a[e>>2]|0)+(o>>>2<<2);return}function Cu(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0;s=t;i=r[e>>0]|0;if(!(i&1)){c=(i&255)>>>1;o=1}else{i=a[e>>2]|0;c=a[e+4>>2]|0;o=(i&-2)+-1|0;i=i&255}u=n-s>>2;do{if(u){if((o-c|0)>>>0<u>>>0){Sn(e,o,c+u-o|0,c,c,0,0);i=r[e>>0]|0}if(!(i&1))l=e+4|0;else l=a[e+8>>2]|0;s=c+((n-s|0)>>>2)|0;i=t;o=l+(c<<2)|0;while(1){if((i|0)==(n|0))break;a[o>>2]=a[i>>2];i=i+4|0;o=o+4|0}a[l+(s<<2)>>2]=0;i=c+u|0;if(!(r[e>>0]&1)){r[e>>0]=i<<1;break}else{a[e+4>>2]=i;break}}}while(0);return e|0}function Tu(e,t){e=e|0;t=t|0;a[e>>2]=0;a[e+4>>2]=0;a[e+8>>2]=0;r[e+128>>0]=0;if(t){Ic(e,t);vc(e,t)}return}function Pu(e,t){e=e|0;t=t|0;ts(e,t,cs(7296)|0);return}function Ou(e,t){e=e|0;t=t|0;ts(e,t,cs(7336)|0);return}function Nu(e,t){e=e|0;t=t|0;ts(e,t,cs(8368)|0);return}function Mu(e,t){e=e|0;t=t|0;ts(e,t,cs(8360)|0);return}function Ru(e,t){e=e|0;t=t|0;ts(e,t,cs(8428)|0);return}function Du(e,t){e=e|0;t=t|0;ts(e,t,cs(8436)|0);return}function Fu(e,t){e=e|0;t=t|0;ts(e,t,cs(8492)|0);return}function Bu(e,t){e=e|0;t=t|0;ts(e,t,cs(8500)|0);return}function ju(e,t){e=e|0;t=t|0;ts(e,t,cs(8508)|0);return}function Lu(e,t){e=e|0;t=t|0;ts(e,t,cs(8516)|0);return}function Uu(e,t){e=e|0;t=t|0;ts(e,t,cs(7408)|0);return}function Hu(e,t){e=e|0;t=t|0;ts(e,t,cs(7480)|0);return}function Gu(e,t){e=e|0;t=t|0;ts(e,t,cs(7540)|0);return}function zu(e,t){e=e|0;t=t|0;ts(e,t,cs(7600)|0);return}function Vu(e,t){e=e|0;t=t|0;ts(e,t,cs(7912)|0);return}function Ku(e,t){e=e|0;t=t|0;ts(e,t,cs(7976)|0);return}function Wu(e,t){e=e|0;t=t|0;ts(e,t,cs(8040)|0);return}function qu(e,t){e=e|0;t=t|0;ts(e,t,cs(8104)|0);return}function Xu(e,t){e=e|0;t=t|0;ts(e,t,cs(8140)|0);return}function Yu(e,t){e=e|0;t=t|0;ts(e,t,cs(8176)|0);return}function Ju(e,t){e=e|0;t=t|0;ts(e,t,cs(8212)|0);return}function Qu(e,t){e=e|0;t=t|0;ts(e,t,cs(8248)|0);return}function Zu(e,t){e=e|0;t=t|0;ts(e,t,cs(7692)|0);return}function $u(e,t){e=e|0;t=t|0;ts(e,t,cs(7784)|0);return}function ec(e,t){e=e|0;t=t|0;ts(e,t,cs(7816)|0);return}function tc(e,t){e=e|0;t=t|0;ts(e,t,cs(7848)|0);return}function nc(e,t){e=e|0;t=t|0;ts(e,t,cs(8288)|0);return}function rc(e,t){e=e|0;t=t|0;ts(e,t,cs(8328)|0);return}function ic(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0;o=e+4|0;n=a[o>>2]|0;i=a[e>>2]|0;r=n-i>>2;e:do{if(r>>>0>=t>>>0){if(r>>>0>t>>>0){r=i+(t<<2)|0;while(1){if((n|0)==(r|0))break e;e=n+-4|0;a[o>>2]=e;n=e}}}else bc(e,t-r|0)}while(0);return}function ac(e){e=e|0;var t=0,n=0,i=0,o=0;t=a[e>>2]|0;do{if(t){n=e+4|0;i=a[n>>2]|0;while(1){if((i|0)==(t|0))break;o=i+-4|0;a[n>>2]=o;i=o}if((e+16|0)==(t|0)){r[e+128>>0]=0;break}else{ry(t);break}}}while(0);return}function oc(e){e=e|0;var t=0,n=0;n=e+4|0;t=a[n>>2]|0;n=a[n+4>>2]|0;e=(a[e>>2]|0)+(n>>1)|0;if(n&1)t=a[(a[e>>2]|0)+t>>2]|0;Im[t&127](e);return}function sc(e,t,n,o,l,u,c,f){e=e|0;t=t|0;n=n|0;o=o|0;l=l|0;u=u|0;c=c|0;f=f|0;var d=0,p=0;a[n>>2]=e;a[u>>2]=o;if(f&2){if((l-o|0)<3)e=1;else{a[u>>2]=o+1;r[o>>0]=-17;d=a[u>>2]|0;a[u>>2]=d+1;r[d>>0]=-69;d=a[u>>2]|0;a[u>>2]=d+1;r[d>>0]=-65;d=4}}else d=4;e:do{if((d|0)==4){p=t;e=a[n>>2]|0;while(1){if(e>>>0>=t>>>0){e=0;break e}f=i[e>>1]|0;d=f&65535;if(d>>>0>c>>>0){e=2;break e}do{if((f&65535)<128){e=a[u>>2]|0;if((l-e|0)<1){e=1;break e}a[u>>2]=e+1;r[e>>0]=f}else{if((f&65535)<2048){e=a[u>>2]|0;if((l-e|0)<2){e=1;break e}a[u>>2]=e+1;r[e>>0]=d>>>6|192;o=a[u>>2]|0;a[u>>2]=o+1;r[o>>0]=d&63|128;break}if((f&65535)<55296){e=a[u>>2]|0;if((l-e|0)<3){e=1;break e}a[u>>2]=e+1;r[e>>0]=d>>>12|224;o=a[u>>2]|0;a[u>>2]=o+1;r[o>>0]=d>>>6&63|128;o=a[u>>2]|0;a[u>>2]=o+1;r[o>>0]=d&63|128;break}if((f&65535)>=56320){if((f&65535)<57344){e=2;break e}e=a[u>>2]|0;if((l-e|0)<3){e=1;break e}a[u>>2]=e+1;r[e>>0]=d>>>12|224;o=a[u>>2]|0;a[u>>2]=o+1;r[o>>0]=d>>>6&63|128;o=a[u>>2]|0;a[u>>2]=o+1;r[o>>0]=d&63|128;break}if((p-e|0)<4){e=1;break e}e=e+2|0;f=s[e>>1]|0;if((f&64512|0)!=56320){e=2;break e}if((l-(a[u>>2]|0)|0)<4){e=1;break e}o=d&960;if(((o<<10)+65536|d<<10&64512|f&1023)>>>0>c>>>0){e=2;break e}a[n>>2]=e;e=(o>>>6)+1|0;o=a[u>>2]|0;a[u>>2]=o+1;r[o>>0]=e>>>2|240;o=a[u>>2]|0;a[u>>2]=o+1;r[o>>0]=d>>>2&15|e<<4&48|128;o=a[u>>2]|0;a[u>>2]=o+1
;r[o>>0]=d<<4&48|f>>>6&15|128;d=a[u>>2]|0;a[u>>2]=d+1;r[d>>0]=f&63|128}}while(0);e=(a[n>>2]|0)+2|0;a[n>>2]=e}}}while(0);return e|0}function lc(e,t,n,s,l,u,c,f){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;u=u|0;c=c|0;f=f|0;var d=0,p=0,h=0,y=0,m=0,_=0,g=0;a[n>>2]=e;a[u>>2]=s;if(f&4){e=a[n>>2]|0;f=t;if((((f-e|0)>2?(r[e>>0]|0)==-17:0)?(r[e+1>>0]|0)==-69:0)?(r[e+2>>0]|0)==-65:0)a[n>>2]=e+3}else f=t;m=l;e:while(1){p=a[n>>2]|0;e=p>>>0<t>>>0;if(!e){g=41;break}_=a[u>>2]|0;if(_>>>0>=l>>>0){g=41;break}e=r[p>>0]|0;y=e&255;if(y>>>0>c>>>0){e=2;break}do{if(e<<24>>24>-1){i[_>>1]=e&255;a[n>>2]=p+1}else{if((e&255)<194){e=2;break e}if((e&255)<224){if((f-p|0)<2){e=1;break e}e=o[p+1>>0]|0;if((e&192|0)!=128){e=2;break e}e=e&63|y<<6&1984;if(e>>>0>c>>>0){e=2;break e}i[_>>1]=e;a[n>>2]=p+2;break}if((e&255)<240){if((f-p|0)<3){e=1;break e}s=r[p+1>>0]|0;e=r[p+2>>0]|0;switch(y|0){case 224:{if((s&-32)<<24>>24!=-96){e=2;break e}break}case 237:{if((s&-32)<<24>>24!=-128){e=2;break e}break}default:if((s&-64)<<24>>24!=-128){e=2;break e}}e=e&255;if((e&192|0)!=128){e=2;break e}e=(s&255)<<6&4032|y<<12|e&63;if((e&65535)>>>0>c>>>0){e=2;break e}i[_>>1]=e;a[n>>2]=p+3;break}if((e&255)>=245){e=2;break e}if((f-p|0)<4){e=1;break e}d=r[p+1>>0]|0;e=r[p+2>>0]|0;s=r[p+3>>0]|0;switch(y|0){case 240:{if((d+112&255)>=48){e=2;break e}break}case 244:{if((d&-16)<<24>>24!=-128){e=2;break e}break}default:if((d&-64)<<24>>24!=-128){e=2;break e}}h=e&255;if((h&192|0)!=128){e=2;break e}e=s&255;if((e&192|0)!=128){e=2;break e}if((m-_|0)<4){e=1;break e}p=y&7;d=d&255;s=h<<6;e=e&63;if((d<<12&258048|p<<18|s&4032|e)>>>0>c>>>0){e=2;break e}i[_>>1]=d<<2&60|h>>>4&3|((d>>>4&3|p<<2)<<6)+16320|55296;_=_+2|0;a[u>>2]=_;i[_>>1]=e|s&960|56320;a[n>>2]=(a[n>>2]|0)+4}}while(0);a[u>>2]=(a[u>>2]|0)+2}if((g|0)==41)e=e&1;return e|0}function uc(e,t,n,i,a){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0;p=t;if((((a&4|0)!=0?(p-e|0)>2:0)?(r[e>>0]|0)==-17:0)?(r[e+1>>0]|0)==-69:0){a=(r[e+2>>0]|0)==-65?e+3|0:e;d=0}else{a=e;d=0}e:while(1){if(!(d>>>0<n>>>0&a>>>0<t>>>0)){c=40;break}s=r[a>>0]|0;f=s&255;if(f>>>0>i>>>0){c=40;break}do{if(s<<24>>24>-1){a=a+1|0;s=d}else{if((s&255)<194){c=40;break e}if((s&255)<224){if((p-a|0)<2){c=40;break e}s=o[a+1>>0]|0;if((s&192|0)!=128){c=40;break e}if((s&63|f<<6&1984)>>>0>i>>>0){c=40;break e}else{a=a+2|0;s=d;break}}if((s&255)<240){s=a;if((p-s|0)<3){c=40;break e}u=r[a+1>>0]|0;l=r[a+2>>0]|0;switch(f|0){case 224:{if((u&-32)<<24>>24!=-96){c=19;break e}break}case 237:{if((u&-32)<<24>>24!=-128){c=21;break e}break}default:if((u&-64)<<24>>24!=-128){c=23;break e}}s=l&255;if((s&192|0)!=128){c=40;break e}if(((u&255)<<6&4032|f<<12&61440|s&63)>>>0>i>>>0){c=40;break e}else{a=a+3|0;s=d;break}}if((s&255)>=245){c=40;break e}s=a;if((n-d|0)>>>0<2|(p-s|0)<4){c=40;break e}c=r[a+1>>0]|0;l=r[a+2>>0]|0;u=r[a+3>>0]|0;switch(f|0){case 240:{if((c+112&255)>=48){c=30;break e}break}case 244:{if((c&-16)<<24>>24!=-128){c=32;break e}break}default:if((c&-64)<<24>>24!=-128){c=34;break e}}l=l&255;if((l&192|0)!=128){c=40;break e}s=u&255;if((s&192|0)!=128){c=40;break e}if(((c&255)<<12&258048|f<<18&1835008|l<<6&4032|s&63)>>>0>i>>>0){c=40;break e}a=a+4|0;s=d+1|0}}while(0);d=s+1|0}if((c|0)==19){u=0;l=s-e|0;s=e}else if((c|0)==21){u=0;l=s-e|0;s=e}else if((c|0)==23){u=0;l=s-e|0;s=e}else if((c|0)==30){u=0;l=s-e|0;s=e}else if((c|0)==32){u=0;l=s-e|0;s=e}else if((c|0)==34){u=0;l=s-e|0;s=e}else if((c|0)==40){u=1;l=0;s=e}return(u?a-s|0:l)|0}function cc(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,f=0;a[n>>2]=e;a[s>>2]=i;f=o;if(u&2){if((f-i|0)<3)e=1;else{a[s>>2]=i+1;r[i>>0]=-17;c=a[s>>2]|0;a[s>>2]=c+1;r[c>>0]=-69;c=a[s>>2]|0;a[s>>2]=c+1;r[c>>0]=-65;c=4}}else c=4;e:do{if((c|0)==4){e=a[n>>2]|0;while(1){if(e>>>0>=t>>>0){e=0;break e}u=a[e>>2]|0;if(u>>>0>l>>>0|(u&-2048|0)==55296){e=2;break e}do{if(u>>>0>=128){if(u>>>0<2048){e=a[s>>2]|0;if((f-e|0)<2){e=1;break e}a[s>>2]=e+1;r[e>>0]=u>>>6|192;c=a[s>>2]|0;a[s>>2]=c+1;r[c>>0]=u&63|128;break}e=a[s>>2]|0;o=f-e|0;if(u>>>0<65536){if((o|0)<3){e=1;break e}a[s>>2]=e+1;r[e>>0]=u>>>12|224;c=a[s>>2]|0;a[s>>2]=c+1;r[c>>0]=u>>>6&63|128;c=a[s>>2]|0;a[s>>2]=c+1;r[c>>0]=u&63|128;break}else{if((o|0)<4){e=1;break e}a[s>>2]=e+1;r[e>>0]=u>>>18|240;c=a[s>>2]|0;a[s>>2]=c+1;r[c>>0]=u>>>12&63|128;c=a[s>>2]|0;a[s>>2]=c+1;r[c>>0]=u>>>6&63|128;c=a[s>>2]|0;a[s>>2]=c+1;r[c>>0]=u&63|128;break}}else{e=a[s>>2]|0;if((f-e|0)<1){e=1;break e}a[s>>2]=e+1;r[e>>0]=u}}while(0);e=(a[n>>2]|0)+4|0;a[n>>2]=e}}}while(0);return e|0}function fc(e,t,n,i,s,l,u,c){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;l=l|0;u=u|0;c=c|0;var f=0,d=0,p=0,h=0,y=0,m=0;a[n>>2]=e;a[l>>2]=i;if(c&4){e=a[n>>2]|0;c=t;if((((c-e|0)>2?(r[e>>0]|0)==-17:0)?(r[e+1>>0]|0)==-69:0)?(r[e+2>>0]|0)==-65:0)a[n>>2]=e+3}else c=t;e:while(1){h=a[n>>2]|0;e=h>>>0<t>>>0;if(!e){m=40;break}y=a[l>>2]|0;if(y>>>0>=s>>>0){m=40;break}e=r[h>>0]|0;p=e&255;do{if(e<<24>>24>-1){if(p>>>0>u>>>0){e=2;break e}a[y>>2]=p;a[n>>2]=h+1}else{if((e&255)<194){e=2;break e}if((e&255)<224){if((c-h|0)<2){e=1;break e}e=o[h+1>>0]|0;if((e&192|0)!=128){e=2;break e}e=e&63|p<<6&1984;if(e>>>0>u>>>0){e=2;break e}a[y>>2]=e;a[n>>2]=h+2;break}if((e&255)<240){if((c-h|0)<3){e=1;break e}i=r[h+1>>0]|0;e=r[h+2>>0]|0;switch(p|0){case 224:{if((i&-32)<<24>>24!=-96){e=2;break e}break}case 237:{if((i&-32)<<24>>24!=-128){e=2;break e}break}default:if((i&-64)<<24>>24!=-128){e=2;break e}}e=e&255;if((e&192|0)!=128){e=2;break e}e=(i&255)<<6&4032|p<<12&61440|e&63;if(e>>>0>u>>>0){e=2;break e}a[y>>2]=e;a[n>>2]=h+3;break}if((e&255)>=245){e=2;break e}if((c-h|0)<4){e=1;break e}d=r[h+1>>0]|0;e=r[h+2>>0]|0;i=r[h+3>>0]|0;switch(p|0){case 240:{if((d+112&255)>=48){e=2;break e}break}case 244:{if((d&-16)<<24>>24!=-128){e=2;break e}break}default:if((d&-64)<<24>>24!=-128){e=2;break e}}f=e&255;if((f&192|0)!=128){e=2;break e}e=i&255;if((e&192|0)!=128){e=2;break e}e=(d&255)<<12&258048|p<<18&1835008|f<<6&4032|e&63;if(e>>>0>u>>>0){e=2;break e}a[y>>2]=e;a[n>>2]=h+4}}while(0);a[l>>2]=(a[l>>2]|0)+4}if((m|0)==40)e=e&1;return e|0}function dc(e,t,n,i,a){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0;p=t;if((((a&4|0)!=0?(p-e|0)>2:0)?(r[e>>0]|0)==-17:0)?(r[e+1>>0]|0)==-69:0){f=(r[e+2>>0]|0)==-65?e+3|0:e;d=0}else{f=e;d=0}e:while(1){if(!(d>>>0<n>>>0&f>>>0<t>>>0)){a=f;s=40;break}a=r[f>>0]|0;c=a&255;do{if(a<<24>>24<=-1){if((a&255)<194){a=f;s=40;break e}if((a&255)<224){if((p-f|0)<2){a=f;s=40;break e}a=o[f+1>>0]|0;if((a&192|0)!=128){a=f;s=40;break e}if((a&63|c<<6&1984)>>>0>i>>>0){a=f;s=40;break e}a=f+2|0;break}if((a&255)<240){a=f;if((p-a|0)<3){a=f;s=40;break e}l=r[f+1>>0]|0;s=r[f+2>>0]|0;switch(c|0){case 224:{if((l&-32)<<24>>24!=-96){s=20;break e}break}case 237:{if((l&-32)<<24>>24!=-128){s=22;break e}break}default:if((l&-64)<<24>>24!=-128){s=24;break e}}a=s&255;if((a&192|0)!=128){a=f;s=40;break e}if(((l&255)<<6&4032|c<<12&61440|a&63)>>>0>i>>>0){a=f;s=40;break e}else{a=f+3|0;break}}if((a&255)>=245){a=f;s=40;break e}a=f;if((p-a|0)<4){a=f;s=40;break e}u=r[f+1>>0]|0;s=r[f+2>>0]|0;l=r[f+3>>0]|0;switch(c|0){case 240:{if((u+112&255)>=48){s=31;break e}break}case 244:{if((u&-16)<<24>>24!=-128){s=33;break e}break}default:if((u&-64)<<24>>24!=-128){s=35;break e}}s=s&255;if((s&192|0)!=128){a=f;s=40;break e}a=l&255;if((a&192|0)!=128){a=f;s=40;break e}if(((u&255)<<12&258048|c<<18&1835008|s<<6&4032|a&63)>>>0>i>>>0){a=f;s=40;break e}else a=f+4|0}else{if(c>>>0>i>>>0){a=f;s=40;break e}a=f+1|0}}while(0);f=a;d=d+1|0}if((s|0)==20)a=a-e|0;else if((s|0)==22)a=a-e|0;else if((s|0)==24)a=a-e|0;else if((s|0)==31)a=a-e|0;else if((s|0)==33)a=a-e|0;else if((s|0)==35)a=a-e|0;else if((s|0)==40)a=a-e|0;return a|0}function pc(e){e=e|0;nn(9344);nn(9332);nn(9320);nn(9308);nn(9296);nn(9284);nn(9272);nn(9260);nn(9248);nn(9236);nn(9224);nn(9212);nn(9200);nn(9188);return}function hc(e){e=e|0;_n(9516);_n(9504);_n(9492);_n(9480);_n(9468);_n(9456);_n(9444);_n(9432);_n(9420);_n(9408);_n(9396);_n(9384);_n(9372);_n(9360);return}function yc(e){e=e|0;nn(10148);nn(10136);nn(10124);nn(10112);nn(10100);nn(10088);nn(10076);nn(10064);nn(10052);nn(10040);nn(10028);nn(10016);nn(10004);nn(9992);nn(9980);nn(9968);nn(9956)
;nn(9944);nn(9932);nn(9920);nn(9908);nn(9896);nn(9884);nn(9872);return}function mc(e){e=e|0;_n(10440);_n(10428);_n(10416);_n(10404);_n(10392);_n(10380);_n(10368);_n(10356);_n(10344);_n(10332);_n(10320);_n(10308);_n(10296);_n(10284);_n(10272);_n(10260);_n(10248);_n(10236);_n(10224);_n(10212);_n(10200);_n(10188);_n(10176);_n(10164);return}function _c(e){e=e|0;nn(11252);nn(11240);nn(11228);nn(11216);nn(11204);nn(11192);nn(11180);nn(11168);nn(11156);nn(11144);nn(11132);nn(11120);nn(11108);nn(11096);nn(11084);nn(11072);nn(11060);nn(11048);nn(11036);nn(11024);nn(11012);nn(11e3);nn(10988);nn(10976);return}function gc(e){e=e|0;_n(11544);_n(11532);_n(11520);_n(11508);_n(11496);_n(11484);_n(11472);_n(11460);_n(11448);_n(11436);_n(11424);_n(11412);_n(11400);_n(11388);_n(11376);_n(11364);_n(11352);_n(11340);_n(11328);_n(11316);_n(11304);_n(11292);_n(11280);_n(11268);return}function bc(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0;u=f;f=f+32|0;l=u;r=a[e+8>>2]|0;n=a[e+4>>2]|0;if(r-n>>2>>>0<t>>>0){o=a[e>>2]|0;s=n-o>>2;i=s+t|0;if(i>>>0>1073741823)ey(e);n=r-o|0;if(n>>2>>>0<536870911){n=n>>1;n=n>>>0<i>>>0?i:n}else n=1073741823;wc(l,n,s,e+16|0);s=l+8|0;o=a[s>>2]|0;Uc(o|0,0,t<<2|0)|0;a[s>>2]=o+(t<<2);kc(e,l);Sc(l)}else vc(e,t);f=u;return}function vc(e,t){e=e|0;t=t|0;var n=0;n=e+4|0;e=t;t=a[n>>2]|0;do{a[t>>2]=0;t=(a[n>>2]|0)+4|0;a[n>>2]=t;e=e+-1|0}while((e|0)!=0);return}function wc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0;a[e+12>>2]=0;a[e+16>>2]=i;do{if(t){o=i+112|0;if(t>>>0<29&(r[o>>0]|0)==0){r[o>>0]=1;break}else{i=ny(t<<2)|0;break}}else i=0}while(0);a[e>>2]=i;n=i+(n<<2)|0;a[e+8>>2]=n;a[e+4>>2]=n;a[e+12>>2]=i+(t<<2);return}function kc(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0;r=a[e>>2]|0;o=e+4|0;n=t+4|0;i=(a[o>>2]|0)-r|0;s=(a[n>>2]|0)+(0-(i>>2)<<2)|0;a[n>>2]=s;zc(s|0,r|0,i|0)|0;i=a[e>>2]|0;a[e>>2]=a[n>>2];a[n>>2]=i;i=t+8|0;r=a[o>>2]|0;a[o>>2]=a[i>>2];a[i>>2]=r;i=e+8|0;e=t+12|0;r=a[i>>2]|0;a[i>>2]=a[e>>2];a[e>>2]=r;a[t>>2]=a[n>>2];return}function Sc(e){e=e|0;var t=0,n=0,i=0,o=0;t=a[e+4>>2]|0;n=e+8|0;i=a[n>>2]|0;while(1){if((i|0)==(t|0))break;o=i+-4|0;a[n>>2]=o;i=o}n=a[e>>2]|0;do{if(n){t=a[e+16>>2]|0;if((t|0)==(n|0)){r[t+112>>0]=0;break}else{ry(n);break}}}while(0);return}function Ic(e,t){e=e|0;t=t|0;var n=0;if(t>>>0>1073741823)ey(e);n=e+128|0;if(t>>>0<29&(r[n>>0]|0)==0){r[n>>0]=1;n=e+16|0}else n=ny(t<<2)|0;a[e+4>>2]=n;a[e>>2]=n;a[e+8>>2]=n+(t<<2);return}function Ec(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;l=f;f=f+16|0;s=l;if((e|0)==(t|0)){a[n>>2]=4;r=0}else{i=$d()|0;o=a[i>>2]|0;a[i>>2]=0;r=+Od(e,s,xr()|0);e=a[i>>2]|0;if(!e)a[i>>2]=o;if((a[s>>2]|0)==(t|0)){if((e|0)==34)a[n>>2]=4}else{a[n>>2]=4;r=0}}f=l;return+r}function Ac(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;l=f;f=f+16|0;s=l;if((e|0)==(t|0)){a[n>>2]=4;r=0}else{i=$d()|0;o=a[i>>2]|0;a[i>>2]=0;r=+Od(e,s,xr()|0);e=a[i>>2]|0;if(!e)a[i>>2]=o;if((a[s>>2]|0)==(t|0)){if((e|0)==34)a[n>>2]=4}else{a[n>>2]=4;r=0}}f=l;return+r}function xc(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;l=f;f=f+16|0;s=l;if((e|0)==(t|0)){a[n>>2]=4;r=0}else{i=$d()|0;o=a[i>>2]|0;a[i>>2]=0;r=+Od(e,s,xr()|0);e=a[i>>2]|0;if(!e)a[i>>2]=o;if((a[s>>2]|0)==(t|0)){if((e|0)==34)a[n>>2]=4}else{a[n>>2]=4;r=0}}f=l;return+r}function Cc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0;c=f;f=f+16|0;u=c;do{if((e|0)==(t|0)){a[n>>2]=4;i=0;e=0}else{if((r[e>>0]|0)==45){a[n>>2]=4;i=0;e=0;break}s=$d()|0;l=a[s>>2]|0;a[s>>2]=0;e=tp(e,u,i,xr()|0)|0;i=N;o=a[s>>2]|0;if(!o)a[s>>2]=l;if((a[u>>2]|0)==(t|0)){if((o|0)==34){a[n>>2]=4;e=-1;i=-1}}else{a[n>>2]=4;e=0;i=0}}}while(0);N=i;f=c;return e|0}function Tc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0;c=f;f=f+16|0;u=c;do{if((e|0)==(t|0)){a[n>>2]=4;e=0}else{if((r[e>>0]|0)==45){a[n>>2]=4;e=0;break}s=$d()|0;l=a[s>>2]|0;a[s>>2]=0;e=tp(e,u,i,xr()|0)|0;i=N;o=a[s>>2]|0;if(!o)a[s>>2]=l;do{if((a[u>>2]|0)==(t|0)){if(i>>>0>0|(i|0)==0&e>>>0>4294967295|(o|0)==34){a[n>>2]=4;e=-1;break}else break}else{a[n>>2]=4;e=0}}while(0)}}while(0);f=c;return e|0}function Pc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0;c=f;f=f+16|0;u=c;do{if((e|0)==(t|0)){a[n>>2]=4;e=0}else{if((r[e>>0]|0)==45){a[n>>2]=4;e=0;break}s=$d()|0;l=a[s>>2]|0;a[s>>2]=0;e=tp(e,u,i,xr()|0)|0;i=N;o=a[s>>2]|0;if(!o)a[s>>2]=l;do{if((a[u>>2]|0)==(t|0)){if(i>>>0>0|(i|0)==0&e>>>0>4294967295|(o|0)==34){a[n>>2]=4;e=-1;break}else break}else{a[n>>2]=4;e=0}}while(0)}}while(0);f=c;return e|0}function Oc(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0;c=f;f=f+16|0;u=c;do{if((e|0)==(t|0)){a[n>>2]=4;e=0}else{if((r[e>>0]|0)==45){a[n>>2]=4;e=0;break}s=$d()|0;l=a[s>>2]|0;a[s>>2]=0;e=tp(e,u,i,xr()|0)|0;i=N;o=a[s>>2]|0;if(!o)a[s>>2]=l;do{if((a[u>>2]|0)==(t|0)){if(i>>>0>0|(i|0)==0&e>>>0>65535|(o|0)==34){a[n>>2]=4;e=-1;break}else{e=e&65535;break}}else{a[n>>2]=4;e=0}}while(0)}}while(0);f=c;return e|0}function Nc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0,s=0,l=0,u=0;u=f;f=f+16|0;l=u;if((e|0)==(t|0)){a[n>>2]=4;r=0;e=0}else{o=$d()|0;s=a[o>>2]|0;a[o>>2]=0;e=np(e,l,r,xr()|0)|0;r=N;i=a[o>>2]|0;if(!i)a[o>>2]=s;if((a[l>>2]|0)==(t|0)){if((i|0)==34){a[n>>2]=4;r=(r|0)>0|(r|0)==0&e>>>0>0;e=r?-1:0;r=r?2147483647:-2147483648}}else{a[n>>2]=4;e=0;r=0}}N=r;f=u;return e|0}function Mc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0,s=0,l=0,u=0;u=f;f=f+16|0;l=u;if((e|0)==(t|0)){a[n>>2]=4;e=0}else{o=$d()|0;s=a[o>>2]|0;a[o>>2]=0;e=np(e,l,r,xr()|0)|0;r=N;i=a[o>>2]|0;if(!i)a[o>>2]=s;e:do{if((a[l>>2]|0)==(t|0)){do{if((i|0)==34){a[n>>2]=4;if((r|0)>0|(r|0)==0&e>>>0>0){e=2147483647;break e}}else{if((r|0)<-1|(r|0)==-1&e>>>0<2147483648){a[n>>2]=4;break}if((r|0)>0|(r|0)==0&e>>>0>2147483647){a[n>>2]=4;e=2147483647;break e}else break e}}while(0);e=-2147483648}else{a[n>>2]=4;e=0}}while(0)}f=u;return e|0}function Rc(e){e=e|0;return}function Dc(e){e=e|0;e=e+4|0;a[e>>2]=(a[e>>2]|0)+1;return}function Fc(e){e=e|0;var t=0,n=0;n=e+4|0;t=a[n>>2]|0;a[n>>2]=t+-1;if(!t){Im[a[(a[e>>2]|0)+8>>2]&127](e);e=1}else e=0;return e|0}function Bc(e,t,n){e=e|0;t=t|0;n=n|0;Gt(11884)|0;while(1){if((a[e>>2]|0)!=1)break;Ae(11912,11884)|0}if(!(a[e>>2]|0)){a[e>>2]=1;yt(11884)|0;Im[n&127](t);Gt(11884)|0;a[e>>2]=-1;yt(11884)|0;Rt(11912)|0}else yt(11884)|0;return}function jc(){}function Lc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;r=t-r-(n>>>0>e>>>0|0)>>>0;return(N=r,e-n>>>0|0)|0}function Uc(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;i=e+n|0;if((n|0)>=20){t=t&255;s=e&3;l=t|t<<8|t<<16|t<<24;o=i&~3;if(s){s=e+4-s|0;while((e|0)<(s|0)){r[e>>0]=t;e=e+1|0}}while((e|0)<(o|0)){a[e>>2]=l;e=e+4|0}}while((e|0)<(i|0)){r[e>>0]=t;e=e+1|0}return e-n|0}function Hc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;n=e+n>>>0;return(N=t+r+(n>>>0<e>>>0|0)>>>0,n|0)|0}function Gc(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){N=t>>>n;return e>>>n|(t&(1<<n)-1)<<32-n}N=0;return t>>>n-32|0}function zc(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;if((n|0)>=4096)return $e(e|0,t|0,n|0)|0;i=e|0;if((e&3)==(t&3)){while(e&3){if(!n)return i|0;r[e>>0]=r[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}while((n|0)>=4){a[e>>2]=a[t>>2];e=e+4|0;t=t+4|0;n=n-4|0}}while((n|0)>0){r[e>>0]=r[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}return i|0}function Vc(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){N=t<<n|(e&(1<<n)-1<<32-n)>>>32-n;return e<<n}N=e<<n-32;return 0}function Kc(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;if((t|0)<(e|0)&(e|0)<(t+n|0)){i=e;t=t+n|0;e=e+n|0;while((n|0)>0){e=e-1|0;t=t-1|0;n=n-1|0;r[e>>0]=r[t>>0]|0}e=i}else zc(e,t,n)|0;return e|0}function Wc(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){N=t>>n;return e>>>n|(t&(1<<n)-1)<<32-n}N=(t|0)<0?-1:0;return t>>n-32|0}function qc(e){e=e|0;var t=0;t=r[y+(e&255)>>0]|0;if((t|0)<8)return t|0;t=r[y+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=r[y+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(r[y+(e>>>24)>>0]|0)+24|0}function Xc(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;a=e&65535;i=t&65535;n=ne(i,a)|0;r=e>>>16;e=(n>>>16)+(ne(i,r)|0)|0;i=t>>>16;t=ne(i,a)|0;return(N=(e>>>16)+(ne(i,r)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|n&65535|0)|0}function Yc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,l=0,u=0;u=t>>31|((t|0)<0?-1:0)<<1;l=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;a=r>>31|((r|0)<0?-1:0)<<1
;i=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;s=Lc(u^e,l^t,u,l)|0;o=N;e=a^u;t=i^l;return Lc((ef(s,o,Lc(a^n,i^r,a,i)|0,N,0)|0)^e,N^t,e,t)|0}function Jc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0,s=0,l=0,u=0,c=0;i=f;f=f+16|0;l=i|0;s=t>>31|((t|0)<0?-1:0)<<1;o=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;c=r>>31|((r|0)<0?-1:0)<<1;u=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;e=Lc(s^e,o^t,s,o)|0;t=N;ef(e,t,Lc(c^n,u^r,c,u)|0,N,l)|0;r=Lc(a[l>>2]^s,a[l+4>>2]^o,s,o)|0;n=N;f=i;return(N=n,r)|0}function Qc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=e;a=n;n=Xc(i,a)|0;e=N;return(N=(ne(t,a)|0)+(ne(r,i)|0)+e|e&0,n|0|0)|0}function Zc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return ef(e,t,n,r,0)|0}function $c(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0;o=f;f=f+16|0;i=o|0;ef(e,t,n,r,i)|0;f=o;return(N=a[i+4>>2]|0,a[i>>2]|0)|0}function ef(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0;f=e;u=t;c=u;s=n;p=r;l=p;if(!c){o=(i|0)!=0;if(!l){if(o){a[i>>2]=(f>>>0)%(s>>>0);a[i+4>>2]=0}p=0;i=(f>>>0)/(s>>>0)>>>0;return(N=p,i)|0}else{if(!o){p=0;i=0;return(N=p,i)|0}a[i>>2]=e|0;a[i+4>>2]=t&0;p=0;i=0;return(N=p,i)|0}}o=(l|0)==0;do{if(s){if(!o){o=(ie(l|0)|0)-(ie(c|0)|0)|0;if(o>>>0<=31){d=o+1|0;l=31-o|0;t=o-31>>31;s=d;e=f>>>(d>>>0)&t|c<<l;t=c>>>(d>>>0)&t;o=0;l=f<<l;break}if(!i){p=0;i=0;return(N=p,i)|0}a[i>>2]=e|0;a[i+4>>2]=u|t&0;p=0;i=0;return(N=p,i)|0}o=s-1|0;if(o&s){l=(ie(s|0)|0)+33-(ie(c|0)|0)|0;y=64-l|0;d=32-l|0;u=d>>31;h=l-32|0;t=h>>31;s=l;e=d-1>>31&c>>>(h>>>0)|(c<<d|f>>>(l>>>0))&t;t=t&c>>>(l>>>0);o=f<<y&u;l=(c<<y|f>>>(h>>>0))&u|f<<d&l-33>>31;break}if(i){a[i>>2]=o&f;a[i+4>>2]=0}if((s|0)==1){h=u|t&0;y=e|0|0;return(N=h,y)|0}else{y=qc(s|0)|0;h=c>>>(y>>>0)|0;y=c<<32-y|f>>>(y>>>0)|0;return(N=h,y)|0}}else{if(o){if(i){a[i>>2]=(c>>>0)%(s>>>0);a[i+4>>2]=0}h=0;y=(c>>>0)/(s>>>0)>>>0;return(N=h,y)|0}if(!f){if(i){a[i>>2]=0;a[i+4>>2]=(c>>>0)%(l>>>0)}h=0;y=(c>>>0)/(l>>>0)>>>0;return(N=h,y)|0}o=l-1|0;if(!(o&l)){if(i){a[i>>2]=e|0;a[i+4>>2]=o&c|t&0}h=0;y=c>>>((qc(l|0)|0)>>>0);return(N=h,y)|0}o=(ie(l|0)|0)-(ie(c|0)|0)|0;if(o>>>0<=30){t=o+1|0;l=31-o|0;s=t;e=c<<l|f>>>(t>>>0);t=c>>>(t>>>0);o=0;l=f<<l;break}if(!i){h=0;y=0;return(N=h,y)|0}a[i>>2]=e|0;a[i+4>>2]=u|t&0;h=0;y=0;return(N=h,y)|0}}while(0);if(!s){c=l;u=0;l=0}else{d=n|0|0;f=p|r&0;c=Hc(d|0,f|0,-1,-1)|0;n=N;u=l;l=0;do{r=u;u=o>>>31|u<<1;o=l|o<<1;r=e<<1|r>>>31|0;p=e>>>31|t<<1|0;Lc(c,n,r,p)|0;y=N;h=y>>31|((y|0)<0?-1:0)<<1;l=h&1;e=Lc(r,p,h&d,(((y|0)<0?-1:0)>>31|((y|0)<0?-1:0)<<1)&f)|0;t=N;s=s-1|0}while((s|0)!=0);c=u;u=0}s=0;if(i){a[i>>2]=e;a[i+4>>2]=t}h=(o|0)>>>31|(c|s)<<1|(s<<1|o>>>31)&0|u;y=(o<<1|0>>>31)&-2|l;return(N=h,y)|0}function tf(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;return vm[e&7](t|0,n|0,r|0,i|0,a|0,o|0,s|0)|0}function nf(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return wm[e&31](t|0,n|0,r|0)|0}function rf(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;km[e&3](t|0,n|0,r|0,i|0,a|0)}function af(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=+o;return Sm[e&3](t|0,n|0,r|0,i|0,a|0,+o)|0}function of(e,t){e=e|0;t=t|0;Im[e&127](t|0)}function sf(e,t,n){e=e|0;t=t|0;n=n|0;Em[e&63](t|0,n|0)}function lf(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;return Am[e&63](t|0,n|0,r|0,i|0,a|0,o|0)|0}function uf(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=+a;return xm[e&7](t|0,n|0,r|0,i|0,+a)|0}function cf(e,t){e=e|0;t=t|0;return Cm[e&63](t|0)|0}function ff(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;Tm[e&1](t|0,n|0,r|0)}function df(e){e=e|0;Pm[e&3]()}function pf(e,t,n,r,i,a,o,s,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;l=l|0;return Om[e&15](t|0,n|0,r|0,i|0,a|0,o|0,s|0,l|0)|0}function hf(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;return Nm[e&7](t|0,n|0,r|0,i|0)|0}function yf(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;Mm[e&7](t|0,n|0,r|0,i|0,a|0,o|0)}function mf(e,t,n){e=e|0;t=t|0;n=n|0;return Rm[e&15](t|0,n|0)|0}function _f(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;return Dm[e&31](t|0,n|0,r|0,i|0,a|0)|0}function gf(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;Fm[e&7](t|0,n|0,r|0,i|0)}function bf(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;ae(0);return 0}function vf(e,t,n){e=e|0;t=t|0;n=n|0;ae(1);return 0}function wf(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;ae(2)}function kf(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=+a;ae(3);return 0}function Sf(e){e=e|0;ae(4)}function If(e,t){e=e|0;t=t|0;ae(5)}function Ef(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;ae(6);return 0}function Af(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;ae(7);return 0}function xf(e){e=e|0;ae(8);return 0}function Cf(e,t,n){e=e|0;t=t|0;n=n|0;ae(9)}function Tf(){ae(10)}function Pf(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;ae(11);return 0}function Of(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;ae(12);return 0}function Nf(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;ae(13)}function Mf(e,t){e=e|0;t=t|0;ae(14);return 0}function Rf(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;ae(15);return 0}function Df(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;ae(16)}function Ff(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0;U=f;f=f+480|0;R=U+72|0;M=U+48|0;N=U+24|0;B=U;F=U+432|0;j=U+408|0;L=U+384|0;_=U+396|0;I=U+360|0;E=U+336|0;g=U+320|0;b=U+308|0;v=U+296|0;w=U+284|0;i=U+272|0;o=U+260|0;s=U+248|0;l=U+236|0;d=U+224|0;p=U+212|0;h=U+200|0;y=U+188|0;m=U+176|0;A=U+152|0;x=U+140|0;C=U+128|0;T=U+116|0;P=U+104|0;O=U+92|0;S=t;e:do{if((S-e|0)>3?(r[e>>0]|0)==76:0){k=e+1|0;do{switch(r[k>>0]|0){case 84:break e;case 119:{L=e+2|0;mm(_,16144,7);n=Bf(L,t,_,n)|0;nm(_);e=(n|0)==(L|0)?e:n;break e}case 98:{if((r[e+3>>0]|0)!=69)break e;switch(r[e+2>>0]|0){case 48:{jf(I,22497);i=n+4|0;o=a[i>>2]|0;L=a[n+8>>2]|0;s=L;if(o>>>0<L>>>0){Dp(o,I);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;L=o-i|0;l=(L|0)/24|0;o=l+1|0;if((L|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(B,i,l,n+12|0);L=B+8|0;j=a[L>>2]|0;Dp(j,I);a[L>>2]=j+24;hm(n,B);pm(B)}Wy(I);e=e+4|0;break e}case 49:{Lf(E,22492);i=n+4|0;o=a[i>>2]|0;L=a[n+8>>2]|0;s=L;if(o>>>0<L>>>0){Dp(o,E);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;L=o-i|0;l=(L|0)/24|0;o=l+1|0;if((L|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(B,i,l,n+12|0);L=B+8|0;j=a[L>>2]|0;Dp(j,E);a[L>>2]=j+24;hm(n,B);pm(B)}Wy(E);e=e+4|0;break e}default:break e}}case 99:{L=e+2|0;mm(g,16152,4);n=Bf(L,t,g,n)|0;nm(g);e=(n|0)==(L|0)?e:n;break e}case 97:{L=e+2|0;mm(b,16157,11);n=Bf(L,t,b,n)|0;nm(b);e=(n|0)==(L|0)?e:n;break e}case 104:{L=e+2|0;mm(v,16169,13);n=Bf(L,t,v,n)|0;nm(v);e=(n|0)==(L|0)?e:n;break e}case 115:{L=e+2|0;mm(w,16183,5);n=Bf(L,t,w,n)|0;nm(w);e=(n|0)==(L|0)?e:n;break e}case 116:{L=e+2|0;mm(i,16189,14);n=Bf(L,t,i,n)|0;nm(i);e=(n|0)==(L|0)?e:n;break e}case 105:{L=e+2|0;mm(o,22403,0);n=Bf(L,t,o,n)|0;nm(o);e=(n|0)==(L|0)?e:n;break e}case 106:{L=e+2|0;mm(s,16204,1);n=Bf(L,t,s,n)|0;nm(s);e=(n|0)==(L|0)?e:n;break e}case 108:{L=e+2|0;mm(l,22398,1);n=Bf(L,t,l,n)|0;nm(l);e=(n|0)==(L|0)?e:n;break e}case 109:{L=e+2|0;mm(d,16206,2);n=Bf(L,t,d,n)|0;nm(d);e=(n|0)==(L|0)?e:n;break e}case 120:{L=e+2|0;mm(p,22400,2);n=Bf(L,t,p,n)|0;nm(p);e=(n|0)==(L|0)?e:n;break e}case 121:{L=e+2|0;mm(h,16209,3);n=Bf(L,t,h,n)|0;nm(h);e=(n|0)==(L|0)?e:n;break e}case 110:{L=e+2|0;mm(y,16213,8);n=Bf(L,t,y,n)|0;nm(y);e=(n|0)==(L|0)?e:n;break e}case 111:{L=e+2|0;mm(m,16222,17);n=Bf(L,t,m,n)|0;nm(m);e=(n|0)==(L|0)?e:n;break e}case 102:{p=e+2|0;t:do{if((S-p|0)>>>0>8){s=e+10|0;l=e;i=B;d=p;while(1){o=r[d>>0]|0;if((d|0)==(s|0)){D=41;break}if(!(cd(o<<24>>24)|0))break;R=r[d>>0]|0;M=r[l+3>>0]|0;r[i>>0]=(((M<<24>>24)+-48|0)>>>0<10?208:169)+(M&255)+(((R+-48|0)>>>0<10?0:9)+R<<4);R=d;i=i+1|0;d=d+2|0;l=R}do{if((D|0)==41){if(o<<24>>24==69){n:do{if((B|0)!=(i|0)){o=B;while(1){i=i+-1|0;if(o>>>0>=i>>>0)break n;D=r[o>>0]|0;r[o>>0]=r[i>>0]|0;r[i>>0]=D;o=o+1|0}}}while(0);i=F;o=i+24|0;do{r[i>>0]=0;i=i+1|0}while((i|0)<(o|0));c[N>>3]=+u[B>>2];i=Vd(F,24,16240,N)|0;if(i>>>0>23)break;mm(L,F,i);Gp(j,L);i=n+4|0
;o=a[i>>2]|0;B=a[n+8>>2]|0;s=B;if(o>>>0<B>>>0){Dp(o,j);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=o-i|0;l=(B|0)/24|0;o=l+1|0;if((B|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(N,i,l,n+12|0);B=N+8|0;F=a[B>>2]|0;Dp(F,j);a[B>>2]=F+24;hm(n,N);pm(N)}Wy(j);nm(L);i=e+11|0}else i=p;break t}}while(0);i=p}else i=p}while(0);e=(i|0)==(p|0)?e:i;break e}case 100:{p=e+2|0;t:do{if((S-p|0)>>>0>16){s=e+18|0;l=e;i=B;d=p;while(1){o=r[d>>0]|0;if((d|0)==(s|0)){D=63;break}if(!(cd(o<<24>>24)|0))break;R=r[d>>0]|0;N=r[l+3>>0]|0;r[i>>0]=(((N<<24>>24)+-48|0)>>>0<10?208:169)+(N&255)+(((R+-48|0)>>>0<10?0:9)+R<<4);R=d;i=i+1|0;d=d+2|0;l=R}do{if((D|0)==63){if(o<<24>>24==69){n:do{if((B|0)!=(i|0)){o=B;while(1){i=i+-1|0;if(o>>>0>=i>>>0)break n;D=r[o>>0]|0;r[o>>0]=r[i>>0]|0;r[i>>0]=D;o=o+1|0}}}while(0);i=F;o=i+32|0;do{r[i>>0]=0;i=i+1|0}while((i|0)<(o|0));c[M>>3]=+c[B>>3];i=Vd(F,32,16244,M)|0;if(i>>>0>31)break;mm(L,F,i);Gp(j,L);i=n+4|0;o=a[i>>2]|0;B=a[n+8>>2]|0;s=B;if(o>>>0<B>>>0){Dp(o,j);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=o-i|0;l=(B|0)/24|0;o=l+1|0;if((B|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(M,i,l,n+12|0);B=M+8|0;F=a[B>>2]|0;Dp(F,j);a[B>>2]=F+24;hm(n,M);pm(M)}Wy(j);nm(L);i=e+19|0}else i=p;break t}}while(0);i=p}else i=p}while(0);e=(i|0)==(p|0)?e:i;break e}case 101:{p=e+2|0;t:do{if((S-p|0)>>>0>20){s=e+22|0;l=e;i=B;d=p;while(1){o=r[d>>0]|0;if((d|0)==(s|0)){D=85;break}if(!(cd(o<<24>>24)|0))break;M=r[d>>0]|0;N=r[l+3>>0]|0;r[i>>0]=(((N<<24>>24)+-48|0)>>>0<10?208:169)+(N&255)+(((M+-48|0)>>>0<10?0:9)+M<<4);M=d;i=i+1|0;d=d+2|0;l=M}do{if((D|0)==85){if(o<<24>>24==69){n:do{if((B|0)!=(i|0)){o=B;while(1){i=i+-1|0;if(o>>>0>=i>>>0)break n;D=r[o>>0]|0;r[o>>0]=r[i>>0]|0;r[i>>0]=D;o=o+1|0}}}while(0);i=F;o=i+40|0;do{r[i>>0]=0;i=i+1|0}while((i|0)<(o|0));c[R>>3]=+c[B>>3];i=Vd(F,40,16247,R)|0;if(i>>>0>39)break;mm(L,F,i);Gp(j,L);i=n+4|0;o=a[i>>2]|0;B=a[n+8>>2]|0;s=B;if(o>>>0<B>>>0){Dp(o,j);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=o-i|0;l=(B|0)/24|0;o=l+1|0;if((B|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(R,i,l,n+12|0);B=R+8|0;F=a[B>>2]|0;Dp(F,j);a[B>>2]=F+24;hm(n,R);pm(R)}Wy(j);nm(L);i=e+23|0}else i=p;break t}}while(0);i=p}else i=p}while(0);e=(i|0)==(p|0)?e:i;break e}case 95:{if((r[e+2>>0]|0)!=90)break e;L=e+3|0;i=rm(L,t,n)|0;if((i|0)==(L|0)|(i|0)==(t|0))break e;e=(r[i>>0]|0)==69?i+1|0:e;break e}default:{d=om(k,t,n)|0;if((d|0)==(k|0)|(d|0)==(t|0))break e;if((r[d>>0]|0)==69){e=d+1|0;break e}else o=d;while(1){if((o|0)==(t|0))break e;i=r[o>>0]|0;if(((i<<24>>24)+-48|0)>>>0>=10){p=o;break}o=o+1|0}if(!((p|0)!=(d|0)&i<<24>>24==69))break e;i=a[n+4>>2]|0;if((a[n>>2]|0)==(i|0))break e;l=i+-24|0;Fp(P,l);e=im(P,0,15094)|0;a[T>>2]=a[e>>2];a[T+4>>2]=a[e+4>>2];a[T+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(T,14999)|0;a[C>>2]=a[e>>2];a[C+4>>2]=a[e+4>>2];a[C+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}o=p-d|0;if(o>>>0>4294967279)$h(O);if(o>>>0<11){r[O>>0]=o<<1;s=O+1|0}else{n=o+16&-16;s=Tp(n)|0;a[O+8>>2]=s;a[O>>2]=n|1;a[O+4>>2]=o}e=d;i=s;while(1){if((e|0)==(p|0))break;r[i>>0]=r[e>>0]|0;e=e+1|0;i=i+1|0}r[s+o>>0]=0;e=r[O>>0]|0;i=(e&1)==0;e=Xy(C,i?O+1|0:a[O+8>>2]|0,i?(e&255)>>>1:a[O+4>>2]|0)|0;a[x>>2]=a[e>>2];a[x+4>>2]=a[e+4>>2];a[x+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(A,x);zp(l,A);Wy(A);nm(x);nm(O);nm(C);nm(T);nm(P);e=p+1|0;break e}}}while(0)}}while(0);f=U;return e|0}function Bf(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;m=f;f=f+80|0;p=m+48|0;u=m+24|0;c=m+12|0;d=m;y=gm(e,t)|0;if(!((y|0)==(e|0)|(y|0)==(t|0))?(r[y>>0]|0)==69:0){l=r[n>>0]|0;h=n+4|0;do{if(((l&1)==0?(l&255)>>>1:a[h>>2]|0)>>>0>3){qp(d,15094,n);t=am(d,14999)|0;a[c>>2]=a[t>>2];a[c+4>>2]=a[t+4>>2];a[c+8>>2]=a[t+8>>2];o=0;while(1){if((o|0)==3)break;a[t+(o<<2)>>2]=0;o=o+1|0}Gp(u,c);t=i+4|0;o=a[t>>2]|0;l=a[i+8>>2]|0;s=l;if(o>>>0<l>>>0){Dp(o,u);a[t>>2]=(a[t>>2]|0)+24}else{t=a[i>>2]|0;_=o-t|0;l=(_|0)/24|0;o=l+1|0;if((_|0)<-24)ey(i);t=(s-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<o>>>0?o:t}else t=2147483647;dm(p,t,l,i+12|0);_=p+8|0;l=a[_>>2]|0;Dp(l,u);a[_>>2]=l+24;hm(i,p);pm(p)}Wy(u);nm(c);nm(d)}else{s=i+4|0;o=a[s>>2]|0;_=a[i+8>>2]|0;l=_;if(o>>>0<_>>>0){a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=0;a[o+16>>2]=0;a[o+20>>2]=0;t=0;while(1){if((t|0)==3)break;a[o+(t<<2)>>2]=0;t=t+1|0}t=o+12|0;o=0;while(1){if((o|0)==3)break;a[t+(o<<2)>>2]=0;o=o+1|0}a[s>>2]=(a[s>>2]|0)+24;break}t=a[i>>2]|0;_=o-t|0;s=(_|0)/24|0;o=s+1|0;if((_|0)<-24)ey(i);t=(l-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<o>>>0?o:t}else t=2147483647;dm(p,t,s,i+12|0);s=p+8|0;l=a[s>>2]|0;a[l>>2]=0;a[l+4>>2]=0;a[l+8>>2]=0;a[l+12>>2]=0;a[l+16>>2]=0;a[l+20>>2]=0;t=0;while(1){if((t|0)==3)break;a[l+(t<<2)>>2]=0;t=t+1|0}t=l+12|0;o=0;while(1){if((o|0)==3)break;a[t+(o<<2)>>2]=0;o=o+1|0}a[s>>2]=l+24;hm(i,p);pm(p)}}while(0);o=i+4|0;if((r[e>>0]|0)==110){oh((a[o>>2]|0)+-24|0,45);e=e+1|0}ah((a[o>>2]|0)+-24|0,e,y);e=r[n>>0]|0;t=(e&1)==0;e=t?(e&255)>>>1:a[h>>2]|0;if(e>>>0<4)Xy((a[o>>2]|0)+-24|0,t?n+1|0:a[n+8>>2]|0,e)|0;e=y+1|0}f=m;return e|0}function jf(e,t){e=e|0;t=t|0;var n=0;r[e>>0]=10;n=e+1|0;r[n>>0]=r[t>>0]|0;r[n+1>>0]=r[t+1>>0]|0;r[n+2>>0]=r[t+2>>0]|0;r[n+3>>0]=r[t+3>>0]|0;r[n+4>>0]=r[t+4>>0]|0;r[e+6>>0]=0;t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Lf(e,t){e=e|0;t=t|0;var n=0;r[e>>0]=8;n=e+1|0;t=o[t>>0]|o[t+1>>0]<<8|o[t+2>>0]<<16|o[t+3>>0]<<24;r[n>>0]=t;r[n+1>>0]=t>>8;r[n+2>>0]=t>>16;r[n+3>>0]=t>>24;r[e+5>>0]=0;t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Uf(e,t){e=e|0;t=t|0;var n=0,r=0;n=t+15&-16;r=e+4096|0;t=a[r>>2]|0;if((e+4096-t|0)>>>0<n>>>0)t=Tp(n)|0;else a[r>>2]=t+n;return t|0}function Hf(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;_=f;f=f+128|0;m=_+104|0;o=_+72|0;p=_+80|0;h=_+60|0;y=_+48|0;l=_+24|0;u=_+12|0;c=_;e:do{if((t-e|0)>2?(r[e>>0]|0)==102:0){switch(r[e+1>>0]|0){case 112:{i=sm(e+2|0,t,o)|0;s=gm(i,t)|0;if((s|0)!=(t|0)?(r[s>>0]|0)==95:0){o=s-i|0;if(o>>>0>4294967279)$h(y);if(o>>>0<11){r[y>>0]=o<<1;t=y+1|0}else{d=o+16&-16;t=Tp(d)|0;a[y+8>>2]=t;a[y>>2]=d|1;a[y+4>>2]=o}e=i;i=t;while(1){if((e|0)==(s|0))break;r[i>>0]=r[e>>0]|0;e=e+1|0;i=i+1|0}r[t+o>>0]=0;e=im(y,0,16512)|0;a[h>>2]=a[e>>2];a[h+4>>2]=a[e+4>>2];a[h+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(p,h);e=n+4|0;i=a[e>>2]|0;d=a[n+8>>2]|0;o=d;if(i>>>0<d>>>0){Dp(i,p);a[e>>2]=(a[e>>2]|0)+24}else{e=a[n>>2]|0;d=i-e|0;t=(d|0)/24|0;i=t+1|0;if((d|0)<-24)ey(n);e=(o-e|0)/24|0;if(e>>>0<1073741823){e=e<<1;e=e>>>0<i>>>0?i:e}else e=2147483647;dm(m,e,t,n+12|0);d=m+8|0;c=a[d>>2]|0;Dp(c,p);a[d>>2]=c+24;hm(n,m);pm(m)}Wy(p);nm(h);nm(y);e=s+1|0}break e}case 76:break;default:break e}i=gm(e+2|0,t)|0;if((((i|0)!=(t|0)?(r[i>>0]|0)==112:0)?(s=sm(i+1|0,t,o)|0,d=gm(s,t)|0,(d|0)!=(t|0)):0)?(r[d>>0]|0)==95:0){o=d-s|0;if(o>>>0>4294967279)$h(c);if(o>>>0<11){r[c>>0]=o<<1;t=c+1|0}else{y=o+16&-16;t=Tp(y)|0;a[c+8>>2]=t;a[c>>2]=y|1;a[c+4>>2]=o}e=s;i=t;while(1){if((e|0)==(d|0))break;r[i>>0]=r[e>>0]|0;e=e+1|0;i=i+1|0}r[t+o>>0]=0;e=im(c,0,16512)|0;a[u>>2]=a[e>>2];a[u+4>>2]=a[e+4>>2];a[u+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(l,u);e=n+4|0;i=a[e>>2]|0;y=a[n+8>>2]|0;o=y;if(i>>>0<y>>>0){Dp(i,l);a[e>>2]=(a[e>>2]|0)+24}else{e=a[n>>2]|0;y=i-e|0;t=(y|0)/24|0;i=t+1|0;if((y|0)<-24)ey(n);e=(o-e|0)/24|0;if(e>>>0<1073741823){e=e<<1;e=e>>>0<i>>>0?i:e}else e=2147483647;dm(m,e,t,n+12|0);y=m+8|0;h=a[y>>2]|0;Dp(h,l);a[y>>2]=h+24;hm(n,m);pm(m)}Wy(l);nm(u);nm(c);e=d+1|0}}}while(0);f=_;return e|0}function Gf(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0;b=f;f=f+96|0;g=b+84|0;_=b+72|0;c=b+60|0;d=b+48|0;p=b+36|0;h=b+24|0;y=b+12|0;m=b;o=Rp(e,t,i)|0;e:do{if((o|0)!=(e|0)){t=Rp(o,t,i)|0;s=i+4|0;if((t|0)==(o|0)){o=a[s>>2]|0;t=o+-24|0;while(1){if((o|0)==(t|0)){t=e;break e}g=o+-24|0;a[s>>2]=g;Wy(g);o=a[s>>2]|0}}
o=a[s>>2]|0;if(((o-(a[i>>2]|0)|0)/24|0)>>>0>=2){Fp(g,o+-24|0);o=a[s>>2]|0;i=o+-24|0;e=o;while(1){if((e|0)==(i|0))break;u=e+-24|0;a[s>>2]=u;Wy(u);e=a[s>>2]|0}Fp(_,o+-48|0);o=a[s>>2]|0;u=o+-24|0;if(!(r[u>>0]&1)){r[u+1>>0]=0;r[u>>0]=0}else{r[a[o+-16>>2]>>0]=0;a[o+-20>>2]=0}v=r[n>>0]|0;i=(v&1)==0;e=n+4|0;v=i?(v&255)>>>1:a[e>>2]|0;s=n+8|0;l=n+1|0;o=v>>>0>1;i=kd(i?l:a[s>>2]|0,15158,o?1:v)|0;if(!(((i|0)==0?(v|0)==0?-1:o&1:i)|0))oh(u,40);qp(m,15094,_);o=am(m,16370)|0;a[y>>2]=a[o>>2];a[y+4>>2]=a[o+4>>2];a[y+8>>2]=a[o+8>>2];i=0;while(1){if((i|0)==3)break;a[o+(i<<2)>>2]=0;i=i+1|0}o=r[n>>0]|0;i=(o&1)==0;o=Xy(y,i?l:a[s>>2]|0,i?(o&255)>>>1:a[e>>2]|0)|0;a[h>>2]=a[o>>2];a[h+4>>2]=a[o+4>>2];a[h+8>>2]=a[o+8>>2];i=0;while(1){if((i|0)==3)break;a[o+(i<<2)>>2]=0;i=i+1|0}o=am(h,14996)|0;a[p>>2]=a[o>>2];a[p+4>>2]=a[o+4>>2];a[p+8>>2]=a[o+8>>2];i=0;while(1){if((i|0)==3)break;a[o+(i<<2)>>2]=0;i=i+1|0}o=r[g>>0]|0;i=(o&1)==0;o=Xy(p,i?g+1|0:a[g+8>>2]|0,i?(o&255)>>>1:a[g+4>>2]|0)|0;a[d>>2]=a[o>>2];a[d+4>>2]=a[o+4>>2];a[d+8>>2]=a[o+8>>2];i=0;while(1){if((i|0)==3)break;a[o+(i<<2)>>2]=0;i=i+1|0}o=am(d,14999)|0;a[c>>2]=a[o>>2];a[c+4>>2]=a[o+4>>2];a[c+8>>2]=a[o+8>>2];i=0;while(1){if((i|0)==3)break;a[o+(i<<2)>>2]=0;i=i+1|0}v=r[c>>0]|0;i=(v&1)==0;Xy(u,i?c+1|0:a[c+8>>2]|0,i?(v&255)>>>1:a[c+4>>2]|0)|0;nm(c);nm(d);nm(p);nm(h);nm(y);nm(m);m=r[n>>0]|0;v=(m&1)==0;m=v?(m&255)>>>1:a[e>>2]|0;n=m>>>0>1;v=kd(v?l:a[s>>2]|0,15158,n?1:m)|0;if(!(((v|0)==0?(m|0)==0?-1:n&1:v)|0))oh(u,41);nm(_);nm(g)}else t=e}else t=e}while(0);f=b;return t|0}function zf(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0;g=f;f=f+48|0;h=g+36|0;y=g+24|0;m=g+12|0;_=g;t=Rp(e,t,i)|0;if((t|0)!=(e|0)?(o=i+4|0,s=a[o>>2]|0,(a[i>>2]|0)!=(s|0)):0){p=s+-24|0;Hp(m,n,15094);Fp(_,(a[o>>2]|0)+-24|0);i=r[_>>0]|0;e=(i&1)==0;i=Xy(m,e?_+1|0:a[_+8>>2]|0,e?(i&255)>>>1:a[_+4>>2]|0)|0;a[y>>2]=a[i>>2];a[y+4>>2]=a[i+4>>2];a[y+8>>2]=a[i+8>>2];e=0;while(1){if((e|0)==3)break;a[i+(e<<2)>>2]=0;e=e+1|0}i=am(y,14999)|0;a[h>>2]=a[i>>2];a[h+4>>2]=a[i+4>>2];a[h+8>>2]=a[i+8>>2];e=0;while(1){if((e|0)==3)break;a[i+(e<<2)>>2]=0;e=e+1|0}do{if(r[p>>0]&1){d=s+-16|0;r[a[d>>2]>>0]=0;l=s+-20|0;a[l>>2]=0;i=r[p>>0]|0;if(!(i&1))s=10;else{s=a[p>>2]|0;i=s&255;s=(s&-2)+-1|0}if(!(i&1)){e=(i&255)>>>1;if((i&255)<22){n=10;u=e;c=1}else{n=(e+16&240)+-1|0;u=e;c=1}}else{n=10;u=0;c=0}if((n|0)!=(s|0)){if((n|0)==10){o=p+1|0;e=a[d>>2]|0;if(c){zc(o|0,e|0,((i&255)>>>1)+1|0)|0;Pp(e)}else{r[o>>0]=r[e>>0]|0;Pp(e)}r[p>>0]=u<<1;break}e=n+1|0;o=Tp(e)|0;if(!(n>>>0<=s>>>0&(o|0)==0)){if(c)zc(o|0,p+1|0,((i&255)>>>1)+1|0)|0;else{c=a[d>>2]|0;r[o>>0]=r[c>>0]|0;Pp(c)}a[p>>2]=e|1;a[l>>2]=u;a[d>>2]=o}}}else{r[p+1>>0]=0;r[p>>0]=0}}while(0);a[p>>2]=a[h>>2];a[p+4>>2]=a[h+4>>2];a[p+8>>2]=a[h+8>>2];i=0;while(1){if((i|0)==3)break;a[h+(i<<2)>>2]=0;i=i+1|0}nm(h);nm(y);nm(_);nm(m)}else t=e;f=g;return t|0}function Vf(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0;b=f;f=f+80|0;g=b+60|0;y=b+48|0;_=b+36|0;c=b+24|0;h=b+12|0;m=b;o=t;e:do{if((o-e|0)>2){if((r[e>>0]|0)==103){l=(r[e+1>>0]|0)==115;u=l;l=l?e+2|0:e}else{u=0;l=e}i=Kf(l,t,n)|0;if((i|0)!=(l|0)){if(!u)break;o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break}im(o+-24|0,0,15282)|0;break}if(((o-l|0)>2?(r[l>>0]|0)==115:0)?(r[l+1>>0]|0)==114:0){s=l+2|0;if((r[s>>0]|0)==78){m=l+3|0;i=Wf(m,t,n)|0;if((i|0)==(m|0)|(i|0)==(t|0)){i=e;break}l=Lp(i,t,n)|0;h=n+4|0;do{if((l|0)==(i|0))p=n;else{i=a[h>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break e}Fp(g,i+-24|0);i=a[h>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;m=s+-24|0;a[h>>2]=m;Wy(m);s=a[h>>2]|0}m=r[g>>0]|0;p=(m&1)==0;Xy(i+-48|0,p?g+1|0:a[g+8>>2]|0,p?(m&255)>>>1:a[g+4>>2]|0)|0;if((l|0)!=(t|0)){nm(g);p=n;i=l;break}o=a[h>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break;n=o+-24|0;a[h>>2]=n;Wy(n);o=a[h>>2]|0}nm(g);i=e;break e}}while(0);u=y+8|0;c=y+1|0;d=y+4|0;while(1){if((r[i>>0]|0)==69)break;l=qf(i,t,n)|0;if((l|0)==(i|0)|(l|0)==(t|0)){i=e;break e}i=a[h>>2]|0;if(((i-(a[p>>2]|0)|0)/24|0)>>>0<2){i=e;break e}Fp(g,i+-24|0);s=a[h>>2]|0;i=s+-24|0;o=s;while(1){if((o|0)==(i|0))break;m=o+-24|0;a[h>>2]=m;Wy(m);o=a[h>>2]|0}i=im(g,0,15282)|0;a[y>>2]=a[i>>2];a[y+4>>2]=a[i+4>>2];a[y+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}i=r[y>>0]|0;m=(i&1)==0;Xy(s+-48|0,m?c:a[u>>2]|0,m?(i&255)>>>1:a[d>>2]|0)|0;nm(y);nm(g);i=l}m=i+1|0;i=Kf(m,t,n)|0;if((i|0)==(m|0)){i=a[h>>2]|0;if((a[n>>2]|0)==(i|0)){i=e;break}o=i+-24|0;while(1){if((i|0)==(o|0)){i=e;break e}g=i+-24|0;a[h>>2]=g;Wy(g);i=a[h>>2]|0}}o=a[h>>2]|0;if(((o-(a[p>>2]|0)|0)/24|0)>>>0<2){i=e;break}Fp(g,o+-24|0);l=a[h>>2]|0;o=l+-24|0;s=l;while(1){if((s|0)==(o|0))break;e=s+-24|0;a[h>>2]=e;Wy(e);s=a[h>>2]|0}o=im(g,0,15282)|0;a[_>>2]=a[o>>2];a[_+4>>2]=a[o+4>>2];a[_+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}e=r[_>>0]|0;n=(e&1)==0;Xy(l+-48|0,n?_+1|0:a[_+8>>2]|0,n?(e&255)>>>1:a[_+4>>2]|0)|0;nm(_);nm(g);break}o=Wf(s,t,n)|0;if((o|0)!=(s|0)){u=Lp(o,t,n)|0;if((u|0)!=(o|0)){l=n+4|0;i=a[l>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break}Fp(g,i+-24|0);i=a[l>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;_=s+-24|0;a[l>>2]=_;Wy(_);s=a[l>>2]|0}o=r[g>>0]|0;_=(o&1)==0;Xy(i+-48|0,_?g+1|0:a[g+8>>2]|0,_?(o&255)>>>1:a[g+4>>2]|0)|0;nm(g);o=u}i=Kf(o,t,n)|0;if((i|0)==(o|0)){s=n+4|0;i=a[s>>2]|0;if((a[n>>2]|0)==(i|0)){i=e;break}o=i+-24|0;while(1){if((i|0)==(o|0)){i=e;break e}g=i+-24|0;a[s>>2]=g;Wy(g);i=a[s>>2]|0}}u=n+4|0;o=a[u>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break}Fp(g,o+-24|0);l=a[u>>2]|0;o=l+-24|0;s=l;while(1){if((s|0)==(o|0))break;e=s+-24|0;a[u>>2]=e;Wy(e);s=a[u>>2]|0}o=im(g,0,15282)|0;a[c>>2]=a[o>>2];a[c+4>>2]=a[o+4>>2];a[c+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}e=r[c>>0]|0;n=(e&1)==0;Xy(l+-48|0,n?c+1|0:a[c+8>>2]|0,n?(e&255)>>>1:a[c+4>>2]|0)|0;nm(c);nm(g);break}i=qf(s,t,n)|0;if(!((i|0)==(s|0)|(i|0)==(t|0))){if(u){o=n+4|0;s=a[o>>2]|0;if((a[n>>2]|0)==(s|0)){i=e;break}im(s+-24|0,0,15282)|0;p=o}else p=n+4|0;u=h+8|0;c=h+1|0;d=h+4|0;while(1){if((r[i>>0]|0)==69)break;l=qf(i,t,n)|0;if((l|0)==(i|0)|(l|0)==(t|0)){i=e;break e}i=a[p>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break e}Fp(g,i+-24|0);s=a[p>>2]|0;i=s+-24|0;o=s;while(1){if((o|0)==(i|0))break;_=o+-24|0;a[p>>2]=_;Wy(_);o=a[p>>2]|0}i=im(g,0,15282)|0;a[h>>2]=a[i>>2];a[h+4>>2]=a[i+4>>2];a[h+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}i=r[h>>0]|0;_=(i&1)==0;Xy(s+-48|0,_?c:a[u>>2]|0,_?(i&255)>>>1:a[d>>2]|0)|0;nm(h);nm(g);i=l}_=i+1|0;i=Kf(_,t,n)|0;if((i|0)==(_|0)){i=a[p>>2]|0;if((a[n>>2]|0)==(i|0)){i=e;break}o=i+-24|0;while(1){if((i|0)==(o|0)){i=e;break e}g=i+-24|0;a[p>>2]=g;Wy(g);i=a[p>>2]|0}}o=a[p>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0>=2){Fp(g,o+-24|0);l=a[p>>2]|0;o=l+-24|0;s=l;while(1){if((s|0)==(o|0))break;e=s+-24|0;a[p>>2]=e;Wy(e);s=a[p>>2]|0}o=im(g,0,15282)|0;a[m>>2]=a[o>>2];a[m+4>>2]=a[o+4>>2];a[m+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}e=r[m>>0]|0;n=(e&1)==0;Xy(l+-48|0,n?m+1|0:a[m+8>>2]|0,n?(e&255)>>>1:a[m+4>>2]|0)|0;nm(m);nm(g)}else i=e}else i=e}else i=e}else i=e}while(0);f=b;return i|0}function Kf(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0;u=f;f=f+16|0;l=u;e:do{if((t-e|0)>1){i=r[e>>0]|0;switch(i<<24>>24){case 100:case 111:{if((r[e+1>>0]|0)==110){s=e+2|0;if(i<<24>>24==111){i=lh(s,t,n)|0;if((i|0)==(s|0)){i=e;break e}e=Lp(i,t,n)|0;if((e|0)==(i|0))break e;t=n+4|0;i=a[t>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break e}Fp(l,i+-24|0);i=a[t>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;n=s+-24|0;a[t>>2]=n;Wy(n);s=a[t>>2]|0}n=r[l>>0]|0;t=(n&1)==0;Xy(i+-48|0,t?l+1|0:a[l+8>>2]|0,t?(n&255)>>>1:a[l+4>>2]|0)|0;nm(l);i=e;break e}else{if((s|0)!=(t|0)){i=Wf(s,t,n)|0;if((i|0)==(s|0))i=qf(s,t,n)|0;if((i|0)!=(s|0)?(o=a[n+4>>2]|0,(a[n>>2]|0)!=(o|0)):0)im(o+-24|0,0,15308)|0;else i=s}else i=t;i=(i|0)==(s|0)?e:i;break e}}break}default:{}}i=qf(e,t,n)|0;if((i|0)==(e|0)){i=lh(e,t,n)|0;if((i|0)!=(e|0)){e=Lp(i,t,n)|0;if((e|0)!=(i|0)){t=n+4|0;i=a[t>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2)i=e;else{Fp(l,i+-24|0);i=a[t>>2]|0;o=i+-24|0;s=i
;while(1){if((s|0)==(o|0))break;n=s+-24|0;a[t>>2]=n;Wy(n);s=a[t>>2]|0}n=r[l>>0]|0;t=(n&1)==0;Xy(i+-48|0,t?l+1|0:a[l+8>>2]|0,t?(n&255)>>>1:a[l+4>>2]|0)|0;nm(l);i=e}}}else i=e}}else i=e}while(0);f=u;return i|0}function Wf(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0;y=f;f=f+96|0;h=y+72|0;p=y+56|0;u=y+48|0;c=y+32|0;o=y+24|0;d=y+8|0;s=y;e:do{if((e|0)==(t|0))i=e;else switch(r[e>>0]|0){case 84:{l=n+4|0;s=((a[l>>2]|0)-(a[n>>2]|0)|0)/24|0;i=jp(e,t,n)|0;t=a[l>>2]|0;o=(t-(a[n>>2]|0)|0)/24|0;if(!((i|0)!=(e|0)&(o|0)==(s+1|0))){i=t;while(1){if((o|0)==(s|0)){i=e;break e}t=i+-24|0;while(1){if((i|0)==(t|0))break;n=i+-24|0;a[l>>2]=n;Wy(n);i=a[l>>2]|0}i=t;o=o+-1|0}}e=n+16|0;a[u>>2]=a[n+12>>2];Bp(p,t+-24|0,u);t=n+20|0;o=a[t>>2]|0;d=a[n+24>>2]|0;s=d;if(o>>>0<d>>>0){a[o+12>>2]=a[p+12>>2];a[o>>2]=a[p>>2];n=p+4|0;a[o+4>>2]=a[n>>2];h=p+8|0;a[o+8>>2]=a[h>>2];a[h>>2]=0;a[n>>2]=0;a[p>>2]=0;a[t>>2]=(a[t>>2]|0)+16}else{t=a[e>>2]|0;d=o-t|0;l=d>>4;o=l+1|0;if((d|0)<-16)ey(e);t=s-t|0;if(t>>4>>>0<1073741823){t=t>>3;t=t>>>0<o>>>0?o:t}else t=2147483647;lm(h,t,l,n+28|0);n=h+8|0;d=a[n>>2]|0;a[d+12>>2]=a[p+12>>2];a[d>>2]=a[p>>2];c=p+4|0;a[d+4>>2]=a[c>>2];u=p+8|0;a[d+8>>2]=a[u>>2];a[u>>2]=0;a[c>>2]=0;a[p>>2]=0;a[n>>2]=d+16;um(e,h);cm(h)}qy(p);break e}case 68:{i=Wp(e,t,n)|0;if((i|0)==(e|0)){i=e;break e}t=a[n+4>>2]|0;if((a[n>>2]|0)==(t|0)){i=e;break e}e=n+16|0;a[o>>2]=a[n+12>>2];Bp(c,t+-24|0,o);t=n+20|0;o=a[t>>2]|0;p=a[n+24>>2]|0;l=p;if(o>>>0<p>>>0){a[o+12>>2]=a[c+12>>2];a[o>>2]=a[c>>2];n=c+4|0;a[o+4>>2]=a[n>>2];h=c+8|0;a[o+8>>2]=a[h>>2];a[h>>2]=0;a[n>>2]=0;a[c>>2]=0;a[t>>2]=(a[t>>2]|0)+16}else{t=a[e>>2]|0;p=o-t|0;s=p>>4;o=s+1|0;if((p|0)<-16)ey(e);t=l-t|0;if(t>>4>>>0<1073741823){t=t>>3;t=t>>>0<o>>>0?o:t}else t=2147483647;lm(h,t,s,n+28|0);n=h+8|0;p=a[n>>2]|0;a[p+12>>2]=a[c+12>>2];a[p>>2]=a[c>>2];d=c+4|0;a[p+4>>2]=a[d>>2];u=c+8|0;a[p+8>>2]=a[u>>2];a[u>>2]=0;a[d>>2]=0;a[c>>2]=0;a[n>>2]=p+16;um(e,h);cm(h)}qy(c);break e}case 83:{i=Kp(e,t,n)|0;if((i|0)!=(e|0))break e;if((t-e|0)<=2){i=e;break e}if((r[e+1>>0]|0)!=116){i=e;break e}p=e+2|0;i=nh(p,t,n)|0;if((i|0)==(p|0)){i=e;break e}o=n+4|0;t=a[o>>2]|0;if((a[n>>2]|0)==(t|0)){i=e;break e}im(t+-24|0,0,15302)|0;e=n+16|0;t=(a[o>>2]|0)+-24|0;a[s>>2]=a[n+12>>2];Bp(d,t,s);t=n+20|0;o=a[t>>2]|0;p=a[n+24>>2]|0;s=p;if(o>>>0<p>>>0){a[o+12>>2]=a[d+12>>2];a[o>>2]=a[d>>2];n=d+4|0;a[o+4>>2]=a[n>>2];h=d+8|0;a[o+8>>2]=a[h>>2];a[h>>2]=0;a[n>>2]=0;a[d>>2]=0;a[t>>2]=(a[t>>2]|0)+16}else{t=a[e>>2]|0;p=o-t|0;l=p>>4;o=l+1|0;if((p|0)<-16)ey(e);t=s-t|0;if(t>>4>>>0<1073741823){t=t>>3;t=t>>>0<o>>>0?o:t}else t=2147483647;lm(h,t,l,n+28|0);n=h+8|0;p=a[n>>2]|0;a[p+12>>2]=a[d+12>>2];a[p>>2]=a[d>>2];c=d+4|0;a[p+4>>2]=a[c>>2];u=d+8|0;a[p+8>>2]=a[u>>2];a[u>>2]=0;a[c>>2]=0;a[d>>2]=0;a[n>>2]=p+16;um(e,h);cm(h)}qy(d);break e}default:{i=e;break e}}}while(0);f=y;return i|0}function qf(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0;u=f;f=f+16|0;l=u;if((e|0)!=(t|0)?(i=Up(e,t,n)|0,(i|0)!=(e|0)):0){s=Lp(i,t,n)|0;if((s|0)!=(i|0)){o=n+4|0;i=a[o>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2)i=e;else{Fp(l,i+-24|0);i=a[o>>2]|0;t=i+-24|0;n=i;while(1){if((n|0)==(t|0))break;e=n+-24|0;a[o>>2]=e;Wy(e);n=a[o>>2]|0}o=r[l>>0]|0;e=(o&1)==0;Xy(i+-48|0,e?l+1|0:a[l+8>>2]|0,e?(o&255)>>>1:a[l+4>>2]|0)|0;nm(l);i=s}}}else i=e;f=u;return i|0}function Xf(e){e=e|0;Le(16515,14611,1175,16544)}function Yf(e,t){e=e|0;t=t|0;var n=0;r[e>>0]=6;n=e+1|0;r[n>>0]=r[t>>0]|0;r[n+1>>0]=r[t+1>>0]|0;r[n+2>>0]=r[t+2>>0]|0;r[e+4>>0]=0;t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Jf(e,t){e=e|0;t=t|0;var n=0,i=0,s=0;r[e>>0]=16;n=t;s=n;s=o[s>>0]|o[s+1>>0]<<8|o[s+2>>0]<<16|o[s+3>>0]<<24;n=n+4|0;n=o[n>>0]|o[n+1>>0]<<8|o[n+2>>0]<<16|o[n+3>>0]<<24;t=e+1|0;i=t;r[i>>0]=s;r[i+1>>0]=s>>8;r[i+2>>0]=s>>16;r[i+3>>0]=s>>24;t=t+4|0;r[t>>0]=n;r[t+1>>0]=n>>8;r[t+2>>0]=n>>16;r[t+3>>0]=n>>24;r[e+9>>0]=0;t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Qf(e,t){e=e|0;t=t|0;var n=0,i=0,a=0;e:do{if((e|0)!=(t|0)){switch(r[e>>0]|0){case 104:{i=e+1|0;n=gm(i,t)|0;if((n|0)==(i|0)|(n|0)==(t|0))break e;return((r[n>>0]|0)==95?n+1|0:e)|0}case 118:break;default:break e}a=e+1|0;n=gm(a,t)|0;if((!((n|0)==(a|0)|(n|0)==(t|0))?(r[n>>0]|0)==95:0)?(a=n+1|0,i=gm(a,t)|0,!((i|0)==(a|0)|(i|0)==(t|0))):0)e=(r[i>>0]|0)==95?i+1|0:e}}while(0);return e|0}function Zf(e,t){e=+e;t=t|0;var n=0;if((t|0)>1023){e=e*8.98846567431158e307;n=t+-1023|0;if((n|0)>1023){n=t+-2046|0;n=(n|0)>1023?1023:n;e=e*8.98846567431158e307}}else if((t|0)<-1022){e=e*2.2250738585072014e-308;n=t+1022|0;if((n|0)<-1022){n=t+2044|0;n=(n|0)<-1022?-1022:n;e=e*2.2250738585072014e-308}}else n=t;n=Vc(n+1023|0,0,52)|0;t=N;a[p>>2]=n;a[p+4>>2]=t;return+(e*+c[p>>3])}function $f(e,t){e=+e;t=+t;var z=id(e,t);return z++}function ed(e,t){e=+e;t=t|0;var z=Zf(e,t);return z++}function td(e,t){e=+e;t=+t;var n=0,r=0;c[p>>3]=e;r=a[p>>2]|0;n=a[p+4>>2]|0;c[p>>3]=t;n=a[p+4>>2]&-2147483648|n&2147483647;a[p>>2]=r;a[p+4>>2]=n;var z=c[p>>3];return z++}function nd(e,t){e=+e;t=t|0;var n=0,r=0,i=0;c[p>>3]=e;n=a[p>>2]|0;r=a[p+4>>2]|0;i=Gc(n|0,r|0,52)|0;i=i&2047;switch(i|0){case 0:{if(e!=0){e=+nd(e*0x10000000000000000,t);n=(a[t>>2]|0)+-64|0}else n=0;a[t>>2]=n;break}case 2047:break;default:{a[t>>2]=i+-1022;a[p>>2]=n;a[p+4>>2]=r&-2146435073|1071644672;e=+c[p>>3]}}return+e}function rd(e,t){e=+e;t=t|0;var z=nd(e,t);return z++}function id(e,t){e=+e;t=+t;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,f=0,d=0,h=0,y=0,m=0;c[p>>3]=e;n=a[p>>2]|0;f=a[p+4>>2]|0;c[p>>3]=t;d=a[p>>2]|0;h=a[p+4>>2]|0;r=Gc(n|0,f|0,52)|0;r=r&2047;l=Gc(d|0,h|0,52)|0;l=l&2047;y=f&-2147483648;s=Vc(d|0,h|0,1)|0;u=N;e:do{if(!((s|0)==0&(u|0)==0)?(o=h&2147483647,!(o>>>0>2146435072|(o|0)==2146435072&d>>>0>0|(r|0)==2047)):0){i=Vc(n|0,f|0,1)|0;o=N;if(!(o>>>0>u>>>0|(o|0)==(u|0)&i>>>0>s>>>0))return+((i|0)==(s|0)&(o|0)==(u|0)?e*0:e);if(!r){r=Vc(n|0,f|0,12)|0;i=N;if((i|0)>-1|(i|0)==-1&r>>>0>4294967295){o=r;r=0;do{r=r+-1|0;o=Vc(o|0,i|0,1)|0;i=N}while((i|0)>-1|(i|0)==-1&o>>>0>4294967295)}else r=0;n=Vc(n|0,f|0,1-r|0)|0;i=N}else i=f&1048575|1048576;if(!l){o=Vc(d|0,h|0,12)|0;s=N;if((s|0)>-1|(s|0)==-1&o>>>0>4294967295){l=0;do{l=l+-1|0;o=Vc(o|0,s|0,1)|0;s=N}while((s|0)>-1|(s|0)==-1&o>>>0>4294967295)}else l=0;d=Vc(d|0,h|0,1-l|0)|0;f=N}else f=h&1048575|1048576;u=Lc(n|0,i|0,d|0,f|0)|0;s=N;o=(s|0)>-1|(s|0)==-1&u>>>0>4294967295;t:do{if((r|0)>(l|0)){while(1){if(o)if((n|0)==(d|0)&(i|0)==(f|0))break;else{n=u;i=s}n=Vc(n|0,i|0,1)|0;i=N;r=r+-1|0;u=Lc(n|0,i|0,d|0,f|0)|0;s=N;o=(s|0)>-1|(s|0)==-1&u>>>0>4294967295;if((r|0)<=(l|0))break t}t=e*0;break e}}while(0);if(o)if((n|0)==(d|0)&(i|0)==(f|0)){t=e*0;break}else{i=s;n=u}if(i>>>0<1048576|(i|0)==1048576&n>>>0<0)do{n=Vc(n|0,i|0,1)|0;i=N;r=r+-1|0}while(i>>>0<1048576|(i|0)==1048576&n>>>0<0);if((r|0)>0){h=Hc(n|0,i|0,0,-1048576)|0;n=N;r=Vc(r|0,0,52)|0;n=n|N;r=h|r}else{r=Gc(n|0,i|0,1-r|0)|0;n=N}a[p>>2]=r;a[p+4>>2]=n|y;t=+c[p>>3]}else m=3}while(0);if((m|0)==3){t=e*t;t=t/t}return+t}function ad(e,t){e=+e;t=+t;var z=td(e,t);return z++}function od(){return 3224}function sd(e){e=e|0;return((e|0)==32|(e+-9|0)>>>0<5)&1|0}function ld(e){e=e|0;return(e+-65|0)>>>0<26|0}function ud(){return 3228}function cd(e){e=e|0;if((e+-48|0)>>>0<10)e=1;else e=((e|32)+-97|0)>>>0<6;return e&1|0}function fd(){return 3232}function dd(e,t,n){e=e|0;t=t|0;n=n|0;if(((r[t>>0]|0)!=0?(wd(t,22390)|0)!=0:0)?(wd(t,17100)|0)!=0:0)n=0;else if(!n)n=Op(1,4)|0;return n|0}function pd(e,t){e=e|0;t=t|0;return(e+-48|0)>>>0<10|0}function hd(e){e=e|0;return 0}function yd(e){e=e|0;var t=0,n=0;t=(ft()|0)+176|0;n=a[t>>2]|0;if(e)a[t>>2]=e;return n|0}function md(e,t){e=e|0;t=t|0;return cd(e)|0}function _d(e,t){e=e|0;t=t|0;return-1|0}function gd(e){e=e|0;Pp(e);return}function bd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return r|0}function vd(e){e=e|0;var t=0,n=0,i=0;i=e;e:do{if(!(i&3))n=4;else{t=e;e=i;while(1){if(!(r[t>>0]|0))break e;t=t+1|0;e=t;if(!(e&3)){e=t;n=4;break}}}}while(0);if((n|0)==4){while(1){t=a[e>>2]|0;if(!((t&-2139062144^-2139062144)&t+-16843009))e=e+4|0;else break}if((t&255)<<24>>24)do{e=e+1|0}while((r[e>>0]|0)!=0)}return e-i|0}function wd(e,t){e=e|0
;t=t|0;var n=0,i=0;i=r[e>>0]|0;n=r[t>>0]|0;if(i<<24>>24==0?1:i<<24>>24!=n<<24>>24)t=i;else{do{e=e+1|0;t=t+1|0;i=r[e>>0]|0;n=r[t>>0]|0}while(!(i<<24>>24==0?1:i<<24>>24!=n<<24>>24));t=i}return(t&255)-(n&255)|0}function kd(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0;e:do{if(!n)n=0;else{a=n;i=e;while(1){e=r[i>>0]|0;n=r[t>>0]|0;if(e<<24>>24!=n<<24>>24)break;a=a+-1|0;if(!a){n=0;break e}else{i=i+1|0;t=t+1|0}}n=(e&255)-(n&255)|0}}while(0);return n|0}function Sd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if(n){r=e;while(1){n=n+-1|0;a[r>>2]=a[t>>2];if(!n)break;else{t=t+4|0;r=r+4|0}}}return e|0}function Id(e){e=e|0;var t=0;t=e;while(1){if(!(a[t>>2]|0))break;else t=t+4|0}return t-e>>2|0}function Ed(e){e=e|0;var t=0,n=0;n=(vd(e)|0)+1|0;t=Tp(n)|0;if(!t)t=0;else zc(t|0,e|0,n|0)|0;return t|0}function Ad(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;r=(n|0)==0;if(e-t>>2>>>0<n>>>0){if(!r)do{n=n+-1|0;a[e+(n<<2)>>2]=a[t+(n<<2)>>2]}while((n|0)!=0)}else if(!r){r=t;t=e;while(1){n=n+-1|0;a[t>>2]=a[r>>2];if(!n)break;else{r=r+4|0;t=t+4|0}}}return e|0}function xd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if(n){r=e;while(1){n=n+-1|0;a[r>>2]=t;if(!n)break;else r=r+4|0}}return e|0}function Cd(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;s=t&255;i=(n|0)!=0;e:do{if(i&(e&3|0)!=0){o=t&255;while(1){if((r[e>>0]|0)==o<<24>>24){l=6;break e}e=e+1|0;n=n+-1|0;i=(n|0)!=0;if(!(i&(e&3|0)!=0)){l=5;break}}}else l=5}while(0);if((l|0)==5)if(i)l=6;else n=0;e:do{if((l|0)==6){o=t&255;if((r[e>>0]|0)!=o<<24>>24){i=ne(s,16843009)|0;t:do{if(n>>>0>3)while(1){s=a[e>>2]^i;if((s&-2139062144^-2139062144)&s+-16843009)break;e=e+4|0;n=n+-4|0;if(n>>>0<=3){l=11;break t}}else l=11}while(0);if((l|0)==11)if(!n){n=0;break}while(1){if((r[e>>0]|0)==o<<24>>24)break e;e=e+1|0;n=n+-1|0;if(!n){n=0;break}}}}}while(0);return((n|0)!=0?e:0)|0}function Td(e,t,n){e=e|0;t=t|0;n=n|0;e=gp(e,t,n,-1,-1)|0;return e|0}function Pd(e,t,n){e=e|0;t=t|0;n=n|0;e=gp(e,t,n,0,-2147483648)|0;return e|0}function Od(e,t,n){e=e|0;t=t|0;n=n|0;var z=bp(e,t,2);return z++}function Nd(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0;if((a[t+76>>2]|0)>=0?(Hd(t)|0)!=0:0){if((r[t+75>>0]|0)!=(e|0)?(i=t+20|0,o=a[i>>2]|0,o>>>0<(a[t+16>>2]|0)>>>0):0){a[i>>2]=o+1;r[o>>0]=e;n=e&255}else n=zd(t,e)|0;Gd(t)}else l=3;do{if((l|0)==3){if((r[t+75>>0]|0)!=(e|0)?(s=t+20|0,n=a[s>>2]|0,n>>>0<(a[t+16>>2]|0)>>>0):0){a[s>>2]=n+1;r[n>>0]=e;n=e&255;break}n=zd(t,e)|0}}while(0);return n|0}function Md(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0;i=f;f=f+32|0;o=i;r=i+20|0;a[o>>2]=a[e+60>>2];a[o+4>>2]=0;a[o+8>>2]=t;a[o+12>>2]=r;a[o+16>>2]=n;if((hp(Wt(140,o|0)|0)|0)<0){a[r>>2]=-1;e=-1}else e=a[r>>2]|0;f=i;return e|0}function Rd(e){e=e|0;var t=0,n=0;t=e+74|0;n=r[t>>0]|0;r[t>>0]=n+255|n;t=a[e>>2]|0;if(!(t&8)){a[e+8>>2]=0;a[e+4>>2]=0;t=a[e+44>>2]|0;a[e+28>>2]=t;a[e+20>>2]=t;a[e+16>>2]=t+(a[e+48>>2]|0);t=0}else{a[e>>2]=t|32;t=-1}return t|0}function Dd(e){e=e|0;var t=0,n=0;t=f;f=f+16|0;n=t;a[n>>2]=a[e+60>>2];e=hp(Me(6,n|0)|0)|0;f=t;return e|0}function Fd(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0;p=f;f=f+128|0;o=p+112|0;d=p;s=d;l=3236;u=s+112|0;do{a[s>>2]=a[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0));if((t+-1|0)>>>0>2147483646){if(!t){t=1;c=4}else{a[($d()|0)>>2]=75;t=-1}}else{o=e;c=4}if((c|0)==4){c=-2-o|0;c=t>>>0>c>>>0?c:t;a[d+48>>2]=c;e=d+20|0;a[e>>2]=o;a[d+44>>2]=o;t=o+c|0;o=d+16|0;a[o>>2]=t;a[d+28>>2]=t;t=Ud(d,n,i)|0;if(c){n=a[e>>2]|0;r[n+(((n|0)==(a[o>>2]|0))<<31>>31)>>0]=0}}f=p;return t|0}function Bd(e){e=e|0;var t=0,n=0;t=e+74|0;n=r[t>>0]|0;r[t>>0]=n+255|n;t=e+20|0;n=e+44|0;if((a[t>>2]|0)>>>0>(a[n>>2]|0)>>>0)wm[a[e+36>>2]&31](e,0,0)|0;a[e+16>>2]=0;a[e+28>>2]=0;a[t>>2]=0;t=a[e>>2]|0;if(t&20){if(!(t&4))t=-1;else{a[e>>2]=t|32;t=-1}}else{t=a[n>>2]|0;a[e+8>>2]=t;a[e+4>>2]=t;t=0}return t|0}function jd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0;m=f;f=f+48|0;p=m+16|0;d=m;r=m+32|0;h=e+28|0;i=a[h>>2]|0;a[r>>2]=i;y=e+20|0;i=(a[y>>2]|0)-i|0;a[r+4>>2]=i;a[r+8>>2]=t;a[r+12>>2]=n;u=e+60|0;c=e+44|0;t=2;i=i+n|0;while(1){if(!(a[795]|0)){a[p>>2]=a[u>>2];a[p+4>>2]=r;a[p+8>>2]=t;s=hp(gt(146,p|0)|0)|0}else{jt(84,e|0);a[d>>2]=a[u>>2];a[d+4>>2]=r;a[d+8>>2]=t;s=hp(gt(146,d|0)|0)|0;Ee(0)}if((i|0)==(s|0)){i=6;break}if((s|0)<0){i=8;break}i=i-s|0;o=a[r+4>>2]|0;if(s>>>0<=o>>>0){if((t|0)==2){a[h>>2]=(a[h>>2]|0)+s;l=o;t=2}else l=o}else{l=a[c>>2]|0;a[h>>2]=l;a[y>>2]=l;l=a[r+12>>2]|0;s=s-o|0;r=r+8|0;t=t+-1|0}a[r>>2]=(a[r>>2]|0)+s;a[r+4>>2]=l-s}if((i|0)==6){p=a[c>>2]|0;a[e+16>>2]=p+(a[e+48>>2]|0);e=p;a[h>>2]=e;a[y>>2]=e}else if((i|0)==8){a[e+16>>2]=0;a[h>>2]=0;a[y>>2]=0;a[e>>2]=a[e>>2]|32;if((t|0)==2)n=0;else n=n-(a[r+4>>2]|0)|0}f=m;return n|0}function Ld(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;r=f;f=f+16|0;i=r;a[i>>2]=n;n=Jd(e,t,i)|0;f=r;return n|0}function Ud(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0;g=f;f=f+224|0;h=g+120|0;_=g+80|0;m=g;y=g+136|0;i=_;o=i+40|0;do{a[i>>2]=0;i=i+4|0}while((i|0)<(o|0));a[h>>2]=a[n>>2];if((wp(0,t,h,m,_)|0)<0)n=-1;else{if((a[e+76>>2]|0)>-1)d=Hd(e)|0;else d=0;n=a[e>>2]|0;p=n&32;if((r[e+74>>0]|0)<1)a[e>>2]=n&-33;n=e+48|0;if(!(a[n>>2]|0)){o=e+44|0;s=a[o>>2]|0;a[o>>2]=y;l=e+28|0;a[l>>2]=y;u=e+20|0;a[u>>2]=y;a[n>>2]=80;c=e+16|0;a[c>>2]=y+80;i=wp(e,t,h,m,_)|0;if(s){wm[a[e+36>>2]&31](e,0,0)|0;i=(a[u>>2]|0)==0?-1:i;a[o>>2]=s;a[n>>2]=0;a[c>>2]=0;a[l>>2]=0;a[u>>2]=0}}else i=wp(e,t,h,m,_)|0;n=a[e>>2]|0;a[e>>2]=n|p;if(d)Gd(e);n=(n&32|0)==0?i:-1}f=g;return n|0}function Hd(e){e=e|0;return 0}function Gd(e){e=e|0;return}function zd(e,t){e=e|0;t=t|0;var n=0,i=0,s=0,l=0,u=0,c=0,d=0;d=f;f=f+16|0;c=d;u=t&255;r[c>>0]=u;i=e+16|0;s=a[i>>2]|0;if(!s){if(!(Rd(e)|0)){s=a[i>>2]|0;l=4}else n=-1}else l=4;do{if((l|0)==4){i=e+20|0;l=a[i>>2]|0;if(l>>>0<s>>>0?(n=t&255,(n|0)!=(r[e+75>>0]|0)):0){a[i>>2]=l+1;r[l>>0]=u;break}if((wm[a[e+36>>2]&31](e,c,1)|0)==1)n=o[c>>0]|0;else n=-1}}while(0);f=d;return n|0}function Vd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0;i=f;f=f+16|0;o=i;a[o>>2]=r;r=Fd(e,t,n,o)|0;f=i;return r|0}function Kd(e){e=e|0;var t=0,n=0;n=f;f=f+16|0;t=n;if((a[e+8>>2]|0)==0?(Bd(e)|0)!=0:0)t=-1;else if((wm[a[e+32>>2]&31](e,t,1)|0)==1)t=o[t>>0]|0;else t=-1;f=n;return t|0}function Wd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;l=f;f=f+16|0;r=l;i=Tp(240)|0;do{if(i){a[r>>2]=a[n>>2];r=Fd(i,240,t,r)|0;if(r>>>0<240){t=Np(i,r+1|0)|0;a[e>>2]=(t|0)!=0?t:i;break}Pp(i);if((r|0)>=0?(s=r+1|0,o=Tp(s)|0,a[e>>2]=o,(o|0)!=0):0)r=Fd(o,s,t,n)|0;else r=-1}else r=-1}while(0);f=l;return r|0}function qd(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;o=f;f=f+80|0;i=o;a[e+36>>2]=9;if((a[e>>2]&64|0)==0?(a[i>>2]=a[e+60>>2],a[i+4>>2]=21505,a[i+8>>2]=o+12,(wt(54,i|0)|0)!=0):0)r[e+75>>0]=-1;i=jd(e,t,n)|0;f=o;return i|0}function Xd(e,t,n){e=e|0;t=t|0;n=n|0;var s=0,l=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0;H=f;f=f+304|0;M=H+16|0;D=H+8|0;R=H+33|0;F=H;I=H+32|0;if((a[e+76>>2]|0)>-1)U=Hd(e)|0;else U=0;s=r[t>>0]|0;e:do{if(s<<24>>24){B=e+4|0;j=e+100|0;O=e+108|0;E=e+8|0;A=R+10|0;x=R+33|0;C=D+4|0;T=R+46|0;P=R+94|0;d=s;s=0;p=t;g=0;l=0;t=0;t:while(1){n:do{if(!(sd(d&255)|0)){d=(r[p>>0]|0)==37;r:do{if(d){m=p+1|0;h=r[m>>0]|0;i:do{switch(h<<24>>24){case 37:break r;case 42:{S=0;h=p+2|0;break}default:{h=(h&255)+-48|0;if(h>>>0<10?(r[p+2>>0]|0)==36:0){a[M>>2]=a[n>>2];while(1){S=(a[M>>2]|0)+(4-1)&~(4-1);d=a[S>>2]|0;a[M>>2]=S+4;if(h>>>0>1)h=h+-1|0;else break}S=d;h=p+3|0;break i}h=(a[n>>2]|0)+(4-1)&~(4-1);S=a[h>>2]|0;a[n>>2]=h+4;h=m}}}while(0);d=r[h>>0]|0;p=d&255;if((p+-48|0)>>>0<10){d=0;while(1){m=(d*10|0)+-48+p|0;h=h+1|0;d=r[h>>0]|0;p=d&255;if((p+-48|0)>>>0>=10)break;else d=m}}else m=0;if(d<<24>>24==109){h=h+1|0;_=r[h>>0]|0;d=(S|0)!=0&1;l=0;t=0}else{_=d;d=0}p=h+1|0;switch(_&255|0){case 104:{k=(r[p>>0]|0)==104;p=k?h+2|0:p;h=k?-2:-1;break}case 108:{k=(r[p>>0]|0)==108;p=k?h+2|0:p;h=k?3:1;break}case 106:{h=3;break}case 116:case 122:{h=1;break}case 76:{h=2;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{p=h;h=0;break}
default:{L=154;break t}}_=o[p>>0]|0;b=(_&47|0)==3;_=b?_|32:_;b=b?1:h;switch(_|0){case 99:{k=g;w=(m|0)<1?1:m;break}case 91:{k=g;w=m;break}case 110:{if(!S){h=g;break n}switch(b|0){case-2:{r[S>>0]=g;h=g;break n}case-1:{i[S>>1]=g;h=g;break n}case 0:{a[S>>2]=g;h=g;break n}case 1:{a[S>>2]=g;h=g;break n}case 3:{h=S;a[h>>2]=g;a[h+4>>2]=((g|0)<0)<<31>>31;h=g;break n}default:{h=g;break n}}}default:{mp(e,0);do{h=a[B>>2]|0;if(h>>>0<(a[j>>2]|0)>>>0){a[B>>2]=h+1;h=o[h>>0]|0}else h=_p(e)|0}while((sd(h)|0)!=0);if(!(a[j>>2]|0))h=a[B>>2]|0;else{h=(a[B>>2]|0)+-1|0;a[B>>2]=h}k=(a[O>>2]|0)+g+h-(a[E>>2]|0)|0;w=m}}mp(e,w);h=a[B>>2]|0;m=a[j>>2]|0;if(h>>>0<m>>>0)a[B>>2]=h+1;else{if((_p(e)|0)<0){L=154;break t}m=a[j>>2]|0}if(m)a[B>>2]=(a[B>>2]|0)+-1;i:do{switch(_|0){case 91:case 99:case 115:{v=(_|0)==99;a:do{if((_&239|0)==99){Uc(R|0,-1,257)|0;r[R>>0]=0;if((_|0)==115){r[x>>0]=0;r[A>>0]=0;r[A+1>>0]=0;r[A+2>>0]=0;r[A+3>>0]=0;r[A+4>>0]=0}}else{G=p+1|0;g=(r[G>>0]|0)==94;h=g&1;_=g?G:p;p=g?p+2|0:G;Uc(R|0,g&1|0,257)|0;r[R>>0]=0;switch(r[p>>0]|0){case 45:{g=(h^1)&255;r[T>>0]=g;p=_+2|0;break}case 93:{g=(h^1)&255;r[P>>0]=g;p=_+2|0;break}default:g=(h^1)&255}while(1){h=r[p>>0]|0;o:do{switch(h<<24>>24){case 0:{L=154;break t}case 93:break a;case 45:{_=p+1|0;h=r[_>>0]|0;switch(h<<24>>24){case 93:case 0:{h=45;break o}default:{}}p=r[p+-1>>0]|0;if((p&255)<(h&255)){p=p&255;do{p=p+1|0;r[R+p>>0]=g;h=r[_>>0]|0}while((p|0)<(h&255|0));p=_}else p=_;break}default:{}}}while(0);r[R+((h&255)+1)>>0]=g;p=p+1|0}}}while(0);_=v?w+1|0:31;g=(b|0)==1;b=(d|0)!=0;a:do{if(g){if(b){t=Tp(_<<2)|0;if(!t){l=0;L=154;break t}}else t=S;a[D>>2]=0;a[C>>2]=0;l=0;o:while(1){m=(t|0)==0;do{s:while(1){h=a[B>>2]|0;if(h>>>0<(a[j>>2]|0)>>>0){a[B>>2]=h+1;h=o[h>>0]|0}else h=_p(e)|0;if(!(r[R+(h+1)>>0]|0))break o;r[I>>0]=h;switch(ip(F,I,1,D)|0){case-1:{l=0;L=154;break t}case-2:break;default:break s}}if(!m){a[t+(l<<2)>>2]=a[F>>2];l=l+1|0}}while(!(b&(l|0)==(_|0)));l=_<<1|1;h=Np(t,l<<2)|0;if(!h){l=0;L=154;break t}else{G=_;_=l;t=h;l=G}}if(!(ap(D)|0)){l=0;L=154;break t}else{m=l;l=0}}else{if(b){l=Tp(_)|0;if(!l){l=0;t=0;L=154;break t}else h=0;while(1){do{t=a[B>>2]|0;if(t>>>0<(a[j>>2]|0)>>>0){a[B>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;if(!(r[R+(t+1)>>0]|0)){m=h;t=0;break a}r[l+h>>0]=t;h=h+1|0}while((h|0)!=(_|0));t=_<<1|1;h=Np(l,t)|0;if(!h){t=0;L=154;break t}else{G=_;_=t;l=h;h=G}}}if(!S){l=m;while(1){t=a[B>>2]|0;if(t>>>0<l>>>0){a[B>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;if(!(r[R+(t+1)>>0]|0)){m=0;l=0;t=0;break a}l=a[j>>2]|0}}else{l=0;while(1){t=a[B>>2]|0;if(t>>>0<m>>>0){a[B>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;if(!(r[R+(t+1)>>0]|0)){m=l;l=S;t=0;break a}r[S+l>>0]=t;m=a[j>>2]|0;l=l+1|0}}}}while(0);if(!(a[j>>2]|0))h=a[B>>2]|0;else{h=(a[B>>2]|0)+-1|0;a[B>>2]=h}h=h-(a[E>>2]|0)+(a[O>>2]|0)|0;if(!h)break t;if(!((h|0)==(w|0)|v^1))break t;do{if(b)if(g){a[S>>2]=t;break}else{a[S>>2]=l;break}}while(0);if(!v){if(t)a[t+(m<<2)>>2]=0;if(!l){l=0;break i}r[l+m>>0]=0}break}case 120:case 88:case 112:{h=16;L=136;break}case 111:{h=8;L=136;break}case 117:case 100:{h=10;L=136;break}case 105:{h=0;L=136;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{y=+pp(e,b,0);if((a[O>>2]|0)==((a[E>>2]|0)-(a[B>>2]|0)|0))break t;if(S)switch(b|0){case 0:{u[S>>2]=y;break i}case 1:{c[S>>3]=y;break i}case 2:{c[S>>3]=y;break i}default:break i}break}default:{}}}while(0);i:do{if((L|0)==136){L=0;h=yp(e,h,0,-1,-1)|0;if((a[O>>2]|0)==((a[E>>2]|0)-(a[B>>2]|0)|0))break t;if((S|0)!=0&(_|0)==112){a[S>>2]=h;break}if(S)switch(b|0){case-2:{r[S>>0]=h;break i}case-1:{i[S>>1]=h;break i}case 0:{a[S>>2]=h;break i}case 1:{a[S>>2]=h;break i}case 3:{G=S;a[G>>2]=h;a[G+4>>2]=N;break i}default:break i}}}while(0);s=((S|0)!=0&1)+s|0;h=(a[O>>2]|0)+k+(a[B>>2]|0)-(a[E>>2]|0)|0;break n}}while(0);p=p+(d&1)|0;mp(e,0);d=a[B>>2]|0;if(d>>>0<(a[j>>2]|0)>>>0){a[B>>2]=d+1;d=o[d>>0]|0}else d=_p(e)|0;if((d|0)!=(o[p>>0]|0)){L=22;break t}h=g+1|0}else{while(1){d=p+1|0;if(!(sd(o[d>>0]|0)|0))break;else p=d}mp(e,0);do{d=a[B>>2]|0;if(d>>>0<(a[j>>2]|0)>>>0){a[B>>2]=d+1;d=o[d>>0]|0}else d=_p(e)|0}while((sd(d)|0)!=0);if(!(a[j>>2]|0))d=a[B>>2]|0;else{d=(a[B>>2]|0)+-1|0;a[B>>2]=d}h=(a[O>>2]|0)+g+d-(a[E>>2]|0)|0}}while(0);p=p+1|0;d=r[p>>0]|0;if(!(d<<24>>24))break e;else g=h}if((L|0)==22){if(a[j>>2]|0)a[B>>2]=(a[B>>2]|0)+-1;if((s|0)!=0|(d|0)>-1)break;else{s=0;L=155}}else if((L|0)==154)if(!s){s=d;L=155}if((L|0)==155){d=s;s=-1}if(d){Pp(l);Pp(t)}}else s=0}while(0);if(U)Gd(e);f=H;return s|0}function Yd(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;i=n+16|0;o=a[i>>2]|0;if(!o){if(!(Rd(n)|0)){o=a[i>>2]|0;s=5}else i=0}else s=5;e:do{if((s|0)==5){l=n+20|0;i=a[l>>2]|0;s=i;if((o-i|0)>>>0<t>>>0){i=wm[a[n+36>>2]&31](n,e,t)|0;break}t:do{if((r[n+75>>0]|0)>-1){i=t;while(1){if(!i){o=s;i=0;break t}o=i+-1|0;if((r[e+o>>0]|0)==10)break;else i=o}if((wm[a[n+36>>2]&31](n,e,i)|0)>>>0<i>>>0)break e;t=t-i|0;e=e+i|0;o=a[l>>2]|0}else{o=s;i=0}}while(0);zc(o|0,e|0,t|0)|0;a[l>>2]=(a[l>>2]|0)+t;i=i+t|0}}while(0);return i|0}function Jd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0;o=f;f=f+112|0;r=o;i=r;s=i+112|0;do{a[i>>2]=0;i=i+4|0}while((i|0)<(s|0));a[r+32>>2]=22;a[r+44>>2]=e;a[r+76>>2]=-1;a[r+84>>2]=e;s=Xd(r,t,n)|0;f=o;return s|0}function Qd(e){e=e|0;var t=0,n=0;do{if(e){if((a[e+76>>2]|0)<=-1){t=Sp(e)|0;break}n=(Hd(e)|0)==0;t=Sp(e)|0;if(!n)Gd(e)}else{if(!(a[742]|0))t=0;else t=Qd(a[742]|0)|0;Dt(3208);e=a[801]|0;if(e)do{if((a[e+76>>2]|0)>-1)n=Hd(e)|0;else n=0;if((a[e+20>>2]|0)>>>0>(a[e+28>>2]|0)>>>0)t=Sp(e)|0|t;if(n)Gd(e);e=a[e+56>>2]|0}while((e|0)!=0);kt(3208)}}while(0);return t|0}function Zd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0;r=e+84|0;o=a[r>>2]|0;s=n+256|0;i=Cd(o,0,s)|0;i=(i|0)==0?s:i-o|0;n=i>>>0<n>>>0?i:n;zc(t|0,o|0,n|0)|0;a[e+4>>2]=o+n;t=o+i|0;a[e+8>>2]=t;a[r>>2]=t;return n|0}function $d(){var e=0;if(!(a[795]|0))e=3348;else e=a[(ft()|0)+60>>2]|0;return e|0}function ep(e){e=e|0;var t=0,n=0;t=0;while(1){if((o[17106+t>>0]|0)==(e|0)){n=2;break}t=t+1|0;if((t|0)==87){t=87;e=17194;n=5;break}}if((n|0)==2)if(!t)e=17194;else{e=17194;n=5}if((n|0)==5)while(1){n=e;while(1){e=n+1|0;if(!(r[n>>0]|0))break;else n=e}t=t+-1|0;if(!t)break;else n=5}return e|0}function tp(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;e=Td(e,t,n)|0;return e|0}function np(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;e=Pd(e,t,n)|0;return e|0}function rp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,s=0,l=0,u=0;u=f;f=f+16|0;i=u;e:do{if(!t)i=0;else{do{if(n){l=(e|0)==0?i:e;i=r[t>>0]|0;e=i&255;if(i<<24>>24>-1){a[l>>2]=e;i=i<<24>>24!=0&1;break e}i=e+-194|0;if(i>>>0<=50){e=t+1|0;s=a[2976+(i<<2)>>2]|0;if(n>>>0<4?(s&-2147483648>>>((n*6|0)+-6|0)|0)!=0:0)break;i=o[e>>0]|0;n=i>>>3;if((n+-16|n+(s>>26))>>>0<=7){i=i+-128|s<<6;if((i|0)>=0){a[l>>2]=i;i=2;break e}e=o[t+2>>0]|0;if((e&192|0)==128){e=e+-128|i<<6;if((e|0)>=0){a[l>>2]=e;i=3;break e}i=o[t+3>>0]|0;if((i&192|0)==128){a[l>>2]=i+-128|e<<6;i=4;break e}}}}}}while(0);a[($d()|0)>>2]=84;i=-1}}while(0);f=u;return i|0}function ip(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0;c=f;f=f+16|0;o=c;l=(i|0)==0?3352:i;i=a[l>>2]|0;e:do{if(!t){if(!i)i=0;else u=15}else{s=(e|0)==0?o:e;if(!n)i=-2;else{if(!i){i=r[t>>0]|0;o=i&255;if(i<<24>>24>-1){a[s>>2]=o;i=i<<24>>24!=0&1;break}i=o+-194|0;if(i>>>0>50){u=15;break}i=a[2976+(i<<2)>>2]|0;o=n+-1|0;if(o){t=t+1|0;u=9}}else{o=n;u=9}t:do{if((u|0)==9){e=r[t>>0]|0;d=(e&255)>>>3;if((d+-16|d+(i>>26))>>>0>7){u=15;break e}while(1){t=t+1|0;i=(e&255)+-128|i<<6;o=o+-1|0;if((i|0)>=0)break;if(!o)break t;e=r[t>>0]|0;if((e&-64)<<24>>24!=-128){u=15;break e}}a[l>>2]=0;a[s>>2]=i;i=n-o|0;break e}}while(0);a[l>>2]=i;i=-2}}}while(0);if((u|0)==15){a[l>>2]=0;a[($d()|0)>>2]=84;i=-1}f=c;return i|0}function ap(e){e=e|0;if(!e)e=1;else e=(a[e>>2]|0)==0;return e&1|0}function op(e,t,n){e=e|0;t=t|0;n=n|0;do{if(e){if(t>>>0<128){r[e>>0]=t;e=1;break}if(t>>>0<2048){r[e>>0]=t>>>6|192;r[e+1>>0]=t&63|128;e=2;break}if(t>>>0<55296|(t&-8192|0)==57344){r[e>>0]=t>>>12|224;r[e+1>>0]=t>>>6&63|128;r[e+2>>0]=t&63|128;e=3;break}if((t+-65536|0)>>>0<1048576){r[e>>0]=t>>>18|240;r[e+1>>0]=t>>>12&63|128;r[e+2>>0]=t>>>6&63|128;r[e+3>>0]=t&63|128;e=4;break}else{a[($d()|0)>>2]=84;e=-1;break}}else e=1
}while(0);return e|0}function sp(e,t,n){e=e|0;t=t|0;n=n|0;return ip(0,e,t,(n|0)!=0?n:3356)|0}function lp(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0;u=f;f=f+16|0;l=u;e:do{if(!e){e=a[t>>2]|0;i=a[e>>2]|0;if(!i)n=0;else{n=0;do{if(i>>>0>127){i=op(l,i,0)|0;if((i|0)==-1){n=-1;break e}}else i=1;n=i+n|0;e=e+4|0;i=a[e>>2]|0}while((i|0)!=0)}}else{t:do{if(n>>>0>3){i=n;o=a[t>>2]|0;while(1){s=a[o>>2]|0;if((s+-1|0)>>>0>126){if(!s)break;s=op(e,s,0)|0;if((s|0)==-1){n=-1;break e}e=e+s|0;i=i-s|0}else{r[e>>0]=s;e=e+1|0;i=i+-1|0;o=a[t>>2]|0}o=o+4|0;a[t>>2]=o;if(i>>>0<=3)break t}r[e>>0]=0;a[t>>2]=0;n=n-i|0;break e}else i=n}while(0);if(i){o=a[t>>2]|0;while(1){s=a[o>>2]|0;if((s+-1|0)>>>0>126){if(!s){o=19;break}s=op(l,s,0)|0;if((s|0)==-1){n=-1;break e}if(i>>>0<s>>>0){o=22;break}op(e,a[o>>2]|0,0)|0;e=e+s|0;i=i-s|0}else{r[e>>0]=s;e=e+1|0;i=i+-1|0;o=a[t>>2]|0}o=o+4|0;a[t>>2]=o;if(!i)break e}if((o|0)==19){r[e>>0]=0;a[t>>2]=0;n=n-i|0;break}else if((o|0)==22){n=n-i|0;break}}}}while(0);f=u;return n|0}function up(e,t){e=e|0;t=t|0;if(!e)e=0;else e=op(e,t,0)|0;return e|0}function cp(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0;d=f;f=f+272|0;l=d+8|0;c=d;s=a[t>>2]|0;a[c>>2]=s;u=(e|0)!=0;i=u?r:256;r=u?e:l;e=s;e:do{if((i|0)!=0&(s|0)!=0){s=i;o=e;i=0;while(1){e=n>>>0>=s>>>0;if(!(e|n>>>0>32)){e=o;break e}e=e?s:n;n=n-e|0;e=lp(r,c,e,0)|0;if((e|0)==-1){i=n;break}h=(r|0)==(l|0);p=h?0:e;o=s-p|0;r=h?r:r+e|0;i=e+i|0;e=a[c>>2]|0;if((s|0)!=(p|0)&(e|0)!=0){s=o;o=e}else{s=o;break e}}n=i;s=0;e=a[c>>2]|0;i=-1}else{s=i;i=0}}while(0);e:do{if((e|0)!=0?(s|0)!=0&(n|0)!=0:0){o=e;e=r;while(1){r=op(e,a[o>>2]|0,0)|0;if((r+1|0)>>>0<2)break;o=(a[c>>2]|0)+4|0;a[c>>2]=o;n=n+-1|0;i=i+1|0;if(!((s|0)!=(r|0)&(n|0)!=0))break e;else{s=s-r|0;e=e+r|0}}if(!r)a[c>>2]=0;else i=-1}}while(0);if(u)a[t>>2]=a[c>>2];f=d;return i|0}function fp(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var s=0,l=0,u=0,c=0,f=0,d=0;s=a[t>>2]|0;if((i|0)!=0?(l=a[i>>2]|0,(l|0)!=0):0){if(!e){i=n;u=s;d=16}else{a[i>>2]=0;f=e;i=n;c=l;d=37}}else if(!e){i=n;d=7}else{l=e;i=n;d=6}e:while(1){if((d|0)==6){if(!i){d=26;break}else e=l;while(1){l=r[s>>0]|0;do{if(((l&255)+-1|0)>>>0<127?i>>>0>4&(s&3|0)==0:0){u=s;while(1){s=a[u>>2]|0;if((s+-16843009|s)&-2139062144){l=s;s=u;d=32;break}a[e>>2]=s&255;a[e+4>>2]=o[u+1>>0];a[e+8>>2]=o[u+2>>0];s=u+4|0;l=e+16|0;a[e+12>>2]=o[u+3>>0];i=i+-4|0;if(i>>>0>4){e=l;u=s}else{d=31;break}}if((d|0)==31){e=l;l=r[s>>0]|0;break}else if((d|0)==32){l=l&255;break}}}while(0);l=l&255;if((l+-1|0)>>>0>=127)break;s=s+1|0;a[e>>2]=l;i=i+-1|0;if(!i){d=26;break e}else e=e+4|0}l=l+-194|0;if(l>>>0>50){d=48;break}f=e;c=a[2976+(l<<2)>>2]|0;s=s+1|0;d=37;continue}else if((d|0)==7){l=r[s>>0]|0;if(((l&255)+-1|0)>>>0<127?(s&3|0)==0:0){l=a[s>>2]|0;if(!((l+-16843009|l)&-2139062144))do{s=s+4|0;i=i+-4|0;l=a[s>>2]|0}while(((l+-16843009|l)&-2139062144|0)==0);l=l&255}l=l&255;if((l+-1|0)>>>0<127){i=i+-1|0;s=s+1|0;d=7;continue}l=l+-194|0;if(l>>>0>50){d=48;break}l=a[2976+(l<<2)>>2]|0;u=s+1|0;d=16;continue}else if((d|0)==16){d=(o[u>>0]|0)>>>3;if((d+-16|d+(l>>26))>>>0>7){d=17;break}s=u+1|0;if(l&33554432){if((r[s>>0]&-64)<<24>>24!=-128){d=20;break}s=u+2|0;if(l&524288){if((r[s>>0]&-64)<<24>>24!=-128){d=23;break}s=u+3|0}}i=i+-1|0;d=7;continue}else if((d|0)==37){l=o[s>>0]|0;d=l>>>3;if((d+-16|d+(c>>26))>>>0>7){d=38;break}u=s+1|0;e=l+-128|c<<6;if((e|0)<0){l=o[u>>0]|0;if((l&192|0)!=128){d=41;break}u=s+2|0;e=l+-128|e<<6;if((e|0)<0){l=o[u>>0]|0;if((l&192|0)!=128){d=44;break}e=l+-128|e<<6;s=s+3|0}else s=u}else s=u;a[f>>2]=e;l=f+4|0;i=i+-1|0;d=6;continue}}if((d|0)==17){s=u+-1|0;d=47}else if((d|0)==20){s=u+-1|0;d=47}else if((d|0)==23){s=u+-1|0;d=47}else if((d|0)==26)a[t>>2]=s;else if((d|0)==38){e=f;l=c;s=s+-1|0;d=47}else if((d|0)==41){i=f;n=s+-1|0;d=52}else if((d|0)==44){i=f;n=s+-1|0;d=52}if((d|0)==47)if(!l)d=48;else{i=e;n=s;d=52}if((d|0)==48)if(!(r[s>>0]|0)){if(e){a[e>>2]=0;a[t>>2]=0}n=n-i|0}else{i=e;n=s;d=52}if((d|0)==52){a[($d()|0)>>2]=84;if(!i)n=-1;else{a[t>>2]=n;n=-1}}return n|0}function dp(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0;h=f;f=f+1040|0;c=h+8|0;p=h;u=a[t>>2]|0;a[p>>2]=u;d=(e|0)!=0;r=d?r:256;e=d?e:c;o=u;e:do{if((r|0)!=0&(u|0)!=0){l=r;u=o;r=0;while(1){o=n>>>2;s=o>>>0>=l>>>0;if(!(n>>>0>131|s)){o=u;break e}o=s?l:o;n=n-o|0;o=fp(e,p,o,i)|0;if((o|0)==-1){r=n;break}y=(e|0)==(c|0);u=y?0:o;s=l-u|0;e=y?e:e+(o<<2)|0;r=o+r|0;o=a[p>>2]|0;if((l|0)!=(u|0)&(o|0)!=0){l=s;u=o}else{l=s;break e}}n=r;l=0;o=a[p>>2]|0;r=-1}else{l=r;r=0}}while(0);e:do{if((o|0)!=0?(l|0)!=0&(n|0)!=0:0){s=o;o=e;while(1){e=ip(o,s,n,i)|0;if((e+2|0)>>>0<3)break;s=(a[p>>2]|0)+e|0;a[p>>2]=s;l=l+-1|0;r=r+1|0;if(!((l|0)!=0&(n|0)!=(e|0)))break e;else{n=n-e|0;o=o+4|0}}switch(e|0){case-1:{r=-1;break e}case 0:{a[p>>2]=0;break e}default:{a[i>>2]=0;break e}}}}while(0);if(d)a[t>>2]=a[p>>2];f=h;return r|0}function pp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,M=0,R=0,D=0,F=0,B=0,j=0;B=f;f=f+512|0;M=B;switch(t|0){case 0:{F=24;D=-149;A=4;break}case 1:{F=53;D=-1074;A=4;break}case 2:{F=53;D=-1074;A=4;break}default:i=0}e:do{if((A|0)==4){T=e+4|0;C=e+100|0;do{t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0}while((sd(t)|0)!=0);t:do{switch(t|0){case 43:case 45:{s=1-(((t|0)==45&1)<<1)|0;t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0;R=s;break t}else{t=_p(e)|0;R=s;break t}}default:R=1}}while(0);s=t;t=0;do{if((s|32|0)!=(r[18998+t>>0]|0))break;do{if(t>>>0<7){s=a[T>>2]|0;if(s>>>0<(a[C>>2]|0)>>>0){a[T>>2]=s+1;s=o[s>>0]|0;break}else{s=_p(e)|0;break}}}while(0);t=t+1|0}while(t>>>0<8);t:do{switch(t|0){case 8:break;case 3:{A=23;break}default:{u=(n|0)!=0;if(u&t>>>0>3)if((t|0)==8)break t;else{A=23;break t}n:do{if(!t){t=0;do{if((s|32|0)!=(r[20837+t>>0]|0))break n;do{if(t>>>0<2){s=a[T>>2]|0;if(s>>>0<(a[C>>2]|0)>>>0){a[T>>2]=s+1;s=o[s>>0]|0;break}else{s=_p(e)|0;break}}}while(0);t=t+1|0}while(t>>>0<3)}}while(0);switch(t|0){case 3:{t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;if((t|0)==40)t=1;else{if(!(a[C>>2]|0)){i=w;break e}a[T>>2]=(a[T>>2]|0)+-1;i=w;break e}while(1){s=a[T>>2]|0;if(s>>>0<(a[C>>2]|0)>>>0){a[T>>2]=s+1;s=o[s>>0]|0}else s=_p(e)|0;if(!((s+-48|0)>>>0<10|(s+-65|0)>>>0<26)?!((s|0)==95|(s+-97|0)>>>0<26):0)break;t=t+1|0}if((s|0)==41){i=w;break e}s=(a[C>>2]|0)==0;if(!s)a[T>>2]=(a[T>>2]|0)+-1;if(!u){a[($d()|0)>>2]=22;mp(e,0);i=0;break e}if(!t){i=w;break e}while(1){t=t+-1|0;if(!s)a[T>>2]=(a[T>>2]|0)+-1;if(!t){i=w;break e}}}case 0:{do{if((s|0)==48){t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;if((t|32|0)!=120){if(!(a[C>>2]|0)){t=48;break}a[T>>2]=(a[T>>2]|0)+-1;t=48;break}t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0;u=0}else{t=_p(e)|0;u=0}n:while(1){switch(t|0){case 46:{A=74;break n}case 48:break;default:{I=0;c=0;S=0;s=0;p=u;h=0;v=0;d=1;u=0;i=0;break n}}t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0;u=1;continue}else{t=_p(e)|0;u=1;continue}}if((A|0)==74){t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;if((t|0)==48){u=0;s=0;do{t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;u=Hc(u|0,s|0,-1,-1)|0;s=N}while((t|0)==48);I=0;c=0;S=u;p=1;h=1;v=0;d=1;u=0;i=0}else{I=0;c=0;S=0;s=0;p=u;h=1;v=0;d=1;u=0;i=0}}while(1){g=t+-48|0;y=t|32;if(g>>>0>=10){b=(t|0)==46;if(!(b|(y+-97|0)>>>0<6)){y=S;g=I;break}if(b){if(!h){b=c;s=I;g=I;h=1;y=v;l=d}else{y=S;g=I;t=46;break}}else A=86}else A=86;if((A|0)==86){A=0;t=(t|0)>57?y+-87|0:g;do{if(!((I|0)<0|(I|0)==0&c>>>0<8)){if((I|0)<0|(I|0)==0&c>>>0<14){_=d*.0625;y=v;l=_;i=i+_*+(t|0);break}if((v|0)!=0|(t|0)==0){y=v;l=d}else{y=1;l=d;i=i+d*.5}}else{y=v;l=d;u=t+(u<<4)|0}}while(0);c=Hc(c|0,I|0,1,0)|0;b=S;g=N;p=1}t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;I=g;S=b;t=o[t>>0]|0;v=y;d=l;continue}else{I=g;S=b;t=_p(e)|0;v=y;d=l;continue}}if(!p){t=(a[C>>2]|0)==0;if(!t)a[T>>2]=(a[T>>2]|0)+-1;if(n){if(!t?(E=a[T>>2]|0,a[T>>2]=E+-1,(h|0)!=0):0)a[T>>2]=E+-2}else mp(e,0);i=+(R|0)*0;break e}p=(h|0)==0;h=p?c:y
;p=p?g:s;if((g|0)<0|(g|0)==0&c>>>0<8){s=g;do{u=u<<4;c=Hc(c|0,s|0,1,0)|0;s=N}while((s|0)<0|(s|0)==0&c>>>0<8)}if((t|32|0)==112){s=Ip(e,n)|0;t=N;if((s|0)==0&(t|0)==-2147483648){if(!n){mp(e,0);i=0;break e}if(!(a[C>>2]|0)){s=0;t=0}else{a[T>>2]=(a[T>>2]|0)+-1;s=0;t=0}}}else if(!(a[C>>2]|0)){s=0;t=0}else{a[T>>2]=(a[T>>2]|0)+-1;s=0;t=0}M=Vc(h|0,p|0,2)|0;M=Hc(M|0,N|0,-32,-1)|0;t=Hc(M|0,N|0,s|0,t|0)|0;s=N;if(!u){i=+(R|0)*0;break e}if((s|0)>0|(s|0)==0&t>>>0>(0-D|0)>>>0){a[($d()|0)>>2]=34;i=+(R|0)*1.7976931348623157e308*1.7976931348623157e308;break e}M=D+-106|0;O=((M|0)<0)<<31>>31;if((s|0)<(O|0)|(s|0)==(O|0)&t>>>0<M>>>0){a[($d()|0)>>2]=34;i=+(R|0)*2.2250738585072014e-308*2.2250738585072014e-308;break e}if((u|0)>-1){do{O=!(i>=.5);M=O&1|u<<1;u=M^1;i=i+(O?i:i+-1);t=Hc(t|0,s|0,-1,-1)|0;s=N}while((M|0)>-1);c=t;d=i}else{c=t;d=i}t=Lc(32,0,D|0,((D|0)<0)<<31>>31|0)|0;t=Hc(c|0,s|0,t|0,N|0)|0;D=N;if(0>(D|0)|0==(D|0)&F>>>0>t>>>0){if((t|0)<0){t=0;A=127}else A=125}else{t=F;A=125}if((A|0)==125)if((t|0)<53)A=127;else{s=t;l=+(R|0);i=0}if((A|0)==127){i=+(R|0);s=t;l=i;i=+ad(+Zf(1,84-t|0),i)}F=(u&1|0)==0&(d!=0&(s|0)<32);i=l*(F?0:d)+(i+l*+(((F&1)+u|0)>>>0))-i;if(!(i!=0))a[($d()|0)>>2]=34;i=+ed(i,c);break e}else t=s}while(0);P=D+F|0;O=0-P|0;u=0;n:while(1){switch(t|0){case 46:{A=138;break n}case 48:break;default:{s=0;y=0;h=0;break n}}t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0;u=1;continue}else{t=_p(e)|0;u=1;continue}}if((A|0)==138){t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;if((t|0)==48){s=0;t=0;while(1){s=Hc(s|0,t|0,-1,-1)|0;u=N;t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;if((t|0)==48)t=u;else{y=u;u=1;h=1;break}}}else{s=0;y=0;h=1}}a[M>>2]=0;p=t+-48|0;c=(t|0)==46;n:do{if(c|p>>>0<10){x=M+496|0;I=0;b=0;v=c;A=y;g=u;E=h;u=0;c=0;h=0;r:while(1){do{if(v){if(!E){s=I;y=b;E=1}else{y=A;t=I;p=b;break r}}else{v=Hc(I|0,b|0,1,0)|0;b=N;S=(t|0)!=48;if((c|0)>=125){if(!S){y=A;I=v;break}a[x>>2]=a[x>>2]|1;y=A;I=v;break}y=M+(c<<2)|0;if(u)p=t+-48+((a[y>>2]|0)*10|0)|0;a[y>>2]=p;u=u+1|0;p=(u|0)==9;y=A;I=v;g=1;u=p?0:u;c=(p&1)+c|0;h=S?v:h}}while(0);t=a[T>>2]|0;if(t>>>0<(a[C>>2]|0)>>>0){a[T>>2]=t+1;t=o[t>>0]|0}else t=_p(e)|0;p=t+-48|0;v=(t|0)==46;if(!(v|p>>>0<10)){p=E;A=161;break n}else A=y}g=(g|0)!=0;A=169}else{I=0;b=0;g=u;p=h;u=0;c=0;h=0;A=161}}while(0);do{if((A|0)==161){x=(p|0)==0;s=x?I:s;y=x?b:y;g=(g|0)!=0;if(!((t|32|0)==101&g))if((t|0)>-1){t=I;p=b;A=169;break}else{t=I;p=b;A=171;break}p=Ip(e,n)|0;t=N;if((p|0)==0&(t|0)==-2147483648){if(!n){mp(e,0);i=0;break}if(!(a[C>>2]|0)){p=0;t=0}else{a[T>>2]=(a[T>>2]|0)+-1;p=0;t=0}}s=Hc(p|0,t|0,s|0,y|0)|0;g=I;y=N;p=b;A=173}}while(0);if((A|0)==169)if(a[C>>2]|0){a[T>>2]=(a[T>>2]|0)+-1;if(g){g=t;A=173}else A=172}else A=171;if((A|0)==171)if(g){g=t;A=173}else A=172;do{if((A|0)==172){a[($d()|0)>>2]=22;mp(e,0);i=0}else if((A|0)==173){t=a[M>>2]|0;if(!t){i=+(R|0)*0;break}if(((p|0)<0|(p|0)==0&g>>>0<10)&((s|0)==(g|0)&(y|0)==(p|0))?F>>>0>30|(t>>>F|0)==0:0){i=+(R|0)*+(t>>>0);break}e=(D|0)/-2|0;T=((e|0)<0)<<31>>31;if((y|0)>(T|0)|(y|0)==(T|0)&s>>>0>e>>>0){a[($d()|0)>>2]=34;i=+(R|0)*1.7976931348623157e308*1.7976931348623157e308;break}e=D+-106|0;T=((e|0)<0)<<31>>31;if((y|0)<(T|0)|(y|0)==(T|0)&s>>>0<e>>>0){a[($d()|0)>>2]=34;i=+(R|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if(u){if((u|0)<9){p=M+(c<<2)|0;t=a[p>>2]|0;do{t=t*10|0;u=u+1|0}while((u|0)!=9);a[p>>2]=t}c=c+1|0}if((h|0)<9?(h|0)<=(s|0)&(s|0)<18:0){if((s|0)==9){i=+(R|0)*+((a[M>>2]|0)>>>0);break}if((s|0)<9){i=+(R|0)*+((a[M>>2]|0)>>>0)/+(a[3360+(8-s<<2)>>2]|0);break}e=F+27+(ne(s,-3)|0)|0;t=a[M>>2]|0;if((e|0)>30|(t>>>e|0)==0){i=+(R|0)*+(t>>>0)*+(a[3360+(s+-10<<2)>>2]|0);break}}t=(s|0)%9|0;if(!t){u=0;t=0}else{g=(s|0)>-1?t:t+9|0;p=a[3360+(8-g<<2)>>2]|0;if(c){h=1e9/(p|0)|0;u=0;t=0;y=0;do{C=M+(y<<2)|0;T=a[C>>2]|0;e=((T>>>0)/(p>>>0)|0)+t|0;a[C>>2]=e;t=ne((T>>>0)%(p>>>0)|0,h)|0;e=(y|0)==(u|0)&(e|0)==0;y=y+1|0;s=e?s+-9|0:s;u=e?y&127:u}while((y|0)!=(c|0));if(t){a[M+(c<<2)>>2]=t;c=c+1|0}}else{u=0;c=0}t=0;s=9-g+s|0}n:while(1){y=(s|0)<18;g=(s|0)==18;b=M+(u<<2)|0;do{if(!y){if(!g){I=c;break n}if((a[b>>2]|0)>>>0>=9007199){s=18;I=c;break n}}p=0;h=c+127|0;while(1){h=h&127;e=M+(h<<2)|0;T=Vc(a[e>>2]|0,0,29)|0;T=Hc(T|0,N|0,p|0,0)|0;n=N;C=n>>>0>0|(n|0)==0&T>>>0>1e9;p=Zc(T|0,n|0,1e9,0)|0;n=$c(T|0,n|0,1e9,0)|0;T=C?n:T;p=C?p:0;a[e>>2]=T;e=(h|0)==(u|0);c=(h|0)!=(c+127&127|0)|e?c:(T|0)==0?h:c;if(e)break;else h=h+-1|0}t=t+-29|0}while((p|0)==0);u=u+127&127;if((u|0)==(c|0)){e=c+127&127;c=M+((c+126&127)<<2)|0;a[c>>2]=a[c>>2]|a[M+(e<<2)>>2];c=e}a[M+(u<<2)>>2]=p;s=s+9|0}n:while(1){c=I+1&127;S=M+((I+127&127)<<2)|0;while(1){b=(s|0)==18;v=(s|0)>27?9:1;g=b^1;while(1){h=u&127;y=(h|0)==(I|0);do{if(!y){p=a[M+(h<<2)>>2]|0;if(p>>>0<9007199){A=217;break}if(p>>>0>9007199)break;p=u+1&127;if((p|0)==(I|0)){A=217;break}p=a[M+(p<<2)>>2]|0;if(p>>>0<254740991){A=217;break}if(!(p>>>0>254740991|g)){s=h;c=I;break n}}else A=217}while(0);if((A|0)==217?(A=0,b):0){A=218;break n}t=t+v|0;if((u|0)==(I|0))u=I;else break}g=(1<<v)+-1|0;b=1e9>>>v;h=u;p=0;y=u;while(1){T=M+(y<<2)|0;e=a[T>>2]|0;u=(e>>>v)+p|0;a[T>>2]=u;p=ne(e&g,b)|0;u=(y|0)==(h|0)&(u|0)==0;y=y+1&127;s=u?s+-9|0:s;u=u?y:h;if((y|0)==(I|0))break;else h=u}if(!p)continue;if((c|0)!=(u|0))break;a[S>>2]=a[S>>2]|1}a[M+(I<<2)>>2]=p;I=c}if((A|0)==218)if(y){a[M+(c+-1<<2)>>2]=0;s=I}else{s=h;c=I}i=+((a[M+(s<<2)>>2]|0)>>>0);s=u+1&127;if((s|0)==(c|0)){c=u+2&127;a[M+(c+-1<<2)>>2]=0}_=+(R|0);l=_*(i*1e9+ +((a[M+(s<<2)>>2]|0)>>>0));b=t+53|0;y=b-D|0;g=(y|0)<(F|0);s=g&1;h=g?(y|0)<0?0:y:F;if((h|0)<53){j=+ad(+Zf(1,105-h|0),l);d=+$f(l,+Zf(1,53-h|0));m=j;i=d;d=j+(l-d)}else{m=0;i=0;d=l}p=u+2&127;do{if((p|0)==(c|0))l=i;else{p=a[M+(p<<2)>>2]|0;do{if(p>>>0>=5e8){if(p>>>0>5e8){i=_*.75+i;break}if((u+3&127|0)==(c|0)){i=_*.5+i;break}else{i=_*.75+i;break}}else{if((p|0)==0?(u+3&127|0)==(c|0):0)break;i=_*.25+i}}while(0);if((53-h|0)<=1){l=i;break}if(+$f(i,1)!=0){l=i;break}l=i+1}}while(0);i=d+l-m;do{if((b&2147483647|0)>(-2-P|0)){if(+z(+i)>=9007199254740992){s=g&(h|0)==(y|0)?0:s;t=t+1|0;i=i*.5}if((t+50|0)<=(O|0)?!(l!=0&(s|0)!=0):0)break;a[($d()|0)>>2]=34}}while(0);i=+ed(i,t)}}while(0);break e}default:{if(a[C>>2]|0)a[T>>2]=(a[T>>2]|0)+-1;a[($d()|0)>>2]=22;mp(e,0);i=0;break e}}}}}while(0);if((A|0)==23){s=(a[C>>2]|0)==0;if(!s)a[T>>2]=(a[T>>2]|0)+-1;if((n|0)!=0&t>>>0>3)do{if(!s)a[T>>2]=(a[T>>2]|0)+-1;t=t+-1|0}while(t>>>0>3)}i=+(R|0)*k}}while(0);f=B;return+i}function hp(e){e=e|0;if(e>>>0>4294963200){a[($d()|0)>>2]=0-e;e=-1}return e|0}function yp(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0;e:do{if(t>>>0>36){a[($d()|0)>>2]=22;s=0;i=0}else{_=e+4|0;m=e+100|0;do{l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0}else l=_p(e)|0}while((sd(l)|0)!=0);t:do{switch(l|0){case 43:case 45:{u=((l|0)==45)<<31>>31;l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0;y=u;break t}else{l=_p(e)|0;y=u;break t}}default:y=0}}while(0);u=(t|0)==0;do{if((t&-17|0)==0&(l|0)==48){l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0}else l=_p(e)|0;if((l|32|0)!=120)if(u){t=8;p=46;break}else{p=32;break}t=a[_>>2]|0;if(t>>>0<(a[m>>2]|0)>>>0){a[_>>2]=t+1;l=o[t>>0]|0}else l=_p(e)|0;if((o[19008+l>>0]|0)>15){i=(a[m>>2]|0)==0;if(!i)a[_>>2]=(a[_>>2]|0)+-1;if(!n){mp(e,0);s=0;i=0;break e}if(i){s=0;i=0;break e}a[_>>2]=(a[_>>2]|0)+-1;s=0;i=0;break e}else{t=16;p=46}}else{t=u?10:t;if((o[19008+l>>0]|0)>>>0<t>>>0)p=32;else{if(a[m>>2]|0)a[_>>2]=(a[_>>2]|0)+-1;mp(e,0);a[($d()|0)>>2]=22;s=0;i=0;break e}}}while(0);if((p|0)==32)if((t|0)==10){t=l+-48|0;if(t>>>0<10){l=0;while(1){u=(l*10|0)+t|0;t=a[_>>2]|0;if(t>>>0<(a[m>>2]|0)>>>0){a[_>>2]=t+1;l=o[t>>0]|0}else l=_p(e)|0;t=l+-48|0;if(!(t>>>0<10&u>>>0<429496729)){t=u;break}else l=u}u=0}else{t=0;u=0}n=l+-48|0;if(n>>>0<10){while(1){c=Qc(t|0,u|0,10,0)|0;f=N;d=((n|0)<0)<<31>>31;h=~d;if(f>>>0>h>>>0|(f|0)==(h|0)&c>>>0>~n>>>0){c=t;break}t=Hc(c|0,f|0,n|0,d|0)|0;u=N;l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0}else l=_p(e)|0;n=l+-48|0;if(!(n>>>0<10&(u>>>0<429496729|(u|0)==429496729&t>>>0<2576980378))){c=t;break}}
if(n>>>0>9){l=c;t=y}else{t=10;p=72}}else{l=t;t=y}}else p=46;t:do{if((p|0)==46){if(!(t+-1&t)){p=r[19264+((t*23|0)>>>5&7)>>0]|0;u=r[19008+l>>0]|0;n=u&255;if(n>>>0<t>>>0){l=0;while(1){c=n|l<<p;l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0}else l=_p(e)|0;u=r[19008+l>>0]|0;n=u&255;if(!(c>>>0<134217728&n>>>0<t>>>0))break;else l=c}n=0}else{n=0;c=0}f=Gc(-1,-1,p|0)|0;d=N;if((u&255)>>>0>=t>>>0|(n>>>0>d>>>0|(n|0)==(d|0)&c>>>0>f>>>0)){u=n;p=72;break}else l=n;while(1){c=Vc(c|0,l|0,p|0)|0;n=N;c=u&255|c;l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0}else l=_p(e)|0;u=r[19008+l>>0]|0;if((u&255)>>>0>=t>>>0|(n>>>0>d>>>0|(n|0)==(d|0)&c>>>0>f>>>0)){u=n;p=72;break t}else l=n}}u=r[19008+l>>0]|0;n=u&255;if(n>>>0<t>>>0){l=0;while(1){c=n+(ne(l,t)|0)|0;l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0}else l=_p(e)|0;u=r[19008+l>>0]|0;n=u&255;if(!(c>>>0<119304647&n>>>0<t>>>0))break;else l=c}n=0}else{c=0;n=0}if((u&255)>>>0<t>>>0){p=Zc(-1,-1,t|0,0)|0;h=N;d=n;while(1){if(d>>>0>h>>>0|(d|0)==(h|0)&c>>>0>p>>>0){u=d;p=72;break t}n=Qc(c|0,d|0,t|0,0)|0;f=N;u=u&255;if(f>>>0>4294967295|(f|0)==-1&n>>>0>~u>>>0){u=d;p=72;break t}c=Hc(u|0,0,n|0,f|0)|0;n=N;l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0}else l=_p(e)|0;u=r[19008+l>>0]|0;if((u&255)>>>0>=t>>>0){u=n;p=72;break}else d=n}}else{u=n;p=72}}}while(0);if((p|0)==72)if((o[19008+l>>0]|0)>>>0<t>>>0){do{l=a[_>>2]|0;if(l>>>0<(a[m>>2]|0)>>>0){a[_>>2]=l+1;l=o[l>>0]|0}else l=_p(e)|0}while((o[19008+l>>0]|0)>>>0<t>>>0);a[($d()|0)>>2]=34;u=s;l=i;t=(i&1|0)==0&0==0?y:0}else{l=c;t=y}if(a[m>>2]|0)a[_>>2]=(a[_>>2]|0)+-1;if(!(u>>>0<s>>>0|(u|0)==(s|0)&l>>>0<i>>>0)){if(!((i&1|0)!=0|0!=0|(t|0)!=0)){a[($d()|0)>>2]=34;i=Hc(i|0,s|0,-1,-1)|0;s=N;break}if(u>>>0>s>>>0|(u|0)==(s|0)&l>>>0>i>>>0){a[($d()|0)>>2]=34;break}}i=((t|0)<0)<<31>>31;i=Lc(l^t|0,u^i|0,t|0,i|0)|0;s=N}}while(0);N=s;return i|0}function mp(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;a[e+104>>2]=t;n=a[e+8>>2]|0;r=a[e+4>>2]|0;i=n-r|0;a[e+108>>2]=i;if((t|0)!=0&(i|0)>(t|0))a[e+100>>2]=r+t;else a[e+100>>2]=n;return}function _p(e){e=e|0;var t=0,n=0,i=0,s=0,l=0,u=0;n=e+104|0;l=a[n>>2]|0;if((l|0)!=0?(a[e+108>>2]|0)>=(l|0):0)u=4;else{t=Kd(e)|0;if((t|0)>=0){n=a[n>>2]|0;l=a[e+8>>2]|0;if(n){s=a[e+4>>2]|0;n=n-(a[e+108>>2]|0)+-1|0;i=l;if((l-s|0)>(n|0))a[e+100>>2]=s+n;else u=9}else{i=l;u=9}if((u|0)==9)a[e+100>>2]=l;n=e+4|0;if(!i)n=a[n>>2]|0;else{n=a[n>>2]|0;e=e+108|0;a[e>>2]=i+1-n+(a[e>>2]|0)}n=n+-1|0;if((o[n>>0]|0|0)!=(t|0))r[n>>0]=t}else u=4}if((u|0)==4){a[e+100>>2]=0;t=-1}return t|0}function gp(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0;u=f;f=f+112|0;l=u;a[l>>2]=0;o=l+4|0;a[o>>2]=e;a[l+44>>2]=e;s=l+8|0;a[s>>2]=(e|0)<0?-1:e+2147483647|0;a[l+76>>2]=-1;mp(l,0);r=yp(l,n,1,r,i)|0;if(t)a[t>>2]=e+((a[o>>2]|0)+(a[l+108>>2]|0)-(a[s>>2]|0));f=u;return r|0}function bp(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;l=f;f=f+112|0;s=l;i=s;o=i+112|0;do{a[i>>2]=0;i=i+4|0}while((i|0)<(o|0));i=s+4|0;a[i>>2]=e;o=s+8|0;a[o>>2]=-1;a[s+44>>2]=e;a[s+76>>2]=-1;mp(s,0);r=+pp(s,n,1);n=(a[i>>2]|0)-(a[o>>2]|0)+(a[s+108>>2]|0)|0;if(t)a[t>>2]=(n|0)!=0?e+n|0:e;f=l;return+r}function vp(e){e=e|0;if(!(a[e+68>>2]|0))Gd(e);return}function wp(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var u=0,d=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,re=0,ie=0,ae=0,oe=0,se=0;se=f;f=f+624|0;te=se+24|0;ie=se+16|0;re=se+588|0;J=se+576|0;ee=se;q=se+536|0;oe=se+8|0;ae=se+528|0;j=(e|0)!=0;L=q+40|0;W=L;q=q+39|0;X=oe+4|0;Y=J+12|0;J=J+11|0;Q=re;Z=Y;$=Z-Q|0;U=-2-Q|0;H=Z+2|0;G=te+288|0;z=re+9|0;V=z;K=re+8|0;k=t;t=0;d=0;u=0;e:while(1){do{if((t|0)>-1)if((d|0)>(2147483647-t|0)){a[($d()|0)>>2]=75;t=-1;break}else{t=d+t|0;break}}while(0);d=r[k>>0]|0;if(!(d<<24>>24)){B=242;break}else h=k;t:while(1){switch(d<<24>>24){case 37:{d=h;B=9;break t}case 0:{d=h;break t}default:{}}F=h+1|0;d=r[F>>0]|0;h=F}t:do{if((B|0)==9)while(1){B=0;if((r[d+1>>0]|0)!=37)break t;h=h+1|0;d=d+2|0;if((r[d>>0]|0)==37)B=9;else break}}while(0);I=h-k|0;if(j?(a[e>>2]&32|0)==0:0)Yd(k,I,e)|0;if((h|0)!=(k|0)){k=d;d=I;continue}_=d+1|0;h=r[_>>0]|0;y=(h<<24>>24)+-48|0;if(y>>>0<10){F=(r[d+2>>0]|0)==36;d=F?d+3|0:_;h=r[d>>0]|0;v=F?y:-1;u=F?1:u}else{v=-1;d=_}y=h<<24>>24;t:do{if((y&-32|0)==32){_=0;do{if(!(1<<y+-32&75913))break t;_=1<<(h<<24>>24)+-32|_;d=d+1|0;h=r[d>>0]|0;y=h<<24>>24}while((y&-32|0)==32)}else _=0}while(0);do{if(h<<24>>24==42){y=d+1|0;h=(r[y>>0]|0)+-48|0;if(h>>>0<10?(r[d+2>>0]|0)==36:0){a[l+(h<<2)>>2]=10;u=1;d=d+3|0;h=a[s+((r[y>>0]|0)+-48<<3)>>2]|0}else{if(u){t=-1;break e}if(!j){d=y;S=_;u=0;F=0;break}u=(a[n>>2]|0)+(4-1)&~(4-1);h=a[u>>2]|0;a[n>>2]=u+4;u=0;d=y}if((h|0)<0){S=_|8192;F=0-h|0}else{S=_;F=h}}else{y=(h<<24>>24)+-48|0;if(y>>>0<10){h=0;do{h=(h*10|0)+y|0;d=d+1|0;y=(r[d>>0]|0)+-48|0}while(y>>>0<10);if((h|0)<0){t=-1;break e}else{S=_;F=h}}else{S=_;F=0}}}while(0);t:do{if((r[d>>0]|0)==46){y=d+1|0;h=r[y>>0]|0;if(h<<24>>24!=42){_=(h<<24>>24)+-48|0;if(_>>>0<10){d=y;h=0}else{d=y;_=0;break}while(1){h=(h*10|0)+_|0;d=d+1|0;_=(r[d>>0]|0)+-48|0;if(_>>>0>=10){_=h;break t}}}y=d+2|0;h=(r[y>>0]|0)+-48|0;if(h>>>0<10?(r[d+3>>0]|0)==36:0){a[l+(h<<2)>>2]=10;d=d+4|0;_=a[s+((r[y>>0]|0)+-48<<3)>>2]|0;break}if(u){t=-1;break e}if(j){d=(a[n>>2]|0)+(4-1)&~(4-1);_=a[d>>2]|0;a[n>>2]=d+4;d=y}else{d=y;_=0}}else _=-1}while(0);b=0;while(1){h=(r[d>>0]|0)+-65|0;if(h>>>0>57){t=-1;break e}g=d+1|0;h=r[20313+(b*58|0)+h>>0]|0;y=h&255;if((y+-1|0)>>>0<8){d=g;b=y}else{D=g;g=h;break}}if(!(g<<24>>24)){t=-1;break}h=(v|0)>-1;do{if(g<<24>>24==19){if(h){t=-1;break e}else B=52}else{if(h){a[l+(v<<2)>>2]=y;M=s+(v<<3)|0;R=a[M+4>>2]|0;B=ee;a[B>>2]=a[M>>2];a[B+4>>2]=R;B=52;break}if(!j){t=0;break e}Ep(ee,y,n)}}while(0);if((B|0)==52?(B=0,!j):0){k=D;d=I;continue}v=r[d>>0]|0;v=(b|0)!=0&(v&15|0)==3?v&-33:v;y=S&-65537;R=(S&8192|0)==0?S:y;t:do{switch(v|0){case 110:switch(b|0){case 0:{a[a[ee>>2]>>2]=t;k=D;d=I;continue e}case 1:{a[a[ee>>2]>>2]=t;k=D;d=I;continue e}case 2:{k=a[ee>>2]|0;a[k>>2]=t;a[k+4>>2]=((t|0)<0)<<31>>31;k=D;d=I;continue e}case 3:{i[a[ee>>2]>>1]=t;k=D;d=I;continue e}case 4:{r[a[ee>>2]>>0]=t;k=D;d=I;continue e}case 6:{a[a[ee>>2]>>2]=t;k=D;d=I;continue e}case 7:{k=a[ee>>2]|0;a[k>>2]=t;a[k+4>>2]=((t|0)<0)<<31>>31;k=D;d=I;continue e}default:{k=D;d=I;continue e}}case 112:{b=R|8;_=_>>>0>8?_:8;v=120;B=64;break}case 88:case 120:{b=R;B=64;break}case 111:{y=ee;h=a[y>>2]|0;y=a[y+4>>2]|0;if((h|0)==0&(y|0)==0)d=L;else{d=L;do{d=d+-1|0;r[d>>0]=h&7|48;h=Gc(h|0,y|0,3)|0;y=N}while(!((h|0)==0&(y|0)==0))}if(!(R&8)){h=R;b=0;g=20793;B=77}else{b=W-d+1|0;h=R;_=(_|0)<(b|0)?b:_;b=0;g=20793;B=77}break}case 105:case 100:{h=ee;d=a[h>>2]|0;h=a[h+4>>2]|0;if((h|0)<0){d=Lc(0,0,d|0,h|0)|0;h=N;y=ee;a[y>>2]=d;a[y+4>>2]=h;y=1;g=20793;B=76;break t}if(!(R&2048)){g=R&1;y=g;g=(g|0)==0?20793:20795;B=76}else{y=1;g=20794;B=76}break}case 117:{h=ee;d=a[h>>2]|0;h=a[h+4>>2]|0;y=0;g=20793;B=76;break}case 99:{r[q>>0]=a[ee>>2];k=q;h=1;b=0;v=20793;d=L;break}case 109:{d=ep(a[($d()|0)>>2]|0)|0;B=82;break}case 115:{d=a[ee>>2]|0;d=(d|0)!=0?d:20803;B=82;break}case 67:{a[oe>>2]=a[ee>>2];a[X>>2]=0;a[ee>>2]=oe;_=-1;B=86;break}case 83:{if(!_){xp(e,32,F,0,R);d=0;B=98}else B=86;break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{m=+c[ee>>3];a[ie>>2]=0;c[p>>3]=m;if((a[p+4>>2]|0)>=0){if(!(R&2048)){M=R&1;O=M;M=(M|0)==0?20811:20816}else{O=1;M=20813}}else{m=-m;O=1;M=20810}c[p>>3]=m;P=a[p+4>>2]&2146435072;do{if(P>>>0<2146435072|(P|0)==2146435072&0<0){w=+rd(m,ie)*2;h=w!=0;if(h)a[ie>>2]=(a[ie>>2]|0)+-1;C=v|32;if((C|0)==97){k=v&32;I=(k|0)==0?M:M+9|0;S=O|2;d=12-_|0;do{if(!(_>>>0>11|(d|0)==0)){m=8;do{d=d+-1|0;m=m*16}while((d|0)!=0);if((r[I>>0]|0)==45){m=-(m+(-w-m));break}else{m=w+m-m;break}}else m=w}while(0);h=a[ie>>2]|0;d=(h|0)<0?0-h|0:h;d=Ap(d,((d|0)<0)<<31>>31,Y)|0;if((d|0)==(Y|0)){r[J>>0]=48;d=J}r[d+-1>>0]=(h>>31&2)+43;b=d+-2|0;r[b>>0]=v+15;g=(_|0)<1;y=(R&8|0)==0;h=re;while(1){M=~~m;d=h+1|0;r[h>>0]=o[20777+M>>0]|k;m=(m-+(M|0))*16;do{if((d-Q|0)==1){if(y&(g&m==0))break;r[d>>0]=46;d=h+2|0}}while(0)
;if(!(m!=0))break;else h=d}_=(_|0)!=0&(U+d|0)<(_|0)?H+_-b|0:$-b+d|0;y=_+S|0;xp(e,32,F,y,R);if(!(a[e>>2]&32))Yd(I,S,e)|0;xp(e,48,F,y,R^65536);d=d-Q|0;if(!(a[e>>2]&32))Yd(re,d,e)|0;h=Z-b|0;xp(e,48,_-(d+h)|0,0,0);if(!(a[e>>2]&32))Yd(b,h,e)|0;xp(e,32,F,y,R^8192);d=(y|0)<(F|0)?F:y;break}d=(_|0)<0?6:_;if(h){h=(a[ie>>2]|0)+-28|0;a[ie>>2]=h;m=w*268435456}else{m=w;h=a[ie>>2]|0}P=(h|0)<0?te:G;T=P;h=P;do{x=~~m>>>0;a[h>>2]=x;h=h+4|0;m=(m-+(x>>>0))*1e9}while(m!=0);y=h;h=a[ie>>2]|0;if((h|0)>0){g=P;while(1){b=(h|0)>29?29:h;_=y+-4|0;do{if(_>>>0<g>>>0)_=g;else{h=0;do{x=Vc(a[_>>2]|0,0,b|0)|0;x=Hc(x|0,N|0,h|0,0)|0;h=N;A=$c(x|0,h|0,1e9,0)|0;a[_>>2]=A;h=Zc(x|0,h|0,1e9,0)|0;_=_+-4|0}while(_>>>0>=g>>>0);if(!h){_=g;break}_=g+-4|0;a[_>>2]=h}}while(0);while(1){if(y>>>0<=_>>>0)break;h=y+-4|0;if(!(a[h>>2]|0))y=h;else break}h=(a[ie>>2]|0)-b|0;a[ie>>2]=h;if((h|0)>0)g=_;else break}}else _=P;if((h|0)<0){I=((d+25|0)/9|0)+1|0;E=(C|0)==102;k=_;while(1){S=0-h|0;S=(S|0)>9?9:S;do{if(k>>>0<y>>>0){h=(1<<S)+-1|0;g=1e9>>>S;_=0;b=k;do{x=a[b>>2]|0;a[b>>2]=(x>>>S)+_;_=ne(x&h,g)|0;b=b+4|0}while(b>>>0<y>>>0);h=(a[k>>2]|0)==0?k+4|0:k;if(!_){_=h;break}a[y>>2]=_;_=h;y=y+4|0}else _=(a[k>>2]|0)==0?k+4|0:k}while(0);h=E?P:_;y=(y-h>>2|0)>(I|0)?h+(I<<2)|0:y;h=(a[ie>>2]|0)+S|0;a[ie>>2]=h;if((h|0)>=0){E=_;break}else k=_}}else E=_;do{if(E>>>0<y>>>0){h=(T-E>>2)*9|0;g=a[E>>2]|0;if(g>>>0<10)break;else _=10;do{_=_*10|0;h=h+1|0}while(g>>>0>=_>>>0)}else h=0}while(0);A=(C|0)==103;x=(d|0)!=0;_=d-((C|0)!=102?h:0)+((x&A)<<31>>31)|0;if((_|0)<(((y-T>>2)*9|0)+-9|0)){b=_+9216|0;_=P+4+(((b|0)/9|0)+-1024<<2)|0;b=((b|0)%9|0)+1|0;if((b|0)<9){g=10;do{g=g*10|0;b=b+1|0}while((b|0)!=9)}else g=10;S=a[_>>2]|0;I=(S>>>0)%(g>>>0)|0;b=(_+4|0)==(y|0);do{if(b&(I|0)==0)g=E;else{w=(((S>>>0)/(g>>>0)|0)&1|0)==0?9007199254740992:9007199254740994;k=(g|0)/2|0;if(I>>>0<k>>>0)m=.5;else m=b&(I|0)==(k|0)?1:1.5;do{if(O){if((r[M>>0]|0)!=45)break;w=-w;m=-m}}while(0);b=S-I|0;a[_>>2]=b;if(!(w+m!=w)){g=E;break}C=b+g|0;a[_>>2]=C;if(C>>>0>999999999){h=E;while(1){g=_+-4|0;a[_>>2]=0;if(g>>>0<h>>>0){h=h+-4|0;a[h>>2]=0}C=(a[g>>2]|0)+1|0;a[g>>2]=C;if(C>>>0>999999999)_=g;else{k=h;_=g;break}}}else k=E;h=(T-k>>2)*9|0;b=a[k>>2]|0;if(b>>>0<10){g=k;break}else g=10;do{g=g*10|0;h=h+1|0}while(b>>>0>=g>>>0);g=k}}while(0);C=_+4|0;E=g;y=y>>>0>C>>>0?C:y}S=0-h|0;while(1){if(y>>>0<=E>>>0){I=0;C=y;break}_=y+-4|0;if(!(a[_>>2]|0))y=_;else{I=1;C=y;break}}do{if(A){d=(x&1^1)+d|0;if((d|0)>(h|0)&(h|0)>-5){v=v+-1|0;d=d+-1-h|0}else{v=v+-2|0;d=d+-1|0}y=R&8;if(y)break;do{if(I){y=a[C+-4>>2]|0;if(!y){_=9;break}if(!((y>>>0)%10|0)){g=10;_=0}else{_=0;break}do{g=g*10|0;_=_+1|0}while(((y>>>0)%(g>>>0)|0|0)==0)}else _=9}while(0);y=((C-T>>2)*9|0)+-9|0;if((v|32|0)==102){y=y-_|0;y=(y|0)<0?0:y;d=(d|0)<(y|0)?d:y;y=0;break}else{y=y+h-_|0;y=(y|0)<0?0:y;d=(d|0)<(y|0)?d:y;y=0;break}}else y=R&8}while(0);k=d|y;g=(k|0)!=0&1;b=(v|32|0)==102;if(b){h=(h|0)>0?h:0;v=0}else{_=(h|0)<0?S:h;_=Ap(_,((_|0)<0)<<31>>31,Y)|0;if((Z-_|0)<2)do{_=_+-1|0;r[_>>0]=48}while((Z-_|0)<2);r[_+-1>>0]=(h>>31&2)+43;T=_+-2|0;r[T>>0]=v;h=Z-T|0;v=T}S=O+1+d+g+h|0;xp(e,32,F,S,R);if(!(a[e>>2]&32))Yd(M,O,e)|0;xp(e,48,F,S,R^65536);do{if(b){_=E>>>0>P>>>0?P:E;h=_;do{y=Ap(a[h>>2]|0,0,z)|0;do{if((h|0)==(_|0)){if((y|0)!=(z|0))break;r[K>>0]=48;y=K}else{if(y>>>0<=re>>>0)break;do{y=y+-1|0;r[y>>0]=48}while(y>>>0>re>>>0)}}while(0);if(!(a[e>>2]&32))Yd(y,V-y|0,e)|0;h=h+4|0}while(h>>>0<=P>>>0);do{if(k){if(a[e>>2]&32)break;Yd(20845,1,e)|0}}while(0);if((d|0)>0&h>>>0<C>>>0){y=h;while(1){h=Ap(a[y>>2]|0,0,z)|0;if(h>>>0>re>>>0)do{h=h+-1|0;r[h>>0]=48}while(h>>>0>re>>>0);if(!(a[e>>2]&32))Yd(h,(d|0)>9?9:d,e)|0;y=y+4|0;h=d+-9|0;if(!((d|0)>9&y>>>0<C>>>0)){d=h;break}else d=h}}xp(e,48,d+9|0,9,0)}else{b=I?C:E+4|0;if((d|0)>-1){g=(y|0)==0;_=E;do{h=Ap(a[_>>2]|0,0,z)|0;if((h|0)==(z|0)){r[K>>0]=48;h=K}do{if((_|0)==(E|0)){y=h+1|0;if(!(a[e>>2]&32))Yd(h,1,e)|0;if(g&(d|0)<1){h=y;break}if(a[e>>2]&32){h=y;break}Yd(20845,1,e)|0;h=y}else{if(h>>>0<=re>>>0)break;do{h=h+-1|0;r[h>>0]=48}while(h>>>0>re>>>0)}}while(0);y=V-h|0;if(!(a[e>>2]&32))Yd(h,(d|0)>(y|0)?y:d,e)|0;d=d-y|0;_=_+4|0}while(_>>>0<b>>>0&(d|0)>-1)}xp(e,48,d+18|0,18,0);if(a[e>>2]&32)break;Yd(v,Z-v|0,e)|0}}while(0);xp(e,32,F,S,R^8192);d=(S|0)<(F|0)?F:S}else{b=(v&32|0)!=0;g=m!=m|0!=0;h=g?0:O;_=h+3|0;xp(e,32,F,_,y);d=a[e>>2]|0;if(!(d&32)){Yd(M,h,e)|0;d=a[e>>2]|0}if(!(d&32))Yd(g?b?20837:20841:b?20829:20833,3,e)|0;xp(e,32,F,_,R^8192);d=(_|0)<(F|0)?F:_}}while(0);k=D;continue e}default:{y=R;h=_;b=0;v=20793;d=L}}}while(0);t:do{if((B|0)==64){y=ee;h=a[y>>2]|0;y=a[y+4>>2]|0;g=v&32;if(!((h|0)==0&(y|0)==0)){d=L;do{d=d+-1|0;r[d>>0]=o[20777+(h&15)>>0]|g;h=Gc(h|0,y|0,4)|0;y=N}while(!((h|0)==0&(y|0)==0));B=ee;if((b&8|0)==0|(a[B>>2]|0)==0&(a[B+4>>2]|0)==0){h=b;b=0;g=20793;B=77}else{h=b;b=2;g=20793+(v>>4)|0;B=77}}else{d=L;h=b;b=0;g=20793;B=77}}else if((B|0)==76){d=Ap(d,h,L)|0;h=R;b=y;B=77}else if((B|0)==82){B=0;R=Cd(d,0,_)|0;M=(R|0)==0;k=d;h=M?_:R-d|0;b=0;v=20793;d=M?d+_|0:R}else if((B|0)==86){B=0;h=0;d=0;g=a[ee>>2]|0;while(1){y=a[g>>2]|0;if(!y)break;d=up(ae,y)|0;if((d|0)<0|d>>>0>(_-h|0)>>>0)break;h=d+h|0;if(_>>>0>h>>>0)g=g+4|0;else break}if((d|0)<0){t=-1;break e}xp(e,32,F,h,R);if(!h){d=0;B=98}else{y=0;_=a[ee>>2]|0;while(1){d=a[_>>2]|0;if(!d){d=h;B=98;break t}d=up(ae,d)|0;y=d+y|0;if((y|0)>(h|0)){d=h;B=98;break t}if(!(a[e>>2]&32))Yd(ae,d,e)|0;if(y>>>0>=h>>>0){d=h;B=98;break}else _=_+4|0}}}}while(0);if((B|0)==98){B=0;xp(e,32,F,d,R^8192);k=D;d=(F|0)>(d|0)?F:d;continue}if((B|0)==77){B=0;y=(_|0)>-1?h&-65537:h;h=ee;h=(a[h>>2]|0)!=0|(a[h+4>>2]|0)!=0;if((_|0)!=0|h){h=(h&1^1)+(W-d)|0;k=d;h=(_|0)>(h|0)?_:h;v=g;d=L}else{k=L;h=0;v=g;d=L}}g=d-k|0;h=(h|0)<(g|0)?g:h;_=b+h|0;d=(F|0)<(_|0)?_:F;xp(e,32,d,_,y);if(!(a[e>>2]&32))Yd(v,b,e)|0;xp(e,48,d,_,y^65536);xp(e,48,h,g,0);if(!(a[e>>2]&32))Yd(k,g,e)|0;xp(e,32,d,_,y^8192);k=D}e:do{if((B|0)==242)if(!e)if(u){t=1;while(1){u=a[l+(t<<2)>>2]|0;if(!u)break;Ep(s+(t<<3)|0,u,n);t=t+1|0;if((t|0)>=10){t=1;break e}}if((t|0)<10)while(1){if(a[l+(t<<2)>>2]|0){t=-1;break e}t=t+1|0;if((t|0)>=10){t=1;break}}else t=1}else t=0}while(0);f=se;return t|0}function kp(e,t,n){e=e|0;t=t|0;n=n|0;return Zd(e,t,n)|0}function Sp(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,s=0;t=e+20|0;o=e+28|0;if((a[t>>2]|0)>>>0>(a[o>>2]|0)>>>0?(wm[a[e+36>>2]&31](e,0,0)|0,(a[t>>2]|0)==0):0)t=-1;else{s=e+4|0;n=a[s>>2]|0;r=e+8|0;i=a[r>>2]|0;if(n>>>0<i>>>0)wm[a[e+40>>2]&31](e,n-i|0,1)|0;a[e+16>>2]=0;a[o>>2]=0;a[t>>2]=0;a[r>>2]=0;a[s>>2]=0;t=0}return t|0}function Ip(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,s=0,l=0,u=0;l=e+4|0;n=a[l>>2]|0;u=e+100|0;if(n>>>0<(a[u>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=_p(e)|0;switch(n|0){case 43:case 45:{r=(n|0)==45&1;n=a[l>>2]|0;if(n>>>0<(a[u>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=_p(e)|0;if((t|0)!=0&(n+-48|0)>>>0>9?(a[u>>2]|0)!=0:0){a[l>>2]=(a[l>>2]|0)+-1;s=r}else s=r;break}default:s=0}if((n+-48|0)>>>0>9){if(!(a[u>>2]|0)){r=-2147483648;n=0}else{a[l>>2]=(a[l>>2]|0)+-1;r=-2147483648;n=0}}else{r=0;do{r=n+-48+(r*10|0)|0;n=a[l>>2]|0;if(n>>>0<(a[u>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=_p(e)|0}while((n+-48|0)>>>0<10&(r|0)<214748364);t=((r|0)<0)<<31>>31;if((n+-48|0)>>>0<10){do{t=Qc(r|0,t|0,10,0)|0;r=N;n=Hc(n|0,((n|0)<0)<<31>>31|0,-48,-1)|0;r=Hc(n|0,N|0,t|0,r|0)|0;t=N;n=a[l>>2]|0;if(n>>>0<(a[u>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=_p(e)|0}while((n+-48|0)>>>0<10&((t|0)<21474836|(t|0)==21474836&r>>>0<2061584302));i=r}else i=r;if((n+-48|0)>>>0<10)do{n=a[l>>2]|0;if(n>>>0<(a[u>>2]|0)>>>0){a[l>>2]=n+1;n=o[n>>0]|0}else n=_p(e)|0}while((n+-48|0)>>>0<10);if(a[u>>2]|0)a[l>>2]=(a[l>>2]|0)+-1;e=(s|0)!=0;n=Lc(0,0,i|0,t|0)|0;r=e?N:t;n=e?n:i}N=r;return n|0}function Ep(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0;e:do{if(t>>>0<=20)do{switch(t|0){case 9:{r=(a[n>>2]|0)+(4-1)&~(4-1);t=a[r>>2]|0;a[n>>2]=r+4;a[e>>2]=t;break e}case 10:{r=(a[n>>2]|0)+(4-1)&~(4-1);t=a[r>>2]|0;a[n>>2]=r+4;r=e;a[r>>2]=t;a[r+4>>2]=((t|0)<0)<<31>>31;break e}case 11:{r=(a[n>>2]|0)+(4-1)&~(4-1);t=a[r>>2]|0;a[n>>2]=r+4;r=e;a[r>>2]=t;a[r+4>>2]=0;break e}case 12:{r=(a[n>>2]|0)+(8-1)&~(8-1);t=r;i=a[t>>2]|0;t=a[t+4>>2]|0;a[n>>2]=r+8;r=e;a[r>>2]=i;a[r+4>>2]=t;break e}case 13:{
i=(a[n>>2]|0)+(4-1)&~(4-1);r=a[i>>2]|0;a[n>>2]=i+4;r=(r&65535)<<16>>16;i=e;a[i>>2]=r;a[i+4>>2]=((r|0)<0)<<31>>31;break e}case 14:{i=(a[n>>2]|0)+(4-1)&~(4-1);r=a[i>>2]|0;a[n>>2]=i+4;i=e;a[i>>2]=r&65535;a[i+4>>2]=0;break e}case 15:{i=(a[n>>2]|0)+(4-1)&~(4-1);r=a[i>>2]|0;a[n>>2]=i+4;r=(r&255)<<24>>24;i=e;a[i>>2]=r;a[i+4>>2]=((r|0)<0)<<31>>31;break e}case 16:{i=(a[n>>2]|0)+(4-1)&~(4-1);r=a[i>>2]|0;a[n>>2]=i+4;i=e;a[i>>2]=r&255;a[i+4>>2]=0;break e}case 17:{i=(a[n>>2]|0)+(8-1)&~(8-1);o=+c[i>>3];a[n>>2]=i+8;c[e>>3]=o;break e}case 18:{i=(a[n>>2]|0)+(8-1)&~(8-1);o=+c[i>>3];a[n>>2]=i+8;c[e>>3]=o;break e}default:break e}}while(0)}while(0);return}function Ap(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295)while(1){i=$c(e|0,t|0,10,0)|0;n=n+-1|0;r[n>>0]=i|48;i=Zc(e|0,t|0,10,0)|0;if(t>>>0>9|(t|0)==9&e>>>0>4294967295){e=i;t=N}else{e=i;break}}if(e)while(1){n=n+-1|0;r[n>>0]=(e>>>0)%10|0|48;if(e>>>0<10)break;else e=(e>>>0)/10|0}return n|0}function xp(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0;l=f;f=f+256|0;s=l;do{if((n|0)>(r|0)&(i&73728|0)==0){i=n-r|0;Uc(s|0,t|0,(i>>>0>256?256:i)|0)|0;t=a[e>>2]|0;o=(t&32|0)==0;if(i>>>0>255){r=n-r|0;do{if(o){Yd(s,256,e)|0;t=a[e>>2]|0}i=i+-256|0;o=(t&32|0)==0}while(i>>>0>255);if(o)i=r&255;else break}else if(!o)break;Yd(s,i,e)|0}}while(0);f=l;return}function Cp(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;r=e+20|0;i=a[r>>2]|0;e=(a[e+16>>2]|0)-i|0;e=e>>>0>n>>>0?n:e;zc(i|0,t|0,e|0)|0;a[r>>2]=(a[r>>2]|0)+e;return n|0}function Tp(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0;do{if(e>>>0<245){h=e>>>0<11?16:e+11&-8;e=h>>>3;u=a[1672]|0;t=u>>>e;if(t&3){t=(t&1^1)+e|0;n=6728+(t<<1<<2)|0;r=n+8|0;i=a[r>>2]|0;o=i+8|0;s=a[o>>2]|0;do{if((n|0)!=(s|0)){if(s>>>0<(a[1676]|0)>>>0)Bt();e=s+12|0;if((a[e>>2]|0)==(i|0)){a[e>>2]=n;a[r>>2]=s;break}else Bt()}else a[1672]=u&~(1<<t)}while(0);B=t<<3;a[i+4>>2]=B|3;B=i+B+4|0;a[B>>2]=a[B>>2]|1;B=o;return B|0}s=a[1674]|0;if(h>>>0>s>>>0){if(t){n=2<<e;n=t<<e&(n|0-n);n=(n&0-n)+-1|0;l=n>>>12&16;n=n>>>l;i=n>>>5&8;n=n>>>i;o=n>>>2&4;n=n>>>o;r=n>>>1&2;n=n>>>r;t=n>>>1&1;t=(i|l|o|r|t)+(n>>>t)|0;n=6728+(t<<1<<2)|0;r=n+8|0;o=a[r>>2]|0;l=o+8|0;i=a[l>>2]|0;do{if((n|0)!=(i|0)){if(i>>>0<(a[1676]|0)>>>0)Bt();e=i+12|0;if((a[e>>2]|0)==(o|0)){a[e>>2]=n;a[r>>2]=i;c=a[1674]|0;break}else Bt()}else{a[1672]=u&~(1<<t);c=s}}while(0);s=(t<<3)-h|0;a[o+4>>2]=h|3;r=o+h|0;a[r+4>>2]=s|1;a[r+s>>2]=s;if(c){i=a[1677]|0;t=c>>>3;n=6728+(t<<1<<2)|0;e=a[1672]|0;t=1<<t;if(e&t){e=n+8|0;t=a[e>>2]|0;if(t>>>0<(a[1676]|0)>>>0)Bt();else{f=e;d=t}}else{a[1672]=e|t;f=n+8|0;d=n}a[f>>2]=i;a[d+12>>2]=i;a[i+8>>2]=d;a[i+12>>2]=n}a[1674]=s;a[1677]=r;B=l;return B|0}e=a[1673]|0;if(e){n=(e&0-e)+-1|0;F=n>>>12&16;n=n>>>F;D=n>>>5&8;n=n>>>D;B=n>>>2&4;n=n>>>B;t=n>>>1&2;n=n>>>t;r=n>>>1&1;r=a[6992+((D|F|B|t|r)+(n>>>r)<<2)>>2]|0;n=(a[r+4>>2]&-8)-h|0;t=r;while(1){e=a[t+16>>2]|0;if(!e){e=a[t+20>>2]|0;if(!e){u=r;break}}t=(a[e+4>>2]&-8)-h|0;B=t>>>0<n>>>0;n=B?t:n;t=e;r=B?e:r}o=a[1676]|0;if(u>>>0<o>>>0)Bt();l=u+h|0;if(u>>>0>=l>>>0)Bt();s=a[u+24>>2]|0;r=a[u+12>>2]|0;do{if((r|0)==(u|0)){t=u+20|0;e=a[t>>2]|0;if(!e){t=u+16|0;e=a[t>>2]|0;if(!e){p=0;break}}while(1){r=e+20|0;i=a[r>>2]|0;if(i){e=i;t=r;continue}r=e+16|0;i=a[r>>2]|0;if(!i)break;else{e=i;t=r}}if(t>>>0<o>>>0)Bt();else{a[t>>2]=0;p=e;break}}else{i=a[u+8>>2]|0;if(i>>>0<o>>>0)Bt();e=i+12|0;if((a[e>>2]|0)!=(u|0))Bt();t=r+8|0;if((a[t>>2]|0)==(u|0)){a[e>>2]=r;a[t>>2]=i;p=r;break}else Bt()}}while(0);do{if(s){e=a[u+28>>2]|0;t=6992+(e<<2)|0;if((u|0)==(a[t>>2]|0)){a[t>>2]=p;if(!p){a[1673]=a[1673]&~(1<<e);break}}else{if(s>>>0<(a[1676]|0)>>>0)Bt();e=s+16|0;if((a[e>>2]|0)==(u|0))a[e>>2]=p;else a[s+20>>2]=p;if(!p)break}t=a[1676]|0;if(p>>>0<t>>>0)Bt();a[p+24>>2]=s;e=a[u+16>>2]|0;do{if(e)if(e>>>0<t>>>0)Bt();else{a[p+16>>2]=e;a[e+24>>2]=p;break}}while(0);e=a[u+20>>2]|0;if(e)if(e>>>0<(a[1676]|0)>>>0)Bt();else{a[p+20>>2]=e;a[e+24>>2]=p;break}}}while(0);if(n>>>0<16){B=n+h|0;a[u+4>>2]=B|3;B=u+B+4|0;a[B>>2]=a[B>>2]|1}else{a[u+4>>2]=h|3;a[l+4>>2]=n|1;a[l+n>>2]=n;e=a[1674]|0;if(e){i=a[1677]|0;t=e>>>3;r=6728+(t<<1<<2)|0;e=a[1672]|0;t=1<<t;if(e&t){e=r+8|0;t=a[e>>2]|0;if(t>>>0<(a[1676]|0)>>>0)Bt();else{y=e;m=t}}else{a[1672]=e|t;y=r+8|0;m=r}a[y>>2]=i;a[m+12>>2]=i;a[i+8>>2]=m;a[i+12>>2]=r}a[1674]=n;a[1677]=l}B=u+8|0;return B|0}}}else if(e>>>0<=4294967231){e=e+11|0;h=e&-8;u=a[1673]|0;if(u){n=0-h|0;e=e>>>8;if(e){if(h>>>0>16777215)l=31;else{m=(e+1048320|0)>>>16&8;P=e<<m;y=(P+520192|0)>>>16&4;P=P<<y;l=(P+245760|0)>>>16&2;l=14-(y|m|l)+(P<<l>>>15)|0;l=h>>>(l+7|0)&1|l<<1}}else l=0;t=a[6992+(l<<2)>>2]|0;e:do{if(!t){e=0;t=0;P=86}else{i=n;e=0;o=h<<((l|0)==31?0:25-(l>>>1)|0);s=t;t=0;while(1){r=a[s+4>>2]&-8;n=r-h|0;if(n>>>0<i>>>0){if((r|0)==(h|0)){e=s;t=s;P=90;break e}else t=s}else n=i;r=a[s+20>>2]|0;s=a[s+16+(o>>>31<<2)>>2]|0;e=(r|0)==0|(r|0)==(s|0)?e:r;r=(s|0)==0;if(r){P=86;break}else{i=n;o=o<<(r&1^1)}}}}while(0);if((P|0)==86){if((e|0)==0&(t|0)==0){e=2<<l;e=u&(e|0-e);if(!e)break;m=(e&0-e)+-1|0;d=m>>>12&16;m=m>>>d;f=m>>>5&8;m=m>>>f;p=m>>>2&4;m=m>>>p;y=m>>>1&2;m=m>>>y;e=m>>>1&1;e=a[6992+((f|d|p|y|e)+(m>>>e)<<2)>>2]|0}if(!e){l=n;u=t}else P=90}if((P|0)==90)while(1){P=0;m=(a[e+4>>2]&-8)-h|0;r=m>>>0<n>>>0;n=r?m:n;t=r?e:t;r=a[e+16>>2]|0;if(r){e=r;P=90;continue}e=a[e+20>>2]|0;if(!e){l=n;u=t;break}else P=90}if((u|0)!=0?l>>>0<((a[1674]|0)-h|0)>>>0:0){i=a[1676]|0;if(u>>>0<i>>>0)Bt();s=u+h|0;if(u>>>0>=s>>>0)Bt();o=a[u+24>>2]|0;n=a[u+12>>2]|0;do{if((n|0)==(u|0)){t=u+20|0;e=a[t>>2]|0;if(!e){t=u+16|0;e=a[t>>2]|0;if(!e){g=0;break}}while(1){n=e+20|0;r=a[n>>2]|0;if(r){e=r;t=n;continue}n=e+16|0;r=a[n>>2]|0;if(!r)break;else{e=r;t=n}}if(t>>>0<i>>>0)Bt();else{a[t>>2]=0;g=e;break}}else{r=a[u+8>>2]|0;if(r>>>0<i>>>0)Bt();e=r+12|0;if((a[e>>2]|0)!=(u|0))Bt();t=n+8|0;if((a[t>>2]|0)==(u|0)){a[e>>2]=n;a[t>>2]=r;g=n;break}else Bt()}}while(0);do{if(o){e=a[u+28>>2]|0;t=6992+(e<<2)|0;if((u|0)==(a[t>>2]|0)){a[t>>2]=g;if(!g){a[1673]=a[1673]&~(1<<e);break}}else{if(o>>>0<(a[1676]|0)>>>0)Bt();e=o+16|0;if((a[e>>2]|0)==(u|0))a[e>>2]=g;else a[o+20>>2]=g;if(!g)break}t=a[1676]|0;if(g>>>0<t>>>0)Bt();a[g+24>>2]=o;e=a[u+16>>2]|0;do{if(e)if(e>>>0<t>>>0)Bt();else{a[g+16>>2]=e;a[e+24>>2]=g;break}}while(0);e=a[u+20>>2]|0;if(e)if(e>>>0<(a[1676]|0)>>>0)Bt();else{a[g+20>>2]=e;a[e+24>>2]=g;break}}}while(0);do{if(l>>>0>=16){a[u+4>>2]=h|3;a[s+4>>2]=l|1;a[s+l>>2]=l;e=l>>>3;if(l>>>0<256){n=6728+(e<<1<<2)|0;t=a[1672]|0;e=1<<e;if(t&e){e=n+8|0;t=a[e>>2]|0;if(t>>>0<(a[1676]|0)>>>0)Bt();else{v=e;w=t}}else{a[1672]=t|e;v=n+8|0;w=n}a[v>>2]=s;a[w+12>>2]=s;a[s+8>>2]=w;a[s+12>>2]=n;break}e=l>>>8;if(e){if(l>>>0>16777215)n=31;else{F=(e+1048320|0)>>>16&8;B=e<<F;D=(B+520192|0)>>>16&4;B=B<<D;n=(B+245760|0)>>>16&2;n=14-(D|F|n)+(B<<n>>>15)|0;n=l>>>(n+7|0)&1|n<<1}}else n=0;r=6992+(n<<2)|0;a[s+28>>2]=n;e=s+16|0;a[e+4>>2]=0;a[e>>2]=0;e=a[1673]|0;t=1<<n;if(!(e&t)){a[1673]=e|t;a[r>>2]=s;a[s+24>>2]=r;a[s+12>>2]=s;a[s+8>>2]=s;break}i=l<<((n|0)==31?0:25-(n>>>1)|0);e=a[r>>2]|0;while(1){if((a[e+4>>2]&-8|0)==(l|0)){n=e;P=148;break}t=e+16+(i>>>31<<2)|0;n=a[t>>2]|0;if(!n){P=145;break}else{i=i<<1;e=n}}if((P|0)==145){if(t>>>0<(a[1676]|0)>>>0)Bt();else{a[t>>2]=s;a[s+24>>2]=e;a[s+12>>2]=s;a[s+8>>2]=s;break}}else if((P|0)==148){e=n+8|0;t=a[e>>2]|0;B=a[1676]|0;if(t>>>0>=B>>>0&n>>>0>=B>>>0){a[t+12>>2]=s;a[e>>2]=s;a[s+8>>2]=t;a[s+12>>2]=n;a[s+24>>2]=0;break}else Bt()}}else{B=l+h|0;a[u+4>>2]=B|3;B=u+B+4|0;a[B>>2]=a[B>>2]|1}}while(0);B=u+8|0;return B|0}}}else h=-1}while(0);n=a[1674]|0;if(n>>>0>=h>>>0){e=n-h|0;t=a[1677]|0;if(e>>>0>15){B=t+h|0;a[1677]=B;a[1674]=e;a[B+4>>2]=e|1;a[B+e>>2]=e;a[t+4>>2]=h|3}else{a[1674]=0;a[1677]=0;a[t+4>>2]=n|3;B=t+n+4|0;a[B>>2]=a[B>>2]|1}B=t+8|0;return B|0}e=a[1675]|0;if(e>>>0>h>>>0){D=e-h|0;a[1675]=D;B=a[1678]|0;F=B+h|0;a[1678]=F;a[F+4>>2]=D|1;a[B+4>>2]=h|3;B=B+8|0;return B|0}do{if(!(a[1790]|0)){e=rt(30)|0;if(!(e+-1&e)){a[1792]=e;a[1791]=e;a[1793]=-1;a[1794]=-1;a[1795]=0;a[1783]=0;a[1790]=(Ht(0)|0)&-16^1431655768;break}else Bt()}}while(0);s=h+48|0;o=a[1792]|0;l=h+47|0;i=o+l|0;o=0-o|0;u=i&o;if(u>>>0<=h>>>0){
B=0;return B|0}e=a[1782]|0;if((e|0)!=0?(v=a[1780]|0,w=v+u|0,w>>>0<=v>>>0|w>>>0>e>>>0):0){B=0;return B|0}e:do{if(!(a[1783]&4)){e=a[1678]|0;t:do{if(e){n=7136;while(1){t=a[n>>2]|0;if(t>>>0<=e>>>0?(_=n+4|0,(t+(a[_>>2]|0)|0)>>>0>e>>>0):0){r=n;n=_;break}n=a[n+8>>2]|0;if(!n){P=173;break t}}e=i-(a[1675]|0)&o;if(e>>>0<2147483647){t=Qe(e|0)|0;if((t|0)==((a[r>>2]|0)+(a[n>>2]|0)|0)){if((t|0)!=(-1|0)){s=t;i=e;P=193;break e}}else P=183}}else P=173}while(0);do{if((P|0)==173?(b=Qe(0)|0,(b|0)!=(-1|0)):0){e=b;t=a[1791]|0;n=t+-1|0;if(!(n&e))e=u;else e=u-e+(n+e&0-t)|0;t=a[1780]|0;n=t+e|0;if(e>>>0>h>>>0&e>>>0<2147483647){w=a[1782]|0;if((w|0)!=0?n>>>0<=t>>>0|n>>>0>w>>>0:0)break;t=Qe(e|0)|0;if((t|0)==(b|0)){s=b;i=e;P=193;break e}else P=183}}}while(0);t:do{if((P|0)==183){n=0-e|0;do{if(s>>>0>e>>>0&(e>>>0<2147483647&(t|0)!=(-1|0))?(k=a[1792]|0,k=l-e+k&0-k,k>>>0<2147483647):0)if((Qe(k|0)|0)==(-1|0)){Qe(n|0)|0;break t}else{e=k+e|0;break}}while(0);if((t|0)!=(-1|0)){s=t;i=e;P=193;break e}}}while(0);a[1783]=a[1783]|4;P=190}else P=190}while(0);if((((P|0)==190?u>>>0<2147483647:0)?(S=Qe(u|0)|0,I=Qe(0)|0,S>>>0<I>>>0&((S|0)!=(-1|0)&(I|0)!=(-1|0))):0)?(E=I-S|0,E>>>0>(h+40|0)>>>0):0){s=S;i=E;P=193}if((P|0)==193){e=(a[1780]|0)+i|0;a[1780]=e;if(e>>>0>(a[1781]|0)>>>0)a[1781]=e;l=a[1678]|0;do{if(l){r=7136;do{e=a[r>>2]|0;t=r+4|0;n=a[t>>2]|0;if((s|0)==(e+n|0)){A=e;x=t;C=n;T=r;P=203;break}r=a[r+8>>2]|0}while((r|0)!=0);if(((P|0)==203?(a[T+12>>2]&8|0)==0:0)?l>>>0<s>>>0&l>>>0>=A>>>0:0){a[x>>2]=C+i;B=l+8|0;B=(B&7|0)==0?0:0-B&7;F=l+B|0;B=i-B+(a[1675]|0)|0;a[1678]=F;a[1675]=B;a[F+4>>2]=B|1;a[F+B+4>>2]=40;a[1679]=a[1794];break}e=a[1676]|0;if(s>>>0<e>>>0){a[1676]=s;u=s}else u=e;n=s+i|0;e=7136;while(1){if((a[e>>2]|0)==(n|0)){t=e;P=211;break}e=a[e+8>>2]|0;if(!e){t=7136;break}}if((P|0)==211)if(!(a[e+12>>2]&8)){a[t>>2]=s;f=e+4|0;a[f>>2]=(a[f>>2]|0)+i;f=s+8|0;f=s+((f&7|0)==0?0:0-f&7)|0;e=n+8|0;e=n+((e&7|0)==0?0:0-e&7)|0;c=f+h|0;o=e-f-h|0;a[f+4>>2]=h|3;do{if((e|0)!=(l|0)){if((e|0)==(a[1677]|0)){B=(a[1674]|0)+o|0;a[1674]=B;a[1677]=c;a[c+4>>2]=B|1;a[c+B>>2]=B;break}t=a[e+4>>2]|0;if((t&3|0)==1){l=t&-8;i=t>>>3;e:do{if(t>>>0>=256){s=a[e+24>>2]|0;r=a[e+12>>2]|0;do{if((r|0)==(e|0)){n=e+16|0;r=n+4|0;t=a[r>>2]|0;if(!t){t=a[n>>2]|0;if(!t){D=0;break}}else n=r;while(1){r=t+20|0;i=a[r>>2]|0;if(i){t=i;n=r;continue}r=t+16|0;i=a[r>>2]|0;if(!i)break;else{t=i;n=r}}if(n>>>0<u>>>0)Bt();else{a[n>>2]=0;D=t;break}}else{i=a[e+8>>2]|0;if(i>>>0<u>>>0)Bt();t=i+12|0;if((a[t>>2]|0)!=(e|0))Bt();n=r+8|0;if((a[n>>2]|0)==(e|0)){a[t>>2]=r;a[n>>2]=i;D=r;break}else Bt()}}while(0);if(!s)break;t=a[e+28>>2]|0;n=6992+(t<<2)|0;do{if((e|0)!=(a[n>>2]|0)){if(s>>>0<(a[1676]|0)>>>0)Bt();t=s+16|0;if((a[t>>2]|0)==(e|0))a[t>>2]=D;else a[s+20>>2]=D;if(!D)break e}else{a[n>>2]=D;if(D)break;a[1673]=a[1673]&~(1<<t);break e}}while(0);r=a[1676]|0;if(D>>>0<r>>>0)Bt();a[D+24>>2]=s;t=e+16|0;n=a[t>>2]|0;do{if(n)if(n>>>0<r>>>0)Bt();else{a[D+16>>2]=n;a[n+24>>2]=D;break}}while(0);t=a[t+4>>2]|0;if(!t)break;if(t>>>0<(a[1676]|0)>>>0)Bt();else{a[D+20>>2]=t;a[t+24>>2]=D;break}}else{n=a[e+8>>2]|0;r=a[e+12>>2]|0;t=6728+(i<<1<<2)|0;do{if((n|0)!=(t|0)){if(n>>>0<u>>>0)Bt();if((a[n+12>>2]|0)==(e|0))break;Bt()}}while(0);if((r|0)==(n|0)){a[1672]=a[1672]&~(1<<i);break}do{if((r|0)==(t|0))N=r+8|0;else{if(r>>>0<u>>>0)Bt();t=r+8|0;if((a[t>>2]|0)==(e|0)){N=t;break}Bt()}}while(0);a[n+12>>2]=r;a[N>>2]=n}}while(0);e=e+l|0;o=l+o|0}e=e+4|0;a[e>>2]=a[e>>2]&-2;a[c+4>>2]=o|1;a[c+o>>2]=o;e=o>>>3;if(o>>>0<256){n=6728+(e<<1<<2)|0;t=a[1672]|0;e=1<<e;do{if(!(t&e)){a[1672]=t|e;F=n+8|0;B=n}else{e=n+8|0;t=a[e>>2]|0;if(t>>>0>=(a[1676]|0)>>>0){F=e;B=t;break}Bt()}}while(0);a[F>>2]=c;a[B+12>>2]=c;a[c+8>>2]=B;a[c+12>>2]=n;break}e=o>>>8;do{if(!e)n=0;else{if(o>>>0>16777215){n=31;break}F=(e+1048320|0)>>>16&8;B=e<<F;D=(B+520192|0)>>>16&4;B=B<<D;n=(B+245760|0)>>>16&2;n=14-(D|F|n)+(B<<n>>>15)|0;n=o>>>(n+7|0)&1|n<<1}}while(0);r=6992+(n<<2)|0;a[c+28>>2]=n;e=c+16|0;a[e+4>>2]=0;a[e>>2]=0;e=a[1673]|0;t=1<<n;if(!(e&t)){a[1673]=e|t;a[r>>2]=c;a[c+24>>2]=r;a[c+12>>2]=c;a[c+8>>2]=c;break}i=o<<((n|0)==31?0:25-(n>>>1)|0);e=a[r>>2]|0;while(1){if((a[e+4>>2]&-8|0)==(o|0)){n=e;P=281;break}t=e+16+(i>>>31<<2)|0;n=a[t>>2]|0;if(!n){P=278;break}else{i=i<<1;e=n}}if((P|0)==278){if(t>>>0<(a[1676]|0)>>>0)Bt();else{a[t>>2]=c;a[c+24>>2]=e;a[c+12>>2]=c;a[c+8>>2]=c;break}}else if((P|0)==281){e=n+8|0;t=a[e>>2]|0;B=a[1676]|0;if(t>>>0>=B>>>0&n>>>0>=B>>>0){a[t+12>>2]=c;a[e>>2]=c;a[c+8>>2]=t;a[c+12>>2]=n;a[c+24>>2]=0;break}else Bt()}}else{B=(a[1675]|0)+o|0;a[1675]=B;a[1678]=c;a[c+4>>2]=B|1}}while(0);B=f+8|0;return B|0}else t=7136;while(1){e=a[t>>2]|0;if(e>>>0<=l>>>0?(O=e+(a[t+4>>2]|0)|0,O>>>0>l>>>0):0){t=O;break}t=a[t+8>>2]|0}o=t+-47|0;n=o+8|0;n=o+((n&7|0)==0?0:0-n&7)|0;o=l+16|0;n=n>>>0<o>>>0?l:n;e=n+8|0;r=s+8|0;r=(r&7|0)==0?0:0-r&7;B=s+r|0;r=i+-40-r|0;a[1678]=B;a[1675]=r;a[B+4>>2]=r|1;a[B+r+4>>2]=40;a[1679]=a[1794];r=n+4|0;a[r>>2]=27;a[e>>2]=a[1784];a[e+4>>2]=a[1785];a[e+8>>2]=a[1786];a[e+12>>2]=a[1787];a[1784]=s;a[1785]=i;a[1787]=0;a[1786]=e;e=n+24|0;do{e=e+4|0;a[e>>2]=7}while((e+4|0)>>>0<t>>>0);if((n|0)!=(l|0)){s=n-l|0;a[r>>2]=a[r>>2]&-2;a[l+4>>2]=s|1;a[n>>2]=s;e=s>>>3;if(s>>>0<256){n=6728+(e<<1<<2)|0;t=a[1672]|0;e=1<<e;if(t&e){e=n+8|0;t=a[e>>2]|0;if(t>>>0<(a[1676]|0)>>>0)Bt();else{M=e;R=t}}else{a[1672]=t|e;M=n+8|0;R=n}a[M>>2]=l;a[R+12>>2]=l;a[l+8>>2]=R;a[l+12>>2]=n;break}e=s>>>8;if(e){if(s>>>0>16777215)n=31;else{F=(e+1048320|0)>>>16&8;B=e<<F;D=(B+520192|0)>>>16&4;B=B<<D;n=(B+245760|0)>>>16&2;n=14-(D|F|n)+(B<<n>>>15)|0;n=s>>>(n+7|0)&1|n<<1}}else n=0;i=6992+(n<<2)|0;a[l+28>>2]=n;a[l+20>>2]=0;a[o>>2]=0;e=a[1673]|0;t=1<<n;if(!(e&t)){a[1673]=e|t;a[i>>2]=l;a[l+24>>2]=i;a[l+12>>2]=l;a[l+8>>2]=l;break}r=s<<((n|0)==31?0:25-(n>>>1)|0);e=a[i>>2]|0;while(1){if((a[e+4>>2]&-8|0)==(s|0)){n=e;P=307;break}t=e+16+(r>>>31<<2)|0;n=a[t>>2]|0;if(!n){P=304;break}else{r=r<<1;e=n}}if((P|0)==304){if(t>>>0<(a[1676]|0)>>>0)Bt();else{a[t>>2]=l;a[l+24>>2]=e;a[l+12>>2]=l;a[l+8>>2]=l;break}}else if((P|0)==307){e=n+8|0;t=a[e>>2]|0;B=a[1676]|0;if(t>>>0>=B>>>0&n>>>0>=B>>>0){a[t+12>>2]=l;a[e>>2]=l;a[l+8>>2]=t;a[l+12>>2]=n;a[l+24>>2]=0;break}else Bt()}}}else{B=a[1676]|0;if((B|0)==0|s>>>0<B>>>0)a[1676]=s;a[1784]=s;a[1785]=i;a[1787]=0;a[1681]=a[1790];a[1680]=-1;e=0;do{B=6728+(e<<1<<2)|0;a[B+12>>2]=B;a[B+8>>2]=B;e=e+1|0}while((e|0)!=32);B=s+8|0;B=(B&7|0)==0?0:0-B&7;F=s+B|0;B=i+-40-B|0;a[1678]=F;a[1675]=B;a[F+4>>2]=B|1;a[F+B+4>>2]=40;a[1679]=a[1794]}}while(0);e=a[1675]|0;if(e>>>0>h>>>0){D=e-h|0;a[1675]=D;B=a[1678]|0;F=B+h|0;a[1678]=F;a[F+4>>2]=D|1;a[B+4>>2]=h|3;B=B+8|0;return B|0}}a[($d()|0)>>2]=12;B=0;return B|0}function Pp(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0;if(!e)return;n=e+-8|0;s=a[1676]|0;if(n>>>0<s>>>0)Bt();e=a[e+-4>>2]|0;t=e&3;if((t|0)==1)Bt();r=e&-8;d=n+r|0;do{if(!(e&1)){e=a[n>>2]|0;if(!t)return;c=n+(0-e)|0;u=e+r|0;if(c>>>0<s>>>0)Bt();if((c|0)==(a[1677]|0)){e=d+4|0;t=a[e>>2]|0;if((t&3|0)!=3){m=c;o=u;break}a[1674]=u;a[e>>2]=t&-2;a[c+4>>2]=u|1;a[c+u>>2]=u;return}r=e>>>3;if(e>>>0<256){t=a[c+8>>2]|0;n=a[c+12>>2]|0;e=6728+(r<<1<<2)|0;if((t|0)!=(e|0)){if(t>>>0<s>>>0)Bt();if((a[t+12>>2]|0)!=(c|0))Bt()}if((n|0)==(t|0)){a[1672]=a[1672]&~(1<<r);m=c;o=u;break}if((n|0)!=(e|0)){if(n>>>0<s>>>0)Bt();e=n+8|0;if((a[e>>2]|0)==(c|0))i=e;else Bt()}else i=n+8|0;a[t+12>>2]=n;a[i>>2]=t;m=c;o=u;break}i=a[c+24>>2]|0;n=a[c+12>>2]|0;do{if((n|0)==(c|0)){t=c+16|0;n=t+4|0;e=a[n>>2]|0;if(!e){e=a[t>>2]|0;if(!e){l=0;break}}else t=n;while(1){n=e+20|0;r=a[n>>2]|0;if(r){e=r;t=n;continue}n=e+16|0;r=a[n>>2]|0;if(!r)break;else{e=r;t=n}}if(t>>>0<s>>>0)Bt();else{a[t>>2]=0;l=e;break}}else{r=a[c+8>>2]|0;if(r>>>0<s>>>0)Bt();e=r+12|0;if((a[e>>2]|0)!=(c|0))Bt();t=n+8|0;if((a[t>>2]|0)==(c|0)){a[e>>2]=n;a[t>>2]=r;l=n;break}else Bt()}}while(0);if(i){e=a[c+28>>2]|0;t=6992+(e<<2)|0;if((c|0)==(a[t>>2]|0)){a[t>>2]=l;if(!l){a[1673]=a[1673]&~(1<<e);m=c;o=u;break}}else{if(i>>>0<(a[1676]|0)>>>0)Bt();e=i+16|0;if((a[e>>2]|0)==(c|0))a[e>>2]=l;else a[i+20>>2]=l;if(!l){m=c;o=u;break}}n=a[1676]|0;if(l>>>0<n>>>0)Bt();a[l+24>>2]=i;e=c+16|0;t=a[e>>2]|0;do{if(t)if(t>>>0<n>>>0)Bt();else{a[l+16>>2]=t
;a[t+24>>2]=l;break}}while(0);e=a[e+4>>2]|0;if(e){if(e>>>0<(a[1676]|0)>>>0)Bt();else{a[l+20>>2]=e;a[e+24>>2]=l;m=c;o=u;break}}else{m=c;o=u}}else{m=c;o=u}}else{m=n;o=r}}while(0);if(m>>>0>=d>>>0)Bt();e=d+4|0;t=a[e>>2]|0;if(!(t&1))Bt();if(!(t&2)){if((d|0)==(a[1678]|0)){y=(a[1675]|0)+o|0;a[1675]=y;a[1678]=m;a[m+4>>2]=y|1;if((m|0)!=(a[1677]|0))return;a[1677]=0;a[1674]=0;return}if((d|0)==(a[1677]|0)){y=(a[1674]|0)+o|0;a[1674]=y;a[1677]=m;a[m+4>>2]=y|1;a[m+y>>2]=y;return}o=(t&-8)+o|0;r=t>>>3;do{if(t>>>0>=256){i=a[d+24>>2]|0;e=a[d+12>>2]|0;do{if((e|0)==(d|0)){t=d+16|0;n=t+4|0;e=a[n>>2]|0;if(!e){e=a[t>>2]|0;if(!e){p=0;break}}else t=n;while(1){n=e+20|0;r=a[n>>2]|0;if(r){e=r;t=n;continue}n=e+16|0;r=a[n>>2]|0;if(!r)break;else{e=r;t=n}}if(t>>>0<(a[1676]|0)>>>0)Bt();else{a[t>>2]=0;p=e;break}}else{t=a[d+8>>2]|0;if(t>>>0<(a[1676]|0)>>>0)Bt();n=t+12|0;if((a[n>>2]|0)!=(d|0))Bt();r=e+8|0;if((a[r>>2]|0)==(d|0)){a[n>>2]=e;a[r>>2]=t;p=e;break}else Bt()}}while(0);if(i){e=a[d+28>>2]|0;t=6992+(e<<2)|0;if((d|0)==(a[t>>2]|0)){a[t>>2]=p;if(!p){a[1673]=a[1673]&~(1<<e);break}}else{if(i>>>0<(a[1676]|0)>>>0)Bt();e=i+16|0;if((a[e>>2]|0)==(d|0))a[e>>2]=p;else a[i+20>>2]=p;if(!p)break}n=a[1676]|0;if(p>>>0<n>>>0)Bt();a[p+24>>2]=i;e=d+16|0;t=a[e>>2]|0;do{if(t)if(t>>>0<n>>>0)Bt();else{a[p+16>>2]=t;a[t+24>>2]=p;break}}while(0);e=a[e+4>>2]|0;if(e)if(e>>>0<(a[1676]|0)>>>0)Bt();else{a[p+20>>2]=e;a[e+24>>2]=p;break}}}else{t=a[d+8>>2]|0;n=a[d+12>>2]|0;e=6728+(r<<1<<2)|0;if((t|0)!=(e|0)){if(t>>>0<(a[1676]|0)>>>0)Bt();if((a[t+12>>2]|0)!=(d|0))Bt()}if((n|0)==(t|0)){a[1672]=a[1672]&~(1<<r);break}if((n|0)!=(e|0)){if(n>>>0<(a[1676]|0)>>>0)Bt();e=n+8|0;if((a[e>>2]|0)==(d|0))f=e;else Bt()}else f=n+8|0;a[t+12>>2]=n;a[f>>2]=t}}while(0);a[m+4>>2]=o|1;a[m+o>>2]=o;if((m|0)==(a[1677]|0)){a[1674]=o;return}}else{a[e>>2]=t&-2;a[m+4>>2]=o|1;a[m+o>>2]=o}e=o>>>3;if(o>>>0<256){n=6728+(e<<1<<2)|0;t=a[1672]|0;e=1<<e;if(t&e){e=n+8|0;t=a[e>>2]|0;if(t>>>0<(a[1676]|0)>>>0)Bt();else{h=e;y=t}}else{a[1672]=t|e;h=n+8|0;y=n}a[h>>2]=m;a[y+12>>2]=m;a[m+8>>2]=y;a[m+12>>2]=n;return}e=o>>>8;if(e){if(o>>>0>16777215)n=31;else{h=(e+1048320|0)>>>16&8;y=e<<h;p=(y+520192|0)>>>16&4;y=y<<p;n=(y+245760|0)>>>16&2;n=14-(p|h|n)+(y<<n>>>15)|0;n=o>>>(n+7|0)&1|n<<1}}else n=0;r=6992+(n<<2)|0;a[m+28>>2]=n;a[m+20>>2]=0;a[m+16>>2]=0;e=a[1673]|0;t=1<<n;do{if(e&t){i=o<<((n|0)==31?0:25-(n>>>1)|0);e=a[r>>2]|0;while(1){if((a[e+4>>2]&-8|0)==(o|0)){n=e;r=130;break}t=e+16+(i>>>31<<2)|0;n=a[t>>2]|0;if(!n){r=127;break}else{i=i<<1;e=n}}if((r|0)==127){if(t>>>0<(a[1676]|0)>>>0)Bt();else{a[t>>2]=m;a[m+24>>2]=e;a[m+12>>2]=m;a[m+8>>2]=m;break}}else if((r|0)==130){e=n+8|0;t=a[e>>2]|0;y=a[1676]|0;if(t>>>0>=y>>>0&n>>>0>=y>>>0){a[t+12>>2]=m;a[e>>2]=m;a[m+8>>2]=t;a[m+12>>2]=n;a[m+24>>2]=0;break}else Bt()}}else{a[1673]=e|t;a[r>>2]=m;a[m+24>>2]=r;a[m+12>>2]=m;a[m+8>>2]=m}}while(0);m=(a[1680]|0)+-1|0;a[1680]=m;if(!m)e=7144;else return;while(1){e=a[e>>2]|0;if(!e)break;else e=e+8|0}a[1680]=-1;return}function Op(e,t){e=e|0;t=t|0;var n=0;if(e){n=ne(t,e)|0;if((t|e)>>>0>65535)n=((n>>>0)/(e>>>0)|0|0)==(t|0)?n:-1}else n=0;t=Tp(n)|0;if(!t)return t|0;if(!(a[t+-4>>2]&3))return t|0;Uc(t|0,0,n|0)|0;return t|0}function Np(e,t){e=e|0;t=t|0;var n=0,r=0;if(!e){e=Tp(t)|0;return e|0}if(t>>>0>4294967231){a[($d()|0)>>2]=12;e=0;return e|0}n=Mp(e+-8|0,t>>>0<11?16:t+11&-8)|0;if(n){e=n+8|0;return e|0}n=Tp(t)|0;if(!n){e=0;return e|0}r=a[e+-4>>2]|0;r=(r&-8)-((r&3|0)==0?8:4)|0;zc(n|0,e|0,(r>>>0<t>>>0?r:t)|0)|0;Pp(e);e=n;return e|0}function Mp(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0;p=e+4|0;h=a[p>>2]|0;n=h&-8;c=e+n|0;l=a[1676]|0;r=h&3;if(!((r|0)!=1&e>>>0>=l>>>0&e>>>0<c>>>0))Bt();i=a[c+4>>2]|0;if(!(i&1))Bt();if(!r){if(t>>>0<256){e=0;return e|0}if(n>>>0>=(t+4|0)>>>0?(n-t|0)>>>0<=a[1792]<<1>>>0:0)return e|0;e=0;return e|0}if(n>>>0>=t>>>0){n=n-t|0;if(n>>>0<=15)return e|0;d=e+t|0;a[p>>2]=h&1|t|2;a[d+4>>2]=n|3;t=d+n+4|0;a[t>>2]=a[t>>2]|1;Zt(d,n);return e|0}if((c|0)==(a[1678]|0)){n=(a[1675]|0)+n|0;if(n>>>0<=t>>>0){e=0;return e|0}d=n-t|0;f=e+t|0;a[p>>2]=h&1|t|2;a[f+4>>2]=d|1;a[1678]=f;a[1675]=d;return e|0}if((c|0)==(a[1677]|0)){r=(a[1674]|0)+n|0;if(r>>>0<t>>>0){e=0;return e|0}n=r-t|0;if(n>>>0>15){r=e+t|0;d=r+n|0;a[p>>2]=h&1|t|2;a[r+4>>2]=n|1;a[d>>2]=n;t=d+4|0;a[t>>2]=a[t>>2]&-2}else{a[p>>2]=h&1|r|2;r=e+r+4|0;a[r>>2]=a[r>>2]|1;r=0;n=0}a[1674]=n;a[1677]=r;return e|0}if(i&2){e=0;return e|0}f=(i&-8)+n|0;if(f>>>0<t>>>0){e=0;return e|0}d=f-t|0;o=i>>>3;do{if(i>>>0>=256){s=a[c+24>>2]|0;i=a[c+12>>2]|0;do{if((i|0)==(c|0)){r=c+16|0;i=r+4|0;n=a[i>>2]|0;if(!n){n=a[r>>2]|0;if(!n){u=0;break}}else r=i;while(1){i=n+20|0;o=a[i>>2]|0;if(o){n=o;r=i;continue}i=n+16|0;o=a[i>>2]|0;if(!o)break;else{n=o;r=i}}if(r>>>0<l>>>0)Bt();else{a[r>>2]=0;u=n;break}}else{o=a[c+8>>2]|0;if(o>>>0<l>>>0)Bt();n=o+12|0;if((a[n>>2]|0)!=(c|0))Bt();r=i+8|0;if((a[r>>2]|0)==(c|0)){a[n>>2]=i;a[r>>2]=o;u=i;break}else Bt()}}while(0);if(s){n=a[c+28>>2]|0;r=6992+(n<<2)|0;if((c|0)==(a[r>>2]|0)){a[r>>2]=u;if(!u){a[1673]=a[1673]&~(1<<n);break}}else{if(s>>>0<(a[1676]|0)>>>0)Bt();n=s+16|0;if((a[n>>2]|0)==(c|0))a[n>>2]=u;else a[s+20>>2]=u;if(!u)break}i=a[1676]|0;if(u>>>0<i>>>0)Bt();a[u+24>>2]=s;n=c+16|0;r=a[n>>2]|0;do{if(r)if(r>>>0<i>>>0)Bt();else{a[u+16>>2]=r;a[r+24>>2]=u;break}}while(0);n=a[n+4>>2]|0;if(n)if(n>>>0<(a[1676]|0)>>>0)Bt();else{a[u+20>>2]=n;a[n+24>>2]=u;break}}}else{r=a[c+8>>2]|0;i=a[c+12>>2]|0;n=6728+(o<<1<<2)|0;if((r|0)!=(n|0)){if(r>>>0<l>>>0)Bt();if((a[r+12>>2]|0)!=(c|0))Bt()}if((i|0)==(r|0)){a[1672]=a[1672]&~(1<<o);break}if((i|0)!=(n|0)){if(i>>>0<l>>>0)Bt();n=i+8|0;if((a[n>>2]|0)==(c|0))s=n;else Bt()}else s=i+8|0;a[r+12>>2]=i;a[s>>2]=r}}while(0);if(d>>>0<16){a[p>>2]=f|h&1|2;t=e+f+4|0;a[t>>2]=a[t>>2]|1;return e|0}else{f=e+t|0;a[p>>2]=h&1|t|2;a[f+4>>2]=d|3;t=f+d+4|0;a[t>>2]=a[t>>2]|1;Zt(f,d);return e|0}return 0}function Rp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0,ke=0,Se=0,Ie=0,Ee=0,Ae=0,xe=0,Ce=0,Te=0,Pe=0,Oe=0,Ne=0,Me=0,Re=0,De=0,Fe=0,Be=0,je=0,Le=0,Ue=0,He=0,Ge=0,ze=0,Ve=0,Ke=0,We=0,qe=0,Xe=0,Ye=0,Je=0,Qe=0,Ze=0,$e=0,et=0,tt=0,nt=0,rt=0,it=0,at=0,ot=0,st=0,lt=0,ut=0,ct=0,ft=0,dt=0,pt=0,ht=0,yt=0,mt=0,_t=0,gt=0,bt=0,vt=0,wt=0,kt=0,St=0,It=0,Et=0,At=0,xt=0,Ct=0,Tt=0,Pt=0,Ot=0,Nt=0,Mt=0,Rt=0;Rt=f;f=f+1104|0;Nt=Rt+1072|0;Mt=Rt+1048|0;Ot=Rt+1032|0;Pt=Rt+1020|0;Ct=Rt+1008|0;xt=Rt+984|0;Tt=Rt+972|0;vt=Rt+596|0;wt=Rt+572|0;St=Rt+548|0;kt=Rt+524|0;Et=Rt+488|0;At=Rt+460|0;i=Rt+960|0;u=Rt+948|0;p=Rt+936|0;_=Rt+924|0;v=Rt+912|0;k=Rt+900|0;S=Rt+888|0;ft=Rt+876|0;dt=Rt+864|0;pt=Rt+852|0;ht=Rt+840|0;I=Rt+828|0;yt=Rt+816|0;mt=Rt+804|0;_t=Rt+792|0;gt=Rt+780|0;x=Rt+768|0;C=Rt+756|0;T=Rt+744|0;O=Rt+732|0;N=Rt+720|0;M=Rt+708|0;R=Rt+696|0;Xe=Rt+672|0;Ye=Rt+656|0;Je=Rt+644|0;Qe=Rt+632|0;Ze=Rt+620|0;D=Rt+608|0;F=Rt+584|0;B=Rt+560|0;j=Rt+536|0;L=Rt+512|0;U=Rt+472|0;H=Rt+448|0;G=Rt+436|0;pe=Rt+424|0;Ne=Rt+400|0;Me=Rt+384|0;Re=Rt+372|0;De=Rt+360|0;z=Rt+348|0;V=Rt+336|0;K=Rt+324|0;W=Rt+312|0;q=Rt+300|0;X=Rt+288|0;Y=Rt+276|0;Z=Rt+264|0;$=Rt+252|0;he=Rt+240|0;Fe=Rt+216|0;Be=Rt+204|0;je=Rt+192|0;Le=Rt+180|0;ee=Rt+168|0;it=Rt+144|0;at=Rt+132|0;ot=Rt+120|0;st=Rt+108|0;lt=Rt+96|0;ut=Rt+84|0;ct=Rt+72|0;re=Rt+60|0;ae=Rt+48|0;se=Rt+36|0;le=Rt+24|0;Ue=Rt;$e=t;ue=$e-e|0;e:do{if((ue|0)>1){ce=(ue|0)>3;if(ce?(r[e>>0]|0)==103:0){fe=(r[e+1>>0]|0)==115;He=fe;fe=fe?e+2|0:e}else{He=0;fe=e}do{switch(r[fe>>0]|0){case 76:{e=Ff(e,t,n)|0;break e}case 84:{e=jp(e,t,n)|0;break e}case 102:{e=Hf(e,t,n)|0;break e}case 97:switch(r[fe+1>>0]|0){case 97:{Nt=e+2|0;mm(i,15123,2);Mt=Gf(Nt,t,i,n)|0;nm(i);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 100:{Nt=e+2|0;mm(u,15144,1);Mt=zf(Nt,t,u,n)|0;nm(u);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 110:{Nt=e+2|0;mm(p,15144,1);Mt=Gf(Nt,t,p,n)|0;nm(p);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 78:{Nt=e+2|0;mm(_,16252,2);Mt=Gf(Nt,t,_,n)|0;nm(_);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 83:
{Nt=e+2|0;mm(v,16255,1);Mt=Gf(Nt,t,v,n)|0;nm(v);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 116:{if(((((ue|0)>2?(r[e>>0]|0)==97:0)?(r[e+1>>0]|0)==116:0)?(Pt=e+2|0,tt=om(Pt,t,n)|0,(tt|0)!=(Pt|0)):0)?(Te=a[n+4>>2]|0,(a[n>>2]|0)!=(Te|0)):0){h=Te+-24|0;Fp(Ot,h);e=im(Ot,0,16257)|0;a[Mt>>2]=a[e>>2];a[Mt+4>>2]=a[e+4>>2];a[Mt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Mt,14999)|0;a[Nt>>2]=a[e>>2];a[Nt+4>>2]=a[e+4>>2];a[Nt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}do{if(r[h>>0]&1){p=Te+-16|0;r[a[p>>2]>>0]=0;u=Te+-20|0;a[u>>2]=0;e=r[h>>0]|0;if(!(e&1))l=10;else{l=a[h>>2]|0;e=l&255;l=(l&-2)+-1|0}if(!(e&1)){i=(e&255)>>>1;if((e&255)<22){s=10;d=1;c=i}else{s=(i+16&240)+-1|0;d=1;c=i}}else{s=10;d=0;c=0}if((s|0)!=(l|0)){if((s|0)==10){o=h+1|0;i=a[p>>2]|0;if(d){zc(o|0,i|0,((e&255)>>>1)+1|0)|0;Pp(i)}else{r[o>>0]=r[i>>0]|0;Pp(i)}r[h>>0]=c<<1;break}i=s+1|0;o=Tp(i)|0;if(!(s>>>0<=l>>>0&(o|0)==0)){if(d)zc(o|0,h+1|0,((e&255)>>>1)+1|0)|0;else{Pt=a[p>>2]|0;r[o>>0]=r[Pt>>0]|0;Pp(Pt)}a[h>>2]=i|1;a[u>>2]=c;a[p>>2]=o}}}else{r[h+1>>0]=0;r[h>>0]=0}}while(0);a[h>>2]=a[Nt>>2];a[h+4>>2]=a[Nt+4>>2];a[h+8>>2]=a[Nt+8>>2];e=0;while(1){if((e|0)==3)break;a[Nt+(e<<2)>>2]=0;e=e+1|0}nm(Nt);nm(Mt);nm(Ot);e=tt}break e}case 122:{if(((((ue|0)>2?(r[e>>0]|0)==97:0)?(r[e+1>>0]|0)==122:0)?(Pt=e+2|0,nt=Rp(Pt,t,n)|0,(nt|0)!=(Pt|0)):0)?(Pe=a[n+4>>2]|0,(a[n>>2]|0)!=(Pe|0)):0){h=Pe+-24|0;Fp(Ot,h);e=im(Ot,0,16257)|0;a[Mt>>2]=a[e>>2];a[Mt+4>>2]=a[e+4>>2];a[Mt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Mt,14999)|0;a[Nt>>2]=a[e>>2];a[Nt+4>>2]=a[e+4>>2];a[Nt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}do{if(r[h>>0]&1){p=Pe+-16|0;r[a[p>>2]>>0]=0;u=Pe+-20|0;a[u>>2]=0;e=r[h>>0]|0;if(!(e&1))l=10;else{l=a[h>>2]|0;e=l&255;l=(l&-2)+-1|0}if(!(e&1)){i=(e&255)>>>1;if((e&255)<22){d=1;s=10;c=i}else{d=1;s=(i+16&240)+-1|0;c=i}}else{d=0;s=10;c=0}if((s|0)!=(l|0)){if((s|0)==10){o=h+1|0;i=a[p>>2]|0;if(d){zc(o|0,i|0,((e&255)>>>1)+1|0)|0;Pp(i)}else{r[o>>0]=r[i>>0]|0;Pp(i)}r[h>>0]=c<<1;break}i=s+1|0;o=Tp(i)|0;if(!(s>>>0<=l>>>0&(o|0)==0)){if(d)zc(o|0,h+1|0,((e&255)>>>1)+1|0)|0;else{Pt=a[p>>2]|0;r[o>>0]=r[Pt>>0]|0;Pp(Pt)}a[h>>2]=i|1;a[u>>2]=c;a[p>>2]=o}}}else{r[h+1>>0]=0;r[h>>0]=0}}while(0);a[h>>2]=a[Nt>>2];a[h+4>>2]=a[Nt+4>>2];a[h+8>>2]=a[Nt+8>>2];e=0;while(1){if((e|0)==3)break;a[Nt+(e<<2)>>2]=0;e=e+1|0}nm(Nt);nm(Mt);nm(Ot);e=nt}break e}default:break e}case 99:switch(r[fe+1>>0]|0){case 99:{if((((((ue|0)>2?(r[e>>0]|0)==99:0)?(r[e+1>>0]|0)==99:0)?(At=e+2|0,E=om(At,t,n)|0,(E|0)!=(At|0)):0)?(Ke=Rp(E,t,n)|0,(Ke|0)!=(E|0)):0)?(ve=n+4|0,A=a[ve>>2]|0,((A-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){Fp(Nt,A+-24|0);e=a[ve>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;n=o+-24|0;a[ve>>2]=n;Wy(n);o=a[ve>>2]|0}o=e+-48|0;Fp(Tt,o);e=im(Tt,0,16267)|0;a[xt>>2]=a[e>>2];a[xt+4>>2]=a[e+4>>2];a[xt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(xt,16279)|0;a[Ct>>2]=a[e>>2];a[Ct+4>>2]=a[e+4>>2];a[Ct+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=r[Nt>>0]|0;i=(e&1)==0;e=Xy(Ct,i?Nt+1|0:a[Nt+8>>2]|0,i?(e&255)>>>1:a[Nt+4>>2]|0)|0;a[Pt>>2]=a[e>>2];a[Pt+4>>2]=a[e+4>>2];a[Pt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Pt,14999)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Mt,Ot);zp(o,Mt);Wy(Mt);nm(Ot);nm(Pt);nm(Ct);nm(xt);nm(Tt);nm(Nt);e=Ke}break e}case 108:{t:do{if((((ce?(r[e>>0]|0)==99:0)?(r[e+1>>0]|0)==108:0)?(Ot=e+2|0,o=Rp(Ot,t,n)|0,!((o|0)==(Ot|0)|(o|0)==(t|0))):0)?(bt=n+4|0,P=a[bt>>2]|0,(a[n>>2]|0)!=(P|0)):0){Ot=P+-12|0;s=r[Ot>>0]|0;i=(s&1)==0;Xy(P+-24|0,i?Ot+1|0:a[P+-4>>2]|0,i?(s&255)>>>1:a[P+-8>>2]|0)|0;s=a[bt>>2]|0;i=0;while(1){if((i|0)==3)break;a[Nt+(i<<2)>>2]=0;i=i+1|0}m=s+-12|0;do{if(r[m>>0]&1){y=s+-4|0;r[a[y>>2]>>0]=0;d=s+-8|0;a[d>>2]=0;i=r[m>>0]|0;if(!(i&1))c=10;else{c=a[m>>2]|0;i=c&255;c=(c&-2)+-1|0}if(!(i&1)){s=(i&255)>>>1;if((i&255)<22){h=1;u=10;p=s}else{h=1;u=(s+16&240)+-1|0;p=s}}else{h=0;u=10;p=0}if((u|0)!=(c|0)){if((u|0)==10){l=m+1|0;s=a[y>>2]|0;if(h){zc(l|0,s|0,((i&255)>>>1)+1|0)|0;Pp(s)}else{r[l>>0]=r[s>>0]|0;Pp(s)}r[m>>0]=p<<1;break}s=u+1|0;l=Tp(s)|0;if(!(u>>>0<=c>>>0&(l|0)==0)){if(h)zc(l|0,m+1|0,((i&255)>>>1)+1|0)|0;else{Ot=a[y>>2]|0;r[l>>0]=r[Ot>>0]|0;Pp(Ot)}a[m>>2]=s|1;a[d>>2]=p;a[y>>2]=l}}}else{r[m+1>>0]=0;r[m>>0]=0}}while(0);a[m>>2]=a[Nt>>2];a[m+4>>2]=a[Nt+4>>2];a[m+8>>2]=a[Nt+8>>2];i=0;while(1){if((i|0)==3)break;a[Nt+(i<<2)>>2]=0;i=i+1|0}nm(Nt);am((a[bt>>2]|0)+-24|0,15094)|0;c=Mt+4|0;d=Mt+8|0;p=Mt+1|0;while(1){if((r[o>>0]|0)==69)break;u=Rp(o,t,n)|0;if((u|0)==(o|0)|(u|0)==(t|0))break t;i=a[bt>>2]|0;if((a[n>>2]|0)==(i|0))break t;Fp(Mt,i+-24|0);s=a[bt>>2]|0;l=s+-24|0;i=s;while(1){if((i|0)==(l|0))break;Nt=i+-24|0;a[bt>>2]=Nt;Wy(Nt);i=a[bt>>2]|0}o=r[Mt>>0]|0;i=(o&1)==0;o=i?(o&255)>>>1:a[c>>2]|0;if(o){if((a[n>>2]|0)==(l|0)){It=147;break}Xy(s+-48|0,i?p:a[d>>2]|0,o)|0}nm(Mt);o=u}if((It|0)==147){nm(Mt);break}i=a[bt>>2]|0;if((a[n>>2]|0)!=(i|0)){am(i+-24|0,14999)|0;e=o+1|0}}}while(0);break e}case 109:{Nt=e+2|0;mm(k,16282,1);Mt=Gf(Nt,t,k,n)|0;nm(k);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 111:{Nt=e+2|0;mm(S,15308,1);Mt=zf(Nt,t,S,n)|0;nm(S);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 118:{t:do{if((((ue|0)>2?(r[e>>0]|0)==99:0)?(r[e+1>>0]|0)==118:0)?(Et=n+63|0,It=r[Et>>0]|0,r[Et>>0]=0,At=e+2|0,de=om(At,t,n)|0,r[Et>>0]=It,!((de|0)==(At|0)|(de|0)==(t|0))):0){if((r[de>>0]|0)!=95){i=Rp(de,t,n)|0;if((i|0)==(de|0))break}else{i=de+1|0;if((i|0)==(t|0))break;o=r[i>>0]|0;n:do{if(o<<24>>24==69){l=n+4|0;s=a[l>>2]|0;At=a[n+8>>2]|0;u=At;if(s>>>0<At>>>0){a[s>>2]=0;a[s+4>>2]=0;a[s+8>>2]=0;a[s+12>>2]=0;a[s+16>>2]=0;a[s+20>>2]=0;o=0;while(1){if((o|0)==3)break;a[s+(o<<2)>>2]=0;o=o+1|0}o=s+12|0;s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}a[l>>2]=(a[l>>2]|0)+24;break}o=a[n>>2]|0;At=s-o|0;l=(At|0)/24|0;s=l+1|0;if((At|0)<-24)ey(n);o=(u-o|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<s>>>0?s:o}else o=2147483647;dm(Nt,o,l,n+12|0);l=Nt+8|0;u=a[l>>2]|0;a[u>>2]=0;a[u+4>>2]=0;a[u+8>>2]=0;a[u+12>>2]=0;a[u+16>>2]=0;a[u+20>>2]=0;o=0;while(1){if((o|0)==3)break;a[u+(o<<2)>>2]=0;o=o+1|0}o=u+12|0;s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}a[l>>2]=u+24;hm(n,Nt);pm(Nt)}else while(1){if(o<<24>>24==69)break n;s=Rp(i,t,n)|0;o=(s|0)==(i|0)|(s|0)==(t|0);if(o)break t;o=r[(o?i:s)>>0]|0;i=s}}while(0);i=i+1|0}l=n+4|0;o=a[l>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0>=2){Fp(Nt,o+-24|0);e=a[l>>2]|0;o=e+-24|0;s=e;while(1){if((s|0)==(o|0))break;n=s+-24|0;a[l>>2]=n;Wy(n);s=a[l>>2]|0}s=e+-48|0;Fp(Tt,s);e=im(Tt,0,15094)|0;a[xt>>2]=a[e>>2];a[xt+4>>2]=a[e+4>>2];a[xt+8>>2]=a[e+8>>2];o=0;while(1){if((o|0)==3)break;a[e+(o<<2)>>2]=0;o=o+1|0}e=am(xt,16284)|0;a[Ct>>2]=a[e>>2];a[Ct+4>>2]=a[e+4>>2];a[Ct+8>>2]=a[e+8>>2];o=0;while(1){if((o|0)==3)break;a[e+(o<<2)>>2]=0;o=o+1|0}e=r[Nt>>0]|0;o=(e&1)==0;e=Xy(Ct,o?Nt+1|0:a[Nt+8>>2]|0,o?(e&255)>>>1:a[Nt+4>>2]|0)|0;a[Pt>>2]=a[e>>2];a[Pt+4>>2]=a[e+4>>2];a[Pt+8>>2]=a[e+8>>2];o=0;while(1){if((o|0)==3)break;a[e+(o<<2)>>2]=0;o=o+1|0}e=am(Pt,14999)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];o=0;while(1){if((o|0)==3)break;a[e+(o<<2)>>2]=0;o=o+1|0}Gp(Mt,Ot);zp(s,Mt);Wy(Mt);nm(Ot);nm(Pt);nm(Ct);nm(xt);nm(Tt);nm(Nt);e=i}}}while(0);break e}default:break e}case 100:switch(r[fe+1>>0]|0){case 97:{Mt=fe+2|0;y=Rp(Mt,t,n)|0;if((y|0)==(Mt|0))break e;o=n+4|0;s=a[o>>2]|0;if((a[n>>2]|0)==(s|0))break e;h=s+-24|0;t:do{if(He)mm(pt,15282,2);else{e=0;while(1){if((e|0)==3)break t;a[pt+(e<<2)>>2]=0;e=e+1|0}}}while(0);e=am(pt,16287)|0;a[dt>>2]=a[e>>2];a[dt+4>>2]=a[e+4>>2];a[dt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Fp(ht,(a[o>>2]|0)+-24|0);e=r[ht>>0]|0;i=(e&1)==0;e=Xy(dt,i?ht+1|0:a[ht+8>>2]|0,i?(e&255)>>>1:a[ht+4>>2]|0)|0;a[ft>>2]=a[e>>2];a[ft+4>>2]=a[e+4>>2];a[ft+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}do{if(r[h>>0]&1){p=s+-16|0;r[a[p>>2]>>0]=0;u=s+-20|0;a[u>>2]=0;e=r[h>>0]|0;if(!(e&1))l=10;else{l=a[h>>2]|0;e=l&255;l=(l&-2)+-1|0}if(!(e&1)){
i=(e&255)>>>1;if((e&255)<22){d=1;s=10;c=i}else{d=1;s=(i+16&240)+-1|0;c=i}}else{d=0;s=10;c=0}if((s|0)!=(l|0)){if((s|0)==10){o=h+1|0;i=a[p>>2]|0;if(d){zc(o|0,i|0,((e&255)>>>1)+1|0)|0;Pp(i)}else{r[o>>0]=r[i>>0]|0;Pp(i)}r[h>>0]=c<<1;break}i=s+1|0;o=Tp(i)|0;if(!(s>>>0<=l>>>0&(o|0)==0)){if(d)zc(o|0,h+1|0,((e&255)>>>1)+1|0)|0;else{Mt=a[p>>2]|0;r[o>>0]=r[Mt>>0]|0;Pp(Mt)}a[h>>2]=i|1;a[u>>2]=c;a[p>>2]=o}}}else{r[h+1>>0]=0;r[h>>0]=0}}while(0);a[h>>2]=a[ft>>2];a[h+4>>2]=a[ft+4>>2];a[h+8>>2]=a[ft+8>>2];e=0;while(1){if((e|0)==3)break;a[ft+(e<<2)>>2]=0;e=e+1|0}nm(ft);nm(ht);nm(dt);nm(pt);e=y;break e}case 99:{if((((((ue|0)>2?(r[e>>0]|0)==100:0)?(r[e+1>>0]|0)==99:0)?(At=e+2|0,J=om(At,t,n)|0,(J|0)!=(At|0)):0)?(We=Rp(J,t,n)|0,(We|0)!=(J|0)):0)?(we=n+4|0,Q=a[we>>2]|0,((Q-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){Fp(Nt,Q+-24|0);e=a[we>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;n=o+-24|0;a[we>>2]=n;Wy(n);o=a[we>>2]|0}o=e+-48|0;Fp(Tt,o);e=im(Tt,0,16297)|0;a[xt>>2]=a[e>>2];a[xt+4>>2]=a[e+4>>2];a[xt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(xt,16279)|0;a[Ct>>2]=a[e>>2];a[Ct+4>>2]=a[e+4>>2];a[Ct+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=r[Nt>>0]|0;i=(e&1)==0;e=Xy(Ct,i?Nt+1|0:a[Nt+8>>2]|0,i?(e&255)>>>1:a[Nt+4>>2]|0)|0;a[Pt>>2]=a[e>>2];a[Pt+4>>2]=a[e+4>>2];a[Pt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Pt,14999)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Mt,Ot);zp(o,Mt);Wy(Mt);nm(Ot);nm(Pt);nm(Ct);nm(xt);nm(Tt);nm(Nt);e=We}break e}case 101:{Nt=e+2|0;mm(I,15139,1);Mt=zf(Nt,t,I,n)|0;nm(I);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 108:{Mt=fe+2|0;y=Rp(Mt,t,n)|0;if((y|0)==(Mt|0))break e;o=n+4|0;s=a[o>>2]|0;if((a[n>>2]|0)==(s|0))break e;h=s+-24|0;t:do{if(He)mm(_t,15282,2);else{e=0;while(1){if((e|0)==3)break t;a[_t+(e<<2)>>2]=0;e=e+1|0}}}while(0);e=am(_t,16311)|0;a[mt>>2]=a[e>>2];a[mt+4>>2]=a[e+4>>2];a[mt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Fp(gt,(a[o>>2]|0)+-24|0);e=r[gt>>0]|0;i=(e&1)==0;e=Xy(mt,i?gt+1|0:a[gt+8>>2]|0,i?(e&255)>>>1:a[gt+4>>2]|0)|0;a[yt>>2]=a[e>>2];a[yt+4>>2]=a[e+4>>2];a[yt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}do{if(r[h>>0]&1){p=s+-16|0;r[a[p>>2]>>0]=0;u=s+-20|0;a[u>>2]=0;e=r[h>>0]|0;if(!(e&1))l=10;else{l=a[h>>2]|0;e=l&255;l=(l&-2)+-1|0}if(!(e&1)){i=(e&255)>>>1;if((e&255)<22){d=1;s=10;c=i}else{d=1;s=(i+16&240)+-1|0;c=i}}else{d=0;s=10;c=0}if((s|0)!=(l|0)){if((s|0)==10){o=h+1|0;i=a[p>>2]|0;if(d){zc(o|0,i|0,((e&255)>>>1)+1|0)|0;Pp(i)}else{r[o>>0]=r[i>>0]|0;Pp(i)}r[h>>0]=c<<1;break}i=s+1|0;o=Tp(i)|0;if(!(s>>>0<=l>>>0&(o|0)==0)){if(d)zc(o|0,h+1|0,((e&255)>>>1)+1|0)|0;else{Mt=a[p>>2]|0;r[o>>0]=r[Mt>>0]|0;Pp(Mt)}a[h>>2]=i|1;a[u>>2]=c;a[p>>2]=o}}}else{r[h+1>>0]=0;r[h>>0]=0}}while(0);a[h>>2]=a[yt>>2];a[h+4>>2]=a[yt+4>>2];a[h+8>>2]=a[yt+8>>2];e=0;while(1){if((e|0)==3)break;a[yt+(e<<2)>>2]=0;e=e+1|0}nm(yt);nm(gt);nm(mt);nm(_t);e=y;break e}case 110:{e=Vf(e,t,n)|0;break e}case 115:{if((((((ue|0)>2?(r[e>>0]|0)==100:0)?(r[e+1>>0]|0)==115:0)?(Ot=e+2|0,te=Rp(Ot,t,n)|0,(te|0)!=(Ot|0)):0)?(ke=Rp(te,t,n)|0,(ke|0)!=(te|0)):0)?(Se=n+4|0,ne=a[Se>>2]|0,((ne-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){Fp(Nt,ne+-24|0);e=a[Se>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;Ot=o+-24|0;a[Se>>2]=Ot;Wy(Ot);o=a[Se>>2]|0}qp(Mt,16319,Nt);Ot=r[Mt>>0]|0;Pt=(Ot&1)==0;Xy(e+-48|0,Pt?Mt+1|0:a[Mt+8>>2]|0,Pt?(Ot&255)>>>1:a[Mt+4>>2]|0)|0;nm(Mt);nm(Nt);e=ke}break e}case 116:{if((((((ue|0)>2?(r[e>>0]|0)==100:0)?(r[e+1>>0]|0)==116:0)?(Ot=e+2|0,ie=Rp(Ot,t,n)|0,(ie|0)!=(Ot|0)):0)?(Ie=Vf(ie,t,n)|0,(Ie|0)!=(ie|0)):0)?(Ee=n+4|0,oe=a[Ee>>2]|0,((oe-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){Fp(Nt,oe+-24|0);e=a[Ee>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;Ot=o+-24|0;a[Ee>>2]=Ot;Wy(Ot);o=a[Ee>>2]|0}qp(Mt,20845,Nt);Ot=r[Mt>>0]|0;Pt=(Ot&1)==0;Xy(e+-48|0,Pt?Mt+1|0:a[Mt+8>>2]|0,Pt?(Ot&255)>>>1:a[Mt+4>>2]|0)|0;nm(Mt);nm(Nt);e=Ie}break e}case 118:{Nt=e+2|0;mm(x,16322,1);Mt=Gf(Nt,t,x,n)|0;nm(x);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 86:{Nt=e+2|0;mm(C,16324,2);Mt=Gf(Nt,t,C,n)|0;nm(C);e=(Mt|0)==(Nt|0)?e:Mt;break e}default:break e}case 101:switch(r[fe+1>>0]|0){case 111:{Nt=e+2|0;mm(T,16327,1);Mt=Gf(Nt,t,T,n)|0;nm(T);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 79:{Nt=e+2|0;mm(O,16329,2);Mt=Gf(Nt,t,O,n)|0;nm(O);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 113:{Nt=e+2|0;mm(N,16332,2);Mt=Gf(Nt,t,N,n)|0;nm(N);e=(Mt|0)==(Nt|0)?e:Mt;break e}default:break e}case 103:switch(r[fe+1>>0]|0){case 101:{Nt=e+2|0;mm(M,16335,2);Mt=Gf(Nt,t,M,n)|0;nm(M);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 116:{Nt=e+2|0;mm(R,15158,1);Mt=Gf(Nt,t,R,n)|0;nm(R);e=(Mt|0)==(Nt|0)?e:Mt;break e}default:break e}case 105:{if((r[fe+1>>0]|0)!=120)break e;Ot=e+2|0;i=Rp(Ot,t,n)|0;if((i|0)==(Ot|0))break e;l=Rp(i,t,n)|0;s=n+4|0;if((l|0)==(i|0)){o=a[s>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break e;Mt=o+-24|0;a[s>>2]=Mt;Wy(Mt);o=a[s>>2]|0}}i=a[s>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2)break e;Fp(Nt,i+-24|0);e=a[s>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;Ot=o+-24|0;a[s>>2]=Ot;Wy(Ot);o=a[s>>2]|0}Fp(Mt,e+-48|0);o=(a[s>>2]|0)+-24|0;qp(Ze,15094,Mt);e=am(Ze,16338)|0;a[Qe>>2]=a[e>>2];a[Qe+4>>2]=a[e+4>>2];a[Qe+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=r[Nt>>0]|0;i=(e&1)==0;e=Xy(Qe,i?Nt+1|0:a[Nt+8>>2]|0,i?(e&255)>>>1:a[Nt+4>>2]|0)|0;a[Je>>2]=a[e>>2];a[Je+4>>2]=a[e+4>>2];a[Je+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Je,15083)|0;a[Ye>>2]=a[e>>2];a[Ye+4>>2]=a[e+4>>2];a[Ye+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Xe,Ye);zp(o,Xe);Wy(Xe);nm(Ye);nm(Je);nm(Qe);nm(Ze);nm(Mt);nm(Nt);e=l;break e}case 108:switch(r[fe+1>>0]|0){case 101:{Nt=e+2|0;mm(D,16341,2);Mt=Gf(Nt,t,D,n)|0;nm(D);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 115:{Nt=e+2|0;mm(F,16344,2);Mt=Gf(Nt,t,F,n)|0;nm(F);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 83:{Nt=e+2|0;mm(B,16347,3);Mt=Gf(Nt,t,B,n)|0;nm(B);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 116:{Nt=e+2|0;mm(j,15156,1);Mt=Gf(Nt,t,j,n)|0;nm(j);e=(Mt|0)==(Nt|0)?e:Mt;break e}default:break e}case 109:switch(r[fe+1>>0]|0){case 105:{Nt=e+2|0;mm(L,16351,1);Mt=Gf(Nt,t,L,n)|0;nm(L);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 73:{Nt=e+2|0;mm(U,16353,2);Mt=Gf(Nt,t,U,n)|0;nm(U);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 108:{Nt=e+2|0;mm(H,15139,1);Mt=Gf(Nt,t,H,n)|0;nm(H);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 76:{Nt=e+2|0;mm(G,16356,2);Mt=Gf(Nt,t,G,n)|0;nm(G);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 109:{i=e+2|0;if((i|0)!=(t|0)?(r[i>>0]|0)==95:0){Nt=e+3|0;mm(pe,16359,2);Mt=zf(Nt,t,pe,n)|0;nm(pe);e=(Mt|0)==(Nt|0)?e:Mt;break e}s=Rp(i,t,n)|0;if((s|0)==(i|0))break e;i=a[n+4>>2]|0;if((a[n>>2]|0)==(i|0))break e;o=i+-24|0;Fp(De,o);e=im(De,0,15094)|0;a[Re>>2]=a[e>>2];a[Re+4>>2]=a[e+4>>2];a[Re+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Re,16362)|0;a[Me>>2]=a[e>>2];a[Me+4>>2]=a[e+4>>2];a[Me+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Ne,Me);zp(o,Ne);Wy(Ne);nm(Me);nm(Re);nm(De);e=s;break e}default:break e}case 110:switch(r[fe+1>>0]|0){case 119:case 97:{t:do{if(ce){i=r[e>>0]|0;if(i<<24>>24==103){b=(r[e+1>>0]|0)==115;o=b?e+2|0:e;i=r[o>>0]|0}else{b=0;o=e}if(i<<24>>24==110){i=r[o+1>>0]|0;switch(i<<24>>24){case 97:case 119:break;default:break t}_=i<<24>>24==97;i=o+2|0;n:do{if((i|0)!=(t|0)){l=0;while(1){if((r[i>>0]|0)==95)break;o=i;i=Rp(i,t,n)|0;o=(i|0)==(o|0);s=(i|0)==(t|0);if(o|s)break n;else l=l|(o|s)^1}bt=i+1|0;o=om(bt,t,n)|0;if(!((o|0)==(bt|0)|(o|0)==(t|0))){i=r[o>>0]|0;r:do{if(!(($e-o|0)>2&i<<24>>24==112)){if(i<<24>>24==69){m=0;g=o}else break n}else{if((r[o+1>>0]|0)!=105)break n;i=o+2|0;while(1){if((r[i>>0]|0)==69){m=1;g=i;break r}bt=i;i=Rp(i,t,n)|0;if((i|0)==(bt|0)|(i|0)==(t|0))break n}}}while(0);i=0;while(1){if((i|0)==3)break;a[Mt+(i<<2)>>2]=0;i=i+1|0}r:do{if(m){y=n+4|0;i=a[y>>2]|0;if((a[n>>2]|0)==(i|0)){o=e;i=1}else{Fp(Ot,i+-24|0);i:do{if(!(r[Mt>>0]&1)){r[Mt+1>>0]=0;r[Mt>>0]=0}else{c=Mt+8|0;o=a[c>>2]|0;r[o>>0]=0;d=Mt+4|0;a[d>>2]=0;p=a[Mt>>2]|0;h=(p&-2)+-1|0;s=p&255;do{if(!(s&1)){
i=p>>>1&127;if((s&255)<22){zc(Mt+1|0,o|0,(p>>>1&127)+1|0)|0;Pp(o);break}o=i+16&240;u=o+-1|0;if((u|0)==(h|0))break i;s=Tp(o)|0;if(u>>>0<=h>>>0&(s|0)==0)break i;zc(s|0,Mt+1|0,(p>>>1&127)+1|0)|0;a[Mt>>2]=o|1;a[d>>2]=i;a[c>>2]=s;break i}else{r[Mt+1>>0]=0;Pp(o);i=0}}while(0);r[Mt>>0]=i<<1}}while(0);a[Mt>>2]=a[Ot>>2];a[Mt+4>>2]=a[Ot+4>>2];a[Mt+8>>2]=a[Ot+8>>2];i=0;while(1){if((i|0)==3)break;a[Ot+(i<<2)>>2]=0;i=i+1|0}nm(Ot);i=a[y>>2]|0;o=i+-24|0;while(1){if((i|0)==(o|0)){u=n;i=o;It=409;break r}Ot=i+-24|0;a[y>>2]=Ot;Wy(Ot);i=a[y>>2]|0}}}else{i=n+4|0;y=i;u=n;i=a[i>>2]|0;It=409}}while(0);if((It|0)==409)if((a[u>>2]|0)==(i|0)){o=e;i=1}else{Fp(Pt,i+-24|0);o=a[y>>2]|0;s=o+-24|0;i=o;while(1){if((i|0)==(s|0))break;Ot=i+-24|0;a[y>>2]=Ot;Wy(Ot);i=a[y>>2]|0}i=0;while(1){if((i|0)==3)break;a[Ct+(i<<2)>>2]=0;i=i+1|0}r:do{if(l){if((a[u>>2]|0)==(s|0)){o=e;i=1}else{Fp(xt,o+-48|0);i:do{if(!(r[Ct>>0]&1)){r[Ct+1>>0]=0;r[Ct>>0]=0}else{c=Ct+8|0;o=a[c>>2]|0;r[o>>0]=0;d=Ct+4|0;a[d>>2]=0;p=a[Ct>>2]|0;h=(p&-2)+-1|0;s=p&255;do{if(!(s&1)){i=p>>>1&127;if((s&255)<22){zc(Ct+1|0,o|0,(p>>>1&127)+1|0)|0;Pp(o);break}o=i+16&240;u=o+-1|0;if((u|0)==(h|0))break i;s=Tp(o)|0;if(u>>>0<=h>>>0&(s|0)==0)break i;zc(s|0,Ct+1|0,(p>>>1&127)+1|0)|0;a[Ct>>2]=o|1;a[d>>2]=i;a[c>>2]=s;break i}else{r[Ct+1>>0]=0;Pp(o);i=0}}while(0);r[Ct>>0]=i<<1}}while(0);a[Ct>>2]=a[xt>>2];a[Ct+4>>2]=a[xt+4>>2];a[Ct+8>>2]=a[xt+8>>2];i=0;while(1){if((i|0)==3)break;a[xt+(i<<2)>>2]=0;i=i+1|0}nm(xt);o=a[y>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0)){It=434;break r}Ot=o+-24|0;a[y>>2]=Ot;Wy(Ot);o=a[y>>2]|0}}}else It=434}while(0);if((It|0)==434){i=0;while(1){if((i|0)==3)break;a[Tt+(i<<2)>>2]=0;i=i+1|0}if(b)eh(Tt,15282,2);if(_)am(Tt,16366)|0;else am(Tt,15106)|0;if(l){qp(wt,15094,Ct);i=am(wt,16370)|0;a[vt>>2]=a[i>>2];a[vt+4>>2]=a[i+4>>2];a[vt+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}Ot=r[vt>>0]|0;xt=(Ot&1)==0;Xy(Tt,xt?vt+1|0:a[vt+8>>2]|0,xt?(Ot&255)>>>1:a[vt+4>>2]|0)|0;nm(vt);nm(wt)}Ot=r[Pt>>0]|0;xt=(Ot&1)==0;Xy(Tt,xt?Pt+1|0:a[Pt+8>>2]|0,xt?(Ot&255)>>>1:a[Pt+4>>2]|0)|0;if(m){qp(kt,14996,Mt);i=am(kt,14999)|0;a[St>>2]=a[i>>2];a[St+4>>2]=a[i+4>>2];a[St+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}Ot=r[St>>0]|0;xt=(Ot&1)==0;Xy(Tt,xt?St+1|0:a[St+8>>2]|0,xt?(Ot&255)>>>1:a[St+4>>2]|0)|0;nm(St);nm(kt)}a[At>>2]=a[Tt>>2];a[At+4>>2]=a[Tt+4>>2];a[At+8>>2]=a[Tt+8>>2];i=0;while(1){if((i|0)==3)break;a[Tt+(i<<2)>>2]=0;i=i+1|0}Gp(Et,At);i=a[y>>2]|0;Ot=a[n+8>>2]|0;l=Ot;if(i>>>0<Ot>>>0){Dp(i,Et);a[y>>2]=(a[y>>2]|0)+24}else{o=a[n>>2]|0;Ot=i-o|0;u=(Ot|0)/24|0;s=u+1|0;if((Ot|0)<-24)ey(n);i=(l-o|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<s>>>0?s:i}else i=2147483647;dm(Nt,i,u,n+12|0);Ot=Nt+8|0;xt=a[Ot>>2]|0;Dp(xt,Et);a[Ot>>2]=xt+24;hm(n,Nt);pm(Nt)}Wy(Et);nm(At);nm(Tt);o=g+1|0;i=0}nm(Ct);nm(Pt)}nm(Mt);if(!i){e=o;break t}}}}while(0)}}}while(0);break e}case 101:{Nt=e+2|0;mm(z,16373,2);Mt=Gf(Nt,t,z,n)|0;nm(z);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 103:{Nt=e+2|0;mm(V,16351,1);Mt=zf(Nt,t,V,n)|0;nm(V);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 116:{Nt=e+2|0;mm(K,16376,1);Mt=zf(Nt,t,K,n)|0;nm(K);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 120:{_=e+2|0;i=Rp(_,t,n)|0;if((i|0)!=(_|0)?(Oe=a[n+4>>2]|0,(a[n>>2]|0)!=(Oe|0)):0){m=Oe+-24|0;Fp(Ot,m);o=im(Ot,0,16378)|0;a[Mt>>2]=a[o>>2];a[Mt+4>>2]=a[o+4>>2];a[Mt+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}o=am(Mt,14999)|0;a[Nt>>2]=a[o>>2];a[Nt+4>>2]=a[o+4>>2];a[Nt+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}do{if(r[m>>0]&1){y=Oe+-16|0;r[a[y>>2]>>0]=0;d=Oe+-20|0;a[d>>2]=0;o=r[m>>0]|0;if(!(o&1))c=10;else{c=a[m>>2]|0;o=c&255;c=(c&-2)+-1|0}if(!(o&1)){s=(o&255)>>>1;if((o&255)<22){u=10;p=s;h=1}else{u=(s+16&240)+-1|0;p=s;h=1}}else{u=10;p=0;h=0}if((u|0)!=(c|0)){if((u|0)==10){l=m+1|0;s=a[y>>2]|0;if(h){zc(l|0,s|0,((o&255)>>>1)+1|0)|0;Pp(s)}else{r[l>>0]=r[s>>0]|0;Pp(s)}r[m>>0]=p<<1;break}s=u+1|0;l=Tp(s)|0;if(!(u>>>0<=c>>>0&(l|0)==0)){if(h)zc(l|0,m+1|0,((o&255)>>>1)+1|0)|0;else{Pt=a[y>>2]|0;r[l>>0]=r[Pt>>0]|0;Pp(Pt)}a[m>>2]=s|1;a[d>>2]=p;a[y>>2]=l}}}else{r[m+1>>0]=0;r[m>>0]=0}}while(0);a[m>>2]=a[Nt>>2];a[m+4>>2]=a[Nt+4>>2];a[m+8>>2]=a[Nt+8>>2];o=0;while(1){if((o|0)==3)break;a[Nt+(o<<2)>>2]=0;o=o+1|0}nm(Nt);nm(Mt);nm(Ot)}else i=_;e=(i|0)==(_|0)?e:i;break e}default:break e}case 111:switch(r[fe+1>>0]|0){case 110:{e=Vf(e,t,n)|0;break e}case 111:{Nt=e+2|0;mm(W,16389,2);Mt=Gf(Nt,t,W,n)|0;nm(W);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 114:{Nt=e+2|0;mm(q,16392,1);Mt=Gf(Nt,t,q,n)|0;nm(q);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 82:{Nt=e+2|0;mm(X,16394,2);Mt=Gf(Nt,t,X,n)|0;nm(X);e=(Mt|0)==(Nt|0)?e:Mt;break e}default:break e}case 112:switch(r[fe+1>>0]|0){case 109:{Nt=e+2|0;mm(Y,16397,3);Mt=Gf(Nt,t,Y,n)|0;nm(Y);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 108:{Nt=e+2|0;mm(Z,16401,1);Mt=Gf(Nt,t,Z,n)|0;nm(Z);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 76:{Nt=e+2|0;mm($,16403,2);Mt=Gf(Nt,t,$,n)|0;nm($);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 112:{i=e+2|0;if((i|0)!=(t|0)?(r[i>>0]|0)==95:0){Nt=e+3|0;mm(he,16406,2);Mt=zf(Nt,t,he,n)|0;nm(he);e=(Mt|0)==(Nt|0)?e:Mt;break e}s=Rp(i,t,n)|0;if((s|0)==(i|0))break e;i=a[n+4>>2]|0;if((a[n>>2]|0)==(i|0))break e;o=i+-24|0;Fp(Le,o);e=im(Le,0,15094)|0;a[je>>2]=a[e>>2];a[je+4>>2]=a[e+4>>2];a[je+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(je,16409)|0;a[Be>>2]=a[e>>2];a[Be+4>>2]=a[e+4>>2];a[Be+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Fe,Be);zp(o,Fe);Wy(Fe);nm(Be);nm(je);nm(Le);e=s;break e}case 115:{Nt=e+2|0;mm(ee,16401,1);Mt=zf(Nt,t,ee,n)|0;nm(ee);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 116:{if((ue|0)<=2)break e;if((r[e>>0]|0)!=112)break e;if((r[e+1>>0]|0)!=116)break e;Mt=e+2|0;i=Rp(Mt,t,n)|0;if((i|0)==(Mt|0))break e;l=Rp(i,t,n)|0;if((l|0)==(i|0))break e;s=n+4|0;i=a[s>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2)break e;Fp(Nt,i+-24|0);e=a[s>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;Mt=o+-24|0;a[s>>2]=Mt;Wy(Mt);o=a[s>>2]|0}am(e+-48|0,16413)|0;e=r[Nt>>0]|0;Mt=(e&1)==0;Xy((a[s>>2]|0)+-24|0,Mt?Nt+1|0:a[Nt+8>>2]|0,Mt?(e&255)>>>1:a[Nt+4>>2]|0)|0;nm(Nt);e=l;break e}default:break e}case 113:{if((r[fe+1>>0]|0)!=117)break e;Pt=e+2|0;i=Rp(Pt,t,n)|0;if((i|0)==(Pt|0))break e;o=Rp(i,t,n)|0;if((o|0)==(i|0)){i=n+4|0;s=a[i>>2]|0;o=s+-24|0;while(1){if((s|0)==(o|0))break e;Mt=s+-24|0;a[i>>2]=Mt;Wy(Mt);s=a[i>>2]|0}}s=Rp(o,t,n)|0;l=n+4|0;if((s|0)==(o|0)){o=a[l>>2]|0;i=o+-24|0;s=o;while(1){if((s|0)==(i|0))break;Mt=s+-24|0;a[l>>2]=Mt;Wy(Mt);s=a[l>>2]|0}o=o+-48|0;while(1){if((i|0)==(o|0))break e;Mt=i+-24|0;a[l>>2]=Mt;Wy(Mt);i=a[l>>2]|0}}i=a[l>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<3)break e;Fp(Nt,i+-24|0);e=a[l>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;Pt=o+-24|0;a[l>>2]=Pt;Wy(Pt);o=a[l>>2]|0}Fp(Mt,e+-48|0);e=a[l>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;Pt=o+-24|0;a[l>>2]=Pt;Wy(Pt);o=a[l>>2]|0}Fp(Ot,e+-48|0);o=(a[l>>2]|0)+-24|0;qp(ct,15094,Ot);e=am(ct,16416)|0;a[ut>>2]=a[e>>2];a[ut+4>>2]=a[e+4>>2];a[ut+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=r[Mt>>0]|0;i=(e&1)==0;e=Xy(ut,i?Mt+1|0:a[Mt+8>>2]|0,i?(e&255)>>>1:a[Mt+4>>2]|0)|0;a[lt>>2]=a[e>>2];a[lt+4>>2]=a[e+4>>2];a[lt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(lt,16422)|0;a[st>>2]=a[e>>2];a[st+4>>2]=a[e+4>>2];a[st+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=r[Nt>>0]|0;i=(e&1)==0;e=Xy(st,i?Nt+1|0:a[Nt+8>>2]|0,i?(e&255)>>>1:a[Nt+4>>2]|0)|0;a[ot>>2]=a[e>>2];a[ot+4>>2]=a[e+4>>2];a[ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(ot,14999)|0;a[at>>2]=a[e>>2];a[at+4>>2]=a[e+4>>2];a[at+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(it,at);zp(o,it);Wy(it);nm(at);nm(ot);nm(st);nm(lt);nm(ut);nm(ct);nm(Ot);nm(Mt);nm(Nt);e=s;break e}case 114:switch(r[fe+1>>0]|0){case 99:{if((((((ue|0)>2?(r[e>>0]|0)==114:0)?(r[e+1>>0]|0)==99:0)?(At=e+2|0,s=om(At,t,n)|0,(s|0)!=(At|0)):0)?(ze=Rp(s,t,n)|0,(ze|0)!=(s|0)):0)?(ye=n+4|0,l=a[ye>>2]|0,((l-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){Fp(Nt,l+-24|0);e=a[ye>>2]|0;i=e+-24|0;o=e;while(1){
if((o|0)==(i|0))break;n=o+-24|0;a[ye>>2]=n;Wy(n);o=a[ye>>2]|0}o=e+-48|0;Fp(Tt,o);e=im(Tt,0,16428)|0;a[xt>>2]=a[e>>2];a[xt+4>>2]=a[e+4>>2];a[xt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(xt,16279)|0;a[Ct>>2]=a[e>>2];a[Ct+4>>2]=a[e+4>>2];a[Ct+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=r[Nt>>0]|0;i=(e&1)==0;e=Xy(Ct,i?Nt+1|0:a[Nt+8>>2]|0,i?(e&255)>>>1:a[Nt+4>>2]|0)|0;a[Pt>>2]=a[e>>2];a[Pt+4>>2]=a[e+4>>2];a[Pt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Pt,14999)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Mt,Ot);zp(o,Mt);Wy(Mt);nm(Ot);nm(Pt);nm(Ct);nm(xt);nm(Tt);nm(Nt);e=ze}break e}case 109:{Nt=e+2|0;mm(re,16446,1);Mt=Gf(Nt,t,re,n)|0;nm(re);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 77:{Nt=e+2|0;mm(ae,16448,2);Mt=Gf(Nt,t,ae,n)|0;nm(ae);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 115:{Nt=e+2|0;mm(se,16451,2);Mt=Gf(Nt,t,se,n)|0;nm(se);e=(Mt|0)==(Nt|0)?e:Mt;break e}case 83:{Nt=e+2|0;mm(le,16454,3);Mt=Gf(Nt,t,le,n)|0;nm(le);e=(Mt|0)==(Nt|0)?e:Mt;break e}default:break e}case 115:switch(r[fe+1>>0]|0){case 99:{if((((((ue|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==99:0)?(At=e+2|0,c=om(At,t,n)|0,(c|0)!=(At|0)):0)?(Ve=Rp(c,t,n)|0,(Ve|0)!=(c|0)):0)?(me=n+4|0,d=a[me>>2]|0,((d-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){Fp(Nt,d+-24|0);e=a[me>>2]|0;i=e+-24|0;o=e;while(1){if((o|0)==(i|0))break;n=o+-24|0;a[me>>2]=n;Wy(n);o=a[me>>2]|0}o=e+-48|0;Fp(Tt,o);e=im(Tt,0,16458)|0;a[xt>>2]=a[e>>2];a[xt+4>>2]=a[e+4>>2];a[xt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(xt,16279)|0;a[Ct>>2]=a[e>>2];a[Ct+4>>2]=a[e+4>>2];a[Ct+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=r[Nt>>0]|0;i=(e&1)==0;e=Xy(Ct,i?Nt+1|0:a[Nt+8>>2]|0,i?(e&255)>>>1:a[Nt+4>>2]|0)|0;a[Pt>>2]=a[e>>2];a[Pt+4>>2]=a[e+4>>2];a[Pt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Pt,14999)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Mt,Ot);zp(o,Mt);Wy(Mt);nm(Ot);nm(Pt);nm(Ct);nm(xt);nm(Tt);nm(Nt);e=Ve}break e}case 112:{if((ue|0)<=2)break e;if((r[e>>0]|0)!=115)break e;if((r[e+1>>0]|0)!=112)break e;Nt=e+2|0;Mt=Rp(Nt,t,n)|0;e=(Mt|0)==(Nt|0)?e:Mt;break e}case 114:{e=Vf(e,t,n)|0;break e}case 116:{if(((((ue|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==116:0)?(Tt=e+2|0,Ae=om(Tt,t,n)|0,(Ae|0)!=(Tt|0)):0)?(h=a[n+4>>2]|0,(a[n>>2]|0)!=(h|0)):0){o=h+-24|0;Fp(Pt,o);e=im(Pt,0,16471)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Ot,14999)|0;a[Mt>>2]=a[e>>2];a[Mt+4>>2]=a[e+4>>2];a[Mt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Nt,Mt);zp(o,Nt);Wy(Nt);nm(Mt);nm(Ot);nm(Pt);e=Ae}break e}case 122:{if(((((ue|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==122:0)?(Tt=e+2|0,xe=Rp(Tt,t,n)|0,(xe|0)!=(Tt|0)):0)?(y=a[n+4>>2]|0,(a[n>>2]|0)!=(y|0)):0){o=y+-24|0;Fp(Pt,o);e=im(Pt,0,16471)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Ot,14999)|0;a[Mt>>2]=a[e>>2];a[Mt+4>>2]=a[e+4>>2];a[Mt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Nt,Mt);zp(o,Nt);Wy(Nt);nm(Mt);nm(Ot);nm(Pt);e=xe}break e}case 90:{if(($e-fe|0)<=2)break e;switch(r[fe+2>>0]|0){case 84:break;case 102:{if((((((ue|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==90:0)?(g=e+2|0,(r[g>>0]|0)==102):0)?(Ce=Hf(g,t,n)|0,(Ce|0)!=(g|0)):0)?(b=a[n+4>>2]|0,(a[n>>2]|0)!=(b|0)):0){o=b+-24|0;Fp(Pt,o);e=im(Pt,0,16480)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Ot,14999)|0;a[Mt>>2]=a[e>>2];a[Mt+4>>2]=a[e+4>>2];a[Mt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Nt,Mt);zp(o,Nt);Wy(Nt);nm(Mt);nm(Ot);nm(Pt);e=Ce}break e}default:break e}if(((((ue|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==90:0)?(m=e+2|0,(r[m>>0]|0)==84):0)?(et=n+4|0,qe=((a[et>>2]|0)-(a[n>>2]|0)|0)/24|0,rt=jp(m,t,n)|0,_e=a[n>>2]|0,Ge=((a[et>>2]|0)-_e|0)/24|0,_e,(rt|0)!=(m|0)):0){r[Mt>>0]=20;e=Mt+1|0;i=16480;o=e+10|0;do{r[e>>0]=r[i>>0]|0;e=e+1|0;i=i+1|0}while((e|0)<(o|0));r[Mt+11>>0]=0;t:do{if((qe|0)!=(Ge|0)){Fp(Ot,_e+(qe*24|0)|0);s=r[Ot>>0]|0;l=(s&1)==0;Xy(Mt,l?Ot+1|0:a[Ot+8>>2]|0,l?(s&255)>>>1:a[Ot+4>>2]|0)|0;nm(Ot);s=Pt+8|0;l=Pt+1|0;u=Pt+4|0;e=qe;while(1){e=e+1|0;if((e|0)==(Ge|0))break t;Fp(Ct,(a[n>>2]|0)+(e*24|0)|0);i=im(Ct,0,15096)|0;a[Pt>>2]=a[i>>2];a[Pt+4>>2]=a[i+4>>2];a[Pt+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}Ot=r[Pt>>0]|0;At=(Ot&1)==0;Xy(Mt,At?l:a[s>>2]|0,At?(Ot&255)>>>1:a[u>>2]|0)|0;nm(Pt);nm(Ct)}}}while(0);am(Mt,14999)|0;o=Ge;while(1){if((o|0)==(qe|0))break;i=a[et>>2]|0;e=i+-24|0;while(1){if((i|0)==(e|0))break;Ot=i+-24|0;a[et>>2]=Ot;Wy(Ot);i=a[et>>2]|0}o=o+-1|0}a[Tt>>2]=a[Mt>>2];a[Tt+4>>2]=a[Mt+4>>2];a[Tt+8>>2]=a[Mt+8>>2];e=0;while(1){if((e|0)==3)break;a[Mt+(e<<2)>>2]=0;e=e+1|0}Gp(xt,Tt);e=a[et>>2]|0;Ot=a[n+8>>2]|0;s=Ot;if(e>>>0<Ot>>>0){Dp(e,xt);a[et>>2]=(a[et>>2]|0)+24}else{i=a[n>>2]|0;Ot=e-i|0;l=(Ot|0)/24|0;o=l+1|0;if((Ot|0)<-24)ey(n);e=(s-i|0)/24|0;if(e>>>0<1073741823){e=e<<1;e=e>>>0<o>>>0?o:e}else e=2147483647;dm(Nt,e,l,n+12|0);Ot=Nt+8|0;Pt=a[Ot>>2]|0;Dp(Pt,xt);a[Ot>>2]=Pt+24;hm(n,Nt);pm(Nt)}Wy(xt);nm(Tt);nm(Mt);e=rt}break e}default:break e}case 116:switch(r[fe+1>>0]|0){case 105:case 101:{t:do{if((ue|0)>2?(r[e>>0]|0)==116:0){i=r[e+1>>0]|0;switch(i<<24>>24){case 105:case 101:break;default:break t}o=e+2|0;if(i<<24>>24==101)s=Rp(o,t,n)|0;else s=om(o,t,n)|0;if((s|0)!=(o|0)?(ge=a[n+4>>2]|0,(a[n>>2]|0)!=(ge|0)):0){o=ge+-24|0;Fp(Pt,o);e=im(Pt,0,16491)|0;a[Ot>>2]=a[e>>2];a[Ot+4>>2]=a[e+4>>2];a[Ot+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(Ot,14999)|0;a[Mt>>2]=a[e>>2];a[Mt+4>>2]=a[e+4>>2];a[Mt+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(Nt,Mt);zp(o,Nt);Wy(Nt);nm(Mt);nm(Ot);nm(Pt);e=s}}}while(0);break e}case 114:{jf(Ue,16499);i=n+4|0;o=a[i>>2]|0;Mt=a[n+8>>2]|0;s=Mt;if(o>>>0<Mt>>>0){Dp(o,Ue);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;Mt=o-i|0;l=(Mt|0)/24|0;o=l+1|0;if((Mt|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(Nt,i,l,n+12|0);Mt=Nt+8|0;Ot=a[Mt>>2]|0;Dp(Ot,Ue);a[Mt>>2]=Ot+24;hm(n,Nt);pm(Nt)}Wy(Ue);e=e+2|0;break e}case 119:{if(((((ue|0)>2?(r[e>>0]|0)==116:0)?(r[e+1>>0]|0)==119:0)?(Pt=e+2|0,be=Rp(Pt,t,n)|0,(be|0)!=(Pt|0)):0)?(w=a[n+4>>2]|0,(a[n>>2]|0)!=(w|0)):0){e=w+-24|0;Fp(Ot,e);i=im(Ot,0,16505)|0;a[Mt>>2]=a[i>>2];a[Mt+4>>2]=a[i+4>>2];a[Mt+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}Gp(Nt,Mt);zp(e,Nt);Wy(Nt);nm(Mt);nm(Ot);e=be}break e}default:break e}case 57:case 56:case 55:case 54:case 53:case 52:case 51:case 50:case 49:{e=Vf(e,t,n)|0;break e}default:break e}}while(0)}}while(0);f=Rt;return e|0}function Dp(e,t){e=e|0;t=t|0;var n=0;a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2];n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}n=e+12|0;t=t+12|0;a[n>>2]=a[t>>2];a[n+4>>2]=a[t+4>>2];a[n+8>>2]=a[t+8>>2];n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}return}function Fp(e,t){e=e|0;t=t|0;var n=0,i=0,o=0;o=t+12|0;n=r[o>>0]|0;i=(n&1)==0;n=Xy(t,i?o+1|0:a[t+20>>2]|0,i?(n&255)>>>1:a[t+16>>2]|0)|0;a[e>>2]=a[n>>2];a[e+4>>2]=a[n+4>>2];a[e+8>>2]=a[n+8>>2];t=0;while(1){if((t|0)==3)break;a[n+(t<<2)>>2]=0;t=t+1|0}return}function Bp(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;a[e>>2]=0;r=e+4|0;a[r>>2]=0;n=a[n>>2]|0;a[e+8>>2]=0;a[e+12>>2]=n;n=Uf(n,24)|0;a[r>>2]=n;a[e>>2]=n;a[e+8>>2]=n+24;fm(n,t);fm(n+12|0,t+12|0);a[r>>2]=(a[r>>2]|0)+24;return}function jp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;S=f;f=f+96|0;k=S+64|0;u=S+40|0;v=S+16|0;w=S;b=e;e:do{if((t-b|0)>1?(r[e>>0]|0)==84:0){_=r[e+1>>0]|0;if(_<<24>>24==95){i=a[n+36>>2]|0;if((a[n+32>>2]|0)==(i|0)){i=e;break}o=a[i+-16>>2]|0;if((o|0)!=(a[i+-12>>2]|0)){d=a[o+4>>2]|0;p=n+4|0
;h=n+8|0;y=n+12|0;m=k+8|0;c=a[o>>2]|0;while(1){if((c|0)==(d|0)){i=8;break}i=a[p>>2]|0;u=a[h>>2]|0;o=u;if((i|0)==(u|0)){s=a[n>>2]|0;i=i-s|0;u=(i|0)/24|0;l=u+1|0;if((i|0)<-24){i=12;break}i=(o-s|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<l>>>0?l:i}else i=2147483647;dm(k,i,u,y);u=a[m>>2]|0;fm(u,c);fm(u+12|0,c+12|0);a[m>>2]=u+24;hm(n,k);pm(k)}else{fm(i,c);fm(i+12|0,c+12|0);a[p>>2]=(a[p>>2]|0)+24}c=c+24|0}if((i|0)==8){i=e+2|0;break}else if((i|0)==12)ey(n)}else{r[u>>0]=4;i=u+1|0;r[i>>0]=84;r[i+1>>0]=95;r[u+3>>0]=0;i=u+12|0;o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}i=n+4|0;o=a[i>>2]|0;w=a[n+8>>2]|0;s=w;if(o>>>0<w>>>0){Dp(o,u);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;w=o-i|0;l=(w|0)/24|0;o=l+1|0;if((w|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(k,i,l,n+12|0);w=k+8|0;v=a[w>>2]|0;Dp(v,u);a[w>>2]=v+24;hm(n,k);pm(k)}Wy(u);r[n+62>>0]=1;i=e+2|0;break}}i=(_<<24>>24)+-48|0;if(i>>>0<10){l=e+2|0;while(1){if((l|0)==(t|0)){i=e;break e}o=r[l>>0]|0;s=(o<<24>>24)+-48|0;if(s>>>0>=10)break;i=s+(i*10|0)|0;l=l+1|0}if(o<<24>>24==95?(g=a[n+36>>2]|0,(a[n+32>>2]|0)!=(g|0)):0){i=i+1|0;t=a[g+-16>>2]|0;o=t;if(i>>>0<(a[g+-12>>2]|0)-t>>4>>>0){p=a[o+(i<<4)+4>>2]|0;h=n+4|0;y=n+8|0;m=n+12|0;_=k+8|0;d=a[o+(i<<4)>>2]|0;while(1){if((d|0)==(p|0)){i=38;break}i=a[h>>2]|0;g=a[y>>2]|0;o=g;if((i|0)==(g|0)){s=a[n>>2]|0;g=i-s|0;c=(g|0)/24|0;u=c+1|0;if((g|0)<-24){i=42;break}i=(o-s|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<u>>>0?u:i}else i=2147483647;dm(k,i,c,m);g=a[_>>2]|0;fm(g,d);fm(g+12|0,d+12|0);a[_>>2]=g+24;hm(n,k);pm(k)}else{fm(i,d);fm(i+12|0,d+12|0);a[h>>2]=(a[h>>2]|0)+24}d=d+24|0}if((i|0)==38){i=l+1|0;break}else if((i|0)==42)ey(n)}i=l+1|0;l=i-b|0;if(l>>>0>4294967279)$h(w);if(l>>>0<11){r[w>>0]=l<<1;u=w+1|0}else{b=l+16&-16;u=Tp(b)|0;a[w+8>>2]=u;a[w>>2]=b|1;a[w+4>>2]=l}o=e;s=u;while(1){if((o|0)==(i|0))break;r[s>>0]=r[o>>0]|0;o=o+1|0;s=s+1|0}r[u+l>>0]=0;Gp(v,w);o=n+4|0;s=a[o>>2]|0;e=a[n+8>>2]|0;l=e;if(s>>>0<e>>>0){Dp(s,v);a[o>>2]=(a[o>>2]|0)+24}else{o=a[n>>2]|0;e=s-o|0;u=(e|0)/24|0;s=u+1|0;if((e|0)<-24)ey(n);o=(l-o|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<s>>>0?s:o}else o=2147483647;dm(k,o,u,n+12|0);e=k+8|0;b=a[e>>2]|0;Dp(b,v);a[e>>2]=b+24;hm(n,k);pm(k)}Wy(v);nm(w);r[n+62>>0]=1}else i=e}else i=e}else i=e}while(0);f=S;return i|0}function Lp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0;j=f;f=f+80|0;F=j+60|0;B=j;P=j+48|0;R=j+24|0;D=j+12|0;do{if((t-e|0)>1?(r[e>>0]|0)==73:0){N=n+61|0;T=n+36|0;e:do{if(r[N>>0]|0){o=a[T>>2]|0;i=a[o+-16>>2]|0;o=o+-12|0;while(1){s=a[o>>2]|0;if((s|0)==(i|0))break e;M=s+-16|0;a[o>>2]=M;qy(M)}}}while(0);mm(B,15156,1);M=n+4|0;b=n+12|0;v=F+8|0;w=F+8|0;O=B+4|0;k=P+8|0;S=P+1|0;I=P+4|0;C=n+32|0;E=n+40|0;A=n+44|0;x=F+8|0;i=e+1|0;e:while(1){if((r[i>>0]|0)==69){o=48;break}do{if(r[N>>0]|0){p=a[b>>2]|0;o=a[T>>2]|0;s=a[E>>2]|0;if(o>>>0<s>>>0){a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=p;a[T>>2]=(a[T>>2]|0)+16;break}l=a[C>>2]|0;g=o-l|0;d=g>>4;u=d+1|0;if((g|0)<-16){o=13;break e}o=s-l|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<u>>>0?u:o}else o=2147483647;Gy(F,o,d,A);g=a[x>>2]|0;a[g>>2]=0;a[g+4>>2]=0;a[g+8>>2]=0;a[g+12>>2]=p;a[x>>2]=g+16;zy(C,F);Vy(F)}}while(0);_=((a[M>>2]|0)-(a[n>>2]|0)|0)/24|0;g=fh(i,t,n)|0;s=((a[M>>2]|0)-(a[n>>2]|0)|0)/24|0;t:do{if(r[N>>0]|0){l=a[T>>2]|0;o=l+-16|0;while(1){if((l|0)==(o|0))break t;m=l+-16|0;a[T>>2]=m;$y(m);l=a[T>>2]|0}}}while(0);if((g|0)==(i|0)|(g|0)==(t|0)){o=62;break}t:do{if(!(r[N>>0]|0))i=_;else{p=a[T>>2]|0;i=p+-16|0;h=a[b>>2]|0;o=p+-12|0;l=a[o>>2]|0;m=a[p+-8>>2]|0;d=m;if(l>>>0<m>>>0){a[l>>2]=0;a[l+4>>2]=0;a[l+8>>2]=0;a[l+12>>2]=h;a[o>>2]=(a[o>>2]|0)+16;m=_}else{o=a[i>>2]|0;m=l-o|0;u=m>>4;l=u+1|0;if((m|0)<-16){o=26;break e}o=d-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<l>>>0?l:o}else o=2147483647;lm(F,o,u,p+-4|0);m=a[v>>2]|0;a[m>>2]=0;a[m+4>>2]=0;a[m+8>>2]=0;a[m+12>>2]=h;a[v>>2]=m+16;um(i,F);cm(F);m=_}while(1){if(m>>>0>=s>>>0){i=_;break t}p=a[(a[T>>2]|0)+-12>>2]|0;i=p+-16|0;h=a[n>>2]|0;y=h+(m*24|0)|0;o=p+-12|0;l=a[o>>2]|0;d=a[p+-8>>2]|0;u=d;if((l|0)==(d|0)){o=a[i>>2]|0;L=l-o|0;d=(L|0)/24|0;l=d+1|0;if((L|0)<-24){o=34;break e}o=(u-o|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<l>>>0?l:o}else o=2147483647;dm(F,o,d,p+-4|0);L=a[w>>2]|0;fm(L,y);fm(L+12|0,h+(m*24|0)+12|0);a[w>>2]=L+24;hm(i,F);pm(F)}else{fm(l,y);fm(l+12|0,h+(m*24|0)+12|0);a[o>>2]=(a[o>>2]|0)+24}m=m+1|0}}}while(0);while(1){if(i>>>0>=s>>>0)break;L=r[B>>0]|0;if(((L&1)==0?(L&255)>>>1:a[O>>2]|0)>>>0>1)am(B,15096)|0;Fp(P,(a[n>>2]|0)+(i*24|0)|0);L=r[P>>0]|0;m=(L&1)==0;Xy(B,m?S:a[k>>2]|0,m?(L&255)>>>1:a[I>>2]|0)|0;nm(P);i=i+1|0}while(1){if((s|0)==(_|0)){i=g;continue e}o=a[M>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break;L=o+-24|0;a[M>>2]=L;Wy(L);o=a[M>>2]|0}s=s+-1|0}}if((o|0)==13)ey(C);else if((o|0)==26)ey(i);else if((o|0)==34)ey(i);else if((o|0)==48){c=i+1|0;L=r[B>>0]|0;e=(L&1)==0;if((r[(e?B+1|0:a[B+8>>2]|0)+(e?(L&255)>>>1:a[O>>2]|0)+-1>>0]|0)==62)am(B,16141)|0;else am(B,15158)|0;a[D>>2]=a[B>>2];a[D+4>>2]=a[B+4>>2];a[D+8>>2]=a[B+8>>2];i=0;while(1){if((i|0)==3)break;a[B+(i<<2)>>2]=0;i=i+1|0}Gp(R,D);i=a[M>>2]|0;L=a[n+8>>2]|0;l=L;if(i>>>0<L>>>0){Dp(i,R);a[M>>2]=(a[M>>2]|0)+24}else{o=a[n>>2]|0;L=i-o|0;u=(L|0)/24|0;s=u+1|0;if((L|0)<-24)ey(n);i=(l-o|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<s>>>0?s:i}else i=2147483647;dm(F,i,u,n+12|0);L=F+8|0;M=a[L>>2]|0;Dp(M,R);a[L>>2]=M+24;hm(n,F);pm(F)}Wy(R);nm(D);nm(B);break}else if((o|0)==62){nm(B);c=e;break}}else c=e}while(0);f=j;return c|0}function Up(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;_=f;f=f+112|0;y=_+88|0;m=_+64|0;c=_+76|0;h=_+40|0;d=_+16|0;p=_;e:do{if(((e|0)!=(t|0)?(o=(r[e>>0]|0)+-48|0,o>>>0<10):0)?(i=e+1|0,(i|0)!=(t|0)):0){l=e;u=o;while(1){s=(r[i>>0]|0)+-48|0;if(s>>>0>=10)break;o=i+1|0;if((o|0)==(t|0))break e;l=i;i=o;u=s+(u*10|0)|0}if((t-i|0)>>>0>=u>>>0){mm(m,i,u);o=r[m>>0]|0;t=(o&1)==0;o=t?(o&255)>>>1:a[m+4>>2]|0;mm(c,t?m+1|0:a[m+8>>2]|0,o>>>0<10?o:10);o=r[c>>0]|0;t=(o&1)==0;o=t?(o&255)>>>1:a[c+4>>2]|0;s=o>>>0>10;t=kd(t?c+1|0:a[c+8>>2]|0,16108,s?10:o)|0;nm(c);if(!(((t|0)==0?o>>>0<10?-1:s&1:t)|0)){e=Tp(32)|0;a[h+8>>2]=e;a[h>>2]=33;a[h+4>>2]=21;i=e;o=16119;s=i+21|0;do{r[i>>0]=r[o>>0]|0;i=i+1|0;o=o+1|0}while((i|0)<(s|0));r[e+21>>0]=0;e=h+12|0;i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=n+4|0;i=a[e>>2]|0;p=a[n+8>>2]|0;o=p;if(i>>>0<p>>>0){Dp(i,h);a[e>>2]=(a[e>>2]|0)+24}else{e=a[n>>2]|0;p=i-e|0;s=(p|0)/24|0;i=s+1|0;if((p|0)<-24)ey(n);e=(o-e|0)/24|0;if(e>>>0<1073741823){e=e<<1;e=e>>>0<i>>>0?i:e}else e=2147483647;dm(y,e,s,n+12|0);p=y+8|0;d=a[p>>2]|0;Dp(d,h);a[p>>2]=d+24;hm(n,y);pm(y)}Wy(h)}else{a[p>>2]=a[m>>2];a[p+4>>2]=a[m+4>>2];a[p+8>>2]=a[m+8>>2];e=0;while(1){if((e|0)==3)break;a[m+(e<<2)>>2]=0;e=e+1|0}Gp(d,p);e=n+4|0;i=a[e>>2]|0;h=a[n+8>>2]|0;o=h;if(i>>>0<h>>>0){Dp(i,d);a[e>>2]=(a[e>>2]|0)+24}else{e=a[n>>2]|0;h=i-e|0;s=(h|0)/24|0;i=s+1|0;if((h|0)<-24)ey(n);e=(o-e|0)/24|0;if(e>>>0<1073741823){e=e<<1;e=e>>>0<i>>>0?i:e}else e=2147483647;dm(y,e,s,n+12|0);h=y+8|0;t=a[h>>2]|0;Dp(t,d);a[h>>2]=t+24;hm(n,y);pm(y)}Wy(d);nm(p)}nm(m);e=l+1+u|0}}}while(0);f=_;return e|0}function Hp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}o=r[t>>0]|0;s=(o&1)==0;o=s?(o&255)>>>1:a[t+4>>2]|0;i=vd(n)|0;Xp(e,s?t+1|0:a[t+8>>2]|0,o,o+i|0);Xy(e,n,i)|0;return}function Gp(e,t){e=e|0;t=t|0;var n=0;a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2];n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}n=e+12|0;t=0;while(1){if((t|0)==3)break;a[n+(t<<2)>>2]=0;t=t+1|0}return}function zp(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0;do{if(r[e>>0]&1){d=e+8|0;r[a[d>>2]>>0]=0;c=e+4|0;a[c>>2]=0;n=r[e>>0]|0;if(!(n&1))l=10;else{l=a[e>>2]|0;n=l&255;l=(l&-2)+-1|0}if(!(n&1)){i=(n&255)>>>1;if((n&255)<22){s=10;u=i;f=1}else{s=(i+16&240)+-1|0;u=i;f=1}}else{s=10;u=0;f=0}if((s|0)!=(l|0)){if((s|0)==10){o=e+1|0;i=a[d>>2]|0;if(f){zc(o|0,i|0,((n&255)>>>1)+1|0)|0;Pp(i)}else{r[o>>0]=r[i>>0]|0;Pp(i)}r[e>>0]=u<<1
;break}i=s+1|0;o=Tp(i)|0;if(!(s>>>0<=l>>>0&(o|0)==0)){if(f)zc(o|0,e+1|0,((n&255)>>>1)+1|0)|0;else{p=a[d>>2]|0;r[o>>0]=r[p>>0]|0;Pp(p)}a[e>>2]=i|1;a[c>>2]=u;a[d>>2]=o}}}else{r[e+1>>0]=0;r[e>>0]=0}}while(0);a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2];n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}p=e+12|0;t=t+12|0;do{if(r[p>>0]&1){d=e+20|0;r[a[d>>2]>>0]=0;u=e+16|0;a[u>>2]=0;n=r[p>>0]|0;if(!(n&1))l=10;else{l=a[p>>2]|0;n=l&255;l=(l&-2)+-1|0}if(!(n&1)){i=(n&255)>>>1;if((n&255)<22){s=10;c=i;f=1}else{s=(i+16&240)+-1|0;c=i;f=1}}else{s=10;c=0;f=0}if((s|0)!=(l|0)){if((s|0)==10){o=p+1|0;i=a[d>>2]|0;if(f){zc(o|0,i|0,((n&255)>>>1)+1|0)|0;Pp(i)}else{r[o>>0]=r[i>>0]|0;Pp(i)}r[p>>0]=c<<1;break}i=s+1|0;o=Tp(i)|0;if(!(s>>>0<=l>>>0&(o|0)==0)){if(f)zc(o|0,p+1|0,((n&255)>>>1)+1|0)|0;else{e=a[d>>2]|0;r[o>>0]=r[e>>0]|0;Pp(e)}a[p>>2]=i|1;a[u>>2]=c;a[d>>2]=o}}}else{r[p+1>>0]=0;r[p>>0]=0}}while(0);a[p>>2]=a[t>>2];a[p+4>>2]=a[t+4>>2];a[p+8>>2]=a[t+8>>2];n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}return}function Vp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0;ve=f;f=f+208|0;be=ve+188|0;_e=ve+184|0;ye=ve+172|0;te=ve+160|0;ne=ve+144|0;se=ve+140|0;le=ve+128|0;ue=ve+112|0;ce=ve+108|0;fe=ve+96|0;de=ve+64|0;pe=ve+56|0;he=ve+40|0;re=ve+36|0;ie=ve+24|0;ae=ve+8|0;oe=ve;p=ve+80|0;u=ve+60|0;d=t;e:do{if((d-e|0)>1){ge=(r[e>>0]|0)==76?e+1|0:e;i=r[ge>>0]|0;switch(i<<24>>24|0){case 78:{t:do{if((ge|0)!=(t|0)){if(i<<24>>24==78){i=sm(ge+1|0,t,_e)|0;n:do{if((i|0)!=(t|0)){s=n+52|0;a[s>>2]=0;switch(r[i>>0]|0){case 82:{a[s>>2]=1;i=i+1|0;break}case 79:{a[s>>2]=2;i=i+1|0;break}default:{}}ee=n+4|0;l=a[ee>>2]|0;$=a[n+8>>2]|0;s=$;if(l>>>0<$>>>0){a[l>>2]=0;a[l+4>>2]=0;a[l+8>>2]=0;a[l+12>>2]=0;a[l+16>>2]=0;a[l+20>>2]=0;s=0;while(1){if((s|0)==3)break;a[l+(s<<2)>>2]=0;s=s+1|0}s=l+12|0;l=0;while(1){if((l|0)==3)break;a[s+(l<<2)>>2]=0;l=l+1|0}a[ee>>2]=(a[ee>>2]|0)+24}else{u=a[n>>2]|0;$=l-u|0;c=($|0)/24|0;l=c+1|0;if(($|0)<-24)ey(n);s=(s-u|0)/24|0;if(s>>>0<1073741823){s=s<<1;s=s>>>0<l>>>0?l:s}else s=2147483647;dm(be,s,c,n+12|0);u=be+8|0;c=a[u>>2]|0;a[c>>2]=0;a[c+4>>2]=0;a[c+8>>2]=0;a[c+12>>2]=0;a[c+16>>2]=0;a[c+20>>2]=0;s=0;while(1){if((s|0)==3)break;a[c+(s<<2)>>2]=0;s=s+1|0}s=c+12|0;l=0;while(1){if((l|0)==3)break;a[s+(l<<2)>>2]=0;l=l+1|0}a[u>>2]=c+24;hm(n,be);pm(be)}if(((d-i|0)>1?(r[i>>0]|0)==83:0)?(r[i+1>>0]|0)==116:0){eh((a[ee>>2]|0)+-24|0,15278,3);i=i+2|0}if((i|0)==(t|0)){o=a[ee>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break n;be=o+-24|0;a[ee>>2]=be;Wy(be);o=a[ee>>2]|0}}R=ye+8|0;D=ye+1|0;F=ye+4|0;B=n+12|0;j=n+16|0;$=n+20|0;L=n+24|0;U=he+12|0;H=he+4|0;G=he+8|0;z=n+28|0;V=be+8|0;K=ae+12|0;W=ae+4|0;q=ae+8|0;X=be+8|0;Y=ie+8|0;J=ie+1|0;Q=ie+4|0;Z=te+8|0;h=te+1|0;y=te+4|0;m=ne+12|0;_=ne+4|0;g=ne+8|0;b=be+8|0;v=ue+12|0;w=ue+4|0;k=ue+8|0;S=be+8|0;I=le+8|0;E=le+1|0;A=le+4|0;x=de+12|0;C=de+4|0;T=de+8|0;P=be+8|0;O=fe+8|0;N=fe+1|0;M=fe+4|0;p=0;r:while(1){i:while(1){s=r[i>>0]|0;if(s<<24>>24==69){me=129;break r}switch(s<<24>>24|0){case 83:{s=i;me=39;break i}case 84:{s=i;me=59;break i}case 68:{s=i;me=77;break i}case 73:break;case 76:{i=i+1|0;if((i|0)==(t|0))break n;else continue i}default:{s=i;break i}}d=Lp(i,t,n)|0;if((d|0)==(i|0)|(d|0)==(t|0))break n;Fp(ye,(a[ee>>2]|0)+-24|0);i=a[ee>>2]|0;s=i+-24|0;l=i;while(1){if((l|0)==(s|0))break;c=l+-24|0;a[ee>>2]=c;Wy(c);l=a[ee>>2]|0}c=r[ye>>0]|0;s=(c&1)==0;Xy(i+-48|0,s?D:a[R>>2]|0,s?(c&255)>>>1:a[F>>2]|0)|0;i=(a[ee>>2]|0)+-24|0;a[re>>2]=a[B>>2];Bp(he,i,re);i=a[$>>2]|0;c=a[L>>2]|0;s=c;if(i>>>0<c>>>0){a[i+12>>2]=a[U>>2];a[i>>2]=a[he>>2];a[i+4>>2]=a[H>>2];a[i+8>>2]=a[G>>2];a[G>>2]=0;a[H>>2]=0;a[he>>2]=0;a[$>>2]=(a[$>>2]|0)+16}else{l=a[j>>2]|0;i=i-l|0;c=i>>4;u=c+1|0;if((i|0)<-16){me=104;break r}i=s-l|0;if(i>>4>>>0<1073741823){i=i>>3;i=i>>>0<u>>>0?u:i}else i=2147483647;lm(be,i,c,z);c=a[V>>2]|0;a[c+12>>2]=a[U>>2];a[c>>2]=a[he>>2];a[c+4>>2]=a[H>>2];a[c+8>>2]=a[G>>2];a[G>>2]=0;a[H>>2]=0;a[he>>2]=0;a[V>>2]=c+16;um(j,be);cm(be)}qy(he);nm(ye);i=d}i:do{if((me|0)==39){me=0;p=s+1|0;if((p|0)!=(t|0)?(r[p>>0]|0)==116:0)break;i=Kp(s,t,n)|0;if((i|0)==(s|0)|(i|0)==(t|0))break n;Fp(ye,(a[ee>>2]|0)+-24|0);u=a[ee>>2]|0;s=u+-24|0;l=u;while(1){if((l|0)==(s|0))break;p=l+-24|0;a[ee>>2]=p;Wy(p);l=a[ee>>2]|0}l=u+-48|0;s=r[l>>0]|0;if(!(s&1))s=(s&255)>>>1;else s=a[u+-44>>2]|0;if(!s)th(l,ye);else{qp(te,15282,ye);s=r[te>>0]|0;p=(s&1)==0;Xy(l,p?h:a[Z>>2]|0,p?(s&255)>>>1:a[y>>2]|0)|0;nm(te);s=(a[ee>>2]|0)+-24|0;a[se>>2]=a[B>>2];Bp(ne,s,se);s=a[$>>2]|0;p=a[L>>2]|0;l=p;if(s>>>0<p>>>0){a[s+12>>2]=a[m>>2];a[s>>2]=a[ne>>2];a[s+4>>2]=a[_>>2];a[s+8>>2]=a[g>>2];a[g>>2]=0;a[_>>2]=0;a[ne>>2]=0;a[$>>2]=(a[$>>2]|0)+16}else{u=a[j>>2]|0;p=s-u|0;d=p>>4;c=d+1|0;if((p|0)<-16){me=52;break r}s=l-u|0;if(s>>4>>>0<1073741823){s=s>>3;s=s>>>0<c>>>0?c:s}else s=2147483647;lm(be,s,d,z);p=a[b>>2]|0;a[p+12>>2]=a[m>>2];a[p>>2]=a[ne>>2];a[p+4>>2]=a[_>>2];a[p+8>>2]=a[g>>2];a[g>>2]=0;a[_>>2]=0;a[ne>>2]=0;a[b>>2]=p+16;um(j,be);cm(be)}qy(ne)}nm(ye);p=1;continue r}else if((me|0)==59){me=0;i=jp(s,t,n)|0;if((i|0)==(s|0)|(i|0)==(t|0))break n;Fp(ye,(a[ee>>2]|0)+-24|0);u=a[ee>>2]|0;s=u+-24|0;l=u;while(1){if((l|0)==(s|0))break;p=l+-24|0;a[ee>>2]=p;Wy(p);l=a[ee>>2]|0}l=u+-48|0;s=r[l>>0]|0;if(!(s&1))s=(s&255)>>>1;else s=a[u+-44>>2]|0;if(!s)th(l,ye);else{qp(le,15282,ye);p=r[le>>0]|0;d=(p&1)==0;Xy(l,d?E:a[I>>2]|0,d?(p&255)>>>1:a[A>>2]|0)|0;nm(le)}s=(a[ee>>2]|0)+-24|0;a[ce>>2]=a[B>>2];Bp(ue,s,ce);s=a[$>>2]|0;p=a[L>>2]|0;l=p;if(s>>>0<p>>>0){a[s+12>>2]=a[v>>2];a[s>>2]=a[ue>>2];a[s+4>>2]=a[w>>2];a[s+8>>2]=a[k>>2];a[k>>2]=0;a[w>>2]=0;a[ue>>2]=0;a[$>>2]=(a[$>>2]|0)+16}else{u=a[j>>2]|0;p=s-u|0;d=p>>4;c=d+1|0;if((p|0)<-16){me=72;break r}s=l-u|0;if(s>>4>>>0<1073741823){s=s>>3;s=s>>>0<c>>>0?c:s}else s=2147483647;lm(be,s,d,z);p=a[S>>2]|0;a[p+12>>2]=a[v>>2];a[p>>2]=a[ue>>2];a[p+4>>2]=a[w>>2];a[p+8>>2]=a[k>>2];a[k>>2]=0;a[w>>2]=0;a[ue>>2]=0;a[S>>2]=p+16;um(j,be);cm(be)}qy(ue);nm(ye);p=1;continue r}else if((me|0)==77){me=0;i=s+1|0;if((i|0)!=(t|0))switch(r[i>>0]|0){case 84:case 116:break;default:break i}i=Wp(s,t,n)|0;if((i|0)==(s|0)|(i|0)==(t|0))break n;Fp(ye,(a[ee>>2]|0)+-24|0);u=a[ee>>2]|0;s=u+-24|0;l=u;while(1){if((l|0)==(s|0))break;p=l+-24|0;a[ee>>2]=p;Wy(p);l=a[ee>>2]|0}l=u+-48|0;s=r[l>>0]|0;if(!(s&1))s=(s&255)>>>1;else s=a[u+-44>>2]|0;if(!s)th(l,ye);else{qp(fe,15282,ye);p=r[fe>>0]|0;d=(p&1)==0;Xy(l,d?N:a[O>>2]|0,d?(p&255)>>>1:a[M>>2]|0)|0;nm(fe)}s=(a[ee>>2]|0)+-24|0;a[pe>>2]=a[B>>2];Bp(de,s,pe);s=a[$>>2]|0;p=a[L>>2]|0;l=p;if(s>>>0<p>>>0){a[s+12>>2]=a[x>>2];a[s>>2]=a[de>>2];a[s+4>>2]=a[C>>2];a[s+8>>2]=a[T>>2];a[T>>2]=0;a[C>>2]=0;a[de>>2]=0;a[$>>2]=(a[$>>2]|0)+16}else{u=a[j>>2]|0;p=s-u|0;d=p>>4;c=d+1|0;if((p|0)<-16){me=92;break r}s=l-u|0;if(s>>4>>>0<1073741823){s=s>>3;s=s>>>0<c>>>0?c:s}else s=2147483647;lm(be,s,d,z);p=a[P>>2]|0;a[p+12>>2]=a[x>>2];a[p>>2]=a[de>>2];a[p+4>>2]=a[C>>2];a[p+8>>2]=a[T>>2];a[T>>2]=0;a[C>>2]=0;a[de>>2]=0;a[P>>2]=p+16;um(j,be);cm(be)}qy(de);nm(ye);p=1;continue r}}while(0);i=nh(s,t,n)|0;if((i|0)==(s|0)|(i|0)==(t|0))break n;Fp(ye,(a[ee>>2]|0)+-24|0);u=a[ee>>2]|0;s=u+-24|0;l=u;while(1){if((l|0)==(s|0))break;p=l+-24|0;a[ee>>2]=p;Wy(p);l=a[ee>>2]|0}l=u+-48|0;s=r[l>>0]|0;if(!(s&1))s=(s&255)>>>1;else s=a[u+-44>>2]|0;if(!s)th(l,ye);else{qp(ie,15282,ye);p=r[ie>>0]|0;d=(p&1)==0;Xy(l,d?J:a[Y>>2]|0,d?(p&255)>>>1:a[Q>>2]|0)|0;nm(ie)}s=(a[ee>>2]|0)+-24|0;a[oe>>2]=a[B>>2];Bp(ae,s,oe);s=a[$>>2]|0;p=a[L>>2]|0;l=p;if(s>>>0<p>>>0){a[s+12>>2]=a[K>>2];a[s>>2]=a[ae>>2];a[s+4>>2]=a[W>>2];a[s+8>>2]=a[q>>2];a[q>>2]=0;a[W>>2]=0;a[ae>>2]=0;a[$>>2]=(a[$>>2]|0)+16}else{u=a[j>>2]|0;p=s-u|0;d=p>>4;c=d+1|0;if((p|0)<-16){me=123;break}s=l-u|0;if(s>>4>>>0<1073741823){s=s>>3;s=s>>>0<c>>>0?c:s}else s=2147483647;lm(be,s,d,z);p=a[X>>2]|0;a[p+12>>2]=a[K>>2];a[p>>2]=a[ae>>2];a[p+4>>2]=a[W>>2];a[p+8>>2]=a[q>>2];a[q>>2]=0;a[W>>2]=0;a[ae>>2]=0;a[X>>2]=p+16;um(j,be);cm(be)}qy(ae)
;nm(ye);p=1}if((me|0)==52)ey(j);else if((me|0)==72)ey(j);else if((me|0)==92)ey(j);else if((me|0)==104)ey(j);else if((me|0)==123)ey(j);else if((me|0)==129){i=i+1|0;a[n+48>>2]=a[_e>>2];r:do{if(p?(o=a[$>>2]|0,(a[n+16>>2]|0)!=(o|0)):0){s=o+-16|0;while(1){if((o|0)==(s|0))break r;be=o+-16|0;a[$>>2]=be;qy(be);o=a[$>>2]|0}}}while(0);break t}}}while(0);i=ge}else i=ge}else i=t}while(0);i=(i|0)==(ge|0)?e:i;break e}case 90:{t:do{if(((i<<24>>24==90&(ge|0)!=(t|0)?(_e=ge+1|0,s=rm(_e,t,n)|0,!((s|0)==(_e|0)|(s|0)==(t|0))):0)?(r[s>>0]|0)==69:0)?(l=s+1|0,(l|0)!=(t|0)):0)switch(r[l>>0]|0){case 115:{i=rh(s+2|0,t)|0;o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0))break t;am(o+-24|0,15285)|0;break t}case 100:{i=s+2|0;if((i|0)==(t|0)){i=ge;break t}i=gm(i,t)|0;if((i|0)==(t|0)){i=ge;break t}if((r[i>>0]|0)!=95){i=ge;break t}_e=i+1|0;i=Vp(_e,t,n)|0;u=n+4|0;if((i|0)==(_e|0)){o=a[u>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0)){i=ge;break t}be=o+-24|0;a[u>>2]=be;Wy(be);o=a[u>>2]|0}}o=a[u>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0<2){i=ge;break t}Fp(be,o+-24|0);o=a[u>>2]|0;s=o+-24|0;l=o;while(1){if((l|0)==(s|0))break;n=l+-24|0;a[u>>2]=n;Wy(n);l=a[u>>2]|0}am(o+-48|0,15282)|0;n=r[be>>0]|0;t=(n&1)==0;Xy((a[u>>2]|0)+-24|0,t?be+1|0:a[be+8>>2]|0,t?(n&255)>>>1:a[be+4>>2]|0)|0;nm(be);break t}default:{i=Vp(l,t,n)|0;if((i|0)==(l|0)){i=n+4|0;s=a[i>>2]|0;o=s+-24|0;while(1){if((s|0)==(o|0)){i=ge;break t}be=s+-24|0;a[i>>2]=be;Wy(be);s=a[i>>2]|0}}i=rh(i,t)|0;u=n+4|0;o=a[u>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0<2)break t;Fp(be,o+-24|0);o=a[u>>2]|0;s=o+-24|0;l=o;while(1){if((l|0)==(s|0))break;n=l+-24|0;a[u>>2]=n;Wy(n);l=a[u>>2]|0}am(o+-48|0,15282)|0;n=r[be>>0]|0;t=(n&1)==0;Xy((a[u>>2]|0)+-24|0,t?be+1|0:a[be+8>>2]|0,t?(n&255)>>>1:a[be+4>>2]|0)|0;nm(be);break t}}else i=ge}while(0);i=(i|0)==(ge|0)?e:i;break e}default:{do{if((d-ge|0)>1){if(i<<24>>24==83?(r[ge+1>>0]|0)==116:0){i=ge+2|0;if((i|0)==(t|0)){s=0;o=t}else{s=0;o=(r[i>>0]|0)==76?ge+3|0:i}}else{s=1;o=ge}i=nh(o,t,n)|0;o=(i|0)==(o|0);if(s|o)i=o?ge:i;else{o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0))break;im(o+-24|0,0,15302)|0}if((i|0)!=(ge|0)){if((i|0)==(t|0)){i=t;break e}if((r[i>>0]|0)!=73)break e;d=n+4|0;o=a[d>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}c=n+16|0;a[u>>2]=a[n+12>>2];Bp(p,o+-24|0,u);o=n+20|0;s=a[o>>2]|0;ge=a[n+24>>2]|0;l=ge;if(s>>>0<ge>>>0){a[s+12>>2]=a[p+12>>2];a[s>>2]=a[p>>2];ge=p+4|0;a[s+4>>2]=a[ge>>2];_e=p+8|0;a[s+8>>2]=a[_e>>2];a[_e>>2]=0;a[ge>>2]=0;a[p>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;ge=s-o|0;u=ge>>4;s=u+1|0;if((ge|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(be,o,u,n+28|0);ge=be+8|0;_e=a[ge>>2]|0;a[_e+12>>2]=a[p+12>>2];a[_e>>2]=a[p>>2];me=p+4|0;a[_e+4>>2]=a[me>>2];ye=p+8|0;a[_e+8>>2]=a[ye>>2];a[ye>>2]=0;a[me>>2]=0;a[p>>2]=0;a[ge>>2]=_e+16;um(c,be);cm(be)}qy(p);l=Lp(i,t,n)|0;if((l|0)==(i|0)){i=e;break e}i=a[d>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break e}Fp(be,i+-24|0);i=a[d>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;e=s+-24|0;a[d>>2]=e;Wy(e);s=a[d>>2]|0}e=r[be>>0]|0;ge=(e&1)==0;Xy(i+-48|0,ge?be+1|0:a[be+8>>2]|0,ge?(e&255)>>>1:a[be+4>>2]|0)|0;nm(be);i=l;break e}}}while(0);o=Kp(ge,t,n)|0;if((o|0)==(ge|0)|(o|0)==(t|0)){i=e;break e}if((r[o>>0]|0)!=73){i=e;break e}i=Lp(o,t,n)|0;if((i|0)==(o|0)){i=e;break e}u=n+4|0;o=a[u>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break e}Fp(be,o+-24|0);o=a[u>>2]|0;s=o+-24|0;l=o;while(1){if((l|0)==(s|0))break;e=l+-24|0;a[u>>2]=e;Wy(e);l=a[u>>2]|0}e=r[be>>0]|0;ge=(e&1)==0;Xy(o+-48|0,ge?be+1|0:a[be+8>>2]|0,ge?(e&255)>>>1:a[be+4>>2]|0)|0;nm(be);break e}}}else i=e}while(0);f=ve;return i|0}function Kp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0;g=f;f=f+176|0;_=g+144|0;u=g+120|0;c=g+96|0;d=g+72|0;p=g+48|0;h=g+24|0;y=g;e:do{if((t-e|0)>1?(r[e>>0]|0)==83:0){o=e+1|0;i=r[o>>0]|0;s=i<<24>>24;switch(s|0){case 97:{Yp(u,15193);i=n+4|0;o=a[i>>2]|0;m=a[n+8>>2]|0;s=m;if(o>>>0<m>>>0){Dp(o,u);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;m=o-i|0;l=(m|0)/24|0;o=l+1|0;if((m|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(_,i,l,n+12|0);m=_+8|0;y=a[m>>2]|0;Dp(y,u);a[m>>2]=y+24;hm(n,_);pm(_)}Wy(u);m=e+2|0;break e}case 98:{Jp(c,15208);i=n+4|0;o=a[i>>2]|0;m=a[n+8>>2]|0;s=m;if(o>>>0<m>>>0){Dp(o,c);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;m=o-i|0;l=(m|0)/24|0;o=l+1|0;if((m|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(_,i,l,n+12|0);m=_+8|0;y=a[m>>2]|0;Dp(y,c);a[m>>2]=y+24;hm(n,_);pm(_)}Wy(c);m=e+2|0;break e}case 115:{Qp(d,15226);i=n+4|0;o=a[i>>2]|0;m=a[n+8>>2]|0;s=m;if(o>>>0<m>>>0){Dp(o,d);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;m=o-i|0;l=(m|0)/24|0;o=l+1|0;if((m|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(_,i,l,n+12|0);m=_+8|0;y=a[m>>2]|0;Dp(y,d);a[m>>2]=y+24;hm(n,_);pm(_)}Wy(d);m=e+2|0;break e}case 105:{Zp(p,15238);i=n+4|0;o=a[i>>2]|0;m=a[n+8>>2]|0;l=m;if(o>>>0<m>>>0){Dp(o,p);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;m=o-i|0;s=(m|0)/24|0;o=s+1|0;if((m|0)<-24)ey(n);i=(l-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(_,i,s,n+12|0);m=_+8|0;y=a[m>>2]|0;Dp(y,p);a[m>>2]=y+24;hm(n,_);pm(_)}Wy(p);m=e+2|0;break e}case 111:{Zp(h,15251);i=n+4|0;o=a[i>>2]|0;m=a[n+8>>2]|0;s=m;if(o>>>0<m>>>0){Dp(o,h);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;m=o-i|0;l=(m|0)/24|0;o=l+1|0;if((m|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(_,i,l,n+12|0);m=_+8|0;y=a[m>>2]|0;Dp(y,h);a[m>>2]=y+24;hm(n,_);pm(_)}Wy(h);m=e+2|0;break e}case 100:{$p(y,15264);i=n+4|0;o=a[i>>2]|0;m=a[n+8>>2]|0;s=m;if(o>>>0<m>>>0){Dp(o,y);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;m=o-i|0;l=(m|0)/24|0;o=l+1|0;if((m|0)<-24)ey(n);i=(s-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i}else i=2147483647;dm(_,i,l,n+12|0);m=_+8|0;h=a[m>>2]|0;Dp(h,y);a[m>>2]=h+24;hm(n,_);pm(_)}Wy(y);m=e+2|0;break e}case 95:{i=a[n+16>>2]|0;if((i|0)==(a[n+20>>2]|0)){m=e;break e}c=a[i+4>>2]|0;d=n+4|0;p=n+8|0;h=n+12|0;y=_+8|0;u=a[i>>2]|0;while(1){if((u|0)==(c|0)){i=55;break}i=a[d>>2]|0;t=a[p>>2]|0;o=t;if((i|0)==(t|0)){s=a[n>>2]|0;i=i-s|0;t=(i|0)/24|0;l=t+1|0;if((i|0)<-24){i=59;break}i=(o-s|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<l>>>0?l:i}else i=2147483647;dm(_,i,t,h);t=a[y>>2]|0;fm(t,u);fm(t+12|0,u+12|0);a[y>>2]=t+24;hm(n,_);pm(_)}else{fm(i,u);fm(i+12|0,u+12|0);a[d>>2]=(a[d>>2]|0)+24}u=u+24|0}if((i|0)==55){m=e+2|0;break e}else if((i|0)==59)ey(n);break}default:{if((s+-48|0)>>>0>=10){if(!(ld(s)|0)){m=e;break e}i=r[o>>0]|0}o=i<<24>>24;l=o+-48|0;o=l>>>0<10?l:o+-55|0;l=e+2|0;while(1){if((l|0)==(t|0)){m=e;break e}i=r[l>>0]|0;s=i<<24>>24;if((s+-48|0)>>>0>=10){y=(ld(s)|0)==0;i=r[l>>0]|0;if(y)break}y=i<<24>>24;h=y+-48|0;o=(h>>>0<10?h:y+-55|0)+(o*36|0)|0;l=l+1|0}if(i<<24>>24!=95){m=e;break e}i=o+1|0;y=a[n+16>>2]|0;o=y;if(i>>>0>=(a[n+20>>2]|0)-y>>4>>>0){m=e;break e}d=a[o+(i<<4)+4>>2]|0;p=n+4|0;h=n+8|0;y=n+12|0;e=_+8|0;c=a[o+(i<<4)>>2]|0;while(1){if((c|0)==(d|0)){i=76;break}i=a[p>>2]|0;u=a[h>>2]|0;o=u;if((i|0)==(u|0)){s=a[n>>2]|0;i=i-s|0;u=(i|0)/24|0;t=u+1|0;if((i|0)<-24){i=80;break}i=(o-s|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(_,i,u,y);u=a[e>>2]|0;fm(u,c);fm(u+12|0,c+12|0);a[e>>2]=u+24;hm(n,_);pm(_)}else{fm(i,c);fm(i+12|0,c+12|0);a[p>>2]=(a[p>>2]|0)+24}c=c+24|0}if((i|0)==76){m=l+1|0;break e}else if((i|0)==80)ey(n)}}}else m=e}while(0);f=g;return m|0}function Wp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0;d=f;f=f+64|0;o=d+40|0;s=d+24|0;u=d+12|0;c=d;e:do{if((t-e|0)>3?(r[e>>0]|0)==68:0){switch(r[e+1>>0]|0){case 84:case 116:break;default:break e}p=e+2|0;l=Rp(p,t,n)|0;if((!((l|0)==(p|0)|(l|0)==(t|0))?(r[l>>0]|0)==69:0)?(i=a[n+4>>2]|0,(a[n>>2]|0)!=(i|0)):0){n=i+-24|0;Fp(c,n);e=im(c,0,15183)|0;a[u>>2]=a[e>>2];a[u+4>>2]=a[e+4>>2];a[u+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}e=am(u,14999)|0;a[s>>2]=a[e>>2];a[s+4>>2]=a[e+4>>2];a[s+8>>2]=a[e+8>>2];i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}Gp(o,s);zp(n,o);Wy(o);nm(s);nm(u);nm(c);e=l+1|0}}
}while(0);f=d;return e|0}function qp(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}o=vd(t)|0;i=r[n>>0]|0;i=(i&1)==0?(i&255)>>>1:a[n+4>>2]|0;Xp(e,t,o,i+o|0);Xy(e,(r[n>>0]&1)==0?n+1|0:a[n+8>>2]|0,i)|0;return}function Xp(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0;if(i>>>0>4294967279)$h(e);if(i>>>0<11){r[e>>0]=n<<1;i=e+1|0}else{o=i+16&-16;i=Tp(o)|0;a[e+8>>2]=i;a[e>>2]=o|1;a[e+4>>2]=n}zc(i|0,t|0,n|0)|0;r[i+n>>0]=0;return}function Yp(e,t){e=e|0;t=t|0;mm(e,t,14);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Jp(e,t){e=e|0;t=t|0;mm(e,t,17);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Qp(e,t){e=e|0;t=t|0;mm(e,t,11);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Zp(e,t){e=e|0;t=t|0;mm(e,t,12);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function $p(e,t){e=e|0;t=t|0;mm(e,t,13);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function eh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;i=r[e>>0]|0;if(!(i&1))s=10;else{i=a[e>>2]|0;s=(i&-2)+-1|0;i=i&255}o=(i&1)==0;do{if(s>>>0>=n>>>0){if(o)i=e+1|0;else i=a[e+8>>2]|0;Kc(i|0,t|0,n|0)|0;r[i+n>>0]=0;if(!(r[e>>0]&1)){r[e>>0]=n<<1;break}else{a[e+4>>2]=n;break}}else{if(o)i=(i&255)>>>1;else i=a[e+4>>2]|0;tm(e,s,n-s|0,i,0,i,n,t)}}while(0);return}function th(e,t){e=e|0;t=t|0;var n=0,i=0;if((e|0)!=(t|0)){n=r[t>>0]|0;i=(n&1)==0;eh(e,i?t+1|0:a[t+8>>2]|0,i?(n&255)>>>1:a[t+4>>2]|0)}return}function nh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0;b=f;f=f+112|0;g=b+88|0;d=b+64|0;p=b+48|0;c=b+24|0;h=b+12|0;m=b;e:do{if((e|0)!=(t|0)){o=r[e>>0]|0;s=o<<24>>24;switch(s|0){case 68:case 67:{t:do{if((t-e|0)>1?(u=n+4|0,i=a[u>>2]|0,(a[n>>2]|0)!=(i|0)):0){switch(s|0){case 67:{switch(r[e+1>>0]|0){case 53:case 51:case 50:case 49:break;default:break t}ih(p,i+-24|0);Gp(d,p);i=a[u>>2]|0;t=a[n+8>>2]|0;l=t;if(i>>>0<t>>>0){Dp(i,d);a[u>>2]=(a[u>>2]|0)+24}else{o=a[n>>2]|0;t=i-o|0;u=(t|0)/24|0;s=u+1|0;if((t|0)<-24)ey(n);i=(l-o|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<s>>>0?s:i}else i=2147483647;dm(g,i,u,n+12|0);t=g+8|0;_=a[t>>2]|0;Dp(_,d);a[t>>2]=_+24;hm(n,g);pm(g)}Wy(d);nm(p);r[n+60>>0]=1;e=e+2|0;break t}case 68:break;default:break t}switch(r[e+1>>0]|0){case 53:case 50:case 49:case 48:break;default:break t}ih(m,i+-24|0);i=im(m,0,15308)|0;a[h>>2]=a[i>>2];a[h+4>>2]=a[i+4>>2];a[h+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}Gp(c,h);i=a[u>>2]|0;t=a[n+8>>2]|0;l=t;if(i>>>0<t>>>0){Dp(i,c);a[u>>2]=(a[u>>2]|0)+24}else{o=a[n>>2]|0;t=i-o|0;u=(t|0)/24|0;s=u+1|0;if((t|0)<-24)ey(n);i=(l-o|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<s>>>0?s:i}else i=2147483647;dm(g,i,u,n+12|0);t=g+8|0;_=a[t>>2]|0;Dp(_,c);a[t>>2]=_+24;hm(n,g);pm(g)}Wy(c);nm(h);nm(m);r[n+60>>0]=1;e=e+2|0}}while(0);break e}case 85:{t:do{if((t-e|0)>2&o<<24>>24==85){switch(r[e+1>>0]|0){case 116:{mm(p,15310,8);Gp(d,p);c=n+4|0;i=a[c>>2]|0;_=a[n+8>>2]|0;o=_;if(i>>>0<_>>>0){Dp(i,d);a[c>>2]=(a[c>>2]|0)+24}else{s=a[n>>2]|0;_=i-s|0;u=(_|0)/24|0;l=u+1|0;if((_|0)<-24)ey(n);i=(o-s|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<l>>>0?l:i}else i=2147483647;dm(g,i,u,n+12|0);_=g+8|0;m=a[_>>2]|0;Dp(m,d);a[_>>2]=m+24;hm(n,g);pm(g)}Wy(d);nm(p);i=e+2|0;if((i|0)==(t|0)){o=a[c>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break t;t=o+-24|0;a[c>>2]=t;Wy(t);o=a[c>>2]|0}}if(((r[i>>0]|0)+-48|0)>>>0<10){o=e+3|0;while(1){if((o|0)==(t|0)){o=t;break}if(((r[o>>0]|0)+-48|0)>>>0>=10)break;o=o+1|0}ah((a[c>>2]|0)+-24|0,i,o);i=o}oh((a[c>>2]|0)+-24|0,39);if((i|0)!=(t|0)?(r[i>>0]|0)==95:0){e=i+1|0;break t}o=a[c>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break t;t=o+-24|0;a[c>>2]=t;Wy(t);o=a[c>>2]|0}}case 108:break;default:break t}mm(h,15319,9);Gp(c,h);_=n+4|0;i=a[_>>2]|0;y=a[n+8>>2]|0;o=y;if(i>>>0<y>>>0){Dp(i,c);a[_>>2]=(a[_>>2]|0)+24}else{s=a[n>>2]|0;y=i-s|0;u=(y|0)/24|0;l=u+1|0;if((y|0)<-24)ey(n);i=(o-s|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<l>>>0?l:i}else i=2147483647;dm(g,i,u,n+12|0);y=g+8|0;p=a[y>>2]|0;Dp(p,c);a[y>>2]=p+24;hm(n,g);pm(g)}Wy(c);nm(h);o=e+2|0;do{if((r[o>>0]|0)!=118){i=om(o,t,n)|0;if((i|0)==(o|0)){o=a[_>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break t;t=o+-24|0;a[_>>2]=t;Wy(t);o=a[_>>2]|0}}o=a[_>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0<2)break t;Fp(g,o+-24|0);l=a[_>>2]|0;o=l+-24|0;s=l;while(1){if((s|0)==(o|0))break;y=s+-24|0;a[_>>2]=y;Wy(y);s=a[_>>2]|0}o=r[g>>0]|0;d=(o&1)==0;p=g+8|0;h=g+1|0;y=g+4|0;Xy(l+-48|0,d?h:a[p>>2]|0,d?(o&255)>>>1:a[y>>2]|0)|0;while(1){d=om(i,t,n)|0;if((d|0)==(i|0)){s=91;break}i=a[_>>2]|0;if(((i-(a[n>>2]|0)|0)/24|0)>>>0<2){s=129;break}Fp(m,i+-24|0);n:do{if(!(o&1)){r[h>>0]=0;r[g>>0]=0}else{o=a[p>>2]|0;r[o>>0]=0;a[y>>2]=0;u=a[g>>2]|0;c=(u&-2)+-1|0;s=u&255;do{if(!(s&1)){i=u>>>1&127;if((s&255)<22){zc(h|0,o|0,(u>>>1&127)+1|0)|0;Pp(o);break}o=i+16&240;l=o+-1|0;if((l|0)==(c|0))break n;s=Tp(o)|0;if(l>>>0<=c>>>0&(s|0)==0)break n;zc(s|0,h|0,(u>>>1&127)+1|0)|0;a[g>>2]=o|1;a[y>>2]=i;a[p>>2]=s;break n}else{r[h>>0]=0;Pp(o);i=0}}while(0);r[g>>0]=i<<1}}while(0);a[g>>2]=a[m>>2];a[g+4>>2]=a[m+4>>2];a[g+8>>2]=a[m+8>>2];i=0;while(1){if((i|0)==3)break;a[m+(i<<2)>>2]=0;i=i+1|0}nm(m);l=a[_>>2]|0;i=l+-24|0;o=l;while(1){if((o|0)==(i|0))break;c=o+-24|0;a[_>>2]=c;Wy(c);o=a[_>>2]|0}o=r[g>>0]|0;i=(o&1)==0;s=i?(o&255)>>>1:a[y>>2]|0;if(!s){i=d;continue}am(l+-48|0,15096)|0;Xy((a[_>>2]|0)+-24|0,i?h:a[p>>2]|0,s)|0;i=d}if((s|0)==91){am((a[_>>2]|0)+-24|0,14999)|0;nm(g);o=i;break}else if((s|0)==129){nm(g);break t}}else{oh((a[_>>2]|0)+-24|0,41);o=e+3|0}}while(0);if((o|0)!=(t|0)?(r[o>>0]|0)==69:0){i=o+1|0;if((i|0)==(t|0)){o=a[_>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break t;t=o+-24|0;a[_>>2]=t;Wy(t);o=a[_>>2]|0}}n:do{if(((r[i>>0]|0)+-48|0)>>>0<10){o=o+2|0;while(1){if((o|0)==(t|0)){o=t;break}if(((r[o>>0]|0)+-48|0)>>>0>=10)break;o=o+1|0}y=a[_>>2]|0;m=y+-24|0;u=r[m>>0]|0;s=y+-16|0;if(!(u&1)){l=m+1|0;h=(u&255)>>>1;d=10}else{l=a[s>>2]|0;u=a[m>>2]|0;s=l+7|0;h=a[y+-20>>2]|0;d=(u&-2)+-1|0;u=u&255}p=s-l|0;c=o-i|0;if((o|0)!=(i|0)){if((d-h|0)>>>0>=c>>>0){if(!(u&1))s=m+1|0;else s=a[y+-16>>2]|0;if((h|0)==(p|0))l=s;else{l=s+p|0;Kc(l+c|0,l|0,h-p|0)|0;l=s}}else{sh(m,d,h+c-d|0,h,p,c);l=a[y+-16>>2]|0}s=h+c|0;if(!(r[m>>0]&1))r[m>>0]=s<<1;else a[y+-20>>2]=s;r[l+s>>0]=0;s=l+p|0;while(1){if((i|0)==(o|0)){i=o;break n}r[s>>0]=r[i>>0]|0;i=i+1|0;s=s+1|0}}}}while(0);if((i|0)!=(t|0)?(r[i>>0]|0)==95:0){e=i+1|0;break}o=a[_>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break t;t=o+-24|0;a[_>>2]=t;Wy(t);o=a[_>>2]|0}}o=a[_>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break t;t=o+-24|0;a[_>>2]=t;Wy(t);o=a[_>>2]|0}}}while(0);break e}case 57:case 56:case 55:case 54:case 53:case 52:case 51:case 50:case 49:{e=Up(e,t,n)|0;break e}default:{t=lh(e,t,n)|0;f=b;return t|0}}}}while(0);f=b;return e|0}function rh(e,t){e=e|0;t=t|0;var n=0,i=0;e:do{if((e|0)!=(t|0)){n=r[e>>0]|0;if(n<<24>>24!=95){if(((n<<24>>24)+-48|0)>>>0>=10)break;while(1){e=e+1|0;if((e|0)==(t|0)){e=t;break e}if(((r[e>>0]|0)+-48|0)>>>0>=10)break e}}n=e+1|0;if((n|0)!=(t|0)){n=r[n>>0]|0;if(((n<<24>>24)+-48|0)>>>0<10){e=e+2|0;break}if(n<<24>>24==95){n=e+2|0;while(1){if((n|0)==(t|0))break e;i=r[n>>0]|0;if(((i<<24>>24)+-48|0)>>>0>=10)break;n=n+1|0}return(i<<24>>24==95?n+1|0:e)|0}}}}while(0);return e|0}function ih(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0;s=r[t>>0]|0;n=(s&1)==0;s=n?(s&255)>>>1:a[t+4>>2]|0;e:do{if(!s)fm(e,t);else{i=n?t+1|0:a[t+8>>2]|0;n=s>>>0>11;o=kd(i,15226,n?11:s)|0;if(!(((o|0)==0?s>>>0<11?-1:n&1:o)|0)){eh(t,15830,70);mm(e,15901,12);break}n=s>>>0>12;o=n?12:s;l=kd(i,15238,o)|0;n=s>>>0<12?-1:n&1;if(!(((l|0)==0?n:l)|0)){eh(t,15914,49);mm(e,15964,13);break}l=kd(i,15251,o)|0;if(!(((l|0)==0?n:l)|0)){eh(t,15978,49);mm(e,16028,13);break}o=s>>>0>13;l=kd(i,15264,o?13:s)|0;if(!(((l|0)==0?s>>>0<13?-1:o&1:l)|0)){eh(t,16042,50);mm(e,16093,14);break}n=i+s|0;t:do{if((r[n+-1>>0]|0)==62){s=1;n:while(1){o=n;r:while(1){n=o+-1|0;if((n|0)==(i|0))break n;o=o+-2|0;switch(r[o>>0]|0){case 60:{t=18;break r}case 62:{t=19;break r}default:o=n}}if((t|0)==18){s=s+-1|0;if(!s){n=o;break t}else continue
}else if((t|0)==19){s=s+1|0;continue}}n=0;while(1){if((n|0)==3)break e;a[e+(n<<2)>>2]=0;n=n+1|0}}}while(0);s=n;while(1){o=s+-1|0;if((o|0)==(i|0))break;if((r[o>>0]|0)==58){i=s;break}else s=o}t=n-i|0;if(t>>>0>4294967279)$h(e);if(t>>>0<11){r[e>>0]=t<<1;s=e+1|0}else{l=t+16&-16;s=Tp(l)|0;a[e+8>>2]=s;a[e>>2]=l|1;a[e+4>>2]=t}o=s;while(1){if((i|0)==(n|0))break;r[o>>0]=r[i>>0]|0;i=i+1|0;o=o+1|0}r[s+t>>0]=0}}while(0);return}function ah(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0;s=t;i=r[e>>0]|0;if(!(i&1)){c=(i&255)>>>1;o=10}else{i=a[e>>2]|0;c=a[e+4>>2]|0;o=(i&-2)+-1|0;i=i&255}u=n-s|0;do{if((n|0)!=(t|0)){if((o-c|0)>>>0<u>>>0){sh(e,o,c+u-o|0,c,c,0);i=r[e>>0]|0}if(!(i&1))l=e+1|0;else l=a[e+8>>2]|0;s=n+(c-s)|0;i=t;o=l+c|0;while(1){if((i|0)==(n|0))break;r[o>>0]=r[i>>0]|0;i=i+1|0;o=o+1|0}r[l+s>>0]=0;i=c+u|0;if(!(r[e>>0]&1)){r[e>>0]=i<<1;break}else{a[e+4>>2]=i;break}}}while(0);return}function oh(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0;n=r[e>>0]|0;i=(n&1)!=0;if(i){o=(a[e>>2]&-2)+-1|0;s=a[e+4>>2]|0}else{o=10;s=(n&255)>>>1}if((s|0)==(o|0)){sh(e,o,1,o,o,0);if(!(r[e>>0]&1))i=7;else i=8}else if(i)i=8;else i=7;if((i|0)==7){r[e>>0]=(s<<1)+2;n=e+1|0}else if((i|0)==8){n=a[e+8>>2]|0;a[e+4>>2]=s+1}e=n+s|0;r[e>>0]=t;r[e+1>>0]=0;return}function sh(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0;if((-17-t|0)>>>0<n>>>0)$h(e);if(!(r[e>>0]&1))u=e+1|0;else u=a[e+8>>2]|0;if(t>>>0<2147483623){n=n+t|0;l=t<<1;n=n>>>0<l>>>0?l:n;n=n>>>0<11?11:n+16&-16}else n=-17;l=Tp(n)|0;if(o)zc(l|0,u|0,o|0)|0;if((i|0)!=(o|0))zc(l+o+s|0,u+o|0,i-o|0)|0;if((t|0)!=10)Pp(u);a[e+8>>2]=l;a[e>>2]=n|1;return}function lh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0;ne=f;f=f+1136|0;te=ne+1104|0;l=ne+1080|0;u=ne+1056|0;w=ne+1032|0;N=ne+1008|0;z=ne+984|0;J=ne+960|0;Q=ne+936|0;Z=ne+912|0;$=ne+888|0;ee=ne+864|0;c=ne+840|0;d=ne+816|0;p=ne+792|0;h=ne+768|0;y=ne+744|0;m=ne+720|0;_=ne+696|0;g=ne+672|0;b=ne+648|0;v=ne+624|0;k=ne+600|0;S=ne+576|0;I=ne+552|0;E=ne+528|0;A=ne+504|0;x=ne+480|0;C=ne+456|0;T=ne+432|0;P=ne+408|0;O=ne+384|0;M=ne+360|0;R=ne+336|0;D=ne+312|0;F=ne+288|0;B=ne+264|0;j=ne+240|0;L=ne+216|0;U=ne+192|0;H=ne+168|0;G=ne+144|0;V=ne+120|0;K=ne+96|0;W=ne+72|0;q=ne+48|0;X=ne+24|0;Y=ne;e:do{if((t-e|0)>1)do{switch(r[e>>0]|0){case 97:switch(r[e+1>>0]|0){case 97:{uh(l,15329);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,l);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,l);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(l);t=e+2|0;break e}case 110:case 100:{ch(u,15340);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,u);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,u);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(u);t=e+2|0;break e}case 78:{uh(w,15350);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,w);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,w);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(w);t=e+2|0;break e}case 83:{ch(N,15361);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,N);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,N);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(N);t=e+2|0;break e}default:{t=e;break e}}case 99:switch(r[e+1>>0]|0){case 108:{uh(z,15371);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,z);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,z);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(z);t=e+2|0;break e}case 109:{ch(J,15382);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,J);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,J);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(J);t=e+2|0;break e}case 111:{ch(Q,15392);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,Q);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,Q);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(Q);t=e+2|0;break e}case 118:{ee=n+63|0;$=r[ee>>0]|0;r[ee>>0]=0;te=e+2|0;t=om(te,t,n)|0;r[ee>>0]=$;if((t|0)==(te|0)){t=e;break e}i=a[n+4>>2]|0;if((a[n>>2]|0)==(i|0)){t=e;break e}im(i+-24|0,0,15402)|0;r[n+60>>0]=1;break e}default:{t=e;break e}}case 100:switch(r[e+1>>0]|0){case 97:{Jp(Z,15412);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,Z);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,Z);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(Z);t=e+2|0;break e}case 101:{ch($,15430);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,$);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;Z=a[ee>>2]|0;Dp(Z,$);a[ee>>2]=Z+24;hm(n,te);pm(te)}Wy($);t=e+2|0;break e}case 108:{t=Tp(16)|0;a[ee+8>>2]=t;a[ee>>2]=17;a[ee+4>>2]=15;i=t;o=15440;s=i+15|0;do{r[i>>0]=r[o>>0]|0;i=i+1|0;o=o+1|0}while((i|0)<(s|0));r[t+15>>0]=0;t=ee+12|0;i=0;while(1){if((i|0)==3)break;a[t+(i<<2)>>2]=0;i=i+1|0}t=n+4|0;i=a[t>>2]|0;$=a[n+8>>2]|0;o=$;if(i>>>0<$>>>0){Dp(i,ee);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;$=i-t|0;s=($|0)/24|0;i=s+1|0;if(($|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);$=te+8|0;Z=a[$>>2]|0;Dp(Z,ee);a[$>>2]=Z+24;hm(n,te);pm(te)}Wy(ee);t=e+2|0;break e}case 118:{ch(c,15456);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,c);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,c);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(c);t=e+2|0;break e}case 86:{uh(d,15466);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,d);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,d);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(d);t=e+2|0;break e}default:{t=e;break e}}case 101:switch(r[e+1>>0]|0){case 111:{ch(p,15477);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,p);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,p);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(p);t=e+2|0;break e}case 79:{uh(h,15487);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,h);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,h);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(h);t=e+2|0;break e}case 113:{
uh(y,15498);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,y);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,y);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(y);t=e+2|0;break e}default:{t=e;break e}}case 103:switch(r[e+1>>0]|0){case 101:{uh(m,15509);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,m);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,m);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(m);t=e+2|0;break e}case 116:{ch(_,15520);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,_);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,_);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(_);t=e+2|0;break e}default:{t=e;break e}}case 105:{if((r[e+1>>0]|0)!=120){t=e;break e}uh(g,15530);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,g);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,g);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(g);t=e+2|0;break e}case 108:switch(r[e+1>>0]|0){case 101:{uh(b,15541);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,b);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,b);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(b);t=e+2|0;break e}case 105:{te=e+2|0;t=Up(te,t,n)|0;if((t|0)==(te|0)){t=e;break e}i=a[n+4>>2]|0;if((a[n>>2]|0)==(i|0)){t=e;break e}im(i+-24|0,0,15552)|0;break e}case 115:{uh(v,15564);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,v);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,v);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(v);t=e+2|0;break e}case 83:{Qp(k,15575);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,k);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,k);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(k);t=e+2|0;break e}case 116:{ch(S,15587);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,S);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,S);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(S);t=e+2|0;break e}default:{t=e;break e}}case 109:switch(r[e+1>>0]|0){case 105:{ch(I,15597);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,I);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,I);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(I);t=e+2|0;break e}case 73:{uh(E,15607);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,E);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,E);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(E);t=e+2|0;break e}case 108:{ch(A,15430);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,A);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,A);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(A);t=e+2|0;break e}case 76:{uh(x,15618);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,x);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,x);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(x);t=e+2|0;break e}case 109:{uh(C,15629);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,C);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,C);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(C);t=e+2|0;break e}default:{t=e;break e}}case 110:switch(r[e+1>>0]|0){case 97:{Yp(T,15640);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,T);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,T);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(T);t=e+2|0;break e}case 101:{uh(P,15655);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,P);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,P);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(P);t=e+2|0;break e}case 103:{ch(O,15597);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,O);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,O);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(O);t=e+2|0;break e}case 116:{ch(M,15666);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,M);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,M);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(M);t=e+2|0;break e}case 119:{Zp(R,15676);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,R);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,R);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(R);t=e+2|0;break e}default:{t=e;break e}}case 111:switch(r[e+1>>0]|0){case 111:{uh(D,15689);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,D);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,D);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(D);t=e+2|0;break e}case 114:{ch(F,15700);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,F);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,F);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(F);t=e+2|0;break e}case 82:{uh(B,15710);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,B);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,B);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(B);t=e+2|0;break e}default:{t=e;break e}}case 112:switch(r[e+1>>0]|0){case 109:{
Qp(j,15721);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,j);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,j);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(j);t=e+2|0;break e}case 108:{ch(L,15733);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,L);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,L);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(L);t=e+2|0;break e}case 76:{uh(U,15743);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,U);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,U);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(U);t=e+2|0;break e}case 112:{uh(H,15754);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,H);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,H);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(H);t=e+2|0;break e}case 115:{ch(G,15733);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,G);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,G);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(G);t=e+2|0;break e}case 116:{uh(V,15765);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,V);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,V);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(V);t=e+2|0;break e}default:{t=e;break e}}case 113:{if((r[e+1>>0]|0)!=117){t=e;break e}ch(K,15776);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,K);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,K);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(K);t=e+2|0;break e}case 114:switch(r[e+1>>0]|0){case 109:{ch(W,15786);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,W);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,W);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(W);t=e+2|0;break e}case 77:{uh(q,15796);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,q);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,q);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(q);t=e+2|0;break e}case 115:{uh(X,15807);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,X);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,X);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(X);t=e+2|0;break e}case 83:{Qp(Y,15818);t=n+4|0;i=a[t>>2]|0;ee=a[n+8>>2]|0;o=ee;if(i>>>0<ee>>>0){Dp(i,Y);a[t>>2]=(a[t>>2]|0)+24}else{t=a[n>>2]|0;ee=i-t|0;s=(ee|0)/24|0;i=s+1|0;if((ee|0)<-24)ey(n);t=(o-t|0)/24|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t}else t=2147483647;dm(te,t,s,n+12|0);ee=te+8|0;$=a[ee>>2]|0;Dp($,Y);a[ee>>2]=$+24;hm(n,te);pm(te)}Wy(Y);t=e+2|0;break e}default:{t=e;break e}}case 118:{if(((r[e+1>>0]|0)+-48|0)>>>0>=10){t=e;break e}te=e+2|0;t=Up(te,t,n)|0;if((t|0)==(te|0)){t=e;break e}i=a[n+4>>2]|0;if((a[n>>2]|0)==(i|0)){t=e;break e}im(i+-24|0,0,15402)|0;break e}default:{t=e;break e}}}while(0);else t=e}while(0);f=ne;return t|0}function uh(e,t){e=e|0;t=t|0;var n=0,i=0;r[e>>0]=20;i=e+1|0;n=i+10|0;do{r[i>>0]=r[t>>0]|0;i=i+1|0;t=t+1|0}while((i|0)<(n|0));r[e+11>>0]=0;t=e+12|0;n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}return}function ch(e,t){e=e|0;t=t|0;var n=0,i=0;r[e>>0]=18;i=e+1|0;n=i+9|0;do{r[i>>0]=r[t>>0]|0;i=i+1|0;t=t+1|0}while((i|0)<(n|0));r[e+10>>0]=0;t=e+12|0;n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}return}function fh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0;e:do{if((e|0)!=(t|0))switch(r[e>>0]|0){case 88:{a=e+1|0;i=Rp(a,t,n)|0;if((i|0)==(a|0)|(i|0)==(t|0))break e;e=(r[i>>0]|0)==69?i+1|0:e;break e}case 74:{i=e+1|0;if((i|0)==(t|0))break e;while(1){if((r[i>>0]|0)==69){e=i;break}a=i;i=fh(i,t,n)|0;if((i|0)==(a|0))break e}e=e+1|0;break e}case 76:{a=e+1|0;if((a|0)!=(t|0)?(r[a>>0]|0)==90:0){a=e+2|0;i=rm(a,t,n)|0;if((i|0)==(a|0)|(i|0)==(t|0))break e;e=(r[i>>0]|0)==69?i+1|0:e;break e}e=Ff(e,t,n)|0;break e}default:{e=om(e,t,n)|0;break e}}}while(0);return e|0}function dh(e){e=e|0;var t=0;t=f;f=f+e|0;f=f+15&-16;return t|0}function ph(){return f|0}function hh(e){e=e|0;f=e}function yh(e,t){e=e|0;t=t|0;f=e;d=t}function mh(e,t){e=e|0;t=t|0;if(!_){_=e;g=t}}function _h(e){e=e|0;r[p>>0]=r[e>>0];r[p+1>>0]=r[e+1>>0];r[p+2>>0]=r[e+2>>0];r[p+3>>0]=r[e+3>>0]}function gh(e){e=e|0;r[p>>0]=r[e>>0];r[p+1>>0]=r[e+1>>0];r[p+2>>0]=r[e+2>>0];r[p+3>>0]=r[e+3>>0];r[p+4>>0]=r[e+4>>0];r[p+5>>0]=r[e+5>>0];r[p+6>>0]=r[e+6>>0];r[p+7>>0]=r[e+7>>0]}function bh(e){e=e|0;N=e}function vh(){return N|0}function wh(e){e=e|0;var t=0,n=0,i=0,a=0,s=0,l=0,u=0,c=0;a=vd(e)|0;s=vd(12728)|0;c=(a>>>1)+1|0;l=Tp(c)|0;Uc(l|0,0,c|0)|0;if(!a)return l|0;else{u=0;t=0;c=0}while(1){i=(t|0)==(s|0)?0:t;do{switch(r[e+u>>0]|0){case 102:{n=240;break}case 49:{n=16;break}case 50:{n=32;break}case 51:{n=48;break}case 52:{n=64;break}case 53:{n=80;break}case 54:{n=96;break}case 55:{n=112;break}case 56:{n=128;break}case 57:{n=144;break}case 97:{n=160;break}case 98:{n=176;break}case 99:{n=192;break}case 100:{n=208;break}case 101:{n=224;break}default:n=0}}while(0);do{switch(r[e+(u|1)>>0]|0){case 102:{t=15;break}case 49:{t=1;break}case 50:{t=2;break}case 51:{t=3;break}case 52:{t=4;break}case 53:{t=5;break}case 54:{t=6;break}case 55:{t=7;break}case 56:{t=8;break}case 57:{t=9;break}case 97:{t=10;break}case 98:{t=11;break}case 99:{t=12;break}case 100:{t=13;break}case 101:{t=14;break}default:t=0}}while(0);r[l+c>>0]=o[12728+i>>0]^(t|n);u=u+2|0;if(u>>>0>=a>>>0)break;else{t=i+1|0;c=c+1|0}}return l|0}function kh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0;p=f;f=f+64|0;o=p+8|0;i=p+48|0;s=p+44|0;l=p+40|0;c=p;d=p+16|0;u=p+28|0;if(!(r[n>>0]&1))n=n+1|0;else n=a[n+8>>2]|0;h=c;a[h>>2]=0;a[h+4>>2]=0;h=r[n>>0]|0;n=r[n+((vd(n)|0)+-1)>>0]|0;a[o>>2]=h;a[o+4>>2]=n;Vd(c,8,12746,o)|0;en(d,c,vd(c)|0);a[e>>2]=0;a[e+4>>2]=0;a[e+8>>2]=0;a[u>>2]=0;a[u+4>>2]=0;a[u+8>>2]=0;n=r[d>>0]|0;h=(n&1)==0;n=h?(n&255)>>>1:a[d+4>>2]|0;c=r[t>>0]|0;c=(c&1)==0?(c&255)>>>1:a[t+4>>2]|0;hn(u,h?d+1|0:a[d+8>>2]|0,n,c+n|0);fn(u,(r[t>>0]&1)==0?t+1|0:a[t+8>>2]|0,c)|0;t=r[u>>0]|0;c=(t&1)==0;n=c?u+1|0:a[u+8>>2]|0;a[s>>2]=n;a[l>>2]=n+(c?(t&255)>>>1:a[u+4>>2]|0);a[i>>2]=a[s>>2];a[o>>2]=a[l>>2];Eh(i,o,e);nn(u);nn(d);f=p;return}function Sh(e,t){e=e|0;t=t|0;if(!(r[t>>0]&1))t=t+1|0;else t=a[t+8>>2]|0;t=wh(t)|0;en(e,t,vd(t)|0);Pp(t);return}function Ih(e){e=e|0;at(e|0)|0;cy()}function Eh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0;p=f;f=f+208|0;y=p+160|0;c=p+24|0;h=p+176|0;u=p+16|0;l=p+12|0;d=p;a[u>>2]=a[e>>2];a[l>>2]=a[t>>2];i=h+32|0;a[c>>2]=a[u>>2];a[y>>2]=a[l>>2];Th(c,y,h,i,1048576);l=c+56|0;u=c+4|0;a[c>>2]=2344;a[l>>2]=2364;Pn(c+56|0,u);a[c+128>>2]=0;a[c+132>>2]=-1;a[c>>2]=2384;a[c+56>>2]=2404;Mn(u);a[u>>2]=2420;s=c+36|0;a[s>>2]=0
;a[s+4>>2]=0;a[s+8>>2]=0;a[s+12>>2]=0;a[c+52>>2]=16;a[y>>2]=0;a[y+4>>2]=0;a[y+8>>2]=0;Ph(u,y);nn(y);t=c+(a[(a[c>>2]|0)+-12>>2]|0)+4|0;a[t>>2]=a[t>>2]&-75|8;t=h;e=a[(a[c>>2]|0)+-12>>2]|0;do{a[c+e+12>>2]=2;a[c+(a[(a[c>>2]|0)+-12>>2]|0)+76>>2]=48;er(c,o[t>>0]|0)|0;t=t+1|0;e=a[(a[c>>2]|0)+-12>>2]|0}while((t|0)!=(i|0));y=c+e+4|0;a[y>>2]=a[y>>2]&-75|2;Oh(d,u);if(!(r[n>>0]&1)){r[n+1>>0]=0;r[n>>0]=0;un(n,0);a[n>>2]=a[d>>2];a[n+4>>2]=a[d+4>>2];a[n+8>>2]=a[d+8>>2];a[d>>2]=0;a[d+4>>2]=0;a[d+8>>2]=0;nn(d);a[c>>2]=2384;a[l>>2]=2404;a[u>>2]=2420;nn(s);On(u);An(l);f=p;return}else{r[a[n+8>>2]>>0]=0;a[n+4>>2]=0;un(n,0);a[n>>2]=a[d>>2];a[n+4>>2]=a[d+4>>2];a[n+8>>2]=a[d+8>>2];a[d>>2]=0;a[d+4>>2]=0;a[d+8>>2]=0;nn(d);a[c>>2]=2384;a[l>>2]=2404;a[u>>2]=2420;nn(s);On(u);An(l);f=p;return}}function Ah(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0;n=f;f=f+32|0;o=n+12|0;i=n;en(i,t+4|0,a[t>>2]|0);Em[e&63](o,i);t=r[o>>0]|0;s=(t&1)==0;t=s?(t&255)>>>1:a[o+4>>2]|0;e=Tp(t+4|0)|0;a[e>>2]=t;zc(e+4|0,(s?o+1|0:a[o+8>>2]|0)|0,t|0)|0;nn(o);nn(i);f=n;return e|0}function xh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;i=f;f=f+48|0;l=i+24|0;o=i+12|0;s=i;en(o,t+4|0,a[t>>2]|0);en(s,n+4|0,a[n>>2]|0);Tm[e&1](l,o,s);n=r[l>>0]|0;t=(n&1)==0;n=t?(n&255)>>>1:a[l+4>>2]|0;e=Tp(n+4|0)|0;a[e>>2]=n;zc(e+4|0,(t?l+1|0:a[l+8>>2]|0)|0,n|0)|0;nn(l);nn(s);nn(o);f=i;return e|0}function Ch(){Ve(12751,2,2312,12763,11,34);Ve(12767,3,2320,12779,21,1);return}function Th(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0;o=f;f=f+80|0;s=o+72|0;l=o+68|0;i=o+8|0;c=o+4|0;u=o;d=a[e>>2]|0;t=a[t>>2]|0;e=i+4|0;p=i+28|0;a[i>>2]=0;a[i+4>>2]=0;a[i+8>>2]=0;a[i+12>>2]=0;a[i+16>>2]=0;a[i+20>>2]=0;a[i+24>>2]=0;a[p>>2]=a[623];a[p+4>>2]=a[624];a[p+8>>2]=a[625];a[p+12>>2]=a[626];a[p+16>>2]=a[627];a[p+20>>2]=a[628];a[p+24>>2]=a[629];a[p+28>>2]=a[630];a[c>>2]=d;a[u>>2]=t;a[l>>2]=a[c>>2];a[s>>2]=a[u>>2];zh(i,l,s);Vh(i);Kh(i,n,r);i=a[i>>2]|0;if(!i){f=o;return}if((a[e>>2]|0)!=(i|0))a[e>>2]=i;ry(i);f=o;return}function Ph(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0;l=e+32|0;rn(l,t)|0;s=e+44|0;a[s>>2]=0;u=e+48|0;o=a[u>>2]|0;if(o&8){t=r[l>>0]|0;if(!(t&1)){t=((t&255)>>>1)+(l+1)|0;a[s>>2]=t;n=l+1|0;i=l+1|0}else{i=a[e+40>>2]|0;t=i+(a[e+36>>2]|0)|0;a[s>>2]=t;n=i}a[e+8>>2]=n;a[e+12>>2]=i;a[e+16>>2]=t}if(!(o&16))return;t=r[l>>0]|0;if(!(t&1)){o=(t&255)>>>1;a[s>>2]=l+1+o;t=10;s=o}else{o=a[e+36>>2]|0;a[s>>2]=(a[e+40>>2]|0)+o;t=(a[l>>2]&-2)+-1|0;s=o}sn(l,t,0);t=r[l>>0]|0;if(!(t&1)){o=l+1|0;i=(t&255)>>>1;n=l+1|0}else{n=a[e+40>>2]|0;o=n;i=a[e+36>>2]|0}t=e+24|0;a[t>>2]=n;a[e+20>>2]=n;a[e+28>>2]=o+i;if(!(a[u>>2]&3))return;a[t>>2]=n+s;return}function Oh(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0;n=a[t+48>>2]|0;if(n&16){n=t+44|0;i=a[n>>2]|0;o=a[t+24>>2]|0;if(i>>>0<o>>>0)a[n>>2]=o;else o=i;i=a[t+20>>2]|0;s=o-i|0;if(s>>>0>4294967279)$h(e);if(s>>>0<11){r[e>>0]=s<<1;n=e+1|0}else{t=s+16&-16;n=ny(t)|0;a[e+8>>2]=n;a[e>>2]=t|1;a[e+4>>2]=s}if((i|0)!=(o|0)){t=n;while(1){r[t>>0]=r[i>>0]|0;i=i+1|0;if((i|0)==(o|0))break;else t=t+1|0}n=n+s|0}r[n>>0]=0;return}if(!(n&8)){a[e>>2]=0;a[e+4>>2]=0;a[e+8>>2]=0;return}i=a[t+8>>2]|0;t=a[t+16>>2]|0;s=t-i|0;if(s>>>0>4294967279)$h(e);if(s>>>0<11){r[e>>0]=s<<1;n=e+1|0}else{o=s+16&-16;n=ny(o)|0;a[e+8>>2]=n;a[e>>2]=o|1;a[e+4>>2]=s}if((i|0)!=(t|0)){o=n;while(1){r[o>>0]=r[i>>0]|0;i=i+1|0;if((i|0)==(t|0))break;else o=o+1|0}n=n+s|0}r[n>>0]=0;return}function Nh(e){e=e|0;a[e>>2]=2420;nn(e+32|0);On(e);return}function Mh(e){e=e|0;a[e>>2]=2420;nn(e+32|0);On(e);ry(e);return}function Rh(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,f=0,d=0,p=0;l=t+44|0;u=a[l>>2]|0;d=t+24|0;p=a[d>>2]|0;c=p;if(u>>>0<p>>>0){a[l>>2]=p;f=c}else f=u;l=s&24;if(!l){t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=-1;a[t+4>>2]=-1;return}if((o|0)==1&(l|0)==24){t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=-1;a[t+4>>2]=-1;return}e:do{switch(o|0){case 0:{l=0;u=0;break}case 1:if(!(s&8)){u=c-(a[t+20>>2]|0)|0;l=u;u=((u|0)<0)<<31>>31;break e}else{u=(a[t+12>>2]|0)-(a[t+8>>2]|0)|0;l=u;u=((u|0)<0)<<31>>31;break e}case 2:{l=t+32|0;if(!(r[l>>0]&1))l=l+1|0;else l=a[t+40>>2]|0;u=f-l|0;l=u;u=((u|0)<0)<<31>>31;break}default:{t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=-1;a[t+4>>2]=-1;return}}}while(0);u=Hc(l|0,u|0,n|0,i|0)|0;c=N;if((c|0)>=0){l=t+32|0;if(!(r[l>>0]&1))l=l+1|0;else l=a[t+40>>2]|0;i=f-l|0;n=((i|0)<0)<<31>>31;if(!((n|0)<(c|0)|(n|0)==(c|0)&i>>>0<u>>>0)){l=s&8;if(!((u|0)==0&(c|0)==0)){if((l|0)!=0?(a[t+12>>2]|0)==0:0){t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=-1;a[t+4>>2]=-1;return}if((s&16|0)!=0&(p|0)==0){t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=-1;a[t+4>>2]=-1;return}}if(l){a[t+12>>2]=(a[t+8>>2]|0)+u;a[t+16>>2]=f}if(s&16)a[d>>2]=(a[t+20>>2]|0)+u;t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=u;a[t+4>>2]=c;return}}t=e;a[t>>2]=0;a[t+4>>2]=0;t=e+8|0;a[t>>2]=-1;a[t+4>>2]=-1;return}function Dh(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;n=n+8|0;Mm[a[(a[t>>2]|0)+16>>2]&7](e,t,a[n>>2]|0,a[n+4>>2]|0,0,r);return}function Fh(e){e=e|0;var t=0,n=0,r=0,i=0;t=e+44|0;n=a[t>>2]|0;r=a[e+24>>2]|0;if(n>>>0<r>>>0){a[t>>2]=r;n=r}if(!(a[e+48>>2]&8)){e=-1;return e|0}i=e+16|0;t=a[i>>2]|0;r=a[e+12>>2]|0;if(t>>>0<n>>>0){a[i>>2]=n;t=n}if(r>>>0>=t>>>0){e=-1;return e|0}e=o[r>>0]|0;return e|0}function Bh(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0,c=0;i=e+44|0;n=a[i>>2]|0;o=a[e+24>>2]|0;if(n>>>0<o>>>0){a[i>>2]=o;n=o}u=e+8|0;i=a[u>>2]|0;c=e+12|0;s=a[c>>2]|0;l=i;if(i>>>0>=s>>>0){e=-1;return e|0}if((t|0)==-1){a[u>>2]=i;a[c>>2]=s+-1;a[e+16>>2]=n;e=0;return e|0}if(!(a[e+48>>2]&16)){o=t&255;i=s+-1|0;if(o<<24>>24!=(r[i>>0]|0)){e=-1;return e|0}}else{o=t&255;i=s+-1|0}a[u>>2]=l;a[c>>2]=i;a[e+16>>2]=n;r[i>>0]=o;e=t;return e|0}function jh(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0;b=f;f=f+16|0;h=b;if((t|0)==-1){e=0;f=b;return e|0}y=e+12|0;m=e+8|0;_=(a[y>>2]|0)-(a[m>>2]|0)|0;g=e+24|0;c=a[g>>2]|0;d=e+28|0;n=a[d>>2]|0;if((c|0)==(n|0)){u=e+48|0;if(!(a[u>>2]&16)){e=-1;f=b;return e|0}o=e+20|0;s=a[o>>2]|0;p=e+44|0;l=(a[p>>2]|0)-s|0;i=e+32|0;cn(i,0);if(!(r[i>>0]&1))n=10;else n=(a[i>>2]&-2)+-1|0;sn(i,n,0);n=r[i>>0]|0;if(!(n&1)){i=i+1|0;n=(n&255)>>>1}else{i=a[e+40>>2]|0;n=a[e+36>>2]|0}n=i+n|0;a[o>>2]=i;a[d>>2]=n;c=i+(c-s)|0;a[g>>2]=c;i=i+l|0;a[p>>2]=i;d=p;o=p;l=n}else{i=e+44|0;d=i;u=e+48|0;o=i;i=a[i>>2]|0;l=n}s=c+1|0;a[h>>2]=s;i=a[(s>>>0<i>>>0?o:h)>>2]|0;a[d>>2]=i;if(a[u>>2]&8){n=e+32|0;if(!(r[n>>0]&1))n=n+1|0;else n=a[e+40>>2]|0;a[m>>2]=n;a[y>>2]=n+_;a[e+16>>2]=i}if((c|0)==(l|0)){e=Rm[a[(a[e>>2]|0)+52>>2]&15](e,t&255)|0;f=b;return e|0}else{a[g>>2]=s;r[c>>0]=t;e=t&255;f=b;return e|0}return 0}function Lh(e){e=e|0;var t=0,n=0;a[e>>2]=2384;t=e+56|0;a[t>>2]=2404;n=e+4|0;a[n>>2]=2420;nn(e+36|0);On(n);An(t);return}function Uh(e){e=e|0;var t=0,n=0;a[e>>2]=2384;t=e+56|0;a[t>>2]=2404;n=e+4|0;a[n>>2]=2420;nn(e+36|0);On(n);An(t);ry(e);return}function Hh(e){e=e|0;var t=0,n=0;n=e+(a[(a[e>>2]|0)+-12>>2]|0)|0;a[n>>2]=2384;e=n+56|0;a[e>>2]=2404;t=n+4|0;a[t>>2]=2420;nn(n+36|0);On(t);An(e);return}function Gh(e){e=e|0;var t=0,n=0;e=e+(a[(a[e>>2]|0)+-12>>2]|0)|0;a[e>>2]=2384;t=e+56|0;a[t>>2]=2404;n=e+4|0;a[n>>2]=2420;nn(e+36|0);On(n);An(t);ry(e);return}function zh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;S=f;f=f+16|0;g=S+12|0;_=S+8|0;w=S+4|0;k=S;d=a[t>>2]|0;h=a[n>>2]|0;t=e+12|0;n=(a[t>>2]|0)+(h-d)|0;a[t>>2]=n;if(((n>>>0>65535?(a[t>>2]=n&65535,i=e+16|0,o=(a[i>>2]|0)+(n>>>16)|0,a[i>>2]=o,o>>>0>65535):0)?(a[i>>2]=o&65535,s=e+20|0,l=(a[s>>2]|0)+(o>>>16)|0,a[s>>2]=l,l>>>0>65535):0)?(a[s>>2]=l&65535,u=e+24|0,c=(a[u>>2]|0)+(l>>>16)|0,a[u>>2]=c,c>>>0>65535):0)a[u>>2]=c&65535;m=e+4|0;e:do{if((d|0)==(h|0)){b=m;v=e}else{p=e+8|0;while(1){u=r[d>>0]|0;t=a[m>>2]|0;n=a[p>>2]|0;if(t>>>0>=n>>>0){c=a[e>>2]|0;i=t-c+1|0;if((i|0)<0)break;l=c;t=n-c|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<i>>>0?i:t;i=a[m>>2]|0;n=i-c|0;if(!t){s=0;o=0;t=i}else y=16}else{n=a[m>>2]|0;t=2147483647;i=n;n=n-c|0;y=16}if((y|0)==16){y=0;s=t;o=ny(t)|0;t=i}i=o+n|0;r[i>>0]=u;n=t-c|0;u=i+(0-n)|0;zc(u|0,l|0,n|0)|0;a[e>>2]=u;a[m>>2]=i+1;a[p>>2]=o+s;if(c)ry(l)}else{r[t>>0]=u;a[m>>2]=(a[m>>2]|0)+1}d=d+1|0
;if((d|0)==(h|0)){b=m;v=e;break e}}ey(e)}}while(0);t=a[v>>2]|0;if(((a[b>>2]|0)-t|0)>>>0<64){f=S;return}s=e+28|0;o=64;n=0;while(1){n=t+n|0;a[w>>2]=n;a[k>>2]=n+64;a[_>>2]=a[w>>2];a[g>>2]=a[k>>2];qh(s,_,g);n=o+64|0;i=a[b>>2]|0;e=a[v>>2]|0;t=e;if(n>>>0>(i-e|0)>>>0)break;else{e=o;o=n;n=e}}n=t+o|0;if(!o){f=S;return}k=i-n|0;Kc(t|0,n|0,k|0)|0;t=t+k|0;if((a[m>>2]|0)==(t|0)){f=S;return}a[m>>2]=t;f=S;return}function Vh(e){e=e|0;var t=0,n=0,i=0,o=0,s=0,l=0,u=0,c=0,d=0;c=f;f=f+64|0;u=c;t=u;n=t+64|0;do{r[t>>0]=0;t=t+1|0}while((t|0)<(n|0));l=u+64|0;o=a[e+4>>2]|0;s=a[e>>2]|0;i=o-s|0;Kc(u|0,s|0,i|0)|0;n=u+i|0;r[n>>0]=-128;n=n+1|0;if(i>>>0<=55){t=u+60|0;i=t;if((i-n|0)>0){d=n+-1-i|0;Uc(u+(o+1-s)|0,0,i+((d|0)>-2?d:-2)+2-n|0)|0}}else{i=l;t=n;if((i-t|0)>0){d=t+-1-i|0;Uc(u+(o+1-s)|0,0,i+((d|0)>-2?d:-2)+2-t|0)|0}Wh(e+28|0,u,l);t=u;n=t+60|0;do{r[t>>0]=0;t=t+1|0}while((t|0)<(n|0));t=u+60|0}d=a[e+12>>2]|0;o=a[e+16>>2]|0;i=a[e+20>>2]|0;s=o<<3&65528|d>>>13&65535;o=i<<3&65528|o>>>13&65535;i=a[e+24>>2]<<3&65528|i>>>13&65535;r[u+56>>0]=i>>>8;r[u+57>>0]=i;r[u+58>>0]=o>>>8;r[u+59>>0]=o;r[t>>0]=s>>>8;r[u+61>>0]=s;r[u+62>>0]=d>>>5;r[u+63>>0]=d<<3;Wh(e+28|0,u,l);f=c;return}function Kh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;s=e+28|0;if((t|0)!=(n|0)){i=t;o=0;while(1){t=i+1|0;r[i>>0]=(a[s>>2]|0)>>>(24-(o<<3)|0);o=o+1|0;if((t|0)==(n|0)|o>>>0>3)break;else i=t}}s=e+32|0;if((t|0)==(n|0))return;else o=0;while(1){i=t+1|0;r[t>>0]=(a[s>>2]|0)>>>(24-(o<<3)|0);o=o+1|0;if((i|0)==(n|0)|o>>>0>3){t=i;break}else t=i}s=e+36|0;if((t|0)==(n|0))return;else{i=t;o=0}while(1){t=i+1|0;r[i>>0]=(a[s>>2]|0)>>>(24-(o<<3)|0);o=o+1|0;if((t|0)==(n|0)|o>>>0>3)break;else i=t}s=e+40|0;if((t|0)==(n|0))return;else{i=t;o=0}while(1){t=i+1|0;r[i>>0]=(a[s>>2]|0)>>>(24-(o<<3)|0);o=o+1|0;if((t|0)==(n|0)|o>>>0>3)break;else i=t}s=e+44|0;if((t|0)==(n|0))return;else{i=t;o=0}while(1){t=i+1|0;r[i>>0]=(a[s>>2]|0)>>>(24-(o<<3)|0);o=o+1|0;if((t|0)==(n|0)|o>>>0>3)break;else i=t}s=e+48|0;if((t|0)==(n|0))return;else{i=t;o=0}while(1){t=i+1|0;r[i>>0]=(a[s>>2]|0)>>>(24-(o<<3)|0);o=o+1|0;if((t|0)==(n|0)|o>>>0>3)break;else i=t}s=e+52|0;if((t|0)==(n|0))return;else{i=t;o=0}while(1){t=i+1|0;r[i>>0]=(a[s>>2]|0)>>>(24-(o<<3)|0);o=o+1|0;if((t|0)==(n|0)|o>>>0>3)break;else i=t}o=e+56|0;if((t|0)==(n|0))return;else i=0;do{r[t>>0]=(a[o>>2]|0)>>>(24-(i<<3)|0);t=t+1|0;i=i+1|0}while(!((t|0)==(n|0)|i>>>0>3));return}function Wh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0;T=f;f=f+256|0;p=T;if((t+64|0)!=(n|0))Le(13021,13040,93,13062);Uc(p|0,0,256)|0;n=0;do{C=t+(n<<2)|0;a[p+(n<<2)>>2]=(o[C+1>>0]|0)<<16|(o[C>>0]|0)<<24|(o[C+2>>0]|0)<<8|(o[C+3>>0]|0);n=n+1|0}while((n|0)!=16);n=a[p>>2]|0;t=16;do{C=a[p+(t+-2<<2)>>2]|0;x=n;n=a[p+(t+-15<<2)>>2]|0;a[p+(t<<2)>>2]=x+(a[p+(t+-7<<2)>>2]|0)+((C<<13|C>>>19)^C>>>10^(C<<15|C>>>17))+((n<<14|n>>>18)^n>>>3^(n<<25|n>>>7));t=t+1|0}while((t|0)!=64);h=a[e>>2]|0;y=e+4|0;m=a[y>>2]|0;_=e+8|0;g=a[_>>2]|0;b=e+12|0;v=a[b>>2]|0;w=e+16|0;k=a[w>>2]|0;S=e+20|0;I=a[S>>2]|0;E=e+24|0;A=a[E>>2]|0;x=e+28|0;C=a[x>>2]|0;d=h;u=m;l=g;r=v;i=k;t=I;n=A;s=C;c=0;while(1){s=((i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25))+s+(n&~i^t&i)+(a[2524+(c<<2)>>2]|0)+(a[p+(c<<2)>>2]|0)|0;r=s+r|0;s=((l^u)&d^l&u)+((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+s|0;c=c+1|0;if((c|0)==64){c=d;break}else{O=i;P=d;d=s;i=r;s=n;n=t;t=O;r=l;l=u;u=P}}a[e>>2]=h+s;a[y>>2]=m+c;a[_>>2]=g+u;a[b>>2]=v+l;a[w>>2]=k+r;a[S>>2]=I+i;a[E>>2]=A+t;a[x>>2]=C+n;f=T;return}function qh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0;T=f;f=f+256|0;p=T;r=a[t>>2]|0;if((r+64|0)!=(a[n>>2]|0))Le(13021,13040,93,13062);Uc(p|0,0,256)|0;t=0;do{C=r+(t<<2)|0;a[p+(t<<2)>>2]=(o[C+1>>0]|0)<<16|(o[C>>0]|0)<<24|(o[C+2>>0]|0)<<8|(o[C+3>>0]|0);t=t+1|0}while((t|0)!=16);t=a[p>>2]|0;r=16;do{C=a[p+(r+-2<<2)>>2]|0;x=t;t=a[p+(r+-15<<2)>>2]|0;a[p+(r<<2)>>2]=x+(a[p+(r+-7<<2)>>2]|0)+((C<<13|C>>>19)^C>>>10^(C<<15|C>>>17))+((t<<14|t>>>18)^t>>>3^(t<<25|t>>>7));r=r+1|0}while((r|0)!=64);h=a[e>>2]|0;y=e+4|0;m=a[y>>2]|0;_=e+8|0;g=a[_>>2]|0;b=e+12|0;v=a[b>>2]|0;w=e+16|0;k=a[w>>2]|0;S=e+20|0;I=a[S>>2]|0;E=e+24|0;A=a[E>>2]|0;x=e+28|0;C=a[x>>2]|0;d=h;u=m;l=g;n=v;i=k;r=I;t=A;s=C;c=0;while(1){s=((i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25))+s+(t&~i^r&i)+(a[2524+(c<<2)>>2]|0)+(a[p+(c<<2)>>2]|0)|0;n=s+n|0;s=((l^u)&d^l&u)+((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+s|0;c=c+1|0;if((c|0)==64){c=d;break}else{O=i;P=d;d=s;i=n;s=t;t=r;r=O;n=l;l=u;u=P}}a[e>>2]=h+s;a[y>>2]=m+c;a[_>>2]=g+u;a[b>>2]=v+l;a[w>>2]=k+n;a[S>>2]=I+i;a[E>>2]=A+r;a[x>>2]=C+t;f=T;return}function Xh(e){e=e|0;return Ed(a[e+4>>2]|0)|0}function Yh(e){e=e|0;je(336,16565);et(344,16570,1,1,0);Be(352,16152,1,-128,127);Be(368,16157,1,-128,127);Be(360,16169,1,0,255);Be(376,16183,2,-32768,32767);Be(384,16189,2,0,65535);Be(392,16575,4,-2147483648,2147483647);Be(400,16579,4,0,-1);Be(408,16592,4,-2147483648,2147483647);Be(416,16597,4,0,-1);_t(424,16640,4);_t(432,16646,8);Xt(16,15226);Xt(80,13095);Ze(104,4,13128);Ke(8,13141);Pe(128,0,13157);Pe(136,0,13187);Pe(144,1,13224);Pe(152,2,13263);Pe(160,3,13294);Pe(168,4,13334);Pe(176,5,13363);Pe(184,4,13401);Pe(192,5,13431);Pe(136,0,13470);Pe(144,1,13502);Pe(152,2,13535);Pe(160,3,13568);Pe(168,4,13602);Pe(176,5,13635);Pe(200,6,13669);Pe(208,7,13700);Pe(216,7,13732);return}function Jh(){Yh(0);return}function Qh(e,t){e=e|0;t=t|0;var n=0;n=f;f=f+16|0;a[n>>2]=t;t=a[743]|0;Ud(t,e,n)|0;Nd(10,t)|0;Bt()}function Zh(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0;w=f;f=f+4208|0;b=w+4176|0;s=w;v=w+4112|0;if((e|0)!=0?(o=(t|0)!=0,g=(n|0)==0,!(o&g)):0){if(o)m=a[n>>2]|0;else m=0;a[s+4096>>2]=s;o=s;a[v>>2]=0;_=v+4|0;a[_>>2]=0;a[v+8>>2]=0;a[v+12>>2]=o;c=v+16|0;a[c>>2]=0;d=v+20|0;a[d>>2]=0;a[v+24>>2]=0;a[v+28>>2]=o;a[v+32>>2]=0;s=v+36|0;a[s>>2]=0;a[v+40>>2]=0;p=v+44|0;a[p>>2]=o;u=v+48|0;l=v+61|0;a[u>>2]=0;a[u+4>>2]=0;a[u+8>>2]=0;r[u+12>>0]=0;r[l>>0]=1;u=v+32|0;Gy(b,1,0,p);p=b+8|0;h=a[p>>2]|0;a[h>>2]=0;a[h+4>>2]=0;a[h+8>>2]=0;a[h+12>>2]=o;a[p>>2]=h+16;zy(u,b);Vy(b);p=v+62|0;r[p>>0]=0;r[v+63>>0]=1;a[b>>2]=0;h=e+(vd(e)|0)|0;Ky(e,h,v,b);o=a[b>>2]|0;do{if(!((o|0)!=0|(r[p>>0]|0)==0)){u=a[u>>2]|0;if((u|0)!=(a[s>>2]|0)?(a[u>>2]|0)!=(a[u+4>>2]|0):0){r[p>>0]=0;r[l>>0]=0;o=a[v>>2]|0;while(1){s=a[_>>2]|0;if((s|0)==(o|0))break;u=s+-24|0;a[_>>2]=u;Wy(u)}o=a[c>>2]|0;while(1){s=a[d>>2]|0;if((s|0)==(o|0))break;c=s+-16|0;a[d>>2]=c;qy(c)}Ky(e,h,v,b);if(!(r[p>>0]|0)){o=a[b>>2]|0;y=19;break}else{a[b>>2]=-2;t=0;o=-2;break}}else y=20}else y=19}while(0);if((y|0)==19)if(!o)y=20;else t=0;do{if((y|0)==20){s=a[_>>2]|0;o=r[s+-24>>0]|0;if(!(o&1))l=(o&255)>>>1;else l=a[s+-20>>2]|0;o=r[s+-12>>0]|0;if(!(o&1))o=(o&255)>>>1;else o=a[s+-8>>2]|0;l=o+l|0;o=l+1|0;if(o>>>0>m>>>0){t=Np(t,o)|0;if(!t){a[b>>2]=-1;t=0;o=-1;break}if(!g)a[n>>2]=o}else if(!t){t=0;o=0;break}o=a[_>>2]|0;b=o+-12|0;s=r[b>>0]|0;n=(s&1)==0;Xy(o+-24|0,n?b+1|0:a[o+-4>>2]|0,n?(s&255)>>>1:a[o+-8>>2]|0)|0;o=a[_>>2]|0;s=o+-24|0;if(!(r[s>>0]&1))o=s+1|0;else o=a[o+-16>>2]|0;zc(t|0,o|0,l|0)|0;r[t+l>>0]=0;o=0}}while(0);if(i)a[i>>2]=o;Yy(v)}else if(!i)t=0;else{a[i>>2]=-3;t=0}f=w;return t|0}function $h(e){e=e|0;Le(14582,14611,1164,14678)}function ey(e){e=e|0;Le(14699,14722,303,14678)}function ty(){var e=0,t=0;e=f;f=f+16|0;if(!(ht(2960,2)|0)){t=mt(a[739]|0)|0;f=e;return t|0}else Qh(14789,e);return 0}function ny(e){e=e|0;var t=0;t=(e|0)==0?1:e;while(1){e=Tp(t)|0;if(e){t=6;break}e=fy()|0;if(!e){t=5;break}Pm[e&3]()}if((t|0)==5){t=Ue(4)|0;a[t>>2]=2792;Mt(t|0,224,11)}else if((t|0)==6)return e|0;return 0}function ry(e){e=e|0;Pp(e);return}function iy(e){e=e|0;ry(e);return}function ay(e){e=e|0;a[e>>2]=2792;return}function oy(e){e=e|0;return}function sy(e){e=e|0;ry(e);return}function ly(e){e=e|0;return 14838}function uy(e){e=e|0;var t=0;t=f;f=f+16|0;Pm[e&3]();Qh(14853,t)}function cy(){var e=0,t=0;e=ty()|0;if(((e|0)!=0?(t=a[e>>2]|0,(t|0)!=0):0)?(e=t+48|0,(a[e>>2]&-256|0)==1126902528?(a[e+4>>2]|0)==1129074247:0):0)uy(a[t+12>>2]|0);t=a[695]|0
;a[695]=t+0;uy(t)}function fy(){var e=0;e=a[701]|0;a[701]=e+0;return e|0}function dy(e){e=e|0;return}function py(e){e=e|0;return}function hy(e){e=e|0;return}function yy(e){e=e|0;return}function my(e){e=e|0;return}function _y(e){e=e|0;ry(e);return}function gy(e){e=e|0;ry(e);return}function by(e){e=e|0;ry(e);return}function vy(e){e=e|0;ry(e);return}function wy(e,t,n){e=e|0;t=t|0;n=n|0;return(e|0)==(t|0)|0}function ky(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0;s=f;f=f+64|0;o=s;if((e|0)!=(t|0)){if((t|0)!=0?(i=Cy(t,256,272,0)|0,(i|0)!=0):0){t=o;r=t+56|0;do{a[t>>2]=0;t=t+4|0}while((t|0)<(r|0));a[o>>2]=i;a[o+8>>2]=e;a[o+12>>2]=-1;a[o+48>>2]=1;Fm[a[(a[i>>2]|0)+28>>2]&7](i,o,a[n>>2]|0,1);if((a[o+24>>2]|0)==1){a[n>>2]=a[o+16>>2];t=1}else t=0}else t=0}else t=1;f=s;return t|0}function Sy(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0;e=t+16|0;o=a[e>>2]|0;do{if(o){if((o|0)!=(n|0)){i=t+36|0;a[i>>2]=(a[i>>2]|0)+1;a[t+24>>2]=2;r[t+54>>0]=1;break}e=t+24|0;if((a[e>>2]|0)==2)a[e>>2]=i}else{a[e>>2]=n;a[t+24>>2]=i;a[t+36>>2]=1}}while(0);return}function Iy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if((e|0)==(a[t+8>>2]|0))Sy(0,t,n,r);return}function Ey(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if((e|0)==(a[t+8>>2]|0))Sy(0,t,n,r);else{e=a[e+8>>2]|0;Fm[a[(a[e>>2]|0)+28>>2]&7](e,t,n,r)}return}function Ay(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0;o=a[e+4>>2]|0;i=o>>8;if(o&1)i=a[(a[n>>2]|0)+i>>2]|0;e=a[e>>2]|0;Fm[a[(a[e>>2]|0)+28>>2]&7](e,t,n+i|0,(o&2|0)!=0?r:2);return}function xy(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0;e:do{if((e|0)!=(a[t+8>>2]|0)){s=a[e+12>>2]|0;o=e+16+(s<<3)|0;Ay(e+16|0,t,n,i);if((s|0)>1){s=t+54|0;e=e+24|0;do{Ay(e,t,n,i);if(r[s>>0]|0)break e;e=e+8|0}while(e>>>0<o>>>0)}}else Sy(0,t,n,i)}while(0);return}function Cy(e,t,n,o){e=e|0;t=t|0;n=n|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0;_=f;f=f+64|0;m=_;y=a[e>>2]|0;h=e+(a[y+-8>>2]|0)|0;y=a[y+-4>>2]|0;a[m>>2]=n;a[m+4>>2]=e;a[m+8>>2]=t;a[m+12>>2]=o;c=m+16|0;o=m+20|0;e=m+24|0;t=m+28|0;s=m+32|0;l=m+40|0;u=(y|0)==(n|0);d=c;p=d+36|0;do{a[d>>2]=0;d=d+4|0}while((d|0)<(p|0));i[c+36>>1]=0;r[c+38>>0]=0;e:do{if(u){a[m+48>>2]=1;Mm[a[(a[n>>2]|0)+20>>2]&7](n,m,h,h,1,0);o=(a[e>>2]|0)==1?h:0}else{km[a[(a[y>>2]|0)+24>>2]&3](y,m,h,1,0);switch(a[m+36>>2]|0){case 0:{o=(a[l>>2]|0)==1&(a[t>>2]|0)==1&(a[s>>2]|0)==1?a[o>>2]|0:0;break e}case 1:break;default:{o=0;break e}}if((a[e>>2]|0)!=1?!((a[l>>2]|0)==0&(a[t>>2]|0)==1&(a[s>>2]|0)==1):0){o=0;break}o=a[c>>2]|0}}while(0);f=_;return o|0}function Ty(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;r[t+53>>0]=1;do{if((a[t+4>>2]|0)==(i|0)){r[t+52>>0]=1;i=t+16|0;e=a[i>>2]|0;if(!e){a[i>>2]=n;a[t+24>>2]=o;a[t+36>>2]=1;if(!((o|0)==1?(a[t+48>>2]|0)==1:0))break;r[t+54>>0]=1;break}if((e|0)!=(n|0)){o=t+36|0;a[o>>2]=(a[o>>2]|0)+1;r[t+54>>0]=1;break}e=t+24|0;i=a[e>>2]|0;if((i|0)==2){a[e>>2]=o;i=o}if((i|0)==1?(a[t+48>>2]|0)==1:0)r[t+54>>0]=1}}while(0);return}function Py(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0;e:do{if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(s=t+28|0,(a[s>>2]|0)!=1):0)a[s>>2]=i}else{if((e|0)!=(a[t>>2]|0)){m=a[e+12>>2]|0;u=e+16+(m<<3)|0;Ny(e+16|0,t,n,i,o);s=e+24|0;if((m|0)<=1)break;l=a[e+8>>2]|0;if((l&2|0)==0?(c=t+36|0,(a[c>>2]|0)!=1):0){if(!(l&1)){l=t+54|0;while(1){if(r[l>>0]|0)break e;if((a[c>>2]|0)==1)break e;Ny(s,t,n,i,o);s=s+8|0;if(s>>>0>=u>>>0)break e}}l=t+24|0;e=t+54|0;while(1){if(r[e>>0]|0)break e;if((a[c>>2]|0)==1?(a[l>>2]|0)==1:0)break e;Ny(s,t,n,i,o);s=s+8|0;if(s>>>0>=u>>>0)break e}}l=t+54|0;while(1){if(r[l>>0]|0)break e;Ny(s,t,n,i,o);s=s+8|0;if(s>>>0>=u>>>0)break e}}if((a[t+16>>2]|0)!=(n|0)?(y=t+20|0,(a[y>>2]|0)!=(n|0)):0){a[t+32>>2]=i;h=t+44|0;if((a[h>>2]|0)==4)break;u=e+16+(a[e+12>>2]<<3)|0;c=t+52|0;i=t+53|0;d=t+54|0;f=e+8|0;p=t+24|0;l=0;s=0;e=e+16|0;t:while(1){if(e>>>0>=u>>>0){m=20;break}r[c>>0]=0;r[i>>0]=0;Oy(e,t,n,n,1,o);if(r[d>>0]|0){m=20;break}do{if(r[i>>0]|0){if(!(r[c>>0]|0))if(!(a[f>>2]&1)){s=1;m=20;break t}else{s=1;break}if((a[p>>2]|0)==1){s=1;break t}if(!(a[f>>2]&2)){s=1;break t}else{l=1;s=1}}}while(0);e=e+8|0}if((m|0)==20)if((!l?(a[y>>2]=n,n=t+40|0,a[n>>2]=(a[n>>2]|0)+1,(a[t+36>>2]|0)==1):0)?(a[p>>2]|0)==2:0)r[d>>0]=1;a[h>>2]=s?3:4;break}if((i|0)==1)a[t+32>>2]=1}}while(0);return}function Oy(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0;l=a[e+4>>2]|0;s=l>>8;if(l&1)s=a[(a[r>>2]|0)+s>>2]|0;e=a[e>>2]|0;Mm[a[(a[e>>2]|0)+20>>2]&7](e,t,n,r+s|0,(l&2|0)!=0?i:2,o);return}function Ny(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0;s=a[e+4>>2]|0;o=s>>8;if(s&1)o=a[(a[n>>2]|0)+o>>2]|0;e=a[e>>2]|0;km[a[(a[e>>2]|0)+24>>2]&3](e,t,n+o|0,(s&2|0)!=0?r:2,i);return}function My(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0;do{if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(s=t+28|0,(a[s>>2]|0)!=1):0)a[s>>2]=i}else{if((e|0)!=(a[t>>2]|0)){u=a[e+8>>2]|0;km[a[(a[u>>2]|0)+24>>2]&3](u,t,n,i,o);break}if((a[t+16>>2]|0)!=(n|0)?(l=t+20|0,(a[l>>2]|0)!=(n|0)):0){a[t+32>>2]=i;i=t+44|0;if((a[i>>2]|0)==4)break;s=t+52|0;r[s>>0]=0;c=t+53|0;r[c>>0]=0;e=a[e+8>>2]|0;Mm[a[(a[e>>2]|0)+20>>2]&7](e,t,n,n,1,o);if(r[c>>0]|0){if(!(r[s>>0]|0)){s=1;u=13}else s=1}else{s=0;u=13}if((u|0)==13){a[l>>2]=n;c=t+40|0;a[c>>2]=(a[c>>2]|0)+1;if((a[t+36>>2]|0)==1?(a[t+24>>2]|0)==2:0)r[t+54>>0]=1}a[i>>2]=s?3:4;break}if((i|0)==1)a[t+32>>2]=1}}while(0);return}function Ry(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0;do{if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(l=t+28|0,(a[l>>2]|0)!=1):0)a[l>>2]=i}else if((e|0)==(a[t>>2]|0)){if((a[t+16>>2]|0)!=(n|0)?(s=t+20|0,(a[s>>2]|0)!=(n|0)):0){a[t+32>>2]=i;a[s>>2]=n;o=t+40|0;a[o>>2]=(a[o>>2]|0)+1;if((a[t+36>>2]|0)==1?(a[t+24>>2]|0)==2:0)r[t+54>>0]=1;a[t+44>>2]=4;break}if((i|0)==1)a[t+32>>2]=1}}while(0);return}function Dy(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0;if((e|0)==(a[t+8>>2]|0))Ty(0,t,n,i,o);else{d=t+52|0;p=r[d>>0]|0;h=t+53|0;y=r[h>>0]|0;f=a[e+12>>2]|0;l=e+16+(f<<3)|0;r[d>>0]=0;r[h>>0]=0;Oy(e+16|0,t,n,i,o,s);e:do{if((f|0)>1){u=t+24|0;c=e+8|0;f=t+54|0;e=e+24|0;do{if(r[f>>0]|0)break e;if(!(r[d>>0]|0)){if((r[h>>0]|0)!=0?(a[c>>2]&1|0)==0:0)break e}else{if((a[u>>2]|0)==1)break e;if(!(a[c>>2]&2))break e}r[d>>0]=0;r[h>>0]=0;Oy(e,t,n,i,o,s);e=e+8|0}while(e>>>0<l>>>0)}}while(0);r[d>>0]=p;r[h>>0]=y}return}function Fy(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;if((e|0)==(a[t+8>>2]|0))Ty(0,t,n,r,i);else{e=a[e+8>>2]|0;Mm[a[(a[e>>2]|0)+20>>2]&7](e,t,n,r,i,o)}return}function By(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;if((e|0)==(a[t+8>>2]|0))Ty(0,t,n,r,i);return}function jy(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=f;f=f+16|0;r=i;a[r>>2]=a[n>>2];e=wm[a[(a[e>>2]|0)+16>>2]&31](e,t,r)|0;if(e)a[n>>2]=a[r>>2];f=i;return e&1|0}function Ly(e){e=e|0;if(!e)e=0;else e=(Cy(e,256,304,0)|0)!=0;return e&1|0}function Uy(){var e=0;e=Ue(4)|0;ay(e);Mt(e|0,224,11)}function Hy(){var e=0,t=0,n=0,r=0,i=0,o=0,s=0,l=0;i=f;f=f+48|0;s=i+32|0;n=i+24|0;l=i+16|0;o=i;i=i+36|0;e=ty()|0;if((e|0)!=0?(r=a[e>>2]|0,(r|0)!=0):0){e=r+48|0;t=a[e>>2]|0;e=a[e+4>>2]|0;if(!((t&-256|0)==1126902528&(e|0)==1129074247)){a[n>>2]=a[741];Qh(17041,n)}if((t|0)==1126902529&(e|0)==1129074247)e=a[r+44>>2]|0;else e=r+80|0;a[i>>2]=e;r=a[r>>2]|0;e=a[r+4>>2]|0;if(wm[a[(a[60]|0)+16>>2]&31](240,r,i)|0){l=a[i>>2]|0;i=a[741]|0;l=Cm[a[(a[l>>2]|0)+8>>2]&63](l)|0;a[o>>2]=i;a[o+4>>2]=e;a[o+8>>2]=l;Qh(16955,o)}else{a[l>>2]=a[741];a[l+4>>2]=e;Qh(17e3,l)}}Qh(17079,s)}function Gy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;a[e+12>>2]=0;a[e+16>>2]=r;if(!t)r=0;else r=Uf(a[r>>2]|0,t<<4)|0;a[e>>2]=r;n=r+(n<<4)|0;a[e+8>>2]=n;a[e+4>>2]=n;a[e+12>>2]=r+(t<<4);return}function zy(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0;r=a[e>>2]|0;i=e+4|0;o=t+4|0;n=a[i>>2]|0;while(1){if((n|0)==(r|0))break;c=a[o>>2]|0;l=c+-16|0;s=n+-16|0;a[l>>2]=0;u=c+-12|0;a[u>>2]=0;f=a[n+-4>>2]|0;a[c+-8>>2]=0;a[c+-4>>2]=f;a[l>>2]=a[s>>2];l=n+-12|0;a[u>>2]=a[l>>2];u=n+-8|0;a[c+-8>>2]=a[u>>2];a[u>>2]=0;a[l>>2]=0;a[s>>2]=0;a[o>>2]=(a[o>>2]|0)+-16;n=s}u=a[e>>2]|0;a[e>>2]=a[o>>2];a[o>>2]=u;u=t+8|0;f=a[i>>2]|0;a[i>>2]=a[u>>2];a[u>>2]=f;u=e+8|0;f=t+12|0;c=a[u>>2]|0
;a[u>>2]=a[f>>2];a[f>>2]=c;a[t>>2]=a[o>>2];return}function Vy(e){e=e|0;var t=0,n=0,r=0;t=a[e+4>>2]|0;n=e+8|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;r=r+-16|0;a[n>>2]=r;$y(r)}t=a[e>>2]|0;if(t)em(a[a[e+16>>2]>>2]|0,t,(a[e+12>>2]|0)-t|0);return}function Ky(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0;h=f;f=f+48|0;c=h+24|0;d=h+12|0;p=h;e:do{if(e>>>0<t>>>0){t:do{if((r[e>>0]|0)!=95){if((om(e,t,n)|0)!=(t|0)){a[i>>2]=-2;break e}}else{s=t;if((s-e|0)<=3){a[i>>2]=-2;break e}switch(r[e+1>>0]|0){case 90:{u=e+2|0;e=rm(u,t,n)|0;if(!((e|0)==(u|0)|(e|0)==(t|0))?(r[e>>0]|0)==46:0){o=a[n+4>>2]|0;if((a[n>>2]|0)!=(o|0)){u=o+-24|0;s=s-e|0;if(s>>>0>4294967279)$h(p);if(s>>>0<11){r[p>>0]=s<<1;l=p+1|0}else{o=s+16&-16;l=Tp(o)|0;a[p+8>>2]=l;a[p>>2]=o|1;a[p+4>>2]=s}o=l;while(1){if((e|0)==(t|0))break;r[o>>0]=r[e>>0]|0;e=e+1|0;o=o+1|0}r[l+s>>0]=0;e=im(p,0,14996)|0;a[d>>2]=a[e>>2];a[d+4>>2]=a[e+4>>2];a[d+8>>2]=a[e+8>>2];o=0;while(1){if((o|0)==3)break;a[e+(o<<2)>>2]=0;o=o+1|0}e=am(d,14999)|0;a[c>>2]=a[e>>2];a[c+4>>2]=a[e+4>>2];a[c+8>>2]=a[e+8>>2];o=0;while(1){if((o|0)==3)break;a[e+(o<<2)>>2]=0;o=o+1|0}e=r[c>>0]|0;l=(e&1)==0;Xy(u,l?c+1|0:a[c+8>>2]|0,l?(e&255)>>>1:a[c+4>>2]|0)|0;nm(c);nm(d);nm(p);e=t}}if((e|0)==(t|0))break t;a[i>>2]=-2;break e}case 95:{if((r[e+2>>0]|0)==95?(r[e+3>>0]|0)==90:0){p=e+4|0;e=rm(p,t,n)|0;if((e|0)==(p|0)|(e|0)==(t|0)){a[i>>2]=-2;break e}n:do{if((s-e|0)>12){s=0;o=e;while(1){if((s|0)>=13)break;if((r[o>>0]|0)!=(r[15001+s>>0]|0))break n;s=s+1|0;o=o+1|0}r:do{if((o|0)==(t|0))o=t;else{if((r[o>>0]|0)==95){s=o+1|0;if((s|0)==(t|0))break n;if(((r[s>>0]|0)+-48|0)>>>0>=10)break n;o=o+2|0}while(1){if((o|0)==(t|0)){o=t;break r}if(((r[o>>0]|0)+-48|0)>>>0>=10)break r;o=o+1|0}}}while(0);s=a[n+4>>2]|0;if((a[n>>2]|0)!=(s|0)){im(s+-24|0,0,15015)|0;e=o}}}while(0);if((e|0)==(t|0))break t;a[i>>2]=-2;break e}break}default:{}}a[i>>2]=-2;break e}}while(0);if((a[i>>2]|0)==0?(a[n>>2]|0)==(a[n+4>>2]|0):0)a[i>>2]=-2}else a[i>>2]=-2}while(0);f=h;return}function Wy(e){e=e|0;nm(e+12|0);nm(e);return}function qy(e){e=e|0;var t=0,n=0,r=0;t=a[e>>2]|0;if(t){n=e+4|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;r=r+-24|0;a[n>>2]=r;Wy(r)}r=a[e>>2]|0;em(a[e+12>>2]|0,r,(a[e+8>>2]|0)-r|0)}return}function Xy(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;i=r[e>>0]|0;if(!(i&1))o=10;else{i=a[e>>2]|0;o=(i&-2)+-1|0;i=i&255}if(!(i&1))s=(i&255)>>>1;else s=a[e+4>>2]|0;if((o-s|0)>>>0>=n>>>0){if(n){if(!(i&1))o=e+1|0;else o=a[e+8>>2]|0;zc(o+s|0,t|0,n|0)|0;i=s+n|0;if(!(r[e>>0]&1))r[e>>0]=i<<1;else a[e+4>>2]=i;r[o+i>>0]=0}}else tm(e,o,n-o+s|0,s,s,0,n,t);return e|0}function Yy(e){e=e|0;Zy(e+32|0);$y(e+16|0);qy(e);return}function Jy(){var e=0;e=f;f=f+16|0;if(!(Vt(2956,83)|0)){f=e;return}else Qh(14893,e)}function Qy(e){e=e|0;var t=0;t=f;f=f+16|0;Pp(e);if(!(Pt(a[739]|0,0)|0)){f=t;return}else Qh(14943,t)}function Zy(e){e=e|0;var t=0,n=0,r=0;t=a[e>>2]|0;if(t){n=e+4|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;r=r+-16|0;a[n>>2]=r;$y(r)}r=a[e>>2]|0;em(a[e+12>>2]|0,r,(a[e+8>>2]|0)-r|0)}return}function $y(e){e=e|0;var t=0,n=0,r=0;t=a[e>>2]|0;if(t){n=e+4|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;r=r+-16|0;a[n>>2]=r;qy(r)}r=a[e>>2]|0;em(a[e+12>>2]|0,r,(a[e+8>>2]|0)-r|0)}return}function em(e,t,n){e=e|0;t=t|0;n=n|0;if(e>>>0<=t>>>0&(e+4096|0)>>>0>=t>>>0){e=e+4096|0;if((t+(n+15&-16)|0)==(a[e>>2]|0))a[e>>2]=t}else Pp(t);return}function tm(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,f=0,d=0;if((-18-t|0)>>>0<n>>>0)$h(e);if(!(r[e>>0]&1))d=e+1|0;else d=a[e+8>>2]|0;if(t>>>0<2147483623){c=n+t|0;f=t<<1;c=c>>>0<f>>>0?f:c;c=c>>>0<11?11:c+16&-16}else c=-17;f=Tp(c)|0;if(o)zc(f|0,d|0,o|0)|0;if(l)zc(f+o|0,u|0,l|0)|0;n=i-s|0;if((n|0)!=(o|0))zc(f+o+l|0,d+o+s|0,n-o|0)|0;if((t|0)!=10)Pp(d);a[e+8>>2]=f;a[e>>2]=c|1;t=n+l|0;a[e+4>>2]=t;r[f+t>>0]=0;return}function nm(e){e=e|0;if(r[e>>0]&1)Pp(a[e+8>>2]|0);return}function rm(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0;P=f;f=f+80|0;E=P+60|0;I=P+48|0;_=P+36|0;g=P+24|0;b=P+12|0;v=P;e:do{if((e|0)==(t|0))i=e;else{x=n+56|0;C=a[x>>2]|0;S=C+1|0;a[x>>2]=S;T=n+61|0;A=r[T>>0]|0;if(S>>>0>1)r[T>>0]=1;i=r[e>>0]|0;t:do{switch(i|0){case 84:case 71:{n:do{if((t-e|0)>2){switch(i|0){case 84:break;case 71:switch(r[e+1>>0]|0){case 86:{E=e+2|0;i=Vp(E,t,n)|0;if((i|0)==(E|0)){i=e;break n}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break n}im(o+-24|0,0,16910)|0;break n}case 82:{E=e+2|0;i=Vp(E,t,n)|0;if((i|0)==(E|0)){i=e;break n}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break n}im(o+-24|0,0,16930)|0;break n}default:{i=e;break n}}default:{i=e;break n}}i=e+1|0;switch(r[i>>0]|0){case 86:{E=e+2|0;i=om(E,t,n)|0;if((i|0)==(E|0)){i=e;break n}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break n}im(o+-24|0,0,16759)|0;break n}case 84:{E=e+2|0;i=om(E,t,n)|0;if((i|0)==(E|0)){i=e;break n}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break n}im(o+-24|0,0,16771)|0;break n}case 73:{E=e+2|0;i=om(E,t,n)|0;if((i|0)==(E|0)){i=e;break n}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break n}im(o+-24|0,0,16780)|0;break n}case 83:{E=e+2|0;i=om(E,t,n)|0;if((i|0)==(E|0)){i=e;break n}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break n}im(o+-24|0,0,16794)|0;break n}case 99:{E=e+2|0;i=Qf(E,t)|0;if((i|0)==(E|0)){i=e;break n}o=Qf(i,t)|0;if((o|0)==(i|0)){i=e;break n}i=rm(o,t,n)|0;if((i|0)==(o|0)){i=e;break n}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break n}im(o+-24|0,0,16813)|0;break n}case 67:{S=e+2|0;i=om(S,t,n)|0;if((i|0)==(S|0)){i=e;break n}o=gm(i,t)|0;if((o|0)==(i|0)|(o|0)==(t|0)){i=e;break n}if((r[o>>0]|0)!=95){i=e;break n}S=o+1|0;i=om(S,t,n)|0;if((i|0)==(S|0)){i=e;break n}l=n+4|0;o=a[l>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break n}Fp(E,o+-24|0);u=a[l>>2]|0;o=u+-24|0;s=u;while(1){if((s|0)==(o|0))break;e=s+-24|0;a[l>>2]=e;Wy(e);s=a[l>>2]|0}m=u+-48|0;o=im(E,0,16840)|0;a[g>>2]=a[o>>2];a[g+4>>2]=a[o+4>>2];a[g+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}o=am(g,16865)|0;a[_>>2]=a[o>>2];a[_+4>>2]=a[o+4>>2];a[_+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}Fp(b,(a[l>>2]|0)+-24|0);o=r[b>>0]|0;s=(o&1)==0;o=Xy(_,s?b+1|0:a[b+8>>2]|0,s?(o&255)>>>1:a[b+4>>2]|0)|0;a[I>>2]=a[o>>2];a[I+4>>2]=a[o+4>>2];a[I+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}do{if(r[m>>0]&1){y=u+-40|0;r[a[y>>2]>>0]=0;d=u+-44|0;a[d>>2]=0;o=r[m>>0]|0;if(!(o&1))c=10;else{c=a[m>>2]|0;o=c&255;c=(c&-2)+-1|0}if(!(o&1)){s=(o&255)>>>1;if((o&255)<22){u=10;p=s;h=1}else{u=(s+16&240)+-1|0;p=s;h=1}}else{u=10;p=0;h=0}if((u|0)!=(c|0)){if((u|0)==10){l=m+1|0;s=a[y>>2]|0;if(h){zc(l|0,s|0,((o&255)>>>1)+1|0)|0;Pp(s)}else{r[l>>0]=r[s>>0]|0;Pp(s)}r[m>>0]=p<<1;break}s=u+1|0;l=Tp(s)|0;if(!(u>>>0<=c>>>0&(l|0)==0)){if(h)zc(l|0,m+1|0,((o&255)>>>1)+1|0)|0;else{e=a[y>>2]|0;r[l>>0]=r[e>>0]|0;Pp(e)}a[m>>2]=s|1;a[d>>2]=p;a[y>>2]=l}}}else{r[m+1>>0]=0;r[m>>0]=0}}while(0);a[m>>2]=a[I>>2];a[m+4>>2]=a[I+4>>2];a[m+8>>2]=a[I+8>>2];o=0;while(1){if((o|0)==3)break;a[I+(o<<2)>>2]=0;o=o+1|0}nm(I);nm(b);nm(_);nm(g);nm(E);break n}default:{o=Qf(i,t)|0;if((o|0)==(i|0)){i=e;break n}i=rm(o,t,n)|0;if((i|0)==(o|0)){i=e;break n}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break n}o=o+-24|0;if((r[e+2>>0]|0)==118){im(o,0,16870)|0;break n}else{im(o,0,16888)|0;break n}}}}else i=e}while(0);break}default:{i=Vp(e,t,n)|0;w=a[n+48>>2]|0;k=a[n+52>>2]|0;if((i|0)!=(e|0)){if((i|0)!=(t|0)){switch(r[i>>0]|0){case 46:case 69:break t;default:{}}S=r[T>>0]|0;r[T>>0]=0;o=0;while(1){if((o|0)==3)break;a[E+(o<<2)>>2]=0;o=o+1|0}b=n+4|0;d=a[b>>2]|0;n:do{if((a[n>>2]|0)!=(d|0)){c=d+-24|0;l=r[c>>0]|0;u=(l&1)==0;if(u)o=(l&255)>>>1;else o=a[d+-20>>2]|0;if(o){if(!(r[n+60>>0]|0)){if(u){o=c+1|0;s=(l&255)>>>1}else{o=a[d+-16>>2]|0;s=a[d+-20>>2]|0}if((r[o+s+-1>>0]|0)==62){if(u){o=(l&255)>>>1;s=c+1|0}else{o=a[d+-20>>2]|0;s=a[d+-16>>2]|0}if((r[s+(o+-2)>>0]|0)!=45){if(u){s=(l&255)>>>1;o=c+1|0}else{s=a[d+-20>>2]|0;o=a[d+-16>>2]|0}if((r[o+(s+-2)>>0]|0)!=62){y=om(i,t,n)|0;if((y|0)==(i|0)){i=e;o=0;break}g=a[b>>2]|0;i=g;if(((g-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;o=0;break}o=i+-24|0;a[I>>2]=a[o>>2]
;a[I+4>>2]=a[o+4>>2];a[I+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}h=i+-12|0;r:do{if(!(r[E>>0]&1)){r[E+1>>0]=0;r[E>>0]=0}else{u=E+8|0;o=a[u>>2]|0;r[o>>0]=0;c=E+4|0;a[c>>2]=0;d=a[E>>2]|0;p=(d&-2)+-1|0;s=d&255;do{if(!(s&1)){i=d>>>1&127;if((s&255)<22){zc(E+1|0,o|0,(d>>>1&127)+1|0)|0;Pp(o);break}o=i+16&240;l=o+-1|0;if((l|0)==(p|0))break r;s=Tp(o)|0;if(l>>>0<=p>>>0&(s|0)==0)break r;zc(s|0,E+1|0,(d>>>1&127)+1|0)|0;a[E>>2]=o|1;a[c>>2]=i;a[u>>2]=s;break r}else{r[E+1>>0]=0;Pp(o);i=0}}while(0);r[E>>0]=i<<1}}while(0);a[E>>2]=a[h>>2];a[E+4>>2]=a[h+4>>2];a[E+8>>2]=a[h+8>>2];i=0;while(1){if((i|0)==3)break;a[h+(i<<2)>>2]=0;i=i+1|0}g=r[E>>0]|0;if(!(((g&1)==0?(g&255)>>>1:a[E+4>>2]|0)|0))oh(I,32);i=a[b>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;g=s+-24|0;a[b>>2]=g;Wy(g);s=a[b>>2]|0}o=r[I>>0]|0;g=(o&1)==0;bm(i+-48|0,0,g?I+1|0:a[I+8>>2]|0,g?(o&255)>>>1:a[I+4>>2]|0)|0;nm(I);o=a[b>>2]|0;i=y}else o=d}else o=d}else o=d}else o=d;oh(o+-24|0,40);if((i|0)!=(t|0)?(r[i>>0]|0)==118:0){o=a[n>>2]|0;s=a[b>>2]|0;i=i+1|0}else m=128;do{if((m|0)==128){p=I+4|0;h=v+8|0;y=v+1|0;m=v+4|0;_=I+8|0;g=I+1|0;d=1;r:while(1){o=a[n>>2]|0;s=a[b>>2]|0;while(1){l=(s-o|0)/24|0;u=om(i,t,n)|0;s=a[b>>2]|0;o=a[n>>2]|0;c=(s-o|0)/24|0;if((u|0)==(i|0)){m=151;break r}if(c>>>0>l>>>0){i=u;u=c;break}else i=u}o=0;while(1){if((o|0)==3){o=l;break}a[I+(o<<2)>>2]=0;o=o+1|0}while(1){if(o>>>0>=u>>>0)break;c=r[I>>0]|0;if(((c&1)==0?(c&255)>>>1:a[p>>2]|0)|0)am(I,15096)|0;Fp(v,(a[n>>2]|0)+(o*24|0)|0);c=r[v>>0]|0;s=(c&1)==0;Xy(I,s?y:a[h>>2]|0,s?(c&255)>>>1:a[m>>2]|0)|0;nm(v);o=o+1|0}while(1){if(l>>>0>=u>>>0)break;s=a[b>>2]|0;o=s+-24|0;while(1){if((s|0)==(o|0))break;c=s+-24|0;a[b>>2]=c;Wy(c);s=a[b>>2]|0}l=l+1|0}l=r[I>>0]|0;o=a[p>>2]|0;if(!(((l&1)==0?(l&255)>>>1:o)|0))o=d;else{s=a[b>>2]|0;if((a[n>>2]|0)==(s|0)){m=163;break}if(!d){am(s+-24|0,15096)|0;s=a[b>>2]|0;l=r[I>>0]|0;o=a[p>>2]|0}d=(l&1)==0;Xy(s+-24|0,d?g:a[_>>2]|0,d?(l&255)>>>1:o)|0;o=0}nm(I);d=o}if((m|0)==151)break;else if((m|0)==163){nm(I);i=e;o=0;break n}}}while(0);if((o|0)!=(s|0)){oh(s+-24|0,41);if(w&1)am((a[b>>2]|0)+-24|0,15049)|0;if(w&2)am((a[b>>2]|0)+-24|0,15056)|0;if(w&4)am((a[b>>2]|0)+-24|0,15066)|0;switch(k|0){case 1:{am((a[b>>2]|0)+-24|0,15099)|0;break}case 2:{am((a[b>>2]|0)+-24|0,15102)|0;break}default:{}}o=r[E>>0]|0;I=(o&1)==0;Xy((a[b>>2]|0)+-24|0,I?E+1|0:a[E+8>>2]|0,I?(o&255)>>>1:a[E+4>>2]|0)|0;o=1}else{i=e;o=0}}else{i=e;o=0}}else{i=e;o=0}}while(0);nm(E);r[T>>0]=S;if(!o){r[T>>0]=A;a[x>>2]=C;i=e;break e}}else i=t}else i=e}}}while(0);r[T>>0]=A;a[x>>2]=C}}while(0);f=P;return i|0}function im(e,t,n){e=e|0;t=t|0;n=n|0;return bm(e,t,n,vd(n)|0)|0}function am(e,t){e=e|0;t=t|0;return Xy(e,t,vd(t)|0)|0}function om(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0,ke=0,Se=0,Ie=0;Ie=f;f=f+736|0;Se=Ie+704|0;ke=Ie+680|0;ce=Ie+668|0;te=Ie+656|0;ie=Ie+632|0;he=Ie+608|0;_e=Ie+584|0;se=Ie+572|0;pe=Ie+560|0;ye=Ie+548|0;me=Ie+536|0;Z=Ie+384|0;le=Ie+520|0;oe=Ie+512|0;E=Ie+496|0;p=Ie+488|0;K=Ie+472|0;H=Ie+464|0;A=Ie+448|0;h=Ie+440|0;de=Ie+424|0;fe=Ie+420|0;z=Ie+408|0;ne=Ie+396|0;re=Ie+372|0;V=Ie+360|0;X=Ie+344|0;W=Ie+340|0;g=Ie+328|0;v=Ie+304|0;w=Ie+288|0;k=Ie+276|0;S=Ie+264|0;T=Ie+240|0;P=Ie+228|0;O=Ie+216|0;N=Ie+204|0;M=Ie+192|0;F=Ie+168|0;B=Ie+156|0;j=Ie+144|0;q=Ie+128|0;G=Ie+120|0;I=Ie+104|0;d=Ie+96|0;C=Ie+80|0;_=Ie+72|0;x=Ie+56|0;m=Ie+48|0;ae=Ie+32|0;ee=Ie+24|0;we=Ie+8|0;ve=Ie;e:do{if((e|0)!=(t|0)){switch(r[e>>0]|0){case 75:case 86:case 114:{a[ke>>2]=0;o=sm(e,t,ke)|0;t:do{if((o|0)!=(e|0)?(s=r[o>>0]|0,J=n+4|0,y=((a[J>>2]|0)-(a[n>>2]|0)|0)/24|0,Y=om(o,t,n)|0,J=((a[J>>2]|0)-(a[n>>2]|0)|0)/24|0,(Y|0)!=(o|0)):0){v=s<<24>>24==70;w=n+20|0;o=a[w>>2]|0;n:do{if(v){s=o+-16|0;while(1){if((o|0)==(s|0)){o=s;break n}e=o+-16|0;a[w>>2]=e;qy(e);o=a[w>>2]|0}}}while(0);d=n+16|0;p=a[n+12>>2]|0;e=a[n+24>>2]|0;s=e;if(o>>>0<e>>>0){a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=p;a[w>>2]=(a[w>>2]|0)+16}else{l=a[d>>2]|0;e=o-l|0;c=e>>4;u=c+1|0;if((e|0)<-16)ey(d);o=s-l|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<u>>>0?u:o}else o=2147483647;lm(Se,o,c,n+28|0);e=Se+8|0;t=a[e>>2]|0;a[t>>2]=0;a[t+4>>2]=0;a[t+8>>2]=0;a[t+12>>2]=p;a[e>>2]=t+16;um(d,Se);cm(Se)}g=a[ke>>2]|0;m=(g&1|0)==0;_=(g&2|0)==0;g=(g&4|0)==0;b=Se+8|0;while(1){if(y>>>0>=J>>>0){i=Y;break t}if(v){l=a[n>>2]|0;p=l+(y*24|0)+12|0;u=r[p>>0]|0;o=(u&1)==0;if(o){c=(u&255)>>>1;s=p+1|0}else{c=a[l+(y*24|0)+16>>2]|0;s=a[l+(y*24|0)+20>>2]|0}d=c+-2|0;if((r[s+d>>0]|0)==38)o=c+-3|0;else{if(o){s=p+1|0;o=(u&255)>>>1}else{s=a[l+(y*24|0)+20>>2]|0;o=a[l+(y*24|0)+16>>2]|0}o=(r[s+o+-1>>0]|0)==38?d:c}if(!m){im(p,o,15049)|0;o=o+6|0}if(!_){im((a[n>>2]|0)+(y*24|0)+12|0,o,15056)|0;o=o+9|0}if(!g)im((a[n>>2]|0)+(y*24|0)+12|0,o,15066)|0}else{if(!m)am((a[n>>2]|0)+(y*24|0)|0,15049)|0;if(!_)am((a[n>>2]|0)+(y*24|0)|0,15056)|0;if(!g)am((a[n>>2]|0)+(y*24|0)|0,15066)|0}d=a[w>>2]|0;o=d+-16|0;p=a[n>>2]|0;h=p+(y*24|0)|0;s=d+-12|0;l=a[s>>2]|0;e=a[d+-8>>2]|0;u=e;if((l|0)==(e|0)){s=a[o>>2]|0;e=l-s|0;c=(e|0)/24|0;l=c+1|0;if((e|0)<-24)break;s=(u-s|0)/24|0;if(s>>>0<1073741823){s=s<<1;s=s>>>0<l>>>0?l:s}else s=2147483647;dm(Se,s,c,d+-4|0);e=a[b>>2]|0;fm(e,h);fm(e+12|0,p+(y*24|0)+12|0);a[b>>2]=e+24;hm(o,Se);pm(Se)}else{fm(l,h);fm(l+12|0,p+(y*24|0)+12|0);a[s>>2]=(a[s>>2]|0)+24}y=y+1|0}ey(o)}else i=e}while(0);break e}default:{}}i=ym(e,t,n)|0;if((i|0)==(e|0)){o=r[e>>0]|0;t:do{switch(o<<24>>24|0){case 65:{do{if(o<<24>>24==65?(b=e+1|0,(b|0)!=(t|0)):0){i=r[b>>0]|0;if(i<<24>>24==95){ke=e+2|0;i=om(ke,t,n)|0;if((i|0)==(ke|0)){i=e;break}o=n+4|0;s=a[o>>2]|0;if((a[n>>2]|0)==(s|0)){i=e;break}t=s+-12|0;we=r[t>>0]|0;ke=(we&1)==0;we=ke?(we&255)>>>1:a[s+-8>>2]|0;mm(Se,ke?t+1|0:a[s+-4>>2]|0,we>>>0<2?we:2);we=r[Se>>0]|0;t=(we&1)==0;we=t?(we&255)>>>1:a[Se+4>>2]|0;ke=we>>>0>2;t=kd(t?Se+1|0:a[Se+8>>2]|0,15076,ke?2:we)|0;nm(Se);if(!(((t|0)==0?we>>>0<2?-1:ke&1:t)|0))_m((a[o>>2]|0)+-12|0);im((a[o>>2]|0)+-12|0,0,15079)|0;break}if((i+-49&255)<9){c=gm(b,t)|0;if((c|0)==(t|0)){i=e;break}if((r[c>>0]|0)!=95){i=e;break}we=c+1|0;i=om(we,t,n)|0;if((i|0)==(we|0)){i=e;break}o=n+4|0;s=a[o>>2]|0;if((a[n>>2]|0)==(s|0)){i=e;break}t=s+-12|0;ve=r[t>>0]|0;we=(ve&1)==0;ve=we?(ve&255)>>>1:a[s+-8>>2]|0;mm(ke,we?t+1|0:a[s+-4>>2]|0,ve>>>0<2?ve:2);ve=r[ke>>0]|0;t=(ve&1)==0;ve=t?(ve&255)>>>1:a[ke+4>>2]|0;we=ve>>>0>2;t=kd(t?ke+1|0:a[ke+8>>2]|0,15076,we?2:ve)|0;nm(ke);if(!(((t|0)==0?ve>>>0<2?-1:we&1:t)|0))_m((a[o>>2]|0)+-12|0);d=(a[o>>2]|0)+-12|0;l=c-b|0;if(l>>>0>4294967279)$h(ie);if(l>>>0<11){r[ie>>0]=l<<1;u=ie+1|0}else{t=l+16&-16;u=Tp(t)|0;a[ie+8>>2]=u;a[ie>>2]=t|1;a[ie+4>>2]=l}o=b;s=u;while(1){if((o|0)==(c|0))break;r[s>>0]=r[o>>0]|0;o=o+1|0;s=s+1|0}r[u+l>>0]=0;o=im(ie,0,15076)|0;a[te>>2]=a[o>>2];a[te+4>>2]=a[o+4>>2];a[te+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}o=am(te,15083)|0;a[ce>>2]=a[o>>2];a[ce+4>>2]=a[o+4>>2];a[ce+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}t=r[ce>>0]|0;ke=(t&1)==0;bm(d,0,ke?ce+1|0:a[ce+8>>2]|0,ke?(t&255)>>>1:a[ce+4>>2]|0)|0;nm(ce);nm(te);nm(ie);break}i=Rp(b,t,n)|0;if(((!((i|0)==(b|0)|(i|0)==(t|0))?(r[i>>0]|0)==95:0)?(ke=i+1|0,$=om(ke,t,n)|0,($|0)!=(ke|0)):0)?(L=n+4|0,c=a[L>>2]|0,((c-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){Dp(he,c+-24|0);i=a[L>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;t=s+-24|0;a[L>>2]=t;Wy(t);s=a[L>>2]|0}Dp(_e,i+-48|0);i=a[L>>2]|0;y=i+-24|0;do{if(r[y>>0]&1){h=i+-16|0;r[a[h>>2]>>0]=0;c=i+-20|0;a[c>>2]=0;i=r[y>>0]|0;if(!(i&1))u=10;else{u=a[y>>2]|0;i=u&255;u=(u&-2)+-1|0}if(!(i&1)){o=(i&255)>>>1;if((i&255)<22){p=1;l=10;d=o}else{p=1;l=(o+16&240)+-1|0;d=o}}else{p=0;l=10;d=0}if((l|0)!=(u|0)){if((l|0)==10){s=y+1|0;o=a[h>>2]|0;if(p){zc(s|0,o|0,((i&255)>>>1)+1|0)|0;Pp(o)}else{r[s>>0]=r[o>>0]|0;Pp(o)}r[y>>0]=d<<1;break}o=l+1|0;s=Tp(o)|0;if(!(l>>>0<=u>>>0&(s|0)==0)){if(p)zc(s|0,y+1|0,((i&255)>>>1)+1|0)|0;else{t=a[h>>2]|0;r[s>>0]=r[t>>0]|0;Pp(t)}
a[y>>2]=o|1;a[c>>2]=d;a[h>>2]=s}}}else{r[y+1>>0]=0;r[y>>0]=0}}while(0);a[y>>2]=a[he>>2];a[y+4>>2]=a[he+4>>2];a[y+8>>2]=a[he+8>>2];i=0;while(1){if((i|0)==3)break;a[he+(i<<2)>>2]=0;i=i+1|0}s=he+12|0;we=r[s>>0]|0;t=(we&1)==0;l=he+16|0;we=t?(we&255)>>>1:a[l>>2]|0;u=he+20|0;c=s+1|0;mm(se,t?c:a[u>>2]|0,we>>>0<2?we:2);we=r[se>>0]|0;t=(we&1)==0;we=t?(we&255)>>>1:a[se+4>>2]|0;ke=we>>>0>2;t=kd(t?se+1|0:a[se+8>>2]|0,15076,ke?2:we)|0;nm(se);if(!(((t|0)==0?we>>>0<2?-1:ke&1:t)|0))_m(s);d=a[L>>2]|0;y=d+-12|0;Fp(Z,_e);i=im(Z,0,15076)|0;a[me>>2]=a[i>>2];a[me+4>>2]=a[i+4>>2];a[me+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}i=am(me,15083)|0;a[ye>>2]=a[i>>2];a[ye+4>>2]=a[i+4>>2];a[ye+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}i=r[s>>0]|0;o=(i&1)==0;i=Xy(ye,o?c:a[u>>2]|0,o?(i&255)>>>1:a[l>>2]|0)|0;a[pe>>2]=a[i>>2];a[pe+4>>2]=a[i+4>>2];a[pe+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}do{if(r[y>>0]&1){h=d+-4|0;r[a[h>>2]>>0]=0;c=d+-8|0;a[c>>2]=0;i=r[y>>0]|0;if(!(i&1))u=10;else{u=a[y>>2]|0;i=u&255;u=(u&-2)+-1|0}do{if(!(i&1)){o=(i&255)>>>1;if((i&255)<22){p=1;l=10;d=o;break}p=1;l=(o+16&240)+-1|0;d=o}else{p=0;l=10;d=0}}while(0);if((l|0)!=(u|0)){if((l|0)==10){s=y+1|0;o=a[h>>2]|0;if(p){zc(s|0,o|0,((i&255)>>>1)+1|0)|0;Pp(o)}else{r[s>>0]=r[o>>0]|0;Pp(o)}r[y>>0]=d<<1;break}o=l+1|0;s=Tp(o)|0;if(l>>>0<=u>>>0&(s|0)==0)break;if(p)zc(s|0,y+1|0,((i&255)>>>1)+1|0)|0;else{t=a[h>>2]|0;r[s>>0]=r[t>>0]|0;Pp(t)}a[y>>2]=o|1;a[c>>2]=d;a[h>>2]=s}}else{r[y+1>>0]=0;r[y>>0]=0}}while(0);a[y>>2]=a[pe>>2];a[y+4>>2]=a[pe+4>>2];a[y+8>>2]=a[pe+8>>2];i=0;while(1){if((i|0)==3)break;a[pe+(i<<2)>>2]=0;i=i+1|0}nm(pe);nm(ye);nm(me);nm(Z);Wy(_e);Wy(he);i=$}else i=e}else i=e}while(0);if((i|0)==(e|0)){i=e;break e}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}c=n+16|0;a[oe>>2]=a[n+12>>2];Bp(le,o+-24|0,oe);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[le+12>>2];a[s>>2]=a[le>>2];Se=le+4|0;a[s+4>>2]=a[Se>>2];n=le+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[le>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[le+12>>2];a[e>>2]=a[le>>2];t=le+4|0;a[e+4>>2]=a[t>>2];ke=le+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[le>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(le);break e}case 67:{ke=e+1|0;i=om(ke,t,n)|0;if((i|0)==(ke|0)){i=e;break e}s=n+4|0;o=a[s>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}am(o+-24|0,15085)|0;c=n+16|0;o=(a[s>>2]|0)+-24|0;a[p>>2]=a[n+12>>2];Bp(E,o,p);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[E+12>>2];a[s>>2]=a[E>>2];Se=E+4|0;a[s+4>>2]=a[Se>>2];n=E+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[E>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[E+12>>2];a[e>>2]=a[E>>2];t=E+4|0;a[e+4>>2]=a[t>>2];ke=E+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[E>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(E);break e}case 70:{do{if(o<<24>>24==70){i=e+1|0;if((i|0)!=(t|0)){if((r[i>>0]|0)==89){i=e+2|0;if((i|0)==(t|0))break}s=om(i,t,n)|0;if((s|0)!=(i|0)){mm(Se,15094,1);m=n+4|0;y=Se+4|0;d=ke+8|0;p=ke+1|0;h=ke+4|0;o=0;i=s;n:while(1){r:while(1){if((i|0)==(t|0)){ge=170;break n}switch(r[i>>0]|0){case 69:{ge=174;break n}case 118:{i=i+1|0;continue r}case 82:{s=i+1|0;if((s|0)!=(t|0)?(r[s>>0]|0)==69:0){o=1;i=s;continue n}break}case 79:{s=i+1|0;if((s|0)!=(t|0)?(r[s>>0]|0)==69:0){o=2;i=s;continue n}break}default:{}}s=((a[m>>2]|0)-(a[n>>2]|0)|0)/24|0;u=om(i,t,n)|0;c=((a[m>>2]|0)-(a[n>>2]|0)|0)/24|0;if((u|0)==(i|0)|(u|0)==(t|0))break n;else i=s;while(1){if(i>>>0>=c>>>0)break;we=r[Se>>0]|0;if(((we&1)==0?(we&255)>>>1:a[y>>2]|0)>>>0>1)am(Se,15096)|0;Fp(ke,(a[n>>2]|0)+(i*24|0)|0);we=r[ke>>0]|0;ve=(we&1)==0;Xy(Se,ve?p:a[d>>2]|0,ve?(we&255)>>>1:a[h>>2]|0)|0;nm(ke);i=i+1|0}while(1){if(s>>>0>=c>>>0){i=u;continue r}l=a[m>>2]|0;i=l+-24|0;while(1){if((l|0)==(i|0))break;we=l+-24|0;a[m>>2]=we;Wy(we);l=a[m>>2]|0}s=s+1|0}}}n:do{if((ge|0)==170){o=a[m>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0))break n;n=o+-24|0;a[m>>2]=n;Wy(n);o=a[m>>2]|0}}else if((ge|0)==174){i=i+1|0;am(Se,14999)|0;switch(o|0){case 1:{am(Se,15099)|0;break}case 2:{am(Se,15102)|0;break}default:{}}o=a[m>>2]|0;if((a[n>>2]|0)!=(o|0)){am(o+-24|0,15106)|0;t=r[Se>>0]|0;ke=(t&1)==0;bm((a[m>>2]|0)+-12|0,0,ke?Se+1|0:a[Se+8>>2]|0,ke?(t&255)>>>1:a[y>>2]|0)|0;nm(Se);if((i|0)==(e|0)){i=e;break e}o=a[m>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}c=n+16|0;a[H>>2]=a[n+12>>2];Bp(K,o+-24|0,H);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[K+12>>2];a[s>>2]=a[K>>2];Se=K+4|0;a[s+4>>2]=a[Se>>2];n=K+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[K>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[K+12>>2];a[e>>2]=a[K>>2];t=K+4|0;a[e+4>>2]=a[t>>2];ke=K+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[K>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(K);break e}}}while(0);nm(Se);break}}i=e;break e}}while(0);i=e;break e}case 71:{ke=e+1|0;i=om(ke,t,n)|0;if((i|0)==(ke|0)){i=e;break e}s=n+4|0;o=a[s>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}am(o+-24|0,15108)|0;c=n+16|0;o=(a[s>>2]|0)+-24|0;a[h>>2]=a[n+12>>2];Bp(A,o,h);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[A+12>>2];a[s>>2]=a[A>>2];Se=A+4|0;a[s+4>>2]=a[Se>>2];n=A+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[A>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[A+12>>2];a[e>>2]=a[A>>2];t=A+4|0;a[e+4>>2]=a[t>>2];ke=A+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[A>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(A);break e}case 77:{if(((o<<24>>24==77?(we=e+1|0,l=om(we,t,n)|0,(l|0)!=(we|0)):0)?(ue=om(l,t,n)|0,(ue|0)!=(l|0)):0)?(Q=n+4|0,u=a[Q>>2]|0,((u-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){Dp(Se,u+-24|0);i=a[Q>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;t=s+-24|0;a[Q>>2]=t;Wy(t);s=a[Q>>2]|0}Dp(ke,i+-48|0);m=Se+12|0;s=a[Q>>2]|0;y=s+-24|0;n:do{if((r[((r[m>>0]&1)==0?m+1|0:a[Se+20>>2]|0)>>0]|0)==40){i=am(Se,15094)|0;a[ie>>2]=a[i>>2];a[ie+4>>2]=a[i+4>>2];a[ie+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}Fp(he,ke);i=r[he>>0]|0;o=(i&1)==0;i=Xy(ie,o?he+1|0:a[he+8>>2]|0,o?(i&255)>>>1:a[he+4>>2]|0)|0;a[te>>2]=a[i>>2];a[te+4>>2]=a[i+4>>2];a[te+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}i=am(te,15119)|0;a[ce>>2]=a[i>>2];a[ce+4>>2]=a[i+4>>2];a[ce+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}do{if(r[y>>0]&1){h=s+-16|0;r[a[h>>2]>>0]=0;c=s+-20|0;a[c>>2]=0;i=r[y>>0]|0;if(!(i&1))u=10;else{u=a[y>>2]|0;i=u&255;u=(u&-2)+-1|0}if(!(i&1)){o=(i&255)>>>1;if((i&255)<22){p=1;l=10;d=o}else{p=1;l=(o+16&240)+-1|0;d=o}}else{p=0;l=10;d=0}if((l|0)!=(u|0)){if((l|0)==10){s=y+1|0;o=a[h>>2]|0;if(p){zc(s|0,o|0,((i&255)>>>1)+1|0)|0;Pp(o)}else{r[s>>0]=r[o>>0]|0;Pp(o)}r[y>>0]=d<<1;break}o=l+1|0;s=Tp(o)|0;if(!(l>>>0<=u>>>0&(s|0)==0)){if(p)zc(s|0,y+1|0,((i&255)>>>1)+1|0)|0;else{t=a[h>>2]|0;r[s>>0]=r[t>>0]|0;Pp(t)}a[y>>2]=o|1;a[c>>2]=d;a[h>>2]=s}}}else{r[y+1>>0]=0;r[y>>0]=0}}while(0);a[y>>2]=a[ce>>2];a[y+4>>2]=a[ce+4>>2];a[y+8>>2]=a[ce+8>>2];i=0;while(1){if((i|0)==3)break;a[ce+(i<<2)>>2]=0;i=i+1|0}nm(ce);nm(te);nm(he);nm(ie);s=a[Q>>2]|0;i=im(m,0,14999)|0;a[_e>>2]=a[i>>2];a[_e+4>>2]=a[i+4>>2];a[_e+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}y=s+-12|0;do{if(r[y>>0]&1){h=s+-4|0;r[a[h>>2]>>0]=0;c=s+-8|0;a[c>>2]=0;i=r[y>>0]|0;if(!(i&1))u=10;else{u=a[y>>2]|0;i=u&255;u=(u&-2)+-1|0}if(!(i&1)){o=(i&255)>>>1;if((i&255)<22){p=1;l=10;d=o}else{p=1;l=(o+16&240)+-1|0;d=o}}else{p=0;l=10;d=0}if((l|0)!=(u|0)){if((l|0)==10){s=y+1|0
;o=a[h>>2]|0;if(p){zc(s|0,o|0,((i&255)>>>1)+1|0)|0;Pp(o)}else{r[s>>0]=r[o>>0]|0;Pp(o)}r[y>>0]=d<<1;break}o=l+1|0;s=Tp(o)|0;if(!(l>>>0<=u>>>0&(s|0)==0)){if(p)zc(s|0,y+1|0,((i&255)>>>1)+1|0)|0;else{t=a[h>>2]|0;r[s>>0]=r[t>>0]|0;Pp(t)}a[y>>2]=o|1;a[c>>2]=d;a[h>>2]=s}}}else{r[y+1>>0]=0;r[y>>0]=0}}while(0);a[y>>2]=a[_e>>2];a[y+4>>2]=a[_e+4>>2];a[y+8>>2]=a[_e+8>>2];i=0;while(1){if((i|0)==3)break;a[_e+(i<<2)>>2]=0;i=i+1|0}nm(_e)}else{i=am(Se,15106)|0;a[ye>>2]=a[i>>2];a[ye+4>>2]=a[i+4>>2];a[ye+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}Fp(me,ke);i=r[me>>0]|0;o=(i&1)==0;i=Xy(ye,o?me+1|0:a[me+8>>2]|0,o?(i&255)>>>1:a[me+4>>2]|0)|0;a[pe>>2]=a[i>>2];a[pe+4>>2]=a[i+4>>2];a[pe+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}i=am(pe,15119)|0;a[se>>2]=a[i>>2];a[se+4>>2]=a[i+4>>2];a[se+8>>2]=a[i+8>>2];o=0;while(1){if((o|0)==3)break;a[i+(o<<2)>>2]=0;o=o+1|0}do{if(r[y>>0]&1){h=s+-16|0;r[a[h>>2]>>0]=0;c=s+-20|0;a[c>>2]=0;i=r[y>>0]|0;if(!(i&1))u=10;else{i=a[y>>2]|0;u=(i&-2)+-1|0;i=i&255}if(!(i&1)){o=(i&255)>>>1;if((i&255)<22){d=o;p=1;l=10}else{d=o;p=1;l=(o+16&240)+-1|0}}else{d=0;p=0;l=10}if((l|0)!=(u|0)){if((l|0)==10){s=y+1|0;o=a[h>>2]|0;if(p){zc(s|0,o|0,((i&255)>>>1)+1|0)|0;Pp(o)}else{r[s>>0]=r[o>>0]|0;Pp(o)}r[y>>0]=d<<1;break}o=l+1|0;s=Tp(o)|0;if(!(l>>>0<=u>>>0&(s|0)==0)){if(p)zc(s|0,y+1|0,((i&255)>>>1)+1|0)|0;else{t=a[h>>2]|0;r[s>>0]=r[t>>0]|0;Pp(t)}a[y>>2]=o|1;a[c>>2]=d;a[h>>2]=s}}}else{r[y+1>>0]=0;r[y>>0]=0}}while(0);a[y>>2]=a[se>>2];a[y+4>>2]=a[se+4>>2];a[y+8>>2]=a[se+8>>2];i=0;while(1){if((i|0)==3)break;a[se+(i<<2)>>2]=0;i=i+1|0}nm(se);nm(pe);nm(me);nm(ye);i=a[Q>>2]|0;y=i+-12|0;do{if(r[y>>0]&1){h=i+-4|0;r[a[h>>2]>>0]=0;c=i+-8|0;a[c>>2]=0;i=r[y>>0]|0;if(!(i&1))u=10;else{u=a[y>>2]|0;i=u&255;u=(u&-2)+-1|0}if(!(i&1)){o=(i&255)>>>1;if((i&255)<22){l=10;d=o;p=1}else{l=(o+16&240)+-1|0;d=o;p=1}}else{l=10;d=0;p=0}if((l|0)!=(u|0)){if((l|0)==10){s=y+1|0;o=a[h>>2]|0;if(p){zc(s|0,o|0,((i&255)>>>1)+1|0)|0;Pp(o)}else{r[s>>0]=r[o>>0]|0;Pp(o)}r[y>>0]=d<<1;break}o=l+1|0;s=Tp(o)|0;if(!(l>>>0<=u>>>0&(s|0)==0)){if(p)zc(s|0,y+1|0,((i&255)>>>1)+1|0)|0;else{t=a[h>>2]|0;r[s>>0]=r[t>>0]|0;Pp(t)}a[y>>2]=o|1;a[c>>2]=d;a[h>>2]=s}}}else{r[y+1>>0]=0;r[y>>0]=0}}while(0);a[y>>2]=a[m>>2];a[y+4>>2]=a[m+4>>2];a[y+8>>2]=a[m+8>>2];i=0;while(1){if((i|0)==3)break n;a[m+(i<<2)>>2]=0;i=i+1|0}}}while(0);Wy(ke);Wy(Se);i=ue}else i=e;if((i|0)==(e|0)){i=e;break e}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}c=n+16|0;a[fe>>2]=a[n+12>>2];Bp(de,o+-24|0,fe);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[de+12>>2];a[s>>2]=a[de>>2];Se=de+4|0;a[s+4>>2]=a[Se>>2];n=de+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[de>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[de+12>>2];a[e>>2]=a[de>>2];t=de+4|0;a[e+4>>2]=a[t>>2];ke=de+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[de>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(de);break e}case 79:{v=n+4|0;h=((a[v>>2]|0)-(a[n>>2]|0)|0)/24|0;ke=e+1|0;i=om(ke,t,n)|0;v=((a[v>>2]|0)-(a[n>>2]|0)|0)/24|0;if((i|0)==(ke|0)){i=e;break e}d=n+16|0;p=a[n+12>>2]|0;w=n+20|0;o=a[w>>2]|0;ke=a[n+24>>2]|0;s=ke;if(o>>>0<ke>>>0){a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=p;a[w>>2]=(a[w>>2]|0)+16}else{l=a[d>>2]|0;ke=o-l|0;c=ke>>4;u=c+1|0;if((ke|0)<-16)ey(d);o=s-l|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<u>>>0?u:o}else o=2147483647;lm(Se,o,c,n+28|0);ke=Se+8|0;ge=a[ke>>2]|0;a[ge>>2]=0;a[ge+4>>2]=0;a[ge+8>>2]=0;a[ge+12>>2]=p;a[ke>>2]=ge+16;um(d,Se);cm(Se)}m=z+4|0;_=z+8|0;g=z+1|0;b=Se+8|0;while(1){if(h>>>0>=v>>>0)break e;ke=a[n>>2]|0;ge=ke+(h*24|0)+12|0;_e=r[ge>>0]|0;s=(_e&1)==0;_e=s?(_e&255)>>>1:a[ke+(h*24|0)+16>>2]|0;mm(z,s?ge+1|0:a[ke+(h*24|0)+20>>2]|0,_e>>>0<2?_e:2);_e=r[z>>0]|0;ke=(_e&1)==0;_e=ke?(_e&255)>>>1:a[m>>2]|0;ge=_e>>>0>2;ke=kd(ke?g:a[_>>2]|0,15076,ge?2:_e)|0;nm(z);s=a[n>>2]|0;if(((ke|0)==0?_e>>>0<2?-1:ge&1:ke)|0){o=s+(h*24|0)+12|0;if(!(r[o>>0]&1))o=o+1|0;else o=a[s+(h*24|0)+20>>2]|0;if((r[o>>0]|0)==40){am(s+(h*24|0)|0,15094)|0;im((a[n>>2]|0)+(h*24|0)+12|0,0,14999)|0}}else{am(s+(h*24|0)|0,14996)|0;im((a[n>>2]|0)+(h*24|0)+12|0,0,14999)|0}am((a[n>>2]|0)+(h*24|0)|0,15123)|0;c=a[w>>2]|0;d=c+-16|0;p=a[n>>2]|0;y=p+(h*24|0)|0;o=c+-12|0;s=a[o>>2]|0;ke=a[c+-8>>2]|0;l=ke;if((s|0)==(ke|0)){o=a[d>>2]|0;ke=s-o|0;u=(ke|0)/24|0;s=u+1|0;if((ke|0)<-24){i=d;break}o=(l-o|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<s>>>0?s:o}else o=2147483647;dm(Se,o,u,c+-4|0);ke=a[b>>2]|0;fm(ke,y);fm(ke+12|0,p+(h*24|0)+12|0);a[b>>2]=ke+24;hm(d,Se);pm(Se)}else{fm(s,y);fm(s+12|0,p+(h*24|0)+12|0);a[o>>2]=(a[o>>2]|0)+24}h=h+1|0}ey(i);break}case 80:{A=n+4|0;h=((a[A>>2]|0)-(a[n>>2]|0)|0)/24|0;E=e+1|0;i=om(E,t,n)|0;A=((a[A>>2]|0)-(a[n>>2]|0)|0)/24|0;if((i|0)==(E|0)){i=e;break e}d=n+16|0;p=a[n+12>>2]|0;x=n+20|0;o=a[x>>2]|0;ke=a[n+24>>2]|0;s=ke;if(o>>>0<ke>>>0){a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=p;a[x>>2]=(a[x>>2]|0)+16}else{l=a[d>>2]|0;ke=o-l|0;c=ke>>4;u=c+1|0;if((ke|0)<-16)ey(d);o=s-l|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<u>>>0?u:o}else o=2147483647;lm(Se,o,c,n+28|0);ke=Se+8|0;_e=a[ke>>2]|0;a[_e>>2]=0;a[_e+4>>2]=0;a[_e+8>>2]=0;a[_e+12>>2]=p;a[ke>>2]=_e+16;um(d,Se);cm(Se)}g=ne+4|0;b=ne+8|0;v=ne+1|0;w=re+4|0;k=re+8|0;S=re+1|0;I=Se+8|0;while(1){if(h>>>0>=A>>>0)break e;ke=a[n>>2]|0;_e=ke+(h*24|0)+12|0;me=r[_e>>0]|0;s=(me&1)==0;me=s?(me&255)>>>1:a[ke+(h*24|0)+16>>2]|0;mm(ne,s?_e+1|0:a[ke+(h*24|0)+20>>2]|0,me>>>0<2?me:2);me=r[ne>>0]|0;ke=(me&1)==0;me=ke?(me&255)>>>1:a[g>>2]|0;_e=me>>>0>2;ke=kd(ke?v:a[b>>2]|0,15076,_e?2:me)|0;nm(ne);s=a[n>>2]|0;if(((ke|0)==0?me>>>0<2?-1:_e&1:ke)|0){o=s+(h*24|0)+12|0;if(!(r[o>>0]&1))o=o+1|0;else o=a[s+(h*24|0)+20>>2]|0;if((r[o>>0]|0)==40){am(s+(h*24|0)|0,15094)|0;im((a[n>>2]|0)+(h*24|0)+12|0,0,14999)|0}}else{am(s+(h*24|0)|0,14996)|0;im((a[n>>2]|0)+(h*24|0)+12|0,0,14999)|0}s=a[n>>2]|0;o=s+(h*24|0)|0;do{if((r[E>>0]|0)==85){me=r[o>>0]|0;ke=(me&1)==0;me=ke?(me&255)>>>1:a[s+(h*24|0)+4>>2]|0;mm(re,ke?o+1|0:a[s+(h*24|0)+8>>2]|0,me>>>0<12?me:12);me=r[re>>0]|0;ke=(me&1)==0;me=ke?(me&255)>>>1:a[w>>2]|0;_e=me>>>0>12;ke=kd(ke?S:a[k>>2]|0,15126,_e?12:me)|0;nm(re);_=a[n>>2]|0;o=_+(h*24|0)|0;if(!(((ke|0)==0?me>>>0<12?-1:_e&1:ke)|0)){s=r[o>>0]|0;if(!(s&1)){p=(s&255)>>>1;m=p;p=p>>>0<11?p:11;l=10}else{p=a[_+(h*24|0)+4>>2]|0;s=a[o>>2]|0;m=p;p=p>>>0<11?p:11;l=(s&-2)+-1|0;s=s&255}if((p-m+l|0)>>>0<2){tm(o,l,2-p+m-l|0,m,0,p,2,15141);break}if(!(s&1))y=o+1|0;else y=a[_+(h*24|0)+8>>2]|0;do{if((p|0)!=2){d=m-p|0;if((m|0)==(p|0)){u=0;c=15141;l=2;s=p;ge=402}else{if(p>>>0>2){r[y>>0]=105;r[y+1>>0]=100;Kc(y+2|0,y+p|0,d|0)|0;l=2;s=p;break}do{if(y>>>0<15141>>>0&(y+m|0)>>>0>15141>>>0){if((y+p|0)>>>0>15141>>>0){zc(y|0,15141,p|0)|0;u=p;c=15143;l=2-p|0;s=0;break}else{u=0;c=15141+(2-p)|0;l=2;s=p;break}}else{u=0;c=15141;l=2;s=p}}while(0);ge=y+u|0;Kc(ge+l|0,ge+s|0,d|0)|0;ge=402}}else{u=0;c=15141;l=2;s=2;ge=402}}while(0);if((ge|0)==402){ge=0;Kc(y+u|0,c|0,l|0)|0}s=l-s+m|0;if(!(r[o>>0]&1))r[o>>0]=s<<1;else a[_+(h*24|0)+4>>2]=s;r[y+s>>0]=0}else ge=385}else ge=385}while(0);if((ge|0)==385){ge=0;am(o,15139)|0}c=a[x>>2]|0;d=c+-16|0;p=a[n>>2]|0;y=p+(h*24|0)|0;o=c+-12|0;s=a[o>>2]|0;ke=a[c+-8>>2]|0;l=ke;if((s|0)==(ke|0)){o=a[d>>2]|0;ke=s-o|0;u=(ke|0)/24|0;s=u+1|0;if((ke|0)<-24){i=d;break}o=(l-o|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<s>>>0?s:o}else o=2147483647;dm(Se,o,u,c+-4|0);ke=a[I>>2]|0;fm(ke,y);fm(ke+12|0,p+(h*24|0)+12|0);a[I>>2]=ke+24;hm(d,Se);pm(Se)}else{fm(s,y);fm(s+12|0,p+(h*24|0)+12|0);a[o>>2]=(a[o>>2]|0)+24}h=h+1|0}ey(i);break}case 82:{v=n+4|0;h=((a[v>>2]|0)-(a[n>>2]|0)|0)/24|0;ke=e+1|0;i=om(ke,t,n)|0;v=((a[v>>2]|0)-(a[n>>2]|0)|0)/24|0;if((i|0)==(ke|0)){i=e;break e}d=n+16|0;p=a[n+12>>2]|0;w=n+20|0;o=a[w>>2]|0;ke=a[n+24>>2]|0;s=ke;if(o>>>0<ke>>>0){a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=p;a[w>>2]=(a[w>>2]|0)+16}else{l=a[d>>2]|0;ke=o-l|0;c=ke>>4;u=c+1|0;if((ke|0)<-16)ey(d);o=s-l|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<u>>>0?u:o}else o=2147483647;lm(Se,o,c,n+28|0);ke=Se+8|0;ge=a[ke>>2]|0
;a[ge>>2]=0;a[ge+4>>2]=0;a[ge+8>>2]=0;a[ge+12>>2]=p;a[ke>>2]=ge+16;um(d,Se);cm(Se)}m=V+4|0;_=V+8|0;g=V+1|0;b=Se+8|0;while(1){if(h>>>0>=v>>>0)break e;ke=a[n>>2]|0;ge=ke+(h*24|0)+12|0;_e=r[ge>>0]|0;s=(_e&1)==0;_e=s?(_e&255)>>>1:a[ke+(h*24|0)+16>>2]|0;mm(V,s?ge+1|0:a[ke+(h*24|0)+20>>2]|0,_e>>>0<2?_e:2);_e=r[V>>0]|0;ke=(_e&1)==0;_e=ke?(_e&255)>>>1:a[m>>2]|0;ge=_e>>>0>2;ke=kd(ke?g:a[_>>2]|0,15076,ge?2:_e)|0;nm(V);s=a[n>>2]|0;if(((ke|0)==0?_e>>>0<2?-1:ge&1:ke)|0){o=s+(h*24|0)+12|0;if(!(r[o>>0]&1))o=o+1|0;else o=a[s+(h*24|0)+20>>2]|0;if((r[o>>0]|0)==40){am(s+(h*24|0)|0,15094)|0;im((a[n>>2]|0)+(h*24|0)+12|0,0,14999)|0}}else{am(s+(h*24|0)|0,14996)|0;im((a[n>>2]|0)+(h*24|0)+12|0,0,14999)|0}am((a[n>>2]|0)+(h*24|0)|0,15144)|0;c=a[w>>2]|0;d=c+-16|0;p=a[n>>2]|0;y=p+(h*24|0)|0;o=c+-12|0;s=a[o>>2]|0;ke=a[c+-8>>2]|0;l=ke;if((s|0)==(ke|0)){o=a[d>>2]|0;ke=s-o|0;u=(ke|0)/24|0;s=u+1|0;if((ke|0)<-24){i=d;break}o=(l-o|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<s>>>0?s:o}else o=2147483647;dm(Se,o,u,c+-4|0);ke=a[b>>2]|0;fm(ke,y);fm(ke+12|0,p+(h*24|0)+12|0);a[b>>2]=ke+24;hm(d,Se);pm(Se)}else{fm(s,y);fm(s+12|0,p+(h*24|0)+12|0);a[o>>2]=(a[o>>2]|0)+24}h=h+1|0}ey(i);break}case 84:{v=n+4|0;_=((a[v>>2]|0)-(a[n>>2]|0)|0)/24|0;i=jp(e,t,n)|0;g=((a[v>>2]|0)-(a[n>>2]|0)|0)/24|0;if((i|0)==(e|0)){i=e;break e}S=n+16|0;b=n+12|0;d=a[b>>2]|0;k=n+20|0;o=a[k>>2]|0;w=n+24|0;e=a[w>>2]|0;s=e;if(o>>>0<e>>>0){a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=d;a[k>>2]=(a[k>>2]|0)+16}else{l=a[S>>2]|0;e=o-l|0;c=e>>4;u=c+1|0;if((e|0)<-16)ey(S);o=s-l|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<u>>>0?u:o}else o=2147483647;lm(Se,o,c,n+28|0);e=Se+8|0;we=a[e>>2]|0;a[we>>2]=0;a[we+4>>2]=0;a[we+8>>2]=0;a[we+12>>2]=d;a[e>>2]=we+16;um(S,Se);cm(Se)}d=Se+8|0;m=_;while(1){if(m>>>0>=g>>>0)break;p=a[k>>2]|0;o=p+-16|0;h=a[n>>2]|0;y=h+(m*24|0)|0;s=p+-12|0;l=a[s>>2]|0;e=a[p+-8>>2]|0;u=e;if((l|0)==(e|0)){s=a[o>>2]|0;e=l-s|0;c=(e|0)/24|0;l=c+1|0;if((e|0)<-24){ge=455;break}s=(u-s|0)/24|0;if(s>>>0<1073741823){s=s<<1;s=s>>>0<l>>>0?l:s}else s=2147483647;dm(Se,s,c,p+-4|0);e=a[d>>2]|0;fm(e,y);fm(e+12|0,h+(m*24|0)+12|0);a[d>>2]=e+24;hm(o,Se);pm(Se)}else{fm(l,y);fm(l+12|0,h+(m*24|0)+12|0);a[s>>2]=(a[s>>2]|0)+24}m=m+1|0}if((ge|0)==455)ey(o);if(!((g|0)==(_+1|0)&(r[n+63>>0]|0)!=0))break e;c=Lp(i,t,n)|0;if((c|0)==(i|0))break e;Fp(ke,(a[v>>2]|0)+-24|0);i=a[v>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;e=s+-24|0;a[v>>2]=e;Wy(e);s=a[v>>2]|0}e=r[ke>>0]|0;l=(e&1)==0;Xy(i+-48|0,l?ke+1|0:a[ke+8>>2]|0,l?(e&255)>>>1:a[ke+4>>2]|0)|0;i=(a[v>>2]|0)+-24|0;a[W>>2]=a[b>>2];Bp(X,i,W);i=a[k>>2]|0;e=a[w>>2]|0;l=e;if(i>>>0<e>>>0){a[i+12>>2]=a[X+12>>2];a[i>>2]=a[X>>2];Se=X+4|0;a[i+4>>2]=a[Se>>2];n=X+8|0;a[i+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[X>>2]=0;a[k>>2]=(a[k>>2]|0)+16}else{o=a[S>>2]|0;e=i-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(S);i=l-o|0;if(i>>4>>>0<1073741823){i=i>>3;i=i>>>0<s>>>0?s:i}else i=2147483647;lm(Se,i,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[X+12>>2];a[e>>2]=a[X>>2];t=X+4|0;a[e+4>>2]=a[t>>2];we=X+8|0;a[e+8>>2]=a[we>>2];a[we>>2]=0;a[t>>2]=0;a[X>>2]=0;a[n>>2]=e+16;um(S,Se);cm(Se)}qy(X);nm(ke);i=c;break e}case 85:{i=e+1|0;if((i|0)==(t|0)){i=e;break e}o=Up(i,t,n)|0;if((o|0)==(i|0)){i=e;break e}i=om(o,t,n)|0;if((i|0)==(o|0)){i=e;break e}d=n+4|0;o=a[d>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0<2){i=e;break e}Fp(ke,o+-24|0);o=a[d>>2]|0;s=o+-24|0;l=o;while(1){if((l|0)==(s|0))break;e=l+-24|0;a[d>>2]=e;Wy(e);l=a[d>>2]|0}e=o+-48|0;we=r[e>>0]|0;t=(we&1)==0;we=t?(we&255)>>>1:a[o+-44>>2]|0;mm(g,t?e+1|0:a[o+-40>>2]|0,we>>>0<9?we:9);we=r[g>>0]|0;e=(we&1)==0;we=e?(we&255)>>>1:a[g+4>>2]|0;t=we>>>0>9;e=kd(e?g+1|0:a[g+8>>2]|0,15146,t?9:we)|0;nm(g);if(!(((e|0)==0?we>>>0<9?-1:t&1:e)|0)){Fp(ce,(a[d>>2]|0)+-24|0);s=a[d>>2]|0;o=s+-24|0;while(1){if((s|0)==(o|0))break;e=s+-24|0;a[d>>2]=e;Wy(e);s=a[d>>2]|0}e=r[ce>>0]|0;t=(e&1)==0;o=ce+8|0;s=ce+1|0;we=t?s:a[o>>2]|0;l=ce+4|0;e=Up(we+9|0,we+(t?(e&255)>>>1:a[l>>2]|0)|0,n)|0;if((e|0)==(((r[ce>>0]&1)==0?s:a[o>>2]|0)+9|0)){Hp(j,ke,15106);e=r[ce>>0]|0;t=(e&1)==0;o=Xy(j,t?s:a[o>>2]|0,t?(e&255)>>>1:a[l>>2]|0)|0;a[B>>2]=a[o>>2];a[B+4>>2]=a[o+4>>2];a[B+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}Gp(F,B);o=a[d>>2]|0;e=a[n+8>>2]|0;s=e;if(o>>>0<e>>>0){Dp(o,F);a[d>>2]=(a[d>>2]|0)+24}else{l=a[n>>2]|0;e=o-l|0;c=(e|0)/24|0;u=c+1|0;if((e|0)<-24)ey(n);o=(s-l|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<u>>>0?u:o}else o=2147483647;dm(Se,o,c,n+12|0);e=Se+8|0;t=a[e>>2]|0;Dp(t,F);a[e>>2]=t+24;hm(n,Se);pm(Se)}Wy(F);nm(B);nm(j)}else{l=(a[d>>2]|0)+-24|0;Hp(N,ke,15156);Fp(M,(a[d>>2]|0)+-24|0);o=r[M>>0]|0;s=(o&1)==0;o=Xy(N,s?M+1|0:a[M+8>>2]|0,s?(o&255)>>>1:a[M+4>>2]|0)|0;a[O>>2]=a[o>>2];a[O+4>>2]=a[o+4>>2];a[O+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}o=am(O,15158)|0;a[P>>2]=a[o>>2];a[P+4>>2]=a[o+4>>2];a[P+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}Gp(T,P);zp(l,T);Wy(T);nm(P);nm(O);nm(M);nm(N)}nm(ce)}else{o=(a[d>>2]|0)+-24|0;Hp(k,ke,15106);Fp(S,(a[d>>2]|0)+-24|0);s=r[S>>0]|0;l=(s&1)==0;s=Xy(k,l?S+1|0:a[S+8>>2]|0,l?(s&255)>>>1:a[S+4>>2]|0)|0;a[w>>2]=a[s>>2];a[w+4>>2]=a[s+4>>2];a[w+8>>2]=a[s+8>>2];l=0;while(1){if((l|0)==3)break;a[s+(l<<2)>>2]=0;l=l+1|0}Gp(v,w);zp(o,v);Wy(v);nm(w);nm(S);nm(k)}c=(a[d>>2]|0)+-24|0;a[G>>2]=a[n+12>>2];Bp(q,c,G);c=n+16|0;o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[q+12>>2];a[s>>2]=a[q>>2];Se=q+4|0;a[s+4>>2]=a[Se>>2];n=q+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[q>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[q+12>>2];a[e>>2]=a[q>>2];t=q+4|0;a[e+4>>2]=a[t>>2];we=q+8|0;a[e+8>>2]=a[we>>2];a[we>>2]=0;a[t>>2]=0;a[q>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(q);nm(ke);break e}case 83:{we=e+1|0;if((we|0)!=(t|0)?(r[we>>0]|0)==116:0){i=Vp(e,t,n)|0;if((i|0)==(e|0)){i=e;break e}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}c=n+16|0;a[d>>2]=a[n+12>>2];Bp(I,o+-24|0,d);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[I+12>>2];a[s>>2]=a[I>>2];Se=I+4|0;a[s+4>>2]=a[Se>>2];n=I+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[I>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[I+12>>2];a[e>>2]=a[I>>2];t=I+4|0;a[e+4>>2]=a[t>>2];ke=I+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[I>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(I);break e}i=Kp(e,t,n)|0;if((i|0)==(e|0)){i=e;break e}c=Lp(i,t,n)|0;if((c|0)==(i|0))break e;l=n+4|0;o=a[l>>2]|0;if(((o-(a[n>>2]|0)|0)/24|0)>>>0<2)break e;Fp(ke,o+-24|0);i=a[l>>2]|0;o=i+-24|0;s=i;while(1){if((s|0)==(o|0))break;e=s+-24|0;a[l>>2]=e;Wy(e);s=a[l>>2]|0}u=r[ke>>0]|0;o=(u&1)==0;Xy(i+-48|0,o?ke+1|0:a[ke+8>>2]|0,o?(u&255)>>>1:a[ke+4>>2]|0)|0;u=(a[l>>2]|0)+-24|0;a[_>>2]=a[n+12>>2];Bp(C,u,_);u=n+16|0;i=n+20|0;o=a[i>>2]|0;e=a[n+24>>2]|0;s=e;if(o>>>0<e>>>0){a[o+12>>2]=a[C+12>>2];a[o>>2]=a[C>>2];Se=C+4|0;a[o+4>>2]=a[Se>>2];n=C+8|0;a[o+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[C>>2]=0;a[i>>2]=(a[i>>2]|0)+16}else{i=a[u>>2]|0;e=o-i|0;l=e>>4;o=l+1|0;if((e|0)<-16)ey(u);i=s-i|0;if(i>>4>>>0<1073741823){i=i>>3;i=i>>>0<o>>>0?o:i}else i=2147483647;lm(Se,i,l,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[C+12>>2];a[e>>2]=a[C>>2];t=C+4|0;a[e+4>>2]=a[t>>2];we=C+8|0;a[e+8>>2]=a[we>>2];a[we>>2]=0;a[t>>2]=0;a[C>>2]=0;a[n>>2]=e+16;um(u,Se);cm(Se)}qy(C);nm(ke);i=c;break e}case 68:{i=e+1|0;if((i|0)!=(t|0)){i=r[i>>0]|0;switch(i<<24>>24|0){case 112:{_=n+4|0;h=((a[_>>2]|0)-(a[n>>2]|0)|0)/24|0;ke=e+2|0;i=om(ke,t,n)|0;_=((a[_>>2]|0)-(a[n>>2]|0)|0)/24|0;if((i|0)==(ke|0))break t;d=n+16|0;p=a[n+12>>2]|0;g=n+20|0;o=a[g>>2]|0;ke=a[n+24>>2]|0;s=ke;if(o>>>0<ke>>>0){a[o>>2]=0;a[o+4>>2]=0;a[o+8>>2]=0;a[o+12>>2]=p;a[g>>2]=(a[g>>2]|0)+16}else{l=a[d>>2]|0;ke=o-l|0;c=ke>>4;u=c+1|0;if((ke|0)<-16)ey(d);o=s-l|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<u>>>0?u:o}else o=2147483647;lm(Se,o,c,n+28|0);ke=Se+8|0;ge=a[ke>>2]|0
;a[ge>>2]=0;a[ge+4>>2]=0;a[ge+8>>2]=0;a[ge+12>>2]=p;a[ke>>2]=ge+16;um(d,Se);cm(Se)}m=Se+8|0;while(1){if(h>>>0>=_>>>0)break e;c=a[g>>2]|0;d=c+-16|0;p=a[n>>2]|0;y=p+(h*24|0)|0;o=c+-12|0;s=a[o>>2]|0;ke=a[c+-8>>2]|0;l=ke;if((s|0)==(ke|0)){o=a[d>>2]|0;ke=s-o|0;u=(ke|0)/24|0;s=u+1|0;if((ke|0)<-24){i=d;break}o=(l-o|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<s>>>0?s:o}else o=2147483647;dm(Se,o,u,c+-4|0);ke=a[m>>2]|0;fm(ke,y);fm(ke+12|0,p+(h*24|0)+12|0);a[m>>2]=ke+24;hm(d,Se);pm(Se)}else{fm(s,y);fm(s+12|0,p+(h*24|0)+12|0);a[o>>2]=(a[o>>2]|0)+24}h=h+1|0}ey(i);break}case 84:case 116:{i=Wp(e,t,n)|0;if((i|0)==(e|0))break t;o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}c=n+16|0;a[m>>2]=a[n+12>>2];Bp(x,o+-24|0,m);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[x+12>>2];a[s>>2]=a[x>>2];Se=x+4|0;a[s+4>>2]=a[Se>>2];n=x+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[x>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[x+12>>2];a[e>>2]=a[x>>2];t=x+4|0;a[e+4>>2]=a[t>>2];ke=x+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[x>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(x);break e}case 118:{n:do{if((t-e|0)>3&o<<24>>24==68&i<<24>>24==118){u=e+2|0;o=r[u>>0]|0;if((o+-49&255)<9){i=gm(u,t)|0;if((i|0)==(t|0)){i=e;break}if((r[i>>0]|0)!=95){i=e;break}s=i-u|0;o=i+1|0;if((o|0)==(t|0)){i=e;break}if((r[o>>0]|0)!=112){i=om(o,t,n)|0;if((i|0)==(o|0)){i=e;break}o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break}l=o+-24|0;mm(te,u,s);o=im(te,0,15160)|0;a[ce>>2]=a[o>>2];a[ce+4>>2]=a[o+4>>2];a[ce+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}o=am(ce,15083)|0;a[ke>>2]=a[o>>2];a[ke+4>>2]=a[o+4>>2];a[ke+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}ge=r[ke>>0]|0;_e=(ge&1)==0;Xy(l,_e?ke+1|0:a[ke+8>>2]|0,_e?(ge&255)>>>1:a[ke+4>>2]|0)|0;nm(ke);nm(ce);nm(te);break}i=i+2|0;mm(se,u,s);o=im(se,0,15169)|0;a[_e>>2]=a[o>>2];a[_e+4>>2]=a[o+4>>2];a[_e+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}o=am(_e,15083)|0;a[he>>2]=a[o>>2];a[he+4>>2]=a[o+4>>2];a[he+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}Gp(ie,he);o=n+4|0;s=a[o>>2]|0;ke=a[n+8>>2]|0;l=ke;if(s>>>0<ke>>>0){Dp(s,ie);a[o>>2]=(a[o>>2]|0)+24}else{o=a[n>>2]|0;ke=s-o|0;u=(ke|0)/24|0;s=u+1|0;if((ke|0)<-24)ey(n);o=(l-o|0)/24|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<s>>>0?s:o}else o=2147483647;dm(Se,o,u,n+12|0);ke=Se+8|0;ge=a[ke>>2]|0;Dp(ge,ie);a[ke>>2]=ge+24;hm(n,Se);pm(Se)}Wy(ie);nm(he);nm(_e);nm(se);break}i=0;while(1){if((i|0)==3)break;a[Se+(i<<2)>>2]=0;i=i+1|0}r:do{if(o<<24>>24!=95?(R=Rp(u,t,n)|0,(R|0)!=(u|0)):0){h=n+4|0;i=a[h>>2]|0;if((a[n>>2]|0)!=(i|0)){Fp(pe,i+-24|0);i:do{if(!(r[Se>>0]&1)){r[Se+1>>0]=0;r[Se>>0]=0}else{u=Se+8|0;o=a[u>>2]|0;r[o>>0]=0;c=Se+4|0;a[c>>2]=0;d=a[Se>>2]|0;p=(d&-2)+-1|0;s=d&255;do{if(!(s&1)){i=d>>>1&127;if((s&255)<22){zc(Se+1|0,o|0,(d>>>1&127)+1|0)|0;Pp(o);break}o=i+16&240;l=o+-1|0;if((l|0)==(p|0))break i;s=Tp(o)|0;if(l>>>0<=p>>>0&(s|0)==0)break i;zc(s|0,Se+1|0,(d>>>1&127)+1|0)|0;a[Se>>2]=o|1;a[c>>2]=i;a[u>>2]=s;break i}else{r[Se+1>>0]=0;Pp(o);i=0}}while(0);r[Se>>0]=i<<1}}while(0);a[Se>>2]=a[pe>>2];a[Se+4>>2]=a[pe+4>>2];a[Se+8>>2]=a[pe+8>>2];i=0;while(1){if((i|0)==3)break;a[pe+(i<<2)>>2]=0;i=i+1|0}nm(pe);o=a[h>>2]|0;i=o+-24|0;while(1){if((o|0)==(i|0)){i=R;ge=622;break r}ke=o+-24|0;a[h>>2]=ke;Wy(ke);o=a[h>>2]|0}}}else{i=u;ge=622}}while(0);do{if((ge|0)==622){if((((i|0)!=(t|0)?(r[i>>0]|0)==95:0)?(D=i+1|0,(D|0)!=(t|0)):0)?(U=om(D,t,n)|0,(U|0)!=(D|0)):0){i=a[n+4>>2]|0;if((a[n>>2]|0)==(i|0))break;i=i+-24|0;qp(me,15160,Se);o=am(me,15083)|0;a[ye>>2]=a[o>>2];a[ye+4>>2]=a[o+4>>2];a[ye+8>>2]=a[o+8>>2];s=0;while(1){if((s|0)==3)break;a[o+(s<<2)>>2]=0;s=s+1|0}ke=r[ye>>0]|0;ge=(ke&1)==0;Xy(i,ge?ye+1|0:a[ye+8>>2]|0,ge?(ke&255)>>>1:a[ye+4>>2]|0)|0;nm(ye);nm(me);i=U}else i=e;nm(Se);break n}}while(0);nm(Se);i=e}else i=e}while(0);if((i|0)==(e|0))break t;o=a[n+4>>2]|0;if((a[n>>2]|0)==(o|0)){i=e;break e}c=n+16|0;a[ee>>2]=a[n+12>>2];Bp(ae,o+-24|0,ee);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[ae+12>>2];a[s>>2]=a[ae>>2];Se=ae+4|0;a[s+4>>2]=a[Se>>2];n=ae+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[ae>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[ae+12>>2];a[e>>2]=a[ae>>2];t=ae+4|0;a[e+4>>2]=a[t>>2];ke=ae+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[ae>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(ae);break e}default:break t}}break}default:{}}}while(0);i=ym(e,t,n)|0;if((i|0)==(e|0)){i=Vp(e,t,n)|0;if((i|0)!=(e|0)?(be=a[n+4>>2]|0,(a[n>>2]|0)!=(be|0)):0){c=n+16|0;a[ve>>2]=a[n+12>>2];Bp(we,be+-24|0,ve);o=n+20|0;s=a[o>>2]|0;e=a[n+24>>2]|0;l=e;if(s>>>0<e>>>0){a[s+12>>2]=a[we+12>>2];a[s>>2]=a[we>>2];Se=we+4|0;a[s+4>>2]=a[Se>>2];n=we+8|0;a[s+8>>2]=a[n>>2];a[n>>2]=0;a[Se>>2]=0;a[we>>2]=0;a[o>>2]=(a[o>>2]|0)+16}else{o=a[c>>2]|0;e=s-o|0;u=e>>4;s=u+1|0;if((e|0)<-16)ey(c);o=l-o|0;if(o>>4>>>0<1073741823){o=o>>3;o=o>>>0<s>>>0?s:o}else o=2147483647;lm(Se,o,u,n+28|0);n=Se+8|0;e=a[n>>2]|0;a[e+12>>2]=a[we+12>>2];a[e>>2]=a[we>>2];t=we+4|0;a[e+4>>2]=a[t>>2];ke=we+8|0;a[e+8>>2]=a[ke>>2];a[ke>>2]=0;a[t>>2]=0;a[we>>2]=0;a[n>>2]=e+16;um(c,Se);cm(Se)}qy(we)}else i=e}}}else i=e}while(0);f=Ie;return i|0}function sm(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;a[n>>2]=0;if((e|0)!=(t|0)){t=r[e>>0]|0;if(t<<24>>24==114){a[n>>2]=4;t=e+1|0;e=t;t=r[t>>0]|0;i=4}else i=0;if(t<<24>>24==86){i=i|2;a[n>>2]=i;t=e+1|0;e=t;t=r[t>>0]|0}if(t<<24>>24==75){a[n>>2]=i|1;e=e+1|0}}return e|0}function lm(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;a[e+12>>2]=0;a[e+16>>2]=r;if(!t)r=0;else r=Uf(a[r>>2]|0,t<<4)|0;a[e>>2]=r;n=r+(n<<4)|0;a[e+8>>2]=n;a[e+4>>2]=n;a[e+12>>2]=r+(t<<4);return}function um(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0;r=a[e>>2]|0;i=e+4|0;o=t+4|0;n=a[i>>2]|0;while(1){if((n|0)==(r|0))break;c=a[o>>2]|0;l=c+-16|0;s=n+-16|0;a[l>>2]=0;u=c+-12|0;a[u>>2]=0;f=a[n+-4>>2]|0;a[c+-8>>2]=0;a[c+-4>>2]=f;a[l>>2]=a[s>>2];l=n+-12|0;a[u>>2]=a[l>>2];u=n+-8|0;a[c+-8>>2]=a[u>>2];a[u>>2]=0;a[l>>2]=0;a[s>>2]=0;a[o>>2]=(a[o>>2]|0)+-16;n=s}u=a[e>>2]|0;a[e>>2]=a[o>>2];a[o>>2]=u;u=t+8|0;f=a[i>>2]|0;a[i>>2]=a[u>>2];a[u>>2]=f;u=e+8|0;f=t+12|0;c=a[u>>2]|0;a[u>>2]=a[f>>2];a[f>>2]=c;a[t>>2]=a[o>>2];return}function cm(e){e=e|0;var t=0,n=0,r=0;t=a[e+4>>2]|0;n=e+8|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;r=r+-16|0;a[n>>2]=r;qy(r)}t=a[e>>2]|0;if(t)em(a[a[e+16>>2]>>2]|0,t,(a[e+12>>2]|0)-t|0);return}function fm(e,t){e=e|0;t=t|0;if(!(r[t>>0]&1)){a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2]}else mm(e,a[t+8>>2]|0,a[t+4>>2]|0);return}function dm(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;a[e+12>>2]=0;a[e+16>>2]=r;if(!t)r=0;else r=Uf(a[r>>2]|0,t*24|0)|0;a[e>>2]=r;n=r+(n*24|0)|0;a[e+8>>2]=n;a[e+4>>2]=n;a[e+12>>2]=r+(t*24|0);return}function pm(e){e=e|0;var t=0,n=0,r=0;t=a[e+4>>2]|0;n=e+8|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;r=r+-24|0;a[n>>2]=r;Wy(r)}t=a[e>>2]|0;if(t)em(a[a[e+16>>2]>>2]|0,t,(a[e+12>>2]|0)-t|0);return}function hm(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0;r=a[e>>2]|0;i=e+4|0;o=t+4|0;n=a[i>>2]|0;while(1){if((n|0)==(r|0))break;s=n+-24|0;Dp((a[o>>2]|0)+-24|0,s);a[o>>2]=(a[o>>2]|0)+-24;n=s}s=a[e>>2]|0;a[e>>2]=a[o>>2];a[o>>2]=s;s=t+8|0;r=a[i>>2]|0;a[i>>2]=a[s>>2];a[s>>2]=r;i=e+8|0;s=t+12|0;e=a[i>>2]|0;a[i>>2]=a[s>>2];a[s>>2]=e;a[t>>2]=a[o>>2];return}function ym(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0;L=f;f=f+720|0;j=L+696|0;l=L+672|0;D=L+648|0;g=L+624|0;v=L+600|0;w=L+576|0;k=L+552|0;S=L+528|0;I=L+504|0;E=L+480|0;A=L+456|0;u=L+432|0;c=L+408|0;d=L+384|0;B=L+360|0;p=L+336|0;h=L+312|0;y=L+288|0;F=L+264|0;m=L+240|0;_=L+216|0;b=L+192|0;x=L+168|0;C=L+144|0;T=L+120|0;P=L+96|0;O=L+72|0;N=L+48|0;M=L+24|0;R=L;e:do{if((e|0)!=(t|0))do{
switch(r[e>>0]|0){case 118:{Lf(l,16565);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,l);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,l);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(l);e=e+1|0;break e}case 119:{r[D>>0]=14;i=D+1|0;r[i>>0]=r[16144]|0;r[i+1>>0]=r[16145]|0;r[i+2>>0]=r[16146]|0;r[i+3>>0]=r[16147]|0;r[i+4>>0]=r[16148]|0;r[i+5>>0]=r[16149]|0;r[i+6>>0]=r[16150]|0;r[D+8>>0]=0;i=D+12|0;t=0;while(1){if((t|0)==3)break;a[i+(t<<2)>>2]=0;t=t+1|0}i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,D);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,D);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(D);e=e+1|0;break e}case 98:{Lf(g,16570);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,g);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,g);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(g);e=e+1|0;break e}case 99:{Lf(v,16152);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,v);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,v);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(v);e=e+1|0;break e}case 97:{Qp(w,16157);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,w);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,w);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(w);e=e+1|0;break e}case 104:{$p(k,16169);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,k);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,k);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(k);e=e+1|0;break e}case 115:{jf(S,16183);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,S);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,S);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(S);e=e+1|0;break e}case 116:{Yp(I,16189);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,I);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,I);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(I);e=e+1|0;break e}case 105:{Yf(E,16575);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,E);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,E);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(E);e=e+1|0;break e}case 106:{Zp(A,16579);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,A);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,A);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(A);e=e+1|0;break e}case 108:{Lf(u,16592);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,u);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,u);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(u);e=e+1|0;break e}case 109:{$p(c,16597);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,c);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,c);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(c);e=e+1|0;break e}case 120:{ch(d,16611);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,d);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,d);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(d);e=e+1|0;break e}case 121:{i=Tp(32)|0;a[B+8>>2]=i;a[B>>2]=33;a[B+4>>2]=18;t=i;o=16621;s=t+18|0;do{r[t>>0]=r[o>>0]|0;t=t+1|0;o=o+1|0}while((t|0)<(s|0));r[i+18>>0]=0;i=B+12|0;t=0;while(1){if((t|0)==3)break;a[i+(t<<2)>>2]=0;t=t+1|0}i=n+4|0;t=a[i>>2]|0;F=a[n+8>>2]|0;o=F;if(t>>>0<F>>>0){Dp(t,B);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;F=t-i|0;s=(F|0)/24|0;t=s+1|0;if((F|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);F=j+8|0;D=a[F>>2]|0;Dp(D,B);a[F>>2]=D+24;hm(n,j);pm(j)}Wy(B);e=e+1|0;break e}case 110:{Jf(p,16213);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,p);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,p);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(p);e=e+1|0;break e}case 111:{Jp(h,16222);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,h);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,h);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(h);e=e+1|0;break e}case 102:{jf(y,16640);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,y);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,y);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(y);e=e+1|0;break e}case 100:{r[F>>0]=12;i=F+1|0;r[i>>0]=r[16646]|0;r[i+1>>0]=r[16647]|0;r[i+2>>0]=r[16648]|0;r[i+3>>0]=r[16649]|0;r[i+4>>0]=r[16650]|0;r[i+5>>0]=r[16651]|0;r[F+7>>0]=0;i=F+12|0;t=0;while(1){if((t|0)==3)break;a[i+(t<<2)>>2]=0;t=t+1|0}i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,F);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;D=a[B>>2]|0;Dp(D,F);a[B>>2]=D+24;hm(n,j);pm(j)}Wy(F);e=e+1|0;break e}case 101:{Qp(m,16653);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,m);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,m);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(m);e=e+1|0;break e}case 103:{uh(_,16665);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,_);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,_);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(_);e=e+1|0;break e}case 122:{Yf(b,16676);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,b);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,b);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(b);e=e+1|0;break e}case 117:{j=e+1|0;n=Up(j,t,n)|0;e=(n|0)==(j|0)?e:n;break e}case 68:{i=e+1|0;if((i|0)==(t|0))break e
;switch(r[i>>0]|0){case 100:{ch(x,16680);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,x);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,x);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(x);e=e+2|0;break e}case 101:{uh(C,16690);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,C);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,C);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(C);e=e+2|0;break e}case 102:{ch(T,16701);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,T);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,T);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(T);e=e+2|0;break e}case 104:{ch(P,16711);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,P);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,P);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(P);e=e+2|0;break e}case 105:{Jf(O,16721);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,O);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,O);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(O);e=e+2|0;break e}case 115:{Jf(N,16730);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,N);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,N);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(N);e=e+2|0;break e}case 97:{Lf(M,16739);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,M);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,M);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(M);e=e+2|0;break e}case 110:{Yp(R,16744);i=n+4|0;t=a[i>>2]|0;B=a[n+8>>2]|0;o=B;if(t>>>0<B>>>0){Dp(t,R);a[i>>2]=(a[i>>2]|0)+24}else{i=a[n>>2]|0;B=t-i|0;s=(B|0)/24|0;t=s+1|0;if((B|0)<-24)ey(n);i=(o-i|0)/24|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<t>>>0?t:i}else i=2147483647;dm(j,i,s,n+12|0);B=j+8|0;F=a[B>>2]|0;Dp(F,R);a[B>>2]=F+24;hm(n,j);pm(j)}Wy(R);e=e+2|0;break e}default:break e}}default:break e}}while(0)}while(0);f=L;return e|0}function mm(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;if(n>>>0>4294967279)$h(e);if(n>>>0<11){r[e>>0]=n<<1;e=e+1|0}else{o=n+16&-16;i=Tp(o)|0;a[e+8>>2]=i;a[e>>2]=o|1;a[e+4>>2]=n;e=i}zc(e|0,t|0,n|0)|0;r[e+n>>0]=0;return}function _m(e){e=e|0;var t=0,n=0,i=0,o=0,s=0;t=r[e>>0]|0;if(!(t&1)){n=(t&255)>>>1;s=e+1|0}else{n=a[e+4>>2]|0;s=a[e+8>>2]|0}i=(n|0)!=0&1;o=n-i|0;if((n|0)!=(i|0)){Kc(s|0,s+i|0,o|0)|0;t=r[e>>0]|0}if(!(t&1))r[e>>0]=o<<1;else a[e+4>>2]=o;r[s+o>>0]=0;return}function gm(e,t){e=e|0;t=t|0;var n=0,i=0;e:do{if((e|0)!=(t|0)?(n=(r[e>>0]|0)==110?e+1|0:e,(n|0)!=(t|0)):0){i=r[n>>0]|0;if(i<<24>>24==48){n=n+1|0;break}if((i+-49&255)<9)do{n=n+1|0;if((n|0)==(t|0)){n=t;break e}}while(((r[n>>0]|0)+-48|0)>>>0<10);else n=e}else n=e}while(0);return n|0}function bm(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0;o=r[e>>0]|0;s=(o&1)==0;if(s)l=(o&255)>>>1;else l=a[e+4>>2]|0;if(l>>>0<t>>>0)Xf(e);if(s)s=10;else{o=a[e>>2]|0;s=(o&-2)+-1|0;o=o&255}if((s-l|0)>>>0>=i>>>0){if(i){if(!(o&1))s=e+1|0;else s=a[e+8>>2]|0;if((l|0)==(t|0))o=s+t|0;else{o=s+t|0;Kc(o+i|0,o|0,l-t|0)|0;n=o>>>0<=n>>>0&(s+l|0)>>>0>n>>>0?n+i|0:n}Kc(o|0,n|0,i|0)|0;o=l+i|0;if(!(r[e>>0]&1))r[e>>0]=o<<1;else a[e+4>>2]=o;r[s+o>>0]=0}}else tm(e,s,l+i-s|0,l,t,0,i,n);return e|0}var vm=[bf,va,Ia,bo,ko,xo,To,bf];var wm=[vf,Dn,Un,Vn,wy,ky,Cp,qd,Md,jd,sr,dr,Ko,Jo,Ns,Rs,Bs,ms,ws,Ss,As,xh,kp,vf,vf,vf,vf,vf,vf,vf,vf,vf];var km=[wf,Ry,My,Py];var Sm=[kf,Mo,Lo,kf];var Im=[Sf,Xn,Jn,Yn,Qn,Lh,Uh,Hh,Gh,Nh,Mh,oy,sy,hy,_y,yy,my,gy,by,vy,On,Nn,xn,tr,nr,ir,ps,lr,ur,pr,hr,Cr,Tr,Xr,Yr,ui,ci,ki,Si,qi,Xi,_a,ba,ka,Sa,Aa,xa,Ba,ja,Xa,Ya,ao,oo,_o,go,Eo,Ao,Oo,No,Bo,jo,zo,Vo,Xo,Yo,ns,rs,Ts,Ps,Jl,qs,wl,kl,Sl,Il,rr,ds,ys,Ls,tl,ul,_l,gl,Qy,vp,vo,hs,oc,pc,hc,yc,mc,_c,gc,nn,_n,Pp,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf,Sf];var Em=[If,Rn,Pa,Oa,Na,Ma,Da,Fa,Ha,Ga,za,Va,Wa,qa,Za,$a,eo,to,ro,io,uo,co,fo,po,yo,mo,qo,Zo,Tl,Ol,Ml,Pl,Nl,Rl,Sh,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If,If];var Am=[Ef,yr,mr,_r,gr,br,vr,wr,kr,Sr,Ir,Er,Pr,Or,Nr,Mr,Rr,Dr,Fr,Br,jr,Lr,Ur,ti,ri,hi,mi,Ei,Ai,xi,Ti,Oi,Ji,Qi,Zi,ea,na,Fo,Go,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef,Ef];var xm=[Af,ii,si,_i,bi,Af,Af,Af];var Cm=[xf,jn,Ln,Fh,Gn,ly,Dd,Hn,Ii,Fl,jl,Ul,Wl,Xl,Gl,Vl,Yi,Bl,Ll,Hl,ql,Yl,zl,Kl,Ca,Ta,Ra,La,Ua,Ka,Ja,Qa,no,so,lo,ho,Qs,Zs,el,El,xl,Al,Cl,zs,Vs,Ws,al,ol,ll,pl,hl,ml,xf,xf,xf,xf,xf,xf,xf,xf,xf,xf,xf,xf];var Tm=[Cf,kh];var Pm=[Tf,Hy,Jy,Tf];var Om=[Pf,Mi,ia,Xs,Ys,Us,Hs,nl,rl,cl,fl,Pf,Pf,Pf,Pf,Pf];var Nm=[Of,Fs,_s,gs,bs,Es,Of,Of];var Mm=[Nf,Rh,By,Fy,Dy,Fn,Wo,Qo];var Rm=[Mf,Bh,jh,zn,Kn,Os,Ms,Ds,vs,ks,Is,Ah,Mf,Mf,Mf,Mf];var Dm=[Rf,ar,cr,Jr,Qr,ni,li,fi,di,yi,vi,js,Js,$s,xs,Gs,Ks,il,sl,dl,yl,Rf,Rf,Rf,Rf,Rf,Rf,Rf,Rf,Rf,Rf,Rf];var Fm=[Df,Dh,Iy,Ey,xy,Bn,or,fr];return{_malloc:Tp,___cxa_can_catch:jy,_fflush:Qd,___cxa_is_pointer_type:Ly,_i64Add:Hc,_memmove:Kc,_i64Subtract:Lc,_memset:Uc,___cxa_demangle:Zh,_memcpy:zc,___getTypeName:Xh,_bitshift64Lshr:Gc,_free:Pp,___errno_location:$d,_bitshift64Shl:Vc,__GLOBAL__sub_I_bind_cc:Ch,__GLOBAL__sub_I_bind_cpp:Jh,runPostSets:jc,stackAlloc:dh,stackSave:ph,stackRestore:hh,establishStackSpace:yh,setThrew:mh,setTempRet0:bh,getTempRet0:vh,dynCall_iiiiiiii:tf,dynCall_iiii:nf,dynCall_viiiii:rf,dynCall_iiiiiid:af,dynCall_vi:of,dynCall_vii:sf,dynCall_iiiiiii:lf,dynCall_iiiiid:uf,dynCall_ii:cf,dynCall_viii:ff,dynCall_v:df,dynCall_iiiiiiiii:pf,dynCall_iiiii:hf,dynCall_viiiiii:yf,dynCall_iii:mf,dynCall_iiiiii:_f,dynCall_viiii:gf}
}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),___cxa_demangle=Module.___cxa_demangle=asm.___cxa_demangle,___cxa_can_catch=Module.___cxa_can_catch=asm.___cxa_can_catch,__GLOBAL__sub_I_bind_cpp=Module.__GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp,_fflush=Module._fflush=asm._fflush,runPostSets=Module.runPostSets=asm.runPostSets,___cxa_is_pointer_type=Module.___cxa_is_pointer_type=asm.___cxa_is_pointer_type,_i64Add=Module._i64Add=asm._i64Add,_memmove=Module._memmove=asm._memmove,_i64Subtract=Module._i64Subtract=asm._i64Subtract,_memset=Module._memset=asm._memset,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,___getTypeName=Module.___getTypeName=asm.___getTypeName,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_free=Module._free=asm._free,__GLOBAL__sub_I_bind_cc=Module.__GLOBAL__sub_I_bind_cc=asm.__GLOBAL__sub_I_bind_cc,___errno_location=Module.___errno_location=asm.___errno_location,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,dynCall_iiiiiiii=Module.dynCall_iiiiiiii=asm.dynCall_iiiiiiii,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_iiiiiid=Module.dynCall_iiiiiid=asm.dynCall_iiiiiid,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_iiiiiii=Module.dynCall_iiiiiii=asm.dynCall_iiiiiii,dynCall_iiiiid=Module.dynCall_iiiiid=asm.dynCall_iiiiid,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_iiiiiiiii=Module.dynCall_iiiiiiiii=asm.dynCall_iiiiiiiii,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){function t(){for(var e=0;e<3;e++)r.push(0)}assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var n=e.length+1,r=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];t();for(var i=0;i<n-1;i+=1)r.push(allocate(intArrayFromString(e[i]),"i8",ALLOC_NORMAL)),t();r.push(0),r=allocate(r,"i32",ALLOC_NORMAL);try{exit(Module._main(n,r,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run(),exports.default=Module}).call(exports,__webpack_require__(43),"/",__webpack_require__(16).Buffer)},function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,c=271733878,f=0;f<e.length;f+=16){var d=n,p=r,h=i,y=c;n=a(n,r,i,c,e[f+0],7,-680876936),c=a(c,n,r,i,e[f+1],12,-389564586),i=a(i,c,n,r,e[f+2],17,606105819),r=a(r,i,c,n,e[f+3],22,-1044525330),n=a(n,r,i,c,e[f+4],7,-176418897),c=a(c,n,r,i,e[f+5],12,1200080426),i=a(i,c,n,r,e[f+6],17,-1473231341),r=a(r,i,c,n,e[f+7],22,-45705983),n=a(n,r,i,c,e[f+8],7,1770035416),c=a(c,n,r,i,e[f+9],12,-1958414417),i=a(i,c,n,r,e[f+10],17,-42063),r=a(r,i,c,n,e[f+11],22,-1990404162),n=a(n,r,i,c,e[f+12],7,1804603682),c=a(c,n,r,i,e[f+13],12,-40341101),i=a(i,c,n,r,e[f+14],17,-1502002290),r=a(r,i,c,n,e[f+15],22,1236535329),n=o(n,r,i,c,e[f+1],5,-165796510),c=o(c,n,r,i,e[f+6],9,-1069501632),i=o(i,c,n,r,e[f+11],14,643717713),r=o(r,i,c,n,e[f+0],20,-373897302),n=o(n,r,i,c,e[f+5],5,-701558691),c=o(c,n,r,i,e[f+10],9,38016083),i=o(i,c,n,r,e[f+15],14,-660478335),r=o(r,i,c,n,e[f+4],20,-405537848),n=o(n,r,i,c,e[f+9],5,568446438),c=o(c,n,r,i,e[f+14],9,-1019803690),i=o(i,c,n,r,e[f+3],14,-187363961),r=o(r,i,c,n,e[f+8],20,1163531501),n=o(n,r,i,c,e[f+13],5,-1444681467),c=o(c,n,r,i,e[f+2],9,-51403784),i=o(i,c,n,r,e[f+7],14,1735328473),r=o(r,i,c,n,e[f+12],20,-1926607734),n=s(n,r,i,c,e[f+5],4,-378558),c=s(c,n,r,i,e[f+8],11,-2022574463),i=s(i,c,n,r,e[f+11],16,1839030562),r=s(r,i,c,n,e[f+14],23,-35309556),n=s(n,r,i,c,e[f+1],4,-1530992060),c=s(c,n,r,i,e[f+4],11,1272893353),i=s(i,c,n,r,e[f+7],16,-155497632),r=s(r,i,c,n,e[f+10],23,-1094730640),n=s(n,r,i,c,e[f+13],4,681279174),c=s(c,n,r,i,e[f+0],11,-358537222),i=s(i,c,n,r,e[f+3],16,-722521979),r=s(r,i,c,n,e[f+6],23,76029189),n=s(n,r,i,c,e[f+9],4,-640364487),c=s(c,n,r,i,e[f+12],11,-421815835),i=s(i,c,n,r,e[f+15],16,530742520),r=s(r,i,c,n,e[f+2],23,-995338651),n=l(n,r,i,c,e[f+0],6,-198630844),c=l(c,n,r,i,e[f+7],10,1126891415),i=l(i,c,n,r,e[f+14],15,-1416354905),r=l(r,i,c,n,e[f+5],21,-57434055),n=l(n,r,i,c,e[f+12],6,1700485571),c=l(c,n,r,i,e[f+3],10,-1894986606),i=l(i,c,n,r,e[f+10],15,-1051523),r=l(r,i,c,n,e[f+1],21,-2054922799),n=l(n,r,i,c,e[f+8],6,1873313359),c=l(c,n,r,i,e[f+15],10,-30611744),i=l(i,c,n,r,e[f+6],15,-1560198380),r=l(r,i,c,n,e[f+13],21,1309151649),n=l(n,r,i,c,e[f+4],6,-145523070),c=l(c,n,r,i,e[f+11],10,-1120210379),i=l(i,c,n,r,e[f+2],15,718787259),r=l(r,i,c,n,e[f+9],21,-343485551),n=u(n,d),r=u(r,p),i=u(i,h),c=u(c,y)}return[n,r,i,c]}function i(e,t,n,r,i,a){return u(c(u(u(t,e),u(r,a)),i),n)}function a(e,t,n,r,a,o,s){return i(t&n|~t&r,e,t,a,o,s)}function o(e,t,n,r,a,o,s){return i(t&r|n&~r,e,t,a,o,s)}function s(e,t,n,r,a,o,s){return i(t^n^r,e,t,a,o,s)}function l(e,t,n,r,a,o,s){return i(n^(t|~r),e,t,a,o,s)}function u(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function c(e,t){return e<<t|e>>>32-t}var f=n(708);e.exports=function(e){return f(e,r)}},function(e,t,n){"use strict";(function(t){function r(){f.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(e,t){return e<<t|e>>>32-t}function a(e,t,n,r,a,o,s,l){return i(e+(t^n^r)+o+s|0,l)+a|0}function o(e,t,n,r,a,o,s,l){return i(e+(t&n|~t&r)+o+s|0,l)+a|0}function s(e,t,n,r,a,o,s,l){return i(e+((t|~n)^r)+o+s|0,l)+a|0}function l(e,t,n,r,a,o,s,l){return i(e+(t&r|n&~r)+o+s|0,l)+a|0}function u(e,t,n,r,a,o,s,l){return i(e+(t^(n|~r))+o+s|0,l)+a|0}var c=n(6),f=n(709);c(r,f),r.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,c=this._c,f=this._d,d=this._e;n=a(n,r,c,f,d,e[0],0,11),c=i(c,10),d=a(d,n,r,c,f,e[1],0,14),r=i(r,10),f=a(f,d,n,r,c,e[2],0,15),n=i(n,10),c=a(c,f,d,n,r,e[3],0,12),d=i(d,10),r=a(r,c,f,d,n,e[4],0,5),f=i(f,10),n=a(n,r,c,f,d,e[5],0,8),c=i(c,10),d=a(d,n,r,c,f,e[6],0,7),r=i(r,10),f=a(f,d,n,r,c,e[7],0,9),n=i(n,10),c=a(c,f,d,n,r,e[8],0,11),d=i(d,10),r=a(r,c,f,d,n,e[9],0,13),f=i(f,10),n=a(n,r,c,f,d,e[10],0,14),c=i(c,10),d=a(d,n,r,c,f,e[11],0,15),r=i(r,10),f=a(f,d,n,r,c,e[12],0,6),n=i(n,10),c=a(c,f,d,n,r,e[13],0,7),d=i(d,10),r=a(r,c,f,d,n,e[14],0,9),f=i(f,10),n=a(n,r,c,f,d,e[15],0,8),c=i(c,10),d=o(d,n,r,c,f,e[7],1518500249,7),r=i(r,10),f=o(f,d,n,r,c,e[4],1518500249,6),n=i(n,10),c=o(c,f,d,n,r,e[13],1518500249,8),d=i(d,10),r=o(r,c,f,d,n,e[1],1518500249,13),f=i(f,10),n=o(n,r,c,f,d,e[10],1518500249,11),c=i(c,10),d=o(d,n,r,c,f,e[6],1518500249,9),r=i(r,10),f=o(f,d,n,r,c,e[15],1518500249,7),
n=i(n,10),c=o(c,f,d,n,r,e[3],1518500249,15),d=i(d,10),r=o(r,c,f,d,n,e[12],1518500249,7),f=i(f,10),n=o(n,r,c,f,d,e[0],1518500249,12),c=i(c,10),d=o(d,n,r,c,f,e[9],1518500249,15),r=i(r,10),f=o(f,d,n,r,c,e[5],1518500249,9),n=i(n,10),c=o(c,f,d,n,r,e[2],1518500249,11),d=i(d,10),r=o(r,c,f,d,n,e[14],1518500249,7),f=i(f,10),n=o(n,r,c,f,d,e[11],1518500249,13),c=i(c,10),d=o(d,n,r,c,f,e[8],1518500249,12),r=i(r,10),f=s(f,d,n,r,c,e[3],1859775393,11),n=i(n,10),c=s(c,f,d,n,r,e[10],1859775393,13),d=i(d,10),r=s(r,c,f,d,n,e[14],1859775393,6),f=i(f,10),n=s(n,r,c,f,d,e[4],1859775393,7),c=i(c,10),d=s(d,n,r,c,f,e[9],1859775393,14),r=i(r,10),f=s(f,d,n,r,c,e[15],1859775393,9),n=i(n,10),c=s(c,f,d,n,r,e[8],1859775393,13),d=i(d,10),r=s(r,c,f,d,n,e[1],1859775393,15),f=i(f,10),n=s(n,r,c,f,d,e[2],1859775393,14),c=i(c,10),d=s(d,n,r,c,f,e[7],1859775393,8),r=i(r,10),f=s(f,d,n,r,c,e[0],1859775393,13),n=i(n,10),c=s(c,f,d,n,r,e[6],1859775393,6),d=i(d,10),r=s(r,c,f,d,n,e[13],1859775393,5),f=i(f,10),n=s(n,r,c,f,d,e[11],1859775393,12),c=i(c,10),d=s(d,n,r,c,f,e[5],1859775393,7),r=i(r,10),f=s(f,d,n,r,c,e[12],1859775393,5),n=i(n,10),c=l(c,f,d,n,r,e[1],2400959708,11),d=i(d,10),r=l(r,c,f,d,n,e[9],2400959708,12),f=i(f,10),n=l(n,r,c,f,d,e[11],2400959708,14),c=i(c,10),d=l(d,n,r,c,f,e[10],2400959708,15),r=i(r,10),f=l(f,d,n,r,c,e[0],2400959708,14),n=i(n,10),c=l(c,f,d,n,r,e[8],2400959708,15),d=i(d,10),r=l(r,c,f,d,n,e[12],2400959708,9),f=i(f,10),n=l(n,r,c,f,d,e[4],2400959708,8),c=i(c,10),d=l(d,n,r,c,f,e[13],2400959708,9),r=i(r,10),f=l(f,d,n,r,c,e[3],2400959708,14),n=i(n,10),c=l(c,f,d,n,r,e[7],2400959708,5),d=i(d,10),r=l(r,c,f,d,n,e[15],2400959708,6),f=i(f,10),n=l(n,r,c,f,d,e[14],2400959708,8),c=i(c,10),d=l(d,n,r,c,f,e[5],2400959708,6),r=i(r,10),f=l(f,d,n,r,c,e[6],2400959708,5),n=i(n,10),c=l(c,f,d,n,r,e[2],2400959708,12),d=i(d,10),r=u(r,c,f,d,n,e[4],2840853838,9),f=i(f,10),n=u(n,r,c,f,d,e[0],2840853838,15),c=i(c,10),d=u(d,n,r,c,f,e[5],2840853838,5),r=i(r,10),f=u(f,d,n,r,c,e[9],2840853838,11),n=i(n,10),c=u(c,f,d,n,r,e[7],2840853838,6),d=i(d,10),r=u(r,c,f,d,n,e[12],2840853838,8),f=i(f,10),n=u(n,r,c,f,d,e[2],2840853838,13),c=i(c,10),d=u(d,n,r,c,f,e[10],2840853838,12),r=i(r,10),f=u(f,d,n,r,c,e[14],2840853838,5),n=i(n,10),c=u(c,f,d,n,r,e[1],2840853838,12),d=i(d,10),r=u(r,c,f,d,n,e[3],2840853838,13),f=i(f,10),n=u(n,r,c,f,d,e[8],2840853838,14),c=i(c,10),d=u(d,n,r,c,f,e[11],2840853838,11),r=i(r,10),f=u(f,d,n,r,c,e[6],2840853838,8),n=i(n,10),c=u(c,f,d,n,r,e[15],2840853838,5),d=i(d,10),r=u(r,c,f,d,n,e[13],2840853838,6),f=i(f,10);var p=this._a,h=this._b,y=this._c,m=this._d,_=this._e;p=u(p,h,y,m,_,e[5],1352829926,8),y=i(y,10),_=u(_,p,h,y,m,e[14],1352829926,9),h=i(h,10),m=u(m,_,p,h,y,e[7],1352829926,9),p=i(p,10),y=u(y,m,_,p,h,e[0],1352829926,11),_=i(_,10),h=u(h,y,m,_,p,e[9],1352829926,13),m=i(m,10),p=u(p,h,y,m,_,e[2],1352829926,15),y=i(y,10),_=u(_,p,h,y,m,e[11],1352829926,15),h=i(h,10),m=u(m,_,p,h,y,e[4],1352829926,5),p=i(p,10),y=u(y,m,_,p,h,e[13],1352829926,7),_=i(_,10),h=u(h,y,m,_,p,e[6],1352829926,7),m=i(m,10),p=u(p,h,y,m,_,e[15],1352829926,8),y=i(y,10),_=u(_,p,h,y,m,e[8],1352829926,11),h=i(h,10),m=u(m,_,p,h,y,e[1],1352829926,14),p=i(p,10),y=u(y,m,_,p,h,e[10],1352829926,14),_=i(_,10),h=u(h,y,m,_,p,e[3],1352829926,12),m=i(m,10),p=u(p,h,y,m,_,e[12],1352829926,6),y=i(y,10),_=l(_,p,h,y,m,e[6],1548603684,9),h=i(h,10),m=l(m,_,p,h,y,e[11],1548603684,13),p=i(p,10),y=l(y,m,_,p,h,e[3],1548603684,15),_=i(_,10),h=l(h,y,m,_,p,e[7],1548603684,7),m=i(m,10),p=l(p,h,y,m,_,e[0],1548603684,12),y=i(y,10),_=l(_,p,h,y,m,e[13],1548603684,8),h=i(h,10),m=l(m,_,p,h,y,e[5],1548603684,9),p=i(p,10),y=l(y,m,_,p,h,e[10],1548603684,11),_=i(_,10),h=l(h,y,m,_,p,e[14],1548603684,7),m=i(m,10),p=l(p,h,y,m,_,e[15],1548603684,7),y=i(y,10),_=l(_,p,h,y,m,e[8],1548603684,12),h=i(h,10),m=l(m,_,p,h,y,e[12],1548603684,7),p=i(p,10),y=l(y,m,_,p,h,e[4],1548603684,6),_=i(_,10),h=l(h,y,m,_,p,e[9],1548603684,15),m=i(m,10),p=l(p,h,y,m,_,e[1],1548603684,13),y=i(y,10),_=l(_,p,h,y,m,e[2],1548603684,11),h=i(h,10),m=s(m,_,p,h,y,e[15],1836072691,9),p=i(p,10),y=s(y,m,_,p,h,e[5],1836072691,7),_=i(_,10),h=s(h,y,m,_,p,e[1],1836072691,15),m=i(m,10),p=s(p,h,y,m,_,e[3],1836072691,11),y=i(y,10),_=s(_,p,h,y,m,e[7],1836072691,8),h=i(h,10),m=s(m,_,p,h,y,e[14],1836072691,6),p=i(p,10),y=s(y,m,_,p,h,e[6],1836072691,6),_=i(_,10),h=s(h,y,m,_,p,e[9],1836072691,14),m=i(m,10),p=s(p,h,y,m,_,e[11],1836072691,12),y=i(y,10),_=s(_,p,h,y,m,e[8],1836072691,13),h=i(h,10),m=s(m,_,p,h,y,e[12],1836072691,5),p=i(p,10),y=s(y,m,_,p,h,e[2],1836072691,14),_=i(_,10),h=s(h,y,m,_,p,e[10],1836072691,13),m=i(m,10),p=s(p,h,y,m,_,e[0],1836072691,13),y=i(y,10),_=s(_,p,h,y,m,e[4],1836072691,7),h=i(h,10),m=s(m,_,p,h,y,e[13],1836072691,5),p=i(p,10),y=o(y,m,_,p,h,e[8],2053994217,15),_=i(_,10),h=o(h,y,m,_,p,e[6],2053994217,5),m=i(m,10),p=o(p,h,y,m,_,e[4],2053994217,8),y=i(y,10),_=o(_,p,h,y,m,e[1],2053994217,11),h=i(h,10),m=o(m,_,p,h,y,e[3],2053994217,14),p=i(p,10),y=o(y,m,_,p,h,e[11],2053994217,14),_=i(_,10),h=o(h,y,m,_,p,e[15],2053994217,6),m=i(m,10),p=o(p,h,y,m,_,e[0],2053994217,14),y=i(y,10),_=o(_,p,h,y,m,e[5],2053994217,6),h=i(h,10),m=o(m,_,p,h,y,e[12],2053994217,9),p=i(p,10),y=o(y,m,_,p,h,e[2],2053994217,12),_=i(_,10),h=o(h,y,m,_,p,e[13],2053994217,9),m=i(m,10),p=o(p,h,y,m,_,e[9],2053994217,12),y=i(y,10),_=o(_,p,h,y,m,e[7],2053994217,5),h=i(h,10),m=o(m,_,p,h,y,e[10],2053994217,15),p=i(p,10),y=o(y,m,_,p,h,e[14],2053994217,8),_=i(_,10),h=a(h,y,m,_,p,e[12],0,8),m=i(m,10),p=a(p,h,y,m,_,e[15],0,5),y=i(y,10),_=a(_,p,h,y,m,e[10],0,12),h=i(h,10),m=a(m,_,p,h,y,e[4],0,9),p=i(p,10),y=a(y,m,_,p,h,e[1],0,12),_=i(_,10),h=a(h,y,m,_,p,e[5],0,5),m=i(m,10),p=a(p,h,y,m,_,e[8],0,14),y=i(y,10),_=a(_,p,h,y,m,e[7],0,6),h=i(h,10),m=a(m,_,p,h,y,e[6],0,8),p=i(p,10),y=a(y,m,_,p,h,e[2],0,13),_=i(_,10),h=a(h,y,m,_,p,e[13],0,6),m=i(m,10),p=a(p,h,y,m,_,e[14],0,5),y=i(y,10),_=a(_,p,h,y,m,e[0],0,15),h=i(h,10),m=a(m,_,p,h,y,e[3],0,13),p=i(p,10),y=a(y,m,_,p,h,e[9],0,11),_=i(_,10),h=a(h,y,m,_,p,e[11],0,11),m=i(m,10);var g=this._b+c+m|0;this._b=this._c+f+_|0,this._c=this._d+d+p|0,this._d=this._e+n+h|0,this._e=this._a+r+y|0,this._a=g},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=r}).call(t,n(16).Buffer)},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,l=0;l<i;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),
this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.trace),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){t=e.exports=n(320),t.Stream=t,t.Readable=t,t.Writable=n(219),t.Duplex=n(95),t.Transform=n(323),t.PassThrough=n(714)},function(e,t,n){"use strict";(function(t,r,i){function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){x(t,e)}}function o(e){return R.from(e)}function s(e){return R.isBuffer(e)||e instanceof D}function l(){}function u(e,t){T=T||n(95),e=e||{},this.objectMode=!!e.objectMode,t instanceof T&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){g(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function c(e){if(T=T||n(95),!(B.call(c,this)||this instanceof T))return new c(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),M.call(this)}function f(e,t){var n=new Error("write after end");e.emit("error",n),C(t,n)}function d(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),C(r,a),i=!1),i}function p(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=R.from(t,n)),t}function h(e,t,n,r,i,a){if(!n){var o=p(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,a);return l}function y(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function m(e,t,n,r,i){--t.pendingcb,n?(C(i,r),C(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}function _(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function g(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(_(n),t)m(e,n,r,t,i);else{var a=k(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?P(b,e,n,a,i):b(e,n,a,i)}}function b(e,t,n,r){n||v(e,t),t.pendingcb--,r(),E(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,y(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t)}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function I(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,C(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function E(e,t){var n=k(t);return n&&(I(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function A(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?C(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function x(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var C=n(156);e.exports=c;var T,P=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:C;c.WritableState=u;var O=n(123);O.inherits=n(6);var N={deprecate:n(220)},M=n(321),R=n(18).Buffer,D=i.Uint8Array||function(){},F=n(322);O.inherits(c,M),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:N.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var B;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!B.call(this,e)||e&&e._writableState instanceof u}})):B=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var r=this._writableState,i=!1,a=s(e)&&!r.objectMode;return a&&!R.isBuffer(e)&&(e=o(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=l),r.ended?f(this,n):(a||d(this,r,e,n))&&(r.pendingcb++,i=h(this,r,a,e,t,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),
!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||A(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=F.destroy,c.prototype._undestroy=F.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(43),n(712).setImmediate,n(44))},function(e,t,n){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation"),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(44))},function(e,t,n){function r(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function a(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function o(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=n(16).Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),e.copy(this.charBuffer,0,0,a),t.substring(0,i)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},function(e,t,n){var t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n};t.sha=n(719),t.sha1=n(720),t.sha224=n(721),t.sha256=n(324),t.sha384=n(722),t.sha512=n(325)},function(e,t,n){function r(){return Object.keys(o)}var i=n(729),a=n(737),o=n(334);t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=a.createDecipher,t.createDecipheriv=t.Decipheriv=a.createDecipheriv,t.listCiphers=t.getCiphers=r},function(e,t,n){var r={ECB:n(730),CBC:n(731),CFB:n(732),CFB8:n(733),CFB1:n(734),OFB:n(735),CTR:n(332),GCM:n(332)},i=n(334);for(var a in i)i[a].module=r[i[a].mode];e.exports=i},function(e,t,n){"use strict";t.utils=n(739),t.Cipher=n(740),t.DES=n(741),t.CBC=n(742),t.EDE=n(743)},function(e,t,n){(function(t){function r(e){var t=a(e);return{blinder:t.toRed(o.mont(e.modulus)).redPow(new o(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}function i(e,n){var i=r(n),a=n.modulus.byteLength(),s=(o.mont(n.modulus),new o(e).mul(i.blinder).umod(n.modulus)),l=s.toRed(o.mont(n.prime1)),u=s.toRed(o.mont(n.prime2)),c=n.coefficient,f=n.prime1,d=n.prime2,p=l.redPow(n.exponent1),h=u.redPow(n.exponent2);p=p.fromRed(),h=h.fromRed();var y=p.isub(h).imul(c).umod(f);return y.imul(d),h.iadd(y),new t(h.imul(i.unblinder).umod(n.modulus).toArray(!1,a))}function a(e){for(var t=e.modulus.byteLength(),n=new o(s(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new o(s(t));return n}var o=n(30),s=n(104);e.exports=i,i.getr=a}).call(t,n(16).Buffer)},function(e,t,n){var r=t;r.utils=n(65),r.common=n(125),r.sha=n(760),r.ripemd=n(764),r.hmac=n(765),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),s=n(353),l=r(s),u=aoba.loader.resources,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.keys(u),n=[].concat(i(e),i(l.default)).map(function(e){return e.name||e});return o.default.difference(t,n).filter(function(e){return!n.some(function(t){return e.includes(t)})})},f=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=u[o];if(s){if(s.texture&&(s.texture.destroy(!0),s.data&&(s.data=null)),s.textures){var l=!0,c=!1,f=void 0;try{for(var d,p=Object.values(s.textures)[Symbol.iterator]();!(l=(d=p.next()).done);l=!0)d.value.destroy(!0)}catch(e){c=!0,f=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}s.data&&(s.data=null)}if(s.spineData){s.spineData=null,s.data&&(s.data=null);var h=o+"_atlas";u[h]&&delete u[h];var y=o+"_atlas_page_data.png",m=u[y];m&&(m.texture&&m.texture.destroy(!0),m.data&&(m.data=null),delete u[y])}s.buffer&&(s.buffer=null),delete u[o]}}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}};t.default={extractUnnecessaryResourceNames:c,releaseResources:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=window.localStorage,o={isIOSWebApp:function(){return i.default.IOS_STANDALONE_MODE},setPreUrlToStorage:function(){this.isIOSWebApp()&&a.setItem("primPreUrl",window.location.href)},removePreUrlFromStorage:function(){a.removeItem("primPreUrl")},getPreUrlFromStorage:function(){return this.isIOSWebApp()?a.getItem("primPreUrl"):null}};t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this._lastTime=0,this._elapsedTime=0,this._events=[]}return i(e,[{key:"update",value:function(e){var t=this;this._lastTime=this._elapsedTime,this._elapsedTime+=e;for(var n=this._events.length,r=[],i=0;i<n;i++){
var a=this._events[i];this._lastTime<a.time&&this._elapsedTime>=a.time&&(a.func(),r.push(i))}r.reverse().forEach(function(e){t._events.splice(e,1)})}},{key:"register",value:function(e,t){this._events.push({func:e,time:this._elapsedTime+t})}},{key:"completeAll",value:function(){for(;this.hasEvents;)this._events[0].func(),this._events.shift();this.removeEvents()}},{key:"removeEvents",value:function(){this._events=[]}},{key:"hasEvents",get:function(){return this._events.length>=1}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={start:"sounds/se/301.m4a"}},function(e,t,n){"use strict";var r=n(845);e.exports=Function.prototype.bind||r},function(e,t,n){var r=n(10);e.exports=function(e,t){e=r(e);var n=t?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+n}},function(e,t,n){var r=n(385);e.exports=function(e){return null==e?"\\s":e.source?e.source:"["+r(e)+"]"}},function(e,t,n){var r=n(10);e.exports=function(e){return r(e).split("")}},function(e,t,n){var r=n(10),i=n(234),a=String.prototype.trimRight;e.exports=function(e,t){return e=r(e),!t&&a?a.call(e):(t=i(t),e.replace(new RegExp(t+"+$"),""))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=24,l=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._indicators=[];for(var l=0;l<e;l++)aoba.Sprite.new(a||"indicator_off.png").addTo(o,l*s,0),o._indicators[l]=aoba.Sprite.new(n||"indicator_on.png").addTo(o,l*s,0);return o.moveTo(0),o}return a(t,e),o(t,[{key:"moveTo",value:function(e){this._indicators.forEach(function(e){e.hide()}),this._indicators[e].show()}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._loop=e,n._maxDistance=null,n.interactive=!0,n.on("touchstart",n._onTouchStart,n),n.on("touchmove",n._onTouchMove,n),n.on("touchend",n._onTouchEnd,n),n.on("touchendoutside",n._onTouchEnd,n),n}return a(t,e),o(t,[{key:"setPosition",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e,n),this._maxX=this.x}},{key:"reset",value:function(){this._swiping=!1,this.interactiveChildren=!0}},{key:"_onTouchStart",value:function(e){this._swiping||(this._diffPosition=null,this._swiping=!0,this._targetInitialPos=this.x,this._pointInitialPos=e.data.global.x)}},{key:"_onTouchMove",value:function(e){if(this._swiping){var t=this._targetInitialPos,n=this._pointInitialPos,r=e.data.global.x,i=n-r;if(this.interactiveChildren&&Math.abs(i)>=8&&(this.interactiveChildren=!1),this.x=t-i,!this._loop){this.x>this._maxX&&(this.x=this._maxX);var a=this._maxX-this._maxDistance;this.x<a&&(this.x=a)}}}},{key:"_onTouchEnd",value:function(){if(this._swiping){this._swiping=!1,this.interactiveChildren=!0;var e=this.x-this._targetInitialPos;this.emit("endSwipe",e)}}},{key:"maxDistance",set:function(e){this._maxDistance=e}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(923),f=r(c),d="F",p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=null;if(e.rank!==d){r=aoba.Container.new();(0,u.default)(e.subRank).times(function(e){aoba.Sprite.new("deck_rank_star.png").addTo(r,22*e,1===e?6:0)})}var o=n.fromData(f.default,{icon:{key:"fes_deck_rank_icon_"+e.rank.toLowerCase()+".png"},deckRankStarsBase:{visible:!!r},starIcons:r});return e.rank===d&&(o.icon.y+=4),n._hasStarIcons=!!r,n}return o(t,e),s(t,[{key:"hasStarIcons",get:function(){return this._hasStarIcons}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(20),s=r(o),l=n(170),u=r(l),c=a.default.asset.imageTypes,f=a.default.asset.spineTypes,d=a.default.asset.specificSpineRarities,p=a.default.asset.specificMovieRarities,h=a.default.asset.voiceIds;t.default={getImagePath:function(e){if(c.idols.includes(e))return this._getIdolImagePath(e);if(c.characters.includes(e))return this._extendedCharacter.getImagePath(e);throw new Error("asset type "+e+" is not found.")},getMoviePath:function(e){return p.includes(this.rarity)?this._getIdolMoviePath(e):this._extendedCharacter.getMoviePath(e)},getVoicePath:function(e){return h.idols.includes(e)?this._getIdolVoicePath(e):this._extendedCharacter.getVoicePath(e)},getSpinePath:function(e){return d.includes(this.rarity)&&f.idols.includes(e)?this._getIdolAnimationPath(e):this._extendedCharacter.getSpinePath(e)},getRarityImagePath:function(e){return e+"_rarity_"+this.rarity+".png"},getUnitImagePath:function(e){return this._extendedCharacter.getUnitImagePath(e)},getIconImagePath:function(){return this.getImagePath("icon")},get characterId(){return this.character.id},get unitId(){return this._extendedCharacter.unitId},get firstName(){return this._extendedCharacter.firstName},get parameter(){return{vocal:this.vocal,dance:this.dance,visual:this.visual,
mental:this.mental}},_getIdolImagePath:function(e){return s.default.createImagePath("idols",e,this.id)},_getIdolMoviePath:function(e){return s.default.createMoviePath("idols",e,this.id)},_getIdolVoicePath:function(e){return s.default.createVoicePath("idols",this.id,e)},_getIdolAnimationPath:function(e){return s.default.createSpinePath("idols",e,this.id)},get _extendedCharacter(){return aoba.utils.getPrototypeOf(this.character)!==u.default&&aoba.utils.setPrototypeOf(this.character,u.default),this.character}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={communicationRetry:"communication_retry",promiseRecover:"promise_recover",promiseRejectRecover:"promise_reject_recover",restBoost:"rest_boost",troubleGuard:"trouble_guard",supportEventRate:"support_event_rate",staminaSupport:"stamina_support",tensionBoost:"tension_boost",tagBoost:"tag_boost",friendship:"friendship"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=i.default.env.SENTRY_DSN,o=!1,s={setUp:function(){""!==a&&(window.Raven.config(a,{}).install(),window.Raven.setTagsContext({buildVersion:"6c66e9b"}))},setUserId:function(e){o||(o=!0,window.Raven.setUserContext({id:e}))},captureException:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a&&window.Raven.captureException(e,t)}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(114),o=function(){},s=function(){},l=!i.default.PF_URI;t.default={gameStart:function(){l||ezpf.kpi.gameStart(a.claims.id).then(o,s)},tutorialStart:function(){l||ezpf.kpi.tutorialStart(a.claims.id).then(o,s)},tutorialFinish:function(){l||ezpf.kpi.tutorialFinish(a.claims.id).then(o,s)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(31),u=r(l),c=n(56),f=r(c),d=n(129),p=r(d),h=n(1),y=r(h),m=n(12),_=r(m),g=n(107),b=r(g),v=n(133),w=r(v),k=n(0),S=r(k),I=n(954),E=r(I),A={fill:5329761,fontFamily:"HummingStd-E",fontSize:19},x=1038,C=-20,T=-2,P=16,O=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(E.default,{closeButton:{class:S.default.DecideButton},"base/announceTitle":{text:e.title},"base/announceType":{text:n,dx:C},"base/announceTypeBase":{text:n,dx:C,dy:T},"base/createTime":{text:(0,f.default)(1e3*e.openAt,"yyyy/mm/dd HH:MM")},"base/btnScroll":S.default.ScrollBar.new(P)});o.blackLayer.interactive=!0,r._scrollBar=o["base/btnScroll"],r._scrollBase=S.default.commonUiHelper.createScrollBarBase({width:8,height:442}).addTo(o.base,1083,80),o.base.swapChildren(r._scrollBase,r._scrollBar);var s=o["base/announceTitle"];return s.text.indexOf("\n")>-1&&(s.style=A),b.default.on("resized",r._resize.bind(r)),r._widthRatio=x/y.default.SCREEN_WIDTH,r._makeOuterDiv(),r._makeDiv(e),r._setDivEvent(),o.closeButton.on("tap",function(){r.destroy({children:!0}),r._removeEvent(),document.body.removeChild(r._outerDiv)}),r._scrollOriginY=r._scrollBar.y,r._scrollBar.on("moved",r._scrollTo,r),r._scrollBar.hide(),r._scrollBase.hide(),r}return o(t,e),s(t,[{key:"_limitCursorMove",value:function(e){return e=Math.min(e,this._scrollOriginY+this._scrollBarMoveLength),e=Math.max(e,this._scrollOriginY)}},{key:"_scrollTo",value:function(){var e=this._limitCursorMove(this._scrollBar.y);this._scrollBar.y=e;var t=(this._scrollOriginY-this._scrollBar.y)/this._moveRate*-1;this._outerDiv.scrollTop=t}},{key:"_makeOuterDiv",value:function(){this._outerDiv=document.createElement("div"),document.body.appendChild(this._outerDiv)}},{key:"_makeDiv",value:function(e){var t=this;this._div=document.createElement("div"),this._div.allowtransparency=!0,this._div.style.overflowX="hidden",this._div.style.overflowY="auto",(0,p.default)("get",u.default.join("assets",e.image,"index.html")).type("application/html").then(function(e){t._setOuterDivStyle(),t._div.innerHTML=e.text,setTimeout(function(){t._load()},10)}),this._outerDiv.appendChild(this._div)}},{key:"_setOuterDivStyle",value:function(){var e=document.getElementsByTagName("canvas")[0].getBoundingClientRect(),t=e.width/y.default.SCREEN_WIDTH,n=w.default.calcScrollSize(),r=n.scrollX,i=n.scrollY,a=e.top+Math.floor(85*t)+i,o=e.left+Math.floor(45*t)+r;this._outerDiv.style.top=a+"px",this._outerDiv.style.left=o+"px",this._outerDiv.style.position="fixed",this._outerDiv.style.overflowX="hidden",this._outerDiv.style.overflowY="hidden",this._outerDiv.style.width="1038px",this._outerDiv.style.height="440px",this._outerDiv.style.cssText+=";transform:scale("+t+");-o-transform:scale("+t+");-webkit-transform:scale("+t+");-moz-transform:scale("+t+");-ms-transform:scale("+t+");transform-origin:0% 0%;-o-transform-origin:0% 0%;-webkit-transform-origin:0% 0%;-moz-transform-origin:0% 0%;-ms-transform-origin:0% 0%;"}},{key:"_resize",value:function(){this._setOuterDivStyle()}},{key:"_setDivEvent",value:function(){this._div.addEventListener("touchstart",this._divTouchStart.bind(this)),this._div.addEventListener("touchmove",this._divTouchMove.bind(this)),this._div.addEventListener("touchend",this._divTouchEnd.bind(this)),this._div.addEventListener("touchendoutside",this._divTouchEnd.bind(this)),this._div.addEventListener("mousedown",this._divTouchStart.bind(this)),this._div.addEventListener("mousemove",this._divTouchMove.bind(this)),this._div.addEventListener("mouseup",this._divTouchEnd.bind(this)),this._div.addEventListener("mouseupoutside",this._divTouchEnd.bind(this))}},{key:"_removeDivEvent",value:function(){this._div.removeEventListener("touchstart",this._divTouchStart.bind(this)),this._div.removeEventListener("touchmove",this._divTouchMove.bind(this)),this._div.removeEventListener("touchend",this._divTouchEnd.bind(this)),this._div.removeEventListener("touchendoutside",this._divTouchEnd.bind(this)),this._div.removeEventListener("mousedown",this._divTouchStart.bind(this)),this._div.removeEventListener("mousemove",this._divTouchMove.bind(this)),this._div.removeEventListener("mouseup",this._divTouchEnd.bind(this)),this._div.removeEventListener("mouseupoutside",this._divTouchEnd.bind(this))}},{key:"_removeEvent",value:function(){this._removeDivEvent(),b.default.off("resized",this._resize.bind(this))}},{key:"_load",value:function(){this._adjustScrollBar(),this._scrollBarMoveLength=this._scrollBase.height-this._scrollBar.height,this._listMoveLength=this._outerDiv.scrollHeight-this._outerDiv.clientHeight,this._scrollBar.updateMaxY(this._scrollOriginY+this._scrollBarMoveLength),this._listMoveLength>0&&this._scrollBase.show(),this._moveRate=this._scrollBarMoveLength/this._listMoveLength,this._aTags=this._div.getElementsByTagName("a");for(var e=0;e<this._aTags.length;e++){var t=this._aTags[e];t.dataset.path&&t.addEventListener("click",this._jumpToGame.bind(this))}}},{key:"_divTouchStart",value:function(e){this._isDivTouched=!0,this._touchStartPosition="mousedown"===e.type?e.y:e.changedTouches[0].clientY,this.beforeScrollTop=this._outerDiv.scrollTop}},{key:"_divTouchMove",
value:function(e){if(this._isDivTouched){e.preventDefault();var t="mousemove"===e.type?e.y:e.changedTouches[0].clientY,n=this.beforeScrollTop+this._touchStartPosition-t,r=n*this._moveRate+this._scrollOriginY;this._scrollBar.y=this._limitCursorMove(r),this._outerDiv.scrollTop=n}}},{key:"_divTouchEnd",value:function(){this._isDivTouched=!1}},{key:"_adjustScrollBar",value:function(){var e=this._outerDiv.scrollHeight,t=this._outerDiv.clientHeight;this._overflow=Math.max(0,e-t),this._scrollBar.visible=this._overflow>0,this._scrollBase.visible=this._overflow>0;var n=P,r=Math.min(1,t/e),i=n,a=this._scrollBase.height*r,o=this._scrollBar.fillColor;this._scrollBar.clear().beginFill(o).drawRoundedRect(0,0,i,a,n/2)}},{key:"_jumpToGame",value:function(e){e.preventDefault();var t=e.path[1].dataset.path;_.default.directTo(t),document.body.removeChild(this._outerDiv),aoba.sceneManager.popScene(),this.destroy({children:!0})}}]),t}(aoba.Container);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(240),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getImagePath:function(e){return this._extendedIdol.getImagePath(e)},getSpinePath:function(e){return this._extendedIdol.getSpinePath(e)},getMoviePath:function(e){return this._extendedIdol.getMoviePath(e)},getVoicePath:function(e){return this._extendedIdol.getVoicePath(e)},getRarityImagePath:function(e){return this._extendedIdol.getRarityImagePath(e)},getUnitImagePath:function(e){return this._extendedIdol.getUnitImagePath(e)},getIconImagePath:function(){return this._extendedIdol.getImagePath("fes_icon")},getCardImagePath:function(){return this.getImagePath("fes_card")},getTotalParameters:function(){return this.vocal+this.dance+this.visual+this.mental},equalCharacterTo:function(e){return this.characterId===e.characterId},get isFesIdol(){return!0},get name(){return this.idol.name},get firstName(){return this._extendedIdol.firstName},get characterId(){return this._extendedIdol.characterId},get unitId(){return this._extendedIdol.unitId},get rarity(){return this.idol.rarity},get _extendedIdol(){return aoba.utils.getPrototypeOf(this.idol)!==i.default&&aoba.utils.setPrototypeOf(this.idol,i.default),this.idol}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),l=n(959),u=r(l),c=["vocal","dance","visual","mental"],f=function(){function e(t){i(this,e),this.id=t.id,this.userFesDeckMembers=t.userFesDeckMembers.map(function(e){return new u.default(e)}),this.totalEvaluation=t.totalEvaluation,this.deckRank={}}return a(e,[{key:"applyBonuses",value:function(){var e=this._getUnitIdsWithMultipleIdols(),t=!0,n=!1,r=void 0;try{for(var i,a=this.userFesDeckMembers[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=e.includes(o.unitId);o.setHasFixedUnitBonus(s),o.applyBonuses(o.fesDeckMemberUnitBonus)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"calcParameter",value:function(e){return"mental"===e?this.userFesDeckMembers.reduce(function(t,n){return t+n[e]},0):this.userFesDeckMembers.reduce(function(t,n){var r=n[e];return n.positionName===e&&(r*=2),t+r},0)}},{key:"setMember",value:function(e,t){var n=this.userFesDeckMembers.find(function(e){return e.fesDeckMemberPosition===t});return n.setUserFesIdol(e),n}},{key:"getTotalMental",value:function(){return this.calcParameter("mental")}},{key:"calcTotalParameters",value:function(){var e=this;return c.reduce(function(t,n){return t+e.calcParameter(n)},0)}},{key:"getUserFesIdolIds",value:function(){return this.userFesDeckMembers.sort(function(e,t){return t.deckNumber-e.deckNumber}).map(function(e){return e.userFesIdol.id})}},{key:"findMemberByUserFesIdolId",value:function(e){return this.userFesDeckMembers.find(function(t){return t.userFesIdol.id===e})}},{key:"includesCharacter",value:function(e){return this._characterIds.includes(e.idol.character.id)}},{key:"_getUnitIdsWithMultipleIdols",value:function(){var e=s.default.groupBy(this.userFesDeckMembers,function(e){return e.unitId});return Object.keys(e).filter(function(t){return e[t].length>=2})}},{key:"memoryAppealLevel",get:function(){return this._centerDeckMember.userFesIdol.memoryAppeal.level}},{key:"_centerDeckMember",get:function(){return this.userFesDeckMembers.find(function(e){return e.isCenter})}},{key:"_characterIds",get:function(){return this.userFesDeckMembers.map(function(e){return e.userFesIdol.idol.character.id})}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(979),s=r(o),l=n(173),u=r(l);t.default={get:function(){return a.default.get("user").then(function(e){var t=e.body.user;return aoba.utils.setPrototypeOf(t,s.default),aoba.utils.setPrototypeOf(t.userStamen,u.default),Promise.resolve(t)})},create:function(){return a.default.post("users")}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(245),s=r(o),l=n(20),u=r(l),c=n(70),f=r(c),d=function(e){aoba.utils.setPrototypeOf(e,s.default),e.activeSkills.forEach(function(e){f.default.setActiveSkillMixin(e)}),e.passiveSkills&&e.passiveSkills.forEach(function(e){f.default.setPassiveSkillMixin(e)})};t.default={getList:function(){return a.default.get("userFesIdols").then(function(e){var t=e.body;return t.forEach(d),Promise.resolve(t)})},get:function(e){return a.default.get("userFesIdols/"+e).then(function(e){var t=e.body;return d(t),t.userFesSupportIdols.forEach(function(e){e.iconPath=u.default.createImagePath("support_idols","icon",e.supportIdolId)}),t.idolIconPath=u.default.createImagePath("idols","icon",t.idolId),t.scenarioBannerPath=u.default.createImagePath("produces","banners",t.produceId),Promise.resolve(t)})},trade:function(e){return a.default.post("userFesIdols/"+e+"/trade").then(function(e){return Promise.resolve(e)})},getCharacter:function(e){return a.default.get("userCharacters/character/"+e).then(function(e){return e.body})},updateActiveSkills:function(e,t){return a.default.patch("userFesIdols/"+e+"/concertActiveSkill",{activeSkillIds:t})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(96),s=r(o);t.default={getList:function(){return a.default.get("userMissions").then(function(e){var t=e.body;return Object.values(t).forEach(function(e){Object.values(e).forEach(function(e){e.mission.missionRewards.forEach(function(e){aoba.utils.setPrototypeOf(e,s.default)})})}),Promise.resolve(t)})},receiveReward:function(e){return a.default.post("userMissions/"+e+"/actions/receive").then(function(e){var t=e.body.userMission;return t.mission.missionRewards.forEach(function(e){aoba.utils.setPrototypeOf(e,s.default)}),Promise.resolve(t)})},reportFinish:function(e){return a.default.post("userMissions/actions/reportFinish",e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(19),f=r(c),d={M:125,L:158},p={fill:16777215,fontSize:36,fontFamily:"HummingStd-E",textBaseline:"bottom",padding:3},h=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));aoba.Graphics.new().beginFill(0,0).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT).addTo(e,0,0,{interactive:!0});var n=aoba.Sprite.new("loading_base.png");n.height=d.M,n.addTo(e,aoba.game.width-n.width,aoba.game.height-n.height),aoba.Text.new("Now Loading",p).addTo(e,744,588);var r=new PIXI.AEDataInterceptor({});return(0,f.default)({folderPath:"common/loading",interceptor:r}).then(function(t){e.addChild(t),t.position.set(34,46),t.play(!0)}),e}return o(t,e),s(t,[{key:"fadeIn",value:function(){return this.alpha=0,aoba.FrameTween.new(this).to({alpha:1},3).promise()}},{key:"fadeOut",value:function(){return aoba.FrameTween.new(this).to({alpha:0},3).promise()}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(992),f=r(c),d=u.default.SCREEN_WIDTH,p=u.default.SCREEN_HEIGHT,h=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{bg:{key:u.default.bg.COMMON},stripe:aoba.extras.TilingSprite.from("bg_stripe.png",d,p)});return e._stars=n.stars,e._stripe=n.stripe,e._ringMask=n["ring/ringMask"],e._ringGrad=n["ring/ringGrad"],e._addStarEffect(),e}return o(t,e),s(t,[{key:"ezgUpdate",value:function(e){this._ringMask.rotation+=e/1e4,this._ringGrad.rotation+=e/1e4,this._stripe.tilePosition.x+=1,this._stripe.tilePosition.x>=d&&(this._stripe.tilePosition.x=0)}},{key:"_addStarEffect",value:function(){this._stars.children.forEach(function(e,t){var n=500+30*t;aoba.Tween.new(e).to({scaleX:1.1,scaleY:1.1},n).to({scaleX:1,scaleY:1},n).loop()})}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(996),l=r(s),u=n(134),c=r(u),f=n(3),d=r(f),p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.fromData(l.default,{reward:c.default.new(e,{isLabelVisible:!1}),itemNameQuantity:{text:d.default.t("common.quantityMessageWithName",{name:e.getName(),quantity:e.num})}}),n}return o(t,e),t}(aoba.Sprite);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(999),u=r(l),c=n(0),f=r(c),d=n(32),p=r(d),h={ENABLED:16777215,DISABLED:10066329},y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._contentImages=e,n._index=0;var r=n.fromData(u.default,{overlay:{alpha:.6},content:{key:n._contentImages[n._index]},backButton:{class:f.default.DecideButton},forwardButton:{class:f.default.DecideButton},closeButton:{class:f.default.CancelButton}});return n._content=r.content,n._backButton=r.backButton,n._forwardButton=r.forwardButton,n._closeButton=r.closeButton,r.overlay.interactive=!0,n._updateButtonState(),n._forwardButton.on("tap",n._forward,n),n._backButton.on("tap",n._back,n),n._closeButton.on("tap",n._close,n),n}return o(t,e),s(t,[{key:"open",value:function(){return aoba.FrameTween.new(this).from({alpha:0},4).promise()}},{key:"_updateButtonState",value:function(){this._backButton.interactive=0!==this._index,this._forwardButton.interactive=this._index!==this._contentImages.length-1,this._backButton.tint=this._backButton.interactive?h.ENABLED:h.DISABLED,this._forwardButton.tint=this._forwardButton.interactive?h.ENABLED:h.DISABLED}},{key:"_updateContent",value:function(){this._content.texture=aoba.Texture.fromImage(this._contentImages[this._index])}},{key:"_onChangeIndex",value:function(){this._updateContent(),this._updateButtonState()}},{key:"_forward",value:function(){this._index++,this._onChangeIndex()}},{key:"_back",value:function(){this._index--,this._onChangeIndex()}},{key:"_close",value:function(){var e=this;aoba.FrameTween.new(this).to({alpha:0},4).call(function(){e.emit("close"),e.destroy({children:!0})})}}],[{key:"loadAndAddTo",value:function(e,n){var r=e.map(function(e){return"images/tips/"+e+".jpg"});return(0,p.default)(r).then(function(){return t.new(r).addTo(n).open()})}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={record:{entryNumber:function(e){var t=e.number;return i.default.t("concertResult.entryNumber",{number:t})},score:{index:function(e){return"score"+(e.i+1)},key:function(e){return"live_result_record_score_"+e.score%10+".png"}}},records:{index:function(e){return"record"+(e.i+1)}},statusUp:{icon:function(e){return"status_icon_"+e.name+".png"},message:function(e){var t=e.upPoint;return i.default.t("concertResult.statusUp.message",{upPoint:t})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(4),c=r(u),f=n(1),d=r(f),p=n(1046),h=r(p),y=n(0),m=r(y),_=n(19),g=r(_),b=n(26),v=r(b),w=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._skillVoicePath=e.getCutInVoicePath();var r=n.fromData(h.default,{"skillName/name":{text:e.name},idol:m.default.Spine.new(e.getSpinePath("stand"))});n._skillTitle=r["skillName/title"],n._skillTitle.mask=aoba.Sprite.new("support_skill_cut_in_title_mask.png").addTo(n._skillTitle,n._skillTitle.width/2,n._skillTitle.height/2,{anchor:aoba.p(.5)}),n._skillName=r.skillName,n._skillNameBase=r["skillName/nameBase"],n._idol=r.idol,n._idol.setScale(1.1),n.hide();var o=[{folderPath:"support_skill/supportskill_cutin"}].map(function(e){return(0,g.default)(e)});return Promise.all(o).then(function(e){n._baseAE=e[0],n.addChildAt(n._baseAE,0),n.play().then(function(){return n.emit("end")}).then(function(){return n.destroy({children:!0})})}),n}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._baseAE&&this._baseAE.destroy(!0),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"play",value:function(){return this._playSkillCutIn()}},{key:"_playSkillCutIn",value:function(){var e=this;return new Promise(function(t){aoba.FrameTween.new(e).call(function(){aoba.soundManager.playSE(v.default.supportSkill.cutIn),e._baseAE.play(),e.show()}).wait(20).call(function(){return aoba.soundManager.playVoiceAsync(e._skillVoicePath)}).wait(30).by({x:-300},14,"easeInQuart").call(t),aoba.FrameTween.new(e).wait(58).to({alpha:0},6),aoba.FrameTween.new(e).wait(50).chain(e._createMaskTween()),aoba.FrameTween.new(e._skillTitle).wait(14).call(function(){m.default.commonUiHelper.createGlossEffect().addTo(e._skillTitle)}),e._skillName.x=1432,e._skillName.alpha=0,aoba.FrameTween.new(e._skillName).wait(4).to({x:1,alpha:1},12,"easeOutQuart"),e._skillNameBase.alpha=0,aoba.FrameTween.new(e._skillNameBase).wait(16).to({alpha:1},6),e._idol.setAnimation(0,"skill1"),e._idol.position=aoba.p(1722,640),aoba.FrameTween.new(e._idol).to({x:269},20,"easeOutQuart")})}},{key:"_createMaskTween",value:function(){var e=this,t=aoba.FrameTween.new(this);return(0,c.default)(14).times(function(n){var r=n;t.call(function(){for(var t=aoba.Graphics.new().beginFill(0),n=(13-r)/13,i=0;i<8;++i)t.drawRect(80*i+40*(1-n),0,80*n,d.default.SCREEN_HEIGHT);for(var a=0;a<8;++a)t.drawRect(0,80*a+40*(1-n),d.default.SCREEN_WIDTH,80*n);e.mask=t}).wait(1)}),t}}]),t}(aoba.Container);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=["images/ui/common/parts_link_skill_dialog.json","images/ui/concert/parts.json","images/ui/concert/parts_attack_order.json","images/ui/concert/parts_bg.json","images/ui/concert/parts_effect.json","images/ui/concert/parts_pause.json","images/ui/concert/parts_number.json","images/ui/concert/parts_text.json","images/content/active_skills/icon.json","images/content/passive_skills/icon.json","images/content/skill_effects/icon.json","images/ui/concert/effects/idol_damaged.png","images/ui/concert/effects/idol_damaged_sad.png","images/ui/concert/effects/idol_recover.png","images/ui/concert/effects/judge_damaged.png","images/ui/concert/effects/mental_break.png","images/ui/concert/effects/player_idol.png","images/ui/concert/effects/spark_impact_blue.png","images/ui/concert/effects/fireworks_blue.png","images/ui/concert/effects/fireworks_green.png","images/ui/concert/effects/fireworks_yellow.png","images/ui/concert/effects/spark_impact_yellow.png","particles/concert/common/images.json","particles/concert/memory_appeal/bg.json","particles/concert/memory_appeal/impact.json","particles/concert/memory_appeal/spark.json","particles/concert/memory_appeal_gauge/heart_1.json","particles/concert/memory_appeal_gauge/heart_2.json","particles/concert/recover_skill/note.json","particles/concert/recover_skill/wave.json","particles/concert/judge_attack/trail_boke.json","particles/concert/judge_attack/trail.json","particles/concert/rival_attack/hit.json","particles/concert/rival_attack/trail.json","particles/concert/rival_attack/charge.json","particles/concert/idol_attack/hit.json","particles/concert/idol_attack/trail.json","particles/concert/idol_attack/charge.json","particles/concert/star/hit.json","particles/concert/star/trail.json","particles/concert/star/trail_boke.json","particles/concert/heart/hit.json","particles/concert/heart/trail.json","particles/concert/common/twinkle.json","particles/concert/common/arrow_up.json","particles/concert/common/arrow_down.json","particles/concert/common/flash_line_1.json","particles/concert/common/flash_line_2.json","particles/concert/common/flash_line_3.json","particles/concert/common/flash_line_3_down.json","particles/concert/common/flash_line_3_up.json","particles/concert/common/flash_line_ring.json","particles/concert/common/flash_spark_3.json","particles/concert/common/flash_spark_4.json","particles/concert/common/idol_buff.json","particles/concert/common/idol_debuff.json","particles/concert/common/idol_gain_star.json","particles/concert/common/retire_aura.json","particles/concert/common/retire_flash.json","particles/concert/common/stage_flash_011.json","particles/concert/common/stage_flash_012.json","particles/concert/common/stage_flash_013.json","particles/concert/common/stage_flash_020.json","particles/concert/common/stage_flash_030.json","particles/concert/common/timing_bad_center.json","particles/concert/common/timing_bad_top.json","particles/concert/common/timing_normal_top.json","particles/concert/common/timing_good_center.json","particles/concert/common/timing_good_top.json","particles/concert/common/timing_perfect_center.json","particles/concert/common/timing_perfect_top.json"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(i.default)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"skillCardBase",fullName:"skillCardBase",type:"sprite",key:"skill_card_base.png",x:-128,y:-58},{name:"skillCardIdol",fullName:"skillCardIdol",type:"sprite",key:null,x:-118,y:-48},{name:"skillIcon",fullName:"skillIcon",pivot:{x:.5,y:.5},type:"container",x:70,y:-1}],name:"",fullName:"",pivot:{x:.5,y:.5},type:"container",x:1002,y:578}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(257),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(36),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=e.id,o=e.idol,s=e.imagePaths,u=e.linkSkill,c=n.fromData(l.default,{skillCardBase:{key:"skill_card_base.png"},skillCardIdol:{key:s.card},skillIcon:{instance:aoba.Sprite.new(e.getImagePath()),scale:1/.785}}),f=c.skillCardBase,d=c.skillIcon;return d.x-=d.width/2,d.y-=d.height/2,n._linkIconTextures={on:aoba.Texture.fromImage("link_on.png"),off:aoba.Texture.fromImage("link_off.png")},n._linkSkillIcon=aoba.Sprite.new(n._linkIconTextures.off).addTo(n,-112,-68,{visible:!!u,scale:1/.785}),n._skillCardBase=f,n.scale.set(.785),n._skillId=a,n._idolId=o.id,n._idolUnitId=o.unitId,n._selected=!1,n.interactive=!0,n}return a(t,e),o(t,[{key:"slideUp",value:function(){return aoba.Tween.fromData(this,u.skillCard.slideUp).promise()}},{key:"select",value:function(){var e=this;return this._selected?Promise.resolve():this._tween?(this._tween.then(function(){return e.select()}),Promise.resolve()):(this._selected=!0,this._tween=aoba.Tween.fromData(this,u.skillCard.select).call(function(){e._tween=null}).promise(),this._tween)}},{key:"cancel",value:function(){var e=this;return this._selected?this._tween?(this._tween.then(function(){return e.cancel()}),Promise.resolve()):(this._selected=!1,this._tween=aoba.Tween.fromData(this,u.skillCard.cancel).call(function(){e._tween=null}).promise(),this._tween):Promise.resolve()}},{key:"updateLinkSkillState",value:function(e){this._enabledLinkSkill!==e&&(this._enabledLinkSkill=e,this._linkSkillIcon.texture=this._enabledLinkSkill?this._linkIconTextures.on:this._linkIconTextures.off)}},{key:"disappear",value:function(){var e=this;aoba.Tween.fromData(this,u.skillCard.disappear).call(function(){return e.destroy({children:!0})})}},{key:"skillId",get:function(){return this._skillId}},{key:"idolId",get:function(){return this._idolId}},{key:"idolUnitId",get:function(){return this._idolUnitId}},{key:"selected",get:function(){return this._selected}},{key:"enabledLinkSkill",get:function(){return this._enabledLinkSkill}},{key:"baseHeight",get:function(){return this._skillCardBase.height}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"skillDetailBase",fullName:"skillDetailBase",type:"sprite",key:"skill_detail_base.png",x:0,y:0},{name:"idolIcon",fullName:"idolIcon",type:"sprite",key:"idol_icon.png",x:19,y:11},{name:"name",fullName:"name",type:"text",text:"\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:16,y:79},{name:"description",fullName:"description",anchor:{x:0,y:0},type:"text",text:"\u653b\u6483\u30fb\u9632\u5fa1\u30fb\u9023\u7d9a\u653b\u6483DOWN/\u6bce\u30bf\u30fc\u30f3HP\u3042\uff09\u6bce\u30bf\u30fc\u30f3HP\u3042\uff09\u6bce\u30bf\u30fc\u30f3HP\u3042\uff09\u6bce\u30bf\u30fc\u30f3HP\u3042\uff09\u6bce\u30bf\u30fc\u30f3HP\u3042\uff09",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:22,y:92}],name:"",fullName:"",type:"container",x:275,y:376}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(12),c=r(u),f=n(1111),d=r(f),p=n(445),h=r(p),y=n(5),m=r(y),_=n(38),g=r(_),b=n(1112),v=r(b),w=n(1137),k=r(w),S=n(1),I=r(S),E=function(t){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._store=new k.default(e,t.isProduceEnabled),t._start(),t}return s(n,t),l(n,[{key:"startProduce",value:function(){var e=this._store.targetDeck,t=e.userIdol,n={userIdolId:t.id,userDeckId:e.id,supportItemIds:[]};g.default.start(n).then(function(){return g.default.next()}).then(function(e){c.default.directTo("/produce",{request:!1,sceneParams:e})})}},{key:"back",value:function(){c.default.directTo("/idolPortal")}},{key:"_start",value:function(){this._mainLayer=v.default.new({store:this._store,back:this.back.bind(this),startProduce:this.startProduce.bind(this),goToItem:this._goToItem.bind(this)}).addTo(this)}},{key:"_goToItem",value:function(){c.default.directTo("/item")}},{key:"isProduceEnabled",get:function(){return!1}}],[{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(I.default.bgm.deck)]}},{key:"request",value:function(){return g.default.ready()}},{key:"getContentResources",value:function(t){var n=t.decks;return e.uniq(v.default.getDecksResources(n))}},{key:"uiResources",get:function(){return[].concat(i(d.default),i(h.default))}}]),n}(m.default);t.default=E}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.interactive=!0,a._textureOff=aoba.Texture.fromImage(n.image),a._textureOn=aoba.Texture.fromImage(n.imageOn),a._onSelect=n.onSelect,a._selected=!1,a.on("touchstart",function(){aoba.soundManager.playSE(l.default.ui.select)}),a}return a(t,e),o(t,[{key:"select",value:function(){this.texture=this._textureOn,this.interactive=!1,this._selected=!0,this._onSelect()}},{key:"cancel",value:function(){this.texture=this._textureOff,this.interactive=!0,this._selected=!1}},{key:"selected",get:function(){return this._selected}}]),t}(aoba.Sprite);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=[{name:"fesIdol",buttonNames:{on:"fes_idol_button_on.png",off:"fes_idol_button.png"},serverAction:i.default.userFesIdol,detailKey:"id",detailSceneName:"fesIdolDetail"},{name:"userIdol",buttonNames:{on:"idol_button_on.png",off:"idol_button.png"},serverAction:i.default.userIdol,reserveServerAction:i.default.userReserveIdol,detailKey:"id",
detailSceneName:"idolDetail"},{name:"userSupportIdol",buttonNames:{on:"support_idol_button_on.png",off:"support_idol_button.png"},serverAction:i.default.userSupportIdol,reserveServerAction:i.default.userReserveSupportIdol,detailKey:"id",detailSceneName:"supportIdolDetail"},{name:"userReserveIdol",buttonNames:{on:"reserved_idol_button_on.png",off:"reserved_idol_button.png"},serverAction:i.default.userReserveIdol},{name:"userReserveSupportIdol",buttonNames:{on:"reserved_support_idol_button_on.png",off:"reserved_support_idol_button.png"},serverAction:i.default.userReserveSupportIdol},{name:"idol",serverAction:i.default.idol,detailKey:"id",detailSceneName:"idolDetail"},{name:"supportIdol",serverAction:i.default.supportIdol,detailKey:"id",detailSceneName:"supportIdolDetail"}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(0),f=r(c),d=n(1129),p=r(d),h=n(3),y=r(h),m=n(56),_=r(m),g=32503647599,b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.item.closeAt;n._expireTime=r&&r<g?1e3*r:null;var o=n._expireTime?(0,_.default)(1e3*r,y.default.t("common.expireDatetimeString")):null,s=null!==o,l=n.fromData(p.default,{name:{text:e.getName()},itemIcon:{key:e.getIconImagePath()},num:{text:""+u.default.numberFormat(e.getNum())},limitNum:{text:y.default.t("item.limitNum",{num:u.default.numberFormat(e.getLimitNum())})},expireDatetimeBase:{visible:s},expireDatetime:{visible:s,text:""+o},infoButton:{class:f.default.DecideButton},useButton:{class:f.default.DecideButton,key:e.itemCategory.useButtonKey}});0===e.getNum()&&(l.useButton.interactive=!1,l.useButton.tint=8947848);var c=l.limitNum,d=l.iconAttention;d.x=c.x-c.width/2-d.width,n._infoButton=l.infoButton,n._useButton=l.useButton,n._infoButton.on("tap",function(){n.emit("info")}),n._useButton.on("tap",function(){n.emit("use")});var h=l.name.style;return h.align="center",h.lineHeight=h.fontSize+2,h.wordWrap=!0,h.wordWrapWidth=187,h.breakWords=!0,n._updateUseButton(),n.show(),n}return o(t,e),s(t,[{key:"ezgUpdate",value:function(){this._updateUseButton()}},{key:"_updateUseButton",value:function(){this._expireTime&&this._useButton.interactive&&this._expireTime<Date.now()&&(this._useButton.interactive=!1,this._useButton.tint=8947848)}}]),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1130),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default,{name:{text:e.getName()},itemIcon:{key:e.getIconImagePath()},description:{text:e.getComment()},closeButton:{class:u.default.DecideButton}});return r.description.style.wordWrapWidth=460,n._closeButton=r.closeButton,n._closeButton.on("tap",function(){return n.close()}),n}return o(t,e),s(t,[{key:"open",value:function(){this.scale=aoba.p(0,0),this.show(),aoba.Tween.new(this).to({scaleX:1,scaleY:1},180,"easeOutBack")}},{key:"close",value:function(){var e=this;aoba.Tween.new(this).to({scaleX:0,scaleY:0},180,"easeInBack").call(function(){e.emit("closeEnd")})}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1131),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default,{comment:{text:e},closeButton:{class:u.default.DecideButton}});return n._closeButton=r.closeButton,n._closeButton.on("tap",function(){return n.close()}),n}return o(t,e),s(t,[{key:"open",value:function(){this.scale=aoba.p(0,0),this.show(),aoba.Tween.new(this).to({scaleX:1,scaleY:1},180,"easeOutBack")}},{key:"close",value:function(){var e=this;aoba.Tween.new(this).to({scaleX:0,scaleY:0},180,"easeInBack").call(function(){e.emit("closeEnd")})}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createUseRecoveryItemResultDialog=t.createUseRecoveryItemConfirmDialog=void 0;var i=n(14),a=r(i),o=n(1132),s=r(o),l=n(1133),u=r(l),c=n(71),f=r(c),d=n(3),p=r(d),h=t.createUseRecoveryItemConfirmDialog=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[];r.push({type:"close",image:"cancel_button.png"}),r.push({type:"submit",image:"use_button.png"});var i=e.recoveryItemType,o=p.default.t(i.valueNameTextId),l=f.default.recoveryItem.calcRecoveryValue(e,i.maxValue),u=aoba.Container.new(),c=u.fromData(s.default,{itemIcon:{key:e.getIconImagePath(),scale:.65},name:{text:p.default.t("item.itemConfirm.name",{name:e.getName()})},effect:{text:p.default.t("item.itemConfirm.effect",{valueName:o}),dy:-10},beforeItemNum:{text:p.default.t("item.itemConfirm.beforeItemNum",{num:e.getNum()})},afterItemNum:{text:p.default.t("item.itemConfirm.afterItemNum",{num:e.getNum()-n})},valueTitle:{text:o},beforeValue:{text:p.default.t("item.itemConfirm.beforeValue",{value:t})},afterValue:{text:p.default.t("item.itemConfirm.afterValue",{afterValue:t+l*n,gainValue:l*n})},commentBlack:{text:p.default.t("item.itemConfirm.commentBlack")},commentRed:{text:p.default.t("item.itemConfirm.commentRed")}}),d=c.effect,h=c.name;return u.position=aoba.p(0,0),d.style.align="center",h.style.wordWrap=!0,h.style.wordWrapWidth=300,h.style.breakWords=!0,
h.style.align="center",a.default.new({title:p.default.t("item.itemConfirm.title"),type:"use",buttons:r,container:u})},y=t.createUseRecoveryItemResultDialog=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=e.recoveryItemType,o=p.default.t(i.valueNameTextId),s=n-t,l=aoba.Container.new(),c=l.fromData(u.default,{effect:{text:p.default.t("item.itemResult.effect",{itemName:e.getName(),valueName:o,gainValue:s})},beforeItemNum:{text:p.default.t("item.itemResult.beforeItemNum",{num:e.getNum()+r})},afterItemNum:{text:p.default.t("item.itemResult.afterItemNum",{num:e.getNum()})},valueTitle:{text:o},beforeValue:{text:p.default.t("item.itemResult.beforeValue",{beforeValue:t})},afterValue:{text:p.default.t("item.itemResult.afterValue",{afterValue:n,gainValue:s})}}),f=c.effect;return l.position=aoba.p(0,0),f.style.align="center",a.default.new({title:p.default.t("item.itemResult.title"),type:"close",container:l})};t.default={createUseRecoveryItemConfirmDialog:h,createUseRecoveryItemResultDialog:y}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1153),u=r(l),c=n(3),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(u.default,{image:e.iconSprite,countBase:{key:"icol_label_base_s.png"},count:{text:t.getNumText(e.num),dy:3}}),o=r.count;return n._count=o,n}return o(t,e),s(t,[{key:"updateNum",value:function(e){this._count.text=t.getNumText(e)}}],[{key:"getNumText",value:function(e){return f.default.t("training.selectedNum",{num:e})}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(1189),f=r(c),d=function(e){return aoba.Sprite.new("fes_ticket_icon.png").setPosition(8*e,0)},p=function(e){var t=aoba.Container.new();return(0,u.default)(e).times(function(e){d(e).addTo(t)}),t},h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._ticketRecuperator=e;var r=n.fromData(f.default,{icons:p(e.count),overflow:{dy:2}});return n._icons=r.icons,n._overflow=r.overflow,n._updateExceed(e),n.on("added",n._onAdded,n),n.on("removed",n._onRemoved,n),n}return o(t,e),s(t,[{key:"_onAdded",value:function(){this._ticketRecuperator.addListener("recover",this._shiftIcon,this),this._ticketRecuperator.addListener("consumeCount",this._popIcon,this),this._ticketRecuperator.addListener("consumeExceed",this._updateExceed,this),this._ticketRecuperator.addListener("update",this._updateAll,this)}},{key:"_onRemoved",value:function(){this._ticketRecuperator.removeListener("recover",this._shiftIcon,this),this._ticketRecuperator.removeListener("consumeCount",this._popIcon,this),this._ticketRecuperator.removeListener("consumeExceed",this._updateExceed,this),this._ticketRecuperator.removeListener("update",this._updateAll,this)}},{key:"_shiftIcon",value:function(){var e=this._icons.children.length;d(e).addTo(this._icons)}},{key:"_popIcon",value:function(){this._icons.children.pop()}},{key:"_updateExceed",value:function(e){this._overflow.text="+"+e.exceed,this._overflow.style.fill=0===e.exceed?9865371:16640578}},{key:"_updateAll",value:function(e){var t=this;this._icons.removeChildren(),(0,u.default)(e.count).times(function(e){return d(e).addTo(t._icons)}),this._updateExceed(e)}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1213),l=r(s),u=n(81),c=r(u),f=n(454),d=r(f),p=n(1214),h=r(p),y=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=o.fromData(l.default,{skillDetailTitle:{key:"title_"+n+".png"}}),u=n===c.default.SKILL_TYPES.SUPPORT?h.default:d.default;return e.forEach(function(e,t){u.new(e,t,n,r).on("tapLinkButton",function(e){o.emit("tapLinkButton",e,t)}).on("releaseLinkButton",function(e){o.emit("releaseLinkButton",e)}).addTo(s.skillDetail,0,100*t)}),o}return o(t,e),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1216),f=r(c),d=n(1217),p=r(d),h=n(77),y=r(h),m=n(22),_=r(m),g=n(24),b=r(g),v={WIDTH:525.99,HEIGHT:398},w=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=o.fromData(f.default);return o._linkSkillLayer=aoba.Container.new().addTo(o),o._linkAppealDetails={},void 0===n&&(n=[e]),n.forEach(function(t,i){var a=!r||e.level===t.level;p.default.new(t,i,a).on("tapLinkButton",function(e,t){o._showLinkSkill(e,t,i,n.length>1?s.list.y:0)}).on("releaseLinkButton",function(e){o._deleteLinkSkill(e)}).addTo(s["list/memoryAppealLevel"],0,100*i)}),
s.list.height>v.HEIGHT&&o._createScrollRect(s.scrollBar,s.list),o}return o(t,e),s(t,[{key:"reset",value:function(){var e=this;return Object.keys(this._linkAppealDetails).forEach(function(t){e._linkAppealDetails[t]&&(e._linkAppealDetails[t].destroy(),e._linkAppealDetails[t]=null)}),this}},{key:"_createScrollRect",value:function(e,t){var n=e,r=u.default.commonUiHelper.createScrollBarBase({width:8,height:v.HEIGHT});_.default.new({width:v.WIDTH,height:v.HEIGHT,container:t,scrollBar:b.default.new({width:18}),scrollBarBase:r}).addToAt(this,n,0,56),r.addTo(n,0,0)}},{key:"_showLinkSkill",value:function(e,t,n,r){this._deleteLinkSkill(t),this._linkAppealDetails[t.id]=y.default.new(t).addTo(this._linkSkillLayer,125,100*n-52+r,{visible:!0})}},{key:"_deleteLinkSkill",value:function(e){this._linkAppealDetails[e.id]&&(this._linkAppealDetails[e.id].destroy({children:!0}),this._linkAppealDetails[e.id]=null)}}]),t}(aoba.Container);t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){var n=e.idol,a=e.idolType,o=e.rarity,s=e.cardType,u=void 0===s?"card":s,c=e.isShowSign,f=void 0!==c&&c;r(this,t);var d=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.getImagePath(u))),p=aoba.Sprite.new("idol_card_frame_"+o+".png").addTo(d,-4,-2,{scale:2.18});d.mask=aoba.Graphics.new().beginFill(0).drawRoundedRect(-4,-2,p.width,p.height).addTo(d);var h="produce"===a?"icon_idol_p.png":"icon_idol_s.png";if(aoba.Sprite.new(h).addTo(p,2,2,{scale:.48}),aoba.Sprite.new(n.getImagePath("name")).addTo(p,300,184,{scale:.48}),f&&o===l.default.app.RARITIES.SSR)aoba.Sprite.new(n.getImagePath("sign")).addTo(p,12,283,{scale:.46}).anchor.y=1;return d._frame=p,d}return a(t,e),o(t,[{key:"hideFrame",value:function(){this._frame.hide()}},{key:"showFrame",value:function(){this._frame.show()}}]),t}(aoba.Sprite);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1253),f=r(c),d=n(1254),p=r(d),h=n(14),y=r(h),m=n(3),_=r(m),g=n(67),b=r(g),v=n(7),w=r(v),k=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._price=e.price,n._banaCoin=e.moneyPower?n._getBalanceNum(e.moneyPower.banaCoin):0,n._enzaPoint=e.moneyPower?n._getBalanceNum(e.moneyPower.enzaPoint):0,n._shouldUsePoint=!1;var r=_.default.t("useBanaCoinPop.title"),o=[];o.push({callback:n._onCancelButton.bind(n),image:"cancel_button.png"}),o.push({callback:n._onOkButton.bind(n),image:n._getOkButtonImage()});var s=aoba.Container.new(),l=s.fromData(f.default,{description:{text:e.description},merchandise:{text:e.merchandise||""},"inner/banaCoinBefore":{text:n._banaCoin},"inner/banaCoinAfter":{text:n._banaCoin},"inner/enzaBefore":{text:n._enzaPoint},"inner/enzaAfter":{text:n._enzaPoint},checkIcon:{visible:!1},notice:{visible:!n._isFulfillMoneyPower()}});n._dialog=y.default.new({title:r,buttons:o,container:s}).addTo(n),n._banaCoinOkButton=n._dialog.buttons.children[1];var c=aoba.Container.new(),d=c.fromData(p.default,{policyButton:{class:u.default.DecideButton}});c.addTo(s,p.default.x-f.default.x,p.default.y-f.default.y);var h=l.checkIconBase,m=d.policyButton,g=l.checkIcon;return n._banaCoinAfter=l["inner/banaCoinAfter"],n._enzaAfter=l["inner/enzaAfter"],n._shortageNotice=l.notice,n._subtractPrice(),h.interactive=!0,h.on("tap",function(){aoba.soundManager.playSE(w.default.ui.select),g.visible=!g.visible,n._shouldUsePoint=g.visible,n._subtractPrice(),n._banaCoinOkButton.texture=aoba.Texture.fromImage(n._getOkButtonImage()),n._shortageNotice.visible=!n._isFulfillMoneyPower()}),aoba.Graphics.new().beginFill(0,0).drawRect(-25,-25,146,60).addTo(h),m.on("tap",n._onPolicyButton,n),n._dialog.open(),n}return o(t,e),s(t,[{key:"_onCancelButton",value:function(){var e=this;this._dialog&&(this._dialog.once("closeEnd",function(){return e.emit("tapCancelButton")}),this._dialog.close(),this._dialog=null)}},{key:"_onOkButton",value:function(){var e=this;if(this._dialog){if(this._isFulfillMoneyPower())return this._dialog.once("closeEnd",function(){return e.emit("tapUseButton",e._shouldUsePoint)}),this._dialog.close(),void(this._dialog=null);b.default.jumpTo.chargeBanacoin(location.toString())}}},{key:"_onPolicyButton",value:function(){u.default.platform.showSpecifiedCommercialTransactions()}},{key:"_subtractPrice",value:function(){var e=this._price;this._shouldUsePoint?this._enzaPoint>=e?(this._banaCoinAfter.text=this._banaCoin,this._enzaAfter.text=this._enzaPoint-e):(e-=this._enzaPoint,this._banaCoinAfter.text=this._banaCoin-e,this._enzaAfter.text=0):(this._banaCoinAfter.text=this._banaCoin-e,this._enzaAfter.text=this._enzaPoint)}},{key:"_isFulfillMoneyPower",value:function(){return this._shouldUsePoint?this._enzaPoint+this._banaCoin>=this._price:this._banaCoin>=this._price}},{key:"_getBalanceNum",value:function(e){return"-"===e?0:e}},{key:"_getOkButtonImage",value:function(){return this._isFulfillMoneyPower()?"ok_button.png":"bana_coin_charge_button.png"}}]),t}(aoba.Container);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=[{name:"bg.jpg",url:i.default.bg.GASHA},{name:"result_bg.jpg",url:i.default.bg.GASHA_RESULT},"images/ui/gasha/parts.json","images/ui/gasha_result/parts.json","images/ui/common/parts_use_bana_coin_pop.json",{name:"gasha_result_ssr_particle",url:"particles/gasha/gasha_result_ssr_particle/data.json"},{name:"gasha_top_particle_standard",url:"particles/gasha/gasha_top_particle_standard/data.json"},{name:"kira.png",url:"particles/gasha/gasha_result_ssr_particle/kira.png"},"particles/gasha/gasha_top_particle_standard/images.json",{name:"se0082",url:"sounds/se/gasha/0082.m4a"}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(1257),f=r(c),d=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fromData(f.default,{base:{alpha:.9},icon:{key:"icon_notice_special.png"},content:{text:u.default.t("gasha.loadingWarning"),dy:2}}).content.style.align="center",e}return o(t,e),s(t,[{key:"fadeIn",value:function(){return this.alpha=0,aoba.FrameTween.new(this).to({alpha:1},3).promise()}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1258),c=r(u),f=n(5),d=r(f),p=n(1259),h=r(p),y=n(39),m=r(y),_=n(1),g=r(_),b=n(0),v=r(b),w=n(1265),k=r(w),S=function(t){function n(e){var t=e.idols;i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));aoba.soundManager.playBGMAsync(g.default.bgm.gashaDraw),r._gashaEffectLayer=aoba.Container.new().addTo(r),r._overlayEffectLayer=aoba.Container.new().addTo(r);var o=void 0;return t.reduce(function(e,t){return e.then(function(){return new Promise(function(e){var n=o;o=r._createAnimation(t,n,e),n?(r._showLoadingIndicator(),o.on("initialized",function(){r._hideLoadingIndicator(),r._showTapToNextEffect(),r.once("touchend",function(){r._hideTapToNextEffect(),r._playFollowingAnimation(o,n),n=null})})):r._playFirstAnimation(o)})})},r._createTapToNextAnimation()).then(function(){r._showTapToNextEffect(),r.once("touchend",function(){o=null,r.destroy({children:!0})})}),r}return o(n,t),s(n,[{key:"ezgPreDestroy",value:function(){this._gashaEffectLayer=null,this._overlayEffectLayer=null,l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"_createAnimation",value:function(e,t,n){return h.default.create(e,!!t).addToAt(this._gashaEffectLayer,0).on("completed",n)}},{key:"_playFirstAnimation",value:function(e){var t=this;this.showLoadingLayer(),e.on("initialized",function(){return e.play(!1)}),e.on("started",function(){return t.hideLoadingLayer()})}},{key:"_playFollowingAnimation",value:function(t,n){var r=this;n.fadeOut(),t.whiten(),t.on("started",function(){var i=e.difference(n.listAETextureCacheIds(),t.listAETextureCacheIds(),r._tapToNextEffect.listAETextureCacheIds());n.destroy({children:!0}),n=null,i.forEach(function(e){var t=PIXI.Texture.removeFromCache(e);t&&t.destroy(!0)}),t.fadeIn()}),t.initIdolMovie().then(function(){return t.play(!0)})}},{key:"_showLoadingIndicator",value:function(){this._loadingIndicator||(this._loadingIndicator=v.default.LoadingIndicator.new().addTo(this._overlayEffectLayer,1032,102)),this._loadingIndicator.showAndPlay()}},{key:"_hideLoadingIndicator",value:function(){this._loadingIndicator&&this._loadingIndicator.hide()}},{key:"_createTapToNextAnimation",value:function(){return this._tapToNextEffect=k.default.new().addTo(this._overlayEffectLayer),this._tapToNextEffect.setup()}},{key:"_showTapToNextEffect",value:function(){this._tapToNextEffect.show()}},{key:"_hideTapToNextEffect",value:function(){this._tapToNextEffect.hide()}}],[{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(g.default.bgm.gashaDraw)]}},{key:"request",value:function(){return m.default.gasha.drawMock()}},{key:"getContentResources",value:function(t){var n=t.idols,r=[];return n.forEach(function(e){if(r.push(e.getImagePath("name")),"idol"===e.contentType){if(r.push(e.getSpinePath("stand_gasha")),e.rarity===g.default.app.RARITIES.R&&r.push(e.getSpinePath("cb_gasha")),e.rarity===g.default.app.RARITIES.SR&&r.push(e.getImagePath("card")),e.rarity>=g.default.app.RARITIES.SR&&(r.push(e.getImagePath("gasha_silhouette_black")),e.rarity===g.default.app.RARITIES.SSR)){r.push(e.getImagePath("sign"));var t=e.getVoicePath("gasha");t&&r.push(t)}}else r.push(e.getImagePath("card"));r.push(e.getImagePath("icon"))}),e.uniq(r)}},{key:"uiResources",get:function(){return c.default}}]),n}(d.default);t.default=S}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.fromData(e);return n._idolName=a.idolName,n._comment=a.comment,n._comment.typeInterval=64,n}return a(t,e),o(t,[{key:"ezgPreDestroy",value:function(){this._stopVoice(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"open",value:function(e,t,n){var r=this;this._isOpened=!0,this._idolName.text=e,this._comment.typeText(t,!0),this._comment.on("endText",function(){r.emit("endText")}),this._playVoice(n),this.scale=aoba.p(0,0),this.show(),aoba.FrameTween.new(this).to({scaleX:1,scaleY:1},5,"easeOutQuad")}},{key:"close",value:function(){this._isOpened=!1,this._stopVoice(),aoba.FrameTween.new(this).to({scaleX:0,scaleY:0},5,"easeInQuad")}},{key:"_playVoice",value:function(e){var t=this;this._playVoicePath=e,e&&aoba.soundManager.playVoiceAsync(e).then(function(n){t._playVoicePath===e?(t._stopVoice(),t._voiceSound=n):aoba.soundManager.remove(n,"voice"),t._isOpened||t._stopVoice()})}},{key:"_stopVoice",value:function(){this._voiceSound&&(aoba.soundManager.remove(this._voiceSound,"voice"),this._voiceSound=null)}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1280),f=r(c),d=n(1281),p=r(d),h=n(1283),y=r(h),m=n(22),_=r(m),g=n(24),b=r(g),v={WIDTH:525.99,HEIGHT:398},w="after_event",k=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=o.fromData(f.default,{noEventMessage:{visible:0===n.length}}),l=[],u=[];if(null!==e&&void 0!==e&&0!==e.length){var c=n&&0!==n.length?e.filter(function(e){return e.category===n[0].category}):[],d=e.filter(function(e){return e.category===w});l=c.map(function(e){return e.eventId}),u=d.map(function(e){return e.eventId})}return n.forEach(function(e,t){var n=0!==l.length&&l.includes(e.id);p.default.new(e,n).addTo(s.list,0,54*t)}),r&&0!==r.length&&r.forEach(function(e,t){var r=0!==u.length&&u.includes(e.id);y.default.new(e,r).on("tapDetailButton",function(e){o.emit("tapDetailButton",e)}).addTo(s.list,0,54*(n.length+t))}),s.list.height>v.HEIGHT&&o._createScrollBar(s.scrollBar,s.list),o}return o(t,e),s(t,[{key:"_createScrollBar",value:function(e,t){var n=e,r=u.default.commonUiHelper.createScrollBarBase({width:8,height:v.HEIGHT});_.default.new({width:v.WIDTH,height:v.HEIGHT,container:t,scrollBar:b.default.new({width:18}),scrollBarBase:r}).addToAt(this,n,0,56),r.addTo(n,0,0)}}]),t}(aoba.Container);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(3),s=r(o),l=n(56),u=r(l),c=function(e){return(0,u.default)(1e3*e,"yyyy/mm/dd HH:MM")};t.default={present:{createdTime:function(e){return c(e)},expireTime:function(e){return null===e||void 0===e?s.default.t("present.present.noExpire"):s.default.t("present.present.expireTime",{expire:c(e)})},receivedTime:function(e){return c(e)}},main:{count:{title:function(e){return e?s.default.t("present.main.count.title.received"):s.default.t("present.main.count.title.unReceive")}}},receiveAll:{typeNames:function(e){switch(e.type){case a.default.asset.CONTENT_TYPE.PRODUCER_IDOL:return s.default.t("common.pIdol");case a.default.asset.CONTENT_TYPE.SUPPORT_IDOL:return s.default.t("common.sIdol");case a.default.asset.CONTENT_TYPE.ENHANCEMENT_ITEM:case a.default.asset.CONTENT_TYPE.RECOVERY_ITEM:case a.default.asset.CONTENT_TYPE.GASHA_TICKET:return s.default.t("common.item");case a.default.asset.CONTENT_TYPE.JEWEL:return s.default.t("jewel");case a.default.asset.CONTENT_TYPE.MONEY:return s.default.t("money");default:return""}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(3),s=r(o);t.default={memoryPoint:function(e){return""+a.default.numberFormat(e)},lastFan:function(e){return""+a.default.numberFormat(e)},totalFan:{idolName:function(e){return s.default.t("ending.totalFan.idolName",{name:e})},fan:function(e){return""+a.default.numberFormat(e)}},image:{endingGraphRankIcon:function(e){return"ending_graph_rank_icon_"+e.idolRank.toLowerCase()+".png"},idolRankIcon:function(e){return"ending_graph_rank_icon_l_"+e.idolRank.toLowerCase()+".png"}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(22),u=r(l),c=n(24),f=r(c),d=n(116),p=r(d),h=n(1522),y=r(h),m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._layoutConf=e;var r=n._layoutConf,o=r.layout,s=r.layoutParam;return n.fromData(o,s),n._itemList=y.default.new(),n._scrollRect=null,n._scrollBarBase=null,n._init(),n}return o(t,e),s(t,[{key:"_init",value:function(){var e=this._layoutConf,t=e.x,n=e.y,r=e.width,i=e.height,a=f.default.new({width:18}),o=p.default.new({width:8,height:i});this._scrollRect=u.default.new({width:r,height:i,container:this._itemList,scrollBar:a,scrollBarBase:o}).addTo(this,t,n),this._scrollBarBase=o.addTo(this,r-20,n)}},{key:"reset",value:function(){this._itemList.removeChildren(),this._scrollRect&&this._scrollRect.remove(),this._scrollBarBase&&this._scrollBarBase.remove(),this._init()}},{key:"showItems",value:function(e){var t=this;this.reset(),e.forEach(function(e){t._itemList.addItem(e)})}},{key:"findItemByshopMerchandiseId",value:function(e){return this.items.find(function(t){return t.shopMerchandiseId===e})}},{key:"onCompletePurchase",value:function(){}},{key:"items",get:function(){return this._itemList.children}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(104),t.createHash=t.Hash=n(122),t.createHmac=t.Hmac=n(326);var r=n(724),i=Object.keys(r),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return a};var o=n(328);t.pbkdf2=o.pbkdf2,t.pbkdf2Sync=o.pbkdf2Sync;var s=n(726);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var l=n(745);t.DiffieHellmanGroup=l.DiffieHellmanGroup,t.createDiffieHellmanGroup=l.createDiffieHellmanGroup,t.getDiffieHellman=l.getDiffieHellman,t.createDiffieHellman=l.createDiffieHellman,t.DiffieHellman=l.DiffieHellman;var u=n(751);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=n(789);var c=n(790);t.publicEncrypt=c.publicEncrypt,t.privateEncrypt=c.privateEncrypt,t.publicDecrypt=c.publicDecrypt,t.privateDecrypt=c.privateDecrypt;var f=n(793);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=function(e){
return e&&e.__esModule?e:{default:e}}(r),a=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=new i.default(e.images,e.data);return o.setPosition(n,r),a.scale&&(o.setScale(a.scale),o.setPosition(n/a.scale,r/a.scale)),t.addChild(o.container),a.playAndDestroy?o.playAndDestroy({startTime:a.startTime}):o.play({startTime:a.startTime}),o};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(23),d=r(f),p=n(1269),h=r(p),y="particles/my_page/MyPage_twinkle_side/particle.png",m="particles/my_page/MyPage_twinkle_side/data.json",_="particles/my_page/MyPage_twinkle_top_bottom/data.json",g="particles/my_page/MyPage_twinkle_orb/data.json",b=["ssr_flare_blue_1.png","ssr_flare_green_1.png","ssr_flare_orange_1.png","ssr_flare_pink_1.png"],v=-190,w=1030,k=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[y],m));return e.play(),e}return o(t,e),t}(d.default),S=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.container.position.set(v,0),e}return o(t,e),t}(k),I=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.container.position.set(w,0),e}return o(t,e),t}(k),E=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[y],_));return e.play(),e}return o(t,e),t}(d.default),A=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.container.position.set(0,440),e}return o(t,e),t}(E),x=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.container.position.set(0,-174),e}return o(t,e),t}(E),C=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._particles=[],e}return o(t,e),l(t,null,[{key:"resources",get:function(){return[y,m,_,g,"particles/my_page/MyPage_twinkle_orb/images.json"].concat(h.default.resources)}}]),l(t,[{key:"destroy",value:function(e){return this.destroyParticles(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this,e)}},{key:"destroyParticles",value:function(){this._particles.forEach(function(e){return e.destroy({children:!0})}),this._particles=[]}},{key:"playYellowCircles",value:function(){this._particles.push(h.default.new(h.default.KEYS.YELLOW_IMAGE).addTo(this))}},{key:"playRainbowCircles",value:function(){this._particles.push(h.default.new(h.default.KEYS.RAINBOW_IMAGE).addTo(this))}},{key:"playTwinkle",value:function(){var e=this;return[S,I,x,A].forEach(function(t){var n=new t;e.addChild(n.container),e._particles.push(n)}),this}},{key:"playOrb",value:function(){var e=new d.default(b,g);e.container.position.set(v,0),this.addChild(e.container),e.play(),this._particles.push(e);var t=new d.default(b,g);t.container.position.set(w,0),this.addChild(t.container),t.play(),this._particles.push(t)}},{key:"playByRarity",value:function(e){if(!(e<c.default.app.RARITIES.R)){if(e===c.default.app.RARITIES.R)return void this.playYellowCircles();if(this.playTwinkle(),e===c.default.app.RARITIES.SR)return void this.playYellowCircles();this.playOrb(),this.playRainbowCircles()}}}]),t}(aoba.Container);t.default=C},function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(498),n(695),n(696),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(44))},function(e,t,n){e.exports=!n(27)&&!n(15)(function(){return 7!=Object.defineProperty(n(188)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(25)},function(e,t,n){var r=n(45),i=n(49),a=n(142)(!1),o=n(190)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){var r=n(28),i=n(8),a=n(87);e.exports=n(27)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,l=0;s>l;)r.f(e,n=o[l++],t[n]);return e}},function(e,t,n){var r=n(49),i=n(90).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(r(e))}},function(e,t,n){"use strict";var r=n(87),i=n(143),a=n(120),o=n(33),s=n(119),l=Object.assign;e.exports=!l||n(15)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=o(e),l=arguments.length,u=1,c=i.f,f=a.f;l>u;)for(var d,p=s(arguments[u++]),h=c?r(p).concat(c(p)):r(p),y=h.length,m=0;y>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:l},function(e,t,n){"use strict";var r=n(37),i=n(17),a=n(292),o=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?l(t,r.length,r):a(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(11).parseInt,i=n(101).trim,a=n(194),o=/^[-+]?0[xX]/;e.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(o.test(n)?16:10))}:r},function(e,t,n){var r=n(11).parseFloat,i=n(101).trim;e.exports=1/r(n(194)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(54);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(17),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(197),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),l=i(2,-126),u=function(e){return e+1/a-1/a}
;e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<l?c*u(i/l/o)*l*o:(t=(1+o/a)*i,n=t-(t-i),n>s||n!=n?c*(1/0):c*n)}},function(e,t,n){var r=n(8);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(37),i=n(33),a=n(119),o=n(29);e.exports=function(e,t,n,s,l){r(t);var u=i(e),c=a(u),f=o(u.length),d=l?f-1:0,p=l?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=p;break}if(d+=p,l?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:f>d;d+=p)d in c&&(s=t(s,c[d],d,u));return s}},function(e,t,n){"use strict";var r=n(33),i=n(88),a=n(29);e.exports=[].copyWithin||function(e,t){var n=r(this),o=a(n.length),s=i(e,o),l=i(t,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:i(u,o))-l,o-s),f=1;for(l<s&&s<l+c&&(f=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=f,l+=f;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(27)&&"g"!=/./g.flags&&n(28).f(RegExp.prototype,"flags",{configurable:!0,get:n(147)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(8),i=n(17),a=n(212);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(307),i=n(103);e.exports=n(150)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(28).f,i=n(89),a=n(94),o=n(53),s=n(92),l=n(93),u=n(200),c=n(302),f=n(91),d=n(27),p=n(78).fastKey,h=n(103),y=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=r&&l(r,n,e[u],e)});return a(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[y]--}return!!r},forEach:function(e){h(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return h(this,t)[y]}}),c},def:function(e,t,n){var r,i,a=m(e,t);return a?a.v=n:(e._l=a={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[y]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(307),i=n(103);e.exports=n(150)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(64)(0),a=n(47),o=n(78),s=n(290),l=n(310),u=n(17),c=n(15),f=n(103),d=o.getWeak,p=Object.isExtensible,h=l.ufstore,y={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(e){if(u(e)){var t=d(e);return!0===t?h(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(f(this,"WeakMap"),e,t)}},g=e.exports=n(150)("WeakMap",m,_,l,!0,!0);c(function(){return 7!=(new g).set((Object.freeze||Object)(y),7).get(y)})&&(r=l.getConstructor(m,"WeakMap"),s(r.prototype,_),o.NEED=!0,i(["delete","has","get","set"],function(e){var t=g.prototype,n=t[e];a(t,e,function(t,i){if(u(t)&&!p(t)){this._f||(this._f=new r);var a=this._f[e](t,i);return"set"==e?this:a}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(94),i=n(78).getWeak,a=n(8),o=n(17),s=n(92),l=n(93),u=n(64),c=n(45),f=n(103),d=u(5),p=u(6),h=0,y=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},_=function(e,t){return d(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,a){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&l(r,n,e[a],e)});return r(u.prototype,{delete:function(e){if(!o(e))return!1;var n=i(e);return!0===n?y(f(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!o(e))return!1;var n=i(e);return!0===n?y(f(this,t)).has(e):n&&c(n,this._i)}}),u},def:function(e,t,n){var r=i(a(t),!0);return!0===r?y(e).set(t,n):r[e._i]=n,e},ufstore:y}},function(e,t,n){var r=n(62),i=n(29);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(90),i=n(143),a=n(8),o=n(11).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function r(e,t,n,u,c,f,d,p){for(var h,y,m=c,_=0,g=!!d&&s(d,p,3);_<u;){if(_ in n){if(h=g?g(n[_],_,t):n[_],y=!1,a(h)&&(y=h[l],y=void 0!==y?!!y:i(h)),y&&f>0)m=r(e,t,h,o(h.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=h}m++}_++}return m}var i=n(144),a=n(17),o=n(29),s=n(53),l=n(25)("isConcatSpreadable");e.exports=r},function(e,t,n){var r=n(29),i=n(196),a=n(61);e.exports=function(e,t,n,o){var s=String(a(e)),l=s.length,u=void 0===n?" ":String(n),c=r(t);if(c<=l||""==u)return s;var f=c-l,d=i.call(u,Math.ceil(f/u.length));return d.length>f&&(d=d.slice(0,f)),o?d+s:s+d}},function(e,t,n){var r=n(87),i=n(49),a=n(120).f;e.exports=function(e){return function(t){for(var n,o=i(t),s=r(o),l=s.length,u=0,c=[];l>u;)a.call(o,n=s[u++])&&c.push(e?[n,o[n]]:o[n]);return c}}},function(e,t,n){var r=n(121),i=n(317);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(93);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(t,r){function i(e){return B.from(e)}function a(e){return B.isBuffer(e)||e instanceof j}function o(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?R(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function s(e,t){M=M||n(95),e=e||{},this.objectMode=!!e.objectMode,t instanceof M&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(G||(G=n(221).StringDecoder),this.decoder=new G(e.encoding),this.encoding=e.encoding)}function l(e){if(M=M||n(95),!(this instanceof l))return new l(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),F.call(this)}
function u(e,t,n,r,a){var o=e._readableState;if(null===t)o.reading=!1,y(e,o);else{var s;a||(s=f(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===B.prototype||(t=i(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?c(e,o,t,!1):g(e,o)):c(e,o,t,!1))):r||(o.reading=!1)}return d(o)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&m(e)),g(e,t)}function f(e,t){var n;return a(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function p(e){return e>=W?e=W:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function h(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=p(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function y(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,m(e)}}function m(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(H("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?N(_,e):_(e))}function _(e){H("emit readable"),e.emit("readable"),I(e)}function g(e,t){t.readingMore||(t.readingMore=!0,N(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(H("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;H("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&D(e,"data")&&(t.flowing=!0,I(e))}}function w(e){H("readable nexttick read 0"),e.read(0)}function k(e,t){t.resumeScheduled||(t.resumeScheduled=!0,N(S,e,t))}function S(e,t){t.reading||(H("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(H("flow",t.flowing);t.flowing&&null!==e.read(););}function E(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=A(e,t.buffer,t.decoder),n}function A(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?x(e,t):C(e,t),r}function x(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}function C(e,t){var n=B.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,N(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var N=n(156);e.exports=l;var M,R=n(319);l.ReadableState=s;var D=(n(217).EventEmitter,function(e,t){return e.listeners(t).length}),F=n(321),B=n(18).Buffer,j=t.Uint8Array||function(){},L=n(123);L.inherits=n(6);var U=n(710),H=void 0;H=U&&U.debuglog?U.debuglog("stream"):function(){};var G,z=n(711),V=n(322);L.inherits(l,F);var K=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=V.destroy,l.prototype._undestroy=V.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=B.from(e,t),t=""),n=!0),u(this,e,t,!1,n)},l.prototype.unshift=function(e){return u(this,e,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(e){return G||(G=n(221).StringDecoder),this._readableState.decoder=new G(e),this._readableState.encoding=e,this};var W=8388608;l.prototype.read=function(e){H("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return H("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):m(this),null;if(0===(e=h(e,t))&&t.ended)return 0===t.length&&T(this),null;var r=t.needReadable;H("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,H("length less than watermark",r)),t.ended||t.reading?(r=!1,H("reading or ended",r)):r&&(H("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=h(n,t)));var i;return i=e>0?E(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==i&&this.emit("data",i),i},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(e,t){function n(e,t){H("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,a())}function i(){H("onend"),e.end()}function a(){H("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",m),e.removeListener("error",l),e.removeListener("unpipe",n),d.removeListener("end",i),d.removeListener("end",f),d.removeListener("data",s),_=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||m()}function s(t){H("ondata"),g=!1,!1!==e.write(t)||g||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&-1!==O(p.pipes,e))&&!_&&(H("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,g=!0),d.pause())}function l(t){H("onerror",t),f(),e.removeListener("error",l),0===D(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),f()}function c(){H("onfinish"),e.removeListener("close",u),f()}function f(){H("unpipe"),d.unpipe(e)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,H("pipe count=%d opts=%j",p.pipesCount,t);var h=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,y=h?i:f;p.endEmitted?N(y):d.once("end",y),e.on("unpipe",n);var m=v(d);e.on("drain",m);var _=!1,g=!1;return d.on("data",s),o(e,"error",l),e.once("close",u),e.once("finish",c),e.emit("pipe",d),p.flowing||(H("pipe resume"),d.resume()),e},l.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=O(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},l.prototype.on=function(e,t){var n=F.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&m(this):N(w,this))}return n
},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var e=this._readableState;return e.flowing||(H("resume"),e.flowing=!0,k(this,e)),this},l.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(H("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(H("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length))r.push(i)||(n=!0,e.pause())});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<K.length;a++)e.on(K[a],r.emit.bind(r,K[a]));return r._read=function(t){H("wrapped _read",t),n&&(n=!1,e.resume())},r},l._fromList=E}).call(t,n(44),n(43))},function(e,t,n){e.exports=n(217).EventEmitter},function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(r||i)return void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||o(a,this,e));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(o(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}var o=n(156);e.exports={destroy:r,undestroy:i}},function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){o(t,e,n)}):o(t)})}function o(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=a;var s=n(95),l=n(123);l.inherits=n(6),l.inherits(a,s),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;s.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){function r(){this.init(),this._w=h,f.call(this,64,56)}function i(e,t,n){return n^e&(t^n)}function a(e,t,n){return e&t|n&(e|t)}function o(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function u(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var c=n(6),f=n(105),d=n(18).Buffer,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=new Array(64);c(r,f),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,c=0|this._c,f=0|this._d,d=0|this._e,h=0|this._f,y=0|this._g,m=0|this._h,_=0;_<16;++_)t[_]=e.readInt32BE(4*_);for(;_<64;++_)t[_]=u(t[_-2])+t[_-7]+l(t[_-15])+t[_-16]|0;for(var g=0;g<64;++g){var b=m+s(d)+i(d,h,y)+p[g]+t[g]|0,v=o(n)+a(n,r,c)|0;m=y,y=h,h=d,d=f+b|0,f=c,c=r,r=n,n=b+v|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=c+this._c|0,this._d=f+this._d|0,this._e=d+this._e|0,this._f=h+this._f|0,this._g=y+this._g|0,this._h=m+this._h|0},r.prototype._hash=function(){var e=d.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=_,h.call(this,128,112)}function i(e,t,n){return n^e&(t^n)}function a(e,t,n){return e&t|n&(e|t)}function o(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function s(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function u(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function c(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function f(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function d(e,t){return e>>>0<t>>>0?1:0}
var p=n(6),h=n(105),y=n(18).Buffer,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_=new Array(160);p(r,h),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,p=0|this._ch,h=0|this._dh,y=0|this._eh,_=0|this._fh,g=0|this._gh,b=0|this._hh,v=0|this._al,w=0|this._bl,k=0|this._cl,S=0|this._dl,I=0|this._el,E=0|this._fl,A=0|this._gl,x=0|this._hl,C=0;C<32;C+=2)t[C]=e.readInt32BE(4*C),t[C+1]=e.readInt32BE(4*C+4);for(;C<160;C+=2){var T=t[C-30],P=t[C-30+1],O=l(T,P),N=u(P,T);T=t[C-4],P=t[C-4+1];var M=c(T,P),R=f(P,T),D=t[C-14],F=t[C-14+1],B=t[C-32],j=t[C-32+1],L=N+F|0,U=O+D+d(L,N)|0;L=L+R|0,U=U+M+d(L,R)|0,L=L+j|0,U=U+B+d(L,j)|0,t[C]=U,t[C+1]=L}for(var H=0;H<160;H+=2){U=t[H],L=t[H+1];var G=a(n,r,p),z=a(v,w,k),V=o(n,v),K=o(v,n),W=s(y,I),q=s(I,y),X=m[H],Y=m[H+1],J=i(y,_,g),Q=i(I,E,A),Z=x+q|0,$=b+W+d(Z,x)|0;Z=Z+Q|0,$=$+J+d(Z,Q)|0,Z=Z+Y|0,$=$+X+d(Z,Y)|0,Z=Z+L|0,$=$+U+d(Z,L)|0;var ee=K+z|0,te=V+G+d(ee,K)|0;b=g,x=A,g=_,A=E,_=y,E=I,I=S+Z|0,y=h+$+d(I,S)|0,h=p,S=k,p=r,k=w,r=n,w=v,v=Z+ee|0,n=$+te+d(v,Z)|0}this._al=this._al+v|0,this._bl=this._bl+w|0,this._cl=this._cl+k|0,this._dl=this._dl+S|0,this._el=this._el+I|0,this._fl=this._fl+E|0,this._gl=this._gl+A|0,this._hl=this._hl+x|0,this._ah=this._ah+n+d(this._al,v)|0,this._bh=this._bh+r+d(this._bl,w)|0,this._ch=this._ch+p+d(this._cl,k)|0,this._dh=this._dh+h+d(this._dl,S)|0,this._eh=this._eh+y+d(this._el,I)|0,this._fh=this._fh+_+d(this._fl,E)|0,this._gh=this._gh+g+d(this._gl,A)|0,this._hh=this._hh+b+d(this._hl,x)|0},r.prototype._hash=function(){function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}var t=y.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var n="sha512"===e||"sha384"===e?128:64;if(this._alg=e,this._key=t,t.length>n)t=("rmd160"===e?new u:c(e)).update(t).digest();else t.length<n&&(t=s.concat([t,f],n));for(var r=this._ipad=s.allocUnsafe(n),i=this._opad=s.allocUnsafe(n),a=0;a<n;a++)r[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new u:c(e),this._hash.update(r)}var i=n(6),a=n(723),o=n(80),s=n(18).Buffer,l=n(215),u=n(216),c=n(222),f=s.alloc(128);i(r,o),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return e=e.toLowerCase(),"rmd160"===e||"ripemd160"===e?new r("rmd160",t):"md5"===e?new a(l,t):new r(e,t)}},function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t,n){t.pbkdf2=n(725),t.pbkdf2Sync=n(331)},function(e,t){var n=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!==t)throw new TypeError("Bad key length")}},function(e,t,n){(function(t){var n;if(t.browser)n="utf-8";else n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=n}).call(t,n(43))},function(e,t,n){function r(e,t,n){var r=i(e),a="sha512"===e||"sha384"===e?128:64;t.length>a?t=r(t):t.length<a&&(t=f.concat([t,d],a));for(var o=f.allocUnsafe(a+p[e]),s=f.allocUnsafe(a+p[e]),l=0;l<a;l++)o[l]=54^t[l],s[l]=92^t[l];var u=f.allocUnsafe(a+n+4);o.copy(u,0,0,a),this.ipad1=u,this.ipad2=o,this.opad=s,this.alg=e,this.blocksize=a,this.hash=r,this.size=p[e]}function i(e){function t(t){return l(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?s:"md5"===e?o:t}function a(e,t,n,i,a){f.isBuffer(e)||(e=f.from(e,c)),f.isBuffer(t)||(t=f.from(t,c)),u(n,i),a=a||"sha1";var o=new r(a,e,t.length),s=f.allocUnsafe(i),l=f.allocUnsafe(t.length+4);t.copy(l,0,0,t.length);for(var d=0,h=p[a],y=Math.ceil(i/h),m=1;m<=y;m++){l.writeUInt32BE(m,t.length);for(var _=o.run(l,o.ipad1),g=_,b=1;b<n;b++){g=o.run(g,o.ipad2);for(var v=0;v<h;v++)_[v]^=g[v]}
_.copy(s,d),d+=h}return s}var o=n(215),s=n(216),l=n(222),u=n(329),c=n(330),f=n(18).Buffer,d=f.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=a},function(e,t,n){function r(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}var i=n(124),a=n(18).Buffer,o=n(333);t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=a.concat([e._cache,a.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var l=r(e),u=o+16*s;e._cache.writeUInt32BE(l[0],u+0),e._cache.writeUInt32BE(l[1],u+4),e._cache.writeUInt32BE(l[2],u+8),e._cache.writeUInt32BE(l[3],u+12)}var c=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,c)}},function(e,t){function n(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}e.exports=n},function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(e,t,n){function r(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}function i(e,t,n){if(12===t.length)return e._finID=s.concat([t,s.from([0,0,0,1])]),s.concat([t,s.from([0,0,0,2])]);var r=new c(n),i=t.length,a=i%16;r.update(t),a&&(a=16-a,r.update(s.alloc(a,0))),r.update(s.alloc(8,0));var o=8*i,l=s.alloc(8);l.writeUIntBE(o,0,8),r.update(l),e._finID=r.state;var u=s.from(e._finID);return d(u),u}function a(e,t,n,r){l.call(this);var a=s.alloc(4,0);this._cipher=new o.AES(t);var u=this._cipher.encryptBlock(a);this._ghash=new c(u),n=i(this,n,u),this._prev=s.from(n),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}var o=n(158),s=n(18).Buffer,l=n(80),u=n(6),c=n(736),f=n(124),d=n(333);u(a,l),a.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=s.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},a.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=f(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&r(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},a.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},a.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},a.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=a},function(e,t,n){function r(e,t,n,r){o.call(this),this._cipher=new i.AES(t),this._prev=a.from(n),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=r,this._mode=e}var i=n(158),a=n(18).Buffer,o=n(80);n(6)(r,o),r.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},e.exports=r},function(e,t,n){function r(){if(null!==b)return b;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!=0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return b=e,e}function i(e){for(var t=r(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function a(e){var t=l.mont(e);return 0===p.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function o(e,t){if(e<16)return new l(2===t||5===t?[140,123]:[140,39]);t=new l(t);for(var n,r;;){for(n=new l(s(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(d),n.testn(1)||n.iadd(p),t.cmp(p)){if(!t.cmp(h))for(;n.mod(y).cmp(m);)n.iadd(g)}else for(;n.mod(u).cmp(_);)n.iadd(g);if(r=n.shrn(1),i(r)&&i(n)&&a(r)&&a(n)&&f.test(r)&&f.test(n))return n}}var s=n(104);e.exports=o,o.simpleSieve=i,o.fermatTest=a;var l=n(30),u=new l(24),c=n(338),f=new c,d=new l(1),p=new l(2),h=new l(5),y=(new l(16),new l(8),new l(10)),m=new l(3),_=(new l(7),new l(11)),g=new l(4),b=(new l(12),null)},function(e,t,n){function r(e){this.rand=e||new a.Rand}var i=n(30),a=n(339);e.exports=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(e)>=0);return r},r.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},r.prototype.test=function(e,t,n){var r=e.bitLength(),a=i.mont(e),o=new i(1).toRed(a);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),l=0;!s.testn(l);l++);for(var u=e.shrn(l),c=s.toRed(a);t>0;t--){var f=this._randrange(new i(2),s);n&&n(f);var d=f.toRed(a).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(c)){for(var p=1;p<l;p++){if(d=d.redSqr(),0===d.cmp(o))return!1;if(0===d.cmp(c))break}if(p===l)return!1}}return!0},r.prototype.getDivisor=function(e,t){var n=e.bitLength(),r=i.mont(e),a=new i(1).toRed(r);t||(t=Math.max(1,n/48|0));for(var o=e.subn(1),s=0;!o.testn(s);s++);for(var l=e.shrn(s),u=o.toRed(r);t>0;t--){var c=this._randrange(new i(2),o),f=e.gcd(c);if(0!==f.cmpn(1))return f;var d=c.toRed(r).redPow(l);if(0!==d.cmp(a)&&0!==d.cmp(u)){for(var p=1;p<s;p++){if(d=d.redSqr(),0===d.cmp(a))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(u))break}if(p===s)return d=d.redSqr(),d.fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){function r(e){this.rand=e}var i;if(e.exports=function(e){return i||(i=new r(null)),i.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){
var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=n(748);if("function"!=typeof a.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return a.randomBytes(e)}}catch(e){}},function(e,t,n){"use strict";function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!=0&&(e="0"+e);for(var r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var i=e.charCodeAt(r),a=i>>8,o=255&i;a?n.push(a,o):n.push(o)}return n}function i(e){return 1===e.length?"0"+e:e}function a(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}var o=t;o.toArray=r,o.zero2=i,o.toHex=a,o.encode=function(e,t){return"hex"===t?a(e):e}},function(e,t,n){"use strict";function r(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?o(t,n,r):2===e?a(t,n,r):void 0}function i(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}function o(e,t,n){return e^t^n}function s(e){return d(e,2)^d(e,13)^d(e,22)}function l(e){return d(e,6)^d(e,11)^d(e,25)}function u(e){return d(e,7)^d(e,18)^e>>>3}function c(e){return d(e,17)^d(e,19)^e>>>10}var f=n(65),d=f.rotr32;t.ft_1=r,t.ch32=i,t.maj32=a,t.p32=o,t.s0_256=s,t.s1_256=l,t.g0_256=u,t.g1_256=c},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}var i=n(65),a=n(125),o=n(341),s=n(52),l=i.sum32,u=i.sum32_4,c=i.sum32_5,f=o.ch32,d=o.maj32,p=o.s0_256,h=o.s1_256,y=o.g0_256,m=o.g1_256,_=a.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];i.inherits(r,_),e.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=u(m(n[r-2]),n[r-7],y(n[r-15]),n[r-16]);var i=this.h[0],a=this.h[1],o=this.h[2],_=this.h[3],g=this.h[4],b=this.h[5],v=this.h[6],w=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var k=c(w,h(g),f(g,b,v),this.k[r],n[r]),S=l(p(i),d(i,a,o));w=v,v=b,b=g,g=l(_,k),_=o,o=a,a=i,i=l(k,S)}this.h[0]=l(this.h[0],i),this.h[1]=l(this.h[1],a),this.h[2]=l(this.h[2],o),this.h[3]=l(this.h[3],_),this.h[4]=l(this.h[4],g),this.h[5]=l(this.h[5],b),this.h[6]=l(this.h[6],v),this.h[7]=l(this.h[7],w)},r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;P.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=O,this.W=new Array(160)}function i(e,t,n,r,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function a(e,t,n,r,i,a){var o=t&r^~t&a;return o<0&&(o+=4294967296),o}function o(e,t,n,r,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function s(e,t,n,r,i,a){var o=t&r^t&a^r&a;return o<0&&(o+=4294967296),o}function l(e,t){var n=b(e,t,28),r=b(t,e,2),i=b(t,e,7),a=n^r^i;return a<0&&(a+=4294967296),a}function u(e,t){var n=v(e,t,28),r=v(t,e,2),i=v(t,e,7),a=n^r^i;return a<0&&(a+=4294967296),a}function c(e,t){var n=b(e,t,14),r=b(e,t,18),i=b(t,e,9),a=n^r^i;return a<0&&(a+=4294967296),a}function f(e,t){var n=v(e,t,14),r=v(e,t,18),i=v(t,e,9),a=n^r^i;return a<0&&(a+=4294967296),a}function d(e,t){var n=b(e,t,1),r=b(e,t,8),i=w(e,t,7),a=n^r^i;return a<0&&(a+=4294967296),a}function p(e,t){var n=v(e,t,1),r=v(e,t,8),i=k(e,t,7),a=n^r^i;return a<0&&(a+=4294967296),a}function h(e,t){var n=b(e,t,19),r=b(t,e,29),i=w(e,t,6),a=n^r^i;return a<0&&(a+=4294967296),a}function y(e,t){var n=v(e,t,19),r=v(t,e,29),i=k(e,t,6),a=n^r^i;return a<0&&(a+=4294967296),a}var m=n(65),_=n(125),g=n(52),b=m.rotr64_hi,v=m.rotr64_lo,w=m.shr64_hi,k=m.shr64_lo,S=m.sum64,I=m.sum64_hi,E=m.sum64_lo,A=m.sum64_4_hi,x=m.sum64_4_lo,C=m.sum64_5_hi,T=m.sum64_5_lo,P=_.BlockHash,O=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];m.inherits(r,P),e.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=h(n[r-4],n[r-3]),a=y(n[r-4],n[r-3]),o=n[r-14],s=n[r-13],l=d(n[r-30],n[r-29]),u=p(n[r-30],n[r-29]),c=n[r-32],f=n[r-31];n[r]=A(i,a,o,s,l,u,c,f),n[r+1]=x(i,a,o,s,l,u,c,f)}},r.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],d=this.h[1],p=this.h[2],h=this.h[3],y=this.h[4],m=this.h[5],_=this.h[6],b=this.h[7],v=this.h[8],w=this.h[9],k=this.h[10],A=this.h[11],x=this.h[12],P=this.h[13],O=this.h[14],N=this.h[15];g(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var R=O,D=N,F=c(v,w),B=f(v,w),j=i(v,w,k,A,x),L=a(v,w,k,A,x,P),U=this.k[M],H=this.k[M+1],G=n[M],z=n[M+1],V=C(R,D,F,B,j,L,U,H,G,z),K=T(R,D,F,B,j,L,U,H,G,z);R=l(r,d),D=u(r,d),F=o(r,d,p,h,y),B=s(r,d,p,h,y,m);var W=I(R,D,F,B),q=E(R,D,F,B);O=x,N=P,x=k,P=A,k=v,A=w,v=I(_,b,V,K),w=E(b,b,V,K),_=y,b=m,y=p,m=h,p=r,h=d,r=I(V,K,W,q),d=E(V,K,W,q)}S(this.h,0,r,d),S(this.h,2,p,h),S(this.h,4,y,m),S(this.h,6,_,b),S(this.h,8,v,w),S(this.h,10,k,A),S(this.h,12,x,P),S(this.h,14,O,N)},r.prototype._digest=function(e){return"hex"===e?m.toHex32(this.h,"big"):m.split32(this.h,"big")}},function(e,t,n){function r(e,t){if(o.call(this,t),!s.isBuffer(e))return void this.error("Input not Buffer");this.base=e,this.offset=0,this.length=e.length}function i(e,t){if(Array.isArray(e))this.length=0,
this.value=e.map(function(e){return e instanceof i||(e=new i(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var a=n(6),o=n(127).Reporter,s=n(16).Buffer;a(r,o),t.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},r.prototype.restore=function(e){var t=new r(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,o.prototype.restore.call(this,e.reporter),t},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},r.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new r(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},r.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=i,i.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,n){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n}),t},r.der=n(780)},function(e,t,n){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){u.Node.call(this,"der",e)}function a(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=f.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var a=n;for(n=0;128==(128&a);){if(a=e.readUInt8(t),e.isError(a))return a;n<<=7,n|=127&a}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:f.tag[n]}}function o(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var a=0;a<i;a++){r<<=8;var o=e.readUInt8(n);if(e.isError(o))return o;r|=o}return r}var s=n(6),l=n(126),u=l.base,c=l.bignum,f=l.constants.der;e.exports=r,r.prototype.decode=function(e,t){return e instanceof u.DecoderBuffer||(e=new u.DecoderBuffer(e,t)),this.tree._decode(e,t)},s(i,u.Node),i.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=a(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},i.prototype._decodeTag=function(e,t,n){var r=a(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=o(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),l=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(l)?l:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},i.prototype._skipUntilEnd=function(e,t){for(;;){var n=a(e,t);if(e.isError(n))return n;var r=o(e,n.primitive,t);if(e.isError(r))return r;var i;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},i.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var o=n.decode(e,"der",r);if(e.isError(o)&&a)break;i.push(o)}return i},i.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",a=0;a<r.length/2;a++)i+=String.fromCharCode(r.readUInt16BE(2*a));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},i.prototype._decodeObjid=function(e,t,n){for(var r,i=[],a=0;!e.isEmpty();){var o=e.readUInt8();a<<=7,a|=127&o,0==(128&o)&&(i.push(a),a=0)}128&o&&i.push(a);var s=i[0]/40|0,l=i[0]%40;if(r=n?i:[s,l].concat(i.slice(1)),t){var u=t[r.join(" ")];void 0===u&&(u=t[r.join(".")]),void 0!==u&&(r=u)}return r},i.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),a=0|n.slice(6,8),o=0|n.slice(8,10),s=0|n.slice(10,12),l=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");var r=0|n.slice(0,2),i=0|n.slice(2,4),a=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),l=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,a,o,s,l,0)},i.prototype._decodeNull=function(e){return null},i.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},i.prototype._decodeInt=function(e,t){var n=e.raw(),r=new c(n);return t&&(r=t[r.toString(10)]||r),r},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,n){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){c.Node.call(this,"der",e)}function a(e){return e<10?"0"+e:e}function o(e,t,n,r){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),f.tagByName.hasOwnProperty(e))i=f.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}return i>=31?r.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=f.tagClassByName[n||"universal"]<<6)}var s=n(6),l=n(16).Buffer,u=n(126),c=u.base,f=u.constants.der;e.exports=r,r.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},s(i,c.Node),i.prototype._encodeComposite=function(e,t,n,r){var i=o(e,t,n,this.reporter);if(r.length<128){var a=new l(2);return a[0]=i,a[1]=r.length,this._createEncoderBuffer([a,r])}for(var s=1,u=r.length;u>=256;u>>=8)s++;var a=new l(2+s);a[0]=i,a[1]=128|s;for(var u=1+s,c=r.length;c>0;u--,c>>=8)a[u]=255&c;return this._createEncoderBuffer([a,r])},i.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new l(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},i.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(var r=0;r<e.length;r++)e[r]|=0}
if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var i=0,r=0;r<e.length;r++){var a=e[r];for(i++;a>=128;a>>=7)i++}for(var o=new l(i),s=o.length-1,r=e.length-1;r>=0;r--){var a=e[r];for(o[s--]=127&a;(a>>=7)>0;)o[s--]=128|127&a}return this._createEncoderBuffer(o)},i.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[a(r.getFullYear()),a(r.getUTCMonth()+1),a(r.getUTCDate()),a(r.getUTCHours()),a(r.getUTCMinutes()),a(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[a(r.getFullYear()%100),a(r.getUTCMonth()+1),a(r.getUTCDate()),a(r.getUTCHours()),a(r.getUTCMinutes()),a(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!l.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new l(n)}if(l.isBuffer(e)){var r=e.length;0===e.length&&r++;var i=new l(r);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var r=1,a=e;a>=256;a>>=8)r++;for(var i=new Array(r),a=i.length-1;a>=0;a--)i[a]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new l(i))},i.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},i.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var a=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),a.length!==i.defaultBuffer.length)return!1;for(r=0;r<a.length;r++)if(a[r]!==i.defaultBuffer[r])return!1;return!0}},function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,n){(function(t){function r(e){var n=new t(4);return n.writeUInt32BE(e,0),n}var i=n(122);e.exports=function(e,n){for(var a,o=new t(""),s=0;o.length<n;)a=r(s++),o=t.concat([o,i("sha1").update(e).update(a).digest()]);return o.slice(0,n)}}).call(t,n(16).Buffer)},function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){(function(t){function r(e,n){return new t(e.toRed(i.mont(n.modulus)).redPow(new i(n.publicExponent)).fromRed().toArray())}var i=n(30);e.exports=r}).call(t,n(16).Buffer)},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),s=n(7),l=r(s),u=n(68),c=r(u),f=n(354),d=r(f),p=n(810),h=r(p),y=n(356),m=r(y);t.default=["images/ui/common/parts.json","images/ui/common/parts_buttons.json","images/ui/common/parts_icons.json","images/ui/common/parts_idol_icon.json","images/ui/common/parts_card_frame.json","images/ui/common/parts_moving_bg.json"].concat(i(d.default.resources),[o.default.bg.COMMON,"particles/common/tap_effect/particle.png","particles/common/tap_effect/feather.png","particles/common/tap_effect/particle.json","particles/common/tap_effect/feather.json","images/content/active_skills/icon.json","images/content/passive_skills/icon.json","images/content/limit_break_skills/icon.json"],i(h.default),i(m.default),i((0,c.default)(l.default)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(161),f=r(c),d=n(355),p=r(d),h=u.default.SCREEN_CENTER,y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{size:p.default.SIZE_LIST.M,height:300};i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._overlay=(0,f.default)().addTo(n,0,0,{alpha:0}),n._base=p.default.new(e).addTo(n,h.x,h.y,{anchor:.5,scale:0}),n}return o(t,e),s(t,null,[{key:"resources",get:function(){return p.default.resources}},{key:"SIZE_LIST",get:function(){return p.default.SIZE_LIST}}]),s(t,[{key:"open",value:function(){var e=this;if(arguments.length>0&&void 0!==arguments[0]&&!arguments[0])return this._overlay.alpha=1,this._base.scale.set(1),void this.emit("openEnd");aoba.Tween.new(this._overlay).to({alpha:1},180),aoba.Tween.new(this._base).to({scaleX:1,scaleY:1},180,"easeOutBack").call(function(){e.emit("openEnd")})}},{key:"close",value:function(){var e=this;if(arguments.length>0&&void 0!==arguments[0]&&!arguments[0])return void this._close();aoba.Tween.new(this._overlay).to({alpha:0},180),aoba.Tween.new(this._base).to({scaleX:0,scaleY:0},180,"easeInBack").call(function(){return e._close()})}},{key:"_close",value:function(){this.emit("closeEnd"),this.destroy({children:!0})}},{key:"base",get:function(){return this._base}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={S:"s",M:"m",L:"l",SIMPLE:"simple"},l=Object.keys(s).map(function(e){return s[e]}),u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{size:s.M,height:300};if(r(this,t),!l.includes(e.size))throw new Error("invalid param size: "+e.size);return i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t._createTexture(e.size,e.height)))}return a(t,e),o(t,null,[{key:"_createSprite",value:function(e,t){return aoba.Sprite.new("pop_"+e+"_"+t+".png")}},{key:"_createTexture",value:function(e,n){var r=aoba.Container.new(),i=t._createSprite(e,"top"),a=t._createSprite(e,"middle"),o=t._createSprite(e,"bottom");return a.height=n-i.height-o.height,i.addTo(r,0,-a.height/2,{anchor:aoba.p(.5,1)}),a.addTo(r,0,0,{anchor:.5}),o.addTo(r,0,a.height/2,{anchor:aoba.p(.5,0)}),aoba.game.renderer.generateTexture(r)}},{key:"resources",get:function(){
return["images/ui/common/parts_pop.json"]}},{key:"SIZE_LIST",get:function(){return s}}]),t}(aoba.Sprite);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/notice/parts.json","images/ui/notice/parts_pop.json"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(813),a=r(i),o=n(814),s=r(o),l=n(1005),u=r(l),c=n(1),f=r(c),d={"/":"start","/concertResult":"concertResult","/auditionResult":"auditionResult","/evolution":"evolutionIdolList","/fesTop":"fesTop","/fesConcert":"fesConcert","/fesResult":a.default,"/gasha":"gasha","/gashaResult":"gashaResult","/idolPortal":"idolPortal","/idolList":"idolList","/invitation":"invitation","/item":"item","/home":"home","/produceMarathon":"produceMarathonTop","/produceReady":"produceReady","/redrawGashaResult":"redrawGashaResult","/shop":"shop","/training":"trainingIdolList","/unit":"deck","/produce":u.default,"/tutorial":s.default};f.default.env.PF_URI||Object.assign(d,{"/login":"login"}),Object.assign(d,{"*":"notFound"}),t.default=d},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}e.exports=r},function(module,exports,__webpack_require__){"use strict";(function(process,__dirname,Buffer){function globalEval(e){eval.call(null,e)}function assert(e,t){e||abort("Assertion failed: "+t)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,n,r){switch(n=n||"i8","*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+n)}}function getValue(e,t,n){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}function allocate(e,t,n,r){var i,a;"number"==typeof e?(i=!0,a=e):(i=!1,a=e.length);var o,s="string"==typeof t?t:null;if(o=n==ALLOC_NONE?r:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===n?ALLOC_STATIC:n](Math.max(a,s?1:t.length)),i){var l,r=o;for(assert(0==(3&o)),l=o+(-4&a);r<l;r+=4)HEAP32[r>>2]=0;for(l=o+a;r<l;)HEAP8[r++>>0]=0;return o}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;for(var u,c,f,d=0;d<a;){var p=e[d];"function"==typeof p&&(p=Runtime.getFunctionIndex(p)),u=s||t[d],0!==u?("i64"==u&&(u="i32"),setValue(o+d,p,u),f!==u&&(c=Runtime.getNativeTypeSize(u),f=u),d+=c):d++}return o}function getMemory(e){return staticSealed?void 0!==_sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;;){if(n=HEAPU8[e+i>>0],r|=n,0==n&&!t)break;if(i++,t&&i==t)break}t||(t=i);var a="";if(r<128){for(var o;t>0;)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var n=HEAP8[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var n,r,i,a,o,s,l="";;){if(!(n=e[t++]))return l;if(128&n)if(r=63&e[t++],192!=(224&n))if(i=63&e[t++],224==(240&n)?n=(15&n)<<12|r<<6|i:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|r<<12|i<<6|a:(o=63&e[t++],248==(252&n)?n=(3&n)<<24|r<<18|i<<12|a<<6|o:(s=63&e[t++],n=(1&n)<<30|r<<24|i<<18|a<<12|o<<6|s))),n<65536)l+=String.fromCharCode(n);else{var u=n-65536;l+=String.fromCharCode(55296|u>>10,56320|1023&u)}else l+=String.fromCharCode((31&n)<<6|r);else l+=String.fromCharCode(n)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function stringToUTF8(e,t,n){return stringToUTF8Array(e,HEAPU8,t,n)}function lengthBytesUTF8(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function UTF16ToString(e){for(var t=0,n="";;){var r=HEAP16[e+2*t>>1];if(0==r)return n;++t,n+=String.fromCharCode(r)}}function stringToUTF16(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;n-=2;for(var r=t,i=n<2*e.length?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);HEAP16[t>>1]=o,t+=2}return HEAP16[t>>1]=0,t-r}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var t=0,n="";;){var r=HEAP32[e+4*t>>2];if(0==r)return n;if(++t,r>=65536){var i=r-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(r)}}function stringToUTF32(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a);if(HEAP32[t>>2]=o,(t+=4)+4>i)break}return HEAP32[t>>2]=0,t-r}function lengthBytesUTF32(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function demangle(e){function t(){s++,"K"===e[s]&&s++;for(var t=[];"E"!==e[s];)if("S"!==e[s])if("C"!==e[s]){var n=parseInt(e.substr(s)),r=n.toString().length;if(!n||!r){s--;break}var i=e.substr(s+r,n);t.push(i),u.push(i),s+=r+n}else t.push(t[t.length-1]),s+=2;else{s++;var a=e.indexOf("_",s),o=e.substring(s,a)||0;t.push(u[o]||"?"),s=a+1}return s++,t}function n(r,i,a){i=i||1/0;var o,u="",f=[];if("N"===e[s]){if(o=t().join("::"),0===--i)return r?[o]:o}else{("K"===e[s]||c&&"L"===e[s])&&s++;var d=parseInt(e.substr(s));if(d){var p=d.toString().length;o=e.substr(s+p,d),s+=p+d}}if(c=!1,"I"===e[s]){s++;var h=n(!0);u+=n(!0,1,!0)[0]+" "+o+"<"+h.join(", ")+">"}else u=o;e:for(;s<e.length&&i-- >0;){var y=e[s++];if(y in l)f.push(l[y]);else switch(y){case"P":f.push(n(!0,1,!0)[0]+"*");break;case"R":f.push(n(!0,1,!0)[0]+"&");break;case"L":s++;var m=e.indexOf("E",s),d=m-s;f.push(e.substr(s,d)),s+=d+2;break;case"A":var d=parseInt(e.substr(s));if(s+=d.toString().length,"_"!==e[s])throw"?";s++,f.push(n(!0,1,!0)[0]+" ["+d+"]");break;case"E":break e;default:u+="?"+y;break e}}return a||1!==f.length||"void"!==f[0]||(f=[]),r?(u&&f.push(u+"?"),f):u+function(){return"("+f.join(", ")+")"}()}var r=!!Module.___cxa_demangle;if(r)try{var i=_malloc(e.length);writeStringToMemory(e.substr(1),i);var a=_malloc(4),o=Module.___cxa_demangle(i,0,0,a);if(0===getValue(a,"i32")&&o)return Pointer_stringify(o)}catch(e){}finally{i&&_free(i),a&&_free(a),o&&_free(o)}var s=3,l={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",
x:"long long",y:"unsigned long long",z:"..."},u=[],c=!0,f=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}f=n()}catch(e){f+="?"}return f.indexOf("?")>=0&&!r&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),f}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Runtime.dynCall("v",n):Runtime.dynCall("vi",n,[t.arg]):n(void 0===t.arg?null:t.arg)}else t()}}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,n){var r=n>0?n:lengthBytesUTF8(e)+1,i=new Array(r),a=stringToUTF8Array(e,i,0,i.length);return t&&(i.length=a),i}function intArrayToString(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")}function writeStringToMemory(e,t,n){for(var r=intArrayFromString(e,n),i=0;i<r.length;){var a=r[i];HEAP8[t+i>>0]=a,i+=1}}function writeArrayToMemory(e,t){for(var n=0;n<e.length;n++)HEAP8[t++>>0]=e[n]}function writeAsciiToMemory(e,t,n){for(var r=0;r<e.length;++r)HEAP8[t++>>0]=e.charCodeAt(r);n||(HEAP8[t>>0]=0)}function unSign(e,t,n){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,n){if(e<=0)return e;var r=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=r&&(t<=32||e>r)&&(e=-2*r+e),e}function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function ___assert_fail(e,t,n,r){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",n,r?Pointer_stringify(r):"unknown function"]+" at "+stackTrace()}function embind_init_charCodes(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);embind_charCodes=e}function readLatin1String(e){for(var t="",n=e;HEAPU8[n];)t+=embind_charCodes[HEAPU8[n++]];return t}function makeLegalFunctionName(e){if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=char_0&&t<=char_9?"_"+e:e}function createNamedFunction(e,t){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function extendError(e,t){var n=createNamedFunction(t,function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}function throwBindingError(e){throw new BindingError(e)}function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,t,n){function r(t){var r=n(t);r.length!==e.length&&throwInternalError("Mismatched type converter count");for(var i=0;i<e.length;++i)registerType(e[i],r[i])}e.forEach(function(e){typeDependencies[e]=t});var i=new Array(t.length),a=[],o=0;t.forEach(function(e,t){registeredTypes.hasOwnProperty(e)?i[t]=registeredTypes[e]:(a.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push(function(){i[t]=registeredTypes[e],++o===a.length&&r(i)}))}),0===a.length&&r(i)}function registerType(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||throwBindingError('type "'+r+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+r+"' twice")}if(registeredTypes[e]=t,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var i=awaitingDependencies[e];delete awaitingDependencies[e],i.forEach(function(e){e()})}}function __embind_register_void(e,t){t=readLatin1String(t),registerType(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm.setTempRet0(0),0);var t=EXCEPTIONS.infos[e],n=t.type;if(!n)return 0|(asm.setTempRet0(0),e);var r=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(n);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var i=0;i<r.length;i++)if(r[i]&&Module.___cxa_can_catch(r[i],n,e))return e=HEAP32[e>>2],t.adjusted=e,0|(asm.setTempRet0(r[i]),e);return e=HEAP32[e>>2],0|(asm.setTempRet0(n),e)}function ___cxa_throw(e,t,n){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:n,refcount:0},EXCEPTIONS.last=e,
"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function __embind_register_bool(e,t,n,r,i){var a=getShiftFromSize(n);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=HEAP8;else if(2===n)r=HEAP16;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=HEAP32}return this.fromWireType(r[e>>a])},destructorFunction:null})}function ___gxx_personality_v0(){}function _abort(){Module.abort()}function _free(){}function _malloc(e){return Runtime.dynamicAlloc(e+8)+8&4294967288}function simpleReadValueFromPointer(e){return this.fromWireType(HEAPU32[e>>2])}function __embind_register_std_string(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){for(var t=HEAPU32[e>>2],n=new Array(t),r=0;r<t;++r)n[r]=String.fromCharCode(HEAPU8[e+4+r]);return _free(e),n.join("")},toWireType:function(e,t){function n(e,t){return e[t]}function r(e,t){return e.charCodeAt(t)}t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i;t instanceof Uint8Array?i=n:t instanceof Int8Array?i=n:"string"==typeof t?i=r:throwBindingError("Cannot pass non-string to std::string");var a=t.length,o=_malloc(4+a);HEAPU32[o>>2]=a;for(var s=0;s<a;++s){var l=i(t,s);l>255&&(_free(o),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[o+4+s]=l}return null!==e&&e.push(_free,o),o},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function __embind_register_std_wstring(e,t,n){n=readLatin1String(n);var r,i;2===t?(r=function(){return HEAPU16},i=1):4===t&&(r=function(){return HEAPU32},i=2),registerType(e,{name:n,fromWireType:function(e){for(var t=r(),n=HEAPU32[e>>2],a=new Array(n),o=e+4>>i,s=0;s<n;++s)a[s]=String.fromCharCode(t[o+s]);return _free(e),a.join("")},toWireType:function(e,n){var a=r(),o=n.length,s=_malloc(4+o*t);HEAPU32[s>>2]=o;for(var l=s+4>>i,u=0;u<o;++u)a[l+u]=n.charCodeAt(u);return null!==e&&e.push(_free,s),s},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function ___lock(){}function ___unlock(){}function _embind_repr(e){if(null===e)return"null";var t=void 0===e?"undefined":_typeof(e);return"object"===t||"array"===t||"function"===t?e.toString():""+e}function integerReadValueFromPointer(e,t,n){switch(t){case 0:return n?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return n?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return n?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,t,n,r,i){t=readLatin1String(t),-1===i&&(i=4294967295);var a=getShiftFromSize(n),o=function(e){return e};if(0===r){var s=32-8*n;o=function(e){return e<<s>>>s}}registerType(e,{name:t,fromWireType:o,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+_embind_repr(n)+'" to '+this.name);if(n<r||n>i)throw new TypeError('Passing a number "'+_embind_repr(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+i+"]!");return 0|n},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(t,a,0!==r),destructorFunction:null})}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function _emscripten_set_main_loop_timing(e,t){if(Browser.mainLoop.timingMode=e,Browser.mainLoop.timingValue=t,!Browser.mainLoop.func)return 1;if(0==e)Browser.mainLoop.scheduler=function(){setTimeout(Browser.mainLoop.runner,t)},Browser.mainLoop.method="timeout";else if(1==e)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(2==e){if(!window.setImmediate){var n=function(e){e.source===window&&e.data===i&&(e.stopPropagation(),r.shift()())},r=[],i="__emcc";window.addEventListener("message",n,!0),window.setImmediate=function(e){r.push(e),window.postMessage(i,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_set_main_loop(e,t,n,r,i){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=e,Browser.mainLoop.arg=r;var a=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var t=(Date.now(),Browser.mainLoop.queue.shift());if(t.func(t.arg),Browser.mainLoop.remainingBlockers){var n=Browser.mainLoop.remainingBlockers,i=n%1==0?n-1:Math.floor(n);t.counted?Browser.mainLoop.remainingBlockers=i:(i+=.5,Browser.mainLoop.remainingBlockers=(8*n+i)/9)}return Browser.mainLoop.updateStatus(),void setTimeout(Browser.mainLoop.runner,0)}if(!(a<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,1==Browser.mainLoop.timingMode&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0)return void Browser.mainLoop.scheduler();"timeout"===Browser.mainLoop.method&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(function(){void 0!==r?Runtime.dynCall("vi",e,[r]):Runtime.dynCall("v",e)}),a<Browser.mainLoop.currentlyRunningMainloop||("object"===("undefined"==typeof SDL?"undefined":_typeof(SDL))&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},i||(t&&t>0?_emscripten_set_main_loop_timing(0,1e3/t):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),n)throw"SimulateInfiniteLoop"}function __emval_decref(e){e>4&&0==--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,t=5;t<emval_handle_array.length;++t)void 0!==emval_handle_array[t]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[t]={refcount:1,value:e},t}}function __embind_register_emval(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){var t=emval_handle_array[e].value;return __emval_decref(e),t},toWireType:function(e,t){return __emval_register(t)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function ___cxa_allocate_exception(e){return _malloc(e)}function ___syscall54(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get();switch(r){case 21505:case 21506:return n.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!n.tty)return-ERRNO_CODES.ENOTTY;var i=SYSCALLS.get();return HEAP32[i>>2]=0,0;case 21520:
return n.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:var i=SYSCALLS.get();return FS.ioctl(n,r,i);default:abort("bad ioctl syscall "+r)}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===("undefined"==typeof navigator?"undefined":_typeof(navigator))?navigator.hardwareConcurrency||1:1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function floatReadValueFromPointer(e,t){switch(t){case 2:return function(e){return this.fromWireType(HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,t,n){var r=getShiftFromSize(n);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+_embind_repr(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(t,r),destructorFunction:null})}function _pthread_cleanup_push(e,t){__ATEXIT__.push(function(){Runtime.dynCall("vi",e,[t])}),_pthread_cleanup_push.level=__ATEXIT__.length}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function new_(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+(void 0===e?"undefined":_typeof(e))+" which is not a function");var n=createNamedFunction(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return i instanceof Object?i:r}function runDestructors(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function craftInvokerFunction(e,t,n,r,i){var a=t.length;a<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&null!==n,s="",l="",u=0;u<a-2;++u)s+=(0!==u?", ":"")+"arg"+u,l+=(0!==u?", ":"")+"arg"+u+"Wired";for(var c="return function "+makeLegalFunctionName(e)+"("+s+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n",f=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){f=!0;break}f&&(c+="var destructors = [];\n");var d=f?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[throwBindingError,r,i,runDestructors,t[0],t[1]];o&&(c+="var thisWired = classParam.toWireType("+d+", this);\n");for(var u=0;u<a-2;++u)c+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",p.push("argType"+u),h.push(t[u+2]);o&&(l="thisWired"+(l.length>0?", ":"")+l);var y="void"!==t[0].name;if(c+=(y?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",f)c+="runDestructors(destructors);\n";else for(var u=o?1:2;u<t.length;++u){var m=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(c+=m+"_dtor("+m+"); // "+t[u].name+"\n",p.push(m+"_dtor"),h.push(t[u].destructorFunction))}return y&&(c+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),c+="}\n",p.push(c),new_(Function,p).apply(null,h)}function ensureOverloadTable(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function exposePublicSymbol(e,t,n){Module.hasOwnProperty(e)?((void 0===n||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[n])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(n)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),Module[e].overloadTable[n]=t):(Module[e]=t,void 0!==n&&(Module[e].numArguments=n))}function heap32VectorToArray(e,t){for(var n=[],r=0;r<e;r++)n.push(HEAP32[(t>>2)+r]);return n}function replacePublicSymbol(e,t,n){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==n?Module[e].overloadTable[n]=t:Module[e]=t}function requireFunction(e,t){e=readLatin1String(e);var n;if(void 0!==Module["FUNCTION_TABLE_"+e])n=Module["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)n=FUNCTION_TABLE[t];else{var r=asm["dynCall_"+e];void 0===r&&void 0===(r=asm["dynCall_"+e.replace(/f/g,"d")])&&throwBindingError("No dynCall invoker for signature: "+e),n=function(n){for(var r=[],i=1;i<e.length;++i)r.push("a"+i);var a="dynCall_"+e+"_"+t,o="return function "+a+"("+r.join(", ")+") {\n";return o+="    return dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(n,t)}(r)}return"function"!=typeof n&&throwBindingError("unknown function pointer with signature "+e+": "+t),n}function getTypeName(e){var t=___getTypeName(e),n=readLatin1String(t);return _free(t),n}function throwUnboundTypeError(e,t){function n(e){if(!i[e]&&!registeredTypes[e]){if(typeDependencies[e])return void typeDependencies[e].forEach(n);r.push(e),i[e]=!0}}var r=[],i={};throw t.forEach(n),new UnboundTypeError(e+": "+r.map(getTypeName).join([", "]))}function __embind_register_function(e,t,n,r,i,a){var o=heap32VectorToArray(t,n);e=readLatin1String(e),i=requireFunction(r,i),exposePublicSymbol(e,function(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",o)},t-1),whenDependentTypesAreResolved([],o,function(n){var r=[n[0],null].concat(n.slice(1));return replacePublicSymbol(e,craftInvokerFunction(e,r,null,i,a),t-1),[]})}function _emscripten_memcpy_big(e,t,n){return HEAPU8.set(HEAPU8.subarray(t,t+n),e),e}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD();return FS.close(n),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var n=DYNAMICTOP;if(0!=e)if(!t.alloc(e))return-1>>>0;return n}function __embind_register_memory_view(e,t,n){function r(e){e>>=2;var t=HEAPU32,n=t[e],r=t[e+1];return new a(t.buffer,r,n)}
var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=i[t];n=readLatin1String(n),registerType(e,{name:n,fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _pthread_self(){return 0}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),i=SYSCALLS.get(),a=SYSCALLS.get(),o=SYSCALLS.get(),s=i;return assert(0===r),FS.llseek(n,s,o),HEAP32[a>>2]=n.position,n.getdents&&0===s&&0===o&&(n.getdents=null),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),i=SYSCALLS.get();return SYSCALLS.doWritev(n,r,i)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function invoke_iiii(e,t,n,r){try{return Module.dynCall_iiii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,t,n,r,i,a){try{Module.dynCall_viiiii(e,t,n,r,i,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vii(e,t,n){try{Module.dynCall_vii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viii(e,t,n,r){try{Module.dynCall_viii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiii(e,t,n,r,i,a,o){try{Module.dynCall_viiiiii(e,t,n,r,i,a,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iii(e,t,n){try{return Module.dynCall_iii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiii(e,t,n,r,i){try{Module.dynCall_viiii(e,t,n,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function exit(e,t){if(!t||!Module.noExitRuntime)throw Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(e)}),setTimeout(function(){process.exit(e)},500)):ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e)}function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="abort("+e+") at "+stackTrace()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw abortDecorators&&abortDecorators.forEach(function(n){t=n(t,e)}),t}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Module;Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"===("undefined"==typeof window?"undefined":_typeof(window)),ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"===(void 0===process?"undefined":_typeof(process))&&!0&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=__webpack_require__(140),nodePath=__webpack_require__(31);Module.read=function(e,t){e=nodePath.normalize(e);var n=nodeFS.readFileSync(e);return n||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),n=nodeFS.readFileSync(e)),n&&!t&&(n=n.toString()),n},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"===(void 0===t?"undefined":_typeof(t))),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},void 0!==arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){}),Module.printErr||(Module.printErr=function(e){});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,t,n){return n||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,n){return n&&n.length?(n.splice||(n=Array.prototype.slice.call(n)),n.splice(0,0,t),Module["dynCall_"+e].apply(null,n)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){
for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var n=Runtime.funcWrappers[t];return n[e]||(n[e]=function(){return Runtime.dynCall(t,e,arguments)}),n[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=STACKTOP+e|0,STACKTOP=STACKTOP+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=STATICTOP+e|0,STATICTOP=STATICTOP+15&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;if(DYNAMICTOP=DYNAMICTOP+e|0,(DYNAMICTOP=DYNAMICTOP+15&-16)>=TOTAL_MEMORY)if(!enlargeMemory())return DYNAMICTOP=t,0;return t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,n){return n?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9,globalScope=void 0,cwrap,ccall;!function(){function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!==e&&void 0!==e&&0!==e&&(t=Runtime.stackAlloc(1+(e.length<<2)),writeStringToMemory(e,t)),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,n,r,i){var a=getCFunc(e),o=[],s=0;if(r)for(var l=0;l<r.length;l++){var u=toC[n[l]];u?(0===s&&(s=Runtime.stackSave()),o[l]=u(r[l])):o[l]=r[l]}var c=a.apply(null,o);if("string"===t&&(c=Pointer_stringify(c)),0!==s){if(i&&i.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return c};var sourceRegex=/^function\s*[^(]*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:\s*(.*?)[;\s]*)?}$/,JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;for(var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0,TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||16777216,totalMemory=65536;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var buffer;buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var n=e>>>16,r=65535&e,i=t>>>16,a=65535&t;return r*a+(n*a+r*i<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[];STATIC_BASE=8,STATICTOP=STATIC_BASE+9024,__ATINIT__.push({func:function(){__GLOBAL__sub_I_bind_cc()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}}),
allocate([56,2,0,0,35,7,0,0,0,0,0,0,1,0,0,0,32,0,0,0,0,0,0,0,232,1,0,0,98,7,0,0,56,2,0,0,240,11,0,0,0,0,0,0,1,0,0,0,32,0,0,0,0,0,0,0,56,2,0,0,177,11,0,0,0,0,0,0,1,0,0,0,32,0,0,0,0,0,0,0,232,1,0,0,158,11,0,0,232,1,0,0,127,11,0,0,232,1,0,0,96,11,0,0,232,1,0,0,65,11,0,0,232,1,0,0,34,11,0,0,232,1,0,0,3,11,0,0,232,1,0,0,228,10,0,0,232,1,0,0,197,10,0,0,232,1,0,0,166,10,0,0,232,1,0,0,135,10,0,0,232,1,0,0,104,10,0,0,232,1,0,0,73,10,0,0,232,1,0,0,42,10,0,0,16,2,0,0,47,12,0,0,208,0,0,0,0,0,0,0,232,1,0,0,60,12,0,0,232,1,0,0,73,12,0,0,16,2,0,0,86,12,0,0,216,0,0,0,0,0,0,0,16,2,0,0,119,12,0,0,224,0,0,0,0,0,0,0,16,2,0,0,153,12,0,0,224,0,0,0,0,0,0,0,204,1,0,0,193,12,0,0,204,1,0,0,195,12,0,0,204,1,0,0,197,12,0,0,204,1,0,0,199,12,0,0,204,1,0,0,201,12,0,0,204,1,0,0,203,12,0,0,204,1,0,0,205,12,0,0,204,1,0,0,207,12,0,0,204,1,0,0,209,12,0,0,204,1,0,0,110,18,0,0,204,1,0,0,211,12,0,0,204,1,0,0,213,12,0,0,204,1,0,0,215,12,0,0,16,2,0,0,217,12,0,0,240,0,0,0,0,0,0,0,16,2,0,0,254,12,0,0,240,0,0,0,0,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,0,0,0,0,192,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,0,0,0,0,240,0,0,0,3,0,0,0,7,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,120,1,0,0,3,0,0,0,8,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,136,1,0,0,3,0,0,0,9,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,252,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,5,0,0,0,38,29,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,121,97,115,117,95,114,101,113,117,101,115,116,95,104,97,115,104,0,37,48,50,120,0,115,102,109,116,45,62,105,100,120,32,37,32,50,32,61,61,32,48,0,46,47,83,70,77,84,46,104,0,115,102,109,116,95,103,101,110,114,97,110,100,95,117,105,110,116,54,52,0,37,48,49,54,108,108,120,0,37,115,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,62,64,64,64,63,52,53,54,55,56,57,58,59,60,61,64,64,64,64,64,64,64,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,64,64,64,64,64,64,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47,0,101,110,99,111,100,101,82,101,113,117,101,115,116,0,105,105,105,0,100,101,99,111,100,101,82,101,113,117,101,115,116,0,100,101,99,111,100,101,82,101,115,112,111,110,115,101,0,105,105,105,105,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,50,49,95,95,98,97,115,105,99,95,115,116,114,105,110,103,95,99,111,109,109,111,110,73,76,98,49,69,69,69,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,115,116,100,58,58,119,115,116,114,105,110,103,0,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,102,108,111,97,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,100,111,117,98,108,101,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,32,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,101,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,100,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,102,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,109,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,108,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,106,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,105,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,116,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,115,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,104,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,97,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,99,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,51,118,97,108,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,104,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,104,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,104,69,69,69,69,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0,118,0,98,0,99,0,104,0,97,0,115,0,116,0,105,0,106,0,109,0,102,0,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,116,97,103,45,49,46,51,53,46,52,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,32,40,0,41,0,95,98,108,111,99,107,95,105,110,118,111,107,101,0,105,110,118,111,99,97,116,105,111,110,32,102,117,110,99,116,105,111,110,32,102,111,114,32,98,108,111,99,107,32,105,110,32,0,32,99,111,110,115,116,0,32,118,111,108,97,116,105,108,101,0,32,114,101,115,116,114,105,99,116,0,32,91,0,32,91,93,0,93,0,32,99,111,109,112,108,101,120,0,40,0,44,32,0,32,38,0,32,38,38,0,32,0,32,105,109,97,103,105,110,97,114,121,0,58,58,42,0,38,38,0,111,98,106,99,95,111,98,106,101,99,116,60,0,42,0,105,100,0,38,0,111,98,106,99,112,114,111,116,111,0,60,0,62,0,32,118,101,99,116,111,114,91,0,112,105,120,101,108,32,118,101,99,116,111,114,91,0,100,101,99,108,116,121,112,101,40,0,115,116,100,58,58,97,108,108,111,99,97,116,111,114,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,0,115,116,100,58,58,115,116,114,105,110,103,0,115,116,100,58,58,105,115,116,114,101,97,109,0,115,116,100,58,58,111,115,116,114,101,97,109,0,115,116,100,58,58,105,111,115,116,114,101,97,109,0,115,116,100,0,58,58,0,58,58,115,116,114,105,110,103,32,108,105,116,101,114,97,108,0,115,116,100,58,58,0,126,0,39,117,110,110,97,109,101,100,0,39,108,97,109,98,100,97,39,40,0,111,112,101,114,97,116,111,114,38,38,0,111,112,101,114,97,116,111,114,38,0,111,112,101,114,97,116,111,114,38,61,0,111,112,101,114,97,116,111,114,61,0,111,112,101,114,97,116,111,114,40,41,0,111,112,101,114,97,116,111,114,44,0,111,112,101,114,97,116,111,114,126,0,111,112,101,114,97,116,111,114,32,0,111,112,101,114,97,116,111,114,32,100,101,108,101,116,101,91,93,0,111,112,101,114,97,116,111,114,42,0,111,112,101,114,97,116,111,114,32,100,101,108,101,116,101,0,111,112,101,114,97,116,111,114,47,0,111,112,101,114,97,116,111,114,47,61,0,111,112,101,114,97,116,111,114,94,0,111,112,101,114,97,116,111,114,94,61,0,111,112,101,114,97,116,111,114,61,61,0,111,112,101,114,97,116,111,114,62,61,0,111,112,101,114,97,116,111,114,62,0,111,112,101,114,97,116,111,114,91,93,0,111,112,101,114,97,116,111,114,60,61,0,111,112,101,114,97,116,111,114,34,34,32,0,111,112,101,114,97,116,111,114,60,60,0,111,112,101,114,97,116,111,114,60,60,61,0,111,112,101,114,97,116,111,114,60,0,111,112,101,114,97,116,111,114,45,0,111,112,101,114,97,116,111,114,45,61,0,111,112,101,114,97,116,111,114,42,61,0,111,112,101,114,97,116,111,114,45,45,0,111,112,101,114,97,116,111,114,32,110,101,119,91,93,0,111,112,101,114,97,116,111,114,33,61,0,111,112,101,114,97,116,111,114,33,0,111,112,101,114,97,116,111,114,32,110,101,119,0,111,112,101,114,97,116,111,114,124,124,0,111,112,101,114,97,116,111,114,124,0,111,112,101,114,97,116,111,114,124,61,0,111,112,101,114,97,116,111,114,45,62,42,0,111,112,101,114,97,116,111,114,43,0,111,112,101,114,97,116,111,114,43,61,0,111,112,101,114,97,116,111,114,43,43,0,111,112,101,114,97,116,111,114,45,62,0,111,112,101,114,97,116,111,114,63,0,111,112,101,114,97,116,111,114,37,0,111,112,101,114,97,116,111,114,37,61,0,111,112,101,114,97,116,111,114,62,62,0,111,112,101,114,97,116,111,114,62,62,61,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,44,32,115,116,100,58,58,97,108,108,111,99,97,116,111,114,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,115,116,114,105,110,103,0,115,116,100,58,58,98,97,115,105,99,95,105,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,105,115,116,114,101,97,109,0,115,116,100,58,58,98,97,115,105,99,95,111,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,111,115,116,114,101,97,109,0,115,116,100,58,58,98,97,115,105,99,95,105,111,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,105,111,115,116,114,101,97,109,0,95,71,76,79,66,65,76,95,95,78,0,40,97,110,111,110,121,109,111,117,115,32,110,97,109,101,115,112,97,99,101,41,0,32,62,0,119,99,104,97,114,95,116,0,102,97,108,115,101,0,116,114,117,101,0,99,104,97,114,0,115,105,103,110,101,100,32,99,104,97,114,0,117,110,115,105,103,110,101,100,32,99,104,97,114,0,115,104,111,114,116,0,117,110,115,105,103,110,101,100,32,115,104,111,114,116,0,0,117,0,108,0,117,108,0,108,108,0,117,108,108,0,95,95,105,110,116,49,50,56,0,117,110,115,105,103,110,101,100,32,95,95,105,110,116,49,50,56,0,37,97,102,0,37,97,0,37,76,97,76,0,38,61,0,61,0,97,108,105,103,110,111,102,32,40,0,99,111,110,115,116,95,99,97,115,116,60,0,62,40,0,44,0,41,40,0,100,101,108,101,116,101,91,93,32,0,100,121,110,97,109,105,99,95,99,97,115,116,60,0,100,101,108,101,116,101,32,0,46,42,0,47,0,47,61,0,94,0,94,61,0,61,61,0,62,61,0,41,91,0,60,61,0,60,60,0,60,60,61,0,45,0,45,61,0,42,61,0,45,45,0,41,45,45,0,91,93,32,0,41,32,0,33,61,0,33,0,110,111,101,120,99,101,112,116,32,40,0,124,124,0,124,0,124,61,0,45,62,42,0,43,0,43,61,0,43,43,0,41,43,43,0,45,62,0,41,32,63,32,40,0,41,32,58,32,40,0,114,101,105,110,116,101,114,112,114,101,116,95,99,97,115,116,60,0,37,0,37,61,0,62,62,0,62,62,61,0,115,116,97,116,105,99,95,99,97,115,116,60,0,115,105,122,101,111,102,32,40,0,115,105,122,101,111,102,46,46,46,40,0,116,121,112,101,105,100,40,0,116,104,114,111,119,0,116,104,114,111,119,32,0,102,112,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,111,117,116,95,111,102,95,114,97,110,103,101,34,0,95,95,116,104,114,111,119,95,111,117,116,95,111,102,95,114,97,110,103,101,0,118,111,105,100,0,98,111,111,108,0,105,110,116,0,117,110,115,105,103,110,101,100,32,105,110,116,0,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,0,108,111,110,103,32,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,32,108,111,110,103,0,102,108,111,97,116,0,100,111,117,98,108,101,0,108,111,110,103,32,100,111,117,98,108,101,0,95,95,102,108,111,97,116,49,50,56,0,46,46,46,0,100,101,99,105,109,97,108,54,52,0,100,101,99,105,109,97,108,49,50,56,0,100,101,99,105,109,97,108,51,50,0,100,101,99,105,109,97,108,49,54,0,99,104,97,114,51,50,95,116,0,99,104,97,114,49,54,95,116,0,97,117,116,111,0,115,116,100,58,58,110,117,108,108,112,116,114,95,116,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,116,97,103,45,49,46,51,53,46,52,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,118,116,97,98,108,101,32,102,111,114,32,0,86,84,84,32,102,111,114,32,0,116,121,112,101,105,110,102,111,32,102,111,114,32,0,116,121,112,101,105,110,102,111,32,110,97,109,101,32,102,111,114,32,0,99,111,118,97,114,105,97,110,116,32,114,101,116,117,114,110,32,116,104,117,110,107,32,116,111,32,0,99,111,110,115,116,114,117,99,116,105,111,110,32,118,116,97,98,108,101,32,102,111,114,32,0,45,105,110,45,0,118,105,114,116,117,97,108,32,116,104,117,110,107,32,116,111,32,0,110,111,110,45,118,105,114,116,117,97,108,32,116,104,117,110,107,32,116,111,32,0,103,117,97,114,100,32,118,97,114,105,97,98,108,101,32,102,111,114,32,0,114,101,102,101,114,101,110,99,101,32,116,101,109,112,111,114,97,114,121,32,102,111,114,32,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE)
;var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);assert(tempDoublePtr%8==0),Module._i64Subtract=_i64Subtract;var embind_charCodes=void 0,awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57,BindingError=void 0,InternalError=void 0,EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos)if(EXCEPTIONS.infos[t].adjusted===e)return t;return e},addRef:function(e){if(e)EXCEPTIONS.infos[e].refcount++},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0===t.refcount&&(t.destructor&&Runtime.dynCall("vi",t.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){if(e)EXCEPTIONS.infos[e].refcount=0}};Module._memset=_memset;var _BDtoILow=!0;Module._bitshift64Shl=_bitshift64Shl,Module._free=_free,Module._malloc=_malloc,Module._i64Add=_i64Add;var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===s||void 0===s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var a=0;a<r;a++)try{e.tty.ops.put_char(e.tty,t[n+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var n=new Buffer(256),r=0,i=process.stdin.fd,a=!1;try{i=fs.openSync("/dev/stdin","r"),a=!0}catch(e){}r=fs.readSync(i,n,0,256,null),a&&fs.closeSync(i),t=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(FS.isBlkdev(n)||FS.isFIFO(n))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,
unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var i=FS.createNode(e,t,n,r);return FS.isDir(i.mode)?(i.node_ops=MEMFS.ops_table.dir.node,i.stream_ops=MEMFS.ops_table.dir.stream,i.contents={}):FS.isFile(i.mode)?(i.node_ops=MEMFS.ops_table.file.node,i.stream_ops=MEMFS.ops_table.file.stream,i.usedBytes=0,i.contents=null):FS.isLink(i.mode)?(i.node_ops=MEMFS.ops_table.link.node,i.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(i.mode)&&(i.node_ops=MEMFS.ops_table.chrdev.node,i.stream_ops=MEMFS.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.buffer.byteLength:0;if(n>=t)return;t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,n,r){return MEMFS.createNode(e,t,n,r)},rename:function(e,t,n){if(FS.isDir(e.mode)){var r;try{r=FS.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=FS.lookupNode(e,t);for(var r in n.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=MEMFS.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,n,r,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(assert(o>=0),o>8&&a.subarray)t.set(a.subarray(i,i+o),n);else for(var s=0;s<o;s++)t[n+s]=a[i+s];return o},write:function(e,t,n,r,i,a){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=new Uint8Array(t.subarray(n,n+r)),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(MEMFS.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&FS.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r},allocate:function(e,t,n){MEMFS.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,a,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,l,u=e.node.contents;if(2&o||u.buffer!==t&&u.buffer!==t.buffer){if((i>0||i+r<e.node.usedBytes)&&(u=u.subarray?u.subarray(i,i+r):Array.prototype.slice.call(u,i,i+r)),l=!0,!(s=_malloc(r)))throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(u,s)}else l=!1,s=u.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,n,r,i){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&i)return 0;MEMFS.stream_ops.write(e,t,0,r,n,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e}),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,n){IDBFS.getLocalSet(e,function(r,i){if(r)return n(r);IDBFS.getRemoteSet(e,function(e,r){if(e)return n(e);var a=t?r:i,o=t?i:r;IDBFS.reconcile(a,o,n)})})},getDB:function(e,t){var n=IDBFS.dbs[e];if(n)return t(null,n);var r;try{r=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;t=n.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?r.objectStore(IDBFS.DB_STORE_NAME):n.createObjectStore(IDBFS.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,IDBFS.dbs[e]=n,t(null,n)},r.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){function n(e){return"."!==e&&".."!==e}function r(e){return function(t){return PATH.join2(e,t)}}for(var i={},a=FS.readdir(e.mountpoint).filter(n).map(r(e.mountpoint));a.length;){var o,s=a.pop();try{o=FS.stat(s)}catch(e){return t(e)}FS.isDir(o.mode)&&a.push.apply(a,FS.readdir(s).filter(n).map(r(s))),i[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var n={};IDBFS.getDB(e.mountpoint,function(e,r){if(e)return t(e);var i=r.transaction([IDBFS.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()},i.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:r,entries:n});n[i.primaryKey]={timestamp:i.key},i.continue()}})},loadLocalEntry:function(e,t){var n,r;try{r=FS.lookupPath(e).node,n=FS.stat(e)}catch(e){return t(e)}return FS.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):FS.isFile(n.mode)?(r.contents=MEMFS.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return n(new Error("node type not supported"));FS.writeFile(e,t.contents,{
encoding:"binary",canOwn:!0})}FS.chmod(e,t.mode),FS.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=(FS.lookupPath(e),FS.stat(e));FS.isDir(n.mode)?FS.rmdir(e):FS.isFile(n.mode)&&FS.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){var i=e.put(n,t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else if(++s>=i)return n(null)}var i=0,a=[];Object.keys(e.entries).forEach(function(n){var r=e.entries[n],o=t.entries[n];(!o||r.timestamp>o.timestamp)&&(a.push(n),i++)});var o=[];if(Object.keys(t.entries).forEach(function(n){t.entries[n];e.entries[n]||(o.push(n),i++)}),!i)return n(null);var s=0,l="remote"===e.type?e.db:t.db,u=l.transaction([IDBFS.DB_STORE_NAME],"readwrite"),c=u.objectStore(IDBFS.DB_STORE_NAME);u.onerror=function(e){r(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(c,e,function(t,n){if(t)return r(t);IDBFS.storeLocalEntry(e,n,r)}):IDBFS.loadLocalEntry(e,function(t,n){if(t)return r(t);IDBFS.storeRemoteEntry(c,e,n,r)})}),o.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,r):IDBFS.removeRemoteEntry(c,e,r)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,n,r){if(!FS.isDir(n)&&!FS.isFile(n)&&!FS.isLink(n))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.createNode(e,t,n);return i.node_ops=NODEFS.node_ops,i.stream_ops=NODEFS.stream_ops,i},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(146&t.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if(e&=-32769,(e&=-524289)in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var t,n=NODEFS.realPath(e);try{t=fs.lstatSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!t.blksize&&(t.blksize=4096),NODEFS.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);fs.utimesSync(n,r,r)}void 0!==t.size&&fs.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t),r=NODEFS.getMode(n);return NODEFS.createNode(e,t,r)},mknod:function(e,t,n,r){var i=NODEFS.createNode(e,t,n,r),a=NODEFS.realPath(i);try{FS.isDir(i.mode)?fs.mkdirSync(a,i.mode):fs.writeFileSync(a,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return i},rename:function(e,t,n){var r=NODEFS.realPath(e),i=PATH.join2(NODEFS.realPath(t),n);try{fs.renameSync(r,i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,n){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(n,r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return t=fs.readlinkSync(t),t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,n,r,i){if(0===r)return 0;var a,o=new Buffer(r);try{a=fs.readSync(e.nfd,o,0,r,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(a>0)for(var s=0;s<a;s++)t[n+s]=o[s];return a},write:function(e,t,n,r,i){var a,o=new Buffer(t.subarray(n,n+r));try{a=fs.writeSync(e.nfd,o,0,r,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return a},llseek:function(e,t,n){var r=t;if(1===n)r+=e.position;else if(2===n&&FS.isFile(e.node.mode))try{var i=fs.fstatSync(e.nfd);r+=i.size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function t(e){for(var t=e.split("/"),n=r,a=0;a<t.length-1;a++){var o=t.slice(0,a+1).join("/");i[o]||(i[o]=WORKERFS.createNode(n,o,WORKERFS.DIR_MODE,0)),n=i[o]}return n}function n(e){var t=e.split("/");return t[t.length-1]}assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var r=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),i={};return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(t(e.name),n(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(t(e.name),n(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(r){var i=r.filename.substr(1);WORKERFS.createNode(t(i),n(i),WORKERFS.FILE_MODE,0,e.blob.slice(r.start,r.end))})}),r},createNode:function(e,t,n,r,i,a){var o=FS.createNode(e,t,n);return o.mode=n,o.node_ops=WORKERFS.node_ops,o.stream_ops=WORKERFS.stream_ops,o.timestamp=(a||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),n===WORKERFS.FILE_MODE?(o.size=i.size,o.contents=i):(o.size=4096,o.contents={}),e&&(e.contents[t]=o),o},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,n,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},symlink:function(e,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{
read:function(e,t,n,r,i){if(i>=e.node.size)return 0;var a=e.node.contents.slice(i,i+r),o=WORKERFS.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),n),a.size},write:function(e,t,n,r,i){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&FS.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){if(e=PATH.resolve(FS.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var i=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=FS.root,o="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&t.parent)break;if(a=FS.lookupNode(a,i[s]),o=PATH.join2(o,i[s]),FS.isMountpoint(a)&&(!l||l&&t.follow_mount)&&(a=a.mounted.root),!l||t.follow)for(var u=0;FS.isLink(a.mode);){var c=FS.readlink(o);o=PATH.resolve(PATH.dirname(o),c);var f=FS.lookupPath(o,{recurse_count:t.recurse_count});if(a=f.node,u++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(FS.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var n=FS.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=FS.mayLookup(e);if(n)throw new FS.ErrnoError(n,e);for(var r=FS.hashName(e.id,t),i=FS.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return FS.lookup(e,t)},createNode:function(e,t,n,r){if(!FS.FSNode){FS.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},FS.FSNode.prototype={};Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var i=new FS.FSNode(e,t,n,r);return FS.hashAddNode(i),i},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var t=FS.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=FS.lookupNode(e,t)}catch(e){return e.errno}var i=FS.nodePermissions(e,"wx");if(i)return i;if(n){if(!FS.isDir(r.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(r)||FS.getPath(r)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(r.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!=(2097155&t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!FS.streams[n])return n;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,n){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new FS.FSStream;for(var i in e)r[i]=e[i];e=r;var a=FS.nextfd(t,n);return e.fd=a,FS.streams[a]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){function n(e){if(e){if(!n.errored)return n.errored=!0,t(e)}else++i>=r.length&&t(null)}"function"==typeof e&&(t=e,e=!1);var r=FS.getMounts(FS.root.mount),i=0;r.forEach(function(t){if(!t.type.syncfs)return n(null);t.type.syncfs(t,e,n)})},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!i&&!a){var o=FS.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,i?FS.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=t.node,r=n.mounted,i=FS.getMounts(r);Object.keys(FS.nameTable).forEach(function(e){for(var t=FS.nameTable[e];t;){var n=t.name_next;-1!==i.indexOf(t.mount)&&FS.destroyNode(t),t=n}}),n.mounted=null;var a=n.mount.mounts.indexOf(r);assert(-1!==a),n.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=FS.lookupPath(e,{parent:!0}),i=r.node,a=PATH.basename(e);if(!a||"."===a||".."===a)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=FS.mayCreate(i,a);if(o)throw new FS.ErrnoError(o);if(!i.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.mknod(i,a,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,FS.mknod(e,t,n)},symlink:function(e,t){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var n=FS.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var i=PATH.basename(t),a=FS.mayCreate(r,i)
;if(a)throw new FS.ErrnoError(a);if(!r.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var n,r,i,a=PATH.dirname(e),o=PATH.dirname(t),s=PATH.basename(e),l=PATH.basename(t);try{n=FS.lookupPath(e,{parent:!0}),r=n.node,n=FS.lookupPath(t,{parent:!0}),i=n.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!r||!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(r.mount!==i.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var u=FS.lookupNode(r,s),c=PATH.relative(e,o);if("."!==c.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(c=PATH.relative(t,a),"."!==c.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);var f;try{f=FS.lookupNode(i,l)}catch(e){}if(u!==f){var d=FS.isDir(u.mode),p=FS.mayDelete(r,s,d);if(p)throw new FS.ErrnoError(p);if(p=f?FS.mayDelete(i,l,d):FS.mayCreate(i,l))throw new FS.ErrnoError(p);if(!r.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(u)||f&&FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(i!==r&&(p=FS.nodePermissions(r,"w")))throw new FS.ErrnoError(p);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,t)}catch(e){}FS.hashRemoveNode(u);try{r.node_ops.rename(u,i,l)}catch(e){throw e}finally{FS.hashAddNode(u)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,t)}catch(e){}}},rmdir:function(e){var t=FS.lookupPath(e,{parent:!0}),n=t.node,r=PATH.basename(e),i=FS.lookupNode(n,r),a=FS.mayDelete(n,r,!0);if(a)throw new FS.ErrnoError(a);if(!n.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(e){}n.node_ops.rmdir(n,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(e){}},readdir:function(e){var t=FS.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var t=FS.lookupPath(e,{parent:!0}),n=t.node,r=PATH.basename(e),i=FS.lookupNode(n,r),a=FS.mayDelete(n,r,!1);if(a)throw a===ERRNO_CODES.EISDIR&&(a=ERRNO_CODES.EPERM),new FS.ErrnoError(a);if(!n.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(e){}n.node_ops.unlink(n,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(e){}},readlink:function(e){var t=FS.lookupPath(e),n=t.node;if(!n)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!n.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=FS.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!r.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,n){var r;if("string"==typeof e)r=FS.lookupPath(e,{follow:!n}).node;else r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(n.node,t)},chown:function(e,t,n,r){var i;if("string"==typeof e)i=FS.lookupPath(e,{follow:!r}).node;else i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){FS.chown(e,t,n,!0)},fchown:function(e,t,n){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n;if("string"==typeof e)n=FS.lookupPath(e,{follow:!0}).node;else n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=FS.nodePermissions(n,"w");if(r)throw new FS.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&n.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(n.node,t)},utime:function(e,t,n){var r=FS.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);t="string"==typeof t?FS.modeStringToFlags(t):t,n=void 0===n?438:n,n=64&t?4095&n|32768:0;var a;if("object"===(void 0===e?"undefined":_typeof(e)))a=e;else{e=PATH.normalize(e);try{a=FS.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(a){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else a=FS.mknod(e,n,0),o=!0;if(!a)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(a.mode)&&(t&=-513),65536&t&&!FS.isDir(a.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!o){var s=FS.mayOpen(a,t);if(s)throw new FS.ErrnoError(s)}512&t&&FS.truncate(a,0),t&=-641;var l=FS.createStream({node:a,path:FS.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,i);l.stream_ops.open&&l.stream_ops.open(l),!Module.logReadFiles||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var u=0;1!=(2097155&t)&&(u|=FS.tracking.openFlags.READ),0!=(2097155&t)&&(u|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,u)}}catch(e){}return l},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,t,n){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=!0;if(void 0===i)i=e.position,a=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var o=!0;if(void 0===i)i=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,t,n,r,i,a);o||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){}return s},allocate:function(e,t,n){if(t<0||n<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,a,o){if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,n,r,i,a,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary",
"utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=FS.open(e,t.flags),i=FS.stat(e),a=i.size,o=new Uint8Array(a);return FS.read(r,o,0,a,0),"utf8"===t.encoding?n=UTF8ArrayToString(o,0):"binary"===t.encoding&&(n=o),FS.close(r),n},writeFile:function(e,t,n){if(n=n||{},n.flags=n.flags||"w",n.encoding=n.encoding||"utf8","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var r=FS.open(e,n.flags,n.mode);if("utf8"===n.encoding){var i=new Uint8Array(lengthBytesUTF8(t)+1),a=stringToUTF8Array(t,i,0,i.length);FS.write(r,i,0,a,0,n.canOwn)}else"binary"===n.encoding&&FS.write(r,t,0,t.length,0,n.canOwn);FS.close(r)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var n=FS.nodePermissions(t.node,"x");if(n)throw new FS.ErrnoError(n);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ENVIRONMENT_IS_NODE?function(){return __webpack_require__(281).randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=FS.getStream(n);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var n=FS.open("/dev/stderr","w");assert(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,n){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=n||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<FS.streams.length;t++){var n=FS.streams[t];n&&FS.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=PATH.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var n=FS.analyzePath(e,t);return n.exists?n.object:(___setErrNo(n.error),null)},analyzePath:function(e,t){try{var n=FS.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=PATH.basename(e),n=FS.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,n,r){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(n,r);return FS.mkdir(i,a)},createPath:function(e,t,n,r){e="string"==typeof e?e:FS.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=PATH.join2(e,a);try{FS.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,n,r,i){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(r,i);return FS.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t?PATH.join2("string"==typeof e?e:FS.getPath(e),t):e,s=FS.getMode(r,i),l=FS.create(o,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),c=0,f=n.length;c<f;++c)u[c]=n.charCodeAt(c);n=u}FS.chmod(l,146|s);var d=FS.open(l,"w");FS.write(d,n,0,n.length,0,a),FS.close(d),FS.chmod(l,s)}return l},createDevice:function(e,t,n,r){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(!!n,!!r);FS.createDevice.major||(FS.createDevice.major=64);var o=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var l;try{l=n()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===l&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===l||void 0===l)break;o++,t[r+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),o}}),FS.mkdev(i,a,o)},createLink:function(e,t,n,r,i){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),t);return FS.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,n,r,i){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=1048576;i||(a=r);var o=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),
"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):intArrayFromString(i.responseText||"",!0)},s=this;s.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,r-1),void 0===s.chunks[e]&&(s.chunks[e]=o(t,n)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new a;Object.defineProperty(o,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(o,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var s={isDevice:!1,contents:o}}else var s={isDevice:!1,url:n};var l=FS.createFile(e,t,s,r,i);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperty(l,"usedBytes",{get:function(){return this.contents.length}});var u={};return Object.keys(l.stream_ops).forEach(function(e){var t=l.stream_ops[e];u[e]=function(){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),u.read=function(e,t,n,r,i){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);var a=e.node.contents;if(i>=a.length)return 0;var o=Math.min(a.length-i,r);if(assert(o>=0),a.slice)for(var s=0;s<o;s++)t[n+s]=a[i+s];else for(var s=0;s<o;s++)t[n+s]=a.get(i+s);return o},l.stream_ops=u,l},createPreloadedFile:function(e,t,n,r,i,a,o,s,l,u){function c(n){function c(n){u&&u(),s||FS.createDataFile(e,t,n,r,i,l),a&&a(),removeRunDependency(d)}var p=!1;Module.preloadPlugins.forEach(function(e){p||e.canHandle(f)&&(e.handle(n,f,c,function(){o&&o(),removeRunDependency(d)}),p=!0)}),p||c(n)}Browser.init();var f=t?PATH.resolve(PATH.join2(e,t)):e,d=getUniqueRunDependency("cp "+f);addRunDependency(d),"string"==typeof n?Browser.asyncLoad(n,function(e){c(e)},o):c(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=FS.indexedDB();try{var i=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){i.result.createObjectStore(FS.DB_STORE_NAME)},i.onsuccess=function(){function r(){0==u?t():n()}var a=i.result,o=a.transaction([FS.DB_STORE_NAME],"readwrite"),s=o.objectStore(FS.DB_STORE_NAME),l=0,u=0,c=e.length;e.forEach(function(e){var t=s.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){++l+u==c&&r()},t.onerror=function(){u++,l+u==c&&r()}}),o.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=FS.indexedDB();try{var i=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function r(){0==u?t():n()}var a=i.result;try{var o=a.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=o.objectStore(FS.DB_STORE_NAME),l=0,u=0,c=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),++l+u==c&&r()},t.onerror=function(){u++,l+u==c&&r()}}),o.onerror=n},i.onerror=n}},PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:FS.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}for(var l=[],s=o;s<r.length;s++)l.push("..");return l=l.concat(i.slice(o)),l.join("/")}},Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var e=Browser.mainLoop.timingMode,t=Browser.mainLoop.timingValue,n=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(n,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(e,t),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",t=Browser.mainLoop.remainingBlockers,n=Browser.mainLoop.expectedBlockers;t?t<n?Module.setStatus(e+" ("+(n-t)+"/"+n+")"):Module.setStatus(e):Module.setStatus("")}},runIter:function(e){if(!ABORT){if(Module.preMainLoop)if(!1===Module.preMainLoop())return;try{e()}catch(e){if(e instanceof ExitStatus)return;throw e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}Module.postMainLoop&&Module.postMainLoop()}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){function e(){Browser.pointerLock=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r||document.msPointerLockElement===r}if(Module.preloadPlugins||(Module.preloadPlugins=[]),!Browser.initted){Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(e){Browser.hasBlobConstructor=!1}Browser.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Browser.hasBlobConstructor?null:void 0,Browser.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,Module.noImageDecoding||void 0!==Browser.URLObject||(Module.noImageDecoding=!0);var t={};t.canHandle=function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},t.handle=function(e,t,n,r){var i=null;if(Browser.hasBlobConstructor)try{i=new Blob([e],{type:Browser.getMimetype(t)}),i.size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:Browser.getMimetype(t)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!i){var a=new Browser.BlobBuilder;a.append(new Uint8Array(e).buffer),i=a.getBlob()}var o=Browser.URLObject.createObjectURL(i),s=new Image;s.onload=function(){assert(s.complete,"Image "+t+" could not be decoded");var r=document.createElement("canvas");r.width=s.width,r.height=s.height,r.getContext("2d").drawImage(s,0,0),Module.preloadedImages[t]=r,Browser.URLObject.revokeObjectURL(o),n&&n(e)},
s.onerror=function(e){r&&r()},s.src=o},Module.preloadPlugins.push(t);var n={};n.canHandle=function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},n.handle=function(e,t,n,r){function i(r){o||(o=!0,Module.preloadedAudios[t]=r,n&&n(e))}function a(){o||(o=!0,Module.preloadedAudios[t]=new Audio,r&&r())}var o=!1;if(!Browser.hasBlobConstructor)return a();try{var s=new Blob([e],{type:Browser.getMimetype(t)})}catch(e){return a()}var l=Browser.URLObject.createObjectURL(s),u=new Audio;u.addEventListener("canplaythrough",function(){i(u)},!1),u.onerror=function(n){o||(u.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0,i=0,a=0;a<e.length;a++)for(r=r<<8|e[a],i+=8;i>=6;){var o=r>>i-6&63;i-=6,n+=t[o]}return 2==i?(n+=t[(3&r)<<4],n+="=="):4==i&&(n+=t[(15&r)<<2],n+="="),n}(e),i(u))},u.src=l,Browser.safeSetTimeout(function(){i(u)},1e4)},Module.preloadPlugins.push(n);var r=Module.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),Module.elementPointerLock&&r.addEventListener("click",function(e){!Browser.pointerLock&&r.requestPointerLock&&(r.requestPointerLock(),e.preventDefault())},!1))}},createContext:function(e,t,n,r){if(t&&Module.ctx&&e==Module.canvas)return Module.ctx;var i,a;if(t){var o={antialias:!1,alpha:!1};if(r)for(var s in r)o[s]=r[s];a=GL.createContext(e,o),a&&(i=GL.getContext(a).GLctx),e.style.backgroundColor="black"}else i=e.getContext("2d");return i?(n&&(t||assert("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=i,t&&GL.makeContextCurrent(a),Module.useWebGL=t,Browser.moduleContextCreatedCallbacks.forEach(function(e){e()}),Browser.init()),i):null},destroyContext:function(e,t,n){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(e,t,n){function r(){Browser.isFullScreen=!1;var e=i.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e?(i.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},i.cancelFullScreen=i.cancelFullScreen.bind(document),Browser.lockPointer&&i.requestPointerLock(),Browser.isFullScreen=!0,Browser.resizeCanvas&&Browser.setFullScreenCanvasSize()):(e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullScreen),Browser.updateCanvasDimensions(i)}Browser.lockPointer=e,Browser.resizeCanvas=t,Browser.vrDevice=n,void 0===Browser.lockPointer&&(Browser.lockPointer=!0),void 0===Browser.resizeCanvas&&(Browser.resizeCanvas=!1),void 0===Browser.vrDevice&&(Browser.vrDevice=null);var i=Module.canvas;Browser.fullScreenHandlersInstalled||(Browser.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",r,!1),document.addEventListener("mozfullscreenchange",r,!1),document.addEventListener("webkitfullscreenchange",r,!1),document.addEventListener("MSFullscreenChange",r,!1));var a=document.createElement("div");i.parentNode.insertBefore(a,i),a.appendChild(i),a.requestFullScreen=a.requestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n?a.requestFullScreen({vrDisplay:n}):a.requestFullScreen()},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===Browser.nextRAF)Browser.nextRAF=t+1e3/60;else for(;t+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var n=Math.max(Browser.nextRAF-t,0);setTimeout(e,n)},requestAnimationFrame:function(e){"undefined"==typeof window?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!ABORT)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var e=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],e.forEach(function(e){e()})}},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))})},safeSetTimeout:function(e,t){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))},t)},safeSetInterval:function(e,t){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&e()},t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail;break;case"mousewheel":t=e.wheelDelta;break;case"wheel":t=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),"undefined"!=typeof SDL?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var t=Module.canvas.getBoundingClientRect(),n=Module.canvas.width,r=Module.canvas.height,i=void 0!==window.scrollX?window.scrollX:window.pageXOffset,a=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var o=e.touch;if(void 0===o)return;var s=o.pageX-(i+t.left),l=o.pageY-(a+t.top);s*=n/t.width,l*=r/t.height;var u={x:s,y:l};if("touchstart"===e.type)Browser.lastTouches[o.identifier]=u,Browser.touches[o.identifier]=u;else if("touchend"===e.type||"touchmove"===e.type){var c=Browser.touches[o.identifier];c||(c=u),Browser.lastTouches[o.identifier]=c,Browser.touches[o.identifier]=u}return}var f=e.pageX-(i+t.left),d=e.pageY-(a+t.top);f*=n/t.width,d*=r/t.height,Browser.mouseMovementX=f-Browser.mouseX,Browser.mouseMovementY=d-Browser.mouseY,Browser.mouseX=f,Browser.mouseY=d}},xhrLoad:function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},asyncLoad:function(e,t,n,r){
Browser.xhrLoad(e,function(n){assert(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),r||removeRunDependency("al "+e)},function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()}),r||addRunDependency("al "+e)},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach(function(t){t(e.width,e.height)})},setCanvasSize:function(e,t,n){var r=Module.canvas;Browser.updateCanvasDimensions(r,e,t),n||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullScreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e|=8388608,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e&=-8388609,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},updateCanvasDimensions:function(e,t,n){t&&n?(e.widthNative=t,e.heightNative=n):(t=e.widthNative,n=e.heightNative);var r=t,i=n;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(r/i<Module.forcedAspectRatio?r=Math.round(i*Module.forcedAspectRatio):i=Math.round(r/Module.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/r,screen.height/i);r=Math.round(r*a),i=Math.round(i*a)}Browser.resizeCanvas?(e.width!=r&&(e.width=r),e.height!=i&&(e.height=i),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),void 0!==e.style&&(r!=t||i!=n?(e.style.setProperty("width",r+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,e}},emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}],SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=FS.cwd();else{var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);n=r.path}t=PATH.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[n>>2]=r.dev,HEAP32[n+4>>2]=0,HEAP32[n+8>>2]=r.ino,HEAP32[n+12>>2]=r.mode,HEAP32[n+16>>2]=r.nlink,HEAP32[n+20>>2]=r.uid,HEAP32[n+24>>2]=r.gid,HEAP32[n+28>>2]=r.rdev,HEAP32[n+32>>2]=0,HEAP32[n+36>>2]=r.size,HEAP32[n+40>>2]=4096,HEAP32[n+44>>2]=r.blocks,HEAP32[n+48>>2]=r.atime.getTime()/1e3|0,HEAP32[n+52>>2]=0,HEAP32[n+56>>2]=r.mtime.getTime()/1e3|0,HEAP32[n+60>>2]=0,HEAP32[n+64>>2]=r.ctime.getTime()/1e3|0,HEAP32[n+68>>2]=0,HEAP32[n+72>>2]=r.ino,0},doMsync:function(e,t,n,r){var i=new Uint8Array(HEAPU8.subarray(e,e+n));FS.msync(t,i,0,n,r)},doMkdir:function(e,t){return e=PATH.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-ERRNO_CODES.EINVAL;var r=FS.readlink(e);return r=r.slice(0,Math.max(0,n)),writeStringToMemory(r,t,!0),r.length},doAccess:function(e,t){if(-8&t)return-ERRNO_CODES.EINVAL;var n;n=FS.lookupPath(e,{follow:!0}).node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&FS.nodePermissions(n,r)?-ERRNO_CODES.EACCES:0},doDup:function(e,t,n){var r=FS.getStream(n);return r&&FS.close(r),FS.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=HEAP32[t+8*a>>2],s=HEAP32[t+(8*a+4)>>2],l=FS.read(e,HEAP8,o,s,r);if(l<0)return-1;if(i+=l,l<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=HEAP32[t+8*a>>2],s=HEAP32[t+(8*a+4)>>2],l=FS.write(e,HEAP8,o,s,r);if(l<0)return-1;i+=l}return i},varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),n=SYSCALLS.get();if(e&&0===t)return null;var r=__read_sockaddr(t,n);if(r.errno)throw new FS.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};Module._bitshift64Lshr=_bitshift64Lshr;var _BDtoIHigh=!0,UnboundTypeError=void 0;Module._memcpy=_memcpy,Module._memmove=_memmove;var _BItoD=!0;if(embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),Module.requestFullScreen=function(e,t,n){Browser.requestFullScreen(e,t,n)},Module.requestAnimationFrame=function(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function(e,t,n){Browser.setCanvasSize(e,t,n)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},Module.createContext=function(e,t,n,r){return Browser.createContext(e,t,n,r)},FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=__webpack_require__(140),NODEJS_PATH=__webpack_require__(31);NODEFS.staticInit()}init_emval(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_viiii:invoke_viiii,_pthread_cleanup_pop:_pthread_cleanup_pop,
floatReadValueFromPointer:floatReadValueFromPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,integerReadValueFromPointer:integerReadValueFromPointer,__embind_register_integer:__embind_register_integer,throwInternalError:throwInternalError,get_first_emval:get_first_emval,_abort:_abort,_emscripten_set_main_loop_timing:_emscripten_set_main_loop_timing,___gxx_personality_v0:___gxx_personality_v0,extendError:extendError,___assert_fail:___assert_fail,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_find_matching_catch:___cxa_find_matching_catch,getShiftFromSize:getShiftFromSize,__embind_register_function:__embind_register_function,embind_init_charCodes:embind_init_charCodes,throwBindingError:throwBindingError,___setErrNo:___setErrNo,__emval_register:__emval_register,_sbrk:_sbrk,__embind_register_void:__embind_register_void,_emscripten_memcpy_big:_emscripten_memcpy_big,__embind_register_bool:__embind_register_bool,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_sysconf:_sysconf,_embind_repr:_embind_repr,__embind_register_std_wstring:__embind_register_std_wstring,createNamedFunction:createNamedFunction,__embind_register_emval:__embind_register_emval,readLatin1String:readLatin1String,__embind_register_memory_view:__embind_register_memory_view,throwUnboundTypeError:throwUnboundTypeError,_pthread_self:_pthread_self,craftInvokerFunction:craftInvokerFunction,__emval_decref:__emval_decref,__embind_register_float:__embind_register_float,makeLegalFunctionName:makeLegalFunctionName,___syscall54:___syscall54,___unlock:___unlock,heap32VectorToArray:heap32VectorToArray,init_emval:init_emval,whenDependentTypesAreResolved:whenDependentTypesAreResolved,_emscripten_set_main_loop:_emscripten_set_main_loop,new_:new_,registerType:registerType,___cxa_throw:___cxa_throw,___lock:___lock,___syscall6:___syscall6,_pthread_cleanup_push:_pthread_cleanup_push,ensureOverloadTable:ensureOverloadTable,count_emval_handles:count_emval_handles,_time:_time,requireFunction:requireFunction,runDestructors:runDestructors,getTypeName:getTypeName,___syscall140:___syscall140,exposePublicSymbol:exposePublicSymbol,__embind_register_std_string:__embind_register_std_string,replacePublicSymbol:replacePublicSymbol,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8};var asm=function(e,t,n){"use asm";var r=new e.Int8Array(n);var i=new e.Int16Array(n);var a=new e.Int32Array(n);var o=new e.Uint8Array(n);var s=new e.Uint16Array(n);var l=new e.Uint32Array(n);var u=new e.Float32Array(n);var c=new e.Float64Array(n);var f=t.STACKTOP|0;var d=t.STACK_MAX|0;var p=t.tempDoublePtr|0;var h=t.ABORT|0;var y=t.cttz_i8|0;var m=0;var _=0;var g=0;var b=0;var v=e.NaN,w=e.Infinity;var k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0;var O=0;var N=0;var M=0;var R=0;var D=0;var F=0;var B=0;var j=0;var L=0;var U=0;var H=e.Math.floor;var G=e.Math.abs;var z=e.Math.sqrt;var V=e.Math.pow;var K=e.Math.cos;var W=e.Math.sin;var q=e.Math.tan;var X=e.Math.acos;var Y=e.Math.asin;var J=e.Math.atan;var Q=e.Math.atan2;var Z=e.Math.exp;var $=e.Math.log;var ee=e.Math.ceil;var te=e.Math.imul;var ne=e.Math.min;var re=e.Math.clz32;var ie=t.abort;var ae=t.assert;var oe=t.invoke_iiii;var se=t.invoke_viiiii;var le=t.invoke_vi;var ue=t.invoke_vii;var ce=t.invoke_ii;var fe=t.invoke_viii;var de=t.invoke_v;var pe=t.invoke_viiiiii;var he=t.invoke_iii;var ye=t.invoke_viiii;var me=t._pthread_cleanup_pop;var _e=t.floatReadValueFromPointer;var ge=t.simpleReadValueFromPointer;var be=t.integerReadValueFromPointer;var ve=t.__embind_register_integer;var we=t.throwInternalError;var ke=t.get_first_emval;var Se=t._abort;var Ie=t._emscripten_set_main_loop_timing;var Ee=t.___gxx_personality_v0;var Ae=t.extendError;var xe=t.___assert_fail;var Ce=t.___cxa_allocate_exception;var Te=t.___cxa_find_matching_catch;var Pe=t.getShiftFromSize;var Oe=t.__embind_register_function;var Ne=t.embind_init_charCodes;var Me=t.throwBindingError;var Re=t.___setErrNo;var De=t.__emval_register;var Fe=t._sbrk;var Be=t.__embind_register_void;var je=t._emscripten_memcpy_big;var Le=t.__embind_register_bool;var Ue=t.___resumeException;var He=t.__ZSt18uncaught_exceptionv;var Ge=t._sysconf;var ze=t._embind_repr;var Ve=t.__embind_register_std_wstring;var Ke=t.createNamedFunction;var We=t.__embind_register_emval;var qe=t.readLatin1String;var Xe=t.__embind_register_memory_view;var Ye=t.throwUnboundTypeError;var Je=t._pthread_self;var Qe=t.craftInvokerFunction;var Ze=t.__emval_decref;var $e=t.__embind_register_float;var et=t.makeLegalFunctionName;var tt=t.___syscall54;var nt=t.___unlock;var rt=t.heap32VectorToArray;var it=t.init_emval;var at=t.whenDependentTypesAreResolved;var ot=t._emscripten_set_main_loop;var st=t.new_;var lt=t.registerType;var ut=t.___cxa_throw;var ct=t.___lock;var ft=t.___syscall6;var dt=t._pthread_cleanup_push;var pt=t.ensureOverloadTable;var ht=t.count_emval_handles;var yt=t._time;var mt=t.requireFunction;var _t=t.runDestructors;var gt=t.getTypeName;var bt=t.___syscall140;var vt=t.exposePublicSymbol;var wt=t.__embind_register_std_string;var kt=t.replacePublicSymbol;var St=t.___syscall146;var It=0;function Et(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0,ke=0,Se=0,Ie=0,Ee=0,Ae=0,xe=0,Ce=0,Te=0,Pe=0,Oe=0,Ne=0,Me=0,Re=0,De=0,Fe=0,Be=0,je=0,Le=0,Ue=0,He=0,Ge=0,ze=0,Ve=0,Ke=0,We=0,qe=0,Xe=0,Ye=0,Je=0,Qe=0,Ze=0,$e=0,et=0,tt=0,nt=0,rt=0,it=0,at=0,ot=0,st=0,lt=0,ut=0,ct=0,ft=0,dt=0,pt=0,ht=0,yt=0,mt=0,_t=0,gt=0,bt=0,vt=0,wt=0,kt=0,St=0,It=0,Ct=0,Pt=0,Ot=0,Nt=0,Dt=0,Ft=0,Bt=0,Lt=0,Ut=0,Ht=0,Gt=0,zt=0,Vt=0,Wt=0,qt=0,Xt=0,Yt=0,Jt=0,Qt=0,Zt=0,$t=0,en=0,tn=0,nn=0,rn=0,an=0,on=0,sn=0,ln=0,un=0,cn=0,fn=0,dn=0,pn=0,hn=0,yn=0,mn=0,_n=0,gn=0,bn=0,vn=0,wn=0,kn=0,Sn=0,In=0,En=0,An=0,xn=0,Cn=0,Tn=0;i=f;f=f+1104|0;o=i+1072|0;s=i+1048|0;l=i+1032|0;u=i+1020|0;c=i+1008|0;d=i+984|0;p=i+972|0;h=i+596|0;y=i+572|0;m=i+548|0;_=i+524|0;g=i+488|0;b=i+460|0;v=i+960|0;w=i+948|0;k=i+936|0;S=i+924|0;I=i+912|0;E=i+900|0;A=i+888|0;x=i+876|0;C=i+864|0;T=i+852|0;P=i+840|0;O=i+828|0;N=i+816|0;M=i+804|0;R=i+792|0;D=i+780|0;F=i+768|0;B=i+756|0;j=i+744|0;L=i+732|0;U=i+720|0;H=i+708|0;G=i+696|0;z=i+672|0;V=i+656|0;K=i+644|0;W=i+632|0;q=i+620|0;X=i+608|0;Y=i+584|0;J=i+560|0;Q=i+536|0;Z=i+512|0;$=i+472|0;ee=i+448|0;te=i+436|0;ne=i+424|0;re=i+400|0;ie=i+384|0;ae=i+372|0;oe=i+360|0;se=i+348|0;le=i+336|0;ue=i+324|0;ce=i+312|0;fe=i+300|0;de=i+288|0;pe=i+276|0;he=i+264|0;ye=i+252|0;me=i+240|0;_e=i+216|0;ge=i+204|0;be=i+192|0;ve=i+180|0;we=i+168|0;ke=i+144|0;Se=i+132|0;Ie=i+120|0;Ee=i+108|0;Ae=i+96|0;xe=i+84|0;Ce=i+72|0;Te=i+60|0;Pe=i+48|0;Oe=i+36|0;Ne=i+24|0;Me=i;Re=t;De=Re-e|0;e:do{if((De|0)>1){Fe=(De|0)>3;if(Fe?(r[e>>0]|0)==103:0){Be=(r[e+1>>0]|0)==115;je=Be;Le=Be?e+2|0:e}else{je=0;Le=e}do{switch(r[Le>>0]|0){case 76:{Ue=Vr(e,t,n)|0;break e;break}case 84:{Ue=Tt(e,t,n)|0;break e;break}case 102:{Ue=Yr(e,t,n)|0;break e;break}case 97:{switch(r[Le+1>>0]|0){case 97:{Be=e+2|0;Ur(v,3623,2);He=Jr(Be,t,v,n)|0;Er(v);Ue=(He|0)==(Be|0)?e:He;break e;break}case 100:{He=e+2|0;Ur(w,3644,1);Be=Qr(He,t,w,n)|0;Er(w);Ue=(Be|0)==(He|0)?e:Be;break e;break}case 110:{Be=e+2|0;Ur(k,3644,1);He=Jr(Be,t,k,n)|0;Er(k);Ue=(He|0)==(Be|0)?e:He;break e;break}case 78:{He=e+2|0;Ur(S,4769,2);Be=Jr(He,t,S,n)|0;Er(S);Ue=(Be|0)==(He|0)?e:Be;break e;break}case 83:{Be=e+2|0;Ur(I,4772,1);He=Jr(Be,t,I,n)|0;Er(I);Ue=(He|0)==(Be|0)?e:He;break e;break}case 116:{if(((((De|0)>2?(r[e>>0]|0)==97:0)?(r[e+1>>0]|0)==116:0)?(He=e+2|0,Be=Tr(He,t,n)|0,(Be|0)!=(He|0)):0)?(He=a[n+4>>2]|0,(a[n>>2]|0)!=(He|0)):0){Ge=He+-24|0;xt(l,Ge);ze=xr(l,0,4774)|0;a[s>>2]=a[ze>>2];a[s+4>>2]=a[ze+4>>2];a[s+8>>2]=a[ze+8>>2];Ve=0;while(1){if((Ve|0)==3)break;a[ze+(Ve<<2)>>2]=0;Ve=Ve+1|0}Ve=Cr(s,3499)|0
;a[o>>2]=a[Ve>>2];a[o+4>>2]=a[Ve+4>>2];a[o+8>>2]=a[Ve+8>>2];ze=0;while(1){if((ze|0)==3)break;a[Ve+(ze<<2)>>2]=0;ze=ze+1|0}do{if(r[Ge>>0]&1){ze=He+-16|0;r[a[ze>>2]>>0]=0;Ve=He+-20|0;a[Ve>>2]=0;Ke=r[Ge>>0]|0;if(!(Ke&1)){We=Ke;qe=10}else{Ke=a[Ge>>2]|0;We=Ke&255;qe=(Ke&-2)+-1|0}if(!(We&1)){Ke=(We&255)>>>1;if((We&255)<22){Xe=10;Ye=1;Je=Ke}else{Xe=(Ke+16&240)+-1|0;Ye=1;Je=Ke}}else{Xe=10;Ye=0;Je=0}if((Xe|0)!=(qe|0)){if((Xe|0)==10){Ke=Ge+1|0;Qe=a[ze>>2]|0;if(Ye){Qi(Ke|0,Qe|0,((We&255)>>>1)+1|0)|0;Li(Qe)}else{r[Ke>>0]=r[Qe>>0]|0;Li(Qe)}r[Ge>>0]=Je<<1;break}Qe=Xe+1|0;Ke=ji(Qe)|0;if(!(Xe>>>0<=qe>>>0&(Ke|0)==0)){if(Ye)Qi(Ke|0,Ge+1|0,((We&255)>>>1)+1|0)|0;else{Ze=a[ze>>2]|0;r[Ke>>0]=r[Ze>>0]|0;Li(Ze)}a[Ge>>2]=Qe|1;a[Ve>>2]=Je;a[ze>>2]=Ke}}}else{r[Ge+1>>0]=0;r[Ge>>0]=0}}while(0);a[Ge>>2]=a[o>>2];a[Ge+4>>2]=a[o+4>>2];a[Ge+8>>2]=a[o+8>>2];He=0;while(1){if((He|0)==3)break;a[o+(He<<2)>>2]=0;He=He+1|0}Er(o);Er(s);Er(l);$e=Be}else $e=e;Ue=$e;break e;break}case 122:{if(((((De|0)>2?(r[e>>0]|0)==97:0)?(r[e+1>>0]|0)==122:0)?(He=e+2|0,Ge=Et(He,t,n)|0,(Ge|0)!=(He|0)):0)?(He=a[n+4>>2]|0,(a[n>>2]|0)!=(He|0)):0){Ke=He+-24|0;xt(l,Ke);ze=xr(l,0,4774)|0;a[s>>2]=a[ze>>2];a[s+4>>2]=a[ze+4>>2];a[s+8>>2]=a[ze+8>>2];Ve=0;while(1){if((Ve|0)==3)break;a[ze+(Ve<<2)>>2]=0;Ve=Ve+1|0}Ve=Cr(s,3499)|0;a[o>>2]=a[Ve>>2];a[o+4>>2]=a[Ve+4>>2];a[o+8>>2]=a[Ve+8>>2];ze=0;while(1){if((ze|0)==3)break;a[Ve+(ze<<2)>>2]=0;ze=ze+1|0}do{if(r[Ke>>0]&1){ze=He+-16|0;r[a[ze>>2]>>0]=0;Ve=He+-20|0;a[Ve>>2]=0;Be=r[Ke>>0]|0;if(!(Be&1)){et=Be;tt=10}else{Be=a[Ke>>2]|0;et=Be&255;tt=(Be&-2)+-1|0}if(!(et&1)){Be=(et&255)>>>1;if((et&255)<22){nt=1;rt=10;it=Be}else{nt=1;rt=(Be+16&240)+-1|0;it=Be}}else{nt=0;rt=10;it=0}if((rt|0)!=(tt|0)){if((rt|0)==10){Be=Ke+1|0;Qe=a[ze>>2]|0;if(nt){Qi(Be|0,Qe|0,((et&255)>>>1)+1|0)|0;Li(Qe)}else{r[Be>>0]=r[Qe>>0]|0;Li(Qe)}r[Ke>>0]=it<<1;break}Qe=rt+1|0;Be=ji(Qe)|0;if(!(rt>>>0<=tt>>>0&(Be|0)==0)){if(nt)Qi(Be|0,Ke+1|0,((et&255)>>>1)+1|0)|0;else{Ze=a[ze>>2]|0;r[Be>>0]=r[Ze>>0]|0;Li(Ze)}a[Ke>>2]=Qe|1;a[Ve>>2]=it;a[ze>>2]=Be}}}else{r[Ke+1>>0]=0;r[Ke>>0]=0}}while(0);a[Ke>>2]=a[o>>2];a[Ke+4>>2]=a[o+4>>2];a[Ke+8>>2]=a[o+8>>2];He=0;while(1){if((He|0)==3)break;a[o+(He<<2)>>2]=0;He=He+1|0}Er(o);Er(s);Er(l);at=Ge}else at=e;Ue=at;break e;break}default:{Ue=e;break e}}break}case 99:{switch(r[Le+1>>0]|0){case 99:{if((((((De|0)>2?(r[e>>0]|0)==99:0)?(r[e+1>>0]|0)==99:0)?(He=e+2|0,Ke=Tr(He,t,n)|0,(Ke|0)!=(He|0)):0)?(He=Et(Ke,t,n)|0,(He|0)!=(Ke|0)):0)?(Ke=n+4|0,Be=a[Ke>>2]|0,((Be-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){xt(o,Be+-24|0);Be=a[Ke>>2]|0;ze=Be+-24|0;Ve=Be;while(1){if((Ve|0)==(ze|0))break;Qe=Ve+-24|0;a[Ke>>2]=Qe;mr(Qe);Ve=a[Ke>>2]|0}Ke=Be+-48|0;xt(p,Ke);Ve=xr(p,0,4784)|0;a[d>>2]=a[Ve>>2];a[d+4>>2]=a[Ve+4>>2];a[d+8>>2]=a[Ve+8>>2];ze=0;while(1){if((ze|0)==3)break;a[Ve+(ze<<2)>>2]=0;ze=ze+1|0}ze=Cr(d,4796)|0;a[c>>2]=a[ze>>2];a[c+4>>2]=a[ze+4>>2];a[c+8>>2]=a[ze+8>>2];Ve=0;while(1){if((Ve|0)==3)break;a[ze+(Ve<<2)>>2]=0;Ve=Ve+1|0}Ve=r[o>>0]|0;ze=(Ve&1)==0;Be=gr(c,ze?o+1|0:a[o+8>>2]|0,ze?(Ve&255)>>>1:a[o+4>>2]|0)|0;a[u>>2]=a[Be>>2];a[u+4>>2]=a[Be+4>>2];a[u+8>>2]=a[Be+8>>2];Ve=0;while(1){if((Ve|0)==3)break;a[Be+(Ve<<2)>>2]=0;Ve=Ve+1|0}Ve=Cr(u,3499)|0;a[l>>2]=a[Ve>>2];a[l+4>>2]=a[Ve+4>>2];a[l+8>>2]=a[Ve+8>>2];Be=0;while(1){if((Be|0)==3)break;a[Ve+(Be<<2)>>2]=0;Be=Be+1|0}Mt(s,l);Rt(Ke,s);mr(s);Er(l);Er(u);Er(c);Er(d);Er(p);Er(o);ot=He}else ot=e;Ue=ot;break e;break}case 108:{t:do{if((((Fe?(r[e>>0]|0)==99:0)?(r[e+1>>0]|0)==108:0)?(Be=e+2|0,Ve=Et(Be,t,n)|0,!((Ve|0)==(Be|0)|(Ve|0)==(t|0))):0)?(Be=n+4|0,ze=a[Be>>2]|0,(a[n>>2]|0)!=(ze|0)):0){Ge=ze+-12|0;Qe=r[Ge>>0]|0;Ze=(Qe&1)==0;gr(ze+-24|0,Ze?Ge+1|0:a[ze+-4>>2]|0,Ze?(Qe&255)>>>1:a[ze+-8>>2]|0)|0;ze=a[Be>>2]|0;Qe=0;while(1){if((Qe|0)==3)break;a[o+(Qe<<2)>>2]=0;Qe=Qe+1|0}Qe=ze+-12|0;do{if(r[Qe>>0]&1){Ze=ze+-4|0;r[a[Ze>>2]>>0]=0;Ge=ze+-8|0;a[Ge>>2]=0;st=r[Qe>>0]|0;if(!(st&1)){lt=st;ut=10}else{st=a[Qe>>2]|0;lt=st&255;ut=(st&-2)+-1|0}if(!(lt&1)){st=(lt&255)>>>1;if((lt&255)<22){ct=1;ft=10;dt=st}else{ct=1;ft=(st+16&240)+-1|0;dt=st}}else{ct=0;ft=10;dt=0}if((ft|0)!=(ut|0)){if((ft|0)==10){st=Qe+1|0;pt=a[Ze>>2]|0;if(ct){Qi(st|0,pt|0,((lt&255)>>>1)+1|0)|0;Li(pt)}else{r[st>>0]=r[pt>>0]|0;Li(pt)}r[Qe>>0]=dt<<1;break}pt=ft+1|0;st=ji(pt)|0;if(!(ft>>>0<=ut>>>0&(st|0)==0)){if(ct)Qi(st|0,Qe+1|0,((lt&255)>>>1)+1|0)|0;else{ht=a[Ze>>2]|0;r[st>>0]=r[ht>>0]|0;Li(ht)}a[Qe>>2]=pt|1;a[Ge>>2]=dt;a[Ze>>2]=st}}}else{r[Qe+1>>0]=0;r[Qe>>0]=0}}while(0);a[Qe>>2]=a[o>>2];a[Qe+4>>2]=a[o+4>>2];a[Qe+8>>2]=a[o+8>>2];ze=0;while(1){if((ze|0)==3)break;a[o+(ze<<2)>>2]=0;ze=ze+1|0}Er(o);Cr((a[Be>>2]|0)+-24|0,3594)|0;ze=s+4|0;Qe=s+8|0;st=s+1|0;Ze=Ve;while(1){if((r[Ze>>0]|0)==69){yt=Ze;break}Ge=Et(Ze,t,n)|0;if((Ge|0)==(Ze|0)|(Ge|0)==(t|0)){mt=e;break t}pt=a[Be>>2]|0;if((a[n>>2]|0)==(pt|0)){mt=e;break t}xt(s,pt+-24|0);pt=a[Be>>2]|0;ht=pt+-24|0;_t=pt;while(1){if((_t|0)==(ht|0))break;gt=_t+-24|0;a[Be>>2]=gt;mr(gt);_t=a[Be>>2]|0}_t=r[s>>0]|0;gt=(_t&1)==0;bt=gt?(_t&255)>>>1:a[ze>>2]|0;if(bt){if((a[n>>2]|0)==(ht|0)){vt=147;break}gr(pt+-48|0,gt?st:a[Qe>>2]|0,bt)|0}Er(s);Ze=Ge}if((vt|0)==147){Er(s);mt=e;break}Ze=a[Be>>2]|0;if((a[n>>2]|0)!=(Ze|0)){Cr(Ze+-24|0,3499)|0;mt=yt+1|0}else mt=e}else mt=e}while(0);Ue=mt;break e;break}case 109:{He=e+2|0;Ur(E,4799,1);Ke=Jr(He,t,E,n)|0;Er(E);Ue=(Ke|0)==(He|0)?e:Ke;break e;break}case 111:{Ke=e+2|0;Ur(A,3808,1);He=Qr(Ke,t,A,n)|0;Er(A);Ue=(He|0)==(Ke|0)?e:He;break e;break}case 118:{t:do{if((((De|0)>2?(r[e>>0]|0)==99:0)?(r[e+1>>0]|0)==118:0)?(He=n+63|0,Ke=r[He>>0]|0,r[He>>0]=0,Ze=e+2|0,Qe=Tr(Ze,t,n)|0,r[He>>0]=Ke,!((Qe|0)==(Ze|0)|(Qe|0)==(t|0))):0){if((r[Qe>>0]|0)!=95){Ze=Et(Qe,t,n)|0;if((Ze|0)==(Qe|0)){wt=e;break}else kt=Ze}else{Ze=Qe+1|0;if((Ze|0)==(t|0)){wt=e;break}Qe=r[Ze>>0]|0;n:do{if(Qe<<24>>24==69){Ke=n+4|0;He=a[Ke>>2]|0;st=a[n+8>>2]|0;ze=st;if(He>>>0<st>>>0){a[He>>2]=0;a[He+4>>2]=0;a[He+8>>2]=0;a[He+12>>2]=0;a[He+16>>2]=0;a[He+20>>2]=0;st=0;while(1){if((st|0)==3)break;a[He+(st<<2)>>2]=0;st=st+1|0}st=He+12|0;Ge=0;while(1){if((Ge|0)==3)break;a[st+(Ge<<2)>>2]=0;Ge=Ge+1|0}a[Ke>>2]=(a[Ke>>2]|0)+24;St=Ze;break}Ge=a[n>>2]|0;st=He-Ge|0;pt=(st|0)/24|0;ht=pt+1|0;if((st|0)<-24)Or(n);st=(ze-Ge|0)/24|0;if(st>>>0<1073741823){Ge=st<<1;It=Ge>>>0<ht>>>0?ht:Ge}else It=2147483647;Fr(o,It,pt,n+12|0);pt=o+8|0;Ge=a[pt>>2]|0;a[Ge>>2]=0;a[Ge+4>>2]=0;a[Ge+8>>2]=0;a[Ge+12>>2]=0;a[Ge+16>>2]=0;a[Ge+20>>2]=0;ht=0;while(1){if((ht|0)==3)break;a[Ge+(ht<<2)>>2]=0;ht=ht+1|0}ht=Ge+12|0;ze=0;while(1){if((ze|0)==3)break;a[ht+(ze<<2)>>2]=0;ze=ze+1|0}a[pt>>2]=Ge+24;jr(n,o);Br(o);St=Ze}else{ze=Qe;ht=Ze;while(1){if(ze<<24>>24==69){St=ht;break n}He=Et(ht,t,n)|0;Ke=(He|0)==(ht|0)|(He|0)==(t|0);if(Ke){wt=e;break t}ze=r[(Ke?ht:He)>>0]|0;ht=He}}}while(0);kt=St+1|0}Ze=n+4|0;Qe=a[Ze>>2]|0;if(((Qe-(a[n>>2]|0)|0)/24|0)>>>0>=2){xt(o,Qe+-24|0);Qe=a[Ze>>2]|0;Be=Qe+-24|0;ht=Qe;while(1){if((ht|0)==(Be|0))break;ze=ht+-24|0;a[Ze>>2]=ze;mr(ze);ht=a[Ze>>2]|0}Ze=Qe+-48|0;xt(p,Ze);ht=xr(p,0,3594)|0;a[d>>2]=a[ht>>2];a[d+4>>2]=a[ht+4>>2];a[d+8>>2]=a[ht+8>>2];Be=0;while(1){if((Be|0)==3)break;a[ht+(Be<<2)>>2]=0;Be=Be+1|0}Be=Cr(d,4801)|0;a[c>>2]=a[Be>>2];a[c+4>>2]=a[Be+4>>2];a[c+8>>2]=a[Be+8>>2];ht=0;while(1){if((ht|0)==3)break;a[Be+(ht<<2)>>2]=0;ht=ht+1|0}ht=r[o>>0]|0;Be=(ht&1)==0;Qe=gr(c,Be?o+1|0:a[o+8>>2]|0,Be?(ht&255)>>>1:a[o+4>>2]|0)|0;a[u>>2]=a[Qe>>2];a[u+4>>2]=a[Qe+4>>2];a[u+8>>2]=a[Qe+8>>2];ht=0;while(1){if((ht|0)==3)break;a[Qe+(ht<<2)>>2]=0;ht=ht+1|0}ht=Cr(u,3499)|0;a[l>>2]=a[ht>>2];a[l+4>>2]=a[ht+4>>2];a[l+8>>2]=a[ht+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[ht+(Qe<<2)>>2]=0;Qe=Qe+1|0}Mt(s,l);Rt(Ze,s);mr(s);Er(l);Er(u);Er(c);Er(d);Er(p);Er(o);wt=kt}else wt=e}else wt=e}while(0);Ue=wt;break e;break}default:{Ue=e;break e}}break}case 100:{switch(r[Le+1>>0]|0){case 97:{Qe=Le+2|0;ht=Et(Qe,t,n)|0;if((ht|0)==(Qe|0)){Ue=e;break e}Qe=n+4|0;Be=a[Qe>>2]|0;if((a[n>>2]|0)==(Be|0)){Ue=e;break e}ze=Be+-24|0;t:do{if(je)Ur(T,3782,2);else{Ge=0;while(1){if((Ge|0)==3)break t;a[T+(Ge<<2)>>2]=0;Ge=Ge+1|0}}}while(0);Ge=Cr(T,4804)|0;a[C>>2]=a[Ge>>2];a[C+4>>2]=a[Ge+4>>2];a[C+8>>2]=a[Ge+8>>2];Ze=0;while(1){if((Ze|0)==3)break;a[Ge+(Ze<<2)>>2]=0;Ze=Ze+1|0}
xt(P,(a[Qe>>2]|0)+-24|0);Ze=r[P>>0]|0;Ge=(Ze&1)==0;pt=gr(C,Ge?P+1|0:a[P+8>>2]|0,Ge?(Ze&255)>>>1:a[P+4>>2]|0)|0;a[x>>2]=a[pt>>2];a[x+4>>2]=a[pt+4>>2];a[x+8>>2]=a[pt+8>>2];Ze=0;while(1){if((Ze|0)==3)break;a[pt+(Ze<<2)>>2]=0;Ze=Ze+1|0}do{if(r[ze>>0]&1){Ze=Be+-16|0;r[a[Ze>>2]>>0]=0;pt=Be+-20|0;a[pt>>2]=0;Qe=r[ze>>0]|0;if(!(Qe&1)){Ct=Qe;Pt=10}else{Qe=a[ze>>2]|0;Ct=Qe&255;Pt=(Qe&-2)+-1|0}if(!(Ct&1)){Qe=(Ct&255)>>>1;if((Ct&255)<22){Ot=1;Nt=10;Dt=Qe}else{Ot=1;Nt=(Qe+16&240)+-1|0;Dt=Qe}}else{Ot=0;Nt=10;Dt=0}if((Nt|0)!=(Pt|0)){if((Nt|0)==10){Qe=ze+1|0;Ge=a[Ze>>2]|0;if(Ot){Qi(Qe|0,Ge|0,((Ct&255)>>>1)+1|0)|0;Li(Ge)}else{r[Qe>>0]=r[Ge>>0]|0;Li(Ge)}r[ze>>0]=Dt<<1;break}Ge=Nt+1|0;Qe=ji(Ge)|0;if(!(Nt>>>0<=Pt>>>0&(Qe|0)==0)){if(Ot)Qi(Qe|0,ze+1|0,((Ct&255)>>>1)+1|0)|0;else{He=a[Ze>>2]|0;r[Qe>>0]=r[He>>0]|0;Li(He)}a[ze>>2]=Ge|1;a[pt>>2]=Dt;a[Ze>>2]=Qe}}}else{r[ze+1>>0]=0;r[ze>>0]=0}}while(0);a[ze>>2]=a[x>>2];a[ze+4>>2]=a[x+4>>2];a[ze+8>>2]=a[x+8>>2];Be=0;while(1){if((Be|0)==3)break;a[x+(Be<<2)>>2]=0;Be=Be+1|0}Er(x);Er(P);Er(C);Er(T);Ue=ht;break e;break}case 99:{if((((((De|0)>2?(r[e>>0]|0)==100:0)?(r[e+1>>0]|0)==99:0)?(Be=e+2|0,ze=Tr(Be,t,n)|0,(ze|0)!=(Be|0)):0)?(Be=Et(ze,t,n)|0,(Be|0)!=(ze|0)):0)?(ze=n+4|0,Qe=a[ze>>2]|0,((Qe-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){xt(o,Qe+-24|0);Qe=a[ze>>2]|0;Ze=Qe+-24|0;pt=Qe;while(1){if((pt|0)==(Ze|0))break;Ge=pt+-24|0;a[ze>>2]=Ge;mr(Ge);pt=a[ze>>2]|0}ze=Qe+-48|0;xt(p,ze);pt=xr(p,0,4814)|0;a[d>>2]=a[pt>>2];a[d+4>>2]=a[pt+4>>2];a[d+8>>2]=a[pt+8>>2];Ze=0;while(1){if((Ze|0)==3)break;a[pt+(Ze<<2)>>2]=0;Ze=Ze+1|0}Ze=Cr(d,4796)|0;a[c>>2]=a[Ze>>2];a[c+4>>2]=a[Ze+4>>2];a[c+8>>2]=a[Ze+8>>2];pt=0;while(1){if((pt|0)==3)break;a[Ze+(pt<<2)>>2]=0;pt=pt+1|0}pt=r[o>>0]|0;Ze=(pt&1)==0;Qe=gr(c,Ze?o+1|0:a[o+8>>2]|0,Ze?(pt&255)>>>1:a[o+4>>2]|0)|0;a[u>>2]=a[Qe>>2];a[u+4>>2]=a[Qe+4>>2];a[u+8>>2]=a[Qe+8>>2];pt=0;while(1){if((pt|0)==3)break;a[Qe+(pt<<2)>>2]=0;pt=pt+1|0}pt=Cr(u,3499)|0;a[l>>2]=a[pt>>2];a[l+4>>2]=a[pt+4>>2];a[l+8>>2]=a[pt+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[pt+(Qe<<2)>>2]=0;Qe=Qe+1|0}Mt(s,l);Rt(ze,s);mr(s);Er(l);Er(u);Er(c);Er(d);Er(p);Er(o);Ft=Be}else Ft=e;Ue=Ft;break e;break}case 101:{Qe=e+2|0;Ur(O,3639,1);pt=Qr(Qe,t,O,n)|0;Er(O);Ue=(pt|0)==(Qe|0)?e:pt;break e;break}case 108:{pt=Le+2|0;Qe=Et(pt,t,n)|0;if((Qe|0)==(pt|0)){Ue=e;break e}pt=n+4|0;Ze=a[pt>>2]|0;if((a[n>>2]|0)==(Ze|0)){Ue=e;break e}ht=Ze+-24|0;t:do{if(je)Ur(R,3782,2);else{Ge=0;while(1){if((Ge|0)==3)break t;a[R+(Ge<<2)>>2]=0;Ge=Ge+1|0}}}while(0);Be=Cr(R,4828)|0;a[M>>2]=a[Be>>2];a[M+4>>2]=a[Be+4>>2];a[M+8>>2]=a[Be+8>>2];ze=0;while(1){if((ze|0)==3)break;a[Be+(ze<<2)>>2]=0;ze=ze+1|0}xt(D,(a[pt>>2]|0)+-24|0);ze=r[D>>0]|0;Be=(ze&1)==0;Ge=gr(M,Be?D+1|0:a[D+8>>2]|0,Be?(ze&255)>>>1:a[D+4>>2]|0)|0;a[N>>2]=a[Ge>>2];a[N+4>>2]=a[Ge+4>>2];a[N+8>>2]=a[Ge+8>>2];ze=0;while(1){if((ze|0)==3)break;a[Ge+(ze<<2)>>2]=0;ze=ze+1|0}do{if(r[ht>>0]&1){ze=Ze+-16|0;r[a[ze>>2]>>0]=0;Ge=Ze+-20|0;a[Ge>>2]=0;pt=r[ht>>0]|0;if(!(pt&1)){Bt=pt;Lt=10}else{pt=a[ht>>2]|0;Bt=pt&255;Lt=(pt&-2)+-1|0}if(!(Bt&1)){pt=(Bt&255)>>>1;if((Bt&255)<22){Ut=1;Ht=10;Gt=pt}else{Ut=1;Ht=(pt+16&240)+-1|0;Gt=pt}}else{Ut=0;Ht=10;Gt=0}if((Ht|0)!=(Lt|0)){if((Ht|0)==10){pt=ht+1|0;Be=a[ze>>2]|0;if(Ut){Qi(pt|0,Be|0,((Bt&255)>>>1)+1|0)|0;Li(Be)}else{r[pt>>0]=r[Be>>0]|0;Li(Be)}r[ht>>0]=Gt<<1;break}Be=Ht+1|0;pt=ji(Be)|0;if(!(Ht>>>0<=Lt>>>0&(pt|0)==0)){if(Ut)Qi(pt|0,ht+1|0,((Bt&255)>>>1)+1|0)|0;else{He=a[ze>>2]|0;r[pt>>0]=r[He>>0]|0;Li(He)}a[ht>>2]=Be|1;a[Ge>>2]=Gt;a[ze>>2]=pt}}}else{r[ht+1>>0]=0;r[ht>>0]=0}}while(0);a[ht>>2]=a[N>>2];a[ht+4>>2]=a[N+4>>2];a[ht+8>>2]=a[N+8>>2];Ze=0;while(1){if((Ze|0)==3)break;a[N+(Ze<<2)>>2]=0;Ze=Ze+1|0}Er(N);Er(D);Er(M);Er(R);Ue=Qe;break e;break}case 110:{Ue=Zr(e,t,n)|0;break e;break}case 115:{if((((((De|0)>2?(r[e>>0]|0)==100:0)?(r[e+1>>0]|0)==115:0)?(Ze=e+2|0,ht=Et(Ze,t,n)|0,(ht|0)!=(Ze|0)):0)?(Ze=Et(ht,t,n)|0,(Ze|0)!=(ht|0)):0)?(ht=n+4|0,pt=a[ht>>2]|0,((pt-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){xt(o,pt+-24|0);pt=a[ht>>2]|0;ze=pt+-24|0;Ge=pt;while(1){if((Ge|0)==(ze|0))break;Be=Ge+-24|0;a[ht>>2]=Be;mr(Be);Ge=a[ht>>2]|0}jt(s,4836,o);ht=r[s>>0]|0;Ge=(ht&1)==0;gr(pt+-48|0,Ge?s+1|0:a[s+8>>2]|0,Ge?(ht&255)>>>1:a[s+4>>2]|0)|0;Er(s);Er(o);zt=Ze}else zt=e;Ue=zt;break e;break}case 116:{if((((((De|0)>2?(r[e>>0]|0)==100:0)?(r[e+1>>0]|0)==116:0)?(ht=e+2|0,Ge=Et(ht,t,n)|0,(Ge|0)!=(ht|0)):0)?(ht=Zr(Ge,t,n)|0,(ht|0)!=(Ge|0)):0)?(Ge=n+4|0,ze=a[Ge>>2]|0,((ze-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){xt(o,ze+-24|0);ze=a[Ge>>2]|0;Qe=ze+-24|0;Be=ze;while(1){if((Be|0)==(Qe|0))break;He=Be+-24|0;a[Ge>>2]=He;mr(He);Be=a[Ge>>2]|0}jt(s,9018,o);Ge=r[s>>0]|0;Be=(Ge&1)==0;gr(ze+-48|0,Be?s+1|0:a[s+8>>2]|0,Be?(Ge&255)>>>1:a[s+4>>2]|0)|0;Er(s);Er(o);Vt=ht}else Vt=e;Ue=Vt;break e;break}case 118:{Ge=e+2|0;Ur(F,4839,1);Be=Jr(Ge,t,F,n)|0;Er(F);Ue=(Be|0)==(Ge|0)?e:Be;break e;break}case 86:{Be=e+2|0;Ur(B,4841,2);Ge=Jr(Be,t,B,n)|0;Er(B);Ue=(Ge|0)==(Be|0)?e:Ge;break e;break}default:{Ue=e;break e}}break}case 101:{switch(r[Le+1>>0]|0){case 111:{Ge=e+2|0;Ur(j,4844,1);Be=Jr(Ge,t,j,n)|0;Er(j);Ue=(Be|0)==(Ge|0)?e:Be;break e;break}case 79:{Be=e+2|0;Ur(L,4846,2);Ge=Jr(Be,t,L,n)|0;Er(L);Ue=(Ge|0)==(Be|0)?e:Ge;break e;break}case 113:{Ge=e+2|0;Ur(U,4849,2);Be=Jr(Ge,t,U,n)|0;Er(U);Ue=(Be|0)==(Ge|0)?e:Be;break e;break}default:{Ue=e;break e}}break}case 103:{switch(r[Le+1>>0]|0){case 101:{Be=e+2|0;Ur(H,4852,2);Ge=Jr(Be,t,H,n)|0;Er(H);Ue=(Ge|0)==(Be|0)?e:Ge;break e;break}case 116:{Ge=e+2|0;Ur(G,3658,1);Be=Jr(Ge,t,G,n)|0;Er(G);Ue=(Be|0)==(Ge|0)?e:Be;break e;break}default:{Ue=e;break e}}break}case 105:{if((r[Le+1>>0]|0)!=120){Ue=e;break e}Be=e+2|0;Ge=Et(Be,t,n)|0;if((Ge|0)==(Be|0)){Ue=e;break e}Be=Et(Ge,t,n)|0;Qe=n+4|0;if((Be|0)==(Ge|0)){Ge=a[Qe>>2]|0;Ze=Ge+-24|0;pt=Ge;while(1){if((pt|0)==(Ze|0)){Ue=e;break e}Ge=pt+-24|0;a[Qe>>2]=Ge;mr(Ge);pt=a[Qe>>2]|0}}pt=a[Qe>>2]|0;if(((pt-(a[n>>2]|0)|0)/24|0)>>>0<2){Ue=e;break e}xt(o,pt+-24|0);pt=a[Qe>>2]|0;Ze=pt+-24|0;ht=pt;while(1){if((ht|0)==(Ze|0))break;ze=ht+-24|0;a[Qe>>2]=ze;mr(ze);ht=a[Qe>>2]|0}xt(s,pt+-48|0);ht=(a[Qe>>2]|0)+-24|0;jt(q,3594,s);Ze=Cr(q,4855)|0;a[W>>2]=a[Ze>>2];a[W+4>>2]=a[Ze+4>>2];a[W+8>>2]=a[Ze+8>>2];ze=0;while(1){if((ze|0)==3)break;a[Ze+(ze<<2)>>2]=0;ze=ze+1|0}ze=r[o>>0]|0;Ze=(ze&1)==0;Qe=gr(W,Ze?o+1|0:a[o+8>>2]|0,Ze?(ze&255)>>>1:a[o+4>>2]|0)|0;a[K>>2]=a[Qe>>2];a[K+4>>2]=a[Qe+4>>2];a[K+8>>2]=a[Qe+8>>2];ze=0;while(1){if((ze|0)==3)break;a[Qe+(ze<<2)>>2]=0;ze=ze+1|0}ze=Cr(K,3583)|0;a[V>>2]=a[ze>>2];a[V+4>>2]=a[ze+4>>2];a[V+8>>2]=a[ze+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[ze+(Qe<<2)>>2]=0;Qe=Qe+1|0}Mt(z,V);Rt(ht,z);mr(z);Er(V);Er(K);Er(W);Er(q);Er(s);Er(o);Ue=Be;break e;break}case 108:{switch(r[Le+1>>0]|0){case 101:{Qe=e+2|0;Ur(X,4858,2);ze=Jr(Qe,t,X,n)|0;Er(X);Ue=(ze|0)==(Qe|0)?e:ze;break e;break}case 115:{ze=e+2|0;Ur(Y,4861,2);Qe=Jr(ze,t,Y,n)|0;Er(Y);Ue=(Qe|0)==(ze|0)?e:Qe;break e;break}case 83:{Qe=e+2|0;Ur(J,4864,3);ze=Jr(Qe,t,J,n)|0;Er(J);Ue=(ze|0)==(Qe|0)?e:ze;break e;break}case 116:{ze=e+2|0;Ur(Q,3656,1);Qe=Jr(ze,t,Q,n)|0;Er(Q);Ue=(Qe|0)==(ze|0)?e:Qe;break e;break}default:{Ue=e;break e}}break}case 109:{switch(r[Le+1>>0]|0){case 105:{Qe=e+2|0;Ur(Z,4868,1);ze=Jr(Qe,t,Z,n)|0;Er(Z);Ue=(ze|0)==(Qe|0)?e:ze;break e;break}case 73:{ze=e+2|0;Ur($,4870,2);Qe=Jr(ze,t,$,n)|0;Er($);Ue=(Qe|0)==(ze|0)?e:Qe;break e;break}case 108:{Qe=e+2|0;Ur(ee,3639,1);ze=Jr(Qe,t,ee,n)|0;Er(ee);Ue=(ze|0)==(Qe|0)?e:ze;break e;break}case 76:{ze=e+2|0;Ur(te,4873,2);Qe=Jr(ze,t,te,n)|0;Er(te);Ue=(Qe|0)==(ze|0)?e:Qe;break e;break}case 109:{Qe=e+2|0;if((Qe|0)!=(t|0)?(r[Qe>>0]|0)==95:0){ze=e+3|0;Ur(ne,4876,2);Ze=Qr(ze,t,ne,n)|0;Er(ne);Ue=(Ze|0)==(ze|0)?e:Ze;break e}Ze=Et(Qe,t,n)|0;if((Ze|0)==(Qe|0)){Ue=e;break e}Qe=a[n+4>>2]|0;if((a[n>>2]|0)==(Qe|0)){Ue=e;break e}ze=Qe+-24|0;xt(oe,ze);Qe=xr(oe,0,3594)|0;a[ae>>2]=a[Qe>>2];a[ae+4>>2]=a[Qe+4>>2];a[ae+8>>2]=a[Qe+8>>2];pt=0;while(1){if((pt|0)==3)break;a[Qe+(pt<<2)>>2]=0;pt=pt+1|0}pt=Cr(ae,4879)|0;a[ie>>2]=a[pt>>2];a[ie+4>>2]=a[pt+4>>2];a[ie+8>>2]=a[pt+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[pt+(Qe<<2)>>2]=0;Qe=Qe+1|0}Mt(re,ie);Rt(ze,re);mr(re);Er(ie);Er(ae);Er(oe);Ue=Ze;break e;break}default:{Ue=e;break e}}break}
case 110:{switch(r[Le+1>>0]|0){case 119:case 97:{t:do{if(Fe){Qe=r[e>>0]|0;if(Qe<<24>>24==103){pt=(r[e+1>>0]|0)==115;Be=pt?e+2|0:e;Wt=r[Be>>0]|0;qt=pt;Xt=Be}else{Wt=Qe;qt=0;Xt=e}if(Wt<<24>>24==110){Qe=r[Xt+1>>0]|0;switch(Qe<<24>>24){case 97:case 119:break;default:{Yt=e;break t}}Be=Qe<<24>>24==97;Qe=Xt+2|0;n:do{if((Qe|0)!=(t|0)){pt=0;ht=Qe;while(1){if((r[ht>>0]|0)==95){Jt=pt;Qt=ht;break}Ge=ht;ht=Et(ht,t,n)|0;He=(ht|0)==(Ge|0);Ge=(ht|0)==(t|0);if(He|Ge)break n;else pt=pt|(He|Ge)^1}pt=Qt+1|0;ht=Tr(pt,t,n)|0;if(!((ht|0)==(pt|0)|(ht|0)==(t|0))){pt=r[ht>>0]|0;r:do{if(!((Re-ht|0)>2&pt<<24>>24==112)){if(pt<<24>>24==69){Zt=0;$t=ht}else break n}else{if((r[ht+1>>0]|0)!=105)break n;Ge=ht+2|0;while(1){if((r[Ge>>0]|0)==69){Zt=1;$t=Ge;break r}He=Ge;Ge=Et(Ge,t,n)|0;if((Ge|0)==(He|0)|(Ge|0)==(t|0))break n}}}while(0);ht=0;while(1){if((ht|0)==3)break;a[s+(ht<<2)>>2]=0;ht=ht+1|0}r:do{if(Zt){ht=n+4|0;pt=a[ht>>2]|0;if((a[n>>2]|0)==(pt|0)){en=e;tn=1}else{xt(l,pt+-24|0);i:do{if(!(r[s>>0]&1)){r[s+1>>0]=0;r[s>>0]=0}else{pt=s+8|0;Ge=a[pt>>2]|0;r[Ge>>0]=0;He=s+4|0;a[He>>2]=0;Ke=a[s>>2]|0;st=(Ke&-2)+-1|0;Ve=Ke&255;do{if(!(Ve&1)){bt=Ke>>>1&127;if((Ve&255)<22){Qi(s+1|0,Ge|0,(Ke>>>1&127)+1|0)|0;Li(Ge);nn=bt;break}gt=bt+16&240;_t=gt+-1|0;if((_t|0)==(st|0))break i;rn=ji(gt)|0;if(_t>>>0<=st>>>0&(rn|0)==0)break i;Qi(rn|0,s+1|0,(Ke>>>1&127)+1|0)|0;a[s>>2]=gt|1;a[He>>2]=bt;a[pt>>2]=rn;break i}else{r[s+1>>0]=0;Li(Ge);nn=0}}while(0);r[s>>0]=nn<<1}}while(0);a[s>>2]=a[l>>2];a[s+4>>2]=a[l+4>>2];a[s+8>>2]=a[l+8>>2];Ge=0;while(1){if((Ge|0)==3)break;a[l+(Ge<<2)>>2]=0;Ge=Ge+1|0}Er(l);Ge=a[ht>>2]|0;pt=Ge+-24|0;He=Ge;while(1){if((He|0)==(pt|0)){an=ht;on=n;sn=pt;vt=409;break r}Ge=He+-24|0;a[ht>>2]=Ge;mr(Ge);He=a[ht>>2]|0}}}else{ht=n+4|0;an=ht;on=n;sn=a[ht>>2]|0;vt=409}}while(0);if((vt|0)==409)if((a[on>>2]|0)==(sn|0)){en=e;tn=1}else{xt(u,sn+-24|0);ht=a[an>>2]|0;He=ht+-24|0;pt=ht;while(1){if((pt|0)==(He|0))break;Ge=pt+-24|0;a[an>>2]=Ge;mr(Ge);pt=a[an>>2]|0}pt=0;while(1){if((pt|0)==3)break;a[c+(pt<<2)>>2]=0;pt=pt+1|0}r:do{if(Jt){if((a[on>>2]|0)==(He|0)){ln=e;un=1}else{xt(d,ht+-48|0);i:do{if(!(r[c>>0]&1)){r[c+1>>0]=0;r[c>>0]=0}else{pt=c+8|0;Ge=a[pt>>2]|0;r[Ge>>0]=0;Ke=c+4|0;a[Ke>>2]=0;st=a[c>>2]|0;Ve=(st&-2)+-1|0;rn=st&255;do{if(!(rn&1)){bt=st>>>1&127;if((rn&255)<22){Qi(c+1|0,Ge|0,(st>>>1&127)+1|0)|0;Li(Ge);cn=bt;break}gt=bt+16&240;_t=gt+-1|0;if((_t|0)==(Ve|0))break i;fn=ji(gt)|0;if(_t>>>0<=Ve>>>0&(fn|0)==0)break i;Qi(fn|0,c+1|0,(st>>>1&127)+1|0)|0;a[c>>2]=gt|1;a[Ke>>2]=bt;a[pt>>2]=fn;break i}else{r[c+1>>0]=0;Li(Ge);cn=0}}while(0);r[c>>0]=cn<<1}}while(0);a[c>>2]=a[d>>2];a[c+4>>2]=a[d+4>>2];a[c+8>>2]=a[d+8>>2];Ge=0;while(1){if((Ge|0)==3)break;a[d+(Ge<<2)>>2]=0;Ge=Ge+1|0}Er(d);Ge=a[an>>2]|0;pt=Ge+-24|0;Ke=Ge;while(1){if((Ke|0)==(pt|0)){vt=434;break r}Ge=Ke+-24|0;a[an>>2]=Ge;mr(Ge);Ke=a[an>>2]|0}}}else vt=434}while(0);if((vt|0)==434){ht=0;while(1){if((ht|0)==3)break;a[p+(ht<<2)>>2]=0;ht=ht+1|0}if(qt)Kt(p,3782,2);if(Be)Cr(p,4883)|0;else Cr(p,3606)|0;if(Jt){jt(y,3594,c);ht=Cr(y,4887)|0;a[h>>2]=a[ht>>2];a[h+4>>2]=a[ht+4>>2];a[h+8>>2]=a[ht+8>>2];He=0;while(1){if((He|0)==3)break;a[ht+(He<<2)>>2]=0;He=He+1|0}He=r[h>>0]|0;ht=(He&1)==0;gr(p,ht?h+1|0:a[h+8>>2]|0,ht?(He&255)>>>1:a[h+4>>2]|0)|0;Er(h);Er(y)}He=r[u>>0]|0;ht=(He&1)==0;gr(p,ht?u+1|0:a[u+8>>2]|0,ht?(He&255)>>>1:a[u+4>>2]|0)|0;if(Zt){jt(_,3496,s);He=Cr(_,3499)|0;a[m>>2]=a[He>>2];a[m+4>>2]=a[He+4>>2];a[m+8>>2]=a[He+8>>2];ht=0;while(1){if((ht|0)==3)break;a[He+(ht<<2)>>2]=0;ht=ht+1|0}ht=r[m>>0]|0;He=(ht&1)==0;gr(p,He?m+1|0:a[m+8>>2]|0,He?(ht&255)>>>1:a[m+4>>2]|0)|0;Er(m);Er(_)}a[b>>2]=a[p>>2];a[b+4>>2]=a[p+4>>2];a[b+8>>2]=a[p+8>>2];ht=0;while(1){if((ht|0)==3)break;a[p+(ht<<2)>>2]=0;ht=ht+1|0}Mt(g,b);ht=a[an>>2]|0;He=a[n+8>>2]|0;Ke=He;if(ht>>>0<He>>>0){At(ht,g);a[an>>2]=(a[an>>2]|0)+24}else{He=a[n>>2]|0;pt=ht-He|0;ht=(pt|0)/24|0;Ge=ht+1|0;if((pt|0)<-24)Or(n);pt=(Ke-He|0)/24|0;if(pt>>>0<1073741823){He=pt<<1;dn=He>>>0<Ge>>>0?Ge:He}else dn=2147483647;Fr(o,dn,ht,n+12|0);ht=o+8|0;He=a[ht>>2]|0;At(He,g);a[ht>>2]=He+24;jr(n,o);Br(o)}mr(g);Er(b);Er(p);ln=$t+1|0;un=0}Er(c);Er(u);en=ln;tn=un}Er(s);if(!tn){Yt=en;break t}}}}while(0);Yt=e}else Yt=e}else Yt=e}while(0);Ue=Yt;break e;break}case 101:{Ze=e+2|0;Ur(se,4890,2);ze=Jr(Ze,t,se,n)|0;Er(se);Ue=(ze|0)==(Ze|0)?e:ze;break e;break}case 103:{ze=e+2|0;Ur(le,4868,1);Ze=Qr(ze,t,le,n)|0;Er(le);Ue=(Ze|0)==(ze|0)?e:Ze;break e;break}case 116:{Ze=e+2|0;Ur(ue,4893,1);ze=Qr(Ze,t,ue,n)|0;Er(ue);Ue=(ze|0)==(Ze|0)?e:ze;break e;break}case 120:{ze=e+2|0;Ze=Et(ze,t,n)|0;if((Ze|0)!=(ze|0)?(Be=a[n+4>>2]|0,(a[n>>2]|0)!=(Be|0)):0){Qe=Be+-24|0;xt(l,Qe);He=xr(l,0,4895)|0;a[s>>2]=a[He>>2];a[s+4>>2]=a[He+4>>2];a[s+8>>2]=a[He+8>>2];ht=0;while(1){if((ht|0)==3)break;a[He+(ht<<2)>>2]=0;ht=ht+1|0}ht=Cr(s,3499)|0;a[o>>2]=a[ht>>2];a[o+4>>2]=a[ht+4>>2];a[o+8>>2]=a[ht+8>>2];He=0;while(1){if((He|0)==3)break;a[ht+(He<<2)>>2]=0;He=He+1|0}do{if(r[Qe>>0]&1){He=Be+-16|0;r[a[He>>2]>>0]=0;ht=Be+-20|0;a[ht>>2]=0;Ge=r[Qe>>0]|0;if(!(Ge&1)){pn=Ge;hn=10}else{Ge=a[Qe>>2]|0;pn=Ge&255;hn=(Ge&-2)+-1|0}if(!(pn&1)){Ge=(pn&255)>>>1;if((pn&255)<22){yn=10;mn=Ge;_n=1}else{yn=(Ge+16&240)+-1|0;mn=Ge;_n=1}}else{yn=10;mn=0;_n=0}if((yn|0)!=(hn|0)){if((yn|0)==10){Ge=Qe+1|0;pt=a[He>>2]|0;if(_n){Qi(Ge|0,pt|0,((pn&255)>>>1)+1|0)|0;Li(pt)}else{r[Ge>>0]=r[pt>>0]|0;Li(pt)}r[Qe>>0]=mn<<1;break}pt=yn+1|0;Ge=ji(pt)|0;if(!(yn>>>0<=hn>>>0&(Ge|0)==0)){if(_n)Qi(Ge|0,Qe+1|0,((pn&255)>>>1)+1|0)|0;else{Ke=a[He>>2]|0;r[Ge>>0]=r[Ke>>0]|0;Li(Ke)}a[Qe>>2]=pt|1;a[ht>>2]=mn;a[He>>2]=Ge}}}else{r[Qe+1>>0]=0;r[Qe>>0]=0}}while(0);a[Qe>>2]=a[o>>2];a[Qe+4>>2]=a[o+4>>2];a[Qe+8>>2]=a[o+8>>2];Be=0;while(1){if((Be|0)==3)break;a[o+(Be<<2)>>2]=0;Be=Be+1|0}Er(o);Er(s);Er(l);gn=Ze}else gn=ze;Ue=(gn|0)==(ze|0)?e:gn;break e;break}default:{Ue=e;break e}}break}case 111:{switch(r[Le+1>>0]|0){case 110:{Ue=Zr(e,t,n)|0;break e;break}case 111:{Be=e+2|0;Ur(ce,4906,2);Qe=Jr(Be,t,ce,n)|0;Er(ce);Ue=(Qe|0)==(Be|0)?e:Qe;break e;break}case 114:{Qe=e+2|0;Ur(fe,4909,1);Be=Jr(Qe,t,fe,n)|0;Er(fe);Ue=(Be|0)==(Qe|0)?e:Be;break e;break}case 82:{Be=e+2|0;Ur(de,4911,2);Qe=Jr(Be,t,de,n)|0;Er(de);Ue=(Qe|0)==(Be|0)?e:Qe;break e;break}default:{Ue=e;break e}}break}case 112:{switch(r[Le+1>>0]|0){case 109:{Qe=e+2|0;Ur(pe,4914,3);Be=Jr(Qe,t,pe,n)|0;Er(pe);Ue=(Be|0)==(Qe|0)?e:Be;break e;break}case 108:{Be=e+2|0;Ur(he,4918,1);Qe=Jr(Be,t,he,n)|0;Er(he);Ue=(Qe|0)==(Be|0)?e:Qe;break e;break}case 76:{Qe=e+2|0;Ur(ye,4920,2);Be=Jr(Qe,t,ye,n)|0;Er(ye);Ue=(Be|0)==(Qe|0)?e:Be;break e;break}case 112:{Be=e+2|0;if((Be|0)!=(t|0)?(r[Be>>0]|0)==95:0){Qe=e+3|0;Ur(me,4923,2);Ge=Qr(Qe,t,me,n)|0;Er(me);Ue=(Ge|0)==(Qe|0)?e:Ge;break e}Ge=Et(Be,t,n)|0;if((Ge|0)==(Be|0)){Ue=e;break e}Be=a[n+4>>2]|0;if((a[n>>2]|0)==(Be|0)){Ue=e;break e}Qe=Be+-24|0;xt(ve,Qe);Be=xr(ve,0,3594)|0;a[be>>2]=a[Be>>2];a[be+4>>2]=a[Be+4>>2];a[be+8>>2]=a[Be+8>>2];He=0;while(1){if((He|0)==3)break;a[Be+(He<<2)>>2]=0;He=He+1|0}He=Cr(be,4926)|0;a[ge>>2]=a[He>>2];a[ge+4>>2]=a[He+4>>2];a[ge+8>>2]=a[He+8>>2];Be=0;while(1){if((Be|0)==3)break;a[He+(Be<<2)>>2]=0;Be=Be+1|0}Mt(_e,ge);Rt(Qe,_e);mr(_e);Er(ge);Er(be);Er(ve);Ue=Ge;break e;break}case 115:{Be=e+2|0;Ur(we,4918,1);He=Qr(Be,t,we,n)|0;Er(we);Ue=(He|0)==(Be|0)?e:He;break e;break}case 116:{if((De|0)<=2){Ue=e;break e}if((r[e>>0]|0)!=112){Ue=e;break e}if((r[e+1>>0]|0)!=116){Ue=e;break e}He=e+2|0;Be=Et(He,t,n)|0;if((Be|0)==(He|0)){Ue=e;break e}He=Et(Be,t,n)|0;if((He|0)==(Be|0)){Ue=e;break e}Be=n+4|0;ze=a[Be>>2]|0;if(((ze-(a[n>>2]|0)|0)/24|0)>>>0<2){Ue=e;break e}xt(o,ze+-24|0);ze=a[Be>>2]|0;Ze=ze+-24|0;ht=ze;while(1){if((ht|0)==(Ze|0))break;pt=ht+-24|0;a[Be>>2]=pt;mr(pt);ht=a[Be>>2]|0}Cr(ze+-48|0,4930)|0;ht=r[o>>0]|0;Ze=(ht&1)==0;gr((a[Be>>2]|0)+-24|0,Ze?o+1|0:a[o+8>>2]|0,Ze?(ht&255)>>>1:a[o+4>>2]|0)|0;Er(o);Ue=He;break e;break}default:{Ue=e;break e}}break}case 113:{if((r[Le+1>>0]|0)!=117){Ue=e;break e}ht=e+2|0;Ze=Et(ht,t,n)|0;if((Ze|0)==(ht|0)){Ue=e;break e}ht=Et(Ze,t,n)|0;if((ht|0)==(Ze|0)){Ze=n+4|0;Ge=a[Ze>>2]|0;Qe=Ge+-24|0;pt=Ge;while(1){if((pt|0)==(Qe|0)){Ue=e;break e}Ge=pt+-24|0;a[Ze>>2]=Ge;mr(Ge);pt=a[Ze>>2]|0}}Ze=Et(ht,t,n)|0;pt=n+4|0;if((Ze|0)==(ht|0)){
Qe=a[pt>>2]|0;He=Qe+-24|0;Be=Qe;while(1){if((Be|0)==(He|0))break;ze=Be+-24|0;a[pt>>2]=ze;mr(ze);Be=a[pt>>2]|0}Be=Qe+-48|0;ht=He;while(1){if((ht|0)==(Be|0)){Ue=e;break e}ze=ht+-24|0;a[pt>>2]=ze;mr(ze);ht=a[pt>>2]|0}}ht=a[pt>>2]|0;if(((ht-(a[n>>2]|0)|0)/24|0)>>>0<3){Ue=e;break e}xt(o,ht+-24|0);ht=a[pt>>2]|0;Be=ht+-24|0;He=ht;while(1){if((He|0)==(Be|0))break;Qe=He+-24|0;a[pt>>2]=Qe;mr(Qe);He=a[pt>>2]|0}xt(s,ht+-48|0);He=a[pt>>2]|0;Be=He+-24|0;Qe=He;while(1){if((Qe|0)==(Be|0))break;ze=Qe+-24|0;a[pt>>2]=ze;mr(ze);Qe=a[pt>>2]|0}xt(l,He+-48|0);Qe=(a[pt>>2]|0)+-24|0;jt(Ce,3594,l);Be=Cr(Ce,4933)|0;a[xe>>2]=a[Be>>2];a[xe+4>>2]=a[Be+4>>2];a[xe+8>>2]=a[Be+8>>2];ht=0;while(1){if((ht|0)==3)break;a[Be+(ht<<2)>>2]=0;ht=ht+1|0}ht=r[s>>0]|0;Be=(ht&1)==0;pt=gr(xe,Be?s+1|0:a[s+8>>2]|0,Be?(ht&255)>>>1:a[s+4>>2]|0)|0;a[Ae>>2]=a[pt>>2];a[Ae+4>>2]=a[pt+4>>2];a[Ae+8>>2]=a[pt+8>>2];ht=0;while(1){if((ht|0)==3)break;a[pt+(ht<<2)>>2]=0;ht=ht+1|0}ht=Cr(Ae,4939)|0;a[Ee>>2]=a[ht>>2];a[Ee+4>>2]=a[ht+4>>2];a[Ee+8>>2]=a[ht+8>>2];pt=0;while(1){if((pt|0)==3)break;a[ht+(pt<<2)>>2]=0;pt=pt+1|0}pt=r[o>>0]|0;ht=(pt&1)==0;Be=gr(Ee,ht?o+1|0:a[o+8>>2]|0,ht?(pt&255)>>>1:a[o+4>>2]|0)|0;a[Ie>>2]=a[Be>>2];a[Ie+4>>2]=a[Be+4>>2];a[Ie+8>>2]=a[Be+8>>2];pt=0;while(1){if((pt|0)==3)break;a[Be+(pt<<2)>>2]=0;pt=pt+1|0}pt=Cr(Ie,3499)|0;a[Se>>2]=a[pt>>2];a[Se+4>>2]=a[pt+4>>2];a[Se+8>>2]=a[pt+8>>2];Be=0;while(1){if((Be|0)==3)break;a[pt+(Be<<2)>>2]=0;Be=Be+1|0}Mt(ke,Se);Rt(Qe,ke);mr(ke);Er(Se);Er(Ie);Er(Ee);Er(Ae);Er(xe);Er(Ce);Er(l);Er(s);Er(o);Ue=Ze;break e;break}case 114:{switch(r[Le+1>>0]|0){case 99:{if((((((De|0)>2?(r[e>>0]|0)==114:0)?(r[e+1>>0]|0)==99:0)?(Be=e+2|0,pt=Tr(Be,t,n)|0,(pt|0)!=(Be|0)):0)?(Be=Et(pt,t,n)|0,(Be|0)!=(pt|0)):0)?(pt=n+4|0,ht=a[pt>>2]|0,((ht-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){xt(o,ht+-24|0);ht=a[pt>>2]|0;He=ht+-24|0;ze=ht;while(1){if((ze|0)==(He|0))break;Ge=ze+-24|0;a[pt>>2]=Ge;mr(Ge);ze=a[pt>>2]|0}pt=ht+-48|0;xt(p,pt);ze=xr(p,0,4945)|0;a[d>>2]=a[ze>>2];a[d+4>>2]=a[ze+4>>2];a[d+8>>2]=a[ze+8>>2];He=0;while(1){if((He|0)==3)break;a[ze+(He<<2)>>2]=0;He=He+1|0}He=Cr(d,4796)|0;a[c>>2]=a[He>>2];a[c+4>>2]=a[He+4>>2];a[c+8>>2]=a[He+8>>2];ze=0;while(1){if((ze|0)==3)break;a[He+(ze<<2)>>2]=0;ze=ze+1|0}ze=r[o>>0]|0;He=(ze&1)==0;ht=gr(c,He?o+1|0:a[o+8>>2]|0,He?(ze&255)>>>1:a[o+4>>2]|0)|0;a[u>>2]=a[ht>>2];a[u+4>>2]=a[ht+4>>2];a[u+8>>2]=a[ht+8>>2];ze=0;while(1){if((ze|0)==3)break;a[ht+(ze<<2)>>2]=0;ze=ze+1|0}ze=Cr(u,3499)|0;a[l>>2]=a[ze>>2];a[l+4>>2]=a[ze+4>>2];a[l+8>>2]=a[ze+8>>2];ht=0;while(1){if((ht|0)==3)break;a[ze+(ht<<2)>>2]=0;ht=ht+1|0}Mt(s,l);Rt(pt,s);mr(s);Er(l);Er(u);Er(c);Er(d);Er(p);Er(o);bn=Be}else bn=e;Ue=bn;break e;break}case 109:{ht=e+2|0;Ur(Te,4963,1);ze=Jr(ht,t,Te,n)|0;Er(Te);Ue=(ze|0)==(ht|0)?e:ze;break e;break}case 77:{ze=e+2|0;Ur(Pe,4965,2);ht=Jr(ze,t,Pe,n)|0;Er(Pe);Ue=(ht|0)==(ze|0)?e:ht;break e;break}case 115:{ht=e+2|0;Ur(Oe,4968,2);ze=Jr(ht,t,Oe,n)|0;Er(Oe);Ue=(ze|0)==(ht|0)?e:ze;break e;break}case 83:{ze=e+2|0;Ur(Ne,4971,3);ht=Jr(ze,t,Ne,n)|0;Er(Ne);Ue=(ht|0)==(ze|0)?e:ht;break e;break}default:{Ue=e;break e}}break}case 115:{switch(r[Le+1>>0]|0){case 99:{if((((((De|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==99:0)?(ht=e+2|0,ze=Tr(ht,t,n)|0,(ze|0)!=(ht|0)):0)?(ht=Et(ze,t,n)|0,(ht|0)!=(ze|0)):0)?(ze=n+4|0,He=a[ze>>2]|0,((He-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){xt(o,He+-24|0);He=a[ze>>2]|0;Ze=He+-24|0;Qe=He;while(1){if((Qe|0)==(Ze|0))break;Ge=Qe+-24|0;a[ze>>2]=Ge;mr(Ge);Qe=a[ze>>2]|0}ze=He+-48|0;xt(p,ze);Qe=xr(p,0,4975)|0;a[d>>2]=a[Qe>>2];a[d+4>>2]=a[Qe+4>>2];a[d+8>>2]=a[Qe+8>>2];Ze=0;while(1){if((Ze|0)==3)break;a[Qe+(Ze<<2)>>2]=0;Ze=Ze+1|0}Ze=Cr(d,4796)|0;a[c>>2]=a[Ze>>2];a[c+4>>2]=a[Ze+4>>2];a[c+8>>2]=a[Ze+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[Ze+(Qe<<2)>>2]=0;Qe=Qe+1|0}Qe=r[o>>0]|0;Ze=(Qe&1)==0;He=gr(c,Ze?o+1|0:a[o+8>>2]|0,Ze?(Qe&255)>>>1:a[o+4>>2]|0)|0;a[u>>2]=a[He>>2];a[u+4>>2]=a[He+4>>2];a[u+8>>2]=a[He+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[He+(Qe<<2)>>2]=0;Qe=Qe+1|0}Qe=Cr(u,3499)|0;a[l>>2]=a[Qe>>2];a[l+4>>2]=a[Qe+4>>2];a[l+8>>2]=a[Qe+8>>2];He=0;while(1){if((He|0)==3)break;a[Qe+(He<<2)>>2]=0;He=He+1|0}Mt(s,l);Rt(ze,s);mr(s);Er(l);Er(u);Er(c);Er(d);Er(p);Er(o);vn=ht}else vn=e;Ue=vn;break e;break}case 112:{if((De|0)<=2){Ue=e;break e}if((r[e>>0]|0)!=115){Ue=e;break e}if((r[e+1>>0]|0)!=112){Ue=e;break e}He=e+2|0;Qe=Et(He,t,n)|0;Ue=(Qe|0)==(He|0)?e:Qe;break e;break}case 114:{Ue=Zr(e,t,n)|0;break e;break}case 116:{if(((((De|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==116:0)?(Qe=e+2|0,He=Tr(Qe,t,n)|0,(He|0)!=(Qe|0)):0)?(Qe=a[n+4>>2]|0,(a[n>>2]|0)!=(Qe|0)):0){Ze=Qe+-24|0;xt(u,Ze);Qe=xr(u,0,4988)|0;a[l>>2]=a[Qe>>2];a[l+4>>2]=a[Qe+4>>2];a[l+8>>2]=a[Qe+8>>2];Be=0;while(1){if((Be|0)==3)break;a[Qe+(Be<<2)>>2]=0;Be=Be+1|0}Be=Cr(l,3499)|0;a[s>>2]=a[Be>>2];a[s+4>>2]=a[Be+4>>2];a[s+8>>2]=a[Be+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[Be+(Qe<<2)>>2]=0;Qe=Qe+1|0}Mt(o,s);Rt(Ze,o);mr(o);Er(s);Er(l);Er(u);wn=He}else wn=e;Ue=wn;break e;break}case 122:{if(((((De|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==122:0)?(Qe=e+2|0,Be=Et(Qe,t,n)|0,(Be|0)!=(Qe|0)):0)?(Qe=a[n+4>>2]|0,(a[n>>2]|0)!=(Qe|0)):0){ht=Qe+-24|0;xt(u,ht);Qe=xr(u,0,4988)|0;a[l>>2]=a[Qe>>2];a[l+4>>2]=a[Qe+4>>2];a[l+8>>2]=a[Qe+8>>2];ze=0;while(1){if((ze|0)==3)break;a[Qe+(ze<<2)>>2]=0;ze=ze+1|0}ze=Cr(l,3499)|0;a[s>>2]=a[ze>>2];a[s+4>>2]=a[ze+4>>2];a[s+8>>2]=a[ze+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[ze+(Qe<<2)>>2]=0;Qe=Qe+1|0}Mt(o,s);Rt(ht,o);mr(o);Er(s);Er(l);Er(u);kn=Be}else kn=e;Ue=kn;break e;break}case 90:{if((Re-Le|0)<=2){Ue=e;break e}switch(r[Le+2>>0]|0){case 84:break;case 102:{if((((((De|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==90:0)?(Qe=e+2|0,(r[Qe>>0]|0)==102):0)?(ze=Yr(Qe,t,n)|0,(ze|0)!=(Qe|0)):0)?(Qe=a[n+4>>2]|0,(a[n>>2]|0)!=(Qe|0)):0){He=Qe+-24|0;xt(u,He);Qe=xr(u,0,4997)|0;a[l>>2]=a[Qe>>2];a[l+4>>2]=a[Qe+4>>2];a[l+8>>2]=a[Qe+8>>2];Ze=0;while(1){if((Ze|0)==3)break;a[Qe+(Ze<<2)>>2]=0;Ze=Ze+1|0}Ze=Cr(l,3499)|0;a[s>>2]=a[Ze>>2];a[s+4>>2]=a[Ze+4>>2];a[s+8>>2]=a[Ze+8>>2];Qe=0;while(1){if((Qe|0)==3)break;a[Ze+(Qe<<2)>>2]=0;Qe=Qe+1|0}Mt(o,s);Rt(He,o);mr(o);Er(s);Er(l);Er(u);Sn=ze}else Sn=e;Ue=Sn;break e;break}default:{Ue=e;break e}}if(((((De|0)>2?(r[e>>0]|0)==115:0)?(r[e+1>>0]|0)==90:0)?(Qe=e+2|0,(r[Qe>>0]|0)==84):0)?(Ze=n+4|0,Be=((a[Ze>>2]|0)-(a[n>>2]|0)|0)/24|0,ht=Tt(Qe,t,n)|0,pt=a[n>>2]|0,Ge=((a[Ze>>2]|0)-pt|0)/24|0,Ke=pt,(ht|0)!=(Qe|0)):0){r[s>>0]=20;Qe=s+1|0;pt=4997;st=Qe+10|0;do{r[Qe>>0]=r[pt>>0]|0;Qe=Qe+1|0;pt=pt+1|0}while((Qe|0)<(st|0));r[s+11>>0]=0;t:do{if((Be|0)!=(Ge|0)){xt(l,Ke+(Be*24|0)|0);pt=r[l>>0]|0;Qe=(pt&1)==0;gr(s,Qe?l+1|0:a[l+8>>2]|0,Qe?(pt&255)>>>1:a[l+4>>2]|0)|0;Er(l);pt=u+8|0;Qe=u+1|0;st=u+4|0;ze=Be;while(1){He=ze+1|0;if((He|0)==(Ge|0))break t;xt(c,(a[n>>2]|0)+(He*24|0)|0);Ve=xr(c,0,3596)|0;a[u>>2]=a[Ve>>2];a[u+4>>2]=a[Ve+4>>2];a[u+8>>2]=a[Ve+8>>2];rn=0;while(1){if((rn|0)==3)break;a[Ve+(rn<<2)>>2]=0;rn=rn+1|0}rn=r[u>>0]|0;Ve=(rn&1)==0;gr(s,Ve?Qe:a[pt>>2]|0,Ve?(rn&255)>>>1:a[st>>2]|0)|0;Er(u);Er(c);ze=He}}}while(0);Cr(s,3499)|0;Ke=Ge;while(1){if((Ke|0)==(Be|0))break;ze=a[Ze>>2]|0;st=ze+-24|0;pt=ze;while(1){if((pt|0)==(st|0))break;ze=pt+-24|0;a[Ze>>2]=ze;mr(ze);pt=a[Ze>>2]|0}Ke=Ke+-1|0}a[p>>2]=a[s>>2];a[p+4>>2]=a[s+4>>2];a[p+8>>2]=a[s+8>>2];Ke=0;while(1){if((Ke|0)==3)break;a[s+(Ke<<2)>>2]=0;Ke=Ke+1|0}Mt(d,p);Ke=a[Ze>>2]|0;Be=a[n+8>>2]|0;Ge=Be;if(Ke>>>0<Be>>>0){At(Ke,d);a[Ze>>2]=(a[Ze>>2]|0)+24}else{Be=a[n>>2]|0;pt=Ke-Be|0;Ke=(pt|0)/24|0;st=Ke+1|0;if((pt|0)<-24)Or(n);pt=(Ge-Be|0)/24|0;if(pt>>>0<1073741823){Be=pt<<1;In=Be>>>0<st>>>0?st:Be}else In=2147483647;Fr(o,In,Ke,n+12|0);Ke=o+8|0;Be=a[Ke>>2]|0;At(Be,d);a[Ke>>2]=Be+24;jr(n,o);Br(o)}mr(d);Er(p);Er(s);En=ht}else En=e;Ue=En;break e;break}default:{Ue=e;break e}}break}case 116:{switch(r[Le+1>>0]|0){case 105:case 101:{t:do{if((De|0)>2?(r[e>>0]|0)==116:0){Be=r[e+1>>0]|0;switch(Be<<24>>24){case 105:case 101:break;default:{An=e;break t}}Ke=e+2|0;if(Be<<24>>24==101)xn=Et(Ke,t,n)|0;else xn=Tr(Ke,t,n)|0;if((xn|0)!=(Ke|0)?(Ke=a[n+4>>2]|0,(a[n>>2]|0)!=(Ke|0)):0){Be=Ke+-24|0;xt(u,Be);Ke=xr(u,0,5008)|0;a[l>>2]=a[Ke>>2];a[l+4>>2]=a[Ke+4>>2];a[l+8>>2]=a[Ke+8>>2];st=0;while(1){
if((st|0)==3)break;a[Ke+(st<<2)>>2]=0;st=st+1|0}st=Cr(l,3499)|0;a[s>>2]=a[st>>2];a[s+4>>2]=a[st+4>>2];a[s+8>>2]=a[st+8>>2];Ke=0;while(1){if((Ke|0)==3)break;a[st+(Ke<<2)>>2]=0;Ke=Ke+1|0}Mt(o,s);Rt(Be,o);mr(o);Er(s);Er(l);Er(u);An=xn}else An=e}else An=e}while(0);Ue=An;break e;break}case 114:{Wr(Me,5016);ht=n+4|0;Ze=a[ht>>2]|0;Ke=a[n+8>>2]|0;st=Ke;if(Ze>>>0<Ke>>>0){At(Ze,Me);a[ht>>2]=(a[ht>>2]|0)+24}else{ht=a[n>>2]|0;Ke=Ze-ht|0;Ze=(Ke|0)/24|0;pt=Ze+1|0;if((Ke|0)<-24)Or(n);Ke=(st-ht|0)/24|0;if(Ke>>>0<1073741823){ht=Ke<<1;Cn=ht>>>0<pt>>>0?pt:ht}else Cn=2147483647;Fr(o,Cn,Ze,n+12|0);Ze=o+8|0;ht=a[Ze>>2]|0;At(ht,Me);a[Ze>>2]=ht+24;jr(n,o);Br(o)}mr(Me);Ue=e+2|0;break e;break}case 119:{if(((((De|0)>2?(r[e>>0]|0)==116:0)?(r[e+1>>0]|0)==119:0)?(ht=e+2|0,Ze=Et(ht,t,n)|0,(Ze|0)!=(ht|0)):0)?(ht=a[n+4>>2]|0,(a[n>>2]|0)!=(ht|0)):0){pt=ht+-24|0;xt(l,pt);ht=xr(l,0,5022)|0;a[s>>2]=a[ht>>2];a[s+4>>2]=a[ht+4>>2];a[s+8>>2]=a[ht+8>>2];Ke=0;while(1){if((Ke|0)==3)break;a[ht+(Ke<<2)>>2]=0;Ke=Ke+1|0}Mt(o,s);Rt(pt,o);mr(o);Er(s);Er(l);Tn=Ze}else Tn=e;Ue=Tn;break e;break}default:{Ue=e;break e}}break}case 57:case 56:case 55:case 54:case 53:case 52:case 51:case 50:case 49:{Ue=Zr(e,t,n)|0;break e;break}default:{Ue=e;break e}}}while(0)}else Ue=e}while(0);f=i;return Ue|0}function At(e,t){e=e|0;t=t|0;var n=0;a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2];n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}n=e+12|0;e=t+12|0;a[n>>2]=a[e>>2];a[n+4>>2]=a[e+4>>2];a[n+8>>2]=a[e+8>>2];n=0;while(1){if((n|0)==3)break;a[e+(n<<2)>>2]=0;n=n+1|0}return}function xt(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0;n=t+12|0;i=r[n>>0]|0;o=(i&1)==0;s=gr(t,o?n+1|0:a[t+20>>2]|0,o?(i&255)>>>1:a[t+16>>2]|0)|0;a[e>>2]=a[s>>2];a[e+4>>2]=a[s+4>>2];a[e+8>>2]=a[s+8>>2];e=0;while(1){if((e|0)==3)break;a[s+(e<<2)>>2]=0;e=e+1|0}return}function Ct(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;a[e>>2]=0;r=e+4|0;a[r>>2]=0;i=a[n>>2]|0;a[e+8>>2]=0;a[e+12>>2]=i;n=Xr(i,24)|0;a[r>>2]=n;a[e>>2]=n;a[e+8>>2]=n+24;Dr(n,t);Dr(n+12|0,t+12|0);a[r>>2]=(a[r>>2]|0)+24;return}function Tt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0;i=f;f=f+96|0;o=i+64|0;s=i+40|0;l=i+16|0;u=i;c=e;e:do{if((t-c|0)>1?(r[e>>0]|0)==84:0){d=r[e+1>>0]|0;if(d<<24>>24==95){p=a[n+36>>2]|0;if((a[n+32>>2]|0)==(p|0)){h=e;break}y=a[p+-16>>2]|0;if((y|0)!=(a[p+-12>>2]|0)){p=a[y+4>>2]|0;m=n+4|0;_=n+8|0;g=n+12|0;b=o+8|0;v=a[y>>2]|0;while(1){if((v|0)==(p|0)){w=8;break}y=a[m>>2]|0;k=a[_>>2]|0;S=k;if((y|0)==(k|0)){k=a[n>>2]|0;I=y-k|0;E=(I|0)/24|0;A=E+1|0;if((I|0)<-24){w=12;break}I=(S-k|0)/24|0;if(I>>>0<1073741823){k=I<<1;x=k>>>0<A>>>0?A:k}else x=2147483647;Fr(o,x,E,g);E=a[b>>2]|0;Dr(E,v);Dr(E+12|0,v+12|0);a[b>>2]=E+24;jr(n,o);Br(o)}else{Dr(y,v);Dr(y+12|0,v+12|0);a[m>>2]=(a[m>>2]|0)+24}v=v+24|0}if((w|0)==8){h=e+2|0;break}else if((w|0)==12)Or(n)}else{r[s>>0]=4;v=s+1|0;r[v>>0]=84;r[v+1>>0]=95;r[s+3>>0]=0;v=s+12|0;m=0;while(1){if((m|0)==3)break;a[v+(m<<2)>>2]=0;m=m+1|0}m=n+4|0;v=a[m>>2]|0;b=a[n+8>>2]|0;g=b;if(v>>>0<b>>>0){At(v,s);a[m>>2]=(a[m>>2]|0)+24}else{m=a[n>>2]|0;b=v-m|0;v=(b|0)/24|0;_=v+1|0;if((b|0)<-24)Or(n);b=(g-m|0)/24|0;if(b>>>0<1073741823){m=b<<1;C=m>>>0<_>>>0?_:m}else C=2147483647;Fr(o,C,v,n+12|0);v=o+8|0;m=a[v>>2]|0;At(m,s);a[v>>2]=m+24;jr(n,o);Br(o)}mr(s);r[n+62>>0]=1;h=e+2|0;break}}m=(d<<24>>24)+-48|0;if(m>>>0<10){v=m;m=e+2|0;while(1){if((m|0)==(t|0)){h=e;break e}_=r[m>>0]|0;b=(_<<24>>24)+-48|0;if(b>>>0>=10){T=_;P=v;O=m;break}v=b+(v*10|0)|0;m=m+1|0}if(T<<24>>24==95?(m=a[n+36>>2]|0,(a[n+32>>2]|0)!=(m|0)):0){v=P+1|0;d=a[m+-16>>2]|0;b=d;if(v>>>0<(a[m+-12>>2]|0)-d>>4>>>0){d=a[b+(v<<4)+4>>2]|0;m=n+4|0;_=n+8|0;g=n+12|0;p=o+8|0;y=a[b+(v<<4)>>2]|0;while(1){if((y|0)==(d|0)){w=38;break}v=a[m>>2]|0;b=a[_>>2]|0;E=b;if((v|0)==(b|0)){b=a[n>>2]|0;k=v-b|0;A=(k|0)/24|0;I=A+1|0;if((k|0)<-24){w=42;break}k=(E-b|0)/24|0;if(k>>>0<1073741823){b=k<<1;N=b>>>0<I>>>0?I:b}else N=2147483647;Fr(o,N,A,g);A=a[p>>2]|0;Dr(A,y);Dr(A+12|0,y+12|0);a[p>>2]=A+24;jr(n,o);Br(o)}else{Dr(v,y);Dr(v+12|0,y+12|0);a[m>>2]=(a[m>>2]|0)+24}y=y+24|0}if((w|0)==38){h=O+1|0;break}else if((w|0)==42)Or(n)}y=O+1|0;m=y-c|0;if(m>>>0>4294967279)Ir(u);if(m>>>0<11){r[u>>0]=m<<1;M=u+1|0}else{p=m+16&-16;g=ji(p)|0;a[u+8>>2]=g;a[u>>2]=p|1;a[u+4>>2]=m;M=g}g=e;p=M;while(1){if((g|0)==(y|0))break;r[p>>0]=r[g>>0]|0;g=g+1|0;p=p+1|0}r[M+m>>0]=0;Mt(l,u);p=n+4|0;g=a[p>>2]|0;_=a[n+8>>2]|0;d=_;if(g>>>0<_>>>0){At(g,l);a[p>>2]=(a[p>>2]|0)+24}else{p=a[n>>2]|0;_=g-p|0;g=(_|0)/24|0;v=g+1|0;if((_|0)<-24)Or(n);_=(d-p|0)/24|0;if(_>>>0<1073741823){p=_<<1;R=p>>>0<v>>>0?v:p}else R=2147483647;Fr(o,R,g,n+12|0);g=o+8|0;p=a[g>>2]|0;At(p,l);a[g>>2]=p+24;jr(n,o);Br(o)}mr(l);Er(u);r[n+62>>0]=1;h=y}else h=e}else h=e}else h=e}while(0);f=i;return h|0}function Pt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0;i=f;f=f+80|0;o=i+60|0;s=i;l=i+48|0;u=i+24|0;c=i+12|0;do{if((t-e|0)>1?(r[e>>0]|0)==73:0){d=n+61|0;p=n+36|0;e:do{if(r[d>>0]|0){h=a[p>>2]|0;y=a[h+-16>>2]|0;m=h+-12|0;while(1){h=a[m>>2]|0;if((h|0)==(y|0))break e;_=h+-16|0;a[m>>2]=_;_r(_)}}}while(0);Ur(s,3656,1);m=n+4|0;y=n+12|0;_=o+8|0;h=o+8|0;g=s+4|0;b=l+8|0;v=l+1|0;w=l+4|0;k=n+32|0;S=n+40|0;I=n+44|0;E=o+8|0;A=e+1|0;e:while(1){if((r[A>>0]|0)==69){x=A;C=48;break}do{if(r[d>>0]|0){T=a[y>>2]|0;P=a[p>>2]|0;O=a[S>>2]|0;if(P>>>0<O>>>0){a[P>>2]=0;a[P+4>>2]=0;a[P+8>>2]=0;a[P+12>>2]=T;a[p>>2]=(a[p>>2]|0)+16;break}N=a[k>>2]|0;M=P-N|0;P=M>>4;R=P+1|0;if((M|0)<-16){C=13;break e}M=O-N|0;if(M>>4>>>0<1073741823){N=M>>3;D=N>>>0<R>>>0?R:N}else D=2147483647;dr(o,D,P,I);P=a[E>>2]|0;a[P>>2]=0;a[P+4>>2]=0;a[P+8>>2]=0;a[P+12>>2]=T;a[E>>2]=P+16;pr(k,o);hr(o)}}while(0);P=((a[m>>2]|0)-(a[n>>2]|0)|0)/24|0;T=nn(A,t,n)|0;N=((a[m>>2]|0)-(a[n>>2]|0)|0)/24|0;t:do{if(r[d>>0]|0){R=a[p>>2]|0;M=R+-16|0;O=R;while(1){if((O|0)==(M|0))break t;R=O+-16|0;a[p>>2]=R;wr(R);O=a[p>>2]|0}}}while(0);if((T|0)==(A|0)|(T|0)==(t|0)){C=62;break}t:do{if(!(r[d>>0]|0))F=P;else{O=a[p>>2]|0;M=O+-16|0;R=a[y>>2]|0;B=O+-12|0;j=a[B>>2]|0;L=a[O+-8>>2]|0;U=L;if(j>>>0<L>>>0){a[j>>2]=0;a[j+4>>2]=0;a[j+8>>2]=0;a[j+12>>2]=R;a[B>>2]=(a[B>>2]|0)+16;H=P}else{B=a[M>>2]|0;L=j-B|0;j=L>>4;G=j+1|0;if((L|0)<-16){z=M;C=26;break e}L=U-B|0;if(L>>4>>>0<1073741823){B=L>>3;V=B>>>0<G>>>0?G:B}else V=2147483647;Nr(o,V,j,O+-4|0);O=a[_>>2]|0;a[O>>2]=0;a[O+4>>2]=0;a[O+8>>2]=0;a[O+12>>2]=R;a[_>>2]=O+16;Mr(M,o);Rr(o);H=P}while(1){if(H>>>0>=N>>>0){F=P;break t}M=a[(a[p>>2]|0)+-12>>2]|0;O=M+-16|0;R=a[n>>2]|0;j=R+(H*24|0)|0;B=M+-12|0;G=a[B>>2]|0;L=a[M+-8>>2]|0;U=L;if((G|0)==(L|0)){L=a[O>>2]|0;K=G-L|0;W=(K|0)/24|0;q=W+1|0;if((K|0)<-24){X=O;C=34;break e}K=(U-L|0)/24|0;if(K>>>0<1073741823){L=K<<1;Y=L>>>0<q>>>0?q:L}else Y=2147483647;Fr(o,Y,W,M+-4|0);M=a[h>>2]|0;Dr(M,j);Dr(M+12|0,R+(H*24|0)+12|0);a[h>>2]=M+24;jr(O,o);Br(o)}else{Dr(G,j);Dr(G+12|0,R+(H*24|0)+12|0);a[B>>2]=(a[B>>2]|0)+24}H=H+1|0}}}while(0);while(1){if(F>>>0>=N>>>0){J=N;break}B=r[s>>0]|0;if(((B&1)==0?(B&255)>>>1:a[g>>2]|0)>>>0>1)Cr(s,3596)|0;xt(l,(a[n>>2]|0)+(F*24|0)|0);B=r[l>>0]|0;R=(B&1)==0;gr(s,R?v:a[b>>2]|0,R?(B&255)>>>1:a[w>>2]|0)|0;Er(l);F=F+1|0}while(1){if((J|0)==(P|0)){A=T;continue e}N=a[m>>2]|0;B=N+-24|0;R=N;while(1){if((R|0)==(B|0))break;N=R+-24|0;a[m>>2]=N;mr(N);R=a[m>>2]|0}J=J+-1|0}}if((C|0)==13)Or(k);else if((C|0)==26)Or(z);else if((C|0)==34)Or(X);else if((C|0)==48){A=x+1|0;w=r[s>>0]|0;b=(w&1)==0;if((r[(b?s+1|0:a[s+8>>2]|0)+(b?(w&255)>>>1:a[g>>2]|0)+-1>>0]|0)==62)Cr(s,4641)|0;else Cr(s,3658)|0;a[c>>2]=a[s>>2];a[c+4>>2]=a[s+4>>2];a[c+8>>2]=a[s+8>>2];w=0;while(1){if((w|0)==3)break;a[s+(w<<2)>>2]=0;w=w+1|0}Mt(u,c);w=a[m>>2]|0;g=a[n+8>>2]|0;k=g;if(w>>>0<g>>>0){At(w,u);a[m>>2]=(a[m>>2]|0)+24}else{g=a[n>>2]|0;b=w-g|0;w=(b|0)/24|0;v=w+1|0;if((b|0)<-24)Or(n);b=(k-g|0)/24|0;if(b>>>0<1073741823){g=b<<1;Q=g>>>0<v>>>0?v:g}else Q=2147483647;Fr(o,Q,w,n+12|0);w=o+8|0;g=a[w>>2]|0;At(g,u);a[w>>2]=g+24;jr(n,o);Br(o)}mr(u);Er(c);Er(s);Z=A;break}else if((C|0)==62){Er(s);Z=e;break}}else Z=e
}while(0);f=i;return Z|0}function Ot(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0;i=f;f=f+112|0;o=i+88|0;s=i+64|0;l=i+76|0;u=i+40|0;c=i+16|0;d=i;e:do{if(((e|0)!=(t|0)?(p=(r[e>>0]|0)+-48|0,p>>>0<10):0)?(h=e+1|0,(h|0)!=(t|0)):0){y=e;m=h;h=p;while(1){p=(r[m>>0]|0)+-48|0;if(p>>>0>=10){_=y;g=m;b=h;break}v=m+1|0;if((v|0)==(t|0)){w=e;break e}k=m;m=v;h=p+(h*10|0)|0;y=k}if((t-g|0)>>>0>=b>>>0){Ur(s,g,b);y=r[s>>0]|0;h=(y&1)==0;m=h?(y&255)>>>1:a[s+4>>2]|0;Ur(l,h?s+1|0:a[s+8>>2]|0,m>>>0<10?m:10);m=r[l>>0]|0;h=(m&1)==0;y=h?(m&255)>>>1:a[l+4>>2]|0;m=y>>>0>10;k=fi(h?l+1|0:a[l+8>>2]|0,4608,m?10:y)|0;Er(l);if(!(((k|0)==0?y>>>0<10?-1:m&1:k)|0)){k=ji(32)|0;a[u+8>>2]=k;a[u>>2]=33;a[u+4>>2]=21;m=k;y=4619;h=m+21|0;do{r[m>>0]=r[y>>0]|0;m=m+1|0;y=y+1|0}while((m|0)<(h|0));r[k+21>>0]=0;y=u+12|0;m=0;while(1){if((m|0)==3)break;a[y+(m<<2)>>2]=0;m=m+1|0}m=n+4|0;y=a[m>>2]|0;k=a[n+8>>2]|0;h=k;if(y>>>0<k>>>0){At(y,u);a[m>>2]=(a[m>>2]|0)+24}else{m=a[n>>2]|0;k=y-m|0;y=(k|0)/24|0;p=y+1|0;if((k|0)<-24)Or(n);k=(h-m|0)/24|0;if(k>>>0<1073741823){m=k<<1;S=m>>>0<p>>>0?p:m}else S=2147483647;Fr(o,S,y,n+12|0);y=o+8|0;m=a[y>>2]|0;At(m,u);a[y>>2]=m+24;jr(n,o);Br(o)}mr(u)}else{a[d>>2]=a[s>>2];a[d+4>>2]=a[s+4>>2];a[d+8>>2]=a[s+8>>2];m=0;while(1){if((m|0)==3)break;a[s+(m<<2)>>2]=0;m=m+1|0}Mt(c,d);m=n+4|0;y=a[m>>2]|0;p=a[n+8>>2]|0;k=p;if(y>>>0<p>>>0){At(y,c);a[m>>2]=(a[m>>2]|0)+24}else{m=a[n>>2]|0;p=y-m|0;y=(p|0)/24|0;h=y+1|0;if((p|0)<-24)Or(n);p=(k-m|0)/24|0;if(p>>>0<1073741823){m=p<<1;I=m>>>0<h>>>0?h:m}else I=2147483647;Fr(o,I,y,n+12|0);y=o+8|0;m=a[y>>2]|0;At(m,c);a[y>>2]=m+24;jr(n,o);Br(o)}mr(c);Er(d)}Er(s);w=_+1+b|0}else w=e}else w=e}while(0);f=i;return w|0}function Nt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}i=r[t>>0]|0;o=(i&1)==0;s=o?(i&255)>>>1:a[t+4>>2]|0;i=ci(n)|0;Lt(e,o?t+1|0:a[t+8>>2]|0,s,s+i|0);gr(e,n,i)|0;return}function Mt(e,t){e=e|0;t=t|0;var n=0;a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2];n=0;while(1){if((n|0)==3)break;a[t+(n<<2)>>2]=0;n=n+1|0}n=e+12|0;e=0;while(1){if((e|0)==3)break;a[n+(e<<2)>>2]=0;e=e+1|0}return}function Rt(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0;do{if(r[e>>0]&1){n=e+8|0;r[a[n>>2]>>0]=0;i=e+4|0;a[i>>2]=0;o=r[e>>0]|0;if(!(o&1)){s=o;l=10}else{o=a[e>>2]|0;s=o&255;l=(o&-2)+-1|0}if(!(s&1)){o=(s&255)>>>1;if((s&255)<22){u=10;c=o;f=1}else{u=(o+16&240)+-1|0;c=o;f=1}}else{u=10;c=0;f=0}if((u|0)!=(l|0)){if((u|0)==10){o=e+1|0;d=a[n>>2]|0;if(f){Qi(o|0,d|0,((s&255)>>>1)+1|0)|0;Li(d)}else{r[o>>0]=r[d>>0]|0;Li(d)}r[e>>0]=c<<1;break}d=u+1|0;o=ji(d)|0;if(!(u>>>0<=l>>>0&(o|0)==0)){if(f)Qi(o|0,e+1|0,((s&255)>>>1)+1|0)|0;else{p=a[n>>2]|0;r[o>>0]=r[p>>0]|0;Li(p)}a[e>>2]=d|1;a[i>>2]=c;a[n>>2]=o}}}else{r[e+1>>0]=0;r[e>>0]=0}}while(0);a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2];c=0;while(1){if((c|0)==3)break;a[t+(c<<2)>>2]=0;c=c+1|0}c=e+12|0;s=t+12|0;do{if(r[c>>0]&1){t=e+20|0;r[a[t>>2]>>0]=0;f=e+16|0;a[f>>2]=0;l=r[c>>0]|0;if(!(l&1)){h=l;y=10}else{l=a[c>>2]|0;h=l&255;y=(l&-2)+-1|0}if(!(h&1)){l=(h&255)>>>1;if((h&255)<22){m=10;_=l;g=1}else{m=(l+16&240)+-1|0;_=l;g=1}}else{m=10;_=0;g=0}if((m|0)!=(y|0)){if((m|0)==10){l=c+1|0;u=a[t>>2]|0;if(g){Qi(l|0,u|0,((h&255)>>>1)+1|0)|0;Li(u)}else{r[l>>0]=r[u>>0]|0;Li(u)}r[c>>0]=_<<1;break}u=m+1|0;l=ji(u)|0;if(!(m>>>0<=y>>>0&(l|0)==0)){if(g)Qi(l|0,c+1|0,((h&255)>>>1)+1|0)|0;else{o=a[t>>2]|0;r[l>>0]=r[o>>0]|0;Li(o)}a[c>>2]=u|1;a[f>>2]=_;a[t>>2]=l}}}else{r[c+1>>0]=0;r[c>>0]=0}}while(0);a[c>>2]=a[s>>2];a[c+4>>2]=a[s+4>>2];a[c+8>>2]=a[s+8>>2];c=0;while(1){if((c|0)==3)break;a[s+(c<<2)>>2]=0;c=c+1|0}return}function Dt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0,ke=0,Se=0,Ie=0,Ee=0,Ae=0,xe=0,Ce=0,Te=0,Pe=0,Oe=0,Ne=0,Me=0,Re=0,De=0,Fe=0,Be=0,je=0,Le=0,Ue=0,He=0,Ge=0,ze=0,Ve=0,Ke=0,We=0,qe=0,Xe=0,Ye=0,Je=0,Qe=0,Ze=0;i=f;f=f+208|0;o=i+188|0;s=i+184|0;l=i+172|0;u=i+160|0;c=i+144|0;d=i+140|0;p=i+128|0;h=i+112|0;y=i+108|0;m=i+96|0;_=i+64|0;g=i+56|0;b=i+40|0;v=i+36|0;w=i+24|0;k=i+8|0;S=i;I=i+80|0;E=i+60|0;A=t;e:do{if((A-e|0)>1){x=(r[e>>0]|0)==76?e+1|0:e;C=r[x>>0]|0;switch(C<<24>>24|0){case 78:{t:do{if((x|0)!=(t|0)){if(C<<24>>24==78){T=Pr(x+1|0,t,s)|0;n:do{if((T|0)!=(t|0)){P=n+52|0;a[P>>2]=0;switch(r[T>>0]|0){case 82:{a[P>>2]=1;O=T+1|0;break}case 79:{a[P>>2]=2;O=T+1|0;break}default:O=T}P=n+4|0;N=a[P>>2]|0;M=a[n+8>>2]|0;R=M;if(N>>>0<M>>>0){a[N>>2]=0;a[N+4>>2]=0;a[N+8>>2]=0;a[N+12>>2]=0;a[N+16>>2]=0;a[N+20>>2]=0;M=0;while(1){if((M|0)==3)break;a[N+(M<<2)>>2]=0;M=M+1|0}M=N+12|0;D=0;while(1){if((D|0)==3)break;a[M+(D<<2)>>2]=0;D=D+1|0}a[P>>2]=(a[P>>2]|0)+24}else{D=a[n>>2]|0;M=N-D|0;F=(M|0)/24|0;B=F+1|0;if((M|0)<-24)Or(n);M=(R-D|0)/24|0;if(M>>>0<1073741823){D=M<<1;j=D>>>0<B>>>0?B:D}else j=2147483647;Fr(o,j,F,n+12|0);F=o+8|0;D=a[F>>2]|0;a[D>>2]=0;a[D+4>>2]=0;a[D+8>>2]=0;a[D+12>>2]=0;a[D+16>>2]=0;a[D+20>>2]=0;B=0;while(1){if((B|0)==3)break;a[D+(B<<2)>>2]=0;B=B+1|0}B=D+12|0;R=0;while(1){if((R|0)==3)break;a[B+(R<<2)>>2]=0;R=R+1|0}a[F>>2]=D+24;jr(n,o);Br(o)}if(((A-O|0)>1?(r[O>>0]|0)==83:0)?(r[O+1>>0]|0)==116:0){Kt((a[P>>2]|0)+-24|0,3778,3);L=O+2|0}else L=O;if((L|0)==(t|0)){R=a[P>>2]|0;B=R+-24|0;N=R;while(1){if((N|0)==(B|0))break n;R=N+-24|0;a[P>>2]=R;mr(R);N=a[P>>2]|0}}N=l+8|0;B=l+1|0;D=l+4|0;F=n+12|0;R=n+16|0;M=n+20|0;U=n+24|0;H=b+12|0;G=b+4|0;z=b+8|0;V=n+28|0;K=o+8|0;W=k+12|0;q=k+4|0;X=k+8|0;Y=o+8|0;J=w+8|0;Q=w+1|0;Z=w+4|0;$=u+8|0;ee=u+1|0;te=u+4|0;ne=c+12|0;re=c+4|0;ie=c+8|0;ae=o+8|0;oe=h+12|0;se=h+4|0;le=h+8|0;ue=o+8|0;ce=p+8|0;fe=p+1|0;de=p+4|0;pe=_+12|0;he=_+4|0;ye=_+8|0;me=o+8|0;_e=m+8|0;ge=m+1|0;be=m+4|0;ve=0;we=L;r:while(1){ke=we;i:while(1){Se=r[ke>>0]|0;if(Se<<24>>24==69){Ie=129;break r}switch(Se<<24>>24|0){case 83:{Ee=ke;Ie=39;break i;break}case 84:{Ae=ke;Ie=59;break i;break}case 68:{xe=ke;Ie=77;break i;break}case 73:break;case 76:{Se=ke+1|0;if((Se|0)==(t|0))break n;else{ke=Se;continue i}break}default:{Ce=ke;break i}}Se=Pt(ke,t,n)|0;if((Se|0)==(ke|0)|(Se|0)==(t|0))break n;xt(l,(a[P>>2]|0)+-24|0);Te=a[P>>2]|0;Pe=Te+-24|0;Oe=Te;while(1){if((Oe|0)==(Pe|0))break;Ne=Oe+-24|0;a[P>>2]=Ne;mr(Ne);Oe=a[P>>2]|0}Oe=r[l>>0]|0;Pe=(Oe&1)==0;gr(Te+-48|0,Pe?B:a[N>>2]|0,Pe?(Oe&255)>>>1:a[D>>2]|0)|0;Oe=(a[P>>2]|0)+-24|0;a[v>>2]=a[F>>2];Ct(b,Oe,v);Oe=a[M>>2]|0;Pe=a[U>>2]|0;Ne=Pe;if(Oe>>>0<Pe>>>0){a[Oe+12>>2]=a[H>>2];a[Oe>>2]=a[b>>2];a[Oe+4>>2]=a[G>>2];a[Oe+8>>2]=a[z>>2];a[z>>2]=0;a[G>>2]=0;a[b>>2]=0;a[M>>2]=(a[M>>2]|0)+16}else{Pe=a[R>>2]|0;Me=Oe-Pe|0;Oe=Me>>4;Re=Oe+1|0;if((Me|0)<-16){Ie=104;break r}Me=Ne-Pe|0;if(Me>>4>>>0<1073741823){Pe=Me>>3;De=Pe>>>0<Re>>>0?Re:Pe}else De=2147483647;Nr(o,De,Oe,V);Oe=a[K>>2]|0;a[Oe+12>>2]=a[H>>2];a[Oe>>2]=a[b>>2];a[Oe+4>>2]=a[G>>2];a[Oe+8>>2]=a[z>>2];a[z>>2]=0;a[G>>2]=0;a[b>>2]=0;a[K>>2]=Oe+16;Mr(R,o);Rr(o)}_r(b);Er(l);ke=Se}i:do{if((Ie|0)==39){Ie=0;Oe=Ee+1|0;if((Oe|0)!=(t|0)?(r[Oe>>0]|0)==116:0){Ce=Ee;break}Oe=Ft(Ee,t,n)|0;if((Oe|0)==(Ee|0)|(Oe|0)==(t|0))break n;xt(l,(a[P>>2]|0)+-24|0);Pe=a[P>>2]|0;Re=Pe+-24|0;Me=Pe;while(1){if((Me|0)==(Re|0))break;Ne=Me+-24|0;a[P>>2]=Ne;mr(Ne);Me=a[P>>2]|0}Me=Pe+-48|0;Re=r[Me>>0]|0;if(!(Re&1))Fe=(Re&255)>>>1;else Fe=a[Pe+-44>>2]|0;if(!Fe)Wt(Me,l);else{jt(u,3782,l);Re=r[u>>0]|0;Se=(Re&1)==0;gr(Me,Se?ee:a[$>>2]|0,Se?(Re&255)>>>1:a[te>>2]|0)|0;Er(u);Re=(a[P>>2]|0)+-24|0;a[d>>2]=a[F>>2];Ct(c,Re,d);Re=a[M>>2]|0;Se=a[U>>2]|0;Me=Se;if(Re>>>0<Se>>>0){a[Re+12>>2]=a[ne>>2];a[Re>>2]=a[c>>2];a[Re+4>>2]=a[re>>2];a[Re+8>>2]=a[ie>>2];a[ie>>2]=0;a[re>>2]=0;a[c>>2]=0;a[M>>2]=(a[M>>2]|0)+16}else{Se=a[R>>2]|0;Te=Re-Se|0;Re=Te>>4;Ne=Re+1|0;if((Te|0)<-16){Ie=52;break r}Te=Me-Se|0;if(Te>>4>>>0<1073741823){Se=Te>>3;Be=Se>>>0<Ne>>>0?Ne:Se}else Be=2147483647;Nr(o,Be,Re,V);Re=a[ae>>2]|0;a[Re+12>>2]=a[ne>>2];a[Re>>2]=a[c>>2];a[Re+4>>2]=a[re>>2];a[Re+8>>2]=a[ie>>2];a[ie>>2]=0;a[re>>2]=0
;a[c>>2]=0;a[ae>>2]=Re+16;Mr(R,o);Rr(o)}_r(c)}Er(l);ve=1;we=Oe;continue r}else if((Ie|0)==59){Ie=0;Re=Tt(Ae,t,n)|0;if((Re|0)==(Ae|0)|(Re|0)==(t|0))break n;xt(l,(a[P>>2]|0)+-24|0);Se=a[P>>2]|0;Ne=Se+-24|0;Te=Se;while(1){if((Te|0)==(Ne|0))break;Me=Te+-24|0;a[P>>2]=Me;mr(Me);Te=a[P>>2]|0}Te=Se+-48|0;Ne=r[Te>>0]|0;if(!(Ne&1))je=(Ne&255)>>>1;else je=a[Se+-44>>2]|0;if(!je)Wt(Te,l);else{jt(p,3782,l);Ne=r[p>>0]|0;Oe=(Ne&1)==0;gr(Te,Oe?fe:a[ce>>2]|0,Oe?(Ne&255)>>>1:a[de>>2]|0)|0;Er(p)}Ne=(a[P>>2]|0)+-24|0;a[y>>2]=a[F>>2];Ct(h,Ne,y);Ne=a[M>>2]|0;Oe=a[U>>2]|0;Te=Oe;if(Ne>>>0<Oe>>>0){a[Ne+12>>2]=a[oe>>2];a[Ne>>2]=a[h>>2];a[Ne+4>>2]=a[se>>2];a[Ne+8>>2]=a[le>>2];a[le>>2]=0;a[se>>2]=0;a[h>>2]=0;a[M>>2]=(a[M>>2]|0)+16}else{Oe=a[R>>2]|0;Pe=Ne-Oe|0;Ne=Pe>>4;Me=Ne+1|0;if((Pe|0)<-16){Ie=72;break r}Pe=Te-Oe|0;if(Pe>>4>>>0<1073741823){Oe=Pe>>3;Le=Oe>>>0<Me>>>0?Me:Oe}else Le=2147483647;Nr(o,Le,Ne,V);Ne=a[ue>>2]|0;a[Ne+12>>2]=a[oe>>2];a[Ne>>2]=a[h>>2];a[Ne+4>>2]=a[se>>2];a[Ne+8>>2]=a[le>>2];a[le>>2]=0;a[se>>2]=0;a[h>>2]=0;a[ue>>2]=Ne+16;Mr(R,o);Rr(o)}_r(h);Er(l);ve=1;we=Re;continue r}else if((Ie|0)==77){Ie=0;Ne=xe+1|0;if((Ne|0)!=(t|0))switch(r[Ne>>0]|0){case 84:case 116:break;default:{Ce=xe;break i}}Ne=Bt(xe,t,n)|0;if((Ne|0)==(xe|0)|(Ne|0)==(t|0))break n;xt(l,(a[P>>2]|0)+-24|0);Oe=a[P>>2]|0;Me=Oe+-24|0;Pe=Oe;while(1){if((Pe|0)==(Me|0))break;Te=Pe+-24|0;a[P>>2]=Te;mr(Te);Pe=a[P>>2]|0}Pe=Oe+-48|0;Me=r[Pe>>0]|0;if(!(Me&1))Ue=(Me&255)>>>1;else Ue=a[Oe+-44>>2]|0;if(!Ue)Wt(Pe,l);else{jt(m,3782,l);Me=r[m>>0]|0;Re=(Me&1)==0;gr(Pe,Re?ge:a[_e>>2]|0,Re?(Me&255)>>>1:a[be>>2]|0)|0;Er(m)}Me=(a[P>>2]|0)+-24|0;a[g>>2]=a[F>>2];Ct(_,Me,g);Me=a[M>>2]|0;Re=a[U>>2]|0;Pe=Re;if(Me>>>0<Re>>>0){a[Me+12>>2]=a[pe>>2];a[Me>>2]=a[_>>2];a[Me+4>>2]=a[he>>2];a[Me+8>>2]=a[ye>>2];a[ye>>2]=0;a[he>>2]=0;a[_>>2]=0;a[M>>2]=(a[M>>2]|0)+16}else{Re=a[R>>2]|0;Se=Me-Re|0;Me=Se>>4;Te=Me+1|0;if((Se|0)<-16){Ie=92;break r}Se=Pe-Re|0;if(Se>>4>>>0<1073741823){Re=Se>>3;He=Re>>>0<Te>>>0?Te:Re}else He=2147483647;Nr(o,He,Me,V);Me=a[me>>2]|0;a[Me+12>>2]=a[pe>>2];a[Me>>2]=a[_>>2];a[Me+4>>2]=a[he>>2];a[Me+8>>2]=a[ye>>2];a[ye>>2]=0;a[he>>2]=0;a[_>>2]=0;a[me>>2]=Me+16;Mr(R,o);Rr(o)}_r(_);Er(l);ve=1;we=Ne;continue r}}while(0);Me=qt(Ce,t,n)|0;if((Me|0)==(Ce|0)|(Me|0)==(t|0))break n;xt(l,(a[P>>2]|0)+-24|0);Re=a[P>>2]|0;Te=Re+-24|0;Se=Re;while(1){if((Se|0)==(Te|0))break;Pe=Se+-24|0;a[P>>2]=Pe;mr(Pe);Se=a[P>>2]|0}Se=Re+-48|0;Te=r[Se>>0]|0;if(!(Te&1))Ge=(Te&255)>>>1;else Ge=a[Re+-44>>2]|0;if(!Ge)Wt(Se,l);else{jt(w,3782,l);Te=r[w>>0]|0;Pe=(Te&1)==0;gr(Se,Pe?Q:a[J>>2]|0,Pe?(Te&255)>>>1:a[Z>>2]|0)|0;Er(w)}Te=(a[P>>2]|0)+-24|0;a[S>>2]=a[F>>2];Ct(k,Te,S);Te=a[M>>2]|0;Pe=a[U>>2]|0;Se=Pe;if(Te>>>0<Pe>>>0){a[Te+12>>2]=a[W>>2];a[Te>>2]=a[k>>2];a[Te+4>>2]=a[q>>2];a[Te+8>>2]=a[X>>2];a[X>>2]=0;a[q>>2]=0;a[k>>2]=0;a[M>>2]=(a[M>>2]|0)+16}else{Pe=a[R>>2]|0;ze=Te-Pe|0;Te=ze>>4;Ve=Te+1|0;if((ze|0)<-16){Ie=123;break}ze=Se-Pe|0;if(ze>>4>>>0<1073741823){Pe=ze>>3;Ke=Pe>>>0<Ve>>>0?Ve:Pe}else Ke=2147483647;Nr(o,Ke,Te,V);Te=a[Y>>2]|0;a[Te+12>>2]=a[W>>2];a[Te>>2]=a[k>>2];a[Te+4>>2]=a[q>>2];a[Te+8>>2]=a[X>>2];a[X>>2]=0;a[q>>2]=0;a[k>>2]=0;a[Y>>2]=Te+16;Mr(R,o);Rr(o)}_r(k);Er(l);ve=1;we=Me}if((Ie|0)==52)Or(R);else if((Ie|0)==72)Or(R);else if((Ie|0)==92)Or(R);else if((Ie|0)==104)Or(R);else if((Ie|0)==123)Or(R);else if((Ie|0)==129){we=ke+1|0;a[n+48>>2]=a[s>>2];r:do{if(ve?(Y=a[M>>2]|0,(a[n+16>>2]|0)!=(Y|0)):0){q=Y+-16|0;X=Y;while(1){if((X|0)==(q|0))break r;Y=X+-16|0;a[M>>2]=Y;_r(Y);X=a[M>>2]|0}}}while(0);We=we;break t}}}while(0);We=x}else We=x}else We=t}while(0);qe=(We|0)==(x|0)?e:We;break e;break}case 90:{t:do{if(((C<<24>>24==90&(x|0)!=(t|0)?(T=x+1|0,M=Ar(T,t,n)|0,!((M|0)==(T|0)|(M|0)==(t|0))):0)?(r[M>>0]|0)==69:0)?(T=M+1|0,(T|0)!=(t|0)):0)switch(r[T>>0]|0){case 115:{ve=Xt(M+2|0,t)|0;R=a[n+4>>2]|0;if((a[n>>2]|0)==(R|0)){Xe=ve;break t}Cr(R+-24|0,3785)|0;Xe=ve;break t;break}case 100:{ve=M+2|0;if((ve|0)==(t|0)){Xe=x;break t}M=Gr(ve,t)|0;if((M|0)==(t|0)){Xe=x;break t}if((r[M>>0]|0)!=95){Xe=x;break t}ve=M+1|0;M=Dt(ve,t,n)|0;R=n+4|0;if((M|0)==(ve|0)){ve=a[R>>2]|0;X=ve+-24|0;q=ve;while(1){if((q|0)==(X|0)){Xe=x;break t}ve=q+-24|0;a[R>>2]=ve;mr(ve);q=a[R>>2]|0}}q=a[R>>2]|0;if(((q-(a[n>>2]|0)|0)/24|0)>>>0<2){Xe=x;break t}xt(o,q+-24|0);q=a[R>>2]|0;X=q+-24|0;ve=q;while(1){if((ve|0)==(X|0))break;Me=ve+-24|0;a[R>>2]=Me;mr(Me);ve=a[R>>2]|0}Cr(q+-48|0,3782)|0;ve=r[o>>0]|0;X=(ve&1)==0;gr((a[R>>2]|0)+-24|0,X?o+1|0:a[o+8>>2]|0,X?(ve&255)>>>1:a[o+4>>2]|0)|0;Er(o);Xe=M;break t;break}default:{ve=Dt(T,t,n)|0;if((ve|0)==(T|0)){X=n+4|0;Me=a[X>>2]|0;Re=Me+-24|0;Y=Me;while(1){if((Y|0)==(Re|0)){Xe=x;break t}Me=Y+-24|0;a[X>>2]=Me;mr(Me);Y=a[X>>2]|0}}X=Xt(ve,t)|0;Y=n+4|0;Re=a[Y>>2]|0;if(((Re-(a[n>>2]|0)|0)/24|0)>>>0<2){Xe=X;break t}xt(o,Re+-24|0);Re=a[Y>>2]|0;T=Re+-24|0;M=Re;while(1){if((M|0)==(T|0))break;R=M+-24|0;a[Y>>2]=R;mr(R);M=a[Y>>2]|0}Cr(Re+-48|0,3782)|0;M=r[o>>0]|0;T=(M&1)==0;gr((a[Y>>2]|0)+-24|0,T?o+1|0:a[o+8>>2]|0,T?(M&255)>>>1:a[o+4>>2]|0)|0;Er(o);Xe=X;break t}}else Xe=x}while(0);qe=(Xe|0)==(x|0)?e:Xe;break e;break}default:{do{if((A-x|0)>1){if(C<<24>>24==83?(r[x+1>>0]|0)==116:0){M=x+2|0;if((M|0)==(t|0)){Ye=0;Je=t}else{Ye=0;Je=(r[M>>0]|0)==76?x+3|0:M}}else{Ye=1;Je=x}M=qt(Je,t,n)|0;T=(M|0)==(Je|0);if(Ye|T)Qe=T?x:M;else{T=a[n+4>>2]|0;if((a[n>>2]|0)==(T|0))break;xr(T+-24|0,0,3802)|0;Qe=M}if((Qe|0)!=(x|0)){if((Qe|0)==(t|0)){qe=t;break e}if((r[Qe>>0]|0)!=73){qe=Qe;break e}M=n+4|0;T=a[M>>2]|0;if((a[n>>2]|0)==(T|0)){qe=e;break e}ve=n+16|0;a[E>>2]=a[n+12>>2];Ct(I,T+-24|0,E);T=n+20|0;R=a[T>>2]|0;q=a[n+24>>2]|0;Me=q;if(R>>>0<q>>>0){a[R+12>>2]=a[I+12>>2];a[R>>2]=a[I>>2];q=I+4|0;a[R+4>>2]=a[q>>2];W=I+8|0;a[R+8>>2]=a[W>>2];a[W>>2]=0;a[q>>2]=0;a[I>>2]=0;a[T>>2]=(a[T>>2]|0)+16}else{T=a[ve>>2]|0;q=R-T|0;R=q>>4;W=R+1|0;if((q|0)<-16)Or(ve);q=Me-T|0;if(q>>4>>>0<1073741823){T=q>>3;Ze=T>>>0<W>>>0?W:T}else Ze=2147483647;Nr(o,Ze,R,n+28|0);R=o+8|0;T=a[R>>2]|0;a[T+12>>2]=a[I+12>>2];a[T>>2]=a[I>>2];W=I+4|0;a[T+4>>2]=a[W>>2];q=I+8|0;a[T+8>>2]=a[q>>2];a[q>>2]=0;a[W>>2]=0;a[I>>2]=0;a[R>>2]=T+16;Mr(ve,o);Rr(o)}_r(I);ve=Pt(Qe,t,n)|0;if((ve|0)==(Qe|0)){qe=e;break e}T=a[M>>2]|0;if(((T-(a[n>>2]|0)|0)/24|0)>>>0<2){qe=e;break e}xt(o,T+-24|0);T=a[M>>2]|0;R=T+-24|0;W=T;while(1){if((W|0)==(R|0))break;q=W+-24|0;a[M>>2]=q;mr(q);W=a[M>>2]|0}M=r[o>>0]|0;W=(M&1)==0;gr(T+-48|0,W?o+1|0:a[o+8>>2]|0,W?(M&255)>>>1:a[o+4>>2]|0)|0;Er(o);qe=ve;break e}}}while(0);C=Ft(x,t,n)|0;if((C|0)==(x|0)|(C|0)==(t|0)){qe=e;break e}if((r[C>>0]|0)!=73){qe=e;break e}M=Pt(C,t,n)|0;if((M|0)==(C|0)){qe=e;break e}C=n+4|0;W=a[C>>2]|0;if(((W-(a[n>>2]|0)|0)/24|0)>>>0<2){qe=e;break e}xt(o,W+-24|0);W=a[C>>2]|0;R=W+-24|0;X=W;while(1){if((X|0)==(R|0))break;Y=X+-24|0;a[C>>2]=Y;mr(Y);X=a[C>>2]|0}C=r[o>>0]|0;X=(C&1)==0;gr(W+-48|0,X?o+1|0:a[o+8>>2]|0,X?(C&255)>>>1:a[o+4>>2]|0)|0;Er(o);qe=M;break e}}}else qe=e}while(0);f=i;return qe|0}function Ft(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0;i=f;f=f+176|0;o=i+144|0;s=i+120|0;l=i+96|0;u=i+72|0;c=i+48|0;d=i+24|0;p=i;e:do{if((t-e|0)>1?(r[e>>0]|0)==83:0){h=e+1|0;y=r[h>>0]|0;m=y<<24>>24;switch(m|0){case 97:{Ut(s,3693);_=n+4|0;g=a[_>>2]|0;b=a[n+8>>2]|0;v=b;if(g>>>0<b>>>0){At(g,s);a[_>>2]=(a[_>>2]|0)+24}else{_=a[n>>2]|0;b=g-_|0;g=(b|0)/24|0;w=g+1|0;if((b|0)<-24)Or(n);b=(v-_|0)/24|0;if(b>>>0<1073741823){_=b<<1;k=_>>>0<w>>>0?w:_}else k=2147483647;Fr(o,k,g,n+12|0);g=o+8|0;_=a[g>>2]|0;At(_,s);a[g>>2]=_+24;jr(n,o);Br(o)}mr(s);S=e+2|0;break e;break}case 98:{Ht(l,3708);_=n+4|0;g=a[_>>2]|0;w=a[n+8>>2]|0;b=w;if(g>>>0<w>>>0){At(g,l);a[_>>2]=(a[_>>2]|0)+24}else{_=a[n>>2]|0;w=g-_|0;g=(w|0)/24|0;v=g+1|0;if((w|0)<-24)Or(n);w=(b-_|0)/24|0;if(w>>>0<1073741823){_=w<<1;I=_>>>0<v>>>0?v:_}else I=2147483647;Fr(o,I,g,n+12|0);g=o+8|0;_=a[g>>2]|0;At(_,l);a[g>>2]=_+24;jr(n,o);Br(o)}mr(l);S=e+2|0;break e;break}case 115:{Gt(u,3726);_=n+4|0;g=a[_>>2]|0;v=a[n+8>>2]|0;w=v;if(g>>>0<v>>>0){At(g,u);a[_>>2]=(a[_>>2]|0)+24}else{_=a[n>>2]|0;v=g-_|0;g=(v|0)/24|0;b=g+1|0;if((v|0)<-24)Or(n);v=(w-_|0)/24|0;if(v>>>0<1073741823){
_=v<<1;E=_>>>0<b>>>0?b:_}else E=2147483647;Fr(o,E,g,n+12|0);g=o+8|0;_=a[g>>2]|0;At(_,u);a[g>>2]=_+24;jr(n,o);Br(o)}mr(u);S=e+2|0;break e;break}case 105:{zt(c,3738);_=n+4|0;g=a[_>>2]|0;b=a[n+8>>2]|0;v=b;if(g>>>0<b>>>0){At(g,c);a[_>>2]=(a[_>>2]|0)+24}else{_=a[n>>2]|0;b=g-_|0;g=(b|0)/24|0;w=g+1|0;if((b|0)<-24)Or(n);b=(v-_|0)/24|0;if(b>>>0<1073741823){_=b<<1;A=_>>>0<w>>>0?w:_}else A=2147483647;Fr(o,A,g,n+12|0);g=o+8|0;_=a[g>>2]|0;At(_,c);a[g>>2]=_+24;jr(n,o);Br(o)}mr(c);S=e+2|0;break e;break}case 111:{zt(d,3751);_=n+4|0;g=a[_>>2]|0;w=a[n+8>>2]|0;b=w;if(g>>>0<w>>>0){At(g,d);a[_>>2]=(a[_>>2]|0)+24}else{_=a[n>>2]|0;w=g-_|0;g=(w|0)/24|0;v=g+1|0;if((w|0)<-24)Or(n);w=(b-_|0)/24|0;if(w>>>0<1073741823){_=w<<1;x=_>>>0<v>>>0?v:_}else x=2147483647;Fr(o,x,g,n+12|0);g=o+8|0;_=a[g>>2]|0;At(_,d);a[g>>2]=_+24;jr(n,o);Br(o)}mr(d);S=e+2|0;break e;break}case 100:{Vt(p,3764);_=n+4|0;g=a[_>>2]|0;v=a[n+8>>2]|0;w=v;if(g>>>0<v>>>0){At(g,p);a[_>>2]=(a[_>>2]|0)+24}else{_=a[n>>2]|0;v=g-_|0;g=(v|0)/24|0;b=g+1|0;if((v|0)<-24)Or(n);v=(w-_|0)/24|0;if(v>>>0<1073741823){_=v<<1;C=_>>>0<b>>>0?b:_}else C=2147483647;Fr(o,C,g,n+12|0);g=o+8|0;_=a[g>>2]|0;At(_,p);a[g>>2]=_+24;jr(n,o);Br(o)}mr(p);S=e+2|0;break e;break}case 95:{_=a[n+16>>2]|0;if((_|0)==(a[n+20>>2]|0)){S=e;break e}g=a[_+4>>2]|0;b=n+4|0;v=n+8|0;w=n+12|0;T=o+8|0;P=a[_>>2]|0;while(1){if((P|0)==(g|0)){O=55;break}_=a[b>>2]|0;N=a[v>>2]|0;M=N;if((_|0)==(N|0)){N=a[n>>2]|0;R=_-N|0;D=(R|0)/24|0;F=D+1|0;if((R|0)<-24){O=59;break}R=(M-N|0)/24|0;if(R>>>0<1073741823){N=R<<1;B=N>>>0<F>>>0?F:N}else B=2147483647;Fr(o,B,D,w);D=a[T>>2]|0;Dr(D,P);Dr(D+12|0,P+12|0);a[T>>2]=D+24;jr(n,o);Br(o)}else{Dr(_,P);Dr(_+12|0,P+12|0);a[b>>2]=(a[b>>2]|0)+24}P=P+24|0}if((O|0)==55){S=e+2|0;break e}else if((O|0)==59)Or(n);break}default:{if((m+-48|0)>>>0<10)j=y;else{if(!(li(m)|0)){S=e;break e}j=r[h>>0]|0}P=j<<24>>24;b=P+-48|0;T=b>>>0<10?b:P+-55|0;P=e+2|0;while(1){if((P|0)==(t|0)){S=e;break e}b=r[P>>0]|0;w=b<<24>>24;if((w+-48|0)>>>0>=10){v=(li(w)|0)==0;w=r[P>>0]|0;if(v){L=w;U=T;H=P;break}else G=w}else G=b;b=G<<24>>24;w=b+-48|0;T=(w>>>0<10?w:b+-55|0)+(T*36|0)|0;P=P+1|0}if(L<<24>>24!=95){S=e;break e}P=U+1|0;T=a[n+16>>2]|0;h=T;if(P>>>0>=(a[n+20>>2]|0)-T>>4>>>0){S=e;break e}T=a[h+(P<<4)+4>>2]|0;m=n+4|0;y=n+8|0;b=n+12|0;w=o+8|0;v=a[h+(P<<4)>>2]|0;while(1){if((v|0)==(T|0)){O=76;break}P=a[m>>2]|0;h=a[y>>2]|0;g=h;if((P|0)==(h|0)){h=a[n>>2]|0;_=P-h|0;D=(_|0)/24|0;N=D+1|0;if((_|0)<-24){O=80;break}_=(g-h|0)/24|0;if(_>>>0<1073741823){h=_<<1;z=h>>>0<N>>>0?N:h}else z=2147483647;Fr(o,z,D,b);D=a[w>>2]|0;Dr(D,v);Dr(D+12|0,v+12|0);a[w>>2]=D+24;jr(n,o);Br(o)}else{Dr(P,v);Dr(P+12|0,v+12|0);a[m>>2]=(a[m>>2]|0)+24}v=v+24|0}if((O|0)==76){S=H+1|0;break e}else if((O|0)==80)Or(n)}}}else S=e}while(0);f=i;return S|0}function Bt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0;i=f;f=f+64|0;o=i+40|0;s=i+24|0;l=i+12|0;u=i;e:do{if((t-e|0)>3?(r[e>>0]|0)==68:0){switch(r[e+1>>0]|0){case 84:case 116:break;default:{c=e;break e}}d=e+2|0;p=Et(d,t,n)|0;if((!((p|0)==(d|0)|(p|0)==(t|0))?(r[p>>0]|0)==69:0)?(d=a[n+4>>2]|0,(a[n>>2]|0)!=(d|0)):0){h=d+-24|0;xt(u,h);d=xr(u,0,3683)|0;a[l>>2]=a[d>>2];a[l+4>>2]=a[d+4>>2];a[l+8>>2]=a[d+8>>2];y=0;while(1){if((y|0)==3)break;a[d+(y<<2)>>2]=0;y=y+1|0}y=Cr(l,3499)|0;a[s>>2]=a[y>>2];a[s+4>>2]=a[y+4>>2];a[s+8>>2]=a[y+8>>2];d=0;while(1){if((d|0)==3)break;a[y+(d<<2)>>2]=0;d=d+1|0}Mt(o,s);Rt(h,o);mr(o);Er(s);Er(l);Er(u);c=p+1|0}else c=e}else c=e}while(0);f=i;return c|0}function jt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;i=0;while(1){if((i|0)==3)break;a[e+(i<<2)>>2]=0;i=i+1|0}i=ci(t)|0;o=r[n>>0]|0;s=(o&1)==0?(o&255)>>>1:a[n+4>>2]|0;Lt(e,t,i,s+i|0);gr(e,(r[n>>0]&1)==0?n+1|0:a[n+8>>2]|0,s)|0;return}function Lt(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0;if(i>>>0>4294967279)Ir(e);if(i>>>0<11){r[e>>0]=n<<1;o=e+1|0}else{s=i+16&-16;i=ji(s)|0;a[e+8>>2]=i;a[e>>2]=s|1;a[e+4>>2]=n;o=i}Qi(o|0,t|0,n|0)|0;r[o+n>>0]=0;return}function Ut(e,t){e=e|0;t=t|0;Ur(e,t,14);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Ht(e,t){e=e|0;t=t|0;Ur(e,t,17);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Gt(e,t){e=e|0;t=t|0;Ur(e,t,11);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function zt(e,t){e=e|0;t=t|0;Ur(e,t,12);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Vt(e,t){e=e|0;t=t|0;Ur(e,t,13);t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function Kt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0;i=r[e>>0]|0;if(!(i&1)){o=10;s=i}else{i=a[e>>2]|0;o=(i&-2)+-1|0;s=i&255}i=(s&1)==0;do{if(o>>>0>=n>>>0){if(i)l=e+1|0;else l=a[e+8>>2]|0;Zi(l|0,t|0,n|0)|0;r[l+n>>0]=0;if(!(r[e>>0]&1)){r[e>>0]=n<<1;break}else{a[e+4>>2]=n;break}}else{if(i)u=(s&255)>>>1;else u=a[e+4>>2]|0;Sr(e,o,n-o|0,u,0,u,n,t)}}while(0);return}function Wt(e,t){e=e|0;t=t|0;var n=0,i=0;if((e|0)!=(t|0)){n=r[t>>0]|0;i=(n&1)==0;Kt(e,i?t+1|0:a[t+8>>2]|0,i?(n&255)>>>1:a[t+4>>2]|0)}return}function qt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0;i=f;f=f+112|0;o=i+88|0;s=i+64|0;l=i+48|0;u=i+24|0;c=i+12|0;d=i;e:do{if((e|0)==(t|0))p=e;else{h=r[e>>0]|0;y=h<<24>>24;switch(y|0){case 68:case 67:{t:do{if((t-e|0)>1?(m=n+4|0,_=a[m>>2]|0,(a[n>>2]|0)!=(_|0)):0){switch(y|0){case 67:{switch(r[e+1>>0]|0){case 53:case 51:case 50:case 49:break;default:{g=e;break t}}Yt(l,_+-24|0);Mt(s,l);b=a[m>>2]|0;v=a[n+8>>2]|0;w=v;if(b>>>0<v>>>0){At(b,s);a[m>>2]=(a[m>>2]|0)+24}else{v=a[n>>2]|0;k=b-v|0;b=(k|0)/24|0;S=b+1|0;if((k|0)<-24)Or(n);k=(w-v|0)/24|0;if(k>>>0<1073741823){v=k<<1;I=v>>>0<S>>>0?S:v}else I=2147483647;Fr(o,I,b,n+12|0);b=o+8|0;v=a[b>>2]|0;At(v,s);a[b>>2]=v+24;jr(n,o);Br(o)}mr(s);Er(l);r[n+60>>0]=1;g=e+2|0;break t;break}case 68:break;default:{g=e;break t}}switch(r[e+1>>0]|0){case 53:case 50:case 49:case 48:break;default:{g=e;break t}}Yt(d,_+-24|0);_=xr(d,0,3808)|0;a[c>>2]=a[_>>2];a[c+4>>2]=a[_+4>>2];a[c+8>>2]=a[_+8>>2];v=0;while(1){if((v|0)==3)break;a[_+(v<<2)>>2]=0;v=v+1|0}Mt(u,c);v=a[m>>2]|0;_=a[n+8>>2]|0;b=_;if(v>>>0<_>>>0){At(v,u);a[m>>2]=(a[m>>2]|0)+24}else{_=a[n>>2]|0;S=v-_|0;v=(S|0)/24|0;k=v+1|0;if((S|0)<-24)Or(n);S=(b-_|0)/24|0;if(S>>>0<1073741823){_=S<<1;E=_>>>0<k>>>0?k:_}else E=2147483647;Fr(o,E,v,n+12|0);v=o+8|0;_=a[v>>2]|0;At(_,u);a[v>>2]=_+24;jr(n,o);Br(o)}mr(u);Er(c);Er(d);r[n+60>>0]=1;g=e+2|0}else g=e}while(0);p=g;break e;break}case 85:{t:do{if((t-e|0)>2&h<<24>>24==85){switch(r[e+1>>0]|0){case 116:{Ur(l,3810,8);Mt(s,l);y=n+4|0;_=a[y>>2]|0;v=a[n+8>>2]|0;k=v;if(_>>>0<v>>>0){At(_,s);a[y>>2]=(a[y>>2]|0)+24}else{v=a[n>>2]|0;S=_-v|0;_=(S|0)/24|0;b=_+1|0;if((S|0)<-24)Or(n);S=(k-v|0)/24|0;if(S>>>0<1073741823){v=S<<1;A=v>>>0<b>>>0?b:v}else A=2147483647;Fr(o,A,_,n+12|0);_=o+8|0;v=a[_>>2]|0;At(v,s);a[_>>2]=v+24;jr(n,o);Br(o)}mr(s);Er(l);v=e+2|0;if((v|0)==(t|0)){_=a[y>>2]|0;b=_+-24|0;S=_;while(1){if((S|0)==(b|0)){x=e;break t}_=S+-24|0;a[y>>2]=_;mr(_);S=a[y>>2]|0}}if(((r[v>>0]|0)+-48|0)>>>0<10){S=e+3|0;while(1){if((S|0)==(t|0)){C=t;break}if(((r[S>>0]|0)+-48|0)>>>0>=10){C=S;break}S=S+1|0}Jt((a[y>>2]|0)+-24|0,v,C);T=C}else T=v;Qt((a[y>>2]|0)+-24|0,39);if((T|0)!=(t|0)?(r[T>>0]|0)==95:0){x=T+1|0;break t}S=a[y>>2]|0;b=S+-24|0;m=S;while(1){if((m|0)==(b|0)){x=e;break t}S=m+-24|0;a[y>>2]=S;mr(S);m=a[y>>2]|0}break}case 108:break;default:{x=e;break t}}Ur(c,3819,9);Mt(u,c);y=n+4|0;m=a[y>>2]|0;b=a[n+8>>2]|0;v=b;if(m>>>0<b>>>0){At(m,u);a[y>>2]=(a[y>>2]|0)+24}else{b=a[n>>2]|0;S=m-b|0;m=(S|0)/24|0;_=m+1|0;if((S|0)<-24)Or(n);S=(v-b|0)/24|0;if(S>>>0<1073741823){b=S<<1;P=b>>>0<_>>>0?_:b}else P=2147483647;Fr(o,P,m,n+12|0);m=o+8|0;b=a[m>>2]|0;At(b,u);a[m>>2]=b+24;jr(n,o);Br(o)}mr(u);Er(c);b=e+2|0;do{if((r[b>>0]|0)!=118){m=Tr(b,t,n)|0;if((m|0)==(b|0)){_=a[y>>2]|0;S=_+-24|0;v=_;while(1){if((v|0)==(S|0)){x=e;break t}_=v+-24|0;a[y>>2]=_;mr(_);v=a[y>>2]|0}}v=a[y>>2]|0;if(((v-(a[n>>2]|0)|0)/24|0)>>>0<2){x=e;break t}xt(o,v+-24|0);v=a[y>>2]|0;S=v+-24|0;_=v
;while(1){if((_|0)==(S|0))break;k=_+-24|0;a[y>>2]=k;mr(k);_=a[y>>2]|0}_=r[o>>0]|0;S=(_&1)==0;k=o+8|0;w=o+1|0;O=o+4|0;gr(v+-48|0,S?w:a[k>>2]|0,S?(_&255)>>>1:a[O>>2]|0)|0;S=_;_=m;while(1){N=Tr(_,t,n)|0;if((N|0)==(_|0)){M=_;R=91;break}D=a[y>>2]|0;if(((D-(a[n>>2]|0)|0)/24|0)>>>0<2){R=129;break}xt(d,D+-24|0);n:do{if(!(S&1)){r[w>>0]=0;r[o>>0]=0}else{D=a[k>>2]|0;r[D>>0]=0;a[O>>2]=0;F=a[o>>2]|0;B=(F&-2)+-1|0;j=F&255;do{if(!(j&1)){L=F>>>1&127;if((j&255)<22){Qi(w|0,D|0,(F>>>1&127)+1|0)|0;Li(D);U=L;break}H=L+16&240;G=H+-1|0;if((G|0)==(B|0))break n;z=ji(H)|0;if(G>>>0<=B>>>0&(z|0)==0)break n;Qi(z|0,w|0,(F>>>1&127)+1|0)|0;a[o>>2]=H|1;a[O>>2]=L;a[k>>2]=z;break n}else{r[w>>0]=0;Li(D);U=0}}while(0);r[o>>0]=U<<1}}while(0);a[o>>2]=a[d>>2];a[o+4>>2]=a[d+4>>2];a[o+8>>2]=a[d+8>>2];D=0;while(1){if((D|0)==3)break;a[d+(D<<2)>>2]=0;D=D+1|0}Er(d);D=a[y>>2]|0;F=D+-24|0;B=D;while(1){if((B|0)==(F|0))break;j=B+-24|0;a[y>>2]=j;mr(j);B=a[y>>2]|0}B=r[o>>0]|0;F=(B&1)==0;j=F?(B&255)>>>1:a[O>>2]|0;if(!j){S=B;_=N;continue}Cr(D+-48|0,3596)|0;gr((a[y>>2]|0)+-24|0,F?w:a[k>>2]|0,j)|0;S=B;_=N}if((R|0)==91){Cr((a[y>>2]|0)+-24|0,3499)|0;Er(o);V=M;break}else if((R|0)==129){Er(o);x=e;break t}}else{Qt((a[y>>2]|0)+-24|0,41);V=e+3|0}}while(0);if((V|0)!=(t|0)?(r[V>>0]|0)==69:0){b=V+1|0;if((b|0)==(t|0)){_=a[y>>2]|0;S=_+-24|0;k=_;while(1){if((k|0)==(S|0)){x=e;break t}_=k+-24|0;a[y>>2]=_;mr(_);k=a[y>>2]|0}}n:do{if(((r[b>>0]|0)+-48|0)>>>0<10){k=V+2|0;while(1){if((k|0)==(t|0)){K=t;break}if(((r[k>>0]|0)+-48|0)>>>0>=10){K=k;break}k=k+1|0}k=a[y>>2]|0;S=k+-24|0;_=r[S>>0]|0;w=k+-16|0;if(!(_&1)){W=w;q=S+1|0;X=(_&255)>>>1;Y=10;J=_}else{_=a[w>>2]|0;w=a[S>>2]|0;W=_+7|0;q=_;X=a[k+-20>>2]|0;Y=(w&-2)+-1|0;J=w&255}w=W-q|0;_=K-b|0;if((K|0)!=(b|0)){if((Y-X|0)>>>0>=_>>>0){if(!(J&1))Q=S+1|0;else Q=a[k+-16>>2]|0;if((X|0)==(w|0))Z=Q;else{O=Q+w|0;Zi(O+_|0,O|0,X-w|0)|0;Z=Q}}else{Zt(S,Y,X+_-Y|0,X,w,_);Z=a[k+-16>>2]|0}O=X+_|0;if(!(r[S>>0]&1))r[S>>0]=O<<1;else a[k+-20>>2]=O;r[Z+O>>0]=0;O=b;k=Z+w|0;while(1){if((O|0)==(K|0)){$=K;break n}r[k>>0]=r[O>>0]|0;O=O+1|0;k=k+1|0}}else $=b}else $=b}while(0);if(($|0)!=(t|0)?(r[$>>0]|0)==95:0){x=$+1|0;break}b=a[y>>2]|0;k=b+-24|0;O=b;while(1){if((O|0)==(k|0)){x=e;break t}b=O+-24|0;a[y>>2]=b;mr(b);O=a[y>>2]|0}}O=a[y>>2]|0;k=O+-24|0;b=O;while(1){if((b|0)==(k|0)){x=e;break t}O=b+-24|0;a[y>>2]=O;mr(O);b=a[y>>2]|0}}else x=e}while(0);p=x;break e;break}case 57:case 56:case 55:case 54:case 53:case 52:case 51:case 50:case 49:{p=Ot(e,t,n)|0;break e;break}default:{h=$t(e,t,n)|0;f=i;return h|0}}}}while(0);f=i;return p|0}function Xt(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,o=0,s=0,l=0;e:do{if((e|0)!=(t|0)){n=r[e>>0]|0;if(n<<24>>24!=95){if(((n<<24>>24)+-48|0)>>>0<10)i=e;else{a=e;break}while(1){n=i+1|0;if((n|0)==(t|0)){a=t;break e}if(((r[n>>0]|0)+-48|0)>>>0<10)i=n;else{a=n;break e}}}n=e+1|0;if((n|0)!=(t|0)){o=r[n>>0]|0;if(((o<<24>>24)+-48|0)>>>0<10){a=e+2|0;break}if(o<<24>>24==95){o=e+2|0;while(1){if((o|0)==(t|0)){a=e;break e}n=r[o>>0]|0;if(((n<<24>>24)+-48|0)>>>0>=10){s=n;l=o;break}o=o+1|0}return(s<<24>>24==95?l+1|0:e)|0}else a=e}else a=e}else a=e}while(0);return a|0}function Yt(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0;n=r[t>>0]|0;i=(n&1)==0;o=i?(n&255)>>>1:a[t+4>>2]|0;e:do{if(!o)Dr(e,t);else{n=i?t+1|0:a[t+8>>2]|0;s=o>>>0>11;l=fi(n,3726,s?11:o)|0;if(!(((l|0)==0?o>>>0<11?-1:s&1:l)|0)){Kt(t,4330,70);Ur(e,4401,12);break}l=o>>>0>12;s=l?12:o;u=fi(n,3738,s)|0;c=o>>>0<12?-1:l&1;if(!(((u|0)==0?c:u)|0)){Kt(t,4414,49);Ur(e,4464,13);break}u=fi(n,3751,s)|0;if(!(((u|0)==0?c:u)|0)){Kt(t,4478,49);Ur(e,4528,13);break}u=o>>>0>13;c=fi(n,3764,u?13:o)|0;if(!(((c|0)==0?o>>>0<13?-1:u&1:c)|0)){Kt(t,4542,50);Ur(e,4593,14);break}c=n+o|0;t:do{if((r[c+-1>>0]|0)==62){u=1;s=c;n:while(1){l=s;r:while(1){f=l+-1|0;if((f|0)==(n|0))break n;d=l+-2|0;switch(r[d>>0]|0){case 60:{p=d;h=f;y=18;break r;break}case 62:{m=f;y=19;break r;break}default:l=f}}if((y|0)==18){y=0;l=u+-1|0;if(!l){_=p;break t}else{u=l;s=h;continue}}else if((y|0)==19){y=0;u=u+1|0;s=m;continue}}s=0;while(1){if((s|0)==3)break e;a[e+(s<<2)>>2]=0;s=s+1|0}}else _=c}while(0);c=_;while(1){s=c+-1|0;if((s|0)==(n|0)){g=n;break}if((r[s>>0]|0)==58){g=c;break}else c=s}c=_-g|0;if(c>>>0>4294967279)Ir(e);if(c>>>0<11){r[e>>0]=c<<1;b=e+1|0}else{n=c+16&-16;s=ji(n)|0;a[e+8>>2]=s;a[e>>2]=n|1;a[e+4>>2]=c;b=s}s=g;n=b;while(1){if((s|0)==(_|0))break;r[n>>0]=r[s>>0]|0;s=s+1|0;n=n+1|0}r[b+c>>0]=0}}while(0);return}function Jt(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0;i=t;o=r[e>>0]|0;if(!(o&1)){s=(o&255)>>>1;l=10;u=o}else{o=a[e>>2]|0;s=a[e+4>>2]|0;l=(o&-2)+-1|0;u=o&255}o=n-i|0;do{if((n|0)!=(t|0)){if((l-s|0)>>>0<o>>>0){Zt(e,l,s+o-l|0,s,s,0);c=r[e>>0]|0}else c=u;if(!(c&1))f=e+1|0;else f=a[e+8>>2]|0;d=n+(s-i)|0;p=t;h=f+s|0;while(1){if((p|0)==(n|0))break;r[h>>0]=r[p>>0]|0;p=p+1|0;h=h+1|0}r[f+d>>0]=0;h=s+o|0;if(!(r[e>>0]&1)){r[e>>0]=h<<1;break}else{a[e+4>>2]=h;break}}}while(0);return}function Qt(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0;n=r[e>>0]|0;i=(n&1)!=0;if(i){o=(a[e>>2]&-2)+-1|0;s=a[e+4>>2]|0}else{o=10;s=(n&255)>>>1}if((s|0)==(o|0)){Zt(e,o,1,o,o,0);if(!(r[e>>0]&1))l=7;else l=8}else if(i)l=8;else l=7;if((l|0)==7){r[e>>0]=(s<<1)+2;u=e+1|0}else if((l|0)==8){l=a[e+8>>2]|0;a[e+4>>2]=s+1;u=l}l=u+s|0;r[l>>0]=t;r[l+1>>0]=0;return}function Zt(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,f=0;if((-17-t|0)>>>0<n>>>0)Ir(e);if(!(r[e>>0]&1))l=e+1|0;else l=a[e+8>>2]|0;if(t>>>0<2147483623){u=n+t|0;n=t<<1;c=u>>>0<n>>>0?n:u;f=c>>>0<11?11:c+16&-16}else f=-17;c=ji(f)|0;if(o)Qi(c|0,l|0,o|0)|0;if((i|0)!=(o|0))Qi(c+o+s|0,l+o|0,i-o|0)|0;if((t|0)!=10)Li(l);a[e+8>>2]=c;a[e>>2]=f|1;return}function $t(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0,ke=0,Se=0,Ie=0,Ee=0,Ae=0,xe=0,Ce=0,Te=0,Pe=0,Oe=0,Ne=0,Me=0,Re=0,De=0,Fe=0,Be=0,je=0,Le=0,Ue=0,He=0,Ge=0,ze=0,Ve=0,Ke=0,We=0,qe=0,Xe=0,Ye=0,Je=0,Qe=0;i=f;f=f+1136|0;o=i+1104|0;s=i+1080|0;l=i+1056|0;u=i+1032|0;c=i+1008|0;d=i+984|0;p=i+960|0;h=i+936|0;y=i+912|0;m=i+888|0;_=i+864|0;g=i+840|0;b=i+816|0;v=i+792|0;w=i+768|0;k=i+744|0;S=i+720|0;I=i+696|0;E=i+672|0;A=i+648|0;x=i+624|0;C=i+600|0;T=i+576|0;P=i+552|0;O=i+528|0;N=i+504|0;M=i+480|0;R=i+456|0;D=i+432|0;F=i+408|0;B=i+384|0;j=i+360|0;L=i+336|0;U=i+312|0;H=i+288|0;G=i+264|0;z=i+240|0;V=i+216|0;K=i+192|0;W=i+168|0;q=i+144|0;X=i+120|0;Y=i+96|0;J=i+72|0;Q=i+48|0;Z=i+24|0;$=i;e:do{if((t-e|0)>1)do{switch(r[e>>0]|0){case 97:{switch(r[e+1>>0]|0){case 97:{en(s,3829);ee=n+4|0;te=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(te>>>0<ne>>>0){At(te,s);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=te-ee|0;te=(ne|0)/24|0;ie=te+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;ae=ee>>>0<ie>>>0?ie:ee}else ae=2147483647;Fr(o,ae,te,n+12|0);te=o+8|0;ee=a[te>>2]|0;At(ee,s);a[te>>2]=ee+24;jr(n,o);Br(o)}mr(s);oe=e+2|0;break e;break}case 110:case 100:{tn(l,3840);ee=n+4|0;te=a[ee>>2]|0;ie=a[n+8>>2]|0;ne=ie;if(te>>>0<ie>>>0){At(te,l);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ie=te-ee|0;te=(ie|0)/24|0;re=te+1|0;if((ie|0)<-24)Or(n);ie=(ne-ee|0)/24|0;if(ie>>>0<1073741823){ee=ie<<1;se=ee>>>0<re>>>0?re:ee}else se=2147483647;Fr(o,se,te,n+12|0);te=o+8|0;ee=a[te>>2]|0;At(ee,l);a[te>>2]=ee+24;jr(n,o);Br(o)}mr(l);oe=e+2|0;break e;break}case 78:{en(u,3850);ee=n+4|0;te=a[ee>>2]|0;re=a[n+8>>2]|0;ie=re;if(te>>>0<re>>>0){At(te,u);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=te-ee|0;te=(re|0)/24|0;ne=te+1|0;if((re|0)<-24)Or(n);re=(ie-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;le=ee>>>0<ne>>>0?ne:ee}else le=2147483647;Fr(o,le,te,n+12|0);te=o+8|0;ee=a[te>>2]|0;At(ee,u);a[te>>2]=ee+24;jr(n,o);Br(o)}mr(u);oe=e+2|0;break e;break}case 83:{tn(c,3861);ee=n+4|0;te=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(te>>>0<ne>>>0){At(te,c);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=te-ee|0;te=(ne|0)/24|0;ie=te+1|0
;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;ue=ee>>>0<ie>>>0?ie:ee}else ue=2147483647;Fr(o,ue,te,n+12|0);te=o+8|0;ee=a[te>>2]|0;At(ee,c);a[te>>2]=ee+24;jr(n,o);Br(o)}mr(c);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 99:{switch(r[e+1>>0]|0){case 108:{en(d,3871);ee=n+4|0;te=a[ee>>2]|0;ie=a[n+8>>2]|0;ne=ie;if(te>>>0<ie>>>0){At(te,d);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ie=te-ee|0;te=(ie|0)/24|0;re=te+1|0;if((ie|0)<-24)Or(n);ie=(ne-ee|0)/24|0;if(ie>>>0<1073741823){ee=ie<<1;ce=ee>>>0<re>>>0?re:ee}else ce=2147483647;Fr(o,ce,te,n+12|0);te=o+8|0;ee=a[te>>2]|0;At(ee,d);a[te>>2]=ee+24;jr(n,o);Br(o)}mr(d);oe=e+2|0;break e;break}case 109:{tn(p,3882);ee=n+4|0;te=a[ee>>2]|0;re=a[n+8>>2]|0;ie=re;if(te>>>0<re>>>0){At(te,p);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=te-ee|0;te=(re|0)/24|0;ne=te+1|0;if((re|0)<-24)Or(n);re=(ie-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;fe=ee>>>0<ne>>>0?ne:ee}else fe=2147483647;Fr(o,fe,te,n+12|0);te=o+8|0;ee=a[te>>2]|0;At(ee,p);a[te>>2]=ee+24;jr(n,o);Br(o)}mr(p);oe=e+2|0;break e;break}case 111:{tn(h,3892);ee=n+4|0;te=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(te>>>0<ne>>>0){At(te,h);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=te-ee|0;te=(ne|0)/24|0;ie=te+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;de=ee>>>0<ie>>>0?ie:ee}else de=2147483647;Fr(o,de,te,n+12|0);te=o+8|0;ee=a[te>>2]|0;At(ee,h);a[te>>2]=ee+24;jr(n,o);Br(o)}mr(h);oe=e+2|0;break e;break}case 118:{ee=n+63|0;te=r[ee>>0]|0;r[ee>>0]=0;ie=e+2|0;ne=Tr(ie,t,n)|0;r[ee>>0]=te;if((ne|0)==(ie|0)){oe=e;break e}ie=a[n+4>>2]|0;if((a[n>>2]|0)==(ie|0)){oe=e;break e}xr(ie+-24|0,0,3902)|0;r[n+60>>0]=1;oe=ne;break e;break}default:{oe=e;break e}}break}case 100:{switch(r[e+1>>0]|0){case 97:{Ht(y,3912);ne=n+4|0;ie=a[ne>>2]|0;te=a[n+8>>2]|0;ee=te;if(ie>>>0<te>>>0){At(ie,y);a[ne>>2]=(a[ne>>2]|0)+24}else{ne=a[n>>2]|0;te=ie-ne|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ee-ne|0)/24|0;if(te>>>0<1073741823){ne=te<<1;pe=ne>>>0<re>>>0?re:ne}else pe=2147483647;Fr(o,pe,ie,n+12|0);ie=o+8|0;ne=a[ie>>2]|0;At(ne,y);a[ie>>2]=ne+24;jr(n,o);Br(o)}mr(y);oe=e+2|0;break e;break}case 101:{tn(m,3930);ne=n+4|0;ie=a[ne>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,m);a[ne>>2]=(a[ne>>2]|0)+24}else{ne=a[n>>2]|0;re=ie-ne|0;ie=(re|0)/24|0;ee=ie+1|0;if((re|0)<-24)Or(n);re=(te-ne|0)/24|0;if(re>>>0<1073741823){ne=re<<1;he=ne>>>0<ee>>>0?ee:ne}else he=2147483647;Fr(o,he,ie,n+12|0);ie=o+8|0;ne=a[ie>>2]|0;At(ne,m);a[ie>>2]=ne+24;jr(n,o);Br(o)}mr(m);oe=e+2|0;break e;break}case 108:{ne=ji(16)|0;a[_+8>>2]=ne;a[_>>2]=17;a[_+4>>2]=15;ie=ne;ee=3940;re=ie+15|0;do{r[ie>>0]=r[ee>>0]|0;ie=ie+1|0;ee=ee+1|0}while((ie|0)<(re|0));r[ne+15>>0]=0;ee=_+12|0;ie=0;while(1){if((ie|0)==3)break;a[ee+(ie<<2)>>2]=0;ie=ie+1|0}ie=n+4|0;ee=a[ie>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ee>>>0<ne>>>0){At(ee,_);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;ne=ee-ie|0;ee=(ne|0)/24|0;te=ee+1|0;if((ne|0)<-24)Or(n);ne=(re-ie|0)/24|0;if(ne>>>0<1073741823){ie=ne<<1;ye=ie>>>0<te>>>0?te:ie}else ye=2147483647;Fr(o,ye,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,_);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(_);oe=e+2|0;break e;break}case 118:{tn(g,3956);ie=n+4|0;ee=a[ie>>2]|0;te=a[n+8>>2]|0;ne=te;if(ee>>>0<te>>>0){At(ee,g);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;te=ee-ie|0;ee=(te|0)/24|0;re=ee+1|0;if((te|0)<-24)Or(n);te=(ne-ie|0)/24|0;if(te>>>0<1073741823){ie=te<<1;me=ie>>>0<re>>>0?re:ie}else me=2147483647;Fr(o,me,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,g);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(g);oe=e+2|0;break e;break}case 86:{en(b,3966);ie=n+4|0;ee=a[ie>>2]|0;re=a[n+8>>2]|0;te=re;if(ee>>>0<re>>>0){At(ee,b);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;re=ee-ie|0;ee=(re|0)/24|0;ne=ee+1|0;if((re|0)<-24)Or(n);re=(te-ie|0)/24|0;if(re>>>0<1073741823){ie=re<<1;_e=ie>>>0<ne>>>0?ne:ie}else _e=2147483647;Fr(o,_e,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,b);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(b);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 101:{switch(r[e+1>>0]|0){case 111:{tn(v,3977);ie=n+4|0;ee=a[ie>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ee>>>0<ne>>>0){At(ee,v);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;ne=ee-ie|0;ee=(ne|0)/24|0;te=ee+1|0;if((ne|0)<-24)Or(n);ne=(re-ie|0)/24|0;if(ne>>>0<1073741823){ie=ne<<1;ge=ie>>>0<te>>>0?te:ie}else ge=2147483647;Fr(o,ge,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,v);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(v);oe=e+2|0;break e;break}case 79:{en(w,3987);ie=n+4|0;ee=a[ie>>2]|0;te=a[n+8>>2]|0;ne=te;if(ee>>>0<te>>>0){At(ee,w);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;te=ee-ie|0;ee=(te|0)/24|0;re=ee+1|0;if((te|0)<-24)Or(n);te=(ne-ie|0)/24|0;if(te>>>0<1073741823){ie=te<<1;be=ie>>>0<re>>>0?re:ie}else be=2147483647;Fr(o,be,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,w);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(w);oe=e+2|0;break e;break}case 113:{en(k,3998);ie=n+4|0;ee=a[ie>>2]|0;re=a[n+8>>2]|0;te=re;if(ee>>>0<re>>>0){At(ee,k);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;re=ee-ie|0;ee=(re|0)/24|0;ne=ee+1|0;if((re|0)<-24)Or(n);re=(te-ie|0)/24|0;if(re>>>0<1073741823){ie=re<<1;ve=ie>>>0<ne>>>0?ne:ie}else ve=2147483647;Fr(o,ve,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,k);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(k);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 103:{switch(r[e+1>>0]|0){case 101:{en(S,4009);ie=n+4|0;ee=a[ie>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ee>>>0<ne>>>0){At(ee,S);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;ne=ee-ie|0;ee=(ne|0)/24|0;te=ee+1|0;if((ne|0)<-24)Or(n);ne=(re-ie|0)/24|0;if(ne>>>0<1073741823){ie=ne<<1;we=ie>>>0<te>>>0?te:ie}else we=2147483647;Fr(o,we,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,S);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(S);oe=e+2|0;break e;break}case 116:{tn(I,4020);ie=n+4|0;ee=a[ie>>2]|0;te=a[n+8>>2]|0;ne=te;if(ee>>>0<te>>>0){At(ee,I);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;te=ee-ie|0;ee=(te|0)/24|0;re=ee+1|0;if((te|0)<-24)Or(n);te=(ne-ie|0)/24|0;if(te>>>0<1073741823){ie=te<<1;ke=ie>>>0<re>>>0?re:ie}else ke=2147483647;Fr(o,ke,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,I);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(I);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 105:{if((r[e+1>>0]|0)!=120){oe=e;break e}en(E,4030);ie=n+4|0;ee=a[ie>>2]|0;re=a[n+8>>2]|0;te=re;if(ee>>>0<re>>>0){At(ee,E);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;re=ee-ie|0;ee=(re|0)/24|0;ne=ee+1|0;if((re|0)<-24)Or(n);re=(te-ie|0)/24|0;if(re>>>0<1073741823){ie=re<<1;Se=ie>>>0<ne>>>0?ne:ie}else Se=2147483647;Fr(o,Se,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,E);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(E);oe=e+2|0;break e;break}case 108:{switch(r[e+1>>0]|0){case 101:{en(A,4041);ie=n+4|0;ee=a[ie>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ee>>>0<ne>>>0){At(ee,A);a[ie>>2]=(a[ie>>2]|0)+24}else{ie=a[n>>2]|0;ne=ee-ie|0;ee=(ne|0)/24|0;te=ee+1|0;if((ne|0)<-24)Or(n);ne=(re-ie|0)/24|0;if(ne>>>0<1073741823){ie=ne<<1;Ie=ie>>>0<te>>>0?te:ie}else Ie=2147483647;Fr(o,Ie,ee,n+12|0);ee=o+8|0;ie=a[ee>>2]|0;At(ie,A);a[ee>>2]=ie+24;jr(n,o);Br(o)}mr(A);oe=e+2|0;break e;break}case 105:{ie=e+2|0;ee=Ot(ie,t,n)|0;if((ee|0)==(ie|0)){oe=e;break e}ie=a[n+4>>2]|0;if((a[n>>2]|0)==(ie|0)){oe=e;break e}xr(ie+-24|0,0,4052)|0;oe=ee;break e;break}case 115:{en(x,4064);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,x);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;Ee=ee>>>0<re>>>0?re:ee}else Ee=2147483647;Fr(o,Ee,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,x);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(x);oe=e+2|0;break e;break}case 83:{Gt(C,4075);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,C);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;Ae=ee>>>0<ne>>>0?ne:ee}else Ae=2147483647;Fr(o,Ae,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,C);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(C);oe=e+2|0;break e;break}case 116:{tn(T,4087);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,T);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0
;if(ne>>>0<1073741823){ee=ne<<1;xe=ee>>>0<te>>>0?te:ee}else xe=2147483647;Fr(o,xe,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,T);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(T);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 109:{switch(r[e+1>>0]|0){case 105:{tn(P,4097);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,P);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;Ce=ee>>>0<re>>>0?re:ee}else Ce=2147483647;Fr(o,Ce,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,P);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(P);oe=e+2|0;break e;break}case 73:{en(O,4107);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,O);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;Te=ee>>>0<ne>>>0?ne:ee}else Te=2147483647;Fr(o,Te,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,O);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(O);oe=e+2|0;break e;break}case 108:{tn(N,3930);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,N);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;Pe=ee>>>0<te>>>0?te:ee}else Pe=2147483647;Fr(o,Pe,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,N);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(N);oe=e+2|0;break e;break}case 76:{en(M,4118);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,M);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;Oe=ee>>>0<re>>>0?re:ee}else Oe=2147483647;Fr(o,Oe,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,M);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(M);oe=e+2|0;break e;break}case 109:{en(R,4129);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,R);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;Ne=ee>>>0<ne>>>0?ne:ee}else Ne=2147483647;Fr(o,Ne,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,R);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(R);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 110:{switch(r[e+1>>0]|0){case 97:{Ut(D,4140);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,D);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;Me=ee>>>0<te>>>0?te:ee}else Me=2147483647;Fr(o,Me,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,D);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(D);oe=e+2|0;break e;break}case 101:{en(F,4155);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,F);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;Re=ee>>>0<re>>>0?re:ee}else Re=2147483647;Fr(o,Re,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,F);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(F);oe=e+2|0;break e;break}case 103:{tn(B,4097);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,B);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;De=ee>>>0<ne>>>0?ne:ee}else De=2147483647;Fr(o,De,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,B);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(B);oe=e+2|0;break e;break}case 116:{tn(j,4166);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,j);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;Fe=ee>>>0<te>>>0?te:ee}else Fe=2147483647;Fr(o,Fe,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,j);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(j);oe=e+2|0;break e;break}case 119:{zt(L,4176);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,L);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;Be=ee>>>0<re>>>0?re:ee}else Be=2147483647;Fr(o,Be,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,L);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(L);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 111:{switch(r[e+1>>0]|0){case 111:{en(U,4189);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,U);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;je=ee>>>0<ne>>>0?ne:ee}else je=2147483647;Fr(o,je,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,U);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(U);oe=e+2|0;break e;break}case 114:{tn(H,4200);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,H);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;Le=ee>>>0<te>>>0?te:ee}else Le=2147483647;Fr(o,Le,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,H);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(H);oe=e+2|0;break e;break}case 82:{en(G,4210);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,G);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;Ue=ee>>>0<re>>>0?re:ee}else Ue=2147483647;Fr(o,Ue,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,G);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(G);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 112:{switch(r[e+1>>0]|0){case 109:{Gt(z,4221);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,z);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;He=ee>>>0<ne>>>0?ne:ee}else He=2147483647;Fr(o,He,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,z);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(z);oe=e+2|0;break e;break}case 108:{tn(V,4233);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,V);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;Ge=ee>>>0<te>>>0?te:ee}else Ge=2147483647;Fr(o,Ge,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,V);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(V);oe=e+2|0;break e;break}case 76:{en(K,4243);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,K);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;ze=ee>>>0<re>>>0?re:ee}else ze=2147483647;Fr(o,ze,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,K);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(K);oe=e+2|0;break e;break}case 112:{en(W,4254);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,W);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;Ve=ee>>>0<ne>>>0?ne:ee}else Ve=2147483647;Fr(o,Ve,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,W);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(W);oe=e+2|0;break e;break}case 115:{tn(q,4233);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,q);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;Ke=ee>>>0<te>>>0?te:ee}else Ke=2147483647;Fr(o,Ke,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,q);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(q);oe=e+2|0;break e;break}case 116:{en(X,4265);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,X);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;We=ee>>>0<re>>>0?re:ee}else We=2147483647;Fr(o,We,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,X);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(X);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 113:{if((r[e+1>>0]|0)!=117){oe=e;break e}tn(Y,4276);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,Y)
;a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;qe=ee>>>0<ne>>>0?ne:ee}else qe=2147483647;Fr(o,qe,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,Y);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(Y);oe=e+2|0;break e;break}case 114:{switch(r[e+1>>0]|0){case 109:{tn(J,4286);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,J);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;Xe=ee>>>0<te>>>0?te:ee}else Xe=2147483647;Fr(o,Xe,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,J);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(J);oe=e+2|0;break e;break}case 77:{en(Q,4296);ee=n+4|0;ie=a[ee>>2]|0;te=a[n+8>>2]|0;ne=te;if(ie>>>0<te>>>0){At(ie,Q);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;te=ie-ee|0;ie=(te|0)/24|0;re=ie+1|0;if((te|0)<-24)Or(n);te=(ne-ee|0)/24|0;if(te>>>0<1073741823){ee=te<<1;Ye=ee>>>0<re>>>0?re:ee}else Ye=2147483647;Fr(o,Ye,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,Q);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(Q);oe=e+2|0;break e;break}case 115:{en(Z,4307);ee=n+4|0;ie=a[ee>>2]|0;re=a[n+8>>2]|0;te=re;if(ie>>>0<re>>>0){At(ie,Z);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;re=ie-ee|0;ie=(re|0)/24|0;ne=ie+1|0;if((re|0)<-24)Or(n);re=(te-ee|0)/24|0;if(re>>>0<1073741823){ee=re<<1;Je=ee>>>0<ne>>>0?ne:ee}else Je=2147483647;Fr(o,Je,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,Z);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr(Z);oe=e+2|0;break e;break}case 83:{Gt($,4318);ee=n+4|0;ie=a[ee>>2]|0;ne=a[n+8>>2]|0;re=ne;if(ie>>>0<ne>>>0){At(ie,$);a[ee>>2]=(a[ee>>2]|0)+24}else{ee=a[n>>2]|0;ne=ie-ee|0;ie=(ne|0)/24|0;te=ie+1|0;if((ne|0)<-24)Or(n);ne=(re-ee|0)/24|0;if(ne>>>0<1073741823){ee=ne<<1;Qe=ee>>>0<te>>>0?te:ee}else Qe=2147483647;Fr(o,Qe,ie,n+12|0);ie=o+8|0;ee=a[ie>>2]|0;At(ee,$);a[ie>>2]=ee+24;jr(n,o);Br(o)}mr($);oe=e+2|0;break e;break}default:{oe=e;break e}}break}case 118:{if(((r[e+1>>0]|0)+-48|0)>>>0>=10){oe=e;break e}ee=e+2|0;ie=Ot(ee,t,n)|0;if((ie|0)==(ee|0)){oe=e;break e}ee=a[n+4>>2]|0;if((a[n>>2]|0)==(ee|0)){oe=e;break e}xr(ee+-24|0,0,3902)|0;oe=ie;break e;break}default:{oe=e;break e}}}while(0);else oe=e}while(0);f=i;return oe|0}function en(e,t){e=e|0;t=t|0;var n=0,i=0;r[e>>0]=20;n=e+1|0;i=t;t=n+10|0;do{r[n>>0]=r[i>>0]|0;n=n+1|0;i=i+1|0}while((n|0)<(t|0));r[e+11>>0]=0;i=e+12|0;e=0;while(1){if((e|0)==3)break;a[i+(e<<2)>>2]=0;e=e+1|0}return}function tn(e,t){e=e|0;t=t|0;var n=0,i=0;r[e>>0]=18;n=e+1|0;i=t;t=n+9|0;do{r[n>>0]=r[i>>0]|0;n=n+1|0;i=i+1|0}while((n|0)<(t|0));r[e+10>>0]=0;i=e+12|0;e=0;while(1){if((e|0)==3)break;a[i+(e<<2)>>2]=0;e=e+1|0}return}function nn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,o=0,s=0,l=0;e:do{if((e|0)==(t|0))i=e;else switch(r[e>>0]|0){case 88:{a=e+1|0;o=Et(a,t,n)|0;if((o|0)==(a|0)|(o|0)==(t|0)){i=e;break e}i=(r[o>>0]|0)==69?o+1|0:e;break e;break}case 74:{o=e+1|0;if((o|0)==(t|0)){i=e;break e}else s=o;while(1){if((r[s>>0]|0)==69){l=s;break}o=s;s=nn(s,t,n)|0;if((s|0)==(o|0)){i=e;break e}}i=l+1|0;break e;break}case 76:{o=e+1|0;if((o|0)!=(t|0)?(r[o>>0]|0)==90:0){o=e+2|0;a=Ar(o,t,n)|0;if((a|0)==(o|0)|(a|0)==(t|0)){i=e;break e}i=(r[a>>0]|0)==69?a+1|0:e;break e}i=Vr(e,t,n)|0;break e;break}default:{i=Tr(e,t,n)|0;break e}}}while(0);return i|0}function rn(e){e=e|0;var t=0;t=f;f=f+e|0;f=f+15&-16;return t|0}function an(){return f|0}function on(e){e=e|0;f=e}function sn(e,t){e=e|0;t=t|0;f=e;d=t}function ln(e,t){e=e|0;t=t|0;if(!m){m=e;_=t}}function un(e){e=e|0;r[p>>0]=r[e>>0];r[p+1>>0]=r[e+1>>0];r[p+2>>0]=r[e+2>>0];r[p+3>>0]=r[e+3>>0]}function cn(e){e=e|0;r[p>>0]=r[e>>0];r[p+1>>0]=r[e+1>>0];r[p+2>>0]=r[e+2>>0];r[p+3>>0]=r[e+3>>0];r[p+4>>0]=r[e+4>>0];r[p+5>>0]=r[e+5>>0];r[p+6>>0]=r[e+6>>0];r[p+7>>0]=r[e+7>>0]}function fn(e){e=e|0;O=e}function dn(){return O|0}function pn(e){e=e|0;return hn(e,1372)|0}function hn(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0;n=f;f=f+2528|0;i=n+2512|0;o=n+2504|0;s=n;l=ci(e)|0;u=ci(t)|0;c=vn(l)|0;d=c+1|0;p=ji(d)|0;qi(p|0,0,d|0)|0;wn(p,e,l)|0;l=(c<<1)+17|0;e=ji(l)|0;qi(e|0,0,l|0)|0;Sn(s,yt(0)|0);l=s+2496|0;d=a[l>>2]|0;if(d&1)xe(1395,1414,167,1423);if((d|0)>623){kn(s);a[l>>2]=0;h=0}else h=d;d=s+(((h|0)/2|0)<<3)|0;s=a[d>>2]|0;y=a[d+4>>2]|0;a[l>>2]=h+2;h=o;a[h>>2]=s;a[h+4>>2]=y;ki(e,17,1443,o)|0;o=e+16|0;if(!c){Li(p);f=n;return e|0}else{m=0;_=0;g=0}while(1){y=(_|0)==(u|0)?0:_;h=(g|0)==16?0:g;a[i>>2]=(r[e+h>>0]^r[p+m>>0]^r[t+y>>0])<<24>>24;ki(o+(m<<1)|0,3,1390,i)|0;m=m+1|0;if((m|0)==(c|0))break;else{_=y+1|0;g=h+1|0}}Li(p);f=n;return e|0}function yn(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0;n=ci(1372)|0;i=ci(t)|0;a=i+n|0;o=a+1|0;s=ji(o)|0;qi(s|0,0,o|0)|0;if(!a){l=_n(e,s)|0;Li(s);return l|0}if(!i){o=0;u=0;while(1){c=(u|0)==(n|0)?0:u;r[s+o>>0]=r[1372+c>>0]|0;o=o+1|0;if((o|0)==(n|0))break;else u=c+1|0}l=_n(e,s)|0;Li(s);return l|0}else{f=0;d=0;p=0}while(1){if(!(f&1)){u=(p|0)==(i|0)?0:p;h=t+u|0;y=d;m=u+1|0}else{u=(d|0)==(n|0)?0:d;h=1372+u|0;y=u+1|0;m=p}r[s+f>>0]=r[h>>0]|0;f=f+1|0;if((f|0)==(a|0))break;else{d=y;p=m}}l=_n(e,s)|0;Li(s);return l|0}function mn(e){e=e|0;return _n(e,1372)|0}function _n(e,t){e=e|0;t=t|0;var n=0,i=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0;n=f;f=f+48|0;i=n;s=n+8|0;l=s;u=l+32|0;do{r[l>>0]=0;l=l+1|0}while((l|0)<(u|0));a[i>>2]=e;ki(s,17,1451,i)|0;i=e+16|0;e=ci(i)|0;l=ci(t)|0;u=(e>>>1)+1|0;c=ji(u)|0;qi(c|0,0,u|0)|0;if(!e){d=gn(c)|0;p=d+1|0;h=ji(p)|0;qi(h|0,0,p|0)|0;bn(h,c)|0;Li(c);f=n;return h|0}else{y=0;m=0;_=0;g=0}while(1){u=(m|0)==(l|0)?0:m;b=(g|0)==16?0:g;do{switch(r[i+y>>0]|0){case 102:{v=240;break}case 49:{v=16;break}case 50:{v=32;break}case 51:{v=48;break}case 52:{v=64;break}case 53:{v=80;break}case 54:{v=96;break}case 55:{v=112;break}case 56:{v=128;break}case 57:{v=144;break}case 97:{v=160;break}case 98:{v=176;break}case 99:{v=192;break}case 100:{v=208;break}case 101:{v=224;break}default:v=0}}while(0);do{switch(r[i+(y|1)>>0]|0){case 102:{w=15;break}case 49:{w=1;break}case 50:{w=2;break}case 51:{w=3;break}case 52:{w=4;break}case 53:{w=5;break}case 54:{w=6;break}case 55:{w=7;break}case 56:{w=8;break}case 57:{w=9;break}case 97:{w=10;break}case 98:{w=11;break}case 99:{w=12;break}case 100:{w=13;break}case 101:{w=14;break}default:w=0}}while(0);r[c+_>>0]=o[s+b>>0]^(w|v)^o[t+u>>0];y=y+2|0;if(y>>>0>=e>>>0)break;else{m=u+1|0;_=_+1|0;g=b+1|0}}d=gn(c)|0;p=d+1|0;h=ji(p)|0;qi(h|0,0,p|0)|0;bn(h,c)|0;Li(c);f=n;return h|0}function gn(e){e=e|0;var t=0,n=0,r=0;t=e;while(1){n=t+1|0;if((o[1454+(o[t>>0]|0)>>0]|0)<64)t=n;else{r=n;break}}return(((2-e+r|0)/4|0)*3|0)+1|0}function bn(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0;n=t;while(1){i=n+1|0;if((o[1454+(o[n>>0]|0)>>0]|0)<64)n=i;else{a=i;break}}n=a;a=t;i=n-a|0;s=i+-1|0;l=((i+2|0)/4|0)*3|0;if((s|0)>4){i=n+-5|0;u=(n+-6-a|0)>>>2;n=u<<2;c=n+4|0;f=(u*3|0)+3|0;u=t;d=e;p=s;while(1){h=u+1|0;r[d>>0]=(o[1454+(o[h>>0]|0)>>0]|0)>>>4|(o[1454+(o[u>>0]|0)>>0]|0)<<2;y=u+2|0;r[d+1>>0]=(o[1454+(o[y>>0]|0)>>0]|0)>>>2|(o[1454+(o[h>>0]|0)>>0]|0)<<4;r[d+2>>0]=o[1454+(o[u+3>>0]|0)>>0]|0|(o[1454+(o[y>>0]|0)>>0]|0)<<6;p=p+-4|0;if((p|0)<=4)break;else{u=u+4|0;d=d+3|0}}m=t+c|0;_=e+f|0;g=i-a-n|0}else{m=t;_=e;g=s}if((g|0)<=1){b=_;r[b>>0]=0;v=0-g|0;w=v&3;k=l-w|0;return k|0}s=m+1|0;e=_+1|0;r[_>>0]=(o[1454+(o[s>>0]|0)>>0]|0)>>>4|(o[1454+(o[m>>0]|0)>>0]|0)<<2;if((g|0)<=2){b=e;r[b>>0]=0;v=0-g|0;w=v&3;k=l-w|0;return k|0}t=m+2|0;n=_+2|0;r[e>>0]=(o[1454+(o[t>>0]|0)>>0]|0)>>>2|(o[1454+(o[s>>0]|0)>>0]|0)<<4;if((g|0)<=3){b=n;r[b>>0]=0;v=0-g|0;w=v&3;k=l-w|0;return k|0}r[n>>0]=o[1454+(o[m+3>>0]|0)>>0]|0|(o[1454+(o[t>>0]|0)>>0]|0)<<6;b=_+3|0;r[b>>0]=0;v=0-g|0;w=v&3;k=l-w|0;return k|0}function vn(e){e=e|0;return((e+2|0)/3|0)<<2|1|0}function wn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0;i=n+-2|0;if((n|0)>2){a=0;s=e;while(1){l=t+a|0;r[s>>0]=r[1710+((o[l>>0]|0)>>>2)>>0]|0;u=t+(a+1)|0;r[s+1>>0]=r[1710+((o[l>>0]|0)<<4&48|(o[u>>0]|0)>>>4)>>0]|0;l=t+(a+2)|0;r[s+2>>0]=r[1710+((o[u>>0]|0)<<2&60|(o[l>>0]|0)>>>6)>>0]|0;u=s+4|0
;r[s+3>>0]=r[1710+((o[l>>0]|0)&63)>>0]|0;l=a+3|0;if((l|0)<(i|0)){a=l;s=u}else{c=l;f=u;break}}}else{c=0;f=e}if((c|0)>=(n|0)){d=f;p=d+1|0;r[d>>0]=0;h=p;y=e;m=h-y|0;return m|0}s=t+c|0;a=f+1|0;r[f>>0]=r[1710+((o[s>>0]|0)>>>2)>>0]|0;i=(o[s>>0]|0)<<4&48;if((c|0)==(n+-1|0)){r[a>>0]=r[1710+i>>0]|0;_=61}else{n=t+(c+1)|0;r[a>>0]=r[1710+((o[n>>0]|0)>>>4|i)>>0]|0;_=r[1710+((o[n>>0]|0)<<2&60)>>0]|0}r[f+2>>0]=_;r[f+3>>0]=61;d=f+4|0;p=d+1|0;r[d>>0]=0;h=p;y=e;m=h-y|0;return m|0}function kn(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0;t=e+2480|0;n=a[t>>2]|0;r=a[e+2488>>2]|0;i=0;o=e+2464|0;s=t;while(1){t=e+(i<<4)|0;l=i+122|0;u=e+(l<<4)|0;c=t+12|0;f=a[c>>2]|0;d=e+(i<<4)+8|0;p=a[d>>2]|0;h=t+4|0;y=a[h>>2]|0;m=a[t>>2]|0;_=Ji(m|0,y|0,24)|0;g=Ji(p|0,f|0,24)|0;b=a[o+12>>2]|0;v=a[o+8>>2]|0;w=a[o+4>>2]|0;k=a[o>>2]|0;S=Ji(v|0,b|0,8)|0;I=Ji(k|0,w|0,8)|0;w=O;k=Xi(v|0,0,56)|0;n=m<<8^m^(a[u>>2]|0)>>>11&2097135^n<<18^I;a[t>>2]=n;a[h>>2]=y^_^(a[u+4>>2]|0)>>>11&2018175^(w|O)^a[s+4>>2]<<18;r=S^(y>>>24|p<<8)^p^(a[e+(l<<4)+8>>2]|0)>>>11&1769471^r<<18;a[d>>2]=r;a[c>>2]=b>>>8^g^f^(a[u+12>>2]|0)>>>11&2097142^a[s+12>>2]<<18;i=i+1|0;if((i|0)==34){E=s;break}else{u=s;s=t;o=u}}o=e+528|0;s=a[o>>2]|0;i=a[e+536>>2]|0;r=34;n=E;E=o;while(1){o=e+(r<<4)|0;u=r+-34|0;t=e+(u<<4)|0;f=o+12|0;g=a[f>>2]|0;b=e+(r<<4)+8|0;c=a[b>>2]|0;d=o+4|0;l=a[d>>2]|0;p=a[o>>2]|0;y=Ji(p|0,l|0,24)|0;S=Ji(c|0,g|0,24)|0;w=a[n+12>>2]|0;_=a[n+8>>2]|0;h=a[n+4>>2]|0;I=a[n>>2]|0;m=Ji(_|0,w|0,8)|0;v=Ji(I|0,h|0,8)|0;h=O;I=Xi(_|0,0,56)|0;s=p<<8^p^(a[t>>2]|0)>>>11&2097135^s<<18^v;a[o>>2]=s;a[d>>2]=l^y^(a[t+4>>2]|0)>>>11&2018175^(h|O)^a[E+4>>2]<<18;i=m^(l>>>24|c<<8)^c^(a[e+(u<<4)+8>>2]|0)>>>11&1769471^i<<18;a[b>>2]=i;a[f>>2]=w>>>8^S^g^(a[t+12>>2]|0)>>>11&2097142^a[E+12>>2]<<18;r=r+1|0;if((r|0)==156)break;else{t=E;E=o;n=t}}return}function Sn(e,t){e=e|0;t=t|0;var n=0,r=0;a[e>>2]=t;n=t;t=1;do{n=(te(n>>>30^n,1812433253)|0)+t|0;a[e+(t<<2)>>2]=n;t=t+1|0}while((t|0)!=624);a[e+2496>>2]=624;t=a[e>>2]|0;n=a[e+12>>2]&331998852;r=n>>>16^(n|t&1);n=r>>>8^r;r=n>>>4^n;n=r>>>2^r;if((n>>>1^n)&1)return;a[e>>2]=t^1;return}function In(e,t){e=e|0;t=t|0;var n=0;if(!(r[t>>0]&1))n=t+1|0;else n=a[t+8>>2]|0;t=pn(n)|0;zi(e,t,ci(t)|0);Li(t);return}function En(e,t){e=e|0;t=t|0;var n=0;if(!(r[t>>0]&1))n=t+1|0;else n=a[t+8>>2]|0;t=mn(n)|0;zi(e,t,ci(t)|0);Li(t);return}function An(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;if(!(r[t>>0]&1))i=t+1|0;else i=a[t+8>>2]|0;if(!(r[n>>0]&1))o=n+1|0;else o=a[n+8>>2]|0;n=yn(i,o)|0;zi(e,n,ci(n)|0);Li(n);return}function xn(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0;n=f;f=f+32|0;i=n+12|0;o=n;zi(o,t+4|0,a[t>>2]|0);Oa[e&3](i,o);e=r[i>>0]|0;t=(e&1)==0;s=t?(e&255)>>>1:a[i+4>>2]|0;e=ji(s+4|0)|0;a[e>>2]=s;Qi(e+4|0,(t?i+1|0:a[i+8>>2]|0)|0,s|0)|0;Vi(i);Vi(o);f=n;return e|0}function Cn(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;i=f;f=f+48|0;o=i+24|0;s=i+12|0;l=i;zi(s,t+4|0,a[t>>2]|0);zi(l,n+4|0,a[n>>2]|0);Ma[e&1](o,s,l);e=r[o>>0]|0;n=(e&1)==0;t=n?(e&255)>>>1:a[o+4>>2]|0;e=ji(t+4|0)|0;a[e>>2]=t;Qi(e+4|0,(n?o+1|0:a[o+8>>2]|0)|0,t|0)|0;Vi(o);Vi(l);Vi(s);f=i;return e|0}function Tn(){Oe(1775,2,408,1789,1,1);Oe(1793,2,408,1789,1,2);Oe(1807,3,416,1822,6,1);return}function Pn(e){e=e|0;return di(a[e+4>>2]|0)|0}function On(e){e=e|0;Be(272,5082);Le(280,5087,1,1,0);ve(288,4663,1,-128,127);ve(304,4668,1,-128,127);ve(296,4680,1,0,255);ve(312,4694,2,-32768,32767);ve(320,4700,2,0,65535);ve(328,5092,4,-2147483648,2147483647);ve(336,5096,4,0,-1);ve(344,5109,4,-2147483648,2147483647);ve(352,5114,4,0,-1);$e(360,5157,4);$e(368,5163,8);wt(8,3726);wt(40,1928);Ve(64,4,1961);We(88,1974);Xe(96,0,1990);Xe(104,0,2020);Xe(112,1,2057);Xe(120,2,2096);Xe(128,3,2127);Xe(136,4,2167);Xe(144,5,2196);Xe(152,4,2234);Xe(160,5,2264);Xe(104,0,2303);Xe(112,1,2335);Xe(120,2,2368);Xe(128,3,2401);Xe(136,4,2435);Xe(144,5,2468);Xe(168,6,2502);Xe(176,7,2533);Xe(184,7,2565);return}function Nn(){On(0);return}function Mn(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0;o=f;f=f+4208|0;s=o+4176|0;l=o;u=o+4112|0;if((e|0)!=0?(c=(t|0)!=0,d=(n|0)==0,!(c&d)):0){if(c)p=a[n>>2]|0;else p=0;a[l+4096>>2]=l;c=l;a[u>>2]=0;l=u+4|0;a[l>>2]=0;a[u+8>>2]=0;a[u+12>>2]=c;h=u+16|0;a[h>>2]=0;y=u+20|0;a[y>>2]=0;a[u+24>>2]=0;a[u+28>>2]=c;a[u+32>>2]=0;m=u+36|0;a[m>>2]=0;a[u+40>>2]=0;_=u+44|0;a[_>>2]=c;g=u+48|0;b=u+61|0;a[g>>2]=0;a[g+4>>2]=0;a[g+8>>2]=0;r[g+12>>0]=0;r[b>>0]=1;g=u+32|0;dr(s,1,0,_);_=s+8|0;v=a[_>>2]|0;a[v>>2]=0;a[v+4>>2]=0;a[v+8>>2]=0;a[v+12>>2]=c;a[_>>2]=v+16;pr(g,s);hr(s);v=u+62|0;r[v>>0]=0;r[u+63>>0]=1;a[s>>2]=0;_=e+(ci(e)|0)|0;yr(e,_,u,s);c=a[s>>2]|0;do{if(!((c|0)!=0|(r[v>>0]|0)==0)){w=a[g>>2]|0;if((w|0)!=(a[m>>2]|0)?(a[w>>2]|0)!=(a[w+4>>2]|0):0){r[v>>0]=0;r[b>>0]=0;w=a[u>>2]|0;while(1){k=a[l>>2]|0;if((k|0)==(w|0))break;S=k+-24|0;a[l>>2]=S;mr(S)}w=a[h>>2]|0;while(1){S=a[y>>2]|0;if((S|0)==(w|0))break;k=S+-16|0;a[y>>2]=k;_r(k)}yr(e,_,u,s);if(!(r[v>>0]|0)){I=a[s>>2]|0;E=19;break}else{a[s>>2]=-2;A=0;x=-2;break}}else E=20}else{I=c;E=19}}while(0);if((E|0)==19)if(!I)E=20;else{A=0;x=I}do{if((E|0)==20){I=a[l>>2]|0;c=r[I+-24>>0]|0;if(!(c&1))C=(c&255)>>>1;else C=a[I+-20>>2]|0;c=r[I+-12>>0]|0;if(!(c&1))T=(c&255)>>>1;else T=a[I+-8>>2]|0;I=T+C|0;c=I+1|0;if(c>>>0>p>>>0){v=Ui(t,c)|0;if(!v){a[s>>2]=-1;A=0;x=-1;break}if(d)P=v;else{a[n>>2]=c;P=v}}else if(!t){A=0;x=0;break}else P=t;v=a[l>>2]|0;c=v+-12|0;_=r[c>>0]|0;e=(_&1)==0;gr(v+-24|0,e?c+1|0:a[v+-4>>2]|0,e?(_&255)>>>1:a[v+-8>>2]|0)|0;v=a[l>>2]|0;_=v+-24|0;if(!(r[_>>0]&1))O=_+1|0;else O=a[v+-16>>2]|0;Qi(P|0,O|0,I|0)|0;r[P+I>>0]=0;A=P;x=0}}while(0);if(i)a[i>>2]=x;br(u);N=A}else if(!i)N=0;else{a[i>>2]=-3;N=0}f=o;return N|0}function Rn(e){e=e|0;var t=0,n=0,r=0;t=(e|0)==0?1:e;while(1){e=ji(t)|0;if(e){n=e;r=6;break}e=Ln()|0;if(!e){r=5;break}Ra[e&0]()}if((r|0)==5){t=Ce(4)|0;a[t>>2]=436;ut(t|0,192,1)}else if((r|0)==6)return n|0;return 0}function Dn(e){e=e|0;Li(e);return}function Fn(e){e=e|0;return}function Bn(e){e=e|0;Dn(e);return}function jn(e){e=e|0;return 3364}function Ln(){var e=0;e=a[112]|0;a[112]=e+0;return e|0}function Un(e){e=e|0;return}function Hn(e){e=e|0;return}function Gn(e){e=e|0;return}function zn(e){e=e|0;return}function Vn(e){e=e|0;return}function Kn(e){e=e|0;Dn(e);return}function Wn(e){e=e|0;Dn(e);return}function qn(e){e=e|0;Dn(e);return}function Xn(e){e=e|0;Dn(e);return}function Yn(e,t,n){e=e|0;t=t|0;n=n|0;return(e|0)==(t|0)|0}function Jn(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0,u=0;r=f;f=f+64|0;i=r;if((e|0)!=(t|0)){if((t|0)!=0?(o=nr(t,224,240,0)|0,(o|0)!=0):0){t=i;s=t+56|0;do{a[t>>2]=0;t=t+4|0}while((t|0)<(s|0));a[i>>2]=o;a[i+8>>2]=e;a[i+12>>2]=-1;a[i+48>>2]=1;Ba[a[(a[o>>2]|0)+28>>2]&3](o,i,a[n>>2]|0,1);if((a[i+24>>2]|0)==1){a[n>>2]=a[i+16>>2];l=1}else l=0;u=l}else u=0}else u=1;f=r;return u|0}function Qn(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0;e=t+16|0;o=a[e>>2]|0;do{if(o){if((o|0)!=(n|0)){s=t+36|0;a[s>>2]=(a[s>>2]|0)+1;a[t+24>>2]=2;r[t+54>>0]=1;break}s=t+24|0;if((a[s>>2]|0)==2)a[s>>2]=i}else{a[e>>2]=n;a[t+24>>2]=i;a[t+36>>2]=1}}while(0);return}function Zn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if((e|0)==(a[t+8>>2]|0))Qn(0,t,n,r);return}function $n(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;if((e|0)==(a[t+8>>2]|0))Qn(0,t,n,r);else{i=a[e+8>>2]|0;Ba[a[(a[i>>2]|0)+28>>2]&3](i,t,n,r)}return}function er(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0,s=0;i=a[e+4>>2]|0;o=i>>8;if(!(i&1))s=o;else s=a[(a[n>>2]|0)+o>>2]|0;o=a[e>>2]|0;Ba[a[(a[o>>2]|0)+28>>2]&3](o,t,n+s|0,(i&2|0)!=0?r:2);return}function tr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0;e:do{if((e|0)!=(a[t+8>>2]|0)){o=a[e+12>>2]|0;s=e+16+(o<<3)|0;er(e+16|0,t,n,i);if((o|0)>1){o=t+54|0;l=e+24|0;do{er(l,t,n,i);if(r[o>>0]|0)break e;l=l+8|0}while(l>>>0<s>>>0)}}else Qn(0,t,n,i)}while(0);return}function nr(e,t,n,o){e=e|0;t=t|0;n=n|0;o=o|0;var s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0;s=f;f=f+64|0;l=s;u=a[e>>2]|0;c=e+(a[u+-8>>2]|0)|0;d=a[u+-4>>2]|0;a[l>>2]=n;a[l+4>>2]=e;a[l+8>>2]=t;a[l+12>>2]=o;o=l+16|0;t=l+20|0;e=l+24|0;u=l+28|0;p=l+32|0;h=l+40|0;y=(d|0)==(n|0)
;m=o;_=m+36|0;do{a[m>>2]=0;m=m+4|0}while((m|0)<(_|0));i[o+36>>1]=0;r[o+38>>0]=0;e:do{if(y){a[l+48>>2]=1;Da[a[(a[n>>2]|0)+20>>2]&3](n,l,c,c,1,0);g=(a[e>>2]|0)==1?c:0}else{Ta[a[(a[d>>2]|0)+24>>2]&3](d,l,c,1,0);switch(a[l+36>>2]|0){case 0:{g=(a[h>>2]|0)==1&(a[u>>2]|0)==1&(a[p>>2]|0)==1?a[t>>2]|0:0;break e;break}case 1:break;default:{g=0;break e}}if((a[e>>2]|0)!=1?!((a[h>>2]|0)==0&(a[u>>2]|0)==1&(a[p>>2]|0)==1):0){g=0;break}g=a[o>>2]|0}}while(0);f=s;return g|0}function rr(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0;r[t+53>>0]=1;do{if((a[t+4>>2]|0)==(i|0)){r[t+52>>0]=1;e=t+16|0;s=a[e>>2]|0;if(!s){a[e>>2]=n;a[t+24>>2]=o;a[t+36>>2]=1;if(!((o|0)==1?(a[t+48>>2]|0)==1:0))break;r[t+54>>0]=1;break}if((s|0)!=(n|0)){s=t+36|0;a[s>>2]=(a[s>>2]|0)+1;r[t+54>>0]=1;break}s=t+24|0;e=a[s>>2]|0;if((e|0)==2){a[s>>2]=o;l=o}else l=e;if((l|0)==1?(a[t+48>>2]|0)==1:0)r[t+54>>0]=1}}while(0);return}function ir(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;e:do{if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(s=t+28|0,(a[s>>2]|0)!=1):0)a[s>>2]=i}else{if((e|0)!=(a[t>>2]|0)){s=a[e+12>>2]|0;l=e+16+(s<<3)|0;or(e+16|0,t,n,i,o);u=e+24|0;if((s|0)<=1)break;s=a[e+8>>2]|0;if((s&2|0)==0?(c=t+36|0,(a[c>>2]|0)!=1):0){if(!(s&1)){s=t+54|0;f=u;while(1){if(r[s>>0]|0)break e;if((a[c>>2]|0)==1)break e;or(f,t,n,i,o);f=f+8|0;if(f>>>0>=l>>>0)break e}}f=t+24|0;s=t+54|0;d=u;while(1){if(r[s>>0]|0)break e;if((a[c>>2]|0)==1?(a[f>>2]|0)==1:0)break e;or(d,t,n,i,o);d=d+8|0;if(d>>>0>=l>>>0)break e}}d=t+54|0;f=u;while(1){if(r[d>>0]|0)break e;or(f,t,n,i,o);f=f+8|0;if(f>>>0>=l>>>0)break e}}if((a[t+16>>2]|0)!=(n|0)?(l=t+20|0,(a[l>>2]|0)!=(n|0)):0){a[t+32>>2]=i;f=t+44|0;if((a[f>>2]|0)==4)break;d=e+16+(a[e+12>>2]<<3)|0;u=t+52|0;c=t+53|0;s=t+54|0;p=e+8|0;h=t+24|0;y=0;m=0;_=e+16|0;t:while(1){if(_>>>0>=d>>>0){g=y;b=m;v=20;break}r[u>>0]=0;r[c>>0]=0;ar(_,t,n,n,1,o);if(r[s>>0]|0){g=y;b=m;v=20;break}do{if(r[c>>0]|0){if(!(r[u>>0]|0))if(!(a[p>>2]&1)){g=y;b=1;v=20;break t}else{w=y;k=1;break}if((a[h>>2]|0)==1){S=1;break t}if(!(a[p>>2]&2)){S=1;break t}else{w=1;k=1}}else{w=y;k=m}}while(0);y=w;m=k;_=_+8|0}if((v|0)==20)if((!g?(a[l>>2]=n,_=t+40|0,a[_>>2]=(a[_>>2]|0)+1,(a[t+36>>2]|0)==1):0)?(a[h>>2]|0)==2:0){r[s>>0]=1;S=b}else S=b;a[f>>2]=S?3:4;break}if((i|0)==1)a[t+32>>2]=1}}while(0);return}function ar(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0,l=0,u=0;s=a[e+4>>2]|0;l=s>>8;if(!(s&1))u=l;else u=a[(a[r>>2]|0)+l>>2]|0;l=a[e>>2]|0;Da[a[(a[l>>2]|0)+20>>2]&3](l,t,n,r+u|0,(s&2|0)!=0?i:2,o);return}function or(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0;o=a[e+4>>2]|0;s=o>>8;if(!(o&1))l=s;else l=a[(a[n>>2]|0)+s>>2]|0;s=a[e>>2]|0;Ta[a[(a[s>>2]|0)+24>>2]&3](s,t,n+l|0,(o&2|0)!=0?r:2,i);return}function sr(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0;do{if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(s=t+28|0,(a[s>>2]|0)!=1):0)a[s>>2]=i}else{if((e|0)!=(a[t>>2]|0)){s=a[e+8>>2]|0;Ta[a[(a[s>>2]|0)+24>>2]&3](s,t,n,i,o);break}if((a[t+16>>2]|0)!=(n|0)?(s=t+20|0,(a[s>>2]|0)!=(n|0)):0){a[t+32>>2]=i;l=t+44|0;if((a[l>>2]|0)==4)break;u=t+52|0;r[u>>0]=0;c=t+53|0;r[c>>0]=0;f=a[e+8>>2]|0;Da[a[(a[f>>2]|0)+20>>2]&3](f,t,n,n,1,o);if(r[c>>0]|0){if(!(r[u>>0]|0)){d=1;p=13}else h=1}else{d=0;p=13}if((p|0)==13){a[s>>2]=n;s=t+40|0;a[s>>2]=(a[s>>2]|0)+1;if((a[t+36>>2]|0)==1?(a[t+24>>2]|0)==2:0){r[t+54>>0]=1;h=d}else h=d}a[l>>2]=h?3:4;break}if((i|0)==1)a[t+32>>2]=1}}while(0);return}function lr(e,t,n,i,o){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;do{if((e|0)==(a[t+8>>2]|0)){if((a[t+4>>2]|0)==(n|0)?(o=t+28|0,(a[o>>2]|0)!=1):0)a[o>>2]=i}else if((e|0)==(a[t>>2]|0)){if((a[t+16>>2]|0)!=(n|0)?(o=t+20|0,(a[o>>2]|0)!=(n|0)):0){a[t+32>>2]=i;a[o>>2]=n;o=t+40|0;a[o>>2]=(a[o>>2]|0)+1;if((a[t+36>>2]|0)==1?(a[t+24>>2]|0)==2:0)r[t+54>>0]=1;a[t+44>>2]=4;break}if((i|0)==1)a[t+32>>2]=1}}while(0);return}function ur(e,t,n,i,o,s){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;var l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0;if((e|0)==(a[t+8>>2]|0))rr(0,t,n,i,o);else{l=t+52|0;u=r[l>>0]|0;c=t+53|0;f=r[c>>0]|0;d=a[e+12>>2]|0;p=e+16+(d<<3)|0;r[l>>0]=0;r[c>>0]=0;ar(e+16|0,t,n,i,o,s);e:do{if((d|0)>1){h=t+24|0;y=e+8|0;m=t+54|0;_=e+24|0;do{if(r[m>>0]|0)break e;if(!(r[l>>0]|0)){if((r[c>>0]|0)!=0?(a[y>>2]&1|0)==0:0)break e}else{if((a[h>>2]|0)==1)break e;if(!(a[y>>2]&2))break e}r[l>>0]=0;r[c>>0]=0;ar(_,t,n,i,o,s);_=_+8|0}while(_>>>0<p>>>0)}}while(0);r[l>>0]=u;r[c>>0]=f}return}function cr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;var s=0;if((e|0)==(a[t+8>>2]|0))rr(0,t,n,r,i);else{s=a[e+8>>2]|0;Da[a[(a[s>>2]|0)+20>>2]&3](s,t,n,r,i,o)}return}function fr(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;if((e|0)==(a[t+8>>2]|0))rr(0,t,n,r,i);return}function dr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;a[e+12>>2]=0;a[e+16>>2]=r;if(!t)i=0;else i=Xr(a[r>>2]|0,t<<4)|0;a[e>>2]=i;r=i+(n<<4)|0;a[e+8>>2]=r;a[e+4>>2]=r;a[e+12>>2]=i+(t<<4);return}function pr(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0;n=a[e>>2]|0;r=e+4|0;i=t+4|0;o=a[r>>2]|0;while(1){if((o|0)==(n|0))break;s=a[i>>2]|0;l=s+-16|0;u=o+-16|0;a[l>>2]=0;c=s+-12|0;a[c>>2]=0;f=a[o+-4>>2]|0;a[s+-8>>2]=0;a[s+-4>>2]=f;a[l>>2]=a[u>>2];l=o+-12|0;a[c>>2]=a[l>>2];c=o+-8|0;a[s+-8>>2]=a[c>>2];a[c>>2]=0;a[l>>2]=0;a[u>>2]=0;a[i>>2]=(a[i>>2]|0)+-16;o=u}o=a[e>>2]|0;a[e>>2]=a[i>>2];a[i>>2]=o;o=t+8|0;n=a[r>>2]|0;a[r>>2]=a[o>>2];a[o>>2]=n;n=e+8|0;e=t+12|0;o=a[n>>2]|0;a[n>>2]=a[e>>2];a[e>>2]=o;a[t>>2]=a[i>>2];return}function hr(e){e=e|0;var t=0,n=0,r=0,i=0;t=a[e+4>>2]|0;n=e+8|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;i=r+-16|0;a[n>>2]=i;wr(i)}n=a[e>>2]|0;if(n)kr(a[a[e+16>>2]>>2]|0,n,(a[e+12>>2]|0)-n|0);return}function yr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;o=f;f=f+48|0;s=o+24|0;l=o+12|0;u=o;e:do{if(e>>>0<t>>>0){t:do{if((r[e>>0]|0)!=95){if((Tr(e,t,n)|0)!=(t|0)){a[i>>2]=-2;break e}}else{c=t;if((c-e|0)<=3){a[i>>2]=-2;break e}switch(r[e+1>>0]|0){case 90:{d=e+2|0;p=Ar(d,t,n)|0;if(!((p|0)==(d|0)|(p|0)==(t|0))?(r[p>>0]|0)==46:0){d=a[n+4>>2]|0;if((a[n>>2]|0)==(d|0))h=p;else{y=d+-24|0;d=c-p|0;if(d>>>0>4294967279)Ir(u);if(d>>>0<11){r[u>>0]=d<<1;m=u+1|0}else{_=d+16&-16;g=ji(_)|0;a[u+8>>2]=g;a[u>>2]=_|1;a[u+4>>2]=d;m=g}g=p;_=m;while(1){if((g|0)==(t|0))break;r[_>>0]=r[g>>0]|0;g=g+1|0;_=_+1|0}r[m+d>>0]=0;_=xr(u,0,3496)|0;a[l>>2]=a[_>>2];a[l+4>>2]=a[_+4>>2];a[l+8>>2]=a[_+8>>2];g=0;while(1){if((g|0)==3)break;a[_+(g<<2)>>2]=0;g=g+1|0}g=Cr(l,3499)|0;a[s>>2]=a[g>>2];a[s+4>>2]=a[g+4>>2];a[s+8>>2]=a[g+8>>2];_=0;while(1){if((_|0)==3)break;a[g+(_<<2)>>2]=0;_=_+1|0}_=r[s>>0]|0;g=(_&1)==0;gr(y,g?s+1|0:a[s+8>>2]|0,g?(_&255)>>>1:a[s+4>>2]|0)|0;Er(s);Er(l);Er(u);h=t}b=h}else b=p;if((b|0)==(t|0))break t;a[i>>2]=-2;break e;break}case 95:{if((r[e+2>>0]|0)==95?(r[e+3>>0]|0)==90:0){_=e+4|0;g=Ar(_,t,n)|0;if((g|0)==(_|0)|(g|0)==(t|0)){a[i>>2]=-2;break e}n:do{if((c-g|0)>12){_=0;d=g;while(1){if((_|0)>=13){v=d;break}if((r[d>>0]|0)!=(r[3501+_>>0]|0)){w=g;break n}_=_+1|0;d=d+1|0}r:do{if((v|0)==(t|0))k=t;else{if((r[v>>0]|0)==95){d=v+1|0;if((d|0)==(t|0)){w=g;break n}if(((r[d>>0]|0)+-48|0)>>>0>=10){w=g;break n}S=v+2|0}else S=v;while(1){if((S|0)==(t|0)){k=t;break r}if(((r[S>>0]|0)+-48|0)>>>0>=10){k=S;break r}S=S+1|0}}}while(0);d=a[n+4>>2]|0;if((a[n>>2]|0)!=(d|0)){xr(d+-24|0,0,3515)|0;w=k}else w=g}else w=g}while(0);if((w|0)==(t|0))break t;a[i>>2]=-2;break e}break}default:{}}a[i>>2]=-2;break e}}while(0);if((a[i>>2]|0)==0?(a[n>>2]|0)==(a[n+4>>2]|0):0)a[i>>2]=-2}else a[i>>2]=-2}while(0);f=o;return}function mr(e){e=e|0;Er(e+12|0);Er(e);return}function _r(e){e=e|0;var t=0,n=0,r=0,i=0;t=a[e>>2]|0;if(t){n=e+4|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;i=r+-24|0;a[n>>2]=i;mr(i)}n=a[e>>2]|0;kr(a[e+12>>2]|0,n,(a[e+8>>2]|0)-n|0)}return}function gr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0;i=r[e>>0]|0;if(!(i&1)){o=10;s=i}else{i=a[e>>2]|0;o=(i&-2)+-1|0;s=i&255}if(!(s&1))l=(s&255)>>>1;else l=a[e+4>>2]|0;if((o-l|0)>>>0>=n>>>0){if(n){if(!(s&1))u=e+1|0;else u=a[e+8>>2]|0;Qi(u+l|0,t|0,n|0)|0;s=l+n|0
;if(!(r[e>>0]&1))r[e>>0]=s<<1;else a[e+4>>2]=s;r[u+s>>0]=0}}else Sr(e,o,n-o+l|0,l,l,0,n,t);return e|0}function br(e){e=e|0;vr(e+32|0);wr(e+16|0);_r(e);return}function vr(e){e=e|0;var t=0,n=0,r=0,i=0;t=a[e>>2]|0;if(t){n=e+4|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;i=r+-16|0;a[n>>2]=i;wr(i)}n=a[e>>2]|0;kr(a[e+12>>2]|0,n,(a[e+8>>2]|0)-n|0)}return}function wr(e){e=e|0;var t=0,n=0,r=0,i=0;t=a[e>>2]|0;if(t){n=e+4|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;i=r+-16|0;a[n>>2]=i;_r(i)}n=a[e>>2]|0;kr(a[e+12>>2]|0,n,(a[e+8>>2]|0)-n|0)}return}function kr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if(e>>>0<=t>>>0&(e+4096|0)>>>0>=t>>>0){r=e+4096|0;if((t+(n+15&-16)|0)==(a[r>>2]|0))a[r>>2]=t}else Li(t);return}function Sr(e,t,n,i,o,s,l,u){e=e|0;t=t|0;n=n|0;i=i|0;o=o|0;s=s|0;l=l|0;u=u|0;var c=0,f=0,d=0,p=0;if((-18-t|0)>>>0<n>>>0)Ir(e);if(!(r[e>>0]&1))c=e+1|0;else c=a[e+8>>2]|0;if(t>>>0<2147483623){f=n+t|0;n=t<<1;d=f>>>0<n>>>0?n:f;p=d>>>0<11?11:d+16&-16}else p=-17;d=ji(p)|0;if(o)Qi(d|0,c|0,o|0)|0;if(l)Qi(d+o|0,u|0,l|0)|0;u=i-s|0;if((u|0)!=(o|0))Qi(d+o+l|0,c+o+s|0,u-o|0)|0;if((t|0)!=10)Li(c);a[e+8>>2]=d;a[e>>2]=p|1;p=u+l|0;a[e+4>>2]=p;r[d+p>>0]=0;return}function Ir(e){e=e|0;xe(3379,3408,1164,3475)}function Er(e){e=e|0;if(r[e>>0]&1)Li(a[e+8>>2]|0);return}function Ar(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0;i=f;f=f+80|0;o=i+60|0;s=i+48|0;l=i+36|0;u=i+24|0;c=i+12|0;d=i;e:do{if((e|0)==(t|0))p=e;else{h=n+56|0;y=a[h>>2]|0;m=y+1|0;a[h>>2]=m;_=n+61|0;g=r[_>>0]|0;if(m>>>0>1)r[_>>0]=1;m=r[e>>0]|0;t:do{switch(m|0){case 84:case 71:{n:do{if((t-e|0)>2){switch(m|0){case 84:break;case 71:{switch(r[e+1>>0]|0){case 86:{b=e+2|0;v=Dt(b,t,n)|0;if((v|0)==(b|0)){w=e;break n}b=a[n+4>>2]|0;if((a[n>>2]|0)==(b|0)){w=e;break n}xr(b+-24|0,0,5517)|0;w=v;break n;break}case 82:{v=e+2|0;b=Dt(v,t,n)|0;if((b|0)==(v|0)){w=e;break n}v=a[n+4>>2]|0;if((a[n>>2]|0)==(v|0)){w=e;break n}xr(v+-24|0,0,5537)|0;w=b;break n;break}default:{w=e;break n}}break}default:{w=e;break n}}b=e+1|0;switch(r[b>>0]|0){case 86:{v=e+2|0;k=Tr(v,t,n)|0;if((k|0)==(v|0)){w=e;break n}v=a[n+4>>2]|0;if((a[n>>2]|0)==(v|0)){w=e;break n}xr(v+-24|0,0,5366)|0;w=k;break n;break}case 84:{k=e+2|0;v=Tr(k,t,n)|0;if((v|0)==(k|0)){w=e;break n}k=a[n+4>>2]|0;if((a[n>>2]|0)==(k|0)){w=e;break n}xr(k+-24|0,0,5378)|0;w=v;break n;break}case 73:{v=e+2|0;k=Tr(v,t,n)|0;if((k|0)==(v|0)){w=e;break n}v=a[n+4>>2]|0;if((a[n>>2]|0)==(v|0)){w=e;break n}xr(v+-24|0,0,5387)|0;w=k;break n;break}case 83:{k=e+2|0;v=Tr(k,t,n)|0;if((v|0)==(k|0)){w=e;break n}k=a[n+4>>2]|0;if((a[n>>2]|0)==(k|0)){w=e;break n}xr(k+-24|0,0,5401)|0;w=v;break n;break}case 99:{v=e+2|0;k=ai(v,t)|0;if((k|0)==(v|0)){w=e;break n}v=ai(k,t)|0;if((v|0)==(k|0)){w=e;break n}k=Ar(v,t,n)|0;if((k|0)==(v|0)){w=e;break n}v=a[n+4>>2]|0;if((a[n>>2]|0)==(v|0)){w=e;break n}xr(v+-24|0,0,5420)|0;w=k;break n;break}case 67:{k=e+2|0;v=Tr(k,t,n)|0;if((v|0)==(k|0)){w=e;break n}k=Gr(v,t)|0;if((k|0)==(v|0)|(k|0)==(t|0)){w=e;break n}if((r[k>>0]|0)!=95){w=e;break n}v=k+1|0;k=Tr(v,t,n)|0;if((k|0)==(v|0)){w=e;break n}v=n+4|0;S=a[v>>2]|0;if(((S-(a[n>>2]|0)|0)/24|0)>>>0<2){w=e;break n}xt(o,S+-24|0);S=a[v>>2]|0;I=S+-24|0;E=S;while(1){if((E|0)==(I|0))break;A=E+-24|0;a[v>>2]=A;mr(A);E=a[v>>2]|0}E=S+-48|0;I=xr(o,0,5447)|0;a[u>>2]=a[I>>2];a[u+4>>2]=a[I+4>>2];a[u+8>>2]=a[I+8>>2];A=0;while(1){if((A|0)==3)break;a[I+(A<<2)>>2]=0;A=A+1|0}A=Cr(u,5472)|0;a[l>>2]=a[A>>2];a[l+4>>2]=a[A+4>>2];a[l+8>>2]=a[A+8>>2];I=0;while(1){if((I|0)==3)break;a[A+(I<<2)>>2]=0;I=I+1|0}xt(c,(a[v>>2]|0)+-24|0);I=r[c>>0]|0;A=(I&1)==0;x=gr(l,A?c+1|0:a[c+8>>2]|0,A?(I&255)>>>1:a[c+4>>2]|0)|0;a[s>>2]=a[x>>2];a[s+4>>2]=a[x+4>>2];a[s+8>>2]=a[x+8>>2];I=0;while(1){if((I|0)==3)break;a[x+(I<<2)>>2]=0;I=I+1|0}do{if(r[E>>0]&1){I=S+-40|0;r[a[I>>2]>>0]=0;x=S+-44|0;a[x>>2]=0;v=r[E>>0]|0;if(!(v&1)){C=v;T=10}else{v=a[E>>2]|0;C=v&255;T=(v&-2)+-1|0}if(!(C&1)){v=(C&255)>>>1;if((C&255)<22){P=10;O=v;N=1}else{P=(v+16&240)+-1|0;O=v;N=1}}else{P=10;O=0;N=0}if((P|0)!=(T|0)){if((P|0)==10){v=E+1|0;A=a[I>>2]|0;if(N){Qi(v|0,A|0,((C&255)>>>1)+1|0)|0;Li(A)}else{r[v>>0]=r[A>>0]|0;Li(A)}r[E>>0]=O<<1;break}A=P+1|0;v=ji(A)|0;if(!(P>>>0<=T>>>0&(v|0)==0)){if(N)Qi(v|0,E+1|0,((C&255)>>>1)+1|0)|0;else{M=a[I>>2]|0;r[v>>0]=r[M>>0]|0;Li(M)}a[E>>2]=A|1;a[x>>2]=O;a[I>>2]=v}}}else{r[E+1>>0]=0;r[E>>0]=0}}while(0);a[E>>2]=a[s>>2];a[E+4>>2]=a[s+4>>2];a[E+8>>2]=a[s+8>>2];S=0;while(1){if((S|0)==3)break;a[s+(S<<2)>>2]=0;S=S+1|0}Er(s);Er(c);Er(l);Er(u);Er(o);w=k;break n;break}default:{S=ai(b,t)|0;if((S|0)==(b|0)){w=e;break n}E=Ar(S,t,n)|0;if((E|0)==(S|0)){w=e;break n}S=a[n+4>>2]|0;if((a[n>>2]|0)==(S|0)){w=e;break n}v=S+-24|0;if((r[e+2>>0]|0)==118){xr(v,0,5477)|0;w=E;break n}else{xr(v,0,5495)|0;w=E;break n}}}}else w=e}while(0);R=w;break}default:{E=Dt(e,t,n)|0;v=a[n+48>>2]|0;S=a[n+52>>2]|0;if((E|0)!=(e|0)){if((E|0)!=(t|0)){switch(r[E>>0]|0){case 46:case 69:{R=E;break t;break}default:{}}I=r[_>>0]|0;r[_>>0]=0;x=0;while(1){if((x|0)==3)break;a[o+(x<<2)>>2]=0;x=x+1|0}x=n+4|0;A=a[x>>2]|0;n:do{if((a[n>>2]|0)!=(A|0)){M=A+-24|0;D=r[M>>0]|0;F=(D&1)==0;if(F)B=(D&255)>>>1;else B=a[A+-20>>2]|0;if(B){if(!(r[n+60>>0]|0)){if(F){j=M+1|0;L=(D&255)>>>1}else{j=a[A+-16>>2]|0;L=a[A+-20>>2]|0}if((r[j+L+-1>>0]|0)==62){if(F){U=(D&255)>>>1;H=M+1|0}else{U=a[A+-20>>2]|0;H=a[A+-16>>2]|0}if((r[H+(U+-2)>>0]|0)!=45){if(F){G=(D&255)>>>1;z=M+1|0}else{G=a[A+-20>>2]|0;z=a[A+-16>>2]|0}if((r[z+(G+-2)>>0]|0)!=62){M=Tr(E,t,n)|0;if((M|0)==(E|0)){V=e;K=0;break}D=a[x>>2]|0;F=D;if(((D-(a[n>>2]|0)|0)/24|0)>>>0<2){V=e;K=0;break}D=F+-24|0;a[s>>2]=a[D>>2];a[s+4>>2]=a[D+4>>2];a[s+8>>2]=a[D+8>>2];W=0;while(1){if((W|0)==3)break;a[D+(W<<2)>>2]=0;W=W+1|0}W=F+-12|0;r:do{if(!(r[o>>0]&1)){r[o+1>>0]=0;r[o>>0]=0}else{D=o+8|0;b=a[D>>2]|0;r[b>>0]=0;k=o+4|0;a[k>>2]=0;q=a[o>>2]|0;X=(q&-2)+-1|0;Y=q&255;do{if(!(Y&1)){J=q>>>1&127;if((Y&255)<22){Qi(o+1|0,b|0,(q>>>1&127)+1|0)|0;Li(b);Q=J;break}Z=J+16&240;$=Z+-1|0;if(($|0)==(X|0))break r;ee=ji(Z)|0;if($>>>0<=X>>>0&(ee|0)==0)break r;Qi(ee|0,o+1|0,(q>>>1&127)+1|0)|0;a[o>>2]=Z|1;a[k>>2]=J;a[D>>2]=ee;break r}else{r[o+1>>0]=0;Li(b);Q=0}}while(0);r[o>>0]=Q<<1}}while(0);a[o>>2]=a[W>>2];a[o+4>>2]=a[W+4>>2];a[o+8>>2]=a[W+8>>2];F=0;while(1){if((F|0)==3)break;a[W+(F<<2)>>2]=0;F=F+1|0}F=r[o>>0]|0;if(!(((F&1)==0?(F&255)>>>1:a[o+4>>2]|0)|0))Qt(s,32);F=a[x>>2]|0;W=F+-24|0;b=F;while(1){if((b|0)==(W|0))break;D=b+-24|0;a[x>>2]=D;mr(D);b=a[x>>2]|0}b=r[s>>0]|0;W=(b&1)==0;zr(F+-48|0,0,W?s+1|0:a[s+8>>2]|0,W?(b&255)>>>1:a[s+4>>2]|0)|0;Er(s);te=a[x>>2]|0;ne=M}else{te=A;ne=E}}else{te=A;ne=E}}else{te=A;ne=E}}else{te=A;ne=E}Qt(te+-24|0,40);if((ne|0)!=(t|0)?(r[ne>>0]|0)==118:0){re=a[n>>2]|0;ie=a[x>>2]|0;ae=ne+1|0}else oe=128;do{if((oe|0)==128){b=s+4|0;W=d+8|0;D=d+1|0;k=d+4|0;q=s+8|0;X=s+1|0;Y=1;ee=ne;r:while(1){J=a[n>>2]|0;Z=a[x>>2]|0;$=ee;while(1){se=(Z-J|0)/24|0;le=Tr($,t,n)|0;Z=a[x>>2]|0;J=a[n>>2]|0;ue=(Z-J|0)/24|0;if((le|0)==($|0)){ce=Z;fe=J;de=$;oe=151;break r}if(ue>>>0>se>>>0){pe=se;he=le;ye=ue;break}else $=le}$=0;while(1){if(($|0)==3){me=pe;break}a[s+($<<2)>>2]=0;$=$+1|0}while(1){if(me>>>0>=ye>>>0){_e=pe;break}$=r[s>>0]|0;if((($&1)==0?($&255)>>>1:a[b>>2]|0)|0)Cr(s,3596)|0;xt(d,(a[n>>2]|0)+(me*24|0)|0);$=r[d>>0]|0;J=($&1)==0;gr(s,J?D:a[W>>2]|0,J?($&255)>>>1:a[k>>2]|0)|0;Er(d);me=me+1|0}while(1){if(_e>>>0>=ye>>>0)break;$=a[x>>2]|0;J=$+-24|0;Z=$;while(1){if((Z|0)==(J|0))break;$=Z+-24|0;a[x>>2]=$;mr($);Z=a[x>>2]|0}_e=_e+1|0}Z=r[s>>0]|0;J=a[b>>2]|0;if(!(((Z&1)==0?(Z&255)>>>1:J)|0))ge=Y;else{$=a[x>>2]|0;if((a[n>>2]|0)==($|0)){oe=163;break}if(Y){be=$;ve=Z;we=J}else{Cr($+-24|0,3596)|0;be=a[x>>2]|0;ve=r[s>>0]|0;we=a[b>>2]|0}$=(ve&1)==0;gr(be+-24|0,$?X:a[q>>2]|0,$?(ve&255)>>>1:we)|0;ge=0}Er(s);Y=ge;ee=he}if((oe|0)==151){re=fe;ie=ce;ae=de;break}else if((oe|0)==163){Er(s);V=e;K=0;break n}}}while(0);if((re|0)!=(ie|0)){Qt(ie+-24|0,41);if(v&1)Cr((a[x>>2]|0)+-24|0,3549)|0
;if(v&2)Cr((a[x>>2]|0)+-24|0,3556)|0;if(v&4)Cr((a[x>>2]|0)+-24|0,3566)|0;switch(S|0){case 1:{Cr((a[x>>2]|0)+-24|0,3599)|0;break}case 2:{Cr((a[x>>2]|0)+-24|0,3602)|0;break}default:{}}M=r[o>>0]|0;F=(M&1)==0;gr((a[x>>2]|0)+-24|0,F?o+1|0:a[o+8>>2]|0,F?(M&255)>>>1:a[o+4>>2]|0)|0;V=ae;K=1}else{V=e;K=0}}else{V=e;K=0}}else{V=e;K=0}}while(0);Er(o);r[_>>0]=I;if(K)R=V;else{r[_>>0]=g;a[h>>2]=y;p=e;break e}}else R=t}else R=e}}}while(0);r[_>>0]=g;a[h>>2]=y;p=R}}while(0);f=i;return p|0}function xr(e,t,n){e=e|0;t=t|0;n=n|0;return zr(e,t,n,ci(n)|0)|0}function Cr(e,t){e=e|0;t=t|0;return gr(e,t,ci(t)|0)|0}function Tr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0,ke=0,Se=0,Ie=0,Ee=0,Ae=0,xe=0,Ce=0,Te=0,Pe=0,Oe=0,Ne=0,Me=0,Re=0,De=0,Fe=0,Be=0,je=0,Le=0,Ue=0,He=0,Ge=0,ze=0,Ve=0,Ke=0,We=0,qe=0,Xe=0,Ye=0,Je=0,Qe=0,Ze=0,$e=0,et=0,tt=0,nt=0,rt=0,it=0,at=0,ot=0,st=0,lt=0,ut=0,ct=0,ft=0,dt=0,pt=0,ht=0,yt=0,mt=0,_t=0,gt=0,bt=0,vt=0,wt=0,kt=0,St=0,It=0,Lt=0,Ut=0,Ht=0,Gt=0,zt=0,Vt=0,Kt=0,Wt=0,qt=0,Xt=0,Yt=0,Jt=0,Qt=0,Zt=0,$t=0,en=0,tn=0,nn=0,rn=0,an=0,on=0,sn=0,ln=0,un=0,cn=0,fn=0,dn=0,pn=0,hn=0,yn=0,mn=0,_n=0,gn=0,bn=0,vn=0,wn=0,kn=0,Sn=0,In=0,En=0,An=0,xn=0,Cn=0,Tn=0,Pn=0,On=0,Nn=0,Mn=0,Rn=0,Dn=0,Fn=0,Bn=0,jn=0,Ln=0,Un=0,Hn=0,Gn=0,zn=0,Vn=0;i=f;f=f+736|0;o=i+704|0;s=i+680|0;l=i+668|0;u=i+656|0;c=i+632|0;d=i+608|0;p=i+584|0;h=i+572|0;y=i+560|0;m=i+548|0;_=i+536|0;g=i+384|0;b=i+520|0;v=i+512|0;w=i+496|0;k=i+488|0;S=i+472|0;I=i+464|0;E=i+448|0;A=i+440|0;x=i+424|0;C=i+420|0;T=i+408|0;P=i+396|0;O=i+372|0;N=i+360|0;M=i+344|0;R=i+340|0;D=i+328|0;F=i+304|0;B=i+288|0;j=i+276|0;L=i+264|0;U=i+240|0;H=i+228|0;G=i+216|0;z=i+204|0;V=i+192|0;K=i+168|0;W=i+156|0;q=i+144|0;X=i+128|0;Y=i+120|0;J=i+104|0;Q=i+96|0;Z=i+80|0;$=i+72|0;ee=i+56|0;te=i+48|0;ne=i+32|0;re=i+24|0;ie=i+8|0;ae=i;e:do{if((e|0)!=(t|0)){switch(r[e>>0]|0){case 75:case 86:case 114:{a[s>>2]=0;oe=Pr(e,t,s)|0;t:do{if((oe|0)!=(e|0)?(se=r[oe>>0]|0,le=n+4|0,ue=((a[le>>2]|0)-(a[n>>2]|0)|0)/24|0,ce=Tr(oe,t,n)|0,fe=((a[le>>2]|0)-(a[n>>2]|0)|0)/24|0,(ce|0)!=(oe|0)):0){le=se<<24>>24==70;se=n+20|0;de=a[se>>2]|0;n:do{if(le){pe=de+-16|0;he=de;while(1){if((he|0)==(pe|0)){ye=pe;break n}me=he+-16|0;a[se>>2]=me;_r(me);he=a[se>>2]|0}}else ye=de}while(0);de=n+16|0;he=a[n+12>>2]|0;pe=a[n+24>>2]|0;me=pe;if(ye>>>0<pe>>>0){a[ye>>2]=0;a[ye+4>>2]=0;a[ye+8>>2]=0;a[ye+12>>2]=he;a[se>>2]=(a[se>>2]|0)+16}else{pe=a[de>>2]|0;_e=ye-pe|0;ge=_e>>4;be=ge+1|0;if((_e|0)<-16)Or(de);_e=me-pe|0;if(_e>>4>>>0<1073741823){pe=_e>>3;ve=pe>>>0<be>>>0?be:pe}else ve=2147483647;Nr(o,ve,ge,n+28|0);ge=o+8|0;pe=a[ge>>2]|0;a[pe>>2]=0;a[pe+4>>2]=0;a[pe+8>>2]=0;a[pe+12>>2]=he;a[ge>>2]=pe+16;Mr(de,o);Rr(o)}de=a[s>>2]|0;pe=(de&1|0)==0;ge=(de&2|0)==0;he=(de&4|0)==0;de=o+8|0;be=ue;while(1){if(be>>>0>=fe>>>0){we=ce;break t}if(le){_e=a[n>>2]|0;me=_e+(be*24|0)+12|0;ke=r[me>>0]|0;Se=(ke&1)==0;if(Se){Ie=(ke&255)>>>1;Ee=me+1|0}else{Ie=a[_e+(be*24|0)+16>>2]|0;Ee=a[_e+(be*24|0)+20>>2]|0}Ae=Ie+-2|0;if((r[Ee+Ae>>0]|0)==38)xe=Ie+-3|0;else{if(Se){Ce=me+1|0;Te=(ke&255)>>>1}else{Ce=a[_e+(be*24|0)+20>>2]|0;Te=a[_e+(be*24|0)+16>>2]|0}xe=(r[Ce+Te+-1>>0]|0)==38?Ae:Ie}if(pe)Pe=xe;else{xr(me,xe,3549)|0;Pe=xe+6|0}if(ge)Oe=Pe;else{xr((a[n>>2]|0)+(be*24|0)+12|0,Pe,3556)|0;Oe=Pe+9|0}if(!he)xr((a[n>>2]|0)+(be*24|0)+12|0,Oe,3566)|0}else{if(!pe)Cr((a[n>>2]|0)+(be*24|0)|0,3549)|0;if(!ge)Cr((a[n>>2]|0)+(be*24|0)|0,3556)|0;if(!he)Cr((a[n>>2]|0)+(be*24|0)|0,3566)|0}me=a[se>>2]|0;Ae=me+-16|0;_e=a[n>>2]|0;ke=_e+(be*24|0)|0;Se=me+-12|0;Ne=a[Se>>2]|0;Me=a[me+-8>>2]|0;Re=Me;if((Ne|0)==(Me|0)){Me=a[Ae>>2]|0;De=Ne-Me|0;Fe=(De|0)/24|0;Be=Fe+1|0;if((De|0)<-24){je=Ae;break}De=(Re-Me|0)/24|0;if(De>>>0<1073741823){Me=De<<1;Le=Me>>>0<Be>>>0?Be:Me}else Le=2147483647;Fr(o,Le,Fe,me+-4|0);me=a[de>>2]|0;Dr(me,ke);Dr(me+12|0,_e+(be*24|0)+12|0);a[de>>2]=me+24;jr(Ae,o);Br(o)}else{Dr(Ne,ke);Dr(Ne+12|0,_e+(be*24|0)+12|0);a[Se>>2]=(a[Se>>2]|0)+24}be=be+1|0}Or(je)}else we=e}while(0);Ue=we;break e;break}default:{}}oe=Lr(e,t,n)|0;if((oe|0)==(e|0)){be=r[e>>0]|0;t:do{switch(be<<24>>24|0){case 65:{do{if(be<<24>>24==65?(de=e+1|0,(de|0)!=(t|0)):0){se=r[de>>0]|0;if(se<<24>>24==95){he=e+2|0;ge=Tr(he,t,n)|0;if((ge|0)==(he|0)){He=e;break}he=n+4|0;pe=a[he>>2]|0;if((a[n>>2]|0)==(pe|0)){He=e;break}le=pe+-12|0;ce=r[le>>0]|0;fe=(ce&1)==0;ue=fe?(ce&255)>>>1:a[pe+-8>>2]|0;Ur(o,fe?le+1|0:a[pe+-4>>2]|0,ue>>>0<2?ue:2);ue=r[o>>0]|0;pe=(ue&1)==0;le=pe?(ue&255)>>>1:a[o+4>>2]|0;ue=le>>>0>2;fe=fi(pe?o+1|0:a[o+8>>2]|0,3576,ue?2:le)|0;Er(o);if(!(((fe|0)==0?le>>>0<2?-1:ue&1:fe)|0))Hr((a[he>>2]|0)+-12|0);xr((a[he>>2]|0)+-12|0,0,3579)|0;He=ge;break}if((se+-49&255)<9){se=Gr(de,t)|0;if((se|0)==(t|0)){He=e;break}if((r[se>>0]|0)!=95){He=e;break}ge=se+1|0;he=Tr(ge,t,n)|0;if((he|0)==(ge|0)){He=e;break}ge=n+4|0;fe=a[ge>>2]|0;if((a[n>>2]|0)==(fe|0)){He=e;break}ue=fe+-12|0;le=r[ue>>0]|0;pe=(le&1)==0;ce=pe?(le&255)>>>1:a[fe+-8>>2]|0;Ur(s,pe?ue+1|0:a[fe+-4>>2]|0,ce>>>0<2?ce:2);ce=r[s>>0]|0;fe=(ce&1)==0;ue=fe?(ce&255)>>>1:a[s+4>>2]|0;ce=ue>>>0>2;pe=fi(fe?s+1|0:a[s+8>>2]|0,3576,ce?2:ue)|0;Er(s);if(!(((pe|0)==0?ue>>>0<2?-1:ce&1:pe)|0))Hr((a[ge>>2]|0)+-12|0);pe=(a[ge>>2]|0)+-12|0;ge=se-de|0;if(ge>>>0>4294967279)Ir(c);if(ge>>>0<11){r[c>>0]=ge<<1;Ge=c+1|0}else{ce=ge+16&-16;ue=ji(ce)|0;a[c+8>>2]=ue;a[c>>2]=ce|1;a[c+4>>2]=ge;Ge=ue}ue=de;ce=Ge;while(1){if((ue|0)==(se|0))break;r[ce>>0]=r[ue>>0]|0;ue=ue+1|0;ce=ce+1|0}r[Ge+ge>>0]=0;ce=xr(c,0,3576)|0;a[u>>2]=a[ce>>2];a[u+4>>2]=a[ce+4>>2];a[u+8>>2]=a[ce+8>>2];ue=0;while(1){if((ue|0)==3)break;a[ce+(ue<<2)>>2]=0;ue=ue+1|0}ue=Cr(u,3583)|0;a[l>>2]=a[ue>>2];a[l+4>>2]=a[ue+4>>2];a[l+8>>2]=a[ue+8>>2];ce=0;while(1){if((ce|0)==3)break;a[ue+(ce<<2)>>2]=0;ce=ce+1|0}ce=r[l>>0]|0;ue=(ce&1)==0;zr(pe,0,ue?l+1|0:a[l+8>>2]|0,ue?(ce&255)>>>1:a[l+4>>2]|0)|0;Er(l);Er(u);Er(c);He=he;break}ce=Et(de,t,n)|0;if(((!((ce|0)==(de|0)|(ce|0)==(t|0))?(r[ce>>0]|0)==95:0)?(ue=ce+1|0,ce=Tr(ue,t,n)|0,(ce|0)!=(ue|0)):0)?(ue=n+4|0,ge=a[ue>>2]|0,((ge-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){At(d,ge+-24|0);ge=a[ue>>2]|0;se=ge+-24|0;fe=ge;while(1){if((fe|0)==(se|0))break;le=fe+-24|0;a[ue>>2]=le;mr(le);fe=a[ue>>2]|0}At(p,ge+-48|0);fe=a[ue>>2]|0;se=fe+-24|0;do{if(r[se>>0]&1){de=fe+-16|0;r[a[de>>2]>>0]=0;he=fe+-20|0;a[he>>2]=0;pe=r[se>>0]|0;if(!(pe&1)){ze=pe;Ve=10}else{pe=a[se>>2]|0;ze=pe&255;Ve=(pe&-2)+-1|0}if(!(ze&1)){pe=(ze&255)>>>1;if((ze&255)<22){Ke=1;We=10;qe=pe}else{Ke=1;We=(pe+16&240)+-1|0;qe=pe}}else{Ke=0;We=10;qe=0}if((We|0)!=(Ve|0)){if((We|0)==10){pe=se+1|0;le=a[de>>2]|0;if(Ke){Qi(pe|0,le|0,((ze&255)>>>1)+1|0)|0;Li(le)}else{r[pe>>0]=r[le>>0]|0;Li(le)}r[se>>0]=qe<<1;break}le=We+1|0;pe=ji(le)|0;if(!(We>>>0<=Ve>>>0&(pe|0)==0)){if(Ke)Qi(pe|0,se+1|0,((ze&255)>>>1)+1|0)|0;else{Se=a[de>>2]|0;r[pe>>0]=r[Se>>0]|0;Li(Se)}a[se>>2]=le|1;a[he>>2]=qe;a[de>>2]=pe}}}else{r[se+1>>0]=0;r[se>>0]=0}}while(0);a[se>>2]=a[d>>2];a[se+4>>2]=a[d+4>>2];a[se+8>>2]=a[d+8>>2];fe=0;while(1){if((fe|0)==3)break;a[d+(fe<<2)>>2]=0;fe=fe+1|0}fe=d+12|0;se=r[fe>>0]|0;ge=(se&1)==0;pe=d+16|0;de=ge?(se&255)>>>1:a[pe>>2]|0;se=d+20|0;he=fe+1|0;Ur(h,ge?he:a[se>>2]|0,de>>>0<2?de:2);de=r[h>>0]|0;ge=(de&1)==0;le=ge?(de&255)>>>1:a[h+4>>2]|0;de=le>>>0>2;Se=fi(ge?h+1|0:a[h+8>>2]|0,3576,de?2:le)|0;Er(h);if(!(((Se|0)==0?le>>>0<2?-1:de&1:Se)|0))Hr(fe);Se=a[ue>>2]|0;de=Se+-12|0;xt(g,p);le=xr(g,0,3576)|0;a[_>>2]=a[le>>2];a[_+4>>2]=a[le+4>>2];a[_+8>>2]=a[le+8>>2];ge=0;while(1){if((ge|0)==3)break;a[le+(ge<<2)>>2]=0;ge=ge+1|0}ge=Cr(_,3583)|0;a[m>>2]=a[ge>>2];a[m+4>>2]=a[ge+4>>2];a[m+8>>2]=a[ge+8>>2];le=0;while(1){if((le|0)==3)break;a[ge+(le<<2)>>2]=0;le=le+1|0}le=r[fe>>0]|0;ge=(le&1)==0;ue=gr(m,ge?he:a[se>>2]|0,ge?(le&255)>>>1:a[pe>>2]|0)|0;a[y>>2]=a[ue>>2];a[y+4>>2]=a[ue+4>>2];a[y+8>>2]=a[ue+8>>2];le=0;while(1){if((le|0)==3)break;a[ue+(le<<2)>>2]=0;le=le+1|0}do{if(r[de>>0]&1){le=Se+-4|0;r[a[le>>2]>>0]=0;ue=Se+-8|0;a[ue>>2]=0;pe=r[de>>0]|0;if(!(pe&1)){Xe=pe;Ye=10
}else{pe=a[de>>2]|0;Xe=pe&255;Ye=(pe&-2)+-1|0}do{if(!(Xe&1)){pe=(Xe&255)>>>1;if((Xe&255)<22){Je=1;Qe=10;Ze=pe;break}Je=1;Qe=(pe+16&240)+-1|0;Ze=pe}else{Je=0;Qe=10;Ze=0}}while(0);if((Qe|0)!=(Ye|0)){if((Qe|0)==10){pe=de+1|0;se=a[le>>2]|0;if(Je){Qi(pe|0,se|0,((Xe&255)>>>1)+1|0)|0;Li(se)}else{r[pe>>0]=r[se>>0]|0;Li(se)}r[de>>0]=Ze<<1;break}se=Qe+1|0;pe=ji(se)|0;if(Qe>>>0<=Ye>>>0&(pe|0)==0)break;if(Je)Qi(pe|0,de+1|0,((Xe&255)>>>1)+1|0)|0;else{he=a[le>>2]|0;r[pe>>0]=r[he>>0]|0;Li(he)}a[de>>2]=se|1;a[ue>>2]=Ze;a[le>>2]=pe}}else{r[de+1>>0]=0;r[de>>0]=0}}while(0);a[de>>2]=a[y>>2];a[de+4>>2]=a[y+4>>2];a[de+8>>2]=a[y+8>>2];Se=0;while(1){if((Se|0)==3)break;a[y+(Se<<2)>>2]=0;Se=Se+1|0}Er(y);Er(m);Er(_);Er(g);mr(p);mr(d);He=ce}else He=e}else He=e}while(0);if((He|0)==(e|0)){Ue=e;break e}Se=a[n+4>>2]|0;if((a[n>>2]|0)==(Se|0)){Ue=e;break e}de=n+16|0;a[v>>2]=a[n+12>>2];Ct(b,Se+-24|0,v);Se=n+20|0;pe=a[Se>>2]|0;se=a[n+24>>2]|0;he=se;if(pe>>>0<se>>>0){a[pe+12>>2]=a[b+12>>2];a[pe>>2]=a[b>>2];se=b+4|0;a[pe+4>>2]=a[se>>2];fe=b+8|0;a[pe+8>>2]=a[fe>>2];a[fe>>2]=0;a[se>>2]=0;a[b>>2]=0;a[Se>>2]=(a[Se>>2]|0)+16}else{Se=a[de>>2]|0;se=pe-Se|0;pe=se>>4;fe=pe+1|0;if((se|0)<-16)Or(de);se=he-Se|0;if(se>>4>>>0<1073741823){Se=se>>3;$e=Se>>>0<fe>>>0?fe:Se}else $e=2147483647;Nr(o,$e,pe,n+28|0);pe=o+8|0;Se=a[pe>>2]|0;a[Se+12>>2]=a[b+12>>2];a[Se>>2]=a[b>>2];fe=b+4|0;a[Se+4>>2]=a[fe>>2];se=b+8|0;a[Se+8>>2]=a[se>>2];a[se>>2]=0;a[fe>>2]=0;a[b>>2]=0;a[pe>>2]=Se+16;Mr(de,o);Rr(o)}_r(b);Ue=He;break e;break}case 67:{de=e+1|0;Se=Tr(de,t,n)|0;if((Se|0)==(de|0)){Ue=e;break e}de=n+4|0;pe=a[de>>2]|0;if((a[n>>2]|0)==(pe|0)){Ue=e;break e}Cr(pe+-24|0,3585)|0;pe=n+16|0;fe=(a[de>>2]|0)+-24|0;a[k>>2]=a[n+12>>2];Ct(w,fe,k);fe=n+20|0;de=a[fe>>2]|0;se=a[n+24>>2]|0;he=se;if(de>>>0<se>>>0){a[de+12>>2]=a[w+12>>2];a[de>>2]=a[w>>2];se=w+4|0;a[de+4>>2]=a[se>>2];ge=w+8|0;a[de+8>>2]=a[ge>>2];a[ge>>2]=0;a[se>>2]=0;a[w>>2]=0;a[fe>>2]=(a[fe>>2]|0)+16}else{fe=a[pe>>2]|0;se=de-fe|0;de=se>>4;ge=de+1|0;if((se|0)<-16)Or(pe);se=he-fe|0;if(se>>4>>>0<1073741823){fe=se>>3;et=fe>>>0<ge>>>0?ge:fe}else et=2147483647;Nr(o,et,de,n+28|0);de=o+8|0;fe=a[de>>2]|0;a[fe+12>>2]=a[w+12>>2];a[fe>>2]=a[w>>2];ge=w+4|0;a[fe+4>>2]=a[ge>>2];se=w+8|0;a[fe+8>>2]=a[se>>2];a[se>>2]=0;a[ge>>2]=0;a[w>>2]=0;a[de>>2]=fe+16;Mr(pe,o);Rr(o)}_r(w);Ue=Se;break e;break}case 70:{do{if(be<<24>>24==70){Se=e+1|0;if((Se|0)!=(t|0)){if((r[Se>>0]|0)==89){pe=e+2|0;if((pe|0)==(t|0))break;else tt=pe}else tt=Se;Se=Tr(tt,t,n)|0;if((Se|0)!=(tt|0)){Ur(o,3594,1);pe=n+4|0;fe=o+4|0;de=s+8|0;ge=s+1|0;se=s+4|0;he=0;_e=Se;n:while(1){Se=_e;r:while(1){if((Se|0)==(t|0)){nt=170;break n}switch(r[Se>>0]|0){case 69:{rt=he;it=Se;nt=174;break n;break}case 118:{Se=Se+1|0;continue r;break}case 82:{Ne=Se+1|0;if((Ne|0)!=(t|0)?(r[Ne>>0]|0)==69:0){he=1;_e=Ne;continue n}break}case 79:{Ne=Se+1|0;if((Ne|0)!=(t|0)?(r[Ne>>0]|0)==69:0){he=2;_e=Ne;continue n}break}default:{}}Ne=((a[pe>>2]|0)-(a[n>>2]|0)|0)/24|0;ke=Tr(Se,t,n)|0;Ae=((a[pe>>2]|0)-(a[n>>2]|0)|0)/24|0;if((ke|0)==(Se|0)|(ke|0)==(t|0))break n;else at=Ne;while(1){if(at>>>0>=Ae>>>0){ot=Ne;break}me=r[o>>0]|0;if(((me&1)==0?(me&255)>>>1:a[fe>>2]|0)>>>0>1)Cr(o,3596)|0;xt(s,(a[n>>2]|0)+(at*24|0)|0);me=r[s>>0]|0;Fe=(me&1)==0;gr(o,Fe?ge:a[de>>2]|0,Fe?(me&255)>>>1:a[se>>2]|0)|0;Er(s);at=at+1|0}while(1){if(ot>>>0>=Ae>>>0){Se=ke;continue r}Ne=a[pe>>2]|0;me=Ne+-24|0;Fe=Ne;while(1){if((Fe|0)==(me|0))break;Ne=Fe+-24|0;a[pe>>2]=Ne;mr(Ne);Fe=a[pe>>2]|0}ot=ot+1|0}}}n:do{if((nt|0)==170){se=a[pe>>2]|0;de=se+-24|0;ge=se;while(1){if((ge|0)==(de|0))break n;se=ge+-24|0;a[pe>>2]=se;mr(se);ge=a[pe>>2]|0}}else if((nt|0)==174){ge=it+1|0;Cr(o,3499)|0;switch(rt|0){case 1:{Cr(o,3599)|0;break}case 2:{Cr(o,3602)|0;break}default:{}}de=a[pe>>2]|0;if((a[n>>2]|0)!=(de|0)){Cr(de+-24|0,3606)|0;de=r[o>>0]|0;se=(de&1)==0;zr((a[pe>>2]|0)+-12|0,0,se?o+1|0:a[o+8>>2]|0,se?(de&255)>>>1:a[fe>>2]|0)|0;Er(o);if((ge|0)==(e|0)){Ue=e;break e}de=a[pe>>2]|0;if((a[n>>2]|0)==(de|0)){Ue=e;break e}se=n+16|0;a[I>>2]=a[n+12>>2];Ct(S,de+-24|0,I);de=n+20|0;_e=a[de>>2]|0;he=a[n+24>>2]|0;ce=he;if(_e>>>0<he>>>0){a[_e+12>>2]=a[S+12>>2];a[_e>>2]=a[S>>2];he=S+4|0;a[_e+4>>2]=a[he>>2];Se=S+8|0;a[_e+8>>2]=a[Se>>2];a[Se>>2]=0;a[he>>2]=0;a[S>>2]=0;a[de>>2]=(a[de>>2]|0)+16}else{de=a[se>>2]|0;he=_e-de|0;_e=he>>4;Se=_e+1|0;if((he|0)<-16)Or(se);he=ce-de|0;if(he>>4>>>0<1073741823){de=he>>3;st=de>>>0<Se>>>0?Se:de}else st=2147483647;Nr(o,st,_e,n+28|0);_e=o+8|0;de=a[_e>>2]|0;a[de+12>>2]=a[S+12>>2];a[de>>2]=a[S>>2];Se=S+4|0;a[de+4>>2]=a[Se>>2];he=S+8|0;a[de+8>>2]=a[he>>2];a[he>>2]=0;a[Se>>2]=0;a[S>>2]=0;a[_e>>2]=de+16;Mr(se,o);Rr(o)}_r(S);Ue=ge;break e}}}while(0);Er(o);break}}Ue=e;break e}}while(0);Ue=e;break e;break}case 71:{pe=e+1|0;fe=Tr(pe,t,n)|0;if((fe|0)==(pe|0)){Ue=e;break e}pe=n+4|0;ge=a[pe>>2]|0;if((a[n>>2]|0)==(ge|0)){Ue=e;break e}Cr(ge+-24|0,3608)|0;ge=n+16|0;se=(a[pe>>2]|0)+-24|0;a[A>>2]=a[n+12>>2];Ct(E,se,A);se=n+20|0;pe=a[se>>2]|0;de=a[n+24>>2]|0;_e=de;if(pe>>>0<de>>>0){a[pe+12>>2]=a[E+12>>2];a[pe>>2]=a[E>>2];de=E+4|0;a[pe+4>>2]=a[de>>2];Se=E+8|0;a[pe+8>>2]=a[Se>>2];a[Se>>2]=0;a[de>>2]=0;a[E>>2]=0;a[se>>2]=(a[se>>2]|0)+16}else{se=a[ge>>2]|0;de=pe-se|0;pe=de>>4;Se=pe+1|0;if((de|0)<-16)Or(ge);de=_e-se|0;if(de>>4>>>0<1073741823){se=de>>3;lt=se>>>0<Se>>>0?Se:se}else lt=2147483647;Nr(o,lt,pe,n+28|0);pe=o+8|0;se=a[pe>>2]|0;a[se+12>>2]=a[E+12>>2];a[se>>2]=a[E>>2];Se=E+4|0;a[se+4>>2]=a[Se>>2];de=E+8|0;a[se+8>>2]=a[de>>2];a[de>>2]=0;a[Se>>2]=0;a[E>>2]=0;a[pe>>2]=se+16;Mr(ge,o);Rr(o)}_r(E);Ue=fe;break e;break}case 77:{if(((be<<24>>24==77?(fe=e+1|0,ge=Tr(fe,t,n)|0,(ge|0)!=(fe|0)):0)?(fe=Tr(ge,t,n)|0,(fe|0)!=(ge|0)):0)?(ge=n+4|0,se=a[ge>>2]|0,((se-(a[n>>2]|0)|0)/24|0)>>>0>=2):0){At(o,se+-24|0);se=a[ge>>2]|0;pe=se+-24|0;Se=se;while(1){if((Se|0)==(pe|0))break;de=Se+-24|0;a[ge>>2]=de;mr(de);Se=a[ge>>2]|0}At(s,se+-48|0);Se=o+12|0;pe=a[ge>>2]|0;de=pe+-24|0;n:do{if((r[((r[Se>>0]&1)==0?Se+1|0:a[o+20>>2]|0)>>0]|0)==40){_e=Cr(o,3594)|0;a[c>>2]=a[_e>>2];a[c+4>>2]=a[_e+4>>2];a[c+8>>2]=a[_e+8>>2];he=0;while(1){if((he|0)==3)break;a[_e+(he<<2)>>2]=0;he=he+1|0}xt(d,s);he=r[d>>0]|0;_e=(he&1)==0;ce=gr(c,_e?d+1|0:a[d+8>>2]|0,_e?(he&255)>>>1:a[d+4>>2]|0)|0;a[u>>2]=a[ce>>2];a[u+4>>2]=a[ce+4>>2];a[u+8>>2]=a[ce+8>>2];he=0;while(1){if((he|0)==3)break;a[ce+(he<<2)>>2]=0;he=he+1|0}he=Cr(u,3619)|0;a[l>>2]=a[he>>2];a[l+4>>2]=a[he+4>>2];a[l+8>>2]=a[he+8>>2];ce=0;while(1){if((ce|0)==3)break;a[he+(ce<<2)>>2]=0;ce=ce+1|0}do{if(r[de>>0]&1){ce=pe+-16|0;r[a[ce>>2]>>0]=0;he=pe+-20|0;a[he>>2]=0;_e=r[de>>0]|0;if(!(_e&1)){ut=_e;ct=10}else{_e=a[de>>2]|0;ut=_e&255;ct=(_e&-2)+-1|0}if(!(ut&1)){_e=(ut&255)>>>1;if((ut&255)<22){ft=1;dt=10;pt=_e}else{ft=1;dt=(_e+16&240)+-1|0;pt=_e}}else{ft=0;dt=10;pt=0}if((dt|0)!=(ct|0)){if((dt|0)==10){_e=de+1|0;le=a[ce>>2]|0;if(ft){Qi(_e|0,le|0,((ut&255)>>>1)+1|0)|0;Li(le)}else{r[_e>>0]=r[le>>0]|0;Li(le)}r[de>>0]=pt<<1;break}le=dt+1|0;_e=ji(le)|0;if(!(dt>>>0<=ct>>>0&(_e|0)==0)){if(ft)Qi(_e|0,de+1|0,((ut&255)>>>1)+1|0)|0;else{ue=a[ce>>2]|0;r[_e>>0]=r[ue>>0]|0;Li(ue)}a[de>>2]=le|1;a[he>>2]=pt;a[ce>>2]=_e}}}else{r[de+1>>0]=0;r[de>>0]=0}}while(0);a[de>>2]=a[l>>2];a[de+4>>2]=a[l+4>>2];a[de+8>>2]=a[l+8>>2];_e=0;while(1){if((_e|0)==3)break;a[l+(_e<<2)>>2]=0;_e=_e+1|0}Er(l);Er(u);Er(d);Er(c);_e=a[ge>>2]|0;ce=xr(Se,0,3499)|0;a[p>>2]=a[ce>>2];a[p+4>>2]=a[ce+4>>2];a[p+8>>2]=a[ce+8>>2];he=0;while(1){if((he|0)==3)break;a[ce+(he<<2)>>2]=0;he=he+1|0}he=_e+-12|0;do{if(r[he>>0]&1){ce=_e+-4|0;r[a[ce>>2]>>0]=0;le=_e+-8|0;a[le>>2]=0;ue=r[he>>0]|0;if(!(ue&1)){ht=ue;yt=10}else{ue=a[he>>2]|0;ht=ue&255;yt=(ue&-2)+-1|0}if(!(ht&1)){ue=(ht&255)>>>1;if((ht&255)<22){mt=1;_t=10;gt=ue}else{mt=1;_t=(ue+16&240)+-1|0;gt=ue}}else{mt=0;_t=10;gt=0}if((_t|0)!=(yt|0)){if((_t|0)==10){ue=he+1|0;ke=a[ce>>2]|0;if(mt){Qi(ue|0,ke|0,((ht&255)>>>1)+1|0)|0;Li(ke)}else{r[ue>>0]=r[ke>>0]|0;Li(ke)}r[he>>0]=gt<<1;break}ke=_t+1|0;ue=ji(ke)|0;if(!(_t>>>0<=yt>>>0&(ue|0)==0)){if(mt)Qi(ue|0,he+1|0,((ht&255)>>>1)+1|0)|0;else{Ae=a[ce>>2]|0;r[ue>>0]=r[Ae>>0]|0;Li(Ae)}a[he>>2]=ke|1;a[le>>2]=gt;a[ce>>2]=ue}}}else{r[he+1>>0]=0;r[he>>0]=0}}while(0);a[he>>2]=a[p>>2];a[he+4>>2]=a[p+4>>2]
;a[he+8>>2]=a[p+8>>2];_e=0;while(1){if((_e|0)==3)break;a[p+(_e<<2)>>2]=0;_e=_e+1|0}Er(p)}else{_e=Cr(o,3606)|0;a[m>>2]=a[_e>>2];a[m+4>>2]=a[_e+4>>2];a[m+8>>2]=a[_e+8>>2];he=0;while(1){if((he|0)==3)break;a[_e+(he<<2)>>2]=0;he=he+1|0}xt(_,s);he=r[_>>0]|0;_e=(he&1)==0;ue=gr(m,_e?_+1|0:a[_+8>>2]|0,_e?(he&255)>>>1:a[_+4>>2]|0)|0;a[y>>2]=a[ue>>2];a[y+4>>2]=a[ue+4>>2];a[y+8>>2]=a[ue+8>>2];he=0;while(1){if((he|0)==3)break;a[ue+(he<<2)>>2]=0;he=he+1|0}he=Cr(y,3619)|0;a[h>>2]=a[he>>2];a[h+4>>2]=a[he+4>>2];a[h+8>>2]=a[he+8>>2];ue=0;while(1){if((ue|0)==3)break;a[he+(ue<<2)>>2]=0;ue=ue+1|0}do{if(r[de>>0]&1){ue=pe+-16|0;r[a[ue>>2]>>0]=0;he=pe+-20|0;a[he>>2]=0;_e=r[de>>0]|0;if(!(_e&1)){bt=10;vt=_e}else{_e=a[de>>2]|0;bt=(_e&-2)+-1|0;vt=_e&255}if(!(vt&1)){_e=(vt&255)>>>1;if((vt&255)<22){wt=_e;kt=1;St=10}else{wt=_e;kt=1;St=(_e+16&240)+-1|0}}else{wt=0;kt=0;St=10}if((St|0)!=(bt|0)){if((St|0)==10){_e=de+1|0;ce=a[ue>>2]|0;if(kt){Qi(_e|0,ce|0,((vt&255)>>>1)+1|0)|0;Li(ce)}else{r[_e>>0]=r[ce>>0]|0;Li(ce)}r[de>>0]=wt<<1;break}ce=St+1|0;_e=ji(ce)|0;if(!(St>>>0<=bt>>>0&(_e|0)==0)){if(kt)Qi(_e|0,de+1|0,((vt&255)>>>1)+1|0)|0;else{le=a[ue>>2]|0;r[_e>>0]=r[le>>0]|0;Li(le)}a[de>>2]=ce|1;a[he>>2]=wt;a[ue>>2]=_e}}}else{r[de+1>>0]=0;r[de>>0]=0}}while(0);a[de>>2]=a[h>>2];a[de+4>>2]=a[h+4>>2];a[de+8>>2]=a[h+8>>2];_e=0;while(1){if((_e|0)==3)break;a[h+(_e<<2)>>2]=0;_e=_e+1|0}Er(h);Er(y);Er(_);Er(m);_e=a[ge>>2]|0;ue=_e+-12|0;do{if(r[ue>>0]&1){he=_e+-4|0;r[a[he>>2]>>0]=0;ce=_e+-8|0;a[ce>>2]=0;le=r[ue>>0]|0;if(!(le&1)){It=le;Lt=10}else{le=a[ue>>2]|0;It=le&255;Lt=(le&-2)+-1|0}if(!(It&1)){le=(It&255)>>>1;if((It&255)<22){Ut=10;Ht=le;Gt=1}else{Ut=(le+16&240)+-1|0;Ht=le;Gt=1}}else{Ut=10;Ht=0;Gt=0}if((Ut|0)!=(Lt|0)){if((Ut|0)==10){le=ue+1|0;ke=a[he>>2]|0;if(Gt){Qi(le|0,ke|0,((It&255)>>>1)+1|0)|0;Li(ke)}else{r[le>>0]=r[ke>>0]|0;Li(ke)}r[ue>>0]=Ht<<1;break}ke=Ut+1|0;le=ji(ke)|0;if(!(Ut>>>0<=Lt>>>0&(le|0)==0)){if(Gt)Qi(le|0,ue+1|0,((It&255)>>>1)+1|0)|0;else{Ae=a[he>>2]|0;r[le>>0]=r[Ae>>0]|0;Li(Ae)}a[ue>>2]=ke|1;a[ce>>2]=Ht;a[he>>2]=le}}}else{r[ue+1>>0]=0;r[ue>>0]=0}}while(0);a[ue>>2]=a[Se>>2];a[ue+4>>2]=a[Se+4>>2];a[ue+8>>2]=a[Se+8>>2];_e=0;while(1){if((_e|0)==3)break n;a[Se+(_e<<2)>>2]=0;_e=_e+1|0}}}while(0);mr(s);mr(o);zt=fe}else zt=e;if((zt|0)==(e|0)){Ue=e;break e}Se=a[n+4>>2]|0;if((a[n>>2]|0)==(Se|0)){Ue=e;break e}ge=n+16|0;a[C>>2]=a[n+12>>2];Ct(x,Se+-24|0,C);Se=n+20|0;de=a[Se>>2]|0;pe=a[n+24>>2]|0;se=pe;if(de>>>0<pe>>>0){a[de+12>>2]=a[x+12>>2];a[de>>2]=a[x>>2];pe=x+4|0;a[de+4>>2]=a[pe>>2];_e=x+8|0;a[de+8>>2]=a[_e>>2];a[_e>>2]=0;a[pe>>2]=0;a[x>>2]=0;a[Se>>2]=(a[Se>>2]|0)+16}else{Se=a[ge>>2]|0;pe=de-Se|0;de=pe>>4;_e=de+1|0;if((pe|0)<-16)Or(ge);pe=se-Se|0;if(pe>>4>>>0<1073741823){Se=pe>>3;Vt=Se>>>0<_e>>>0?_e:Se}else Vt=2147483647;Nr(o,Vt,de,n+28|0);de=o+8|0;Se=a[de>>2]|0;a[Se+12>>2]=a[x+12>>2];a[Se>>2]=a[x>>2];_e=x+4|0;a[Se+4>>2]=a[_e>>2];pe=x+8|0;a[Se+8>>2]=a[pe>>2];a[pe>>2]=0;a[_e>>2]=0;a[x>>2]=0;a[de>>2]=Se+16;Mr(ge,o);Rr(o)}_r(x);Ue=zt;break e;break}case 79:{ge=n+4|0;Se=((a[ge>>2]|0)-(a[n>>2]|0)|0)/24|0;de=e+1|0;_e=Tr(de,t,n)|0;pe=((a[ge>>2]|0)-(a[n>>2]|0)|0)/24|0;if((_e|0)==(de|0)){Ue=e;break e}de=n+16|0;ge=a[n+12>>2]|0;se=n+20|0;ue=a[se>>2]|0;le=a[n+24>>2]|0;he=le;if(ue>>>0<le>>>0){a[ue>>2]=0;a[ue+4>>2]=0;a[ue+8>>2]=0;a[ue+12>>2]=ge;a[se>>2]=(a[se>>2]|0)+16}else{le=a[de>>2]|0;ce=ue-le|0;ue=ce>>4;ke=ue+1|0;if((ce|0)<-16)Or(de);ce=he-le|0;if(ce>>4>>>0<1073741823){le=ce>>3;Kt=le>>>0<ke>>>0?ke:le}else Kt=2147483647;Nr(o,Kt,ue,n+28|0);ue=o+8|0;le=a[ue>>2]|0;a[le>>2]=0;a[le+4>>2]=0;a[le+8>>2]=0;a[le+12>>2]=ge;a[ue>>2]=le+16;Mr(de,o);Rr(o)}de=T+4|0;le=T+8|0;ue=T+1|0;ge=o+8|0;ke=Se;while(1){if(ke>>>0>=pe>>>0){Ue=_e;break e}Se=a[n>>2]|0;ce=Se+(ke*24|0)+12|0;he=r[ce>>0]|0;Ae=(he&1)==0;Fe=Ae?(he&255)>>>1:a[Se+(ke*24|0)+16>>2]|0;Ur(T,Ae?ce+1|0:a[Se+(ke*24|0)+20>>2]|0,Fe>>>0<2?Fe:2);Fe=r[T>>0]|0;Se=(Fe&1)==0;ce=Se?(Fe&255)>>>1:a[de>>2]|0;Fe=ce>>>0>2;Ae=fi(Se?ue:a[le>>2]|0,3576,Fe?2:ce)|0;Er(T);Se=a[n>>2]|0;if(((Ae|0)==0?ce>>>0<2?-1:Fe&1:Ae)|0){Ae=Se+(ke*24|0)+12|0;if(!(r[Ae>>0]&1))Wt=Ae+1|0;else Wt=a[Se+(ke*24|0)+20>>2]|0;if((r[Wt>>0]|0)==40){Cr(Se+(ke*24|0)|0,3594)|0;xr((a[n>>2]|0)+(ke*24|0)+12|0,0,3499)|0}}else{Cr(Se+(ke*24|0)|0,3496)|0;xr((a[n>>2]|0)+(ke*24|0)+12|0,0,3499)|0}Cr((a[n>>2]|0)+(ke*24|0)|0,3623)|0;Se=a[se>>2]|0;Ae=Se+-16|0;Fe=a[n>>2]|0;ce=Fe+(ke*24|0)|0;he=Se+-12|0;me=a[he>>2]|0;Ne=a[Se+-8>>2]|0;Me=Ne;if((me|0)==(Ne|0)){Ne=a[Ae>>2]|0;Be=me-Ne|0;De=(Be|0)/24|0;Re=De+1|0;if((Be|0)<-24){qt=Ae;break}Be=(Me-Ne|0)/24|0;if(Be>>>0<1073741823){Ne=Be<<1;Xt=Ne>>>0<Re>>>0?Re:Ne}else Xt=2147483647;Fr(o,Xt,De,Se+-4|0);Se=a[ge>>2]|0;Dr(Se,ce);Dr(Se+12|0,Fe+(ke*24|0)+12|0);a[ge>>2]=Se+24;jr(Ae,o);Br(o)}else{Dr(me,ce);Dr(me+12|0,Fe+(ke*24|0)+12|0);a[he>>2]=(a[he>>2]|0)+24}ke=ke+1|0}Or(qt);break}case 80:{ke=n+4|0;ge=((a[ke>>2]|0)-(a[n>>2]|0)|0)/24|0;se=e+1|0;le=Tr(se,t,n)|0;ue=((a[ke>>2]|0)-(a[n>>2]|0)|0)/24|0;if((le|0)==(se|0)){Ue=e;break e}ke=n+16|0;de=a[n+12>>2]|0;_e=n+20|0;pe=a[_e>>2]|0;fe=a[n+24>>2]|0;he=fe;if(pe>>>0<fe>>>0){a[pe>>2]=0;a[pe+4>>2]=0;a[pe+8>>2]=0;a[pe+12>>2]=de;a[_e>>2]=(a[_e>>2]|0)+16}else{fe=a[ke>>2]|0;Fe=pe-fe|0;pe=Fe>>4;me=pe+1|0;if((Fe|0)<-16)Or(ke);Fe=he-fe|0;if(Fe>>4>>>0<1073741823){fe=Fe>>3;Yt=fe>>>0<me>>>0?me:fe}else Yt=2147483647;Nr(o,Yt,pe,n+28|0);pe=o+8|0;fe=a[pe>>2]|0;a[fe>>2]=0;a[fe+4>>2]=0;a[fe+8>>2]=0;a[fe+12>>2]=de;a[pe>>2]=fe+16;Mr(ke,o);Rr(o)}ke=P+4|0;fe=P+8|0;pe=P+1|0;de=O+4|0;me=O+8|0;Fe=O+1|0;he=o+8|0;ce=ge;while(1){if(ce>>>0>=ue>>>0){Ue=le;break e}ge=a[n>>2]|0;Ae=ge+(ce*24|0)+12|0;Se=r[Ae>>0]|0;De=(Se&1)==0;Ne=De?(Se&255)>>>1:a[ge+(ce*24|0)+16>>2]|0;Ur(P,De?Ae+1|0:a[ge+(ce*24|0)+20>>2]|0,Ne>>>0<2?Ne:2);Ne=r[P>>0]|0;ge=(Ne&1)==0;Ae=ge?(Ne&255)>>>1:a[ke>>2]|0;Ne=Ae>>>0>2;De=fi(ge?pe:a[fe>>2]|0,3576,Ne?2:Ae)|0;Er(P);ge=a[n>>2]|0;if(((De|0)==0?Ae>>>0<2?-1:Ne&1:De)|0){De=ge+(ce*24|0)+12|0;if(!(r[De>>0]&1))Jt=De+1|0;else Jt=a[ge+(ce*24|0)+20>>2]|0;if((r[Jt>>0]|0)==40){Cr(ge+(ce*24|0)|0,3594)|0;xr((a[n>>2]|0)+(ce*24|0)+12|0,0,3499)|0}}else{Cr(ge+(ce*24|0)|0,3496)|0;xr((a[n>>2]|0)+(ce*24|0)+12|0,0,3499)|0}ge=a[n>>2]|0;De=ge+(ce*24|0)|0;do{if((r[se>>0]|0)==85){Ne=r[De>>0]|0;Ae=(Ne&1)==0;Se=Ae?(Ne&255)>>>1:a[ge+(ce*24|0)+4>>2]|0;Ur(O,Ae?De+1|0:a[ge+(ce*24|0)+8>>2]|0,Se>>>0<12?Se:12);Se=r[O>>0]|0;Ae=(Se&1)==0;Ne=Ae?(Se&255)>>>1:a[de>>2]|0;Se=Ne>>>0>12;Re=fi(Ae?Fe:a[me>>2]|0,3626,Se?12:Ne)|0;Er(O);Ae=a[n>>2]|0;Be=Ae+(ce*24|0)|0;if(!(((Re|0)==0?Ne>>>0<12?-1:Se&1:Re)|0)){Re=r[Be>>0]|0;if(!(Re&1)){Se=(Re&255)>>>1;Qt=Se;Zt=Se>>>0<11?Se:11;$t=10;en=Re}else{Re=a[Ae+(ce*24|0)+4>>2]|0;Se=a[Be>>2]|0;Qt=Re;Zt=Re>>>0<11?Re:11;$t=(Se&-2)+-1|0;en=Se&255}if((Zt-Qt+$t|0)>>>0<2){Sr(Be,$t,2-Zt+Qt-$t|0,Qt,0,Zt,2,3641);break}if(!(en&1))tn=Be+1|0;else tn=a[Ae+(ce*24|0)+8>>2]|0;do{if((Zt|0)!=2){Se=Qt-Zt|0;if((Qt|0)==(Zt|0)){nn=0;rn=3641;an=2;on=Zt;nt=402}else{if(Zt>>>0>2){r[tn>>0]=105;r[tn+1>>0]=100;Zi(tn+2|0,tn+Zt|0,Se|0)|0;sn=2;ln=Zt;break}do{if(tn>>>0<3641>>>0&(tn+Qt|0)>>>0>3641>>>0){if((tn+Zt|0)>>>0>3641>>>0){Qi(tn|0,3641,Zt|0)|0;un=Zt;cn=3643;fn=2-Zt|0;dn=0;break}else{un=0;cn=3641+(2-Zt)|0;fn=2;dn=Zt;break}}else{un=0;cn=3641;fn=2;dn=Zt}}while(0);Re=tn+un|0;Zi(Re+fn|0,Re+dn|0,Se|0)|0;nn=un;rn=cn;an=fn;on=dn;nt=402}}else{nn=0;rn=3641;an=2;on=2;nt=402}}while(0);if((nt|0)==402){nt=0;Zi(tn+nn|0,rn|0,an|0)|0;sn=an;ln=on}Re=sn-ln+Qt|0;if(!(r[Be>>0]&1))r[Be>>0]=Re<<1;else a[Ae+(ce*24|0)+4>>2]=Re;r[tn+Re>>0]=0}else{pn=Be;nt=385}}else{pn=De;nt=385}}while(0);if((nt|0)==385){nt=0;Cr(pn,3639)|0}De=a[_e>>2]|0;ge=De+-16|0;Re=a[n>>2]|0;Ne=Re+(ce*24|0)|0;Me=De+-12|0;hn=a[Me>>2]|0;yn=a[De+-8>>2]|0;mn=yn;if((hn|0)==(yn|0)){yn=a[ge>>2]|0;_n=hn-yn|0;gn=(_n|0)/24|0;bn=gn+1|0;if((_n|0)<-24){vn=ge;break}_n=(mn-yn|0)/24|0;if(_n>>>0<1073741823){yn=_n<<1;wn=yn>>>0<bn>>>0?bn:yn}else wn=2147483647;Fr(o,wn,gn,De+-4|0);De=a[he>>2]|0;Dr(De,Ne);Dr(De+12|0,Re+(ce*24|0)+12|0);a[he>>2]=De+24;jr(ge,o);Br(o)}else{Dr(hn,Ne);Dr(hn+12|0,Re+(ce*24|0)+12|0);a[Me>>2]=(a[Me>>2]|0)+24}ce=ce+1|0}Or(vn);break}case 82:{ce=n+4|0;he=((a[ce>>2]|0)-(a[n>>2]|0)|0)/24|0;_e=e+1|0;me=Tr(_e,t,n)|0;Fe=((a[ce>>2]|0)-(a[n>>2]|0)|0)/24|0
;if((me|0)==(_e|0)){Ue=e;break e}_e=n+16|0;ce=a[n+12>>2]|0;de=n+20|0;se=a[de>>2]|0;fe=a[n+24>>2]|0;pe=fe;if(se>>>0<fe>>>0){a[se>>2]=0;a[se+4>>2]=0;a[se+8>>2]=0;a[se+12>>2]=ce;a[de>>2]=(a[de>>2]|0)+16}else{fe=a[_e>>2]|0;ke=se-fe|0;se=ke>>4;le=se+1|0;if((ke|0)<-16)Or(_e);ke=pe-fe|0;if(ke>>4>>>0<1073741823){fe=ke>>3;kn=fe>>>0<le>>>0?le:fe}else kn=2147483647;Nr(o,kn,se,n+28|0);se=o+8|0;fe=a[se>>2]|0;a[fe>>2]=0;a[fe+4>>2]=0;a[fe+8>>2]=0;a[fe+12>>2]=ce;a[se>>2]=fe+16;Mr(_e,o);Rr(o)}_e=N+4|0;fe=N+8|0;se=N+1|0;ce=o+8|0;le=he;while(1){if(le>>>0>=Fe>>>0){Ue=me;break e}he=a[n>>2]|0;ke=he+(le*24|0)+12|0;pe=r[ke>>0]|0;ue=(pe&1)==0;Me=ue?(pe&255)>>>1:a[he+(le*24|0)+16>>2]|0;Ur(N,ue?ke+1|0:a[he+(le*24|0)+20>>2]|0,Me>>>0<2?Me:2);Me=r[N>>0]|0;he=(Me&1)==0;ke=he?(Me&255)>>>1:a[_e>>2]|0;Me=ke>>>0>2;ue=fi(he?se:a[fe>>2]|0,3576,Me?2:ke)|0;Er(N);he=a[n>>2]|0;if(((ue|0)==0?ke>>>0<2?-1:Me&1:ue)|0){ue=he+(le*24|0)+12|0;if(!(r[ue>>0]&1))Sn=ue+1|0;else Sn=a[he+(le*24|0)+20>>2]|0;if((r[Sn>>0]|0)==40){Cr(he+(le*24|0)|0,3594)|0;xr((a[n>>2]|0)+(le*24|0)+12|0,0,3499)|0}}else{Cr(he+(le*24|0)|0,3496)|0;xr((a[n>>2]|0)+(le*24|0)+12|0,0,3499)|0}Cr((a[n>>2]|0)+(le*24|0)|0,3644)|0;he=a[de>>2]|0;ue=he+-16|0;Me=a[n>>2]|0;ke=Me+(le*24|0)|0;pe=he+-12|0;Re=a[pe>>2]|0;hn=a[he+-8>>2]|0;Ne=hn;if((Re|0)==(hn|0)){hn=a[ue>>2]|0;ge=Re-hn|0;De=(ge|0)/24|0;gn=De+1|0;if((ge|0)<-24){In=ue;break}ge=(Ne-hn|0)/24|0;if(ge>>>0<1073741823){hn=ge<<1;En=hn>>>0<gn>>>0?gn:hn}else En=2147483647;Fr(o,En,De,he+-4|0);he=a[ce>>2]|0;Dr(he,ke);Dr(he+12|0,Me+(le*24|0)+12|0);a[ce>>2]=he+24;jr(ue,o);Br(o)}else{Dr(Re,ke);Dr(Re+12|0,Me+(le*24|0)+12|0);a[pe>>2]=(a[pe>>2]|0)+24}le=le+1|0}Or(In);break}case 84:{le=n+4|0;ce=((a[le>>2]|0)-(a[n>>2]|0)|0)/24|0;de=Tt(e,t,n)|0;fe=((a[le>>2]|0)-(a[n>>2]|0)|0)/24|0;if((de|0)==(e|0)){Ue=e;break e}se=n+16|0;_e=n+12|0;me=a[_e>>2]|0;Fe=n+20|0;pe=a[Fe>>2]|0;Me=n+24|0;Re=a[Me>>2]|0;ke=Re;if(pe>>>0<Re>>>0){a[pe>>2]=0;a[pe+4>>2]=0;a[pe+8>>2]=0;a[pe+12>>2]=me;a[Fe>>2]=(a[Fe>>2]|0)+16}else{Re=a[se>>2]|0;ue=pe-Re|0;pe=ue>>4;he=pe+1|0;if((ue|0)<-16)Or(se);ue=ke-Re|0;if(ue>>4>>>0<1073741823){Re=ue>>3;An=Re>>>0<he>>>0?he:Re}else An=2147483647;Nr(o,An,pe,n+28|0);pe=o+8|0;Re=a[pe>>2]|0;a[Re>>2]=0;a[Re+4>>2]=0;a[Re+8>>2]=0;a[Re+12>>2]=me;a[pe>>2]=Re+16;Mr(se,o);Rr(o)}Re=o+8|0;pe=ce;while(1){if(pe>>>0>=fe>>>0)break;me=a[Fe>>2]|0;he=me+-16|0;ue=a[n>>2]|0;ke=ue+(pe*24|0)|0;De=me+-12|0;hn=a[De>>2]|0;gn=a[me+-8>>2]|0;ge=gn;if((hn|0)==(gn|0)){gn=a[he>>2]|0;Ne=hn-gn|0;yn=(Ne|0)/24|0;bn=yn+1|0;if((Ne|0)<-24){xn=he;nt=455;break}Ne=(ge-gn|0)/24|0;if(Ne>>>0<1073741823){gn=Ne<<1;Cn=gn>>>0<bn>>>0?bn:gn}else Cn=2147483647;Fr(o,Cn,yn,me+-4|0);me=a[Re>>2]|0;Dr(me,ke);Dr(me+12|0,ue+(pe*24|0)+12|0);a[Re>>2]=me+24;jr(he,o);Br(o)}else{Dr(hn,ke);Dr(hn+12|0,ue+(pe*24|0)+12|0);a[De>>2]=(a[De>>2]|0)+24}pe=pe+1|0}if((nt|0)==455)Or(xn);if(!((fe|0)==(ce+1|0)&(r[n+63>>0]|0)!=0)){Ue=de;break e}pe=Pt(de,t,n)|0;if((pe|0)==(de|0)){Ue=de;break e}xt(s,(a[le>>2]|0)+-24|0);Re=a[le>>2]|0;De=Re+-24|0;ue=Re;while(1){if((ue|0)==(De|0))break;hn=ue+-24|0;a[le>>2]=hn;mr(hn);ue=a[le>>2]|0}ue=r[s>>0]|0;De=(ue&1)==0;gr(Re+-48|0,De?s+1|0:a[s+8>>2]|0,De?(ue&255)>>>1:a[s+4>>2]|0)|0;ue=(a[le>>2]|0)+-24|0;a[R>>2]=a[_e>>2];Ct(M,ue,R);ue=a[Fe>>2]|0;De=a[Me>>2]|0;de=De;if(ue>>>0<De>>>0){a[ue+12>>2]=a[M+12>>2];a[ue>>2]=a[M>>2];De=M+4|0;a[ue+4>>2]=a[De>>2];ce=M+8|0;a[ue+8>>2]=a[ce>>2];a[ce>>2]=0;a[De>>2]=0;a[M>>2]=0;a[Fe>>2]=(a[Fe>>2]|0)+16}else{De=a[se>>2]|0;ce=ue-De|0;ue=ce>>4;fe=ue+1|0;if((ce|0)<-16)Or(se);ce=de-De|0;if(ce>>4>>>0<1073741823){De=ce>>3;Tn=De>>>0<fe>>>0?fe:De}else Tn=2147483647;Nr(o,Tn,ue,n+28|0);ue=o+8|0;De=a[ue>>2]|0;a[De+12>>2]=a[M+12>>2];a[De>>2]=a[M>>2];fe=M+4|0;a[De+4>>2]=a[fe>>2];ce=M+8|0;a[De+8>>2]=a[ce>>2];a[ce>>2]=0;a[fe>>2]=0;a[M>>2]=0;a[ue>>2]=De+16;Mr(se,o);Rr(o)}_r(M);Er(s);Ue=pe;break e;break}case 85:{De=e+1|0;if((De|0)==(t|0)){Ue=e;break e}ue=Ot(De,t,n)|0;if((ue|0)==(De|0)){Ue=e;break e}De=Tr(ue,t,n)|0;if((De|0)==(ue|0)){Ue=e;break e}ue=n+4|0;fe=a[ue>>2]|0;if(((fe-(a[n>>2]|0)|0)/24|0)>>>0<2){Ue=e;break e}xt(s,fe+-24|0);fe=a[ue>>2]|0;ce=fe+-24|0;de=fe;while(1){if((de|0)==(ce|0))break;hn=de+-24|0;a[ue>>2]=hn;mr(hn);de=a[ue>>2]|0}de=fe+-48|0;ce=r[de>>0]|0;pe=(ce&1)==0;se=pe?(ce&255)>>>1:a[fe+-44>>2]|0;Ur(D,pe?de+1|0:a[fe+-40>>2]|0,se>>>0<9?se:9);se=r[D>>0]|0;de=(se&1)==0;pe=de?(se&255)>>>1:a[D+4>>2]|0;se=pe>>>0>9;ce=fi(de?D+1|0:a[D+8>>2]|0,3646,se?9:pe)|0;Er(D);if(!(((ce|0)==0?pe>>>0<9?-1:se&1:ce)|0)){xt(l,(a[ue>>2]|0)+-24|0);ce=a[ue>>2]|0;se=ce+-24|0;pe=ce;while(1){if((pe|0)==(se|0))break;ce=pe+-24|0;a[ue>>2]=ce;mr(ce);pe=a[ue>>2]|0}pe=r[l>>0]|0;se=(pe&1)==0;fe=l+8|0;ce=l+1|0;de=se?ce:a[fe>>2]|0;Fe=l+4|0;Me=Ot(de+9|0,de+(se?(pe&255)>>>1:a[Fe>>2]|0)|0,n)|0;if((Me|0)==(((r[l>>0]&1)==0?ce:a[fe>>2]|0)+9|0)){Nt(q,s,3606);Me=r[l>>0]|0;pe=(Me&1)==0;se=gr(q,pe?ce:a[fe>>2]|0,pe?(Me&255)>>>1:a[Fe>>2]|0)|0;a[W>>2]=a[se>>2];a[W+4>>2]=a[se+4>>2];a[W+8>>2]=a[se+8>>2];Fe=0;while(1){if((Fe|0)==3)break;a[se+(Fe<<2)>>2]=0;Fe=Fe+1|0}Mt(K,W);Fe=a[ue>>2]|0;se=a[n+8>>2]|0;Me=se;if(Fe>>>0<se>>>0){At(Fe,K);a[ue>>2]=(a[ue>>2]|0)+24}else{se=a[n>>2]|0;pe=Fe-se|0;Fe=(pe|0)/24|0;fe=Fe+1|0;if((pe|0)<-24)Or(n);pe=(Me-se|0)/24|0;if(pe>>>0<1073741823){se=pe<<1;Pn=se>>>0<fe>>>0?fe:se}else Pn=2147483647;Fr(o,Pn,Fe,n+12|0);Fe=o+8|0;se=a[Fe>>2]|0;At(se,K);a[Fe>>2]=se+24;jr(n,o);Br(o)}mr(K);Er(W);Er(q)}else{se=(a[ue>>2]|0)+-24|0;Nt(z,s,3656);xt(V,(a[ue>>2]|0)+-24|0);Fe=r[V>>0]|0;fe=(Fe&1)==0;pe=gr(z,fe?V+1|0:a[V+8>>2]|0,fe?(Fe&255)>>>1:a[V+4>>2]|0)|0;a[G>>2]=a[pe>>2];a[G+4>>2]=a[pe+4>>2];a[G+8>>2]=a[pe+8>>2];Fe=0;while(1){if((Fe|0)==3)break;a[pe+(Fe<<2)>>2]=0;Fe=Fe+1|0}Fe=Cr(G,3658)|0;a[H>>2]=a[Fe>>2];a[H+4>>2]=a[Fe+4>>2];a[H+8>>2]=a[Fe+8>>2];pe=0;while(1){if((pe|0)==3)break;a[Fe+(pe<<2)>>2]=0;pe=pe+1|0}Mt(U,H);Rt(se,U);mr(U);Er(H);Er(G);Er(V);Er(z)}Er(l)}else{pe=(a[ue>>2]|0)+-24|0;Nt(j,s,3606);xt(L,(a[ue>>2]|0)+-24|0);Fe=r[L>>0]|0;fe=(Fe&1)==0;Me=gr(j,fe?L+1|0:a[L+8>>2]|0,fe?(Fe&255)>>>1:a[L+4>>2]|0)|0;a[B>>2]=a[Me>>2];a[B+4>>2]=a[Me+4>>2];a[B+8>>2]=a[Me+8>>2];Fe=0;while(1){if((Fe|0)==3)break;a[Me+(Fe<<2)>>2]=0;Fe=Fe+1|0}Mt(F,B);Rt(pe,F);mr(F);Er(B);Er(L);Er(j)}Fe=(a[ue>>2]|0)+-24|0;a[Y>>2]=a[n+12>>2];Ct(X,Fe,Y);Fe=n+16|0;Me=n+20|0;se=a[Me>>2]|0;fe=a[n+24>>2]|0;ce=fe;if(se>>>0<fe>>>0){a[se+12>>2]=a[X+12>>2];a[se>>2]=a[X>>2];fe=X+4|0;a[se+4>>2]=a[fe>>2];de=X+8|0;a[se+8>>2]=a[de>>2];a[de>>2]=0;a[fe>>2]=0;a[X>>2]=0;a[Me>>2]=(a[Me>>2]|0)+16}else{Me=a[Fe>>2]|0;fe=se-Me|0;se=fe>>4;de=se+1|0;if((fe|0)<-16)Or(Fe);fe=ce-Me|0;if(fe>>4>>>0<1073741823){Me=fe>>3;On=Me>>>0<de>>>0?de:Me}else On=2147483647;Nr(o,On,se,n+28|0);se=o+8|0;Me=a[se>>2]|0;a[Me+12>>2]=a[X+12>>2];a[Me>>2]=a[X>>2];de=X+4|0;a[Me+4>>2]=a[de>>2];fe=X+8|0;a[Me+8>>2]=a[fe>>2];a[fe>>2]=0;a[de>>2]=0;a[X>>2]=0;a[se>>2]=Me+16;Mr(Fe,o);Rr(o)}_r(X);Er(s);Ue=De;break e;break}case 83:{Fe=e+1|0;if((Fe|0)!=(t|0)?(r[Fe>>0]|0)==116:0){Fe=Dt(e,t,n)|0;if((Fe|0)==(e|0)){Ue=e;break e}Me=a[n+4>>2]|0;if((a[n>>2]|0)==(Me|0)){Ue=e;break e}se=n+16|0;a[Q>>2]=a[n+12>>2];Ct(J,Me+-24|0,Q);Me=n+20|0;de=a[Me>>2]|0;fe=a[n+24>>2]|0;ce=fe;if(de>>>0<fe>>>0){a[de+12>>2]=a[J+12>>2];a[de>>2]=a[J>>2];fe=J+4|0;a[de+4>>2]=a[fe>>2];_e=J+8|0;a[de+8>>2]=a[_e>>2];a[_e>>2]=0;a[fe>>2]=0;a[J>>2]=0;a[Me>>2]=(a[Me>>2]|0)+16}else{Me=a[se>>2]|0;fe=de-Me|0;de=fe>>4;_e=de+1|0;if((fe|0)<-16)Or(se);fe=ce-Me|0;if(fe>>4>>>0<1073741823){Me=fe>>3;Nn=Me>>>0<_e>>>0?_e:Me}else Nn=2147483647;Nr(o,Nn,de,n+28|0);de=o+8|0;Me=a[de>>2]|0;a[Me+12>>2]=a[J+12>>2];a[Me>>2]=a[J>>2];_e=J+4|0;a[Me+4>>2]=a[_e>>2];fe=J+8|0;a[Me+8>>2]=a[fe>>2];a[fe>>2]=0;a[_e>>2]=0;a[J>>2]=0;a[de>>2]=Me+16;Mr(se,o);Rr(o)}_r(J);Ue=Fe;break e}Fe=Ft(e,t,n)|0;if((Fe|0)==(e|0)){Ue=e;break e}se=Pt(Fe,t,n)|0;if((se|0)==(Fe|0)){Ue=Fe;break e}Me=n+4|0;de=a[Me>>2]|0;if(((de-(a[n>>2]|0)|0)/24|0)>>>0<2){Ue=Fe;break e}xt(s,de+-24|0);de=a[Me>>2]|0;Fe=de+-24|0;_e=de;while(1){if((_e|0)==(Fe|0))break;fe=_e+-24|0;a[Me>>2]=fe;mr(fe);_e=a[Me>>2]|0}_e=r[s>>0]|0;Fe=(_e&1)==0;gr(de+-48|0,Fe?s+1|0:a[s+8>>2]|0,Fe?(_e&255)>>>1:a[s+4>>2]|0)|0;_e=(a[Me>>2]|0)+-24|0;a[$>>2]=a[n+12>>2];Ct(Z,_e,$);_e=n+16|0;Fe=n+20|0;De=a[Fe>>2]|0
;ue=a[n+24>>2]|0;pe=ue;if(De>>>0<ue>>>0){a[De+12>>2]=a[Z+12>>2];a[De>>2]=a[Z>>2];ue=Z+4|0;a[De+4>>2]=a[ue>>2];fe=Z+8|0;a[De+8>>2]=a[fe>>2];a[fe>>2]=0;a[ue>>2]=0;a[Z>>2]=0;a[Fe>>2]=(a[Fe>>2]|0)+16}else{Fe=a[_e>>2]|0;ue=De-Fe|0;De=ue>>4;fe=De+1|0;if((ue|0)<-16)Or(_e);ue=pe-Fe|0;if(ue>>4>>>0<1073741823){Fe=ue>>3;Mn=Fe>>>0<fe>>>0?fe:Fe}else Mn=2147483647;Nr(o,Mn,De,n+28|0);De=o+8|0;Fe=a[De>>2]|0;a[Fe+12>>2]=a[Z+12>>2];a[Fe>>2]=a[Z>>2];fe=Z+4|0;a[Fe+4>>2]=a[fe>>2];ue=Z+8|0;a[Fe+8>>2]=a[ue>>2];a[ue>>2]=0;a[fe>>2]=0;a[Z>>2]=0;a[De>>2]=Fe+16;Mr(_e,o);Rr(o)}_r(Z);Er(s);Ue=se;break e;break}case 68:{_e=e+1|0;if((_e|0)!=(t|0)){Fe=r[_e>>0]|0;switch(Fe<<24>>24|0){case 112:{_e=n+4|0;De=((a[_e>>2]|0)-(a[n>>2]|0)|0)/24|0;fe=e+2|0;ue=Tr(fe,t,n)|0;pe=((a[_e>>2]|0)-(a[n>>2]|0)|0)/24|0;if((ue|0)==(fe|0))break t;fe=n+16|0;_e=a[n+12>>2]|0;ce=n+20|0;le=a[ce>>2]|0;Re=a[n+24>>2]|0;hn=Re;if(le>>>0<Re>>>0){a[le>>2]=0;a[le+4>>2]=0;a[le+8>>2]=0;a[le+12>>2]=_e;a[ce>>2]=(a[ce>>2]|0)+16}else{Re=a[fe>>2]|0;ke=le-Re|0;le=ke>>4;he=le+1|0;if((ke|0)<-16)Or(fe);ke=hn-Re|0;if(ke>>4>>>0<1073741823){Re=ke>>3;Rn=Re>>>0<he>>>0?he:Re}else Rn=2147483647;Nr(o,Rn,le,n+28|0);le=o+8|0;Re=a[le>>2]|0;a[Re>>2]=0;a[Re+4>>2]=0;a[Re+8>>2]=0;a[Re+12>>2]=_e;a[le>>2]=Re+16;Mr(fe,o);Rr(o)}fe=o+8|0;Re=De;while(1){if(Re>>>0>=pe>>>0){Ue=ue;break e}De=a[ce>>2]|0;le=De+-16|0;_e=a[n>>2]|0;he=_e+(Re*24|0)|0;ke=De+-12|0;hn=a[ke>>2]|0;me=a[De+-8>>2]|0;yn=me;if((hn|0)==(me|0)){me=a[le>>2]|0;gn=hn-me|0;bn=(gn|0)/24|0;Ne=bn+1|0;if((gn|0)<-24){Dn=le;break}gn=(yn-me|0)/24|0;if(gn>>>0<1073741823){me=gn<<1;Fn=me>>>0<Ne>>>0?Ne:me}else Fn=2147483647;Fr(o,Fn,bn,De+-4|0);De=a[fe>>2]|0;Dr(De,he);Dr(De+12|0,_e+(Re*24|0)+12|0);a[fe>>2]=De+24;jr(le,o);Br(o)}else{Dr(hn,he);Dr(hn+12|0,_e+(Re*24|0)+12|0);a[ke>>2]=(a[ke>>2]|0)+24}Re=Re+1|0}Or(Dn);break}case 84:case 116:{Re=Bt(e,t,n)|0;if((Re|0)==(e|0))break t;fe=a[n+4>>2]|0;if((a[n>>2]|0)==(fe|0)){Ue=e;break e}ce=n+16|0;a[te>>2]=a[n+12>>2];Ct(ee,fe+-24|0,te);fe=n+20|0;ue=a[fe>>2]|0;pe=a[n+24>>2]|0;se=pe;if(ue>>>0<pe>>>0){a[ue+12>>2]=a[ee+12>>2];a[ue>>2]=a[ee>>2];pe=ee+4|0;a[ue+4>>2]=a[pe>>2];Me=ee+8|0;a[ue+8>>2]=a[Me>>2];a[Me>>2]=0;a[pe>>2]=0;a[ee>>2]=0;a[fe>>2]=(a[fe>>2]|0)+16}else{fe=a[ce>>2]|0;pe=ue-fe|0;ue=pe>>4;Me=ue+1|0;if((pe|0)<-16)Or(ce);pe=se-fe|0;if(pe>>4>>>0<1073741823){fe=pe>>3;Bn=fe>>>0<Me>>>0?Me:fe}else Bn=2147483647;Nr(o,Bn,ue,n+28|0);ue=o+8|0;fe=a[ue>>2]|0;a[fe+12>>2]=a[ee+12>>2];a[fe>>2]=a[ee>>2];Me=ee+4|0;a[fe+4>>2]=a[Me>>2];pe=ee+8|0;a[fe+8>>2]=a[pe>>2];a[pe>>2]=0;a[Me>>2]=0;a[ee>>2]=0;a[ue>>2]=fe+16;Mr(ce,o);Rr(o)}_r(ee);Ue=Re;break e;break}case 118:{n:do{if((t-e|0)>3&be<<24>>24==68&Fe<<24>>24==118){Re=e+2|0;ce=r[Re>>0]|0;if((ce+-49&255)<9){fe=Gr(Re,t)|0;if((fe|0)==(t|0)){jn=e;break}if((r[fe>>0]|0)!=95){jn=e;break}ue=fe-Re|0;Me=fe+1|0;if((Me|0)==(t|0)){jn=e;break}if((r[Me>>0]|0)!=112){pe=Tr(Me,t,n)|0;if((pe|0)==(Me|0)){jn=e;break}Me=a[n+4>>2]|0;if((a[n>>2]|0)==(Me|0)){jn=e;break}se=Me+-24|0;Ur(u,Re,ue);Me=xr(u,0,3660)|0;a[l>>2]=a[Me>>2];a[l+4>>2]=a[Me+4>>2];a[l+8>>2]=a[Me+8>>2];de=0;while(1){if((de|0)==3)break;a[Me+(de<<2)>>2]=0;de=de+1|0}de=Cr(l,3583)|0;a[s>>2]=a[de>>2];a[s+4>>2]=a[de+4>>2];a[s+8>>2]=a[de+8>>2];Me=0;while(1){if((Me|0)==3)break;a[de+(Me<<2)>>2]=0;Me=Me+1|0}Me=r[s>>0]|0;de=(Me&1)==0;gr(se,de?s+1|0:a[s+8>>2]|0,de?(Me&255)>>>1:a[s+4>>2]|0)|0;Er(s);Er(l);Er(u);jn=pe;break}Me=fe+2|0;Ur(h,Re,ue);de=xr(h,0,3669)|0;a[p>>2]=a[de>>2];a[p+4>>2]=a[de+4>>2];a[p+8>>2]=a[de+8>>2];ke=0;while(1){if((ke|0)==3)break;a[de+(ke<<2)>>2]=0;ke=ke+1|0}ke=Cr(p,3583)|0;a[d>>2]=a[ke>>2];a[d+4>>2]=a[ke+4>>2];a[d+8>>2]=a[ke+8>>2];de=0;while(1){if((de|0)==3)break;a[ke+(de<<2)>>2]=0;de=de+1|0}Mt(c,d);de=n+4|0;ke=a[de>>2]|0;ue=a[n+8>>2]|0;fe=ue;if(ke>>>0<ue>>>0){At(ke,c);a[de>>2]=(a[de>>2]|0)+24}else{de=a[n>>2]|0;ue=ke-de|0;ke=(ue|0)/24|0;pe=ke+1|0;if((ue|0)<-24)Or(n);ue=(fe-de|0)/24|0;if(ue>>>0<1073741823){de=ue<<1;Ln=de>>>0<pe>>>0?pe:de}else Ln=2147483647;Fr(o,Ln,ke,n+12|0);ke=o+8|0;de=a[ke>>2]|0;At(de,c);a[ke>>2]=de+24;jr(n,o);Br(o)}mr(c);Er(d);Er(p);Er(h);jn=Me;break}de=0;while(1){if((de|0)==3)break;a[o+(de<<2)>>2]=0;de=de+1|0}r:do{if(ce<<24>>24!=95?(de=Et(Re,t,n)|0,(de|0)!=(Re|0)):0){Me=n+4|0;ke=a[Me>>2]|0;if((a[n>>2]|0)!=(ke|0)){xt(y,ke+-24|0);i:do{if(!(r[o>>0]&1)){r[o+1>>0]=0;r[o>>0]=0}else{ke=o+8|0;pe=a[ke>>2]|0;r[pe>>0]=0;ue=o+4|0;a[ue>>2]=0;fe=a[o>>2]|0;se=(fe&-2)+-1|0;_e=fe&255;do{if(!(_e&1)){hn=fe>>>1&127;if((_e&255)<22){Qi(o+1|0,pe|0,(fe>>>1&127)+1|0)|0;Li(pe);Un=hn;break}he=hn+16&240;le=he+-1|0;if((le|0)==(se|0))break i;De=ji(he)|0;if(le>>>0<=se>>>0&(De|0)==0)break i;Qi(De|0,o+1|0,(fe>>>1&127)+1|0)|0;a[o>>2]=he|1;a[ue>>2]=hn;a[ke>>2]=De;break i}else{r[o+1>>0]=0;Li(pe);Un=0}}while(0);r[o>>0]=Un<<1}}while(0);a[o>>2]=a[y>>2];a[o+4>>2]=a[y+4>>2];a[o+8>>2]=a[y+8>>2];Be=0;while(1){if((Be|0)==3)break;a[y+(Be<<2)>>2]=0;Be=Be+1|0}Er(y);Be=a[Me>>2]|0;Ae=Be+-24|0;pe=Be;while(1){if((pe|0)==(Ae|0)){Hn=de;nt=622;break r}Be=pe+-24|0;a[Me>>2]=Be;mr(Be);pe=a[Me>>2]|0}}}else{Hn=Re;nt=622}}while(0);do{if((nt|0)==622){if((((Hn|0)!=(t|0)?(r[Hn>>0]|0)==95:0)?(Re=Hn+1|0,(Re|0)!=(t|0)):0)?(ce=Tr(Re,t,n)|0,(ce|0)!=(Re|0)):0){Re=a[n+4>>2]|0;if((a[n>>2]|0)==(Re|0))break;Me=Re+-24|0;jt(_,3660,o);Re=Cr(_,3583)|0;a[m>>2]=a[Re>>2];a[m+4>>2]=a[Re+4>>2];a[m+8>>2]=a[Re+8>>2];pe=0;while(1){if((pe|0)==3)break;a[Re+(pe<<2)>>2]=0;pe=pe+1|0}pe=r[m>>0]|0;Re=(pe&1)==0;gr(Me,Re?m+1|0:a[m+8>>2]|0,Re?(pe&255)>>>1:a[m+4>>2]|0)|0;Er(m);Er(_);Gn=ce}else Gn=e;Er(o);jn=Gn;break n}}while(0);Er(o);jn=e}else jn=e}while(0);if((jn|0)==(e|0))break t;Fe=a[n+4>>2]|0;if((a[n>>2]|0)==(Fe|0)){Ue=e;break e}pe=n+16|0;a[re>>2]=a[n+12>>2];Ct(ne,Fe+-24|0,re);Fe=n+20|0;Re=a[Fe>>2]|0;de=a[n+24>>2]|0;Ae=de;if(Re>>>0<de>>>0){a[Re+12>>2]=a[ne+12>>2];a[Re>>2]=a[ne>>2];de=ne+4|0;a[Re+4>>2]=a[de>>2];Be=ne+8|0;a[Re+8>>2]=a[Be>>2];a[Be>>2]=0;a[de>>2]=0;a[ne>>2]=0;a[Fe>>2]=(a[Fe>>2]|0)+16}else{Fe=a[pe>>2]|0;de=Re-Fe|0;Re=de>>4;Be=Re+1|0;if((de|0)<-16)Or(pe);de=Ae-Fe|0;if(de>>4>>>0<1073741823){Fe=de>>3;zn=Fe>>>0<Be>>>0?Be:Fe}else zn=2147483647;Nr(o,zn,Re,n+28|0);Re=o+8|0;Fe=a[Re>>2]|0;a[Fe+12>>2]=a[ne+12>>2];a[Fe>>2]=a[ne>>2];Be=ne+4|0;a[Fe+4>>2]=a[Be>>2];de=ne+8|0;a[Fe+8>>2]=a[de>>2];a[de>>2]=0;a[Be>>2]=0;a[ne>>2]=0;a[Re>>2]=Fe+16;Mr(pe,o);Rr(o)}_r(ne);Ue=jn;break e;break}default:break t}}break}default:{}}}while(0);be=Lr(e,t,n)|0;if((be|0)==(e|0)){pe=Dt(e,t,n)|0;if((pe|0)!=(e|0)?(Fe=a[n+4>>2]|0,(a[n>>2]|0)!=(Fe|0)):0){Re=n+16|0;a[ae>>2]=a[n+12>>2];Ct(ie,Fe+-24|0,ae);Fe=n+20|0;Be=a[Fe>>2]|0;de=a[n+24>>2]|0;Ae=de;if(Be>>>0<de>>>0){a[Be+12>>2]=a[ie+12>>2];a[Be>>2]=a[ie>>2];de=ie+4|0;a[Be+4>>2]=a[de>>2];ke=ie+8|0;a[Be+8>>2]=a[ke>>2];a[ke>>2]=0;a[de>>2]=0;a[ie>>2]=0;a[Fe>>2]=(a[Fe>>2]|0)+16}else{Fe=a[Re>>2]|0;de=Be-Fe|0;Be=de>>4;ke=Be+1|0;if((de|0)<-16)Or(Re);de=Ae-Fe|0;if(de>>4>>>0<1073741823){Fe=de>>3;Vn=Fe>>>0<ke>>>0?ke:Fe}else Vn=2147483647;Nr(o,Vn,Be,n+28|0);Be=o+8|0;Fe=a[Be>>2]|0;a[Fe+12>>2]=a[ie+12>>2];a[Fe>>2]=a[ie>>2];ke=ie+4|0;a[Fe+4>>2]=a[ke>>2];de=ie+8|0;a[Fe+8>>2]=a[de>>2];a[de>>2]=0;a[ke>>2]=0;a[ie>>2]=0;a[Be>>2]=Fe+16;Mr(Re,o);Rr(o)}_r(ie);Ue=pe}else Ue=e}else Ue=be}else Ue=oe}else Ue=e}while(0);f=i;return Ue|0}function Pr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0;a[n>>2]=0;if((e|0)!=(t|0)){t=r[e>>0]|0;if(t<<24>>24==114){a[n>>2]=4;i=e+1|0;o=i;s=r[i>>0]|0;l=4}else{o=e;s=t;l=0}if(s<<24>>24==86){t=l|2;a[n>>2]=t;i=o+1|0;u=i;c=t;f=r[i>>0]|0}else{u=o;c=l;f=s}if(f<<24>>24==75){a[n>>2]=c|1;d=u+1|0}else d=u}else d=e;return d|0}function Or(e){e=e|0;xe(5276,5299,303,3475)}function Nr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;a[e+12>>2]=0;a[e+16>>2]=r;if(!t)i=0;else i=Xr(a[r>>2]|0,t<<4)|0;a[e>>2]=i;r=i+(n<<4)|0;a[e+8>>2]=r;a[e+4>>2]=r;a[e+12>>2]=i+(t<<4);return}function Mr(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0;n=a[e>>2]|0;r=e+4|0;i=t+4|0;o=a[r>>2]|0;while(1){if((o|0)==(n|0))break;s=a[i>>2]|0;l=s+-16|0;u=o+-16|0;a[l>>2]=0;c=s+-12|0;a[c>>2]=0;f=a[o+-4>>2]|0;a[s+-8>>2]=0;a[s+-4>>2]=f;a[l>>2]=a[u>>2];l=o+-12|0;a[c>>2]=a[l>>2];c=o+-8|0;a[s+-8>>2]=a[c>>2];a[c>>2]=0;a[l>>2]=0;a[u>>2]=0;a[i>>2]=(a[i>>2]|0)+-16;o=u}
o=a[e>>2]|0;a[e>>2]=a[i>>2];a[i>>2]=o;o=t+8|0;n=a[r>>2]|0;a[r>>2]=a[o>>2];a[o>>2]=n;n=e+8|0;e=t+12|0;o=a[n>>2]|0;a[n>>2]=a[e>>2];a[e>>2]=o;a[t>>2]=a[i>>2];return}function Rr(e){e=e|0;var t=0,n=0,r=0,i=0;t=a[e+4>>2]|0;n=e+8|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;i=r+-16|0;a[n>>2]=i;_r(i)}n=a[e>>2]|0;if(n)kr(a[a[e+16>>2]>>2]|0,n,(a[e+12>>2]|0)-n|0);return}function Dr(e,t){e=e|0;t=t|0;if(!(r[t>>0]&1)){a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2]}else Ur(e,a[t+8>>2]|0,a[t+4>>2]|0);return}function Fr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;a[e+12>>2]=0;a[e+16>>2]=r;if(!t)i=0;else i=Xr(a[r>>2]|0,t*24|0)|0;a[e>>2]=i;r=i+(n*24|0)|0;a[e+8>>2]=r;a[e+4>>2]=r;a[e+12>>2]=i+(t*24|0);return}function Br(e){e=e|0;var t=0,n=0,r=0,i=0;t=a[e+4>>2]|0;n=e+8|0;while(1){r=a[n>>2]|0;if((r|0)==(t|0))break;i=r+-24|0;a[n>>2]=i;mr(i)}n=a[e>>2]|0;if(n)kr(a[a[e+16>>2]>>2]|0,n,(a[e+12>>2]|0)-n|0);return}function jr(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0;n=a[e>>2]|0;r=e+4|0;i=t+4|0;o=a[r>>2]|0;while(1){if((o|0)==(n|0))break;s=o+-24|0;At((a[i>>2]|0)+-24|0,s);a[i>>2]=(a[i>>2]|0)+-24;o=s}o=a[e>>2]|0;a[e>>2]=a[i>>2];a[i>>2]=o;o=t+8|0;n=a[r>>2]|0;a[r>>2]=a[o>>2];a[o>>2]=n;n=e+8|0;e=t+12|0;o=a[n>>2]|0;a[n>>2]=a[e>>2];a[e>>2]=o;a[t>>2]=a[i>>2];return}function Lr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0;i=f;f=f+720|0;o=i+696|0;s=i+672|0;l=i+648|0;u=i+624|0;c=i+600|0;d=i+576|0;p=i+552|0;h=i+528|0;y=i+504|0;m=i+480|0;_=i+456|0;g=i+432|0;b=i+408|0;v=i+384|0;w=i+360|0;k=i+336|0;S=i+312|0;I=i+288|0;E=i+264|0;A=i+240|0;x=i+216|0;C=i+192|0;T=i+168|0;P=i+144|0;O=i+120|0;N=i+96|0;M=i+72|0;R=i+48|0;D=i+24|0;F=i;e:do{if((e|0)==(t|0))B=e;else do{switch(r[e>>0]|0){case 118:{qr(s,5082);j=n+4|0;L=a[j>>2]|0;U=a[n+8>>2]|0;H=U;if(L>>>0<U>>>0){At(L,s);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;U=L-j|0;L=(U|0)/24|0;G=L+1|0;if((U|0)<-24)Or(n);U=(H-j|0)/24|0;if(U>>>0<1073741823){j=U<<1;z=j>>>0<G>>>0?G:j}else z=2147483647;Fr(o,z,L,n+12|0);L=o+8|0;j=a[L>>2]|0;At(j,s);a[L>>2]=j+24;jr(n,o);Br(o)}mr(s);B=e+1|0;break e;break}case 119:{r[l>>0]=14;j=l+1|0;r[j>>0]=r[4644]|0;r[j+1>>0]=r[4645]|0;r[j+2>>0]=r[4646]|0;r[j+3>>0]=r[4647]|0;r[j+4>>0]=r[4648]|0;r[j+5>>0]=r[4649]|0;r[j+6>>0]=r[4650]|0;r[l+8>>0]=0;j=l+12|0;L=0;while(1){if((L|0)==3)break;a[j+(L<<2)>>2]=0;L=L+1|0}L=n+4|0;j=a[L>>2]|0;G=a[n+8>>2]|0;U=G;if(j>>>0<G>>>0){At(j,l);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;G=j-L|0;j=(G|0)/24|0;H=j+1|0;if((G|0)<-24)Or(n);G=(U-L|0)/24|0;if(G>>>0<1073741823){L=G<<1;V=L>>>0<H>>>0?H:L}else V=2147483647;Fr(o,V,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,l);a[j>>2]=L+24;jr(n,o);Br(o)}mr(l);B=e+1|0;break e;break}case 98:{qr(u,5087);L=n+4|0;j=a[L>>2]|0;H=a[n+8>>2]|0;G=H;if(j>>>0<H>>>0){At(j,u);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;H=j-L|0;j=(H|0)/24|0;U=j+1|0;if((H|0)<-24)Or(n);H=(G-L|0)/24|0;if(H>>>0<1073741823){L=H<<1;K=L>>>0<U>>>0?U:L}else K=2147483647;Fr(o,K,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,u);a[j>>2]=L+24;jr(n,o);Br(o)}mr(u);B=e+1|0;break e;break}case 99:{qr(c,4663);L=n+4|0;j=a[L>>2]|0;U=a[n+8>>2]|0;H=U;if(j>>>0<U>>>0){At(j,c);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;U=j-L|0;j=(U|0)/24|0;G=j+1|0;if((U|0)<-24)Or(n);U=(H-L|0)/24|0;if(U>>>0<1073741823){L=U<<1;W=L>>>0<G>>>0?G:L}else W=2147483647;Fr(o,W,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,c);a[j>>2]=L+24;jr(n,o);Br(o)}mr(c);B=e+1|0;break e;break}case 97:{Gt(d,4668);L=n+4|0;j=a[L>>2]|0;G=a[n+8>>2]|0;U=G;if(j>>>0<G>>>0){At(j,d);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;G=j-L|0;j=(G|0)/24|0;H=j+1|0;if((G|0)<-24)Or(n);G=(U-L|0)/24|0;if(G>>>0<1073741823){L=G<<1;q=L>>>0<H>>>0?H:L}else q=2147483647;Fr(o,q,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,d);a[j>>2]=L+24;jr(n,o);Br(o)}mr(d);B=e+1|0;break e;break}case 104:{Vt(p,4680);L=n+4|0;j=a[L>>2]|0;H=a[n+8>>2]|0;G=H;if(j>>>0<H>>>0){At(j,p);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;H=j-L|0;j=(H|0)/24|0;U=j+1|0;if((H|0)<-24)Or(n);H=(G-L|0)/24|0;if(H>>>0<1073741823){L=H<<1;X=L>>>0<U>>>0?U:L}else X=2147483647;Fr(o,X,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,p);a[j>>2]=L+24;jr(n,o);Br(o)}mr(p);B=e+1|0;break e;break}case 115:{Wr(h,4694);L=n+4|0;j=a[L>>2]|0;U=a[n+8>>2]|0;H=U;if(j>>>0<U>>>0){At(j,h);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;U=j-L|0;j=(U|0)/24|0;G=j+1|0;if((U|0)<-24)Or(n);U=(H-L|0)/24|0;if(U>>>0<1073741823){L=U<<1;Y=L>>>0<G>>>0?G:L}else Y=2147483647;Fr(o,Y,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,h);a[j>>2]=L+24;jr(n,o);Br(o)}mr(h);B=e+1|0;break e;break}case 116:{Ut(y,4700);L=n+4|0;j=a[L>>2]|0;G=a[n+8>>2]|0;U=G;if(j>>>0<G>>>0){At(j,y);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;G=j-L|0;j=(G|0)/24|0;H=j+1|0;if((G|0)<-24)Or(n);G=(U-L|0)/24|0;if(G>>>0<1073741823){L=G<<1;J=L>>>0<H>>>0?H:L}else J=2147483647;Fr(o,J,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,y);a[j>>2]=L+24;jr(n,o);Br(o)}mr(y);B=e+1|0;break e;break}case 105:{ri(m,5092);L=n+4|0;j=a[L>>2]|0;H=a[n+8>>2]|0;G=H;if(j>>>0<H>>>0){At(j,m);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;H=j-L|0;j=(H|0)/24|0;U=j+1|0;if((H|0)<-24)Or(n);H=(G-L|0)/24|0;if(H>>>0<1073741823){L=H<<1;Q=L>>>0<U>>>0?U:L}else Q=2147483647;Fr(o,Q,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,m);a[j>>2]=L+24;jr(n,o);Br(o)}mr(m);B=e+1|0;break e;break}case 106:{zt(_,5096);L=n+4|0;j=a[L>>2]|0;U=a[n+8>>2]|0;H=U;if(j>>>0<U>>>0){At(j,_);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;U=j-L|0;j=(U|0)/24|0;G=j+1|0;if((U|0)<-24)Or(n);U=(H-L|0)/24|0;if(U>>>0<1073741823){L=U<<1;Z=L>>>0<G>>>0?G:L}else Z=2147483647;Fr(o,Z,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,_);a[j>>2]=L+24;jr(n,o);Br(o)}mr(_);B=e+1|0;break e;break}case 108:{qr(g,5109);L=n+4|0;j=a[L>>2]|0;G=a[n+8>>2]|0;U=G;if(j>>>0<G>>>0){At(j,g);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;G=j-L|0;j=(G|0)/24|0;H=j+1|0;if((G|0)<-24)Or(n);G=(U-L|0)/24|0;if(G>>>0<1073741823){L=G<<1;$=L>>>0<H>>>0?H:L}else $=2147483647;Fr(o,$,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,g);a[j>>2]=L+24;jr(n,o);Br(o)}mr(g);B=e+1|0;break e;break}case 109:{Vt(b,5114);L=n+4|0;j=a[L>>2]|0;H=a[n+8>>2]|0;G=H;if(j>>>0<H>>>0){At(j,b);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;H=j-L|0;j=(H|0)/24|0;U=j+1|0;if((H|0)<-24)Or(n);H=(G-L|0)/24|0;if(H>>>0<1073741823){L=H<<1;ee=L>>>0<U>>>0?U:L}else ee=2147483647;Fr(o,ee,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,b);a[j>>2]=L+24;jr(n,o);Br(o)}mr(b);B=e+1|0;break e;break}case 120:{tn(v,5128);L=n+4|0;j=a[L>>2]|0;U=a[n+8>>2]|0;H=U;if(j>>>0<U>>>0){At(j,v);a[L>>2]=(a[L>>2]|0)+24}else{L=a[n>>2]|0;U=j-L|0;j=(U|0)/24|0;G=j+1|0;if((U|0)<-24)Or(n);U=(H-L|0)/24|0;if(U>>>0<1073741823){L=U<<1;te=L>>>0<G>>>0?G:L}else te=2147483647;Fr(o,te,j,n+12|0);j=o+8|0;L=a[j>>2]|0;At(L,v);a[j>>2]=L+24;jr(n,o);Br(o)}mr(v);B=e+1|0;break e;break}case 121:{L=ji(32)|0;a[w+8>>2]=L;a[w>>2]=33;a[w+4>>2]=18;j=L;G=5138;U=j+18|0;do{r[j>>0]=r[G>>0]|0;j=j+1|0;G=G+1|0}while((j|0)<(U|0));r[L+18>>0]=0;G=w+12|0;j=0;while(1){if((j|0)==3)break;a[G+(j<<2)>>2]=0;j=j+1|0}j=n+4|0;G=a[j>>2]|0;L=a[n+8>>2]|0;U=L;if(G>>>0<L>>>0){At(G,w);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;L=G-j|0;G=(L|0)/24|0;H=G+1|0;if((L|0)<-24)Or(n);L=(U-j|0)/24|0;if(L>>>0<1073741823){j=L<<1;ne=j>>>0<H>>>0?H:j}else ne=2147483647;Fr(o,ne,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,w);a[G>>2]=j+24;jr(n,o);Br(o)}mr(w);B=e+1|0;break e;break}case 110:{ii(k,4730);j=n+4|0;G=a[j>>2]|0;H=a[n+8>>2]|0;L=H;if(G>>>0<H>>>0){At(G,k);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;H=G-j|0;G=(H|0)/24|0;U=G+1|0;if((H|0)<-24)Or(n);H=(L-j|0)/24|0;if(H>>>0<1073741823){j=H<<1;re=j>>>0<U>>>0?U:j}else re=2147483647;Fr(o,re,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,k);a[G>>2]=j+24;jr(n,o);Br(o)}mr(k);B=e+1|0;break e;break}case 111:{Ht(S,4739);j=n+4|0;G=a[j>>2]|0;U=a[n+8>>2]|0;H=U;if(G>>>0<U>>>0){At(G,S);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;U=G-j|0;G=(U|0)/24|0;L=G+1|0;if((U|0)<-24)Or(n);U=(H-j|0)/24|0;if(U>>>0<1073741823){j=U<<1;ie=j>>>0<L>>>0?L:j}else ie=2147483647;Fr(o,ie,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,S);a[G>>2]=j+24;jr(n,o);Br(o)}mr(S);B=e+1|0;break e;break}case 102:{Wr(I,5157);j=n+4|0;G=a[j>>2]|0
;L=a[n+8>>2]|0;U=L;if(G>>>0<L>>>0){At(G,I);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;L=G-j|0;G=(L|0)/24|0;H=G+1|0;if((L|0)<-24)Or(n);L=(U-j|0)/24|0;if(L>>>0<1073741823){j=L<<1;ae=j>>>0<H>>>0?H:j}else ae=2147483647;Fr(o,ae,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,I);a[G>>2]=j+24;jr(n,o);Br(o)}mr(I);B=e+1|0;break e;break}case 100:{r[E>>0]=12;j=E+1|0;r[j>>0]=r[5163]|0;r[j+1>>0]=r[5164]|0;r[j+2>>0]=r[5165]|0;r[j+3>>0]=r[5166]|0;r[j+4>>0]=r[5167]|0;r[j+5>>0]=r[5168]|0;r[E+7>>0]=0;j=E+12|0;G=0;while(1){if((G|0)==3)break;a[j+(G<<2)>>2]=0;G=G+1|0}G=n+4|0;j=a[G>>2]|0;H=a[n+8>>2]|0;L=H;if(j>>>0<H>>>0){At(j,E);a[G>>2]=(a[G>>2]|0)+24}else{G=a[n>>2]|0;H=j-G|0;j=(H|0)/24|0;U=j+1|0;if((H|0)<-24)Or(n);H=(L-G|0)/24|0;if(H>>>0<1073741823){G=H<<1;oe=G>>>0<U>>>0?U:G}else oe=2147483647;Fr(o,oe,j,n+12|0);j=o+8|0;G=a[j>>2]|0;At(G,E);a[j>>2]=G+24;jr(n,o);Br(o)}mr(E);B=e+1|0;break e;break}case 101:{Gt(A,5170);G=n+4|0;j=a[G>>2]|0;U=a[n+8>>2]|0;H=U;if(j>>>0<U>>>0){At(j,A);a[G>>2]=(a[G>>2]|0)+24}else{G=a[n>>2]|0;U=j-G|0;j=(U|0)/24|0;L=j+1|0;if((U|0)<-24)Or(n);U=(H-G|0)/24|0;if(U>>>0<1073741823){G=U<<1;se=G>>>0<L>>>0?L:G}else se=2147483647;Fr(o,se,j,n+12|0);j=o+8|0;G=a[j>>2]|0;At(G,A);a[j>>2]=G+24;jr(n,o);Br(o)}mr(A);B=e+1|0;break e;break}case 103:{en(x,5182);G=n+4|0;j=a[G>>2]|0;L=a[n+8>>2]|0;U=L;if(j>>>0<L>>>0){At(j,x);a[G>>2]=(a[G>>2]|0)+24}else{G=a[n>>2]|0;L=j-G|0;j=(L|0)/24|0;H=j+1|0;if((L|0)<-24)Or(n);L=(U-G|0)/24|0;if(L>>>0<1073741823){G=L<<1;le=G>>>0<H>>>0?H:G}else le=2147483647;Fr(o,le,j,n+12|0);j=o+8|0;G=a[j>>2]|0;At(G,x);a[j>>2]=G+24;jr(n,o);Br(o)}mr(x);B=e+1|0;break e;break}case 122:{ri(C,5193);G=n+4|0;j=a[G>>2]|0;H=a[n+8>>2]|0;L=H;if(j>>>0<H>>>0){At(j,C);a[G>>2]=(a[G>>2]|0)+24}else{G=a[n>>2]|0;H=j-G|0;j=(H|0)/24|0;U=j+1|0;if((H|0)<-24)Or(n);H=(L-G|0)/24|0;if(H>>>0<1073741823){G=H<<1;ue=G>>>0<U>>>0?U:G}else ue=2147483647;Fr(o,ue,j,n+12|0);j=o+8|0;G=a[j>>2]|0;At(G,C);a[j>>2]=G+24;jr(n,o);Br(o)}mr(C);B=e+1|0;break e;break}case 117:{G=e+1|0;j=Ot(G,t,n)|0;B=(j|0)==(G|0)?e:j;break e;break}case 68:{j=e+1|0;if((j|0)==(t|0)){B=e;break e}switch(r[j>>0]|0){case 100:{tn(T,5197);j=n+4|0;G=a[j>>2]|0;U=a[n+8>>2]|0;H=U;if(G>>>0<U>>>0){At(G,T);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;U=G-j|0;G=(U|0)/24|0;L=G+1|0;if((U|0)<-24)Or(n);U=(H-j|0)/24|0;if(U>>>0<1073741823){j=U<<1;ce=j>>>0<L>>>0?L:j}else ce=2147483647;Fr(o,ce,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,T);a[G>>2]=j+24;jr(n,o);Br(o)}mr(T);B=e+2|0;break e;break}case 101:{en(P,5207);j=n+4|0;G=a[j>>2]|0;L=a[n+8>>2]|0;U=L;if(G>>>0<L>>>0){At(G,P);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;L=G-j|0;G=(L|0)/24|0;H=G+1|0;if((L|0)<-24)Or(n);L=(U-j|0)/24|0;if(L>>>0<1073741823){j=L<<1;fe=j>>>0<H>>>0?H:j}else fe=2147483647;Fr(o,fe,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,P);a[G>>2]=j+24;jr(n,o);Br(o)}mr(P);B=e+2|0;break e;break}case 102:{tn(O,5218);j=n+4|0;G=a[j>>2]|0;H=a[n+8>>2]|0;L=H;if(G>>>0<H>>>0){At(G,O);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;H=G-j|0;G=(H|0)/24|0;U=G+1|0;if((H|0)<-24)Or(n);H=(L-j|0)/24|0;if(H>>>0<1073741823){j=H<<1;de=j>>>0<U>>>0?U:j}else de=2147483647;Fr(o,de,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,O);a[G>>2]=j+24;jr(n,o);Br(o)}mr(O);B=e+2|0;break e;break}case 104:{tn(N,5228);j=n+4|0;G=a[j>>2]|0;U=a[n+8>>2]|0;H=U;if(G>>>0<U>>>0){At(G,N);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;U=G-j|0;G=(U|0)/24|0;L=G+1|0;if((U|0)<-24)Or(n);U=(H-j|0)/24|0;if(U>>>0<1073741823){j=U<<1;pe=j>>>0<L>>>0?L:j}else pe=2147483647;Fr(o,pe,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,N);a[G>>2]=j+24;jr(n,o);Br(o)}mr(N);B=e+2|0;break e;break}case 105:{ii(M,5238);j=n+4|0;G=a[j>>2]|0;L=a[n+8>>2]|0;U=L;if(G>>>0<L>>>0){At(G,M);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;L=G-j|0;G=(L|0)/24|0;H=G+1|0;if((L|0)<-24)Or(n);L=(U-j|0)/24|0;if(L>>>0<1073741823){j=L<<1;he=j>>>0<H>>>0?H:j}else he=2147483647;Fr(o,he,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,M);a[G>>2]=j+24;jr(n,o);Br(o)}mr(M);B=e+2|0;break e;break}case 115:{ii(R,5247);j=n+4|0;G=a[j>>2]|0;H=a[n+8>>2]|0;L=H;if(G>>>0<H>>>0){At(G,R);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;H=G-j|0;G=(H|0)/24|0;U=G+1|0;if((H|0)<-24)Or(n);H=(L-j|0)/24|0;if(H>>>0<1073741823){j=H<<1;ye=j>>>0<U>>>0?U:j}else ye=2147483647;Fr(o,ye,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,R);a[G>>2]=j+24;jr(n,o);Br(o)}mr(R);B=e+2|0;break e;break}case 97:{qr(D,5256);j=n+4|0;G=a[j>>2]|0;U=a[n+8>>2]|0;H=U;if(G>>>0<U>>>0){At(G,D);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;U=G-j|0;G=(U|0)/24|0;L=G+1|0;if((U|0)<-24)Or(n);U=(H-j|0)/24|0;if(U>>>0<1073741823){j=U<<1;me=j>>>0<L>>>0?L:j}else me=2147483647;Fr(o,me,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,D);a[G>>2]=j+24;jr(n,o);Br(o)}mr(D);B=e+2|0;break e;break}case 110:{Ut(F,5261);j=n+4|0;G=a[j>>2]|0;L=a[n+8>>2]|0;U=L;if(G>>>0<L>>>0){At(G,F);a[j>>2]=(a[j>>2]|0)+24}else{j=a[n>>2]|0;L=G-j|0;G=(L|0)/24|0;H=G+1|0;if((L|0)<-24)Or(n);L=(U-j|0)/24|0;if(L>>>0<1073741823){j=L<<1;_e=j>>>0<H>>>0?H:j}else _e=2147483647;Fr(o,_e,G,n+12|0);G=o+8|0;j=a[G>>2]|0;At(j,F);a[G>>2]=j+24;jr(n,o);Br(o)}mr(F);B=e+2|0;break e;break}default:{B=e;break e}}break}default:{B=e;break e}}}while(0)}while(0);f=i;return B|0}function Ur(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;if(n>>>0>4294967279)Ir(e);if(n>>>0<11){r[e>>0]=n<<1;i=e+1|0}else{o=n+16&-16;s=ji(o)|0;a[e+8>>2]=s;a[e>>2]=o|1;a[e+4>>2]=n;i=s}Qi(i|0,t|0,n|0)|0;r[i+n>>0]=0;return}function Hr(e){e=e|0;var t=0,n=0,i=0,o=0,s=0,l=0;t=r[e>>0]|0;if(!(t&1)){n=(t&255)>>>1;i=e+1|0}else{n=a[e+4>>2]|0;i=a[e+8>>2]|0}o=(n|0)!=0&1;s=n-o|0;if((n|0)==(o|0))l=t;else{Zi(i|0,i+o|0,s|0)|0;l=r[e>>0]|0}if(!(l&1))r[e>>0]=s<<1;else a[e+4>>2]=s;r[i+s>>0]=0;return}function Gr(e,t){e=e|0;t=t|0;var n=0,i=0,a=0;e:do{if((e|0)!=(t|0)?(n=(r[e>>0]|0)==110?e+1|0:e,(n|0)!=(t|0)):0){i=r[n>>0]|0;if(i<<24>>24==48){a=n+1|0;break}if((i+-49&255)<9){i=n;while(1){n=i+1|0;if((n|0)==(t|0)){a=t;break e}if(((r[n>>0]|0)+-48|0)>>>0<10)i=n;else{a=n;break}}}else a=e}else a=e}while(0);return a|0}function zr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0;o=r[e>>0]|0;s=(o&1)==0;if(s)l=(o&255)>>>1;else l=a[e+4>>2]|0;if(l>>>0<t>>>0)ni(e);if(s){u=10;c=o}else{o=a[e>>2]|0;u=(o&-2)+-1|0;c=o&255}if((u-l|0)>>>0>=i>>>0){if(i){if(!(c&1))f=e+1|0;else f=a[e+8>>2]|0;if((l|0)==(t|0)){d=n;p=f+t|0}else{c=f+t|0;Zi(c+i|0,c|0,l-t|0)|0;d=c>>>0<=n>>>0&(f+l|0)>>>0>n>>>0?n+i|0:n;p=c}Zi(p|0,d|0,i|0)|0;d=l+i|0;if(!(r[e>>0]&1))r[e>>0]=d<<1;else a[e+4>>2]=d;r[f+d>>0]=0}}else Sr(e,u,l+i-u|0,l,t,0,i,n);return e|0}function Vr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0;i=f;f=f+480|0;o=i+72|0;s=i+48|0;l=i+24|0;d=i;p=i+432|0;h=i+408|0;y=i+384|0;m=i+396|0;_=i+360|0;g=i+336|0;b=i+320|0;v=i+308|0;w=i+296|0;k=i+284|0;S=i+272|0;I=i+260|0;E=i+248|0;A=i+236|0;x=i+224|0;C=i+212|0;T=i+200|0;P=i+188|0;O=i+176|0;N=i+152|0;M=i+140|0;R=i+128|0;D=i+116|0;F=i+104|0;B=i+92|0;j=t;e:do{if((j-e|0)>3?(r[e>>0]|0)==76:0){L=e+1|0;do{switch(r[L>>0]|0){case 84:{U=e;break e;break}case 119:{H=e+2|0;Ur(m,4644,7);G=Kr(H,t,m,n)|0;Er(m);U=(G|0)==(H|0)?e:G;break e;break}case 98:{if((r[e+3>>0]|0)!=69){U=e;break e}switch(r[e+2>>0]|0){case 48:{Wr(_,4652);G=n+4|0;H=a[G>>2]|0;z=a[n+8>>2]|0;V=z;if(H>>>0<z>>>0){At(H,_);a[G>>2]=(a[G>>2]|0)+24}else{G=a[n>>2]|0;z=H-G|0;H=(z|0)/24|0;K=H+1|0;if((z|0)<-24)Or(n);z=(V-G|0)/24|0;if(z>>>0<1073741823){G=z<<1;W=G>>>0<K>>>0?K:G}else W=2147483647;Fr(d,W,H,n+12|0);H=d+8|0;G=a[H>>2]|0;At(G,_);a[H>>2]=G+24;jr(n,d);Br(d)}mr(_);U=e+4|0;break e;break}case 49:{qr(g,4658);G=n+4|0;H=a[G>>2]|0;K=a[n+8>>2]|0;z=K;if(H>>>0<K>>>0){At(H,g);a[G>>2]=(a[G>>2]|0)+24}else{G=a[n>>2]|0;K=H-G|0;H=(K|0)/24|0;V=H+1|0;if((K|0)<-24)Or(n);K=(z-G|0)/24|0;if(K>>>0<1073741823){G=K<<1;q=G>>>0<V>>>0?V:G}else q=2147483647;Fr(d,q,H,n+12|0);H=d+8|0;G=a[H>>2]|0;At(G,g);a[H>>2]=G+24;jr(n,d);Br(d)}mr(g);U=e+4|0;break e;break}default:{U=e;break e}}break}case 99:{G=e+2|0;Ur(b,4663,4);H=Kr(G,t,b,n)|0;Er(b);U=(H|0)==(G|0)?e:H;break e;break}case 97:{H=e+2|0;Ur(v,4668,11);G=Kr(H,t,v,n)|0;Er(v)
;U=(G|0)==(H|0)?e:G;break e;break}case 104:{G=e+2|0;Ur(w,4680,13);H=Kr(G,t,w,n)|0;Er(w);U=(H|0)==(G|0)?e:H;break e;break}case 115:{H=e+2|0;Ur(k,4694,5);G=Kr(H,t,k,n)|0;Er(k);U=(G|0)==(H|0)?e:G;break e;break}case 116:{G=e+2|0;Ur(S,4700,14);H=Kr(G,t,S,n)|0;Er(S);U=(H|0)==(G|0)?e:H;break e;break}case 105:{H=e+2|0;Ur(I,4715,0);G=Kr(H,t,I,n)|0;Er(I);U=(G|0)==(H|0)?e:G;break e;break}case 106:{G=e+2|0;Ur(E,4716,1);H=Kr(G,t,E,n)|0;Er(E);U=(H|0)==(G|0)?e:H;break e;break}case 108:{H=e+2|0;Ur(A,4718,1);G=Kr(H,t,A,n)|0;Er(A);U=(G|0)==(H|0)?e:G;break e;break}case 109:{G=e+2|0;Ur(x,4720,2);H=Kr(G,t,x,n)|0;Er(x);U=(H|0)==(G|0)?e:H;break e;break}case 120:{H=e+2|0;Ur(C,4723,2);G=Kr(H,t,C,n)|0;Er(C);U=(G|0)==(H|0)?e:G;break e;break}case 121:{G=e+2|0;Ur(T,4726,3);H=Kr(G,t,T,n)|0;Er(T);U=(H|0)==(G|0)?e:H;break e;break}case 110:{H=e+2|0;Ur(P,4730,8);G=Kr(H,t,P,n)|0;Er(P);U=(G|0)==(H|0)?e:G;break e;break}case 111:{G=e+2|0;Ur(O,4739,17);H=Kr(G,t,O,n)|0;Er(O);U=(H|0)==(G|0)?e:H;break e;break}case 102:{H=e+2|0;t:do{if((j-H|0)>>>0>8){G=e+10|0;V=e;K=d;z=H;while(1){X=r[z>>0]|0;if((z|0)==(G|0)){Y=X;J=K;Q=41;break}if(!(ui(X<<24>>24)|0))break;X=r[z>>0]|0;Z=r[V+3>>0]|0;r[K>>0]=(((Z<<24>>24)+-48|0)>>>0<10?208:169)+(Z&255)+(((X+-48|0)>>>0<10?0:9)+X<<4);X=z;K=K+1|0;z=z+2|0;V=X}do{if((Q|0)==41){if(Y<<24>>24==69){n:do{if((d|0)!=(J|0)){V=J;z=d;while(1){K=V+-1|0;if(z>>>0>=K>>>0)break n;G=r[z>>0]|0;r[z>>0]=r[K>>0]|0;r[K>>0]=G;V=K;z=z+1|0}}}while(0);$=p;ee=$+24|0;do{r[$>>0]=0;$=$+1|0}while(($|0)<(ee|0));c[l>>3]=+u[d>>2];z=ki(p,24,4757,l)|0;if(z>>>0>23)break;Ur(y,p,z);Mt(h,y);z=n+4|0;V=a[z>>2]|0;K=a[n+8>>2]|0;G=K;if(V>>>0<K>>>0){At(V,h);a[z>>2]=(a[z>>2]|0)+24}else{z=a[n>>2]|0;K=V-z|0;V=(K|0)/24|0;X=V+1|0;if((K|0)<-24)Or(n);K=(G-z|0)/24|0;if(K>>>0<1073741823){z=K<<1;te=z>>>0<X>>>0?X:z}else te=2147483647;Fr(l,te,V,n+12|0);V=l+8|0;z=a[V>>2]|0;At(z,h);a[V>>2]=z+24;jr(n,l);Br(l)}mr(h);Er(y);ne=e+11|0}else ne=H;re=ne;break t}}while(0);re=H}else re=H}while(0);U=(re|0)==(H|0)?e:re;break e;break}case 100:{z=e+2|0;t:do{if((j-z|0)>>>0>16){V=e+18|0;X=e;K=d;G=z;while(1){Z=r[G>>0]|0;if((G|0)==(V|0)){ie=Z;ae=K;Q=63;break}if(!(ui(Z<<24>>24)|0))break;Z=r[G>>0]|0;oe=r[X+3>>0]|0;r[K>>0]=(((oe<<24>>24)+-48|0)>>>0<10?208:169)+(oe&255)+(((Z+-48|0)>>>0<10?0:9)+Z<<4);Z=G;K=K+1|0;G=G+2|0;X=Z}do{if((Q|0)==63){if(ie<<24>>24==69){n:do{if((d|0)!=(ae|0)){X=ae;G=d;while(1){K=X+-1|0;if(G>>>0>=K>>>0)break n;V=r[G>>0]|0;r[G>>0]=r[K>>0]|0;r[K>>0]=V;X=K;G=G+1|0}}}while(0);$=p;ee=$+32|0;do{r[$>>0]=0;$=$+1|0}while(($|0)<(ee|0));c[s>>3]=+c[d>>3];G=ki(p,32,4761,s)|0;if(G>>>0>31)break;Ur(y,p,G);Mt(h,y);G=n+4|0;X=a[G>>2]|0;K=a[n+8>>2]|0;V=K;if(X>>>0<K>>>0){At(X,h);a[G>>2]=(a[G>>2]|0)+24}else{G=a[n>>2]|0;K=X-G|0;X=(K|0)/24|0;Z=X+1|0;if((K|0)<-24)Or(n);K=(V-G|0)/24|0;if(K>>>0<1073741823){G=K<<1;se=G>>>0<Z>>>0?Z:G}else se=2147483647;Fr(s,se,X,n+12|0);X=s+8|0;G=a[X>>2]|0;At(G,h);a[X>>2]=G+24;jr(n,s);Br(s)}mr(h);Er(y);le=e+19|0}else le=z;ue=le;break t}}while(0);ue=z}else ue=z}while(0);U=(ue|0)==(z|0)?e:ue;break e;break}case 101:{H=e+2|0;t:do{if((j-H|0)>>>0>20){G=e+22|0;X=e;Z=d;K=H;while(1){V=r[K>>0]|0;if((K|0)==(G|0)){ce=V;fe=Z;Q=85;break}if(!(ui(V<<24>>24)|0))break;V=r[K>>0]|0;oe=r[X+3>>0]|0;r[Z>>0]=(((oe<<24>>24)+-48|0)>>>0<10?208:169)+(oe&255)+(((V+-48|0)>>>0<10?0:9)+V<<4);V=K;Z=Z+1|0;K=K+2|0;X=V}do{if((Q|0)==85){if(ce<<24>>24==69){n:do{if((d|0)!=(fe|0)){X=fe;K=d;while(1){Z=X+-1|0;if(K>>>0>=Z>>>0)break n;G=r[K>>0]|0;r[K>>0]=r[Z>>0]|0;r[Z>>0]=G;X=Z;K=K+1|0}}}while(0);$=p;ee=$+40|0;do{r[$>>0]=0;$=$+1|0}while(($|0)<(ee|0));c[o>>3]=+c[d>>3];K=ki(p,40,4764,o)|0;if(K>>>0>39)break;Ur(y,p,K);Mt(h,y);K=n+4|0;X=a[K>>2]|0;Z=a[n+8>>2]|0;G=Z;if(X>>>0<Z>>>0){At(X,h);a[K>>2]=(a[K>>2]|0)+24}else{K=a[n>>2]|0;Z=X-K|0;X=(Z|0)/24|0;V=X+1|0;if((Z|0)<-24)Or(n);Z=(G-K|0)/24|0;if(Z>>>0<1073741823){K=Z<<1;de=K>>>0<V>>>0?V:K}else de=2147483647;Fr(o,de,X,n+12|0);X=o+8|0;K=a[X>>2]|0;At(K,h);a[X>>2]=K+24;jr(n,o);Br(o)}mr(h);Er(y);pe=e+23|0}else pe=H;he=pe;break t}}while(0);he=H}else he=H}while(0);U=(he|0)==(H|0)?e:he;break e;break}case 95:{if((r[e+2>>0]|0)!=90){U=e;break e}z=e+3|0;K=Ar(z,t,n)|0;if((K|0)==(z|0)|(K|0)==(t|0)){U=e;break e}U=(r[K>>0]|0)==69?K+1|0:e;break e;break}default:{K=Tr(L,t,n)|0;if((K|0)==(L|0)|(K|0)==(t|0)){U=e;break e}if((r[K>>0]|0)==69){U=K+1|0;break e}else ye=K;while(1){if((ye|0)==(t|0)){U=e;break e}z=r[ye>>0]|0;if(((z<<24>>24)+-48|0)>>>0>=10){me=z;_e=ye;break}ye=ye+1|0}if(!((_e|0)!=(K|0)&me<<24>>24==69)){U=e;break e}H=a[n+4>>2]|0;if((a[n>>2]|0)==(H|0)){U=e;break e}z=H+-24|0;xt(F,z);H=xr(F,0,3594)|0;a[D>>2]=a[H>>2];a[D+4>>2]=a[H+4>>2];a[D+8>>2]=a[H+8>>2];X=0;while(1){if((X|0)==3)break;a[H+(X<<2)>>2]=0;X=X+1|0}X=Cr(D,3499)|0;a[R>>2]=a[X>>2];a[R+4>>2]=a[X+4>>2];a[R+8>>2]=a[X+8>>2];H=0;while(1){if((H|0)==3)break;a[X+(H<<2)>>2]=0;H=H+1|0}H=_e-K|0;if(H>>>0>4294967279)Ir(B);if(H>>>0<11){r[B>>0]=H<<1;ge=B+1|0}else{X=H+16&-16;V=ji(X)|0;a[B+8>>2]=V;a[B>>2]=X|1;a[B+4>>2]=H;ge=V}V=K;X=ge;while(1){if((V|0)==(_e|0))break;r[X>>0]=r[V>>0]|0;V=V+1|0;X=X+1|0}r[ge+H>>0]=0;X=r[B>>0]|0;V=(X&1)==0;K=gr(R,V?B+1|0:a[B+8>>2]|0,V?(X&255)>>>1:a[B+4>>2]|0)|0;a[M>>2]=a[K>>2];a[M+4>>2]=a[K+4>>2];a[M+8>>2]=a[K+8>>2];X=0;while(1){if((X|0)==3)break;a[K+(X<<2)>>2]=0;X=X+1|0}Mt(N,M);Rt(z,N);mr(N);Er(M);Er(B);Er(R);Er(D);Er(F);U=_e+1|0;break e}}}while(0)}else U=e}while(0);f=i;return U|0}function Kr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0;o=f;f=f+80|0;s=o+48|0;l=o+24|0;u=o+12|0;c=o;d=Gr(e,t)|0;if(!((d|0)==(e|0)|(d|0)==(t|0))?(r[d>>0]|0)==69:0){t=r[n>>0]|0;p=n+4|0;do{if(((t&1)==0?(t&255)>>>1:a[p>>2]|0)>>>0>3){jt(c,3594,n);h=Cr(c,3499)|0;a[u>>2]=a[h>>2];a[u+4>>2]=a[h+4>>2];a[u+8>>2]=a[h+8>>2];y=0;while(1){if((y|0)==3)break;a[h+(y<<2)>>2]=0;y=y+1|0}Mt(l,u);y=i+4|0;h=a[y>>2]|0;m=a[i+8>>2]|0;_=m;if(h>>>0<m>>>0){At(h,l);a[y>>2]=(a[y>>2]|0)+24}else{y=a[i>>2]|0;m=h-y|0;h=(m|0)/24|0;g=h+1|0;if((m|0)<-24)Or(i);m=(_-y|0)/24|0;if(m>>>0<1073741823){y=m<<1;b=y>>>0<g>>>0?g:y}else b=2147483647;Fr(s,b,h,i+12|0);h=s+8|0;y=a[h>>2]|0;At(y,l);a[h>>2]=y+24;jr(i,s);Br(s)}mr(l);Er(u);Er(c)}else{y=i+4|0;h=a[y>>2]|0;g=a[i+8>>2]|0;m=g;if(h>>>0<g>>>0){a[h>>2]=0;a[h+4>>2]=0;a[h+8>>2]=0;a[h+12>>2]=0;a[h+16>>2]=0;a[h+20>>2]=0;g=0;while(1){if((g|0)==3)break;a[h+(g<<2)>>2]=0;g=g+1|0}g=h+12|0;_=0;while(1){if((_|0)==3)break;a[g+(_<<2)>>2]=0;_=_+1|0}a[y>>2]=(a[y>>2]|0)+24;break}_=a[i>>2]|0;g=h-_|0;v=(g|0)/24|0;w=v+1|0;if((g|0)<-24)Or(i);g=(m-_|0)/24|0;if(g>>>0<1073741823){_=g<<1;k=_>>>0<w>>>0?w:_}else k=2147483647;Fr(s,k,v,i+12|0);v=s+8|0;_=a[v>>2]|0;a[_>>2]=0;a[_+4>>2]=0;a[_+8>>2]=0;a[_+12>>2]=0;a[_+16>>2]=0;a[_+20>>2]=0;w=0;while(1){if((w|0)==3)break;a[_+(w<<2)>>2]=0;w=w+1|0}w=_+12|0;m=0;while(1){if((m|0)==3)break;a[w+(m<<2)>>2]=0;m=m+1|0}a[v>>2]=_+24;jr(i,s);Br(s)}}while(0);s=i+4|0;if((r[e>>0]|0)==110){Qt((a[s>>2]|0)+-24|0,45);S=e+1|0}else S=e;Jt((a[s>>2]|0)+-24|0,S,d);S=r[n>>0]|0;i=(S&1)==0;k=i?(S&255)>>>1:a[p>>2]|0;if(k>>>0<4)gr((a[s>>2]|0)+-24|0,i?n+1|0:a[n+8>>2]|0,k)|0;I=d+1|0}else I=e;f=o;return I|0}function Wr(e,t){e=e|0;t=t|0;var n=0;r[e>>0]=10;n=e+1|0;r[n>>0]=r[t>>0]|0;r[n+1>>0]=r[t+1>>0]|0;r[n+2>>0]=r[t+2>>0]|0;r[n+3>>0]=r[t+3>>0]|0;r[n+4>>0]=r[t+4>>0]|0;r[e+6>>0]=0;t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function qr(e,t){e=e|0;t=t|0;var n=0,i=0;r[e>>0]=8;n=e+1|0;i=o[t>>0]|o[t+1>>0]<<8|o[t+2>>0]<<16|o[t+3>>0]<<24;r[n>>0]=i;r[n+1>>0]=i>>8;r[n+2>>0]=i>>16;r[n+3>>0]=i>>24;r[e+5>>0]=0;i=e+12|0;e=0;while(1){if((e|0)==3)break;a[i+(e<<2)>>2]=0;e=e+1|0}return}function Xr(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=t+15&-16;t=e+4096|0;r=a[t>>2]|0;if((e+4096-r|0)>>>0<n>>>0)i=ji(n)|0;else{a[t>>2]=r+n;i=r}return i|0}function Yr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;i=f;f=f+128|0;o=i+104|0;s=i+72|0;l=i+80|0;u=i+60|0;c=i+48|0;d=i+24|0;p=i+12|0;h=i;e:do{if((t-e|0)>2?(r[e>>0]|0)==102:0){switch(r[e+1>>0]|0){case 112:{y=Pr(e+2|0,t,s)|0;m=Gr(y,t)|0;if((m|0)!=(t|0)?(r[m>>0]|0)==95:0){_=m-y|0;if(_>>>0>4294967279)Ir(c);if(_>>>0<11){r[c>>0]=_<<1
;g=c+1|0}else{b=_+16&-16;v=ji(b)|0;a[c+8>>2]=v;a[c>>2]=b|1;a[c+4>>2]=_;g=v}v=y;y=g;while(1){if((v|0)==(m|0))break;r[y>>0]=r[v>>0]|0;v=v+1|0;y=y+1|0}r[g+_>>0]=0;y=xr(c,0,5029)|0;a[u>>2]=a[y>>2];a[u+4>>2]=a[y+4>>2];a[u+8>>2]=a[y+8>>2];v=0;while(1){if((v|0)==3)break;a[y+(v<<2)>>2]=0;v=v+1|0}Mt(l,u);v=n+4|0;y=a[v>>2]|0;_=a[n+8>>2]|0;b=_;if(y>>>0<_>>>0){At(y,l);a[v>>2]=(a[v>>2]|0)+24}else{v=a[n>>2]|0;_=y-v|0;y=(_|0)/24|0;w=y+1|0;if((_|0)<-24)Or(n);_=(b-v|0)/24|0;if(_>>>0<1073741823){v=_<<1;k=v>>>0<w>>>0?w:v}else k=2147483647;Fr(o,k,y,n+12|0);y=o+8|0;v=a[y>>2]|0;At(v,l);a[y>>2]=v+24;jr(n,o);Br(o)}mr(l);Er(u);Er(c);S=m+1|0}else S=e;I=S;break e;break}case 76:break;default:{I=e;break e}}v=Gr(e+2|0,t)|0;if((((v|0)!=(t|0)?(r[v>>0]|0)==112:0)?(y=Pr(v+1|0,t,s)|0,v=Gr(y,t)|0,(v|0)!=(t|0)):0)?(r[v>>0]|0)==95:0){w=v-y|0;if(w>>>0>4294967279)Ir(h);if(w>>>0<11){r[h>>0]=w<<1;E=h+1|0}else{_=w+16&-16;b=ji(_)|0;a[h+8>>2]=b;a[h>>2]=_|1;a[h+4>>2]=w;E=b}b=y;y=E;while(1){if((b|0)==(v|0))break;r[y>>0]=r[b>>0]|0;b=b+1|0;y=y+1|0}r[E+w>>0]=0;y=xr(h,0,5029)|0;a[p>>2]=a[y>>2];a[p+4>>2]=a[y+4>>2];a[p+8>>2]=a[y+8>>2];b=0;while(1){if((b|0)==3)break;a[y+(b<<2)>>2]=0;b=b+1|0}Mt(d,p);b=n+4|0;y=a[b>>2]|0;w=a[n+8>>2]|0;m=w;if(y>>>0<w>>>0){At(y,d);a[b>>2]=(a[b>>2]|0)+24}else{b=a[n>>2]|0;w=y-b|0;y=(w|0)/24|0;_=y+1|0;if((w|0)<-24)Or(n);w=(m-b|0)/24|0;if(w>>>0<1073741823){b=w<<1;A=b>>>0<_>>>0?_:b}else A=2147483647;Fr(o,A,y,n+12|0);y=o+8|0;b=a[y>>2]|0;At(b,d);a[y>>2]=b+24;jr(n,o);Br(o)}mr(d);Er(p);Er(h);x=v+1|0}else x=e;I=x}else I=e}while(0);f=i;return I|0}function Jr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0;o=f;f=f+96|0;s=o+84|0;l=o+72|0;u=o+60|0;c=o+48|0;d=o+36|0;p=o+24|0;h=o+12|0;y=o;m=Et(e,t,i)|0;e:do{if((m|0)!=(e|0)){_=Et(m,t,i)|0;g=i+4|0;if((_|0)==(m|0)){b=a[g>>2]|0;v=b+-24|0;w=b;while(1){if((w|0)==(v|0)){k=e;break e}b=w+-24|0;a[g>>2]=b;mr(b);w=a[g>>2]|0}}w=a[g>>2]|0;if(((w-(a[i>>2]|0)|0)/24|0)>>>0>=2){xt(s,w+-24|0);w=a[g>>2]|0;v=w+-24|0;b=w;while(1){if((b|0)==(v|0))break;S=b+-24|0;a[g>>2]=S;mr(S);b=a[g>>2]|0}xt(l,w+-48|0);b=a[g>>2]|0;v=b+-24|0;if(!(r[v>>0]&1)){r[v+1>>0]=0;r[v>>0]=0}else{r[a[b+-16>>2]>>0]=0;a[b+-20>>2]=0}b=r[n>>0]|0;S=(b&1)==0;I=n+4|0;E=S?(b&255)>>>1:a[I>>2]|0;b=n+8|0;A=n+1|0;x=E>>>0>1;C=fi(S?A:a[b>>2]|0,3658,x?1:E)|0;if(!(((C|0)==0?(E|0)==0?-1:x&1:C)|0))Qt(v,40);jt(y,3594,l);C=Cr(y,4887)|0;a[h>>2]=a[C>>2];a[h+4>>2]=a[C+4>>2];a[h+8>>2]=a[C+8>>2];x=0;while(1){if((x|0)==3)break;a[C+(x<<2)>>2]=0;x=x+1|0}x=r[n>>0]|0;C=(x&1)==0;g=gr(h,C?A:a[b>>2]|0,C?(x&255)>>>1:a[I>>2]|0)|0;a[p>>2]=a[g>>2];a[p+4>>2]=a[g+4>>2];a[p+8>>2]=a[g+8>>2];x=0;while(1){if((x|0)==3)break;a[g+(x<<2)>>2]=0;x=x+1|0}x=Cr(p,3496)|0;a[d>>2]=a[x>>2];a[d+4>>2]=a[x+4>>2];a[d+8>>2]=a[x+8>>2];g=0;while(1){if((g|0)==3)break;a[x+(g<<2)>>2]=0;g=g+1|0}g=r[s>>0]|0;x=(g&1)==0;C=gr(d,x?s+1|0:a[s+8>>2]|0,x?(g&255)>>>1:a[s+4>>2]|0)|0;a[c>>2]=a[C>>2];a[c+4>>2]=a[C+4>>2];a[c+8>>2]=a[C+8>>2];g=0;while(1){if((g|0)==3)break;a[C+(g<<2)>>2]=0;g=g+1|0}g=Cr(c,3499)|0;a[u>>2]=a[g>>2];a[u+4>>2]=a[g+4>>2];a[u+8>>2]=a[g+8>>2];C=0;while(1){if((C|0)==3)break;a[g+(C<<2)>>2]=0;C=C+1|0}C=r[u>>0]|0;g=(C&1)==0;gr(v,g?u+1|0:a[u+8>>2]|0,g?(C&255)>>>1:a[u+4>>2]|0)|0;Er(u);Er(c);Er(d);Er(p);Er(h);Er(y);C=r[n>>0]|0;g=(C&1)==0;x=g?(C&255)>>>1:a[I>>2]|0;C=x>>>0>1;w=fi(g?A:a[b>>2]|0,3658,C?1:x)|0;if(!(((w|0)==0?(x|0)==0?-1:C&1:w)|0))Qt(v,41);Er(l);Er(s);k=_}else k=e}else k=e}while(0);f=o;return k|0}function Qr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0;o=f;f=f+48|0;s=o+36|0;l=o+24|0;u=o+12|0;c=o;d=Et(e,t,i)|0;if((d|0)!=(e|0)?(t=i+4|0,p=a[t>>2]|0,(a[i>>2]|0)!=(p|0)):0){i=p+-24|0;Nt(u,n,3594);xt(c,(a[t>>2]|0)+-24|0);t=r[c>>0]|0;n=(t&1)==0;h=gr(u,n?c+1|0:a[c+8>>2]|0,n?(t&255)>>>1:a[c+4>>2]|0)|0;a[l>>2]=a[h>>2];a[l+4>>2]=a[h+4>>2];a[l+8>>2]=a[h+8>>2];t=0;while(1){if((t|0)==3)break;a[h+(t<<2)>>2]=0;t=t+1|0}t=Cr(l,3499)|0;a[s>>2]=a[t>>2];a[s+4>>2]=a[t+4>>2];a[s+8>>2]=a[t+8>>2];h=0;while(1){if((h|0)==3)break;a[t+(h<<2)>>2]=0;h=h+1|0}do{if(r[i>>0]&1){h=p+-16|0;r[a[h>>2]>>0]=0;t=p+-20|0;a[t>>2]=0;n=r[i>>0]|0;if(!(n&1)){y=n;m=10}else{n=a[i>>2]|0;y=n&255;m=(n&-2)+-1|0}if(!(y&1)){n=(y&255)>>>1;if((y&255)<22){_=10;g=n;b=1}else{_=(n+16&240)+-1|0;g=n;b=1}}else{_=10;g=0;b=0}if((_|0)!=(m|0)){if((_|0)==10){n=i+1|0;v=a[h>>2]|0;if(b){Qi(n|0,v|0,((y&255)>>>1)+1|0)|0;Li(v)}else{r[n>>0]=r[v>>0]|0;Li(v)}r[i>>0]=g<<1;break}v=_+1|0;n=ji(v)|0;if(!(_>>>0<=m>>>0&(n|0)==0)){if(b)Qi(n|0,i+1|0,((y&255)>>>1)+1|0)|0;else{w=a[h>>2]|0;r[n>>0]=r[w>>0]|0;Li(w)}a[i>>2]=v|1;a[t>>2]=g;a[h>>2]=n}}}else{r[i+1>>0]=0;r[i>>0]=0}}while(0);a[i>>2]=a[s>>2];a[i+4>>2]=a[s+4>>2];a[i+8>>2]=a[s+8>>2];i=0;while(1){if((i|0)==3)break;a[s+(i<<2)>>2]=0;i=i+1|0}Er(s);Er(l);Er(c);Er(u);k=d}else k=e;f=o;return k|0}function Zr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0;i=f;f=f+80|0;o=i+60|0;s=i+48|0;l=i+36|0;u=i+24|0;c=i+12|0;d=i;p=t;e:do{if((p-e|0)>2){if((r[e>>0]|0)==103){h=(r[e+1>>0]|0)==115;y=h;m=h?e+2|0:e}else{y=0;m=e}h=$r(m,t,n)|0;if((h|0)!=(m|0)){if(!y){_=h;break}g=a[n+4>>2]|0;if((a[n>>2]|0)==(g|0)){_=e;break}xr(g+-24|0,0,3782)|0;_=h;break}if(((p-m|0)>2?(r[m>>0]|0)==115:0)?(r[m+1>>0]|0)==114:0){h=m+2|0;if((r[h>>0]|0)==78){g=m+3|0;b=ei(g,t,n)|0;if((b|0)==(g|0)|(b|0)==(t|0)){_=e;break}g=Pt(b,t,n)|0;v=n+4|0;do{if((g|0)==(b|0)){w=n;k=b}else{S=a[v>>2]|0;if(((S-(a[n>>2]|0)|0)/24|0)>>>0<2){_=e;break e}xt(o,S+-24|0);S=a[v>>2]|0;I=S+-24|0;E=S;while(1){if((E|0)==(I|0))break;A=E+-24|0;a[v>>2]=A;mr(A);E=a[v>>2]|0}E=r[o>>0]|0;I=(E&1)==0;gr(S+-48|0,I?o+1|0:a[o+8>>2]|0,I?(E&255)>>>1:a[o+4>>2]|0)|0;if((g|0)!=(t|0)){Er(o);w=n;k=g;break}E=a[v>>2]|0;I=E+-24|0;A=E;while(1){if((A|0)==(I|0))break;E=A+-24|0;a[v>>2]=E;mr(E);A=a[v>>2]|0}Er(o);_=e;break e}}while(0);g=s+8|0;b=s+1|0;A=s+4|0;I=k;while(1){if((r[I>>0]|0)==69){x=I;break}S=ti(I,t,n)|0;if((S|0)==(I|0)|(S|0)==(t|0)){_=e;break e}E=a[v>>2]|0;if(((E-(a[w>>2]|0)|0)/24|0)>>>0<2){_=e;break e}xt(o,E+-24|0);E=a[v>>2]|0;C=E+-24|0;T=E;while(1){if((T|0)==(C|0))break;P=T+-24|0;a[v>>2]=P;mr(P);T=a[v>>2]|0}T=xr(o,0,3782)|0;a[s>>2]=a[T>>2];a[s+4>>2]=a[T+4>>2];a[s+8>>2]=a[T+8>>2];C=0;while(1){if((C|0)==3)break;a[T+(C<<2)>>2]=0;C=C+1|0}C=r[s>>0]|0;T=(C&1)==0;gr(E+-48|0,T?b:a[g>>2]|0,T?(C&255)>>>1:a[A>>2]|0)|0;Er(s);Er(o);I=S}I=x+1|0;A=$r(I,t,n)|0;if((A|0)==(I|0)){I=a[v>>2]|0;if((a[n>>2]|0)==(I|0)){_=e;break}g=I+-24|0;b=I;while(1){if((b|0)==(g|0)){_=e;break e}I=b+-24|0;a[v>>2]=I;mr(I);b=a[v>>2]|0}}b=a[v>>2]|0;if(((b-(a[w>>2]|0)|0)/24|0)>>>0<2){_=e;break}xt(o,b+-24|0);b=a[v>>2]|0;g=b+-24|0;I=b;while(1){if((I|0)==(g|0))break;C=I+-24|0;a[v>>2]=C;mr(C);I=a[v>>2]|0}v=xr(o,0,3782)|0;a[l>>2]=a[v>>2];a[l+4>>2]=a[v+4>>2];a[l+8>>2]=a[v+8>>2];I=0;while(1){if((I|0)==3)break;a[v+(I<<2)>>2]=0;I=I+1|0}I=r[l>>0]|0;v=(I&1)==0;gr(b+-48|0,v?l+1|0:a[l+8>>2]|0,v?(I&255)>>>1:a[l+4>>2]|0)|0;Er(l);Er(o);_=A;break}I=ei(h,t,n)|0;if((I|0)!=(h|0)){v=Pt(I,t,n)|0;if((v|0)==(I|0))O=I;else{I=n+4|0;g=a[I>>2]|0;if(((g-(a[n>>2]|0)|0)/24|0)>>>0<2){_=e;break}xt(o,g+-24|0);g=a[I>>2]|0;C=g+-24|0;T=g;while(1){if((T|0)==(C|0))break;P=T+-24|0;a[I>>2]=P;mr(P);T=a[I>>2]|0}I=r[o>>0]|0;T=(I&1)==0;gr(g+-48|0,T?o+1|0:a[o+8>>2]|0,T?(I&255)>>>1:a[o+4>>2]|0)|0;Er(o);O=v}I=$r(O,t,n)|0;if((I|0)==(O|0)){T=n+4|0;C=a[T>>2]|0;if((a[n>>2]|0)==(C|0)){_=e;break}A=C+-24|0;b=C;while(1){if((b|0)==(A|0)){_=e;break e}C=b+-24|0;a[T>>2]=C;mr(C);b=a[T>>2]|0}}T=n+4|0;b=a[T>>2]|0;if(((b-(a[n>>2]|0)|0)/24|0)>>>0<2){_=e;break}xt(o,b+-24|0);b=a[T>>2]|0;A=b+-24|0;v=b;while(1){if((v|0)==(A|0))break;g=v+-24|0;a[T>>2]=g;mr(g);v=a[T>>2]|0}T=xr(o,0,3782)|0;a[u>>2]=a[T>>2];a[u+4>>2]=a[T+4>>2];a[u+8>>2]=a[T+8>>2];v=0;while(1){if((v|0)==3)break;a[T+(v<<2)>>2]=0;v=v+1|0}v=r[u>>0]|0;T=(v&1)==0;gr(b+-48|0,T?u+1|0:a[u+8>>2]|0,T?(v&255)>>>1:a[u+4>>2]|0)|0;Er(u);Er(o);_=I;break}v=ti(h,t,n)|0;if(!((v|0)==(h|0)|(v|0)==(t|0))){if(y){T=n+4|0;A=a[T>>2]|0;if((a[n>>2]|0)==(A|0)){_=e;break}xr(A+-24|0,0,3782)|0;N=T}else N=n+4|0;T=c+8|0
;A=c+1|0;g=c+4|0;C=v;while(1){if((r[C>>0]|0)==69){M=C;break}v=ti(C,t,n)|0;if((v|0)==(C|0)|(v|0)==(t|0)){_=e;break e}P=a[N>>2]|0;if(((P-(a[n>>2]|0)|0)/24|0)>>>0<2){_=e;break e}xt(o,P+-24|0);P=a[N>>2]|0;R=P+-24|0;D=P;while(1){if((D|0)==(R|0))break;F=D+-24|0;a[N>>2]=F;mr(F);D=a[N>>2]|0}D=xr(o,0,3782)|0;a[c>>2]=a[D>>2];a[c+4>>2]=a[D+4>>2];a[c+8>>2]=a[D+8>>2];R=0;while(1){if((R|0)==3)break;a[D+(R<<2)>>2]=0;R=R+1|0}R=r[c>>0]|0;D=(R&1)==0;gr(P+-48|0,D?A:a[T>>2]|0,D?(R&255)>>>1:a[g>>2]|0)|0;Er(c);Er(o);C=v}C=M+1|0;g=$r(C,t,n)|0;if((g|0)==(C|0)){C=a[N>>2]|0;if((a[n>>2]|0)==(C|0)){_=e;break}T=C+-24|0;A=C;while(1){if((A|0)==(T|0)){_=e;break e}C=A+-24|0;a[N>>2]=C;mr(C);A=a[N>>2]|0}}A=a[N>>2]|0;if(((A-(a[n>>2]|0)|0)/24|0)>>>0>=2){xt(o,A+-24|0);A=a[N>>2]|0;T=A+-24|0;C=A;while(1){if((C|0)==(T|0))break;h=C+-24|0;a[N>>2]=h;mr(h);C=a[N>>2]|0}C=xr(o,0,3782)|0;a[d>>2]=a[C>>2];a[d+4>>2]=a[C+4>>2];a[d+8>>2]=a[C+8>>2];T=0;while(1){if((T|0)==3)break;a[C+(T<<2)>>2]=0;T=T+1|0}T=r[d>>0]|0;C=(T&1)==0;gr(A+-48|0,C?d+1|0:a[d+8>>2]|0,C?(T&255)>>>1:a[d+4>>2]|0)|0;Er(d);Er(o);_=g}else _=e}else _=e}else _=e}else _=e}while(0);f=i;return _|0}function $r(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0;i=f;f=f+16|0;o=i;e:do{if((t-e|0)>1){s=r[e>>0]|0;switch(s<<24>>24){case 100:case 111:{if((r[e+1>>0]|0)==110){l=e+2|0;if(s<<24>>24==111){s=$t(l,t,n)|0;if((s|0)==(l|0)){u=e;break e}c=Pt(s,t,n)|0;if((c|0)==(s|0)){u=s;break e}s=n+4|0;d=a[s>>2]|0;if(((d-(a[n>>2]|0)|0)/24|0)>>>0<2){u=c;break e}xt(o,d+-24|0);d=a[s>>2]|0;p=d+-24|0;h=d;while(1){if((h|0)==(p|0))break;y=h+-24|0;a[s>>2]=y;mr(y);h=a[s>>2]|0}s=r[o>>0]|0;h=(s&1)==0;gr(d+-48|0,h?o+1|0:a[o+8>>2]|0,h?(s&255)>>>1:a[o+4>>2]|0)|0;Er(o);u=c;break e}else{if((l|0)!=(t|0)){s=ei(l,t,n)|0;if((s|0)==(l|0))m=ti(l,t,n)|0;else m=s;if((m|0)!=(l|0)?(s=a[n+4>>2]|0,(a[n>>2]|0)!=(s|0)):0){xr(s+-24|0,0,3808)|0;_=m}else _=l}else _=t;u=(_|0)==(l|0)?e:_;break e}}break}default:{}}s=ti(e,t,n)|0;if((s|0)==(e|0)){h=$t(e,t,n)|0;if((h|0)!=(e|0)){p=Pt(h,t,n)|0;if((p|0)!=(h|0)){y=n+4|0;g=a[y>>2]|0;if(((g-(a[n>>2]|0)|0)/24|0)>>>0<2)u=p;else{xt(o,g+-24|0);g=a[y>>2]|0;b=g+-24|0;v=g;while(1){if((v|0)==(b|0))break;w=v+-24|0;a[y>>2]=w;mr(w);v=a[y>>2]|0}y=r[o>>0]|0;v=(y&1)==0;gr(g+-48|0,v?o+1|0:a[o+8>>2]|0,v?(y&255)>>>1:a[o+4>>2]|0)|0;Er(o);u=p}}else u=h}else u=e}else u=s}else u=e}while(0);f=i;return u|0}function ei(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0;i=f;f=f+96|0;o=i+72|0;s=i+56|0;l=i+48|0;u=i+32|0;c=i+24|0;d=i+8|0;p=i;e:do{if((e|0)==(t|0))h=e;else switch(r[e>>0]|0){case 84:{y=n+4|0;m=((a[y>>2]|0)-(a[n>>2]|0)|0)/24|0;_=Tt(e,t,n)|0;g=a[y>>2]|0;b=(g-(a[n>>2]|0)|0)/24|0;v=g;if(!((_|0)!=(e|0)&(b|0)==(m+1|0))){g=v;w=b;while(1){if((w|0)==(m|0)){h=e;break e}b=g+-24|0;k=g;while(1){if((k|0)==(b|0))break;S=k+-24|0;a[y>>2]=S;mr(S);k=a[y>>2]|0}g=b;w=w+-1|0}}w=n+16|0;a[l>>2]=a[n+12>>2];Ct(s,v+-24|0,l);g=n+20|0;y=a[g>>2]|0;m=a[n+24>>2]|0;k=m;if(y>>>0<m>>>0){a[y+12>>2]=a[s+12>>2];a[y>>2]=a[s>>2];m=s+4|0;a[y+4>>2]=a[m>>2];S=s+8|0;a[y+8>>2]=a[S>>2];a[S>>2]=0;a[m>>2]=0;a[s>>2]=0;a[g>>2]=(a[g>>2]|0)+16}else{g=a[w>>2]|0;m=y-g|0;y=m>>4;S=y+1|0;if((m|0)<-16)Or(w);m=k-g|0;if(m>>4>>>0<1073741823){g=m>>3;I=g>>>0<S>>>0?S:g}else I=2147483647;Nr(o,I,y,n+28|0);y=o+8|0;g=a[y>>2]|0;a[g+12>>2]=a[s+12>>2];a[g>>2]=a[s>>2];S=s+4|0;a[g+4>>2]=a[S>>2];m=s+8|0;a[g+8>>2]=a[m>>2];a[m>>2]=0;a[S>>2]=0;a[s>>2]=0;a[y>>2]=g+16;Mr(w,o);Rr(o)}_r(s);h=_;break e;break}case 68:{w=Bt(e,t,n)|0;if((w|0)==(e|0)){h=e;break e}g=a[n+4>>2]|0;if((a[n>>2]|0)==(g|0)){h=e;break e}y=n+16|0;a[c>>2]=a[n+12>>2];Ct(u,g+-24|0,c);g=n+20|0;S=a[g>>2]|0;m=a[n+24>>2]|0;k=m;if(S>>>0<m>>>0){a[S+12>>2]=a[u+12>>2];a[S>>2]=a[u>>2];m=u+4|0;a[S+4>>2]=a[m>>2];E=u+8|0;a[S+8>>2]=a[E>>2];a[E>>2]=0;a[m>>2]=0;a[u>>2]=0;a[g>>2]=(a[g>>2]|0)+16}else{g=a[y>>2]|0;m=S-g|0;S=m>>4;E=S+1|0;if((m|0)<-16)Or(y);m=k-g|0;if(m>>4>>>0<1073741823){g=m>>3;A=g>>>0<E>>>0?E:g}else A=2147483647;Nr(o,A,S,n+28|0);S=o+8|0;g=a[S>>2]|0;a[g+12>>2]=a[u+12>>2];a[g>>2]=a[u>>2];E=u+4|0;a[g+4>>2]=a[E>>2];m=u+8|0;a[g+8>>2]=a[m>>2];a[m>>2]=0;a[E>>2]=0;a[u>>2]=0;a[S>>2]=g+16;Mr(y,o);Rr(o)}_r(u);h=w;break e;break}case 83:{w=Ft(e,t,n)|0;if((w|0)!=(e|0)){h=w;break e}if((t-e|0)<=2){h=e;break e}if((r[e+1>>0]|0)!=116){h=e;break e}w=e+2|0;y=qt(w,t,n)|0;if((y|0)==(w|0)){h=e;break e}w=n+4|0;g=a[w>>2]|0;if((a[n>>2]|0)==(g|0)){h=e;break e}xr(g+-24|0,0,3802)|0;g=n+16|0;S=(a[w>>2]|0)+-24|0;a[p>>2]=a[n+12>>2];Ct(d,S,p);S=n+20|0;w=a[S>>2]|0;E=a[n+24>>2]|0;m=E;if(w>>>0<E>>>0){a[w+12>>2]=a[d+12>>2];a[w>>2]=a[d>>2];E=d+4|0;a[w+4>>2]=a[E>>2];k=d+8|0;a[w+8>>2]=a[k>>2];a[k>>2]=0;a[E>>2]=0;a[d>>2]=0;a[S>>2]=(a[S>>2]|0)+16}else{S=a[g>>2]|0;E=w-S|0;w=E>>4;k=w+1|0;if((E|0)<-16)Or(g);E=m-S|0;if(E>>4>>>0<1073741823){S=E>>3;x=S>>>0<k>>>0?k:S}else x=2147483647;Nr(o,x,w,n+28|0);w=o+8|0;S=a[w>>2]|0;a[S+12>>2]=a[d+12>>2];a[S>>2]=a[d>>2];k=d+4|0;a[S+4>>2]=a[k>>2];E=d+8|0;a[S+8>>2]=a[E>>2];a[E>>2]=0;a[k>>2]=0;a[d>>2]=0;a[w>>2]=S+16;Mr(g,o);Rr(o)}_r(d);h=y;break e;break}default:{h=e;break e}}}while(0);f=i;return h|0}function ti(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0;i=f;f=f+16|0;o=i;if((e|0)!=(t|0)?(s=Ot(e,t,n)|0,(s|0)!=(e|0)):0){l=Pt(s,t,n)|0;if((l|0)!=(s|0)){t=n+4|0;u=a[t>>2]|0;if(((u-(a[n>>2]|0)|0)/24|0)>>>0<2)c=e;else{xt(o,u+-24|0);u=a[t>>2]|0;n=u+-24|0;d=u;while(1){if((d|0)==(n|0))break;p=d+-24|0;a[t>>2]=p;mr(p);d=a[t>>2]|0}t=r[o>>0]|0;d=(t&1)==0;gr(u+-48|0,d?o+1|0:a[o+8>>2]|0,d?(t&255)>>>1:a[o+4>>2]|0)|0;Er(o);c=l}}else c=s}else c=e;f=i;return c|0}function ni(e){e=e|0;xe(5032,3408,1175,5061)}function ri(e,t){e=e|0;t=t|0;var n=0;r[e>>0]=6;n=e+1|0;r[n>>0]=r[t>>0]|0;r[n+1>>0]=r[t+1>>0]|0;r[n+2>>0]=r[t+2>>0]|0;r[e+4>>0]=0;t=e+12|0;e=0;while(1){if((e|0)==3)break;a[t+(e<<2)>>2]=0;e=e+1|0}return}function ii(e,t){e=e|0;t=t|0;var n=0,i=0,s=0;r[e>>0]=16;n=t;t=n;i=o[t>>0]|o[t+1>>0]<<8|o[t+2>>0]<<16|o[t+3>>0]<<24;t=n+4|0;n=o[t>>0]|o[t+1>>0]<<8|o[t+2>>0]<<16|o[t+3>>0]<<24;t=e+1|0;s=t;r[s>>0]=i;r[s+1>>0]=i>>8;r[s+2>>0]=i>>16;r[s+3>>0]=i>>24;i=t+4|0;r[i>>0]=n;r[i+1>>0]=n>>8;r[i+2>>0]=n>>16;r[i+3>>0]=n>>24;r[e+9>>0]=0;n=e+12|0;e=0;while(1){if((e|0)==3)break;a[n+(e<<2)>>2]=0;e=e+1|0}return}function ai(e,t){e=e|0;t=t|0;var n=0,i=0,a=0;e:do{if((e|0)!=(t|0)){switch(r[e>>0]|0){case 104:{n=e+1|0;i=Gr(n,t)|0;if((i|0)==(n|0)|(i|0)==(t|0)){a=e;break e}return((r[i>>0]|0)==95?i+1|0:e)|0}case 118:break;default:{a=e;break e}}i=e+1|0;n=Gr(i,t)|0;if((!((n|0)==(i|0)|(n|0)==(t|0))?(r[n>>0]|0)==95:0)?(i=n+1|0,n=Gr(i,t)|0,!((n|0)==(i|0)|(n|0)==(t|0))):0)a=(r[n>>0]|0)==95?n+1|0:e;else a=e}else a=e}while(0);return a|0}function oi(e,t){e=+e;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,f=0;c[p>>3]=e;n=a[p>>2]|0;r=a[p+4>>2]|0;i=Ji(n|0,r|0,52)|0;o=i&2047;switch(o|0){case 0:{if(e!=0){s=+oi(e*0x10000000000000000,t);l=s;u=(a[t>>2]|0)+-64|0}else{l=e;u=0}a[t>>2]=u;f=l;break}case 2047:{f=e;break}default:{a[t>>2]=o+-1022;a[p>>2]=n;a[p+4>>2]=r&-2146435073|1071644672;f=+c[p>>3]}}return+f}function si(e,t){e=+e;t=t|0;var z=oi(e,t);return z++}function li(e){e=e|0;return(e+-65|0)>>>0<26|0}function ui(e){e=e|0;var t=0;if((e+-48|0)>>>0<10)t=1;else t=((e|32)+-97|0)>>>0<6;return t&1|0}function ci(e){e=e|0;var t=0,n=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0;t=e;e:do{if(!(t&3)){n=e;i=4}else{o=e;s=t;while(1){if(!(r[o>>0]|0)){l=s;break e}u=o+1|0;s=u;if(!(s&3)){n=u;i=4;break}else o=u}}}while(0);if((i|0)==4){i=n;while(1){n=a[i>>2]|0;if(!((n&-2139062144^-2139062144)&n+-16843009))i=i+4|0;else{c=n;f=i;break}}if(!((c&255)<<24>>24))d=f;else{c=f;while(1){f=c+1|0;if(!(r[f>>0]|0)){d=f;break}else c=f}}l=d}return l-t|0}function fi(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,f=0;e:do{if(!n)i=0;else{a=n;o=e;s=t;while(1){l=r[o>>0]|0;u=r[s>>0]|0;if(l<<24>>24!=u<<24>>24){c=l;f=u;break}a=a+-1|0;if(!a){i=0;break e}else{o=o+1|0;s=s+1|0}}i=(c&255)-(f&255)|0}}while(0);return i|0}function di(e){e=e|0;var t=0,n=0,r=0;t=(ci(e)|0)+1|0;n=ji(t)|0;if(!n)r=0;else{Qi(n|0,e|0,t|0)|0;r=n}return r|0}function pi(e,t,n){e=e|0;t=t|0;n=n|0
;var i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0;i=t&255;o=(n|0)!=0;e:do{if(o&(e&3|0)!=0){s=t&255;l=n;u=e;while(1){if((r[u>>0]|0)==s<<24>>24){c=l;f=u;d=6;break e}p=u+1|0;h=l+-1|0;y=(h|0)!=0;if(y&(p&3|0)!=0){l=h;u=p}else{m=h;_=y;g=p;d=5;break}}}else{m=n;_=o;g=e;d=5}}while(0);if((d|0)==5)if(_){c=m;f=g;d=6}else{b=0;v=g}e:do{if((d|0)==6){g=t&255;if((r[f>>0]|0)==g<<24>>24){b=c;v=f}else{m=te(i,16843009)|0;t:do{if(c>>>0>3){_=c;e=f;while(1){o=a[e>>2]^m;if((o&-2139062144^-2139062144)&o+-16843009){w=_;k=e;break}o=e+4|0;n=_+-4|0;if(n>>>0>3){_=n;e=o}else{S=n;I=o;d=11;break t}}E=w;A=k}else{S=c;I=f;d=11}}while(0);if((d|0)==11)if(!S){b=0;v=I;break}else{E=S;A=I}while(1){if((r[A>>0]|0)==g<<24>>24){b=E;v=A;break e}m=A+1|0;E=E+-1|0;if(!E){b=0;v=m;break}else A=m}}}}while(0);return((b|0)!=0?v:0)|0}function hi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0;r=f;f=f+32|0;i=r;o=r+20|0;a[i>>2]=a[e+60>>2];a[i+4>>2]=0;a[i+8>>2]=t;a[i+12>>2]=o;a[i+16>>2]=n;if((Pi(bt(140,i|0)|0)|0)<0){a[o>>2]=-1;s=-1}else s=a[o>>2]|0;f=r;return s|0}function yi(e){e=e|0;var t=0,n=0,i=0;t=e+74|0;n=r[t>>0]|0;r[t>>0]=n+255|n;n=a[e>>2]|0;if(!(n&8)){a[e+8>>2]=0;a[e+4>>2]=0;t=a[e+44>>2]|0;a[e+28>>2]=t;a[e+20>>2]=t;a[e+16>>2]=t+(a[e+48>>2]|0);i=0}else{a[e>>2]=n|32;i=-1}return i|0}function mi(e){e=e|0;var t=0,n=0;t=f;f=f+16|0;n=t;a[n>>2]=a[e+60>>2];e=Pi(ft(6,n|0)|0)|0;f=t;return e|0}function _i(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0;o=f;f=f+128|0;s=o+112|0;l=o;u=l;c=648;d=u+112|0;do{a[u>>2]=a[c>>2];u=u+4|0;c=c+4|0}while((u|0)<(d|0));if((t+-1|0)>>>0>2147483646){if(!t){p=s;h=1;y=4}else{a[(Ai()|0)>>2]=75;m=-1}}else{p=e;h=t;y=4}if((y|0)==4){y=-2-p|0;t=h>>>0>y>>>0?y:h;a[l+48>>2]=t;h=l+20|0;a[h>>2]=p;a[l+44>>2]=p;y=p+t|0;p=l+16|0;a[p>>2]=y;a[l+28>>2]=y;y=bi(l,n,i)|0;if(!t)m=y;else{t=a[h>>2]|0;r[t+(((t|0)==(a[p>>2]|0))<<31>>31)>>0]=0;m=y}}f=o;return m|0}function gi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0;r=f;f=f+48|0;i=r+16|0;o=r;s=r+32|0;l=e+28|0;u=a[l>>2]|0;a[s>>2]=u;c=e+20|0;d=(a[c>>2]|0)-u|0;a[s+4>>2]=d;a[s+8>>2]=t;a[s+12>>2]=n;t=e+60|0;u=e+44|0;p=s;s=2;h=d+n|0;while(1){if(!(a[151]|0)){a[i>>2]=a[t>>2];a[i+4>>2]=p;a[i+8>>2]=s;y=Pi(St(146,i|0)|0)|0}else{dt(10,e|0);a[o>>2]=a[t>>2];a[o+4>>2]=p;a[o+8>>2]=s;d=Pi(St(146,o|0)|0)|0;me(0);y=d}if((h|0)==(y|0)){m=6;break}if((y|0)<0){_=p;g=s;m=8;break}d=h-y|0;b=a[p+4>>2]|0;if(y>>>0<=b>>>0){if((s|0)==2){a[l>>2]=(a[l>>2]|0)+y;v=b;w=y;k=p;S=2}else{v=b;w=y;k=p;S=s}}else{I=a[u>>2]|0;a[l>>2]=I;a[c>>2]=I;v=a[p+12>>2]|0;w=y-b|0;k=p+8|0;S=s+-1|0}a[k>>2]=(a[k>>2]|0)+w;a[k+4>>2]=v-w;p=k;s=S;h=d}if((m|0)==6){h=a[u>>2]|0;a[e+16>>2]=h+(a[e+48>>2]|0);u=h;a[l>>2]=u;a[c>>2]=u;E=n}else if((m|0)==8){a[e+16>>2]=0;a[l>>2]=0;a[c>>2]=0;a[e>>2]=a[e>>2]|32;if((g|0)==2)E=0;else E=n-(a[_+4>>2]|0)|0}f=r;return E|0}function bi(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0;i=f;f=f+224|0;o=i+120|0;s=i+80|0;l=i;u=i+136|0;c=s;d=c+40|0;do{a[c>>2]=0;c=c+4|0}while((c|0)<(d|0));a[o>>2]=a[n>>2];if((Ni(0,t,o,l,s)|0)<0)p=-1;else{if((a[e+76>>2]|0)>-1)h=vi(e)|0;else h=0;n=a[e>>2]|0;c=n&32;if((r[e+74>>0]|0)<1)a[e>>2]=n&-33;n=e+48|0;if(!(a[n>>2]|0)){d=e+44|0;y=a[d>>2]|0;a[d>>2]=u;m=e+28|0;a[m>>2]=u;_=e+20|0;a[_>>2]=u;a[n>>2]=80;g=e+16|0;a[g>>2]=u+80;u=Ni(e,t,o,l,s)|0;if(!y)b=u;else{Ca[a[e+36>>2]&7](e,0,0)|0;v=(a[_>>2]|0)==0?-1:u;a[d>>2]=y;a[n>>2]=0;a[g>>2]=0;a[m>>2]=0;a[_>>2]=0;b=v}}else b=Ni(e,t,o,l,s)|0;s=a[e>>2]|0;a[e>>2]=s|c;if(h)wi(e);p=(s&32|0)==0?b:-1}f=i;return p|0}function vi(e){e=e|0;return 0}function wi(e){e=e|0;return}function ki(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0;i=f;f=f+16|0;o=i;a[o>>2]=r;r=_i(e,t,n,o)|0;f=i;return r|0}function Si(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0;i=f;f=f+80|0;o=i;a[e+36>>2]=7;if((a[e>>2]&64|0)==0?(a[o>>2]=a[e+60>>2],a[o+4>>2]=21505,a[o+8>>2]=i+12,(tt(54,o|0)|0)!=0):0)r[e+75>>0]=-1;o=gi(e,t,n)|0;f=i;return o|0}function Ii(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0;i=n+16|0;o=a[i>>2]|0;if(!o){if(!(yi(n)|0)){s=a[i>>2]|0;l=5}else u=0}else{s=o;l=5}e:do{if((l|0)==5){o=n+20|0;i=a[o>>2]|0;c=i;if((s-i|0)>>>0<t>>>0){u=Ca[a[n+36>>2]&7](n,e,t)|0;break}t:do{if((r[n+75>>0]|0)>-1){i=t;while(1){if(!i){f=t;d=e;p=c;h=0;break t}y=i+-1|0;if((r[e+y>>0]|0)==10){m=i;break}else i=y}if((Ca[a[n+36>>2]&7](n,e,m)|0)>>>0<m>>>0){u=m;break e}f=t-m|0;d=e+m|0;p=a[o>>2]|0;h=m}else{f=t;d=e;p=c;h=0}}while(0);Qi(p|0,d|0,f|0)|0;a[o>>2]=(a[o>>2]|0)+f;u=h+f|0}}while(0);return u|0}function Ei(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,s=0,l=0;do{if(e){if((a[e+76>>2]|0)<=-1){t=Mi(e)|0;break}n=(vi(e)|0)==0;r=Mi(e)|0;if(n)t=r;else{wi(e);t=r}}else{if(!(a[150]|0))i=0;else i=Ei(a[150]|0)|0;ct(632);r=a[157]|0;if(!r)o=i;else{n=r;r=i;while(1){if((a[n+76>>2]|0)>-1)s=vi(n)|0;else s=0;if((a[n+20>>2]|0)>>>0>(a[n+28>>2]|0)>>>0)l=Mi(n)|0|r;else l=r;if(s)wi(n);n=a[n+56>>2]|0;if(!n){o=l;break}else r=l}}nt(632);t=o}}while(0);return t|0}function Ai(){var e=0;if(!(a[151]|0))e=760;else e=a[(Je()|0)+60>>2]|0;return e|0}function xi(e){e=e|0;var t=0,n=0,i=0,a=0,s=0,l=0,u=0;t=0;while(1){if((o[5562+t>>0]|0)==(e|0)){n=t;i=2;break}t=t+1|0;if((t|0)==87){a=87;s=5650;i=5;break}}if((i|0)==2)if(!n)l=5650;else{a=n;s=5650;i=5}if((i|0)==5)while(1){i=0;n=s;while(1){t=n+1|0;if(!(r[n>>0]|0)){u=t;break}else n=t}a=a+-1|0;if(!a){l=u;break}else{s=u;i=5}}return l|0}function Ci(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;do{if(e){if(t>>>0<128){r[e>>0]=t;i=1;break}if(t>>>0<2048){r[e>>0]=t>>>6|192;r[e+1>>0]=t&63|128;i=2;break}if(t>>>0<55296|(t&-8192|0)==57344){r[e>>0]=t>>>12|224;r[e+1>>0]=t>>>6&63|128;r[e+2>>0]=t&63|128;i=3;break}if((t+-65536|0)>>>0<1048576){r[e>>0]=t>>>18|240;r[e+1>>0]=t>>>12&63|128;r[e+2>>0]=t>>>6&63|128;r[e+3>>0]=t&63|128;i=4;break}else{a[(Ai()|0)>>2]=84;i=-1;break}}else i=1}while(0);return i|0}function Ti(e,t){e=e|0;t=t|0;var n=0;if(!e)n=0;else n=Ci(e,t,0)|0;return n|0}function Pi(e){e=e|0;var t=0;if(e>>>0>4294963200){a[(Ai()|0)>>2]=0-e;t=-1}else t=e;return t|0}function Oi(e){e=e|0;if(!(a[e+68>>2]|0))wi(e);return}function Ni(e,t,n,s,l){e=e|0;t=t|0;n=n|0;s=s|0;l=l|0;var u=0,d=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0,ke=0,Se=0,Ie=0,Ee=0,Ae=0,xe=0,Ce=0,Te=0,Pe=0,Oe=0,Ne=0,Me=0,Re=0,De=0,Fe=0,Be=0,je=0,Le=0,Ue=0,He=0,Ge=0,ze=0,Ve=0,Ke=0,We=0,qe=0,Xe=0,Ye=0,Je=0,Qe=0,Ze=0,$e=0,et=0,tt=0,nt=0,rt=0,it=0,at=0,ot=0,st=0,lt=0,ut=0,ct=0,ft=0,dt=0,pt=0,ht=0,yt=0,mt=0,_t=0,gt=0,bt=0,vt=0,wt=0,kt=0,St=0,It=0,Et=0,At=0,xt=0,Ct=0,Tt=0,Pt=0,Ot=0,Nt=0,Mt=0,Rt=0,Dt=0,Ft=0,Bt=0,jt=0,Lt=0,Ut=0,Ht=0,Gt=0,zt=0,Vt=0,Kt=0,Wt=0,qt=0,Xt=0,Yt=0,Jt=0,Qt=0,Zt=0,$t=0,en=0,tn=0,nn=0,rn=0,an=0,on=0,sn=0,ln=0,un=0,cn=0,fn=0,dn=0,pn=0,hn=0,yn=0,mn=0,_n=0,gn=0,bn=0,vn=0,wn=0,kn=0,Sn=0,In=0,En=0,An=0,xn=0,Cn=0,Tn=0,Pn=0,On=0;u=f;f=f+624|0;d=u+24|0;h=u+16|0;y=u+588|0;m=u+576|0;_=u;g=u+536|0;b=u+8|0;v=u+528|0;w=(e|0)!=0;k=g+40|0;S=k;I=g+39|0;g=b+4|0;E=m+12|0;A=m+11|0;m=y;x=E;C=x-m|0;T=-2-m|0;P=x+2|0;N=d+288|0;M=y+9|0;R=M;D=y+8|0;F=t;t=0;B=0;j=0;e:while(1){do{if((t|0)>-1){if((B|0)>(2147483647-t|0)){a[(Ai()|0)>>2]=75;L=-1;break}else{L=B+t|0;break}}else L=t}while(0);U=r[F>>0]|0;if(!(U<<24>>24)){H=L;G=j;z=242;break}else{V=U;K=F}t:while(1){switch(V<<24>>24){case 37:{W=K;q=K;z=9;break t;break}case 0:{X=K;Y=K;break t;break}default:{}}U=K+1|0;V=r[U>>0]|0;K=U}t:do{if((z|0)==9)while(1){z=0;if((r[W+1>>0]|0)!=37){X=W;Y=q;break t}U=q+1|0;J=W+2|0;if((r[J>>0]|0)==37){W=J;q=U;z=9}else{X=J;Y=U;break}}}while(0);U=Y-F|0;if(w?(a[e>>2]&32|0)==0:0)Ii(F,U,e)|0;if((Y|0)!=(F|0)){F=X;t=L;B=U;continue}J=X+1|0;Q=r[J>>0]|0;Z=(Q<<24>>24)+-48|0;if(Z>>>0<10){$=(r[X+2>>0]|0)==36;ee=$?X+3|0:J;ne=r[ee>>0]|0;re=$?Z:-1;ie=$?1:j;ae=ee}else{ne=Q;re=-1;ie=j;ae=J}J=ne<<24>>24;t:do{if((J&-32|0)==32){Q=J;ee=ne;$=0;Z=ae;while(1){if(!(1<<Q+-32&75913)){oe=ee;se=$;le=Z;break t}
ue=1<<(ee<<24>>24)+-32|$;ce=Z+1|0;fe=r[ce>>0]|0;Q=fe<<24>>24;if((Q&-32|0)!=32){oe=fe;se=ue;le=ce;break}else{ee=fe;$=ue;Z=ce}}}else{oe=ne;se=0;le=ae}}while(0);do{if(oe<<24>>24==42){J=le+1|0;Z=(r[J>>0]|0)+-48|0;if(Z>>>0<10?(r[le+2>>0]|0)==36:0){a[l+(Z<<2)>>2]=10;de=1;pe=le+3|0;he=a[s+((r[J>>0]|0)+-48<<3)>>2]|0}else{if(ie){ye=-1;break e}if(!w){me=J;_e=se;ge=0;be=0;break}Z=(a[n>>2]|0)+(4-1)&~(4-1);$=a[Z>>2]|0;a[n>>2]=Z+4;de=0;pe=J;he=$}if((he|0)<0){me=pe;_e=se|8192;ge=de;be=0-he|0}else{me=pe;_e=se;ge=de;be=he}}else{$=(oe<<24>>24)+-48|0;if($>>>0<10){J=le;Z=0;ee=$;while(1){$=(Z*10|0)+ee|0;Q=J+1|0;ee=(r[Q>>0]|0)+-48|0;if(ee>>>0>=10){ve=$;we=Q;break}else{J=Q;Z=$}}if((ve|0)<0){ye=-1;break e}else{me=we;_e=se;ge=ie;be=ve}}else{me=le;_e=se;ge=ie;be=0}}}while(0);t:do{if((r[me>>0]|0)==46){Z=me+1|0;J=r[Z>>0]|0;if(J<<24>>24!=42){ee=(J<<24>>24)+-48|0;if(ee>>>0<10){ke=Z;Se=0;Ie=ee}else{Ee=Z;Ae=0;break}while(1){Z=(Se*10|0)+Ie|0;ee=ke+1|0;Ie=(r[ee>>0]|0)+-48|0;if(Ie>>>0>=10){Ee=ee;Ae=Z;break t}else{ke=ee;Se=Z}}}Z=me+2|0;ee=(r[Z>>0]|0)+-48|0;if(ee>>>0<10?(r[me+3>>0]|0)==36:0){a[l+(ee<<2)>>2]=10;Ee=me+4|0;Ae=a[s+((r[Z>>0]|0)+-48<<3)>>2]|0;break}if(ge){ye=-1;break e}if(w){ee=(a[n>>2]|0)+(4-1)&~(4-1);J=a[ee>>2]|0;a[n>>2]=ee+4;Ee=Z;Ae=J}else{Ee=Z;Ae=0}}else{Ee=me;Ae=-1}}while(0);Z=Ee;J=0;while(1){ee=(r[Z>>0]|0)+-65|0;if(ee>>>0>57){ye=-1;break e}$=Z+1|0;Q=r[8486+(J*58|0)+ee>>0]|0;ee=Q&255;if((ee+-1|0)>>>0<8){Z=$;J=ee}else{xe=Z;Ce=$;Te=Q;Pe=ee;Oe=J;break}}if(!(Te<<24>>24)){ye=-1;break}J=(re|0)>-1;do{if(Te<<24>>24==19){if(J){ye=-1;break e}else z=52}else{if(J){a[l+(re<<2)>>2]=Pe;Z=s+(re<<3)|0;ee=a[Z+4>>2]|0;Q=_;a[Q>>2]=a[Z>>2];a[Q+4>>2]=ee;z=52;break}if(!w){ye=0;break e}Ri(_,Pe,n)}}while(0);if((z|0)==52?(z=0,!w):0){F=Ce;t=L;B=U;j=ge;continue}J=r[xe>>0]|0;ee=(Oe|0)!=0&(J&15|0)==3?J&-33:J;J=_e&-65537;Q=(_e&8192|0)==0?_e:J;t:do{switch(ee|0){case 110:{switch(Oe|0){case 0:{a[a[_>>2]>>2]=L;F=Ce;t=L;B=U;j=ge;continue e;break}case 1:{a[a[_>>2]>>2]=L;F=Ce;t=L;B=U;j=ge;continue e;break}case 2:{Z=a[_>>2]|0;a[Z>>2]=L;a[Z+4>>2]=((L|0)<0)<<31>>31;F=Ce;t=L;B=U;j=ge;continue e;break}case 3:{i[a[_>>2]>>1]=L;F=Ce;t=L;B=U;j=ge;continue e;break}case 4:{r[a[_>>2]>>0]=L;F=Ce;t=L;B=U;j=ge;continue e;break}case 6:{a[a[_>>2]>>2]=L;F=Ce;t=L;B=U;j=ge;continue e;break}case 7:{Z=a[_>>2]|0;a[Z>>2]=L;a[Z+4>>2]=((L|0)<0)<<31>>31;F=Ce;t=L;B=U;j=ge;continue e;break}default:{F=Ce;t=L;B=U;j=ge;continue e}}break}case 112:{Ne=Q|8;Me=Ae>>>0>8?Ae:8;Re=120;z=64;break}case 88:case 120:{Ne=Q;Me=Ae;Re=ee;z=64;break}case 111:{Z=_;$=a[Z>>2]|0;ce=a[Z+4>>2]|0;if(($|0)==0&(ce|0)==0)De=k;else{Z=k;ue=$;$=ce;while(1){ce=Z+-1|0;r[ce>>0]=ue&7|48;ue=Ji(ue|0,$|0,3)|0;$=O;if((ue|0)==0&($|0)==0){De=ce;break}else Z=ce}}if(!(Q&8)){Fe=De;Be=Q;je=Ae;Le=0;Ue=8966;z=77}else{Z=S-De+1|0;Fe=De;Be=Q;je=(Ae|0)<(Z|0)?Z:Ae;Le=0;Ue=8966;z=77}break}case 105:case 100:{Z=_;$=a[Z>>2]|0;ue=a[Z+4>>2]|0;if((ue|0)<0){Z=Wi(0,0,$|0,ue|0)|0;ce=O;fe=_;a[fe>>2]=Z;a[fe+4>>2]=ce;He=Z;Ge=ce;ze=1;Ve=8966;z=76;break t}if(!(Q&2048)){ce=Q&1;He=$;Ge=ue;ze=ce;Ve=(ce|0)==0?8966:8968;z=76}else{He=$;Ge=ue;ze=1;Ve=8967;z=76}break}case 117:{ue=_;He=a[ue>>2]|0;Ge=a[ue+4>>2]|0;ze=0;Ve=8966;z=76;break}case 99:{r[I>>0]=a[_>>2];Ke=I;We=J;qe=1;Xe=0;Ye=8966;Je=k;break}case 109:{Qe=xi(a[(Ai()|0)>>2]|0)|0;z=82;break}case 115:{ue=a[_>>2]|0;Qe=(ue|0)!=0?ue:8976;z=82;break}case 67:{a[b>>2]=a[_>>2];a[g>>2]=0;a[_>>2]=b;Ze=-1;z=86;break}case 83:{if(!Ae){Fi(e,32,be,0,Q);$e=0;z=98}else{Ze=Ae;z=86}break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{et=+c[_>>3];a[h>>2]=0;c[p>>3]=et;if((a[p+4>>2]|0)>=0){if(!(Q&2048)){ue=Q&1;tt=et;nt=ue;rt=(ue|0)==0?8984:8989}else{tt=et;nt=1;rt=8986}}else{tt=-et;nt=1;rt=8983}c[p>>3]=tt;ue=a[p+4>>2]&2146435072;do{if(ue>>>0<2146435072|(ue|0)==2146435072&0<0){et=+si(tt,h)*2;$=et!=0;if($)a[h>>2]=(a[h>>2]|0)+-1;ce=ee|32;if((ce|0)==97){Z=ee&32;fe=(Z|0)==0?rt:rt+9|0;it=nt|2;at=12-Ae|0;do{if(!(Ae>>>0>11|(at|0)==0)){ot=at;st=8;while(1){ot=ot+-1|0;lt=st*16;if(!ot){ut=lt;break}else st=lt}if((r[fe>>0]|0)==45){ct=-(ut+(-et-ut));break}else{ct=et+ut-ut;break}}else ct=et}while(0);at=a[h>>2]|0;ot=(at|0)<0?0-at|0:at;ft=Di(ot,((ot|0)<0)<<31>>31,E)|0;if((ft|0)==(E|0)){r[A>>0]=48;dt=A}else dt=ft;r[dt+-1>>0]=(at>>31&2)+43;at=dt+-2|0;r[at>>0]=ee+15;ft=(Ae|0)<1;ot=(Q&8|0)==0;st=ct;pt=y;while(1){ht=~~st;yt=pt+1|0;r[pt>>0]=o[8950+ht>>0]|Z;st=(st-+(ht|0))*16;do{if((yt-m|0)==1){if(ot&(ft&st==0)){mt=yt;break}r[yt>>0]=46;mt=pt+2|0}else mt=yt}while(0);if(!(st!=0)){_t=mt;break}else pt=mt}pt=_t;ft=(Ae|0)!=0&(T+pt|0)<(Ae|0)?P+Ae-at|0:C-at+pt|0;ot=ft+it|0;Fi(e,32,be,ot,Q);if(!(a[e>>2]&32))Ii(fe,it,e)|0;Fi(e,48,be,ot,Q^65536);Z=pt-m|0;if(!(a[e>>2]&32))Ii(y,Z,e)|0;pt=x-at|0;Fi(e,48,ft-(Z+pt)|0,0,0);if(!(a[e>>2]&32))Ii(at,pt,e)|0;Fi(e,32,be,ot,Q^8192);gt=(ot|0)<(be|0)?be:ot;break}ot=(Ae|0)<0?6:Ae;if($){pt=(a[h>>2]|0)+-28|0;a[h>>2]=pt;bt=et*268435456;vt=pt}else{bt=et;vt=a[h>>2]|0}pt=(vt|0)<0?d:N;Z=pt;st=bt;ft=pt;while(1){yt=~~st>>>0;a[ft>>2]=yt;ht=ft+4|0;st=(st-+(yt>>>0))*1e9;if(!(st!=0)){wt=ht;break}else ft=ht}ft=a[h>>2]|0;if((ft|0)>0){$=ft;at=pt;it=wt;while(1){fe=($|0)>29?29:$;ht=it+-4|0;do{if(ht>>>0<at>>>0)kt=at;else{yt=0;St=ht;while(1){It=Xi(a[St>>2]|0,0,fe|0)|0;Et=Yi(It|0,O|0,yt|0,0)|0;It=O;At=oa(Et|0,It|0,1e9,0)|0;a[St>>2]=At;At=aa(Et|0,It|0,1e9,0)|0;St=St+-4|0;if(St>>>0<at>>>0){xt=At;break}else yt=At}if(!xt){kt=at;break}yt=at+-4|0;a[yt>>2]=xt;kt=yt}}while(0);ht=it;while(1){if(ht>>>0<=kt>>>0){Ct=ht;break}yt=ht+-4|0;if(!(a[yt>>2]|0))ht=yt;else{Ct=ht;break}}ht=(a[h>>2]|0)-fe|0;a[h>>2]=ht;if((ht|0)>0){$=ht;at=kt;it=Ct}else{Tt=ht;Pt=kt;Ot=Ct;break}}}else{Tt=ft;Pt=pt;Ot=wt}if((Tt|0)<0){it=((ot+25|0)/9|0)+1|0;at=(ce|0)==102;$=Tt;ht=Pt;yt=Ot;while(1){St=0-$|0;At=(St|0)>9?9:St;do{if(ht>>>0<yt>>>0){St=(1<<At)+-1|0;It=1e9>>>At;Et=0;Nt=ht;while(1){Mt=a[Nt>>2]|0;a[Nt>>2]=(Mt>>>At)+Et;Rt=te(Mt&St,It)|0;Nt=Nt+4|0;if(Nt>>>0>=yt>>>0){Dt=Rt;break}else Et=Rt}Et=(a[ht>>2]|0)==0?ht+4|0:ht;if(!Dt){Ft=Et;Bt=yt;break}a[yt>>2]=Dt;Ft=Et;Bt=yt+4|0}else{Ft=(a[ht>>2]|0)==0?ht+4|0:ht;Bt=yt}}while(0);fe=at?pt:Ft;Et=(Bt-fe>>2|0)>(it|0)?fe+(it<<2)|0:Bt;$=(a[h>>2]|0)+At|0;a[h>>2]=$;if(($|0)>=0){jt=Ft;Lt=Et;break}else{ht=Ft;yt=Et}}}else{jt=Pt;Lt=Ot}do{if(jt>>>0<Lt>>>0){yt=(Z-jt>>2)*9|0;ht=a[jt>>2]|0;if(ht>>>0<10){Ut=yt;break}else{Ht=yt;Gt=10}while(1){Gt=Gt*10|0;yt=Ht+1|0;if(ht>>>0<Gt>>>0){Ut=yt;break}else Ht=yt}}else Ut=0}while(0);ht=(ce|0)==103;At=(ot|0)!=0;yt=ot-((ce|0)!=102?Ut:0)+((At&ht)<<31>>31)|0;if((yt|0)<(((Lt-Z>>2)*9|0)+-9|0)){$=yt+9216|0;yt=pt+4+((($|0)/9|0)+-1024<<2)|0;it=(($|0)%9|0)+1|0;if((it|0)<9){$=10;at=it;while(1){it=$*10|0;at=at+1|0;if((at|0)==9){zt=it;break}else $=it}}else zt=10;$=a[yt>>2]|0;at=($>>>0)%(zt>>>0)|0;ce=(yt+4|0)==(Lt|0);do{if(ce&(at|0)==0){Vt=jt;Kt=yt;Wt=Ut}else{st=((($>>>0)/(zt>>>0)|0)&1|0)==0?9007199254740992:9007199254740994;it=(zt|0)/2|0;if(at>>>0<it>>>0)qt=.5;else qt=ce&(at|0)==(it|0)?1:1.5;do{if(!nt){Xt=st;Yt=qt}else{if((r[rt>>0]|0)!=45){Xt=st;Yt=qt;break}Xt=-st;Yt=-qt}}while(0);it=$-at|0;a[yt>>2]=it;if(!(Xt+Yt!=Xt)){Vt=jt;Kt=yt;Wt=Ut;break}ft=it+zt|0;a[yt>>2]=ft;if(ft>>>0>999999999){ft=jt;it=yt;while(1){Et=it+-4|0;a[it>>2]=0;if(Et>>>0<ft>>>0){fe=ft+-4|0;a[fe>>2]=0;Jt=fe}else Jt=ft;fe=(a[Et>>2]|0)+1|0;a[Et>>2]=fe;if(fe>>>0>999999999){ft=Jt;it=Et}else{Qt=Jt;Zt=Et;break}}}else{Qt=jt;Zt=yt}it=(Z-Qt>>2)*9|0;ft=a[Qt>>2]|0;if(ft>>>0<10){Vt=Qt;Kt=Zt;Wt=it;break}else{$t=it;en=10}while(1){en=en*10|0;it=$t+1|0;if(ft>>>0<en>>>0){Vt=Qt;Kt=Zt;Wt=it;break}else $t=it}}}while(0);yt=Kt+4|0;tn=Vt;nn=Wt;rn=Lt>>>0>yt>>>0?yt:Lt}else{tn=jt;nn=Ut;rn=Lt}yt=0-nn|0;at=rn;while(1){if(at>>>0<=tn>>>0){an=0;on=at;break}$=at+-4|0;if(!(a[$>>2]|0))at=$;else{an=1;on=at;break}}do{if(ht){at=(At&1^1)+ot|0;if((at|0)>(nn|0)&(nn|0)>-5){sn=ee+-1|0;ln=at+-1-nn|0}else{sn=ee+-2|0;ln=at+-1|0}at=Q&8;if(at){un=sn;cn=ln;fn=at;break}do{if(an){at=a[on+-4>>2]|0;if(!at){dn=9;break}if(!((at>>>0)%10|0)){pn=10;hn=0}else{dn=0;break}while(1){pn=pn*10|0;$=hn+1|0;if((at>>>0)%(pn>>>0)|0){dn=$;break}else hn=$}}else dn=9}while(0);at=((on-Z>>2)*9|0)+-9|0;if((sn|32|0)==102){$=at-dn|0;ce=($|0)<0?0:$;un=sn;cn=(ln|0)<(ce|0)?ln:ce
;fn=0;break}else{ce=at+nn-dn|0;at=(ce|0)<0?0:ce;un=sn;cn=(ln|0)<(at|0)?ln:at;fn=0;break}}else{un=ee;cn=ot;fn=Q&8}}while(0);ot=cn|fn;Z=(ot|0)!=0&1;At=(un|32|0)==102;if(At){yn=(nn|0)>0?nn:0;mn=0}else{ht=(nn|0)<0?yt:nn;at=Di(ht,((ht|0)<0)<<31>>31,E)|0;if((x-at|0)<2){ht=at;while(1){ce=ht+-1|0;r[ce>>0]=48;if((x-ce|0)<2)ht=ce;else{_n=ce;break}}}else _n=at;r[_n+-1>>0]=(nn>>31&2)+43;ht=_n+-2|0;r[ht>>0]=un;yn=x-ht|0;mn=ht}ht=nt+1+cn+Z+yn|0;Fi(e,32,be,ht,Q);if(!(a[e>>2]&32))Ii(rt,nt,e)|0;Fi(e,48,be,ht,Q^65536);do{if(At){yt=tn>>>0>pt>>>0?pt:tn;ce=yt;while(1){$=Di(a[ce>>2]|0,0,M)|0;do{if((ce|0)==(yt|0)){if(($|0)!=(M|0)){gn=$;break}r[D>>0]=48;gn=D}else{if($>>>0>y>>>0)bn=$;else{gn=$;break}while(1){ft=bn+-1|0;r[ft>>0]=48;if(ft>>>0>y>>>0)bn=ft;else{gn=ft;break}}}}while(0);if(!(a[e>>2]&32))Ii(gn,R-gn|0,e)|0;$=ce+4|0;if($>>>0>pt>>>0){vn=$;break}else ce=$}do{if(ot){if(a[e>>2]&32)break;Ii(9018,1,e)|0}}while(0);if((cn|0)>0&vn>>>0<on>>>0){ce=cn;yt=vn;while(1){$=Di(a[yt>>2]|0,0,M)|0;if($>>>0>y>>>0){ft=$;while(1){it=ft+-1|0;r[it>>0]=48;if(it>>>0>y>>>0)ft=it;else{wn=it;break}}}else wn=$;if(!(a[e>>2]&32))Ii(wn,(ce|0)>9?9:ce,e)|0;yt=yt+4|0;ft=ce+-9|0;if(!((ce|0)>9&yt>>>0<on>>>0)){kn=ft;break}else ce=ft}}else kn=cn;Fi(e,48,kn+9|0,9,0)}else{ce=an?on:tn+4|0;if((cn|0)>-1){yt=(fn|0)==0;ft=cn;it=tn;while(1){Et=Di(a[it>>2]|0,0,M)|0;if((Et|0)==(M|0)){r[D>>0]=48;Sn=D}else Sn=Et;do{if((it|0)==(tn|0)){Et=Sn+1|0;if(!(a[e>>2]&32))Ii(Sn,1,e)|0;if(yt&(ft|0)<1){In=Et;break}if(a[e>>2]&32){In=Et;break}Ii(9018,1,e)|0;In=Et}else{if(Sn>>>0>y>>>0)En=Sn;else{In=Sn;break}while(1){Et=En+-1|0;r[Et>>0]=48;if(Et>>>0>y>>>0)En=Et;else{In=Et;break}}}}while(0);$=R-In|0;if(!(a[e>>2]&32))Ii(In,(ft|0)>($|0)?$:ft,e)|0;Et=ft-$|0;it=it+4|0;if(!(it>>>0<ce>>>0&(Et|0)>-1)){An=Et;break}else ft=Et}}else An=cn;Fi(e,48,An+18|0,18,0);if(a[e>>2]&32)break;Ii(mn,x-mn|0,e)|0}}while(0);Fi(e,32,be,ht,Q^8192);gt=(ht|0)<(be|0)?be:ht}else{ot=(ee&32|0)!=0;pt=tt!=tt|0!=0;At=pt?0:nt;Z=At+3|0;Fi(e,32,be,Z,J);at=a[e>>2]|0;if(!(at&32)){Ii(rt,At,e)|0;xn=a[e>>2]|0}else xn=at;if(!(xn&32))Ii(pt?ot?9010:9014:ot?9002:9006,3,e)|0;Fi(e,32,be,Z,Q^8192);gt=(Z|0)<(be|0)?be:Z}}while(0);F=Ce;t=L;B=gt;j=ge;continue e;break}default:{Ke=F;We=Q;qe=Ae;Xe=0;Ye=8966;Je=k}}}while(0);t:do{if((z|0)==64){z=0;ee=_;U=a[ee>>2]|0;ue=a[ee+4>>2]|0;ee=Re&32;if(!((U|0)==0&(ue|0)==0)){Z=k;ot=U;U=ue;while(1){ue=Z+-1|0;r[ue>>0]=o[8950+(ot&15)>>0]|ee;ot=Ji(ot|0,U|0,4)|0;U=O;if((ot|0)==0&(U|0)==0){Cn=ue;break}else Z=ue}Z=_;if((Ne&8|0)==0|(a[Z>>2]|0)==0&(a[Z+4>>2]|0)==0){Fe=Cn;Be=Ne;je=Me;Le=0;Ue=8966;z=77}else{Fe=Cn;Be=Ne;je=Me;Le=2;Ue=8966+(Re>>4)|0;z=77}}else{Fe=k;Be=Ne;je=Me;Le=0;Ue=8966;z=77}}else if((z|0)==76){z=0;Fe=Di(He,Ge,k)|0;Be=Q;je=Ae;Le=ze;Ue=Ve;z=77}else if((z|0)==82){z=0;Z=pi(Qe,0,Ae)|0;U=(Z|0)==0;Ke=Qe;We=J;qe=U?Ae:Z-Qe|0;Xe=0;Ye=8966;Je=U?Qe+Ae|0:Z}else if((z|0)==86){z=0;Z=0;U=0;ot=a[_>>2]|0;while(1){ee=a[ot>>2]|0;if(!ee){Tn=Z;Pn=U;break}ue=Ti(v,ee)|0;if((ue|0)<0|ue>>>0>(Ze-Z|0)>>>0){Tn=Z;Pn=ue;break}ee=ue+Z|0;if(Ze>>>0>ee>>>0){Z=ee;U=ue;ot=ot+4|0}else{Tn=ee;Pn=ue;break}}if((Pn|0)<0){ye=-1;break e}Fi(e,32,be,Tn,Q);if(!Tn){$e=0;z=98}else{ot=0;U=a[_>>2]|0;while(1){Z=a[U>>2]|0;if(!Z){$e=Tn;z=98;break t}ue=Ti(v,Z)|0;ot=ue+ot|0;if((ot|0)>(Tn|0)){$e=Tn;z=98;break t}if(!(a[e>>2]&32))Ii(v,ue,e)|0;if(ot>>>0>=Tn>>>0){$e=Tn;z=98;break}else U=U+4|0}}}}while(0);if((z|0)==98){z=0;Fi(e,32,be,$e,Q^8192);F=Ce;t=L;B=(be|0)>($e|0)?be:$e;j=ge;continue}if((z|0)==77){z=0;J=(je|0)>-1?Be&-65537:Be;U=_;ot=(a[U>>2]|0)!=0|(a[U+4>>2]|0)!=0;if((je|0)!=0|ot){U=(ot&1^1)+(S-Fe)|0;Ke=Fe;We=J;qe=(je|0)>(U|0)?je:U;Xe=Le;Ye=Ue;Je=k}else{Ke=k;We=J;qe=0;Xe=Le;Ye=Ue;Je=k}}J=Je-Ke|0;U=(qe|0)<(J|0)?J:qe;ot=Xe+U|0;ue=(be|0)<(ot|0)?ot:be;Fi(e,32,ue,ot,We);if(!(a[e>>2]&32))Ii(Ye,Xe,e)|0;Fi(e,48,ue,ot,We^65536);Fi(e,48,U,J,0);if(!(a[e>>2]&32))Ii(Ke,J,e)|0;Fi(e,32,ue,ot,We^8192);F=Ce;t=L;B=ue;j=ge}e:do{if((z|0)==242)if(!e){if(G){ge=1;while(1){j=a[l+(ge<<2)>>2]|0;if(!j){On=ge;break}Ri(s+(ge<<3)|0,j,n);ge=ge+1|0;if((ge|0)>=10){ye=1;break e}}if((On|0)<10){ge=On;while(1){if(a[l+(ge<<2)>>2]|0){ye=-1;break e}ge=ge+1|0;if((ge|0)>=10){ye=1;break}}}else ye=1}else ye=0}else ye=H}while(0);f=u;return ye|0}function Mi(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,s=0,l=0;t=e+20|0;n=e+28|0;if((a[t>>2]|0)>>>0>(a[n>>2]|0)>>>0?(Ca[a[e+36>>2]&7](e,0,0)|0,(a[t>>2]|0)==0):0)r=-1;else{i=e+4|0;o=a[i>>2]|0;s=e+8|0;l=a[s>>2]|0;if(o>>>0<l>>>0)Ca[a[e+40>>2]&7](e,o-l|0,1)|0;a[e+16>>2]=0;a[n>>2]=0;a[t>>2]=0;a[s>>2]=0;a[i>>2]=0;r=0}return r|0}function Ri(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,s=0,l=0;e:do{if(t>>>0<=20)do{switch(t|0){case 9:{r=(a[n>>2]|0)+(4-1)&~(4-1);i=a[r>>2]|0;a[n>>2]=r+4;a[e>>2]=i;break e;break}case 10:{i=(a[n>>2]|0)+(4-1)&~(4-1);r=a[i>>2]|0;a[n>>2]=i+4;i=e;a[i>>2]=r;a[i+4>>2]=((r|0)<0)<<31>>31;break e;break}case 11:{r=(a[n>>2]|0)+(4-1)&~(4-1);i=a[r>>2]|0;a[n>>2]=r+4;r=e;a[r>>2]=i;a[r+4>>2]=0;break e;break}case 12:{r=(a[n>>2]|0)+(8-1)&~(8-1);i=r;o=a[i>>2]|0;s=a[i+4>>2]|0;a[n>>2]=r+8;r=e;a[r>>2]=o;a[r+4>>2]=s;break e;break}case 13:{s=(a[n>>2]|0)+(4-1)&~(4-1);r=a[s>>2]|0;a[n>>2]=s+4;s=(r&65535)<<16>>16;r=e;a[r>>2]=s;a[r+4>>2]=((s|0)<0)<<31>>31;break e;break}case 14:{s=(a[n>>2]|0)+(4-1)&~(4-1);r=a[s>>2]|0;a[n>>2]=s+4;s=e;a[s>>2]=r&65535;a[s+4>>2]=0;break e;break}case 15:{s=(a[n>>2]|0)+(4-1)&~(4-1);r=a[s>>2]|0;a[n>>2]=s+4;s=(r&255)<<24>>24;r=e;a[r>>2]=s;a[r+4>>2]=((s|0)<0)<<31>>31;break e;break}case 16:{s=(a[n>>2]|0)+(4-1)&~(4-1);r=a[s>>2]|0;a[n>>2]=s+4;s=e;a[s>>2]=r&255;a[s+4>>2]=0;break e;break}case 17:{s=(a[n>>2]|0)+(8-1)&~(8-1);l=+c[s>>3];a[n>>2]=s+8;c[e>>3]=l;break e;break}case 18:{s=(a[n>>2]|0)+(8-1)&~(8-1);l=+c[s>>3];a[n>>2]=s+8;c[e>>3]=l;break e;break}default:break e}}while(0)}while(0);return}function Di(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295){i=n;a=e;o=t;while(1){t=oa(a|0,o|0,10,0)|0;s=i+-1|0;r[s>>0]=t|48;t=aa(a|0,o|0,10,0)|0;if(o>>>0>9|(o|0)==9&a>>>0>4294967295){i=s;a=t;o=O}else{l=s;u=t;break}}c=l;f=u}else{c=n;f=e}if(!f)d=c;else{e=c;c=f;while(1){f=e+-1|0;r[f>>0]=(c>>>0)%10|0|48;if(c>>>0<10){d=f;break}else{e=f;c=(c>>>0)/10|0}}}return d|0}function Fi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,y=0,m=0;o=f;f=f+256|0;s=o;do{if((n|0)>(r|0)&(i&73728|0)==0){l=n-r|0;qi(s|0,t|0,(l>>>0>256?256:l)|0)|0;u=a[e>>2]|0;c=(u&32|0)==0;if(l>>>0>255){d=n-r|0;p=l;h=u;u=c;while(1){if(u){Ii(s,256,e)|0;y=a[e>>2]|0}else y=h;p=p+-256|0;u=(y&32|0)==0;if(p>>>0<=255)break;else h=y}if(u)m=d&255;else break}else if(c)m=l;else break;Ii(s,m,e)|0}}while(0);f=o;return}function Bi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0;r=e+20|0;i=a[r>>2]|0;o=(a[e+16>>2]|0)-i|0;e=o>>>0>n>>>0?n:o;Qi(i|0,t|0,e|0)|0;a[r>>2]=(a[r>>2]|0)+e;return n|0}function ji(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0,j=0,L=0,U=0,H=0,G=0,z=0,V=0,K=0,W=0,q=0,X=0,Y=0,J=0,Q=0,Z=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,fe=0,de=0,pe=0,he=0,ye=0,me=0,_e=0,ge=0,be=0,ve=0,we=0,ke=0,Ie=0,Ee=0,Ae=0,xe=0,Ce=0,Te=0,Pe=0,Oe=0,Ne=0,Me=0,Re=0,De=0,Be=0,je=0,Le=0,Ue=0;do{if(e>>>0<245){t=e>>>0<11?16:e+11&-8;n=t>>>3;r=a[219]|0;i=r>>>n;if(i&3){o=(i&1^1)+n|0;s=916+(o<<1<<2)|0;l=s+8|0;u=a[l>>2]|0;c=u+8|0;f=a[c>>2]|0;do{if((s|0)!=(f|0)){if(f>>>0<(a[223]|0)>>>0)Se();d=f+12|0;if((a[d>>2]|0)==(u|0)){a[d>>2]=s;a[l>>2]=f;break}else Se()}else a[219]=r&~(1<<o)}while(0);f=o<<3;a[u+4>>2]=f|3;l=u+f+4|0;a[l>>2]=a[l>>2]|1;p=c;return p|0}l=a[221]|0;if(t>>>0>l>>>0){if(i){f=2<<n;s=i<<n&(f|0-f);f=(s&0-s)+-1|0;s=f>>>12&16;d=f>>>s;f=d>>>5&8;h=d>>>f;d=h>>>2&4;y=h>>>d;h=y>>>1&2;m=y>>>h;y=m>>>1&1;_=(f|s|d|h|y)+(m>>>y)|0;y=916+(_<<1<<2)|0;m=y+8|0;h=a[m>>2]|0;d=h+8|0;s=a[d>>2]|0;do{if((y|0)!=(s|0)){if(s>>>0<(a[223]|0)>>>0)Se();f=s+12|0;if((a[f>>2]|0)==(h|0)){a[f>>2]=y;a[m>>2]=s;g=a[221]|0;break}else Se()}else{a[219]=r&~(1<<_);g=l}}while(0);l=(_<<3)-t|0;a[h+4>>2]=t|3;r=h+t|0;a[r+4>>2]=l|1;a[r+l>>2]=l;if(g){s=a[224]|0;m=g>>>3;y=916+(m<<1<<2)|0;n=a[219]|0;i=1<<m;if(n&i){m=y+8|0;c=a[m>>2]|0
;if(c>>>0<(a[223]|0)>>>0)Se();else{b=m;v=c}}else{a[219]=n|i;b=y+8|0;v=y}a[b>>2]=s;a[v+12>>2]=s;a[s+8>>2]=v;a[s+12>>2]=y}a[221]=l;a[224]=r;p=d;return p|0}r=a[220]|0;if(r){l=(r&0-r)+-1|0;r=l>>>12&16;y=l>>>r;l=y>>>5&8;s=y>>>l;y=s>>>2&4;i=s>>>y;s=i>>>1&2;n=i>>>s;i=n>>>1&1;c=a[1180+((l|r|y|s|i)+(n>>>i)<<2)>>2]|0;i=(a[c+4>>2]&-8)-t|0;n=c;s=c;while(1){c=a[n+16>>2]|0;if(!c){y=a[n+20>>2]|0;if(!y){w=i;k=s;break}else S=y}else S=c;c=(a[S+4>>2]&-8)-t|0;y=c>>>0<i>>>0;i=y?c:i;n=S;s=y?S:s}s=a[223]|0;if(k>>>0<s>>>0)Se();n=k+t|0;if(k>>>0>=n>>>0)Se();i=a[k+24>>2]|0;d=a[k+12>>2]|0;do{if((d|0)==(k|0)){h=k+20|0;_=a[h>>2]|0;if(!_){y=k+16|0;c=a[y>>2]|0;if(!c){I=0;break}else{E=c;A=y}}else{E=_;A=h}while(1){h=E+20|0;_=a[h>>2]|0;if(_){E=_;A=h;continue}h=E+16|0;_=a[h>>2]|0;if(!_){x=E;C=A;break}else{E=_;A=h}}if(C>>>0<s>>>0)Se();else{a[C>>2]=0;I=x;break}}else{h=a[k+8>>2]|0;if(h>>>0<s>>>0)Se();_=h+12|0;if((a[_>>2]|0)!=(k|0))Se();y=d+8|0;if((a[y>>2]|0)==(k|0)){a[_>>2]=d;a[y>>2]=h;I=d;break}else Se()}}while(0);do{if(i){d=a[k+28>>2]|0;s=1180+(d<<2)|0;if((k|0)==(a[s>>2]|0)){a[s>>2]=I;if(!I){a[220]=a[220]&~(1<<d);break}}else{if(i>>>0<(a[223]|0)>>>0)Se();d=i+16|0;if((a[d>>2]|0)==(k|0))a[d>>2]=I;else a[i+20>>2]=I;if(!I)break}d=a[223]|0;if(I>>>0<d>>>0)Se();a[I+24>>2]=i;s=a[k+16>>2]|0;do{if(s)if(s>>>0<d>>>0)Se();else{a[I+16>>2]=s;a[s+24>>2]=I;break}}while(0);s=a[k+20>>2]|0;if(s)if(s>>>0<(a[223]|0)>>>0)Se();else{a[I+20>>2]=s;a[s+24>>2]=I;break}}}while(0);if(w>>>0<16){i=w+t|0;a[k+4>>2]=i|3;s=k+i+4|0;a[s>>2]=a[s>>2]|1}else{a[k+4>>2]=t|3;a[n+4>>2]=w|1;a[n+w>>2]=w;s=a[221]|0;if(s){i=a[224]|0;d=s>>>3;s=916+(d<<1<<2)|0;h=a[219]|0;y=1<<d;if(h&y){d=s+8|0;_=a[d>>2]|0;if(_>>>0<(a[223]|0)>>>0)Se();else{T=d;P=_}}else{a[219]=h|y;T=s+8|0;P=s}a[T>>2]=i;a[P+12>>2]=i;a[i+8>>2]=P;a[i+12>>2]=s}a[221]=w;a[224]=n}p=k+8|0;return p|0}else O=t}else O=t}else if(e>>>0<=4294967231){s=e+11|0;i=s&-8;y=a[220]|0;if(y){h=0-i|0;_=s>>>8;if(_){if(i>>>0>16777215)N=31;else{s=(_+1048320|0)>>>16&8;d=_<<s;_=(d+520192|0)>>>16&4;c=d<<_;d=(c+245760|0)>>>16&2;r=14-(_|s|d)+(c<<d>>>15)|0;N=i>>>(r+7|0)&1|r<<1}}else N=0;r=a[1180+(N<<2)>>2]|0;e:do{if(!r){M=h;R=0;D=0;F=86}else{d=h;c=0;s=i<<((N|0)==31?0:25-(N>>>1)|0);_=r;l=0;while(1){m=a[_+4>>2]&-8;u=m-i|0;if(u>>>0<d>>>0){if((m|0)==(i|0)){B=u;j=_;L=_;F=90;break e}else{U=u;H=_}}else{U=d;H=l}u=a[_+20>>2]|0;_=a[_+16+(s>>>31<<2)>>2]|0;m=(u|0)==0|(u|0)==(_|0)?c:u;u=(_|0)==0;if(u){M=U;R=m;D=H;F=86;break}else{d=U;c=m;s=s<<(u&1^1);l=H}}}}while(0);if((F|0)==86){if((R|0)==0&(D|0)==0){r=2<<N;h=y&(r|0-r);if(!h){O=i;break}r=(h&0-h)+-1|0;h=r>>>12&16;t=r>>>h;r=t>>>5&8;n=t>>>r;t=n>>>2&4;l=n>>>t;n=l>>>1&2;s=l>>>n;l=s>>>1&1;G=a[1180+((r|h|t|n|l)+(s>>>l)<<2)>>2]|0}else G=R;if(!G){z=M;V=D}else{B=M;j=G;L=D;F=90}}if((F|0)==90)while(1){F=0;l=(a[j+4>>2]&-8)-i|0;s=l>>>0<B>>>0;n=s?l:B;l=s?j:L;s=a[j+16>>2]|0;if(s){B=n;j=s;L=l;F=90;continue}j=a[j+20>>2]|0;if(!j){z=n;V=l;break}else{B=n;L=l;F=90}}if((V|0)!=0?z>>>0<((a[221]|0)-i|0)>>>0:0){y=a[223]|0;if(V>>>0<y>>>0)Se();l=V+i|0;if(V>>>0>=l>>>0)Se();n=a[V+24>>2]|0;s=a[V+12>>2]|0;do{if((s|0)==(V|0)){t=V+20|0;h=a[t>>2]|0;if(!h){r=V+16|0;c=a[r>>2]|0;if(!c){K=0;break}else{W=c;q=r}}else{W=h;q=t}while(1){t=W+20|0;h=a[t>>2]|0;if(h){W=h;q=t;continue}t=W+16|0;h=a[t>>2]|0;if(!h){X=W;Y=q;break}else{W=h;q=t}}if(Y>>>0<y>>>0)Se();else{a[Y>>2]=0;K=X;break}}else{t=a[V+8>>2]|0;if(t>>>0<y>>>0)Se();h=t+12|0;if((a[h>>2]|0)!=(V|0))Se();r=s+8|0;if((a[r>>2]|0)==(V|0)){a[h>>2]=s;a[r>>2]=t;K=s;break}else Se()}}while(0);do{if(n){s=a[V+28>>2]|0;y=1180+(s<<2)|0;if((V|0)==(a[y>>2]|0)){a[y>>2]=K;if(!K){a[220]=a[220]&~(1<<s);break}}else{if(n>>>0<(a[223]|0)>>>0)Se();s=n+16|0;if((a[s>>2]|0)==(V|0))a[s>>2]=K;else a[n+20>>2]=K;if(!K)break}s=a[223]|0;if(K>>>0<s>>>0)Se();a[K+24>>2]=n;y=a[V+16>>2]|0;do{if(y)if(y>>>0<s>>>0)Se();else{a[K+16>>2]=y;a[y+24>>2]=K;break}}while(0);y=a[V+20>>2]|0;if(y)if(y>>>0<(a[223]|0)>>>0)Se();else{a[K+20>>2]=y;a[y+24>>2]=K;break}}}while(0);do{if(z>>>0>=16){a[V+4>>2]=i|3;a[l+4>>2]=z|1;a[l+z>>2]=z;n=z>>>3;if(z>>>0<256){y=916+(n<<1<<2)|0;s=a[219]|0;t=1<<n;if(s&t){n=y+8|0;r=a[n>>2]|0;if(r>>>0<(a[223]|0)>>>0)Se();else{J=n;Q=r}}else{a[219]=s|t;J=y+8|0;Q=y}a[J>>2]=l;a[Q+12>>2]=l;a[l+8>>2]=Q;a[l+12>>2]=y;break}y=z>>>8;if(y){if(z>>>0>16777215)Z=31;else{t=(y+1048320|0)>>>16&8;s=y<<t;y=(s+520192|0)>>>16&4;r=s<<y;s=(r+245760|0)>>>16&2;n=14-(y|t|s)+(r<<s>>>15)|0;Z=z>>>(n+7|0)&1|n<<1}}else Z=0;n=1180+(Z<<2)|0;a[l+28>>2]=Z;s=l+16|0;a[s+4>>2]=0;a[s>>2]=0;s=a[220]|0;r=1<<Z;if(!(s&r)){a[220]=s|r;a[n>>2]=l;a[l+24>>2]=n;a[l+12>>2]=l;a[l+8>>2]=l;break}r=z<<((Z|0)==31?0:25-(Z>>>1)|0);s=a[n>>2]|0;while(1){if((a[s+4>>2]&-8|0)==(z|0)){$=s;F=148;break}n=s+16+(r>>>31<<2)|0;t=a[n>>2]|0;if(!t){ee=n;te=s;F=145;break}else{r=r<<1;s=t}}if((F|0)==145){if(ee>>>0<(a[223]|0)>>>0)Se();else{a[ee>>2]=l;a[l+24>>2]=te;a[l+12>>2]=l;a[l+8>>2]=l;break}}else if((F|0)==148){s=$+8|0;r=a[s>>2]|0;t=a[223]|0;if(r>>>0>=t>>>0&$>>>0>=t>>>0){a[r+12>>2]=l;a[s>>2]=l;a[l+8>>2]=r;a[l+12>>2]=$;a[l+24>>2]=0;break}else Se()}}else{r=z+i|0;a[V+4>>2]=r|3;s=V+r+4|0;a[s>>2]=a[s>>2]|1}}while(0);p=V+8|0;return p|0}else O=i}else O=i}else O=-1}while(0);V=a[221]|0;if(V>>>0>=O>>>0){z=V-O|0;$=a[224]|0;if(z>>>0>15){te=$+O|0;a[224]=te;a[221]=z;a[te+4>>2]=z|1;a[te+z>>2]=z;a[$+4>>2]=O|3}else{a[221]=0;a[224]=0;a[$+4>>2]=V|3;z=$+V+4|0;a[z>>2]=a[z>>2]|1}p=$+8|0;return p|0}$=a[222]|0;if($>>>0>O>>>0){z=$-O|0;a[222]=z;$=a[225]|0;V=$+O|0;a[225]=V;a[V+4>>2]=z|1;a[$+4>>2]=O|3;p=$+8|0;return p|0}do{if(!(a[337]|0)){$=Ge(30)|0;if(!($+-1&$)){a[339]=$;a[338]=$;a[340]=-1;a[341]=-1;a[342]=0;a[330]=0;a[337]=(yt(0)|0)&-16^1431655768;break}else Se()}}while(0);$=O+48|0;z=a[339]|0;V=O+47|0;te=z+V|0;ee=0-z|0;z=te&ee;if(z>>>0<=O>>>0){p=0;return p|0}Z=a[329]|0;if((Z|0)!=0?(Q=a[327]|0,J=Q+z|0,J>>>0<=Q>>>0|J>>>0>Z>>>0):0){p=0;return p|0}e:do{if(!(a[330]&4)){Z=a[225]|0;t:do{if(Z){J=1324;while(1){Q=a[J>>2]|0;if(Q>>>0<=Z>>>0?(K=J+4|0,(Q+(a[K>>2]|0)|0)>>>0>Z>>>0):0){ne=J;re=K;break}J=a[J+8>>2]|0;if(!J){F=173;break t}}J=te-(a[222]|0)&ee;if(J>>>0<2147483647){K=Fe(J|0)|0;if((K|0)==((a[ne>>2]|0)+(a[re>>2]|0)|0)){if((K|0)!=(-1|0)){ie=K;ae=J;F=193;break e}}else{oe=K;se=J;F=183}}}else F=173}while(0);do{if((F|0)==173?(Z=Fe(0)|0,(Z|0)!=(-1|0)):0){i=Z;J=a[338]|0;K=J+-1|0;if(!(K&i))le=z;else le=z-i+(K+i&0-J)|0;J=a[327]|0;i=J+le|0;if(le>>>0>O>>>0&le>>>0<2147483647){K=a[329]|0;if((K|0)!=0?i>>>0<=J>>>0|i>>>0>K>>>0:0)break;K=Fe(le|0)|0;if((K|0)==(Z|0)){ie=Z;ae=le;F=193;break e}else{oe=K;se=le;F=183}}}}while(0);t:do{if((F|0)==183){K=0-se|0;do{if($>>>0>se>>>0&(se>>>0<2147483647&(oe|0)!=(-1|0))?(Z=a[339]|0,i=V-se+Z&0-Z,i>>>0<2147483647):0){if((Fe(i|0)|0)==(-1|0)){Fe(K|0)|0;break t}else{ue=i+se|0;break}}else ue=se}while(0);if((oe|0)!=(-1|0)){ie=oe;ae=ue;F=193;break e}}}while(0);a[330]=a[330]|4;F=190}else F=190}while(0);if((((F|0)==190?z>>>0<2147483647:0)?(ue=Fe(z|0)|0,z=Fe(0)|0,ue>>>0<z>>>0&((ue|0)!=(-1|0)&(z|0)!=(-1|0))):0)?(oe=z-ue|0,oe>>>0>(O+40|0)>>>0):0){ie=ue;ae=oe;F=193}if((F|0)==193){oe=(a[327]|0)+ae|0;a[327]=oe;if(oe>>>0>(a[328]|0)>>>0)a[328]=oe;oe=a[225]|0;do{if(oe){ue=1324;do{z=a[ue>>2]|0;se=ue+4|0;V=a[se>>2]|0;if((ie|0)==(z+V|0)){ce=z;fe=se;de=V;pe=ue;F=203;break}ue=a[ue+8>>2]|0}while((ue|0)!=0);if(((F|0)==203?(a[pe+12>>2]&8|0)==0:0)?oe>>>0<ie>>>0&oe>>>0>=ce>>>0:0){a[fe>>2]=de+ae;ue=oe+8|0;V=(ue&7|0)==0?0:0-ue&7;ue=oe+V|0;se=ae-V+(a[222]|0)|0;a[225]=ue;a[222]=se;a[ue+4>>2]=se|1;a[ue+se+4>>2]=40;a[226]=a[341];break}se=a[223]|0;if(ie>>>0<se>>>0){a[223]=ie;he=ie}else he=se;se=ie+ae|0;ue=1324;while(1){if((a[ue>>2]|0)==(se|0)){ye=ue;me=ue;F=211;break}ue=a[ue+8>>2]|0;if(!ue){_e=1324;break}}if((F|0)==211)if(!(a[me+12>>2]&8)){a[ye>>2]=ie;ue=me+4|0;a[ue>>2]=(a[ue>>2]|0)+ae;ue=ie+8|0;V=ie+((ue&7|0)==0?0:0-ue&7)|0;ue=se+8|0;z=se+((ue&7|0)==0?0:0-ue&7)|0;ue=V+O|0;$=z-V-O|0;a[V+4>>2]=O|3;do{if((z|0)!=(oe|0)){if((z|0)==(a[224]|0)){le=(a[221]|0)+$|0;a[221]=le;a[224]=ue;a[ue+4>>2]=le|1;a[ue+le>>2]=le;break}le=a[z+4>>2]|0;if((le&3|0)==1){re=le&-8;ne=le>>>3;e:do{if(le>>>0>=256){ee=a[z+24>>2]|0;te=a[z+12>>2]|0;do{if((te|0)==(z|0)){K=z+16|0;i=K+4|0;Z=a[i>>2]|0;if(!Z){J=a[K>>2]|0;if(!J){ge=0;break}else{be=J;ve=K}
}else{be=Z;ve=i}while(1){i=be+20|0;Z=a[i>>2]|0;if(Z){be=Z;ve=i;continue}i=be+16|0;Z=a[i>>2]|0;if(!Z){we=be;ke=ve;break}else{be=Z;ve=i}}if(ke>>>0<he>>>0)Se();else{a[ke>>2]=0;ge=we;break}}else{i=a[z+8>>2]|0;if(i>>>0<he>>>0)Se();Z=i+12|0;if((a[Z>>2]|0)!=(z|0))Se();K=te+8|0;if((a[K>>2]|0)==(z|0)){a[Z>>2]=te;a[K>>2]=i;ge=te;break}else Se()}}while(0);if(!ee)break;te=a[z+28>>2]|0;i=1180+(te<<2)|0;do{if((z|0)!=(a[i>>2]|0)){if(ee>>>0<(a[223]|0)>>>0)Se();K=ee+16|0;if((a[K>>2]|0)==(z|0))a[K>>2]=ge;else a[ee+20>>2]=ge;if(!ge)break e}else{a[i>>2]=ge;if(ge)break;a[220]=a[220]&~(1<<te);break e}}while(0);te=a[223]|0;if(ge>>>0<te>>>0)Se();a[ge+24>>2]=ee;i=z+16|0;K=a[i>>2]|0;do{if(K)if(K>>>0<te>>>0)Se();else{a[ge+16>>2]=K;a[K+24>>2]=ge;break}}while(0);K=a[i+4>>2]|0;if(!K)break;if(K>>>0<(a[223]|0)>>>0)Se();else{a[ge+20>>2]=K;a[K+24>>2]=ge;break}}else{K=a[z+8>>2]|0;te=a[z+12>>2]|0;ee=916+(ne<<1<<2)|0;do{if((K|0)!=(ee|0)){if(K>>>0<he>>>0)Se();if((a[K+12>>2]|0)==(z|0))break;Se()}}while(0);if((te|0)==(K|0)){a[219]=a[219]&~(1<<ne);break}do{if((te|0)==(ee|0))Ie=te+8|0;else{if(te>>>0<he>>>0)Se();i=te+8|0;if((a[i>>2]|0)==(z|0)){Ie=i;break}Se()}}while(0);a[K+12>>2]=te;a[Ie>>2]=K}}while(0);Ee=z+re|0;Ae=re+$|0}else{Ee=z;Ae=$}ne=Ee+4|0;a[ne>>2]=a[ne>>2]&-2;a[ue+4>>2]=Ae|1;a[ue+Ae>>2]=Ae;ne=Ae>>>3;if(Ae>>>0<256){le=916+(ne<<1<<2)|0;ee=a[219]|0;i=1<<ne;do{if(!(ee&i)){a[219]=ee|i;xe=le+8|0;Ce=le}else{ne=le+8|0;Z=a[ne>>2]|0;if(Z>>>0>=(a[223]|0)>>>0){xe=ne;Ce=Z;break}Se()}}while(0);a[xe>>2]=ue;a[Ce+12>>2]=ue;a[ue+8>>2]=Ce;a[ue+12>>2]=le;break}i=Ae>>>8;do{if(!i)Te=0;else{if(Ae>>>0>16777215){Te=31;break}ee=(i+1048320|0)>>>16&8;re=i<<ee;Z=(re+520192|0)>>>16&4;ne=re<<Z;re=(ne+245760|0)>>>16&2;J=14-(Z|ee|re)+(ne<<re>>>15)|0;Te=Ae>>>(J+7|0)&1|J<<1}}while(0);i=1180+(Te<<2)|0;a[ue+28>>2]=Te;le=ue+16|0;a[le+4>>2]=0;a[le>>2]=0;le=a[220]|0;J=1<<Te;if(!(le&J)){a[220]=le|J;a[i>>2]=ue;a[ue+24>>2]=i;a[ue+12>>2]=ue;a[ue+8>>2]=ue;break}J=Ae<<((Te|0)==31?0:25-(Te>>>1)|0);le=a[i>>2]|0;while(1){if((a[le+4>>2]&-8|0)==(Ae|0)){Pe=le;F=281;break}i=le+16+(J>>>31<<2)|0;re=a[i>>2]|0;if(!re){Oe=i;Ne=le;F=278;break}else{J=J<<1;le=re}}if((F|0)==278){if(Oe>>>0<(a[223]|0)>>>0)Se();else{a[Oe>>2]=ue;a[ue+24>>2]=Ne;a[ue+12>>2]=ue;a[ue+8>>2]=ue;break}}else if((F|0)==281){le=Pe+8|0;J=a[le>>2]|0;re=a[223]|0;if(J>>>0>=re>>>0&Pe>>>0>=re>>>0){a[J+12>>2]=ue;a[le>>2]=ue;a[ue+8>>2]=J;a[ue+12>>2]=Pe;a[ue+24>>2]=0;break}else Se()}}else{J=(a[222]|0)+$|0;a[222]=J;a[225]=ue;a[ue+4>>2]=J|1}}while(0);p=V+8|0;return p|0}else _e=1324;while(1){ue=a[_e>>2]|0;if(ue>>>0<=oe>>>0?($=ue+(a[_e+4>>2]|0)|0,$>>>0>oe>>>0):0){Me=$;break}_e=a[_e+8>>2]|0}V=Me+-47|0;$=V+8|0;ue=V+(($&7|0)==0?0:0-$&7)|0;$=oe+16|0;V=ue>>>0<$>>>0?oe:ue;ue=V+8|0;z=ie+8|0;se=(z&7|0)==0?0:0-z&7;z=ie+se|0;J=ae+-40-se|0;a[225]=z;a[222]=J;a[z+4>>2]=J|1;a[z+J+4>>2]=40;a[226]=a[341];J=V+4|0;a[J>>2]=27;a[ue>>2]=a[331];a[ue+4>>2]=a[332];a[ue+8>>2]=a[333];a[ue+12>>2]=a[334];a[331]=ie;a[332]=ae;a[334]=0;a[333]=ue;ue=V+24|0;do{ue=ue+4|0;a[ue>>2]=7}while((ue+4|0)>>>0<Me>>>0);if((V|0)!=(oe|0)){ue=V-oe|0;a[J>>2]=a[J>>2]&-2;a[oe+4>>2]=ue|1;a[V>>2]=ue;z=ue>>>3;if(ue>>>0<256){se=916+(z<<1<<2)|0;le=a[219]|0;re=1<<z;if(le&re){z=se+8|0;i=a[z>>2]|0;if(i>>>0<(a[223]|0)>>>0)Se();else{Re=z;De=i}}else{a[219]=le|re;Re=se+8|0;De=se}a[Re>>2]=oe;a[De+12>>2]=oe;a[oe+8>>2]=De;a[oe+12>>2]=se;break}se=ue>>>8;if(se){if(ue>>>0>16777215)Be=31;else{re=(se+1048320|0)>>>16&8;le=se<<re;se=(le+520192|0)>>>16&4;i=le<<se;le=(i+245760|0)>>>16&2;z=14-(se|re|le)+(i<<le>>>15)|0;Be=ue>>>(z+7|0)&1|z<<1}}else Be=0;z=1180+(Be<<2)|0;a[oe+28>>2]=Be;a[oe+20>>2]=0;a[$>>2]=0;le=a[220]|0;i=1<<Be;if(!(le&i)){a[220]=le|i;a[z>>2]=oe;a[oe+24>>2]=z;a[oe+12>>2]=oe;a[oe+8>>2]=oe;break}i=ue<<((Be|0)==31?0:25-(Be>>>1)|0);le=a[z>>2]|0;while(1){if((a[le+4>>2]&-8|0)==(ue|0)){je=le;F=307;break}z=le+16+(i>>>31<<2)|0;re=a[z>>2]|0;if(!re){Le=z;Ue=le;F=304;break}else{i=i<<1;le=re}}if((F|0)==304){if(Le>>>0<(a[223]|0)>>>0)Se();else{a[Le>>2]=oe;a[oe+24>>2]=Ue;a[oe+12>>2]=oe;a[oe+8>>2]=oe;break}}else if((F|0)==307){le=je+8|0;i=a[le>>2]|0;ue=a[223]|0;if(i>>>0>=ue>>>0&je>>>0>=ue>>>0){a[i+12>>2]=oe;a[le>>2]=oe;a[oe+8>>2]=i;a[oe+12>>2]=je;a[oe+24>>2]=0;break}else Se()}}}else{i=a[223]|0;if((i|0)==0|ie>>>0<i>>>0)a[223]=ie;a[331]=ie;a[332]=ae;a[334]=0;a[228]=a[337];a[227]=-1;i=0;do{le=916+(i<<1<<2)|0;a[le+12>>2]=le;a[le+8>>2]=le;i=i+1|0}while((i|0)!=32);i=ie+8|0;le=(i&7|0)==0?0:0-i&7;i=ie+le|0;ue=ae+-40-le|0;a[225]=i;a[222]=ue;a[i+4>>2]=ue|1;a[i+ue+4>>2]=40;a[226]=a[341]}}while(0);ae=a[222]|0;if(ae>>>0>O>>>0){ie=ae-O|0;a[222]=ie;ae=a[225]|0;oe=ae+O|0;a[225]=oe;a[oe+4>>2]=ie|1;a[ae+4>>2]=O|3;p=ae+8|0;return p|0}}a[(Ai()|0)>>2]=12;p=0;return p|0}function Li(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0,F=0,B=0;if(!e)return;t=e+-8|0;n=a[223]|0;if(t>>>0<n>>>0)Se();r=a[e+-4>>2]|0;e=r&3;if((e|0)==1)Se();i=r&-8;o=t+i|0;do{if(!(r&1)){s=a[t>>2]|0;if(!e)return;l=t+(0-s)|0;u=s+i|0;if(l>>>0<n>>>0)Se();if((l|0)==(a[224]|0)){c=o+4|0;f=a[c>>2]|0;if((f&3|0)!=3){d=l;p=u;break}a[221]=u;a[c>>2]=f&-2;a[l+4>>2]=u|1;a[l+u>>2]=u;return}f=s>>>3;if(s>>>0<256){s=a[l+8>>2]|0;c=a[l+12>>2]|0;h=916+(f<<1<<2)|0;if((s|0)!=(h|0)){if(s>>>0<n>>>0)Se();if((a[s+12>>2]|0)!=(l|0))Se()}if((c|0)==(s|0)){a[219]=a[219]&~(1<<f);d=l;p=u;break}if((c|0)!=(h|0)){if(c>>>0<n>>>0)Se();h=c+8|0;if((a[h>>2]|0)==(l|0))y=h;else Se()}else y=c+8|0;a[s+12>>2]=c;a[y>>2]=s;d=l;p=u;break}s=a[l+24>>2]|0;c=a[l+12>>2]|0;do{if((c|0)==(l|0)){h=l+16|0;f=h+4|0;m=a[f>>2]|0;if(!m){_=a[h>>2]|0;if(!_){g=0;break}else{b=_;v=h}}else{b=m;v=f}while(1){f=b+20|0;m=a[f>>2]|0;if(m){b=m;v=f;continue}f=b+16|0;m=a[f>>2]|0;if(!m){w=b;k=v;break}else{b=m;v=f}}if(k>>>0<n>>>0)Se();else{a[k>>2]=0;g=w;break}}else{f=a[l+8>>2]|0;if(f>>>0<n>>>0)Se();m=f+12|0;if((a[m>>2]|0)!=(l|0))Se();h=c+8|0;if((a[h>>2]|0)==(l|0)){a[m>>2]=c;a[h>>2]=f;g=c;break}else Se()}}while(0);if(s){c=a[l+28>>2]|0;f=1180+(c<<2)|0;if((l|0)==(a[f>>2]|0)){a[f>>2]=g;if(!g){a[220]=a[220]&~(1<<c);d=l;p=u;break}}else{if(s>>>0<(a[223]|0)>>>0)Se();c=s+16|0;if((a[c>>2]|0)==(l|0))a[c>>2]=g;else a[s+20>>2]=g;if(!g){d=l;p=u;break}}c=a[223]|0;if(g>>>0<c>>>0)Se();a[g+24>>2]=s;f=l+16|0;h=a[f>>2]|0;do{if(h)if(h>>>0<c>>>0)Se();else{a[g+16>>2]=h;a[h+24>>2]=g;break}}while(0);h=a[f+4>>2]|0;if(h){if(h>>>0<(a[223]|0)>>>0)Se();else{a[g+20>>2]=h;a[h+24>>2]=g;d=l;p=u;break}}else{d=l;p=u}}else{d=l;p=u}}else{d=t;p=i}}while(0);if(d>>>0>=o>>>0)Se();i=o+4|0;t=a[i>>2]|0;if(!(t&1))Se();if(!(t&2)){if((o|0)==(a[225]|0)){g=(a[222]|0)+p|0;a[222]=g;a[225]=d;a[d+4>>2]=g|1;if((d|0)!=(a[224]|0))return;a[224]=0;a[221]=0;return}if((o|0)==(a[224]|0)){g=(a[221]|0)+p|0;a[221]=g;a[224]=d;a[d+4>>2]=g|1;a[d+g>>2]=g;return}g=(t&-8)+p|0;n=t>>>3;do{if(t>>>0>=256){w=a[o+24>>2]|0;k=a[o+12>>2]|0;do{if((k|0)==(o|0)){v=o+16|0;b=v+4|0;y=a[b>>2]|0;if(!y){e=a[v>>2]|0;if(!e){S=0;break}else{I=e;E=v}}else{I=y;E=b}while(1){b=I+20|0;y=a[b>>2]|0;if(y){I=y;E=b;continue}b=I+16|0;y=a[b>>2]|0;if(!y){A=I;x=E;break}else{I=y;E=b}}if(x>>>0<(a[223]|0)>>>0)Se();else{a[x>>2]=0;S=A;break}}else{b=a[o+8>>2]|0;if(b>>>0<(a[223]|0)>>>0)Se();y=b+12|0;if((a[y>>2]|0)!=(o|0))Se();v=k+8|0;if((a[v>>2]|0)==(o|0)){a[y>>2]=k;a[v>>2]=b;S=k;break}else Se()}}while(0);if(w){k=a[o+28>>2]|0;u=1180+(k<<2)|0;if((o|0)==(a[u>>2]|0)){a[u>>2]=S;if(!S){a[220]=a[220]&~(1<<k);break}}else{if(w>>>0<(a[223]|0)>>>0)Se();k=w+16|0;if((a[k>>2]|0)==(o|0))a[k>>2]=S;else a[w+20>>2]=S;if(!S)break}k=a[223]|0;if(S>>>0<k>>>0)Se();a[S+24>>2]=w;u=o+16|0;l=a[u>>2]|0;do{if(l)if(l>>>0<k>>>0)Se();else{a[S+16>>2]=l;a[l+24>>2]=S;break}}while(0);l=a[u+4>>2]|0;if(l)if(l>>>0<(a[223]|0)>>>0)Se();else{a[S+20>>2]=l;a[l+24>>2]=S;break}}}else{l=a[o+8>>2]|0;k=a[o+12>>2]|0;w=916+(n<<1<<2)|0;if((l|0)!=(w|0)){if(l>>>0<(a[223]|0)>>>0)Se();if((a[l+12>>2]|0)!=(o|0))Se()}if((k|0)==(l|0)){a[219]=a[219]&~(1<<n);break}if((k|0)!=(w|0)){if(k>>>0<(a[223]|0)>>>0)Se();w=k+8|0;if((a[w>>2]|0)==(o|0))C=w;else Se()}else C=k+8|0;a[l+12>>2]=k;a[C>>2]=l}}while(0);a[d+4>>2]=g|1;a[d+g>>2]=g;if((d|0)==(a[224]|0)){a[221]=g;return}else T=g
}else{a[i>>2]=t&-2;a[d+4>>2]=p|1;a[d+p>>2]=p;T=p}p=T>>>3;if(T>>>0<256){t=916+(p<<1<<2)|0;i=a[219]|0;g=1<<p;if(i&g){p=t+8|0;C=a[p>>2]|0;if(C>>>0<(a[223]|0)>>>0)Se();else{P=p;O=C}}else{a[219]=i|g;P=t+8|0;O=t}a[P>>2]=d;a[O+12>>2]=d;a[d+8>>2]=O;a[d+12>>2]=t;return}t=T>>>8;if(t){if(T>>>0>16777215)N=31;else{O=(t+1048320|0)>>>16&8;P=t<<O;t=(P+520192|0)>>>16&4;g=P<<t;P=(g+245760|0)>>>16&2;i=14-(t|O|P)+(g<<P>>>15)|0;N=T>>>(i+7|0)&1|i<<1}}else N=0;i=1180+(N<<2)|0;a[d+28>>2]=N;a[d+20>>2]=0;a[d+16>>2]=0;P=a[220]|0;g=1<<N;do{if(P&g){O=T<<((N|0)==31?0:25-(N>>>1)|0);t=a[i>>2]|0;while(1){if((a[t+4>>2]&-8|0)==(T|0)){M=t;R=130;break}C=t+16+(O>>>31<<2)|0;p=a[C>>2]|0;if(!p){D=C;F=t;R=127;break}else{O=O<<1;t=p}}if((R|0)==127){if(D>>>0<(a[223]|0)>>>0)Se();else{a[D>>2]=d;a[d+24>>2]=F;a[d+12>>2]=d;a[d+8>>2]=d;break}}else if((R|0)==130){t=M+8|0;O=a[t>>2]|0;u=a[223]|0;if(O>>>0>=u>>>0&M>>>0>=u>>>0){a[O+12>>2]=d;a[t>>2]=d;a[d+8>>2]=O;a[d+12>>2]=M;a[d+24>>2]=0;break}else Se()}}else{a[220]=P|g;a[i>>2]=d;a[d+24>>2]=i;a[d+12>>2]=d;a[d+8>>2]=d}}while(0);d=(a[227]|0)+-1|0;a[227]=d;if(!d)B=1332;else return;while(1){d=a[B>>2]|0;if(!d)break;else B=d+8|0}a[227]=-1;return}function Ui(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0;if(!e){n=ji(t)|0;return n|0}if(t>>>0>4294967231){a[(Ai()|0)>>2]=12;n=0;return n|0}r=Hi(e+-8|0,t>>>0<11?16:t+11&-8)|0;if(r){n=r+8|0;return n|0}r=ji(t)|0;if(!r){n=0;return n|0}i=a[e+-4>>2]|0;o=(i&-8)-((i&3|0)==0?8:4)|0;Qi(r|0,e|0,(o>>>0<t>>>0?o:t)|0)|0;Li(e);n=r;return n|0}function Hi(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0;n=e+4|0;r=a[n>>2]|0;i=r&-8;o=e+i|0;s=a[223]|0;l=r&3;if(!((l|0)!=1&e>>>0>=s>>>0&e>>>0<o>>>0))Se();u=a[o+4>>2]|0;if(!(u&1))Se();if(!l){if(t>>>0<256){c=0;return c|0}if(i>>>0>=(t+4|0)>>>0?(i-t|0)>>>0<=a[339]<<1>>>0:0){c=e;return c|0}c=0;return c|0}if(i>>>0>=t>>>0){l=i-t|0;if(l>>>0<=15){c=e;return c|0}f=e+t|0;a[n>>2]=r&1|t|2;a[f+4>>2]=l|3;d=f+l+4|0;a[d>>2]=a[d>>2]|1;Gi(f,l);c=e;return c|0}if((o|0)==(a[225]|0)){l=(a[222]|0)+i|0;if(l>>>0<=t>>>0){c=0;return c|0}f=l-t|0;l=e+t|0;a[n>>2]=r&1|t|2;a[l+4>>2]=f|1;a[225]=l;a[222]=f;c=e;return c|0}if((o|0)==(a[224]|0)){f=(a[221]|0)+i|0;if(f>>>0<t>>>0){c=0;return c|0}l=f-t|0;if(l>>>0>15){d=e+t|0;p=d+l|0;a[n>>2]=r&1|t|2;a[d+4>>2]=l|1;a[p>>2]=l;h=p+4|0;a[h>>2]=a[h>>2]&-2;y=d;m=l}else{a[n>>2]=r&1|f|2;l=e+f+4|0;a[l>>2]=a[l>>2]|1;y=0;m=0}a[221]=m;a[224]=y;c=e;return c|0}if(u&2){c=0;return c|0}y=(u&-8)+i|0;if(y>>>0<t>>>0){c=0;return c|0}i=y-t|0;m=u>>>3;do{if(u>>>0>=256){l=a[o+24>>2]|0;f=a[o+12>>2]|0;do{if((f|0)==(o|0)){d=o+16|0;h=d+4|0;p=a[h>>2]|0;if(!p){_=a[d>>2]|0;if(!_){g=0;break}else{b=_;v=d}}else{b=p;v=h}while(1){h=b+20|0;p=a[h>>2]|0;if(p){b=p;v=h;continue}h=b+16|0;p=a[h>>2]|0;if(!p){w=b;k=v;break}else{b=p;v=h}}if(k>>>0<s>>>0)Se();else{a[k>>2]=0;g=w;break}}else{h=a[o+8>>2]|0;if(h>>>0<s>>>0)Se();p=h+12|0;if((a[p>>2]|0)!=(o|0))Se();d=f+8|0;if((a[d>>2]|0)==(o|0)){a[p>>2]=f;a[d>>2]=h;g=f;break}else Se()}}while(0);if(l){f=a[o+28>>2]|0;h=1180+(f<<2)|0;if((o|0)==(a[h>>2]|0)){a[h>>2]=g;if(!g){a[220]=a[220]&~(1<<f);break}}else{if(l>>>0<(a[223]|0)>>>0)Se();f=l+16|0;if((a[f>>2]|0)==(o|0))a[f>>2]=g;else a[l+20>>2]=g;if(!g)break}f=a[223]|0;if(g>>>0<f>>>0)Se();a[g+24>>2]=l;h=o+16|0;d=a[h>>2]|0;do{if(d)if(d>>>0<f>>>0)Se();else{a[g+16>>2]=d;a[d+24>>2]=g;break}}while(0);d=a[h+4>>2]|0;if(d)if(d>>>0<(a[223]|0)>>>0)Se();else{a[g+20>>2]=d;a[d+24>>2]=g;break}}}else{d=a[o+8>>2]|0;f=a[o+12>>2]|0;l=916+(m<<1<<2)|0;if((d|0)!=(l|0)){if(d>>>0<s>>>0)Se();if((a[d+12>>2]|0)!=(o|0))Se()}if((f|0)==(d|0)){a[219]=a[219]&~(1<<m);break}if((f|0)!=(l|0)){if(f>>>0<s>>>0)Se();l=f+8|0;if((a[l>>2]|0)==(o|0))S=l;else Se()}else S=f+8|0;a[d+12>>2]=f;a[S>>2]=d}}while(0);if(i>>>0<16){a[n>>2]=y|r&1|2;S=e+y+4|0;a[S>>2]=a[S>>2]|1;c=e;return c|0}else{S=e+t|0;a[n>>2]=r&1|t|2;a[S+4>>2]=i|3;t=S+i+4|0;a[t>>2]=a[t>>2]|1;Gi(S,i);c=e;return c|0}return 0}function Gi(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,O=0,N=0,M=0,R=0,D=0;n=e+t|0;r=a[e+4>>2]|0;do{if(!(r&1)){i=a[e>>2]|0;if(!(r&3))return;o=e+(0-i)|0;s=i+t|0;l=a[223]|0;if(o>>>0<l>>>0)Se();if((o|0)==(a[224]|0)){u=n+4|0;c=a[u>>2]|0;if((c&3|0)!=3){f=o;d=s;break}a[221]=s;a[u>>2]=c&-2;a[o+4>>2]=s|1;a[o+s>>2]=s;return}c=i>>>3;if(i>>>0<256){i=a[o+8>>2]|0;u=a[o+12>>2]|0;p=916+(c<<1<<2)|0;if((i|0)!=(p|0)){if(i>>>0<l>>>0)Se();if((a[i+12>>2]|0)!=(o|0))Se()}if((u|0)==(i|0)){a[219]=a[219]&~(1<<c);f=o;d=s;break}if((u|0)!=(p|0)){if(u>>>0<l>>>0)Se();p=u+8|0;if((a[p>>2]|0)==(o|0))h=p;else Se()}else h=u+8|0;a[i+12>>2]=u;a[h>>2]=i;f=o;d=s;break}i=a[o+24>>2]|0;u=a[o+12>>2]|0;do{if((u|0)==(o|0)){p=o+16|0;c=p+4|0;y=a[c>>2]|0;if(!y){m=a[p>>2]|0;if(!m){_=0;break}else{g=m;b=p}}else{g=y;b=c}while(1){c=g+20|0;y=a[c>>2]|0;if(y){g=y;b=c;continue}c=g+16|0;y=a[c>>2]|0;if(!y){v=g;w=b;break}else{g=y;b=c}}if(w>>>0<l>>>0)Se();else{a[w>>2]=0;_=v;break}}else{c=a[o+8>>2]|0;if(c>>>0<l>>>0)Se();y=c+12|0;if((a[y>>2]|0)!=(o|0))Se();p=u+8|0;if((a[p>>2]|0)==(o|0)){a[y>>2]=u;a[p>>2]=c;_=u;break}else Se()}}while(0);if(i){u=a[o+28>>2]|0;l=1180+(u<<2)|0;if((o|0)==(a[l>>2]|0)){a[l>>2]=_;if(!_){a[220]=a[220]&~(1<<u);f=o;d=s;break}}else{if(i>>>0<(a[223]|0)>>>0)Se();u=i+16|0;if((a[u>>2]|0)==(o|0))a[u>>2]=_;else a[i+20>>2]=_;if(!_){f=o;d=s;break}}u=a[223]|0;if(_>>>0<u>>>0)Se();a[_+24>>2]=i;l=o+16|0;c=a[l>>2]|0;do{if(c)if(c>>>0<u>>>0)Se();else{a[_+16>>2]=c;a[c+24>>2]=_;break}}while(0);c=a[l+4>>2]|0;if(c){if(c>>>0<(a[223]|0)>>>0)Se();else{a[_+20>>2]=c;a[c+24>>2]=_;f=o;d=s;break}}else{f=o;d=s}}else{f=o;d=s}}else{f=e;d=t}}while(0);t=a[223]|0;if(n>>>0<t>>>0)Se();e=n+4|0;_=a[e>>2]|0;if(!(_&2)){if((n|0)==(a[225]|0)){v=(a[222]|0)+d|0;a[222]=v;a[225]=f;a[f+4>>2]=v|1;if((f|0)!=(a[224]|0))return;a[224]=0;a[221]=0;return}if((n|0)==(a[224]|0)){v=(a[221]|0)+d|0;a[221]=v;a[224]=f;a[f+4>>2]=v|1;a[f+v>>2]=v;return}v=(_&-8)+d|0;w=_>>>3;do{if(_>>>0>=256){b=a[n+24>>2]|0;g=a[n+12>>2]|0;do{if((g|0)==(n|0)){h=n+16|0;r=h+4|0;c=a[r>>2]|0;if(!c){u=a[h>>2]|0;if(!u){k=0;break}else{S=u;I=h}}else{S=c;I=r}while(1){r=S+20|0;c=a[r>>2]|0;if(c){S=c;I=r;continue}r=S+16|0;c=a[r>>2]|0;if(!c){E=S;A=I;break}else{S=c;I=r}}if(A>>>0<t>>>0)Se();else{a[A>>2]=0;k=E;break}}else{r=a[n+8>>2]|0;if(r>>>0<t>>>0)Se();c=r+12|0;if((a[c>>2]|0)!=(n|0))Se();h=g+8|0;if((a[h>>2]|0)==(n|0)){a[c>>2]=g;a[h>>2]=r;k=g;break}else Se()}}while(0);if(b){g=a[n+28>>2]|0;s=1180+(g<<2)|0;if((n|0)==(a[s>>2]|0)){a[s>>2]=k;if(!k){a[220]=a[220]&~(1<<g);break}}else{if(b>>>0<(a[223]|0)>>>0)Se();g=b+16|0;if((a[g>>2]|0)==(n|0))a[g>>2]=k;else a[b+20>>2]=k;if(!k)break}g=a[223]|0;if(k>>>0<g>>>0)Se();a[k+24>>2]=b;s=n+16|0;o=a[s>>2]|0;do{if(o)if(o>>>0<g>>>0)Se();else{a[k+16>>2]=o;a[o+24>>2]=k;break}}while(0);o=a[s+4>>2]|0;if(o)if(o>>>0<(a[223]|0)>>>0)Se();else{a[k+20>>2]=o;a[o+24>>2]=k;break}}}else{o=a[n+8>>2]|0;g=a[n+12>>2]|0;b=916+(w<<1<<2)|0;if((o|0)!=(b|0)){if(o>>>0<t>>>0)Se();if((a[o+12>>2]|0)!=(n|0))Se()}if((g|0)==(o|0)){a[219]=a[219]&~(1<<w);break}if((g|0)!=(b|0)){if(g>>>0<t>>>0)Se();b=g+8|0;if((a[b>>2]|0)==(n|0))x=b;else Se()}else x=g+8|0;a[o+12>>2]=g;a[x>>2]=o}}while(0);a[f+4>>2]=v|1;a[f+v>>2]=v;if((f|0)==(a[224]|0)){a[221]=v;return}else C=v}else{a[e>>2]=_&-2;a[f+4>>2]=d|1;a[f+d>>2]=d;C=d}d=C>>>3;if(C>>>0<256){_=916+(d<<1<<2)|0;e=a[219]|0;v=1<<d;if(e&v){d=_+8|0;x=a[d>>2]|0;if(x>>>0<(a[223]|0)>>>0)Se();else{T=d;P=x}}else{a[219]=e|v;T=_+8|0;P=_}a[T>>2]=f;a[P+12>>2]=f;a[f+8>>2]=P;a[f+12>>2]=_;return}_=C>>>8;if(_){if(C>>>0>16777215)O=31;else{P=(_+1048320|0)>>>16&8;T=_<<P;_=(T+520192|0)>>>16&4;v=T<<_;T=(v+245760|0)>>>16&2;e=14-(_|P|T)+(v<<T>>>15)|0;O=C>>>(e+7|0)&1|e<<1}}else O=0;e=1180+(O<<2)|0;a[f+28>>2]=O;a[f+20>>2]=0;a[f+16>>2]=0;T=a[220]|0;v=1<<O;if(!(T&v)){a[220]=T|v;a[e>>2]=f;a[f+24>>2]=e;a[f+12>>2]=f;a[f+8>>2]=f;return}v=C<<((O|0)==31?0:25-(O>>>1)|0);O=a[e>>2]|0;while(1){if((a[O+4>>2]&-8|0)==(C|0)){N=O;M=127;break}e=O+16+(v>>>31<<2)|0;T=a[e>>2]|0;if(!T){R=e;D=O;M=124;break}else{v=v<<1;O=T}}if((M|0)==124){if(R>>>0<(a[223]|0)>>>0)Se();a[R>>2]=f;a[f+24>>2]=D;a[f+12>>2]=f;a[f+8>>2]=f;return
}else if((M|0)==127){M=N+8|0;D=a[M>>2]|0;R=a[223]|0;if(!(D>>>0>=R>>>0&N>>>0>=R>>>0))Se();a[D+12>>2]=f;a[M>>2]=f;a[f+8>>2]=D;a[f+12>>2]=N;a[f+24>>2]=0;return}}function zi(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0;if(n>>>0>4294967279)Ir(e);if(n>>>0<11){r[e>>0]=n<<1;i=e+1|0}else{o=n+16&-16;s=Rn(o)|0;a[e+8>>2]=s;a[e>>2]=o|1;a[e+4>>2]=n;i=s}Qi(i|0,t|0,n|0)|0;r[i+n>>0]=0;return}function Vi(e){e=e|0;if(r[e>>0]&1)Dn(a[e+8>>2]|0);return}function Ki(){}function Wi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=t-r>>>0;i=t-r-(n>>>0>e>>>0|0)>>>0;return(O=i,e-n>>>0|0)|0}function qi(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,s=0,l=0;i=e+n|0;if((n|0)>=20){t=t&255;o=e&3;s=t|t<<8|t<<16|t<<24;l=i&~3;if(o){o=e+4-o|0;while((e|0)<(o|0)){r[e>>0]=t;e=e+1|0}}while((e|0)<(l|0)){a[e>>2]=s;e=e+4|0}}while((e|0)<(i|0)){r[e>>0]=t;e=e+1|0}return e-n|0}function Xi(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){O=t<<n|(e&(1<<n)-1<<32-n)>>>32-n;return e<<n}O=e<<n-32;return 0}function Yi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=e+n>>>0;return(O=t+r+(i>>>0<e>>>0|0)>>>0,i|0)|0}function Ji(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){O=t>>>n;return e>>>n|(t&(1<<n)-1)<<32-n}O=0;return t>>>n-32|0}function Qi(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;if((n|0)>=4096)return je(e|0,t|0,n|0)|0;i=e|0;if((e&3)==(t&3)){while(e&3){if(!n)return i|0;r[e>>0]=r[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}while((n|0)>=4){a[e>>2]=a[t>>2];e=e+4|0;t=t+4|0;n=n-4|0}}while((n|0)>0){r[e>>0]=r[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}return i|0}function Zi(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;if((t|0)<(e|0)&(e|0)<(t+n|0)){i=e;t=t+n|0;e=e+n|0;while((n|0)>0){e=e-1|0;t=t-1|0;n=n-1|0;r[e>>0]=r[t>>0]|0}e=i}else Qi(e,t,n)|0;return e|0}function $i(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){O=t>>n;return e>>>n|(t&(1<<n)-1)<<32-n}O=(t|0)<0?-1:0;return t>>n-32|0}function ea(e){e=e|0;var t=0;t=r[y+(e&255)>>0]|0;if((t|0)<8)return t|0;t=r[y+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=r[y+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(r[y+(e>>>24)>>0]|0)+24|0}function ta(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;n=e&65535;r=t&65535;i=te(r,n)|0;a=e>>>16;e=(i>>>16)+(te(r,a)|0)|0;r=t>>>16;t=te(r,n)|0;return(O=(e>>>16)+(te(r,a)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|i&65535|0)|0}function na(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,l=0;i=t>>31|((t|0)<0?-1:0)<<1;a=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;o=r>>31|((r|0)<0?-1:0)<<1;s=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;l=Wi(i^e,a^t,i,a)|0;t=O;e=o^i;i=s^a;return Wi((sa(l,t,Wi(o^n,s^r,o,s)|0,O,0)|0)^e,O^i,e,i)|0}function ra(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0,s=0,l=0,u=0,c=0,d=0;i=f;f=f+16|0;o=i|0;s=t>>31|((t|0)<0?-1:0)<<1;l=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;u=r>>31|((r|0)<0?-1:0)<<1;c=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;d=Wi(s^e,l^t,s,l)|0;t=O;sa(d,t,Wi(u^n,c^r,u,c)|0,O,o)|0;c=Wi(a[o>>2]^s,a[o+4>>2]^l,s,l)|0;l=O;f=i;return(O=l,c)|0}function ia(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=e;e=n;n=ta(i,e)|0;a=O;return(O=(te(t,e)|0)+(te(r,i)|0)+a|a&0,n|0|0)|0}function aa(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return sa(e,t,n,r,0)|0}function oa(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0;i=f;f=f+16|0;o=i|0;sa(e,t,n,r,o)|0;f=i;return(O=a[o+4>>2]|0,a[o>>2]|0)|0}function sa(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0,y=0,m=0,_=0,g=0,b=0,v=0,w=0,k=0,S=0,I=0,E=0,A=0,x=0,C=0,T=0,P=0,N=0,M=0;o=e;s=t;l=s;u=n;c=r;f=c;if(!l){d=(i|0)!=0;if(!f){if(d){a[i>>2]=(o>>>0)%(u>>>0);a[i+4>>2]=0}p=0;h=(o>>>0)/(u>>>0)>>>0;return(O=p,h)|0}else{if(!d){p=0;h=0;return(O=p,h)|0}a[i>>2]=e|0;a[i+4>>2]=t&0;p=0;h=0;return(O=p,h)|0}}d=(f|0)==0;do{if(u){if(!d){y=(re(f|0)|0)-(re(l|0)|0)|0;if(y>>>0<=31){m=y+1|0;_=31-y|0;g=y-31>>31;b=m;v=o>>>(m>>>0)&g|l<<_;w=l>>>(m>>>0)&g;k=0;S=o<<_;break}if(!i){p=0;h=0;return(O=p,h)|0}a[i>>2]=e|0;a[i+4>>2]=s|t&0;p=0;h=0;return(O=p,h)|0}_=u-1|0;if(_&u){g=(re(u|0)|0)+33-(re(l|0)|0)|0;m=64-g|0;y=32-g|0;I=y>>31;E=g-32|0;A=E>>31;b=g;v=y-1>>31&l>>>(E>>>0)|(l<<y|o>>>(g>>>0))&A;w=A&l>>>(g>>>0);k=o<<m&I;S=(l<<m|o>>>(E>>>0))&I|o<<y&g-33>>31;break}if(i){a[i>>2]=_&o;a[i+4>>2]=0}if((u|0)==1){p=s|t&0;h=e|0|0;return(O=p,h)|0}else{_=ea(u|0)|0;p=l>>>(_>>>0)|0;h=l<<32-_|o>>>(_>>>0)|0;return(O=p,h)|0}}else{if(d){if(i){a[i>>2]=(l>>>0)%(u>>>0);a[i+4>>2]=0}p=0;h=(l>>>0)/(u>>>0)>>>0;return(O=p,h)|0}if(!o){if(i){a[i>>2]=0;a[i+4>>2]=(l>>>0)%(f>>>0)}p=0;h=(l>>>0)/(f>>>0)>>>0;return(O=p,h)|0}_=f-1|0;if(!(_&f)){if(i){a[i>>2]=e|0;a[i+4>>2]=_&l|t&0}p=0;h=l>>>((ea(f|0)|0)>>>0);return(O=p,h)|0}_=(re(f|0)|0)-(re(l|0)|0)|0;if(_>>>0<=30){g=_+1|0;y=31-_|0;b=g;v=l<<y|o>>>(g>>>0);w=l>>>(g>>>0);k=0;S=o<<y;break}if(!i){p=0;h=0;return(O=p,h)|0}a[i>>2]=e|0;a[i+4>>2]=s|t&0;p=0;h=0;return(O=p,h)|0}}while(0);if(!b){x=S;C=k;T=w;P=v;N=0;M=0}else{t=n|0|0;n=c|r&0;r=Yi(t|0,n|0,-1,-1)|0;c=O;s=S;S=k;k=w;w=v;v=b;b=0;do{e=s;s=S>>>31|s<<1;S=b|S<<1;o=w<<1|e>>>31|0;e=w>>>31|k<<1|0;Wi(r,c,o,e)|0;l=O;f=l>>31|((l|0)<0?-1:0)<<1;b=f&1;w=Wi(o,e,f&t,(((l|0)<0?-1:0)>>31|((l|0)<0?-1:0)<<1)&n)|0;k=O;v=v-1|0}while((v|0)!=0);x=s;C=S;T=k;P=w;N=0;M=b}b=C;C=0;if(i){a[i>>2]=P;a[i+4>>2]=T}p=(b|0)>>>31|(x|C)<<1|(C<<1|b>>>31)&0|N;h=(b<<1|0>>>31)&-2|M;return(O=p,h)|0}function la(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return Ca[e&7](t|0,n|0,r|0)|0}function ua(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;Ta[e&3](t|0,n|0,r|0,i|0,a|0)}function ca(e,t){e=e|0;t=t|0;Pa[e&15](t|0)}function fa(e,t,n){e=e|0;t=t|0;n=n|0;Oa[e&3](t|0,n|0)}function da(e,t){e=e|0;t=t|0;return Na[e&3](t|0)|0}function pa(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;Ma[e&1](t|0,n|0,r|0)}function ha(e){e=e|0;Ra[e&0]()}function ya(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;Da[e&3](t|0,n|0,r|0,i|0,a|0,o|0)}function ma(e,t,n){e=e|0;t=t|0;n=n|0;return Fa[e&1](t|0,n|0)|0}function _a(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;Ba[e&3](t|0,n|0,r|0,i|0)}function ga(e,t,n){e=e|0;t=t|0;n=n|0;ie(0);return 0}function ba(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;ie(1)}function va(e){e=e|0;ie(2)}function wa(e,t){e=e|0;t=t|0;ie(3)}function ka(e){e=e|0;ie(4);return 0}function Sa(e,t,n){e=e|0;t=t|0;n=n|0;ie(5)}function Ia(){ie(6)}function Ea(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;ie(7)}function Aa(e,t){e=e|0;t=t|0;ie(8);return 0}function xa(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;ie(9)}var Ca=[ga,Yn,Jn,Bi,Si,hi,Cn,gi];var Ta=[ba,lr,sr,ir];var Pa=[va,Fn,Bn,Gn,Kn,zn,Vn,Wn,qn,Xn,Oi,va,va,va,va,va];var Oa=[wa,In,En,wa];var Na=[ka,jn,mi,ka];var Ma=[Sa,An];var Ra=[Ia];var Da=[Ea,fr,cr,ur];var Fa=[Aa,xn];var Ba=[xa,Zn,$n,tr];return{_malloc:ji,_i64Subtract:Wi,_fflush:Ei,_i64Add:Yi,_memmove:Zi,_memset:qi,___cxa_demangle:Mn,_memcpy:Qi,___getTypeName:Pn,_bitshift64Lshr:Ji,_free:Li,___errno_location:Ai,_bitshift64Shl:Xi,__GLOBAL__sub_I_bind_cc:Tn,__GLOBAL__sub_I_bind_cpp:Nn,runPostSets:Ki,stackAlloc:rn,stackSave:an,stackRestore:on,establishStackSpace:sn,setThrew:ln,setTempRet0:fn,getTempRet0:dn,dynCall_iiii:la,dynCall_viiiii:ua,dynCall_vi:ca,dynCall_vii:fa,dynCall_ii:da,dynCall_viii:pa,dynCall_v:ha,dynCall_viiiiii:ya,dynCall_iii:ma,dynCall_viiii:_a}
}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),___cxa_demangle=Module.___cxa_demangle=asm.___cxa_demangle,_i64Subtract=Module._i64Subtract=asm._i64Subtract,__GLOBAL__sub_I_bind_cpp=Module.__GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp,_fflush=Module._fflush=asm._fflush,runPostSets=Module.runPostSets=asm.runPostSets,_i64Add=Module._i64Add=asm._i64Add,_memmove=Module._memmove=asm._memmove,_memset=Module._memset=asm._memset,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,___getTypeName=Module.___getTypeName=asm.___getTypeName,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_free=Module._free=asm._free,__GLOBAL__sub_I_bind_cc=Module.__GLOBAL__sub_I_bind_cc=asm.__GLOBAL__sub_I_bind_cc,___errno_location=Module.___errno_location=asm.___errno_location,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){function t(){for(var e=0;e<3;e++)r.push(0)}assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var n=e.length+1,r=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];t();for(var i=0;i<n-1;i+=1)r.push(allocate(intArrayFromString(e[i]),"i8",ALLOC_NORMAL)),t();r.push(0),r=allocate(r,"i32",ALLOC_NORMAL);try{exit(Module._main(n,r,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run(),exports.default=Module}).call(exports,__webpack_require__(43),"/",__webpack_require__(16).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.processResumeResponse=t.processDecksResponse=t.processFinishResponse=t.processSkillBoardResponse=t.processProduceTopResponse=t.processEndWeekResponse=t.processActResponse=t.processNextResponse=t.processReadyResponse=void 0;var a=n(1),o=r(a),s=n(69),l=r(s),u=n(162),c=r(u),f=n(131),d=r(f),p=n(404),h=r(p),y=n(1002),m=r(y),_=n(171),g=r(_),b=n(1003),v=r(b),w=n(76),k=r(w),S=n(113),I=r(S),E=n(173),A=r(E),x=n(70),C=r(x),T=n(1004),P=r(T),O=n(20),N=r(O),M=n(130),R=n(132),D=r(R),F=n(130),B=function(e){return{eventCategory:c.default.supportSkill,id:e.eventId,supportSkill:e}},j=function(e){return e.evolutionStage?P.default.evolution:e.lockSize>1?P.default.gold:P.default.normal},L=(t.processReadyResponse=function(e){var t=e.body,n=t.consumeStamina,r=t.userStamen;aoba.utils.setPrototypeOf(r,A.default);var i=t.userDecks;return i.forEach(function(e){aoba.utils.setPrototypeOf(e,v.default),e.userIdol&&aoba.utils.setPrototypeOf(e.userIdol,k.default),e.userSupportIdols.forEach(function(e){e&&(aoba.utils.setPrototypeOf(e,I.default),e.supportSkills.forEach(function(e){aoba.utils.setPrototypeOf(e,g.default.create(e.effectType))}))});for(var t=e.userSupportIdols.length;t<o.default.app.SUPPORT_IDOL_NUM;++t)e.userSupportIdols.push(null)}),Promise.resolve({consumeStamina:n,userStamina:r,decks:i})},t.processNextResponse=function(e){var t=e.body,n=t.produceCommunication,r=t.produceCommunicationPromise,i=t.produceEvents,a=t.userProduceIdol,o=t.userProduceSupportIdols,s=t.producePlaces,l=t.produceAuditions,u=t.supportSkills;aoba.utils.setPrototypeOf(a,d.default),o.forEach(function(e){aoba.utils.setPrototypeOf(e,h.default)}),s.forEach(function(e){aoba.utils.setPrototypeOf(e,m.default)}),l.forEach(function(e){e.isSpecial="F"!==e.requiredIdolRank,e.bannerImagepath=N.default.createImagePath("produce_auditions","banner",e.id)}),u.forEach(function(e){aoba.utils.setPrototypeOf(e,g.default.create(e.effectType))}),i.forEach(function(e){e.eventCategory=c.default.event}),n&&(n.eventCategory=c.default.communication);var f={AGREE:"agree",DISAGREE:"disagree"};if(r&&(r.eventCategory=c.default.communicationPromise,r.answers=Object.values(f).map(function(e){return{id:e}})),r){var p=u.find(function(e){return e.isPromiseRejectRecover()});p&&(r.resultEvent=B(p),r.resultEventCondition=f.DISAGREE)}return t.isConcertWeek=!!t.isConcertWeek,t.produceIdol=a,t.supportIdols=o,t.places=s,t.statusRanks=a.userIdol.idol.idolParameterRanks,Promise.resolve(t)}),U=(t.processActResponse=function(e){var t=e.body;t.lessonResult.produceActSupportIdolComments=t.lessonResult.produceActSupportIdolComments||[];var n=t.produceEvents,r=t.produceCommunicationPromiseResult,i=t.supportSkills;if(i.forEach(function(e){aoba.utils.setPrototypeOf(e,g.default.create(e.effectType))}),n.forEach(function(e){e.answers=[{id:"1"},{id:"2"},{id:"3"}],e.eventCategory=c.default.event}),r){var a=c.default.communicationPromiseResult.getResult(r),o=i.find(function(e){return e.isPromiseRecover()});!a&&o?(r.eventCategory=c.default.communicationPromiseRecover,r.resultEvent=B(o)):r.eventCategory=c.default.communicationPromiseResult}return Promise.resolve(t)},t.processEndWeekResponse=function(e){var t=e.body;t.previousRank=t.previousRank||t.rank,t.produceStaffComments=t.produceStaffComments||[],t.produceStaffConcertComments=t.produceStaffConcertComments||[],t.produceStaffFailComments=t.produceStaffFailComments||[],t.produceStaffSeasonComments=t.produceStaffSeasonComments||[],t.produceSeasonEvents=t.produceSeasonEvents||[];var n=t.isGoToLastConcert,r=t.isLastConcertWeek,i=t.isEntryNextLastConcert,a=t.produceStaffSeasonComments;if(t.produceSeasonEvents.forEach(function(e){e.eventCategory=c.default.event}),a.length){var o=a[0];t.hasNextWeekSchedule=!(o&&"failure"===o.result)}else t.hasNextWeekSchedule=i||!n&&!r;return Promise.resolve(t)}),H=(t.processProduceTopResponse=function(e){var t=e.body,n=t.producePlaces;return n.forEach(function(e){aoba.utils.setPrototypeOf(e,m.default)}),t.places=n,Promise.resolve(t)},t.processSkillBoardResponse=function(e){var t=e.body,n=t.userProduceIdol,r=t.userProduceSupportIdols;delete n.characterId,aoba.utils.setPrototypeOf(n,d.default),n.activeSkills.forEach(C.default.setActiveSkillMixin),n.passiveSkills.forEach(C.default.setPassiveSkillMixin),r.forEach(function(e){aoba.utils.setPrototypeOf(e,h.default)});for(var a=[n].concat(i(r)),s=0;s<a.length;s++){var l=a[s];if(l.skillPanels){var u=!0,c=!1,f=void 0;try{for(var p,y=l.skillPanels[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var m=p.value;m.skillGrade=j(m);var _=o.default.app.SKILL_CATEGORIES;switch(m.skillCategory){case _.ACTIVE:C.default.setActiveSkillMixin(m.skill);break;case _.PASSIVE:C.default.setPassiveSkillMixin(m.skill);break
;case _.LIMIT_BREAK:C.default.setLimitBreakSkillMixin(m.skill)}}}catch(e){c=!0,f=e}finally{try{!u&&y.return&&y.return()}finally{if(c)throw f}}}}return Promise.resolve(t)},t.processFinishResponse=function(e){var t=e.body,n=t.userProduceIdol,r=t.userProduceSupportIdols;return aoba.utils.setPrototypeOf(n,d.default),aoba.utils.setPrototypeOf(n.userIdol,k.default),n.userProduceSkills&&n.userProduceSkills.forEach(function(e){e.skill&&C.default.setActiveSkillMixin(e.skill)}),r.forEach(function(e){aoba.utils.setPrototypeOf(e,h.default)}),n.activeSkills.forEach(function(e){C.default.setActiveSkillMixin(e),e.linkSkill&&e.linkSkill.linkSkillCharacters.forEach(function(e){e.iconPath=N.default.createImagePath("characters","link_skill_icon",e.characterId)})}),n.passiveSkills.forEach(function(e){C.default.setPassiveSkillMixin(e)}),t.produceConcertEvents=t.produceConcertEvents||[],Promise.resolve({produceIdol:n,supportIdols:r,memoryPoint:t.memoryPoint,totalMemoryPoint:t.idolTotalMemoryPoint,fan:t.fans,idolTotalFan:t.idolTotalFan,previousTotalFan:t.previousTotalFan,skillPointsFromMemoryPoint:t.skillPointsFromMemoryPoint,skillPointsFromFan:t.skillPointsFromFan,producerLevel:t.producerLevel,previousProducerLevel:t.previousProducerLevel,idolRank:t.idolRank,produceConcertEvents:t.produceConcertEvents,produceState:t.produceState})}),G=(t.processDecksResponse=function(e){var t=e.body;aoba.utils.setPrototypeOf(t,v.default);var n=t.getUserIdol();return aoba.utils.setPrototypeOf(n,k.default),t.getUserSupportIdols().forEach(function(e){aoba.utils.setPrototypeOf(e,I.default),e.supportSkills.forEach(function(e){aoba.utils.setPrototypeOf(e,g.default.create(e.effectType))})}),Promise.resolve(t)},function(e){var t=e.body,n=t.userProduceIdol,r=t.userProduceSupportIdols,i=n.userIdol.idol.idolParameterRanks;return aoba.utils.setPrototypeOf(n,d.default),r.forEach(function(e){aoba.utils.setPrototypeOf(e,h.default)}),t.produceIdol=n,t.supportIdols=r,t.statusRanks=i,e}),z=function(e){var t=e.body;return t.produceEvents.forEach(function(e){e.eventCategory=c.default.event}),Promise.resolve(t)};t.processResumeResponse=function(e){var t=l.default.PRODUCE_STATES;switch(e.body.produceState){case t.NOT_STARTED:return Promise.resolve(e.body);case t.MORNING:return L(e);case t.AFTER_ACTION:return e=G(e),z(e);case t.END_OF_WEEK:return e=G(e),U(e);case t.AUDITION_EVENT:return(0,M.processConcertReadyResponse)(e);case t.AFTER_AUDITION_EVENT:return Promise.resolve(e.body);case t.AUDITION:return(0,M.processConcertResumeResponse)(e).then(function(e){return D.default.get().then(function(t){return Object.assign(e,{nickname:t.nickname})})});case t.AUDITION_RESULT:return(0,F.processAuditionResultResponse)(e);case t.AFTER_CONCERT_EVENT:return Promise.resolve(e.body);case t.CONCERT:return(0,M.processConcertResumeResponse)(e).then(function(e){return D.default.get().then(function(t){return Object.assign(e,{nickname:t.nickname})})});case t.CONCERT_RESULT:return(0,M.processConcertResultResponse)(e);case t.END_OF_PRODUCE:return Promise.resolve(e.body);case t.ENDING:return H(e);case t.FES_IDOL_BIRTH:case t.FINISHED:return Promise.resolve(e.body);default:throw new Error("produceState "+e.body.produceState+" is invalid")}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._aeLayer=aoba.Container.new().addTo(e),e._bokeLayer=aoba.Container.new().addTo(e),e._bokeSprite=aoba.Sprite.new("commu_result_perfect_bg.png").setScale(2).addTo(e._bokeLayer),(0,s.default)({folderPath:"common/com_eff01_front_success"}).then(function(t){e._aeLayer.addChild(t),t.play()}),e}return a(t,e),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={ON:"on",OFF:"off"},l={FADE:"fade",MASK:"mask"},u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._buffer=aoba.Sprite.new(),e._main=aoba.Sprite.new().addTo(e),e._speed=1,e}return a(t,e),o(t,[{key:"control",value:function(e,t){var n=void 0;switch(e){case s.ON:this.show();break;case s.OFF:this.hide();break;default:this.show(),n=aoba.Texture.fromImage(e)}switch(t){case l.FADE:return this._switchFadeIn(n);case l.MASK:return this._switchMask(n);default:return this._switchNormal(n)}}},{key:"_switchNormal",value:function(e){return this._main.texture=e,Promise.resolve()}},{key:"_switchFadeIn",value:function(e){var t=this;return this._buffer.texture=e,this._buffer.addTo(this),this._buffer.alpha=0,new Promise(function(e){aoba.Tween.new(t._buffer).to({alpha:1},1600/t._speed).call(function(){t._main.texture=t._buffer.texture,t._buffer.remove(),e()})})}},{key:"_switchMask",value:function(e){var t=this;return this._buffer.texture=e,this._buffer.addTo(this),this._buffer.mask=aoba.Graphics.new().beginFill(0).drawRect(0,0,e.width,e.height).addTo(this,-e.width,0),new Promise(function(e){aoba.Tween.new(t._buffer.mask).to({x:0},1600/t._speed).call(function(){t._main.texture=t._buffer.texture,t._buffer.remove(),t._buffer.mask.remove(),e()})})}},{key:"speed",set:function(e){this._speed=e}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(364),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._repository={},e}return a(t,e),o(t,[{key:"control",value:function(e){return this._findOrCreateCharacter(e.asset,e.label).control(e)}},{key:"stopLipAnimations",value:function(){var e=!0,t=!1,n=void 0;try{
for(var r,i=Object.values(this._repository)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.stopLipAnimation()}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"endEffects",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Object.values(this._repository)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.endEffect()}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"_findOrCreateCharacter",value:function(e,t){if(e){var n=l.default.new(e).addTo(this);return t&&this._register(n,t),n}return this._findCharacter(t)}},{key:"_findCharacter",value:function(e){var t=this._repository[e];if(void 0===t)throw new Error("character label "+e+" is not registered.");return t}},{key:"_register",value:function(e,t){this._repository[t]=e}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(365),u=r(l),c=n(230),f=r(c),d=n(366),p=r(d),h={ANIM1:0,ANIM2:1,ANIM3:2,LIP_ANIM:3,LIP_ANIM2:4},y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._spine=aoba.spine.Spine.new(e).addTo(n),n._lipAnim=null,n._schedule=new f.default,n}return o(t,e),s(t,[{key:"update",value:function(e){this._schedule.update(e)}},{key:"control",value:function(e){this._schedule.removeEvents();var t=e.position,n=e.scale,r=e.anim1,i=e.anim2,a=e.anim3,o=e.lipAnim,s=e.lipAnimDuration,l=e.anim1Loop,u=void 0===l||l,c=e.anim2Loop,f=void 0===c||c,d=e.anim3Loop,y=void 0===d||d,m=e.lipMarks,_=e.effect,g=e.effectSpeed;if(t&&this._spine.setPosition(t.x,t.y),n&&this._spine.scale.set(n),r&&this._setCharacterAnimation(h.ANIM1,r,u),i)this._setCharacterAnimation(h.ANIM2,i,f).alpha=.99;if(a)this._setCharacterAnimation(h.ANIM3,a,y).alpha=.99;if(o){var b=this._setCharacterAnimation(h.LIP_ANIM,o,!0);b.alpha=.99,s&&this._schedule.register(function(){b.time=0,b.timeScale=0},1e3*s),this._lipTrack=b}m&&this._lipAnim&&this._playLipAnimation(h.LIP_ANIM2,this._lipAnim,m);var v=void 0;return _&&(v=p.default.playEffect(this._spine,_,g)),v||Promise.resolve()}},{key:"stopLipAnimation",value:function(){this._lipTrack&&(this._lipTrack.time=0,this._lipTrack.timeScale=0)}},{key:"endEffect",value:function(){}},{key:"_playLipAnimation",value:function(e,t,n){var r=this._spine.setAnimation(e,t,!1),i=new u.default(r,n);i.play(),this._lipAnimationPlayers.push(i),i.on("end",this._removeLipAnimationPlayer,this)}},{key:"_removeLipAnimationPlayer",value:function(e){this._lipAnimationPlayers.splice(this._lipAnimationPlayers.indexOf(e),1)}},{key:"_setCharacterAnimation",value:function(e,t,n){var r=this,i=void 0,a=void 0,o=this._getAnimation(t),s=o.timelines.find(function(e){return e.events}),l=null;s&&s.events.forEach(function(e){switch(e.data.name){case"loop_start":l=e.time;break;case"lip":r._lipAnim=e.stringValue}}),l&&(n=!1);var u=this._spine.state.getCurrent(e),c=u?u.animation.name:null;if(c){var f=this._getAnimation(c).timelines.find(function(e){return e.events});if(f){var d=f.events.find(function(e){return"relay"===e.data.name});d&&(a=d.stringValue)}}a?(c&&this._spine.stateData.setMix(c,a,.3),this._spine.stateData.setMix(a,t,.3),this._spine.setAnimation(e,a,!1),i=this._spine.addAnimation(e,t,n)):(c&&this._spine.stateData.setMix(c,t,.3),i=this._spine.setAnimation(e,t,n));var p={complete:function(){if(l){var n=r._spine.setAnimation(e,t);n.listener=p,n.time=l}}};return i.listener=p,i}},{key:"_getAnimation",value:function(e){var t=this._spine.spineData.animations.find(function(t){return t.name===e});if(!t)throw new Error("Animation "+e+" is not found.");return t}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a._trackEntry=e,a._totalTime=e.animation.duration,a._lipMarks=n,a._time=0,a._currentIndex=-1,a}return a(t,e),o(t,[{key:"play",value:function(){this._trackEntry.timeScale=0}},{key:"update",value:function(e){var t=this;this._time+=e;var n=this._lipMarks.filter(function(e){return t._time>=e[0]}).length-1;if(this._currentIndex!==n){this._currentIndex=n;var r=this._lipMarks[n];this._trackEntry.trackTime=this._totalTime*(r[1]/100),n>=this._lipMarks.length-1&&this._end()}}},{key:"_end",value:function(){this.update=function(){},this.emit("end",this)}}]),t}(aoba.utils.EventEmitter);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={playEffect:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.type,i=t.x,a=t.y,o=t.scale,s=t.alpha,l=t.time,u=t.easing,c={};void 0!==i&&(c.x=e.x+i),void 0!==a&&(c.y=e.y+a),void 0!==o&&(c.scaleX=o,c.scaleY=o),void 0!==s&&(c.alpha=s);var f=aoba.Tween.new(e),d=f[r].bind(f);if(!d)throw Error("Invalid tween type "+r);return d(c,l/n,u),new Promise(function(e){return f.call(e)})}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(366),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={rect:function(e){return aoba.Graphics.new().beginFill(parseInt(e.color,16)).drawRect(0,0,e.width,e.height)},circle:function(e){return aoba.Graphics.new().beginFill(parseInt(e.color,16)).drawCircle(0,0,e.radius)},image:function(e){return aoba.Sprite.new(e)}},c=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._repo={},e}
return a(t,e),o(t,[{key:"control",value:function(e,t,n,r){return l.default.playEffect(this._getTargetObject(e,t),n,r)}},{key:"_getTargetObject",value:function(e,t){if(this._repo[e])return this._repo[e];var n=u[t.type](t).addTo(this,null,null,{alpha:t.alpha});return e&&(this._repo[e]=n),n}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={NORMAL:{text:"\u901a\u5e38",params:{mode:1,speed:100,waitTime:200}},AUTO:{text:"\u30aa\u30fc\u30c8",params:{mode:2,speed:100,waitTime:200}},FAST:{text:"\u65e9\u9001\u308a",params:{mode:2,speed:4,waitTime:60}}},l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.keys(s).forEach(function(t,n){var r=aoba.Graphics.new().beginFill(6710886).drawRoundedRect(0,0,96,40,20).addTo(e,1020-120*n,30,{interactive:!0}).on("tap",function(){e.dispatchParams(s[t].params)});aoba.Text.new(s[t].text,{fill:16777215,fontSize:20}).addTo(r,8,8)}),e}return a(t,e),o(t,[{key:"init",value:function(){this.dispatchParams(s.NORMAL.params)}},{key:"dispatchParams",value:function(e){this.emit("control",e)}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"control",value:function(e,t){var n=aoba.Video.new(e).play().addTo(this);return new Promise(function(e){n.on("end",function(){n.destroy(),e()})})}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(371),u=r(l),c=n(230),f=r(c),d=aoba,p=d.Container,h=d.Sprite,y=d.Text,m=d.Texture,_=function(e){e.clear()},g=function(e){e.addLineBreak()},b={n:{lock:!1,beforePlay:function(){}},r:{lock:!1,beforePlay:g},l:{lock:!0,beforePlay:g},cm:{lock:!1,beforePlay:_},p:{lock:!0,beforePlay:_}},v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._playing=!1,n._textControl=null,n._frame=h.new().addTo(n),n._contentText=n._createContentText(e.content),n._speakerText=n._createSpeakerText(e.speaker),n._textPlayer=new u.default({text:n._contentText}),n._isAuto=!1,n._schedule=new f.default,n._textPlayer.on("end",n.onEndText,n),n}return o(t,e),s(t,[{key:"update",value:function(e){this._schedule.update(e),this._textPlayer&&this._textPlayer.update(e)}},{key:"play",value:function(e,t){var n=this;this._playing=!0,t?this._schedule.register(function(){return n._textPlayer.play(e,!1)},t):this._textPlayer.play(e,!1),this.emit("play")}},{key:"setTextControl",value:function(e){if(!Object.keys(b).includes(e))throw new Error("Invalid textCtrl "+e);this._textControl=b[e]}},{key:"applyTextControl",value:function(){this._textControl&&(this._textControl.beforePlay(this._textPlayer),this._textControl=null)}},{key:"endText",value:function(){this._textPlayer.showAll()}},{key:"onEndText",value:function(){this._playing=!1,this.emit("endText",{lock:this._textControl.lock})}},{key:"controlFrame",value:function(e){switch(e){case"on":this.show();break;case"off":this.hide();break;default:this.show(),this._switchFrame(e)}}},{key:"controlSpeaker",value:function(e){switch(e){case"on":this._speakerText.show();break;case"off":this._speakerText.hide();break;default:this._speakerText.show(),this._setSpeakerText(e)}}},{key:"_setSpeakerText",value:function(e){this._speakerText.text=e}},{key:"_switchFrame",value:function(e){this._frame.texture=m.fromImage(e)}},{key:"_createContentText",value:function(e){return y.new("",e.textStyle).addTo(this,e.x,e.y)}},{key:"_createSpeakerText",value:function(e){return y.new("",e.textStyle).addTo(this,e.x,e.y)}},{key:"playing",get:function(){return this._playing}},{key:"speed",set:function(e){return this._textPlayer.speed=e}},{key:"isAuto",get:function(){return this._isAuto},set:function(e){this._isAuto=e}}]),t}(p);t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={speed:33},l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._text=e.text,n._content="",n._index=0,n._playing=!1,n._elapsedTime=0,n._speed=e.speed||s.speed,n}return a(t,e),o(t,[{key:"update",value:function(e){this._playing&&(this._elapsedTime+=e,this._index=Math.floor(this._elapsedTime/100*this._speed),this._forwardContent())}},{key:"play",value:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.clear(),this._content+=e,this._forwardContent(),this._playing=!0}
},{key:"clear",value:function(){this._text.text="",this._content="",this._index=0,this._elapsedTime=0}},{key:"addLineBreak",value:function(){this._content+="\n"}},{key:"showAll",value:function(){this._text.text=this._content,this._end()}},{key:"_forwardContent",value:function(){this._content&&(this._text.text=this._content.slice(0,this._index+1),this._index>=this._content.length-1&&this._end())}},{key:"_end",value:function(){this._playing=!1,this.emit("end")}},{key:"speed",set:function(e){this._speed=e}}]),t}(aoba.utils.EventEmitter);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(373),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._active=!1,n._layoutConfig=e.layout,n._itemConfig=e.item,n._itemsContainer=aoba.Container.new().addTo(n),n._SelectItem=l.default,n}return a(t,e),o(t,[{key:"addItem",value:function(e,t){var n=this._itemConfig.image;this._SelectItem.new(n,e,t,this._itemConfig).addTo(this._itemsContainer).once("select",this.onSelectItem,this)}},{key:"appear",value:function(){this._adjustLayout(),this._active=!0,this.emit("appear")}},{key:"onSelectItem",value:function(e){this.disappear(),this.emit("select",e.nextLabel)}},{key:"disappear",value:function(){this._itemsContainer.removeChildren(),this.hide(),this._active=!1}},{key:"_adjustLayout",value:function(){this._layoutConfig.type.adjustLayout(this._layoutConfig,this._itemsContainer.children)}},{key:"active",get:function(){return this._active}},{key:"items",get:function(){return this._itemsContainer.children}},{key:"SelectItem",set:function(e){this._SelectItem=e}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n,a,o){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.setProps(o.options),s.addText(n,o),s.interactive=!0,s.addEvent(a),s}return a(t,e),o(t,[{key:"addText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};aoba.Text.new(e,t.textStyle||{}).addTo(this,t.x,t.y,t.options)}},{key:"addEvent",value:function(e){var t=this;this.once("tap",function(){t.emit("select",{target:t,nextLabel:e})})}}]),t}(aoba.Sprite);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={BGM:"bgm",SE:"se",VOICE:"voice"},o=function(){function e(){r(this,e),this._sounds={bgm:null,se:null,voice:null}}return i(e,[{key:"control",value:function(e,t){var n=this._sounds[e];switch(t){case"pause":if(n)return n.pause();break;case"resume":if(n)return n.resume();break;case"off":if(n)return n.stop();break;default:return this.switch(e,t)}}},{key:"switch",value:function(e,t){var n=this._sounds[e];return n&&n.stop(),n=aoba.soundManager.play(t,{group:e}).on("ended",function(){n=null}),this._sounds[e]=n,n}},{key:"removeSeAndVoice",value:function(){var e=this;[a.SE,a.VOICE].forEach(function(t){var n=e._sounds[t];n&&(aoba.soundManager.remove(n,t),e._sounds[t]=null)})}},{key:"removeAll",value:function(){var e=this;Object.keys(this._sounds).forEach(function(t){var n=e._sounds[t];n&&(aoba.soundManager.remove(n,t),e._sounds[t]=null)})}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this._tracks=t,this._current=0,this._nextLabel=null}return i(e,[{key:"forward",value:function(){return this._nextLabel?this._jumpTo(this._nextLabel):this._current++,this.currentTrack}},{key:"_jumpTo",value:function(e){for(var t=this._tracks.length,n=0;n<t;n++)if(this._tracks[n].label===e)return this._current=n,void(this._nextLabel=null);throw new Error("label "+e+" is not found.")}},{key:"currentTrack",get:function(){return this._tracks[this._current]}},{key:"nextTrack",get:function(){return this._tracks[this._current+1]}},{key:"nextLabel",set:function(e){this._nextLabel=e}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={totalLoginBonus:"sounds/se/337.m4a"}},function(e,t,n){var r=n(232);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(847),i=n(849),a="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=Object.prototype.toString,s=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)},l=Object.defineProperty&&function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,n,r){(!(t in e)||s(r)&&r())&&(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);a&&(o=o.concat(Object.getOwnPropertySymbols(t))),i(o,function(r){u(e,r,t[r],n[r])})};c.supportsDescriptors=!!l,e.exports=c},function(e,t,n){"use strict";var r=n(232),i=n(850),a=r.call(Function.call,String.prototype.replace),o=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=i.ToString(i.CheckObjectCoercible(this));return a(a(e,o,""),s,"")}},function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class /,a=function(e){try{var t=r.call(e),n=t.replace(/\/\/.*\n/g,""),a=n.replace(/\/\*[.\s\S]*\*\//g,""),o=a.replace(/\n/gm," ").replace(/ {2}/g," ");return i.test(o)}catch(e){return!1}
},o=function(e){try{return!a(e)&&(r.call(e),!0)}catch(e){return!1}},s=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(l)return o(e);if(a(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";var r=n(379),i="\u200b";e.exports=function(){return String.prototype.trim&&i.trim()===i?String.prototype.trim:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(129),a=r(i),o=n(1),s=r(o),l=n(31),u=r(l),c=n(214),f=r(c);t.default={load:function(e){var t=u.default.join("/assets",s.default.asset.SCENARIO_PATH,e),n=u.default.basename(t,u.default.extname(t));return t=u.default.join("/assets",f.default.encryptPath(t,n)),(0,a.default)("get",t).type("application/json").timeout(5e3).catch(this._handleError).then(function(e){var t=e.body;return t=JSON.parse(decodeURIComponent(escape(f.default.decryptText(e.text)))),Promise.resolve(t)})},_handleError:function(e){e&&(e.timeout||401===e.status||e.status)}}},function(e,t,n){var r=n(10);e.exports=function(e){return/^\s*$/.test(r(e))}},function(e,t,n){var r=n(10);e.exports=function(e){return e=r(e),e.charAt(0).toLowerCase()+e.slice(1)}},function(e,t,n){var r=n(10);e.exports=function(e){return r(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},function(e,t,n){var r=n(10),i="\u0105\xe0\xe1\xe4\xe2\xe3\xe5\xe6\u0103\u0107\u010d\u0109\u0119\xe8\xe9\xeb\xea\u011d\u0125\xec\xed\xef\xee\u0135\u0142\u013e\u0144\u0148\xf2\xf3\xf6\u0151\xf4\xf5\xf0\xf8\u015b\u0219\u015f\u0161\u015d\u0165\u021b\u0163\u016d\xf9\xfa\xfc\u0171\xfb\xf1\xff\xfd\xe7\u017c\u017a\u017e",a="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";i+=i.toUpperCase(),a+=a.toUpperCase(),a=a.split(""),i+="\xdf",a.push("ss"),e.exports=function(e){return r(e).replace(/.{1}/g,function(e){var t=i.indexOf(e);return-1===t?e:a[t]})}},function(e,t,n){var r=n(235);e.exports=function(e,t,n,i){var a=r(e);return a.splice(~~t,~~n,i),a.join("")}},function(e,t){e.exports=function(e){return e<0?0:+e||0}},function(e,t,n){var r=n(10);e.exports=function(e,t){return e=r(e),0===e.length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+t)}},function(e,t,n){var r=n(75),i=n(384);e.exports=function(e,t){return e=r(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),!0===t?i(e):e}},function(e,t,n){var r=n(75);e.exports=function(e){return r(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},function(e,t,n){var r=n(75);e.exports=function(e){return r(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},function(e,t){e.exports=function(e,t){if(t<1)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n}},function(e,t,n){var r;!function(){"use strict";function i(e){return o(s(e),arguments)}function a(e,t){return i.apply(null,[e].concat(t||[]))}function o(e,t){var n,r,a,o,s,u,c,f,d,p=1,h=e.length,y="";for(r=0;r<h;r++)if("string"==typeof e[r])y+=e[r];else if(Array.isArray(e[r])){if(o=e[r],o[2])for(n=t[p],a=0;a<o[2].length;a++){if(!n.hasOwnProperty(o[2][a]))throw new Error(i('[sprintf] property "%s" does not exist',o[2][a]));n=n[o[2][a]]}else n=o[1]?t[o[1]]:t[p++];if(l.not_type.test(o[8])&&l.not_primitive.test(o[8])&&n instanceof Function&&(n=n()),l.numeric_arg.test(o[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(i("[sprintf] expecting number but found %T",n));switch(l.number.test(o[8])&&(f=n>=0),o[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,o[6]?parseInt(o[6]):0);break;case"e":n=o[7]?parseFloat(n).toExponential(o[7]):parseFloat(n).toExponential();break;case"f":n=o[7]?parseFloat(n).toFixed(o[7]):parseFloat(n);break;case"g":n=o[7]?String(Number(n.toPrecision(o[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=o[7]?n.substring(0,o[7]):n;break;case"t":n=String(!!n),n=o[7]?n.substring(0,o[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=o[7]?n.substring(0,o[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=o[7]?n.substring(0,o[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}l.json.test(o[8])?y+=n:(!l.number.test(o[8])||f&&!o[3]?d="":(d=f?"+":"-",n=n.toString().replace(l.sign,"")),u=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",c=o[6]-(d+n).length,s=o[6]&&c>0?u.repeat(c):"",y+=o[5]?d+n+s:"0"===u?d+s+n:s+d+n)}return y}function s(e){if(u[e])return u[e];for(var t,n=e,r=[],i=0;n;){if(null!==(t=l.text.exec(n)))r.push(t[0]);else if(null!==(t=l.modulo.exec(n)))r.push("%");else{if(null===(t=l.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var a=[],o=t[2],s=[];if(null===(s=l.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(s[1]);""!==(o=o.substring(s[0].length));)if(null!==(s=l.key_access.exec(o)))a.push(s[1]);else{if(null===(s=l.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(s[1])}t[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push(t)}n=n.substring(t[0].length)}return u[e]=r}var l={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},u=Object.create(null);t.sprintf=i,t.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=a,void 0!==(r=function(){return{sprintf:i,vsprintf:a}}.call(t,n,t,e))&&(e.exports=r))}()},function(e,t,n){var r=n(236);e.exports=function(e,t,n,i){t=t||", ",n=n||" and ";var a=e.slice(),o=a.pop();return e.length>2&&i&&(n=r(t)+n),a.length?a.join(t)+n+o:o}},function(e,t){e.exports=function(e,t){return[t,e,t].join("")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(1),d=r(f),p=n(0),h=r(p),y=n(910),m=r(y),_=n(12),g=r(_),b=n(398),v=r(b),w=n(39),k=r(w),S=n(32),I=r(S),E=n(7),A=r(E),x={close:"close",open:"open",busy:"busy"},C=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))
;e._menuButtonLayer=aoba.Container.new().addTo(e);var n=e.fromData(m.default,{menuButton:{class:h.default.DecideButton},"uiLayer/myPageButton":{class:h.default.DecideButton}});return e._menuButton=n.menuButton,e._menuButton.on("tap",function(){return e._onMenuButton()}),e._uiLayer=n.uiLayer,e._uiLayer.alpha=0,e._uiLayer.interactiveChildren=!1,e._myPageButton=n["uiLayer/myPageButton"],e._myPageButton.on("tap",function(){return e._onMyPageButton()}),e._state=x.close,e}return o(t,e),l(t,[{key:"_onMenuButton",value:function(){switch(this._state){case x.close:this._onRequestMenuOpen();break;case x.open:this._onRequestMenuClose()}}},{key:"_onMyPageButton",value:function(){g.default.directTo("/home")}},{key:"_onBg",value:function(){this._onRequestMenuClose()}},{key:"_onRequestMenuOpen",value:function(){var e=this;this._state===x.close&&(this._state=x.busy,this._requestMyPageInfo().then(function(){return e._openMenu()}).then(function(){e._state=x.open}))}},{key:"_onRequestMenuClose",value:function(){var e=this;this._state===x.open&&(this._state=x.busy,this._closeMenu().then(function(){e._state=x.close}))}},{key:"_requestMyPageInfo",value:function(){var e=this;return Promise.all([k.default.user.get(),k.default.myPage.get(),k.default.earthUser.get()]).then(function(t){var n=s(t,3),r=n[0],i=n[1],a=n[2],o=i.produceIdol,l=i.specialBanner,u=i.generalBanners;e._user=r,e._myPage=i,e._earthUser=a;var f=[];return o&&f.push(o.getImagePath("icon")),l&&f.push(l.getImagePath()),u.forEach(function(e){f.push(e.getImagePath())}),(0,I.default)(c.default.uniq(f))})}},{key:"_openMenu",value:function(){var e=this;return new Promise(function(t){e._menuButton.texture=aoba.Texture.fromImage("menu_close_button.png"),e._bg||(e._bg=aoba.Graphics.new().beginFill(0,.5).drawRect(0,0,d.default.SCREEN_WIDTH,d.default.SCREEN_HEIGHT).addToAt(e._uiLayer,0,0,0,{interactive:!0}),e._bg.on("tap",function(){aoba.soundManager.playSE(A.default.ui.cancel),e._onBg()})),e._menu||(e._menu=v.default.new().addToAt(e._uiLayer,1).on("addScene",e._onAddScene,e)),e._menu.setInfo(e._user,e._myPage,e._earthUser),e._uiLayer.interactiveChildren=!0,aoba.FrameTween.new(e._uiLayer).to({alpha:1},5,"easeOutQuad").call(t),e.emit("openGlobalMenu")})}},{key:"_closeMenu",value:function(){var e=this;return new Promise(function(t){e._menuButton.texture=aoba.Texture.fromImage("menu_button.png"),e._uiLayer.interactiveChildren=!1,aoba.FrameTween.new(e._uiLayer).to({alpha:0},5).call(t)})}},{key:"_onAddScene",value:function(){this._onRequestMenuClose()}}]),t}(aoba.Container);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=r(l),c=n(911),f=r(c),d=n(403),p=r(d),h=n(169),y=r(h),m=n(21),_=r(m),g=n(42),b=r(g),v=n(406),w=r(v),k=n(407),S=r(k),I=n(244),E=r(I),A=n(39),x=r(A),C=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._menuLayer=f.default.new().addTo(e),e._menuLayer.on("fes",function(){return e._goToNextPage("/fesTop")}),e._menuLayer.on("gasha",function(){return e._goToNextPage("/gasha")}),e._menuLayer.on("idol",function(){return e._goToNextPage("/idolPortal")}),e._menuLayer.on("mission",function(){return e._goToMission()}),e._menuLayer.on("produce",function(){return e._onSelectProduce()}),e._menuLayer.on("item",function(){return e._goToNextPage("/item")}),e._menuLayer.on("shop",function(){return e._goToNextPage("/shop")}),e._menuLayer.on("present",function(){return e._goToPresentBox()}),e._menuLayer.on("notice",function(){return e._goToNotice()}),e._menuLayer.on("selectBanner",function(t){return e._goToBannerPage(t)}),e._menuLayer.on("profile",function(){return e._showEarthProfile()}),e._menuLayer.on("platformMenu",function(){return e._showPlatformMenu()}),e._selectProduce=y.default.new(),e}return o(t,e),s(t,[{key:"setInfo",value:function(e,t,n){this._user=e,this._myPage=t,this._produceIdol=t.produceIdol,this._earthUser=n,this._menuLayer.setUserStatus(e),this._menuLayer.setMyPage(t),this._menuLayer.setEarthUserInfo(n)}},{key:"_goToNextPage",value:function(e){u.default.directTo(e)}},{key:"_addScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("addScene"),t.additive=!0,_.default.loadSceneAsync(e,t)}},{key:"_onSelectProduce",value:function(){this._selectProduce.onSelectProduce(this._myPage,this)}},{key:"_showPfJoinPopup",value:function(){var e=p.default.new(!0).addTo(this);e.once("tapClose",function(){return e.close()}).once("tapButton",function(e){if("join"===e.type)return void w.default.jumpTo.signupForm();w.default.jumpTo.loginForm()}),e.open()}},{key:"_goToNotice",value:function(){this._addScene("notice",{asset:!1,showLoading:!1})}},{key:"_goToMission",value:function(){var e=y.default.getProduceData(this._myPage);_.default.loadSceneAsync("mission",{sceneParams:{produceData:e}})}},{key:"_goToBannerPage",value:function(e){var t=this;this._menuLayer.interactive=!1;var n=this._myPage.specialBanner;if(n&&n.id===e.id&&this._myPage.saveEventPageOpenTime(Date.now()),!e.link.startsWith("/"))return window.open(e.link),void(this._menuLayer.interactive=!0);var r=e.link.split("/");if(3!==r.length)throw new Error("Invalid value banner.link need two slashes");var i="/"+r[1],a=r[2];if("/notice"===i)x.default.announce.get(a).then(function(e){var n=aoba.Container.new().addTo(t);E.default.new(e,e.announceType).addTo(n),t._menuLayer.interactive=!0});else if("/invitation"===i){if(this._earthUser.isGuest())return this._showPfJoinPopup(),void(this._menuLayer.interactive=!0);u.default.directTo(i,{requestParams:{id:a}})}else"/produceMarathon"===i?u.default.directTo(i):["/gasha","/shop"].includes(i)&&u.default.directTo(i)}},{key:"_goToPresentBox",value:function(){_.default.loadSceneAsync("present")}},{key:"_showEarthProfile",value:function(){b.default.PF_URI&&this._user&&this._earthUser&&!this._earthUser.isGuest()&&w.default.ui.showProfile(this._user.earthUserId,"horizontal")}},{key:"_showPlatformMenu",value:function(){S.default.new().addTo(this).open()}},{key:"menuLayer",get:function(){return this._menuLayer}}]),t}(aoba.Container);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(3),s=r(o);t.default={nextStaminaRecoveryTime:function(e,t){return s.default.t("common.remainingTimeMessage",{min:a.default.pad(e,2,"0"),sec:a.default.pad(t,2,"0")})},exceedTickets:function(e){return s.default.t("common.plusMessage",{name:e})},nextTicketRecoveryTime:function(e,t){return s.default.t("common.remainingTimeMessage",{min:a.default.pad(e,2,"0"),sec:a.default.pad(t,2,"0")})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(928),f=r(c),d=n(167),p=r(d),h="common_menu_mission_button.png",y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{buttonImageKey:h};i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default,{badge:p.default.new(),button:{class:u.default.DecideButton,key:e.buttonImageKey}});return n._badge=r.badge,n._button=r.button,n._button.on("tap",function(){return n.emit("tap")}),n}return o(t,e),s(t,[{key:"setCleardMissionCount",value:function(e){this._badge.setNum(e)}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(0),f=r(c),d=n(931),p=r(d),h=n(399),y=r(h),m={fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},_={fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14,stroke:12058714,strokeThickness:6},g={WIDTH:68,HEIGHT:68},b=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=aoba.Gauge.new("common_menu_button_stamina_gauge.png",{value:u.default.app.MAX_STAMINA,maxValue:u.default.app.MAX_STAMINA}),r=e.fromData(p.default,{"button/staminaGauge":n,"button/stamina":{style:m},"button/nextStaminaRecoveryTime":{style:_},button:{class:f.default.DecideButton,key:"common_menu_produce_start_button.png"}});return e._campaignBadge=r.campaignBadge.hide(),e._campaignBadge.mask=aoba.Sprite.new("bubble_mask.png").addTo(e,e._campaignBadge.x,e._campaignBadge.y,{anchor:e._campaignBadge.anchor}),e._stamina=r["button/stamina"],e._staminaGauge=r["button/staminaGauge"],e._nextStaminaRecoveryTime=r["button/nextStaminaRecoveryTime"],e._button=r.button,e._idolIconLayer=r["button/idolIconLayer"],e._button.on("tap",function(){return e.emit("tap")}),e.on("added",e._onAdded,e),e.on("removed",e._onRemoved,e),e}return o(t,e),s(t,[{key:"setUserStamina",value:function(e){this._userStamina=e,this._updateStamina()}},{key:"setProduceIdol",value:function(e){if(this._idolIconLayer.removeChildren(),e){this._button.texture=aoba.Texture.fromImage("common_menu_produce_resume_button.png");var t=aoba.Sprite.new(e.getImagePath("icon")).addTo(this._idolIconLayer);t.scale=aoba.p(Math.min(g.WIDTH/t.width,g.HEIGHT/t.height))}else this._button.texture=aoba.Texture.fromImage("common_menu_produce_start_button.png")}},{key:"setIsStaminaCampaignBeingHeld",value:function(e){this._campaignBadge.visible=e,e&&f.default.commonUiHelper.createGlossEffect().addTo(this._campaignBadge)}},{key:"_onAdded",value:function(){var e=this;this._updateStaminaInterval||(this._updateStaminaInterval=setInterval(function(){return e._updateStamina()},1e3)),this._updateStaminaGaugeInterval||(this._updateStaminaGaugeInterval=setInterval(function(){if(e._staminaGauge.value===e._staminaGauge._viewValue)return void e._clearUpdateStaminaGaugeInterval();e._staminaGauge.ezgUpdate()},100))}},{key:"_onRemoved",value:function(){this._updateStaminaInterval&&(clearInterval(this._updateStaminaInterval),this._updateStaminaInterval=null),this._updateStaminaGaugeInterval&&this._clearUpdateStaminaGaugeInterval()}},{key:"_clearUpdateStaminaGaugeInterval",value:function(){clearInterval(this._updateStaminaGaugeInterval),this._updateStaminaGaugeInterval=null}},{key:"_updateStamina",value:function(){if(this._userStamina){var e=this._userStamina.calcCurrentStamina();if(e!==this._prevStamina&&(this._setStamina(e),this._staminaGauge.ezgUpdate(),this._prevStamina=e),e<u.default.app.MAX_STAMINA){var t=this._userStamina.calcNextStaminaRecoveryTime(),n=Math.floor(t/60/1e3)%60,r=Math.floor(t/1e3)%60;this._nextStaminaRecoveryTime.text=y.default.nextStaminaRecoveryTime(n,r)}else this._nextStaminaRecoveryTime.text=""}}},{key:"_setStamina",value:function(e){this._stamina.text=e+"/"+u.default.app.MAX_STAMINA,this._staminaGauge.setValue(e)}}]),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a={fontSize:26,fontFamily:"HummingStd-E"};t.default={create:function(e,t,n){if(!e||""===e||!n||n<=0)return e;t=t||a;var r=t.fontSize||a.fontSize;if(r*e.length<=n)return e;var o=t.fontFamily||a.fontFamily,s=document.createElement("canvas").getContext("2d");s.font=r+'px "'+o+'"';for(var l=0;l<e.length;++l){var u=e.slice(0,l+1);if(Math.ceil(s.measureText(u).width)>n){e=""+e.slice(0,l-1)+i.default.t("common.horizontalEllipsis");break}}return e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(354),c=r(u),f=n(110),d=r(f),p=n(168),h=r(p),y=n(934),m=r(y),_=n(3),g=r(_),b=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{size:c.default.SIZE_LIST.M,height:612}));t._setDisplayTime(),n._content=aoba.Container.new();var r=n._content.fromData(m.default,{"parts/pfLoginButton":{class:d.default},"parts/pfJoinButton":{class:d.default},"parts/closeButton":{class:h.default},"parts/titleProvideRate":{text:g.default.t("popJoinRecommend.titleProvideRate"),dx:4,dy:-4},"parts/txtNotice":{text:g.default.t("popJoinRecommend.txtNotice")},"parts/textInvitation1":{text:g.default.t("popJoinRecommend.textInvitation1")},"parts/textInvitation2":{text:g.default.t("popJoinRecommend.textInvitation2")},"parts/textDefault":{text:g.default.t("popJoinRecommend.textDefault")},
"parts/iconNoticeRed":{dy:-26}});r["parts/textDefault"].visible=!e,r["parts/textInvitation1"].visible=e,r["parts/textInvitation2"].visible=e;var o=r["parts/closeButton"].x;return["parts/textDefault","parts/textInvitation1","parts/textInvitation2","parts/txtNotice"].forEach(function(e){r[e].style.align="center",r[e].anchor=aoba.p(.5),r[e].x=o}),r["parts/textDefault"].style.align="center",r["parts/textInvitation1"].style.align="center",r["parts/textInvitation2"].style.align="center",r["parts/txtNotice"].style.align="center",r["parts/closeButton"].on("tap",function(){return n.emit("tapClose")}),r["parts/pfLoginButton"].on("tap",function(){return n.emit("tapButton",{type:"login"})}),r["parts/pfJoinButton"].on("tap",function(){return n.emit("tapButton",{type:"join"})}),n._content.addTo(n),n._content.hide(),n}return o(t,e),l(t,null,[{key:"doesTimePass",value:function(){var e=t._getDisplayTime();return!e||Date.now()>parseInt(e,10)+18e5}},{key:"_getDisplayTime",value:function(){return localStorage.getItem("Prim:PopJoinRecommendOpenTime")}},{key:"_setDisplayTime",value:function(){localStorage.setItem("Prim:PopJoinRecommendOpenTime",""+Date.now())}}]),l(t,[{key:"open",value:function(){var e=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.once("openEnd",function(){return e._content.show()}),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,n)}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._content.hide(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this,e)}}]),t}(c.default);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(113),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getImagePath:function(e){return this._extendedUserSupportIdol.getImagePath(e)},getSpinePath:function(e){return this._extendedUserSupportIdol.getSpinePath(e)},getRarityImagePath:function(e){return this._extendedUserSupportIdol.getRarityImagePath(e)},getVoicePath:function(e){return this._extendedUserSupportIdol.getVoicePath(e)},getTotalAppeal:function(){return this._extendedUserSupportIdol.getTotalAppeal()},get name(){return this._extendedUserSupportIdol.name},get firstName(){return this._extendedUserSupportIdol.firstName},get characterId(){return this._extendedUserSupportIdol.characterId},get unitId(){return this._extendedUserSupportIdol.unitId},get supportIdolId(){return this._extendedUserSupportIdol.supportIdolId},get _extendedUserSupportIdol(){return aoba.utils.getPrototypeOf(this.userSupportIdol)!==i.default&&aoba.utils.setPrototypeOf(this.userSupportIdol,i.default),this.userSupportIdol}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(20),s=r(o),l=n(170),u=r(l),c=a.default.asset.imageTypes,f=a.default.asset.voiceIds,d={vocalBonus:{default:"defaultVocalBonus",max:"maxVocalBonus"},danceBonus:{default:"defaultDanceBonus",max:"maxDanceBonus"},visualBonus:{default:"defaultVisualBonus",max:"maxVisualBonus"},mentalBonus:{default:"defaultMentalBonus",max:"maxMentalBonus"}};t.default={getImagePath:function(e){if(c.support_idols.includes(e))return this._getSupportIdolImagePath(e);if(c.characters.includes(e))return this._extendedCharacter.getImagePath(e);throw new Error("asset type "+e+" is not found.")},getSpinePath:function(e){return this._extendedCharacter.getSpinePath(e)},getRarityImagePath:function(e){return e+"_rarity_"+this.rarity+".png"},getUnitImagePath:function(e){return this._extendedCharacter.getUnitImagePath(e)},getIconImagePath:function(){return this.getImagePath("icon")},getVoicePath:function(e){return f.support_idols.includes(e)?this._getSupportIdolVoicePath(e):this._extendedCharacter.getVoicePath(e)},get characterId(){return this.character.id},get unitId(){return this._extendedCharacter.unitId},get firstName(){return this._extendedCharacter.firstName},get currentActiveSkills(){return this.supportIdolActiveSkill.currentActiveSkills},calcBonusMapWithLevel:function(e,t){var n=this,r={};return Object.keys(d).forEach(function(i){var a=n[d[i].default],o=n[d[i].max];r[i]=a+Math.floor((o-a)*(e-1)/(t-1))}),r},calcUniqueSkillLevelWithLevel:function(e){return[].concat(this.supportIdolActiveSkill.supportIdolActiveSkillLevels).reverse().find(function(t){return e>=t.requiredIdolLevel}).skillLevel},_getSupportIdolImagePath:function(e){return s.default.createImagePath("support_idols",e,this.id)},_getSupportIdolAnimationPath:function(e){return s.default.createSpinePath("support_idols",e,this.id)},_getSupportIdolMoviePath:function(e){return s.default.createMoviePath("support_idols",e,this.id)},_getSupportIdolVoicePath:function(e){return s.default.createVoicePath("support_idols",this.id,e)},get _extendedCharacter(){return aoba.utils.getPrototypeOf(this.character)!==u.default&&aoba.utils.setPrototypeOf(this.character,u.default),this.character}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(67),a=r(i),o=n(945),s=r(o),l=n(114),u=r(l),c=n(243),f=r(c);t.default={sdk:a.default,login:u.default,kpi:f.default,jumpTo:s.default,ui:a.default?a.default.ui:{}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(0),c=r(u),f=n(946),d=r(f),p=n(1),h=r(p),y=n(133),m=r(y),_=n(14),g=r(_),b=n(949),v=r(b),w=n(3),k=r(w),S=n(107),I=r(S),E=function(e){function t(){i(this,t);var e=aoba.Container.new(),n=e.fromData(d.default,{personalPolicyButton:{class:c.default.DecideButton},servisePolicyButton:{class:c.default.DecideButton},faqButton:{class:c.default.DecideButton},copyrightButton:{class:c.default.DecideButton}}),r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{size:"m",title:k.default.t("platformMenu.title"),type:"close",container:e}));return n.copyrightButton.on("tap",r._showCopyrightPop,r),r._removeTargets={},r.once("openEnd",function(){r._setUpLinkTag(n.personalPolicyButton,h.default.app.PRIVACY_POLICY_URI),r._setUpLinkTag(n.servisePolicyButton,h.default.app.SERVICE_POLICY_URI),r._setUpLinkTag(n.faqButton,h.default.app.FAQ_URI)}),r}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._removeLinkTags(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"open",value:function(){this._showLinkTags(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,!0)}},{key:"close",value:function(){this._hideLinkTags(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}},{key:"_showCopyrightPop",value:function(){var e=this;this._hideLinkTags(),v.default.new().addTo(this).on("removed",function(){return e._showLinkTags()}).open()}},{key:"_showLinkTags",value:function(){
var e=this;Object.keys(this._removeTargets).forEach(function(t){e._removeTargets[t].dom.style.display="block",e._removeTargets[t].dom.style.visibility="visible"})}},{key:"_hideLinkTags",value:function(){var e=this;Object.keys(this._removeTargets).forEach(function(t){e._removeTargets[t].dom.style.display="none",e._removeTargets[t].dom.style.visibility="hidden"})}},{key:"_removeLinkTags",value:function(){var e=this;Object.keys(this._removeTargets).forEach(function(t){I.default.off("resized",e._removeTargets[t].resizeFuncFromDom),document.body.removeChild(e._removeTargets[t].dom),e._removeTargets[t].dom=null,e._removeTargets[t].resizeFuncFromDom=null,e._removeTargets[t]=null}),this._removeTargets={}}},{key:"_setUpLinkTag",value:function(e,t){var n=this;this._removeTargets[t]={};var r=m.default.createLinkTargetDom(e.getGlobalPosition().x,e.getGlobalPosition().y,e.width,e.height,t);document.body.appendChild(r);var i=function(){m.default.resizeDom(n._removeTargets[t].dom,e.getGlobalPosition().x,e.getGlobalPosition().y,e.width,e.height)};I.default.on("resized",i),this._removeTargets[t].dom=r,this._removeTargets[t].resizeFuncFromDom=i}}]),t}(g.default);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(409),s=r(o),l=n(20),u=r(l);t.default={getList:function(e){var t=s.default.stringify(e);return a.default.get("announces?"+t).then(function(e){var t=e.body||[],n=Number(e.headers["x-total-count"]);return t.forEach(function(e){e.image=u.default.createAdminImagePath("announces",e.id,"").split("/.png")[0]}),Promise.resolve({announceList:t,allAnnouncesCount:n})})},get:function(e){return a.default.get("announces/"+e).then(function(e){var t=e.body;return t.image=u.default.createAdminImagePath("announces",t.id,"").split("/.png")[0],Promise.resolve(t)})}}},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(955),l=n(956),u=n(957);t.extract=function(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)},t.parse=function(e,t){t=l({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:u(a),n(u(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){t=l({encode:!0,strict:!0,arrayFormat:"none"},t);var n=r(t);return e?Object.keys(e).sort().map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return a(r,t)+"="+a(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.fesDeckRanks=t.fesDeckRanks,this.fesDeckAppealRanks=t.fesDeckAppealRanks}return i(e,[{key:"applyBonusesTo",value:function(e){return e.applyBonuses(),this.fesDeckRanks&&(e.deckRank=this.getDeckRank(e)),e}},{key:"getDeckRank",value:function(e){var t=e.totalEvaluation;return this.fesDeckRanks.sort(function(e,t){return t.requiredPoint-e.requiredPoint}).find(function(e){return t>=e.requiredPoint})}},{key:"createParameterWithRank",value:function(e){var t=this,n={};return Object.keys(e).forEach(function(r){var i=e[r];n[r]={value:i,rank:t.getAppealRank(r,i)}}),n}},{key:"getAppealRank",value:function(e,t){return this.fesDeckAppealRanks.filter(function(t){return t.genre===e}).sort(function(e,t){return t.requiredPoint-e.requiredPoint}).find(function(e){return t>=e.requiredPoint}).rank}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getButtonImage:function(){return(this.limitedPerDay?"limited":"gasha")+"_button.png"},getSmallIconImage:function(){return this.currencyType+"_icon_s.png"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a={gashaTicket:"gasha_ticket",platinum:"platinum"};t.default={getTitleImagePath:function(){return"gasha_ticket"===this.name?"gasha_ticket.png":i.default.createImagePath("gasha","title",this.id)},getBgImagePath:function(){return"gasha_ticket"===this.name?"bg.jpg":i.default.createImagePath("gasha","bg",this.id)},getBannerImagePath:function(e){return i.default.createImagePath("gasha","banner",e)},isGashaTicketGroup:function(){return"gasha_ticket"===this.initialCurrencyType},hasTicketGasha:function(){return this.gashas.every(function(e){return"gasha_ticket"===e.currencyType})},getProbabilityType:function(){return this.isGashaTicketGroup()?this.gashaRates?this.gashas[0].userGashaTicket.gashaTicket.image:a.gashaTicket:a.platinum}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(71),s=r(o),l=n(414),u=r(l);t.default={getRecoveryItems:function(){return a.default.get("userRecoveryItems").then(function(e){return u.default.processUserItemsResponse(e,s.default.recoveryItem)})},getEnhancementItems:function(){return a.default.get("userEnhancementItems").then(function(e){return u.default.processUserItemsResponse(e,s.default.enhancementItem)})},getGashaTickets:function(){return a.default.get("userGashaTickets").then(function(e){return u.default.processUserItemsResponse(e,s.default.gashaTicket)})},useRecoveryItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.default.patch("userRecoveryItems/"+e+"/actions/consume",{num:t}).then(u.default.processRecoveryItemConsumeResponse)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(969),a=r(i),o=n(173),s=r(o),l=n(415),u=r(l),c=function(e,t){var n=e&&e.body?e.body:[];return n.forEach(function(e){aoba.utils.setPrototypeOf(e,a.default),e.item=t.getItemMast(e),e.itemCategory=t,e.recoveryItem&&(e.recoveryItemType=t.types[e.recoveryItem.type])}),Promise.resolve(n)},f=function(e){if(!e||!e.body)throw new Error("failed to consume recovery item");var t=e.body,n=t.userStamina,r=t.userFesTicket;return n&&aoba.utils.setPrototypeOf(n,s.default),r&&aoba.utils.setPrototypeOf(r,u.default),Promise.resolve(t)};t.default={processUserItemsResponse:c,processRecoveryItemConsumeResponse:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){
return e&&e.__esModule?e:{default:e}}(r);t.default={calcCurrentTicket:function(){if(this.exceedTickets>0)return i.default.app.MAX_FES_TICKET+this.exceedTickets;var e=Math.floor(Date.now()/1e3);return this.recoveryTime<e?i.default.app.MAX_FES_TICKET:Math.floor(i.default.app.MAX_FES_TICKET-(this.recoveryTime-e)/i.default.app.FES_TICKET_RECOVER_INTERVAL)},calcNextTicketRecoveryTime:function(){if(this.exceedTickets>0)return 0;var e=Math.floor(Date.now()/1e3);return this.recoveryTime<e?0:(this.recoveryTime-e)%i.default.app.FES_TICKET_RECOVER_INTERVAL*1e3}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(417);t.default={get:function(){return i.default.post("myPage").then(function(e){return(0,a.processGetResponse)(e)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.processGetResponse=void 0;var i=n(972),a=r(i),o=n(973),s=r(o),l=n(974),u=r(l),c=n(975),f=r(c),d=n(131),p=r(d),h=n(976),y=r(h),m=n(415),_=r(m),g=function(e){var t=[];if(e.userDeck){if(e.userDeck.userIdol){var n={idolId:e.userDeck.userIdol.idol.id,characterId:e.userDeck.userIdol.idol.characterId,name:e.userDeck.userIdol.idol.name,firstName:e.userDeck.userIdol.idol.character.firstName,comments:e.userDeck.userIdol.idol.myPageComments,rarity:e.userDeck.userIdol.idol.rarity};aoba.utils.setPrototypeOf(n,s.default),t.push(n)}e.userDeck.userSupportIdols.forEach(function(e){var n={idolId:e.supportIdol.id,characterId:e.supportIdol.characterId,name:e.supportIdol.name,firstName:e.supportIdol.character.firstName,comments:e.supportIdol.myPageComments,rarity:e.supportIdol.rarity};aoba.utils.setPrototypeOf(n,s.default),t.push(n)})}return t};t.processGetResponse=function(e){var t=e.body,n=t.userProduce,r=t.generalBanners?t.generalBanners:[],i=t.specialBanner?t.specialBanner:null,o=n&&n.userProduceIdol?n.userProduceIdol:null,s=t.userFesTicket;aoba.utils.setPrototypeOf(t,a.default),n&&aoba.utils.setPrototypeOf(n,f.default),o&&aoba.utils.setPrototypeOf(o,p.default),i&&(i.bannerCategory=y.default.special,aoba.utils.setPrototypeOf(i,u.default)),r.forEach(function(e){e.bannerCategory=y.default.general,aoba.utils.setPrototypeOf(e,u.default)}),aoba.utils.setPrototypeOf(s,_.default);var l=t.userFesDeck.totalEvaluation,c=t.fesDeckRanks.sort(function(e,t){return t.requiredPoint-e.requiredPoint}).find(function(e){return l>=e.requiredPoint});return t.produce=n,t.produceIdol=o,t.specialBanner=i,t.generalBanners=r,t.userFesTicket=s,t.fesDeckRank=c,t.idols=g(t),Promise.resolve(t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(96),s=r(o),l=n(76),u=r(l),c=n(20),f=r(c),d=n(70),p=r(d),h=n(1),y=r(h),m=function(e){aoba.utils.setPrototypeOf(e,u.default)};t.default={getList:function(){return a.default.get("userIdols").then(function(e){var t=e.body;return t.forEach(m),Promise.resolve(t)})},get:function(e){var t=this;return a.default.get("userIdols/"+e).then(function(e){var n=e.body;m(n);var r=n.idol,i=r.skillPanels,a=r.memoryAppeals,o=r.produceAfterEvents;return i.forEach(function(e){var n=y.default.app.SKILL_CATEGORIES;switch(e.skillCategory){case n.ACTIVE:p.default.setActiveSkillMixin(e.skill);break;case n.PASSIVE:p.default.setPassiveSkillMixin(e.skill);break;case n.LIMIT_BREAK:p.default.setLimitBreakSkillMixin(e.skill)}e.skill.linkSkill&&t._setLinkSkillResourcePath(e.skill.linkSkill)}),a.forEach(function(e){e.linkSkill&&t._setLinkSkillResourcePath(e.linkSkill)}),0!==o.length&&o.forEach(function(e){e.mission&&e.mission.missionRewards.forEach(function(e){aoba.utils.setPrototypeOf(e,s.default)})}),Promise.resolve(n)})},evolve:function(e,t){return a.default.patch("userIdols/"+e+"/actions/evolve",t).then(function(e){var t=e.body;return m(t),Promise.resolve(t)})},_setLinkSkillResourcePath:function(e){e.linkSkillCharacters.forEach(function(e){e.iconPath=f.default.createImagePath("characters","link_skill_icon",e.characterId)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(76),s=r(o),l=n(131),u=r(l),c=n(96),f=r(c),d=n(20),p=r(d),h=n(70),y=r(h);t.default={get:function(e){var t=this;return a.default.get("userProduceIdols/"+e).then(function(e){var n=e.body;aoba.utils.setPrototypeOf(n,u.default),aoba.utils.setPrototypeOf(n.userIdol,s.default),n.activeSkills.forEach(function(e){y.default.setActiveSkillMixin(e),e.linkSkill&&t._setLinkSkillResourcePath(e.linkSkill)});var r=n.userIdol.idol,i=r.memoryAppeals,a=r.produceAfterEvents;return i.forEach(function(e){e.linkSkill&&t._setLinkSkillResourcePath(e.linkSkill)}),0!==a.length&&a.forEach(function(e){e.mission&&e.mission.missionRewards.forEach(function(e){aoba.utils.setPrototypeOf(e,f.default)})}),Promise.resolve(n)})},_setLinkSkillResourcePath:function(e){e.linkSkillCharacters.forEach(function(e){e.iconPath=p.default.createImagePath("characters","link_skill_icon",e.characterId)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(71),s=r(o),l=n(414),u=r(l);t.default={get:function(){return a.default.get("userRecoveryItems?all=true").then(function(e){return u.default.processUserItemsResponse(e,s.default.recoveryItem)})}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l={MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4},u=function(e){function t(e){r(this,t);var n=PIXI.Texture.fromVideoUrlWithMute(e),a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a._addVideoEndListener(),a._addStateListeners(),a._isReady=!1,a}return a(t,e),o(t,[{key:"pause",value:function(){this.video.pause()}},{key:"resume",value:function(){this.video.play()}},{key:"pauseOnPlay",value:function(){var e=this;return new Promise(function(t){var n=function n(r){e.pause(),e.video.removeEventListener(r.type,n),e.emit("ready",e),e._isReady=!0,t(e)};e.video.addEventListener("play",n)})}},{key:"destroy",value:function(e){return this._removeStateListeners(),this._removeVideoEndListener(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this,e)}},{key:"_addStateListeners",value:function(){this.video.addEventListener("error",this._onVideoError.bind(this))}},{key:"_removeStateListeners",value:function(){this.video.removeEventListener("error",this._onVideoError)}},{key:"_addVideoEndListener",value:function(){this.video.addEventListener("ended",this._onEnd.bind(this))}},{key:"_removeVideoEndListener",value:function(){this.video.removeEventListener("ended",this._onEnd)}},{key:"_onVideoError",value:function(){switch(this.video.error.code){
case l.MEDIA_ERR_SRC_NOT_SUPPORTED||l.MEDIA_ERR_DECODE:throw new Error;case l.MEDIA_ERR_ABORTED:this.emit("abort");break;case l.MEDIA_ERR_NETWORK:this.emit("netWorkError")}}},{key:"_onEnd",value:function(){this._removeVideoEndListener(),this.emit("end")}},{key:"video",get:function(){return this.texture.baseTexture.source}},{key:"isReady",get:function(){return this._isReady}}]),t}(aoba.Sprite);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=aoba,l=s.Container,u=s.Graphics,c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._area=u.new().beginFill(0,0).drawRect(0,0,e.width,e.height).addTo(n),n._container=e.container.addTo(n),n._time=0,n._prevTime=0,n._swiping=!1,n._prevPosition=null,n._diffPosition=null,n.interactive=!0,n.on("touchstart",n._onTouchStart,n),n.on("touchmove",n._onTouchMove,n),n.on("touchend",n._onTouchEnd,n),n.on("touchendoutside",n._onTouchEnd,n),n}return a(t,e),o(t,[{key:"isScrolled",value:function(){return this._pointInitialPos&&this._pointInitialPos.sub(this._prevPosition).lengthSq()>100}},{key:"_onTouchStart",value:function(e){this._swiping||(this._diffPosition=null,this._swiping=!0,this._targetInitialPos=aoba.p(this._container.position.x,this._container.position.y),this._pointInitialPos=e.data.global.clone(),this._prevPosition=e.data.global.clone(),this._prevTime=this._time)}},{key:"_onTouchMove",value:function(e){if(this._swiping){var t=this._targetInitialPos,n=this._pointInitialPos,r=e.data.global.clone();this._container.x=t.x-(n.x-r.x),this._container.y=t.y-(n.y-r.y),this._diffPosition=aoba.p(0,0),this._time!==this._prevTime&&(this._diffPosition=r.clone().sub(this._prevPosition).divideScalar(this._time-this._prevTime)),this._prevPosition=r.clone(),this._prevTime=this._time,this._checkBorder()}}},{key:"_onTouchEnd",value:function(){this._swiping&&(this._swiping=!1)}},{key:"_checkBorder",value:function(){var e=this._container.getBounds(!1),t=this._area.width,n=this._area.height,r=this._container.width,i=this._container.height;e.top>0&&(this._container.y=n/2+(i-n)/2,this._diffPosition.y=0),e.bottom<n&&(this._container.y=n/2-(i-n)/2,this._diffPosition.y=0),e.left>0&&(this._container.x=t/2+(r-t)/2,this._diffPosition.x=0),e.right<t&&(this._container.x=t/2-(r-t)/2,this._diffPosition.x=0)}},{key:"ezgUpdate",value:function(e){if(this._time+=e,!this._swiping&&this._diffPosition){var t=this._diffPosition;this._container.x+=t.x*e,this._container.y+=t.y*e,this._checkBorder(),t.mulScalar(Math.pow(.88,e/(1e3/60))),Math.abs(t.x)<.02&&Math.abs(t.y)<.02&&(this._diffPosition=null)}}}]),t}(l);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(7),c=r(u),f=n(0),d=r(f),p=450,h=280,y=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=d.default.MovingBg.new();n.addTo(e);var r=aoba.Sprite.new("transition_page_turn_bar.png");return r.addTo(e,-r.width),n.mask=aoba.Graphics.new().beginFill(0).drawPolygon([-p-h,0,n.width,0,n.width+p,n.height,-h,n.height]).addTo(e,-(n.width+p+h)),e._bg=n,e._bar=r,e}return s(t,e),l(t,[{key:"play",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parallels?[].concat(i(t.parallels),[this.appear()]):[this.appear()];return Promise.all(n).then(function(t){return e.disappear(),Promise.resolve(t)})}},{key:"appear",value:function(){var e=this;return new Promise(function(t){aoba.soundManager.playSE(c.default.transition.maskIn),aoba.FrameTween.new(e._bar).by({x:e._bg.width+p+h},16),aoba.FrameTween.new(e._bg.mask).by({x:e._bg.width+p+h},16).wait(3).call(t)})}},{key:"disappear",value:function(){var e=this;aoba.soundManager.playSE(c.default.transition.maskOut),this._bar.x=-this._bar.width,aoba.FrameTween.new(this._bar).by({x:this._bg.width+p+h},16),aoba.FrameTween.new(this._bg.mask).by({x:this._bg.width+p+h},16).call(function(){e.destroy({children:!0})})}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parallels;return t?Promise.all(t):Promise.resolve()}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=[/SO-01H/,/SO-04H/,/SO-01J/,/SO-02J/,/SO-03J/,/SO-04J/,/SO-01K/,/SO-02K/,/SC-02H/,/SC-02J/,/SC-03J/,/SC-04J/,/SC-01K/,/L-01J/,/L-01K/,/SH-03G/,/SH-01H/,/SH-02H/,/SH-04H/,/SH-02J/,/SH-03J/,/SH-01K/,/502SH/,/503SH/,/506SH/,/603SH/,/605SH/,/701SH/,/501SO/,/502SO/,/601SO/,/602SO/,/701SO/,/404SC/,/HTV32/,/SHV32/,/SHV35/,/SHV37/,/SHV39/,/SHV40/,/SHV41/,/SOV32/,/SOV33/,/SOV34/,/SOV35/,/SOV36/,/HWV31/,/LGV33/,/LGV35/,/SCV33/,/SCV35/,/SCV36/,/SCV37/,/507SH/,/S1/,/X2-HT/,/nexus 5X/,/nexus 6P/],o=function(){if(!window.document.body.requestFullScreen&&!window.document.body.webkitRequestFullScreen)return!1;var e=i.default.getUserAgent();return a.some(function(t){return t.test(e)})};t.default=o},function(e,t,n){"use strict";function r(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(427),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.playAnimation("wait"),a._isTouched=n,a.interactive=!n,a._isBeingTouched=!1,a._isBustTouched=!1,a}return a(t,e),o(t,[{key:"onTap",value:function(e){this._isBeingTouched||(this._isBeingTouched=!0,this._isBustTouched=this.isBoundingBoxContainsPoint("touch",e))}},{key:"stopAnimation",value:function(){this.playAnimation("wait"),this.stopLipAnimation()}},{key:"isTouched",get:function(){return this._isTouched},set:function(e){this._isTouched=e,this.interactive=this.interactive&&!e}},{key:"isBeingTouched",get:function(){return this._isBeingTouched}},{key:"isBustTouched",get:function(){return this._isBustTouched}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(74),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._character=l.default.Character.new(e).addTo(n),n._trackListeners=new Array(4),n}return a(t,e),o(t,[{key:"playAnimation",value:function(e,t,n,r){this._character.control({anim1:e,anim2:t,anim3:n});var i=this._getTrackEntry(0),a={complete:function(e){e===i&&r&&(r(),r=null)}};return this._setTrackListener(0,a),this}},{key:"playLipAnimation",value:function(e,t,n){return this._character.control({lipAnim:e,lipAnimDuration:t}),this._lipAnimationTween&&this._lipAnimationTween.remove(),this._lipAnimationTween=aoba.FrameTween.new(this).wait(Math.floor(30*t)).call(function(){n&&n()}),this}},{key:"stopLipAnimation",value:function(){return this._character.stopLipAnimation(),this._lipAnimationTween&&(this._lipAnimationTween.remove(),this._lipAnimationTween=null),this}},{key:"_getTrackEntry",value:function(e){return this.spine.state.getCurrent(e)}},{key:"_setTrackListener",value:function(e,t){this._removeTrackListener(e),this._trackListeners[e]=t,this._trackListeners[e]&&this.spine.state.addListener(t)}},{key:"_removeTrackListener",value:function(e){this._trackListeners[e]&&(this.spine.state.removeListener(this._trackListeners[e]),this._trackListeners[e]=null)}},{key:"createSkeletonBounds",value:function(){var e=new aoba.spine.core.SkeletonBounds;return e.update(this.spine.skeleton,!1),e}},{key:"isBoundingBoxContainsPoint",value:function(e,t){var n=this.createSkeletonBounds(),r=this.toGlobal(aoba.p(0,0)),i=aoba.p(t.x-r.x,t.y-r.y),a=n.containsPoint(i.x,i.y);return a&&a.name===e}},{key:"findBone",value:function(e){return this.spine.skeleton.findBone(e)}},{key:"getChildByNameRecursively",value:function(){return null}},{key:"spine",get:function(){return this._character._spine}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1033),u=r(l),c=n(254),f=r(c),d=n(26),p=r(d),h={stroke:16777215,strokeThickness:8,fontFamily:"HummingStd-E",fontWeight:"bold"},y=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(u.default,{statusUpArrow:{key:"concert_result_status_up_arrow.png"},statusIcon:{key:f.default.statusUp.icon({name:e})},statusText:{text:f.default.statusUp.message({upPoint:n}),style:h}});return r._icon=o.statusIcon,r._arrow=o.statusUpArrow,r._pointText=o.statusText,r._play(),r}return o(t,e),s(t,[{key:"_play",value:function(){var e=this;this.show(),aoba.soundManager.playSE(p.default.commu.statusUp),aoba.Tween.new(this._icon).from({scaleX:0,scaleY:0},180,"easeOutBack"),this._arrow.alpha=0,aoba.Tween.new(this._arrow).wait(180).to({alpha:1},600),aoba.Tween.new(this._arrow).wait(180).from({y:this._arrow.y+10},600),this._pointText.alpha=0,aoba.Tween.new(this._pointText).wait(180).to({alpha:1},600).to({y:this._pointText.y-10},180,"easeOutBack").to({y:this._pointText.y},120,"easeOutBack"),aoba.Tween.new(this).wait(800).to({alpha:0},120).call(function(){e.emit("end",e)})}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[],r=t.centerIdolImageList,i=t.idolImageList,a=t.idolSpineList,o=t.rivalImageList,s=e.rivals,l=e.idols,u=l.find(function(e){return e.isCenter});return r.forEach(function(e){n.push(u.getImagePath(e))}),l.forEach(function(e){i.forEach(function(t){return n.push(e.getImagePath(t))}),a.forEach(function(t){return n.push(e.getSpinePath(t))})}),s.forEach(function(e){o.forEach(function(t){return n.push(e.character.getImagePath(t))})}),n.push(e.musicPath),n}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(36),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.fromData(e);return n.base=a.base,n.skillInfo=a.skillInfo,n.name=a["skillInfo/name"],n.description=a["skillInfo/description"],n.standIdolsLayer=aoba.Container.new().addToAt(n,n.skillInfo),n.base.x=n.base.x+n.base.width,n.skillInfo.alpha=0,n}return a(t,e),o(t,[{key:"play",value:function(){throw new Error("Not Implemented.")}},{key:"slideInIdols",value:function(){throw new Error("Not Implemented.")}},{key:"fadeInNameBase",value:function(){var e=this;return new Promise(function(t){return aoba.Tween.fromData(e.skillInfo,s.activeSkillCutIn.fadeInSkillInfo).call(t)})}},{key:"fadeOut",value:function(){return aoba.Tween.fromData(this,s.activeSkillCutIn.fadeOut).promise()}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(0),s=r(o),l=n(40),u=r(l),c=n(35),f=r(c),d=n(19),p=r(d),h=a.default.SCREEN_WIDTH,y=a.default.SCREEN_HEIGHT,m=function(t){var n=aoba.Container.new(),r=s.default.graphics.rect(h,y,{fill:65571});r.alpha=0,r.addTo(n);var i=aoba.Container.new().addTo(n);i.alpha=0,s.default.playParticle(u.default.retireAura,i,640,40),aoba.FrameTween.new(i).to({alpha:.8},6).wait(35).to({alpha:0},12);var o=new PIXI.AEDataInterceptor({"mano_rival.png":{image:aoba.Sprite.new(t)}});return(0,p.default)({folderPath:"concert/rival_retire",interceptor:o}).then(function(t){n.addChild(t),t.x=540,t.alpha=0,aoba.soundManager.playSE(f.default.audienceVoice),aoba.soundManager.playSE(f.default.idolRetire),aoba.FrameTween.new(t).wait(5).call(function(){t.play()}).to({alpha:.6},4).wait(22).call(function(){s.default.playParticle(u.default.retireFlash,n,720,120);var r=aoba.FrameTween.new(t);e(15).times(function(e){var n=e;r.call(function(){for(var e=aoba.Graphics.new().beginFill(0),r=(14-n)/14,i=0;i<8;++i)e.drawRect(600+60*i+30*(1-r),0,60*r,a.default.SCREEN_HEIGHT);for(var o=0;o<12;++o)e.drawRect(600,60*o+30*(1-r),a.default.SCREEN_WIDTH,60*r);t.mask=e}).wait(1)})}),aoba.FrameTween.new(t).by({y:22},52),aoba.FrameTween.new(r).to({alpha:.7},15).wait(35).to({alpha:0},6).call(function(){t.stop(),t.destroy(!0),n.emit("end",n)})}),n};t.default=m}).call(t,n(4))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1063),a=r(i),o=n(1064),s=r(o);t.default={playIdolRecoverEffect:a.default,playJudgeDamageEffect:s.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),a=r(i),o=n(0),s=r(o),l=function(e,t,n){var r=s.default.playParticle(a.default.judgeAttack.trail,n,e.x,e.y),i=s.default.playParticle(a.default.judgeAttack.trailBoke,n,e.x,e.y);return new Promise(function(e){aoba.FrameTween.new(r).to({x:t.x,y:t.y},8,"easeInQuad").call(e).wait(3).call(function(){r.stopAndDestroy()}),aoba.FrameTween.new(i).to({x:t.x,y:t.y},8,"easeInQuad").wait(3).call(function(){i.stopAndDestroy()})})},u=function(e,t,n){var r=s.default.playParticle(a.default.idolAttack.charge,n,e.x,e.y),i=s.default.playParticle(a.default.idolAttack.trail,n,e.x,e.y);return new Promise(function(e){aoba.FrameTween.createBlank().wait(9).call(function(){r.stopAndDestroy(),aoba.FrameTween.new(i).to({x:t.x,y:t.y},6,"easeInQuad").call(function(){i.stopAndDestroy(),s.default.playParticle(a.default.idolAttack.hit,n,t.x,t.y,{playAndDestroy:!0}),e()})})})},c=function(e,t,n){var r=s.default.playParticle(a.default.rivalAttack.charge,n,e.x,e.y),i=s.default.playParticle(a.default.rivalAttack.trail,n,e.x,e.y);return new Promise(function(e){aoba.FrameTween.createBlank().wait(0).call(function(){r.stopAndDestroy(),aoba.FrameTween.new(i).to({x:t.x,y:t.y},7,"easeInQuad").call(function(){i.stopAndDestroy(),s.default.playParticle(a.default.rivalAttack.hit,n,t.x,t.y,{playAndDestroy:!0}),e()})})})},f=function(e,t,n){var r=s.default.playParticle(a.default.heart.hit,n,e.x,e.y);return new Promise(function(i){aoba.FrameTween.createBlank().wait(9).call(function(){r.stopAndDestroy();var o=s.default.playParticle(a.default.heart.trail,n,e.x,e.y);aoba.FrameTween.new(o).to({x:t.x,y:t.y},6,"easeInQuad").call(function(){o.stopAndDestroy(),s.default.playParticle(a.default.heart.hit,n,t.x,t.y,{playAndDestroy:!0});var e=aoba.Sprite.new("concert_heart.png").addTo(n,t.x,t.y,{anchor:.5,blendMode:aoba.BLEND_MODES.ADD,alpha:.8});aoba.FrameTween.new(e).to({scaleX:3,scaleY:3},6).to({scaleX:3.6,scaleY:3.6,alpha:0},12).call(function(){return e.destroy()}),i()})})})},d=function(e,t,n){var r=s.default.playParticle(a.default.star.trail,n,e.x,e.y),i=s.default.playParticle(a.default.star.hit,n,e.x,e.y),o=void 0;aoba.FrameTween.new(r).wait(3).call(function(){i.stopAndDestroy()}).to({x:t.x,y:t.y},7,"easeInQuad").call(function(){o=s.default.playParticle(a.default.star.hit,n,t.x,t.y)}).wait(3).call(function(){r.stopAndDestroy(),o.stopAndDestroy()});var l=s.default.playParticle(a.default.star.trailBoke,n,e.x,e.y);return new Promise(function(e){aoba.FrameTween.new(l).wait(3).to({x:t.x,y:t.y},7,"easeInQuad").call(e).wait(3).call(function(){l.stopAndDestroy()})})};t.default={shootIdolAttack:u,shootJudgeAttack:l,shootRivalAttack:c,shootRivalMemoryAppeal:f,shootJudgeStar:d}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"addIcon",value:function(e){var t=this.children.length;if(t>=5)this.children[t-1].destroy(),this.children.forEach(function(e){e.x-=15});var n=Math.min(this.children.length,4);e.addToAt(this,0,15*n,0)}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(257),u=r(l),c=n(1074),f=r(c),d=n(36),p=n(1075),h=r(p),y=n(0),m=r(y),_=n(40),g=r(_),b=n(35),v=r(b),w=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(this,t)
;var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.id,s=e.idol,l=e.imagePaths,c=e.linkSkill,d=e.memoryAppealPoint,p=r.fromData(u.default,{skillCardBase:{key:"skill_card_base.png"},skillCardIdol:{key:l.card},skillIcon:f.default.new(d)}),h=p.skillCardBase,y=p.skillCardIdol,m=p.skillIcon;return r._linkIconTextures={on:aoba.Texture.fromImage("link_on.png"),off:aoba.Texture.fromImage("link_off.png")},r._linkSkillIcon=aoba.Sprite.new(r._linkIconTextures.off).addTo(r,-112,-64,{visible:!!c}),r._skillCardBase=h,r._skillCardIdol=y,r._memorySkillGroup=m,n||(r._memorySkillGroup.y+=112),r._selected=!1,r._skillId=o,r._idolId=s.id,r._isMemoryAppeal=!0,r.interactive=!1,r._gaugeFullEffects=[],r._skillCardBase.interactive=!0,r._skillCardBase.on("touchstart",function(){r.emit("touchstart",{target:r})}),r._memorySkillGroup.on("gaugeFull",function(){r._showGaugeFullEffect(),r.emit("gaugeFull",r)}),r._disable(),r}return o(t,e),s(t,[{key:"updateAvailability",value:function(e){e?this._enable():this._disable()}},{key:"_enable",value:function(){this._disabled=!1,this._skillCardIdol.tint=16777215,this._skillCardBase.tint=16777215,this._linkSkillIcon.tint=16777215}},{key:"_disable",value:function(){this._disabled=!0,this._skillCardIdol.tint=8947848,this._skillCardBase.tint=8947848,this._linkSkillIcon.tint=8947848}},{key:"slideUp",value:function(){return aoba.Tween.fromData(this._memorySkillGroup,d.memorySkillCard.slideUp),aoba.Tween.fromData(this,d.memorySkillCard.slideUp)}},{key:"select",value:function(){var e=this;return this._selected?Promise.resolve():this._tween?(this._tween.then(function(){return e.select()}),Promise.resolve()):(this._selected=!0,this._tween=aoba.Tween.fromData(this,d.memorySkillCard.select).call(function(){e._tween=null}).promise(),this._tween)}},{key:"cancel",value:function(){var e=this;return this._selected?this._tween?(this._tween.then(function(){return e.cancel()}),Promise.resolve()):(this._selected=!1,this._tween=aoba.Tween.fromData(this,d.memorySkillCard.cancel).call(function(){e._tween=null}).promise(),this._tween):Promise.resolve()}},{key:"updateLinkSkillState",value:function(e){this._enabledLinkSkill!==e&&(this._enabledLinkSkill=e,this._linkSkillIcon.texture=this._enabledLinkSkill?this._linkIconTextures.on:this._linkIconTextures.off)}},{key:"disappear",value:function(){return this._memorySkillGroup.consume(),this._hideGaugeEffect(),this.emit("consume",this),this.cancel()}},{key:"increaseGaugeTo",value:function(e){this._memorySkillGroup.increaseTo(e)}},{key:"_showGaugeFullEffect",value:function(){aoba.soundManager.playSE(v.default.maxMemory);var e=m.default.playParticle(g.default.memoryAppealGauge.heart2,this._memorySkillGroup,0,0);this._gaugeFullEffects.push(e);var t=aoba.Sprite.new("concert_heart.png").addTo(this._memorySkillGroup,0,4,{anchor:.5});this._gaugeFullEffects.push(t),aoba.FrameTween.new(t).to({scaleX:1.94,scaleY:1.94},3,"easeInOutQuad").to({scaleX:1.62,scaleY:1.62},3,"easeInOutQuad").to({scaleX:1.94,scaleY:1.94},3,"easeInOutQuad").to({scaleX:1,scaleY:1},3,"easeInOutQuad").wait(4).loop(),aoba.FrameTween.new(this).to({scaleX:1.15,scaleY:1.15},3).to({scaleX:1,scaleY:1},16)}},{key:"_hideGaugeEffect",value:function(){var e=this;this._gaugeFullEffects.reduce(function(e,t){return e.then(function(){return aoba.FrameTween.new(t).to({alpha:0},5).call(function(){t.destroy()}).promise()})},Promise.resolve()).then(function(){e._gaugeFullEffects=[]})}},{key:"disabled",get:function(){return this._disabled}},{key:"selected",get:function(){return this._selected}},{key:"isMemoryAppeal",get:function(){return this._isMemoryAppeal}},{key:"skillId",get:function(){return this._skillId}},{key:"idolId",get:function(){return this._idolId}},{key:"skillGroupPosition",get:function(){return this._memorySkillGroup.position}}],[{key:"create",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.level>=1?t.new(e,r):h.default.new(n.getImagePath("concert_card"),r)}}]),t}(aoba.Container);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"memorySkillGaugeBase",fullName:"memorySkillGaugeBase",anchor:{x:.5,y:.5},type:"sprite",key:"memory_skill_gauge_base.png",x:0,y:0},{name:"gauge",fullName:"gauge",anchor:{x:.5,y:.5},type:"sprite",key:"memory_skill_gauge.png",x:0,y:0},{name:"memorySkillGaugeFrame",fullName:"memorySkillGaugeFrame",anchor:{x:.5,y:.5},type:"sprite",key:"memory_skill_gauge_frame.png",x:0,y:0},{name:"icon",fullName:"icon",anchor:{x:.5,y:.5},type:"sprite",key:"memory_skill_icon.png",x:0,y:0}],name:"",fullName:"",pivot:{x:.5,y:.5},type:"container",x:1072,y:577}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(4),c=r(u),f=n(1),d=r(f),p=n(35),h=r(p),y=n(0),m=r(y),_=n(40),g=r(_),b=20,v=234,w={1:3,2:5,3:7,4:8,5:10},k=aoba,S=k.DEG_TO_RAD,I=d.default.SCREEN_WIDTH,E=d.default.SCREEN_HEIGHT,A=function(){return aoba.Sprite.new("memory_select_frame.png").setPosition(I/2,E/2).setAnchor(.5)},x=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._moving=!1,n._acceptingJudgement=!1,n._speed=1,n._frame=null,n._judgeResult=null,n._filmBaseOverlay=m.default.graphics.rect(I,E,{alpha:.5}).addTo(n);n._filmBase=aoba.extras.TilingSprite.fromFrame("memory_base.png",v*b,236).addTo(n,-16,E/2,{anchor:aoba.p(0,.5)}),n._bgEffect=aoba.Sprite.new("memory_film_base_effect.png").addToAt(n,n._filmBase,-16,E/2,{anchor:aoba.p(0,.5)}),n._bgEffect.width=v*b,n._bgEffect.height=1.25*n._filmBase.height,n._films=n._createFilms(e).addTo(n,-16,E/2,{pivot:aoba.p(0,.5)}),n._filmOverlay=m.default.graphics.rect(I,n._films.height,{alpha:.8}).addTo(n,0,n._films.y,{pivot:aoba.p(0,.5)});var r=aoba.Sprite.new("memory_appeal_bg_boke.png").addTo(n,0,0,{alpha:.5,blendMode:aoba.BLEND_MODES.SCREEN});return r.width=I,r.height=E,n.on("end",function(){aoba.FrameTween.new(n).to({alpha:0},6).call(function(){n.destroy({children:!0})})}),n}return o(t,e),s(t,[{key:"appear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._moving=!0,this._speed=t,this.alpha=0,aoba.FrameTween.new(this).to({alpha:1},9).call(function(){e._showBgParticle()}),aoba.soundManager.playSE(h.default.startMemoryRoulette),this}},{key:"start",value:function(){var e=this;this._frame=A().addTo(this),this._frame.scale.set(5.5),aoba.FrameTween.new(this._frame).to({scaleX:1,scaleY:1},8,"easeInOutQuart").call(function(){e._acceptingJudgement=!0,e.emit("showFrame"),e._filmOverlay.destroy();var t=A().addTo(e);aoba.FrameTween.new(t).to({scaleX:2.1,scaleY:2.1},7,"easeInOutQuad"),aoba.FrameTween.new(t).to({alpha:0},7).call(function(){t.destroy()})})}},{key:"stopOnGood",value:function(){var e=this,n=this._films.children.find(function(t,n){return n>=12&&t.resultCallBack===e._showSuccessEffect})
;this._films.update=function(){if(e._frame.x-n.getGlobalPosition().x>=0){var r=e._frame.x-n.x;e._films.x=r,e._filmBase.x=r,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pause",e).call(e),delete e._films.update,e.emit("stopOnGood")}}}},{key:"_showBgParticle",value:function(){var e=this,t=m.default.playParticle(g.default.memoryAppeal.bg,this._filmBaseOverlay,568,320);t.container.alpha=0,this.once("showFrame",function(){aoba.FrameTween.new(t.container).to({alpha:1},5).call(function(){e.emit("showFrameEnd")})}),this.once("judgeMemorySkillRoulette",function(){aoba.FrameTween.new(t.container).to({alpha:0},5).call(function(){t.destroy()})})}},{key:"_createFilms",value:function(e){var t=this,n=function(n){return n?{image:e.getImagePath("memory_roulette_good"),resultCallBack:t._showSuccessEffect}:{image:e.getImagePath("memory_roulette_bad"),resultCallBack:t._showFailureEffect}},r=[];(0,c.default)(8).times(function(){r.push(Math.random()<=.5)});var i=[],a=w[e.tensionLevel||5],o=12-a;return(0,c.default)(a).times(function(){i.push(!0)}),(0,c.default)(o).times(function(){i.push(!1)}),i.sort(function(){return Math.random()-.5}),[].concat(r,i).reduce(function(e,t,r){var i=n(t),a=aoba.Sprite.new(i.image);return a.resultCallBack=i.resultCallBack,a.addTo(e,a.width/2+r*a.width,a.height/2,{anchor:.5}),e},aoba.Container.new())}},{key:"judge",value:function(){if(this._judgeResult=this._getJudgeResult(),!this._judgeResult)return this._judgeResult;this._acceptingJudgement=!1;var e=this._frame.x-this._judgeResult.x;return this._films.x=e,this._filmBase.x=e,this._fadeOutBgAndFilm(),this._judgeResult.addTo(this,this._frame.x,this._frame.y),this.emit("judgeMemorySkillRoulette"),this._judgeResult}},{key:"_showSuccessEffect",value:function(e){var t=this;aoba.soundManager.playSE(h.default.memoryRouletteGood),this.emit("decideResult",{isSuccess:!0});var n=aoba.Container.new().addTo(this._filmBaseOverlay,e.x,e.y);m.default.playParticle(g.default.memoryAppeal.impact,n,0,0,{scale:.5}),aoba.FrameTween.new(n).to({scaleX:6.4,scaleY:6.4},4).to({scaleX:7.2,scaleY:7.2},4).to({scaleX:8,scaleY:8,alpha:0},8),aoba.FrameTween.new(this._frame).to({scaleX:1.6,scaleY:1.6},4).to({scaleX:2.4,scaleY:2.4,alpha:0},4);var r=aoba.Sprite.new("text_timing_good.png").addTo(this,e.x,e.y+60,{anchor:.5});aoba.FrameTween.new(r).wait(2).to({rotation:-7*aoba.DEG_TO_RAD},6).to({rotation:-8*aoba.DEG_TO_RAD,alpha:0},6),aoba.FrameTween.new(r).wait(2).to({scaleX:2.9,scaleY:2.9},6,"easeOutQuart").to({scaleX:3.06,scaleY:3.06},6).call(function(){return r.destroy()}),aoba.FrameTween.new(e).to({scaleX:1.6,scaleY:1.6},4).to({scaleX:1.8,scaleY:1.8},4).to({scaleX:2,scaleY:2,alpha:0},4).call(function(){t.emit("end",{isSuccess:!0})})}},{key:"_showFailureEffect",value:function(e){var t=this;aoba.soundManager.playSE(h.default.memoryRouletteBad),this.emit("decideResult",{isSuccess:!1}),this._showBadBg();var n=aoba.Container.new().addTo(this._filmBaseOverlay,e.x,e.y);m.default.playParticle(g.default.memoryAppeal.spark,n,0,0),aoba.FrameTween.new(this._frame).to({scaleX:1.6,scaleY:1.6},4).to({scaleX:2.2,scaleY:2.2,alpha:0},4);var r=aoba.Sprite.new("text_memory_bad.png").addTo(this,e.x,e.y-120,{anchor:.5});aoba.FrameTween.new(r).by({y:6},12),aoba.FrameTween.new(r).by({alpha:1},2),aoba.FrameTween.new(r).to({scaleX:1.2,scaleY:1.2},7,"easeOutQuart").to({scaleX:1,scaleY:1},5,"easeInQuad").to({rotation:-6*aoba.DEG_TO_RAD,y:r.y+24},12).to({rotation:-9*aoba.DEG_TO_RAD,y:r.y+30,alpha:0},6).call(function(){return r.destroy()}),aoba.FrameTween.new(e).to({scaleX:1.32,scaleY:1.32},8,"easeInOutQuad").to({rotation:-6*aoba.DEG_TO_RAD,y:e.y+38},15).to({rotation:-9*aoba.DEG_TO_RAD,y:e.y+46,alpha:0},6).call(function(){t.emit("end",{isSuccess:!1})})}},{key:"_showMissEffect",value:function(){var e=this;aoba.soundManager.playSE(h.default.memoryRouletteMiss),this.emit("decideResult",{isSuccess:!1}),this._showBadBg();var t=aoba.Text.new("miss",{fill:16777215,fontSize:84,stroke:11622820,strokeThickness:12}).addTo(this,this._frame.x,this._frame.y,{anchor:.5});aoba.FrameTween.new(t).wait(2).by({y:20},8).by({y:4,alpha:-1},12).call(function(){e.emit("end",{isSuccess:!1})}),aoba.FrameTween.new(this._frame).wait(2).by({rotation:10*S,y:40},8).by({rotation:2*S,y:8,alpha:-1},8)}},{key:"_showBadBg",value:function(){var e=aoba.Sprite.new("memory_bad_bg.png").addToAt(this,this._bgEffect,0,0,{scale:4,alpha:0,blendMode:aoba.BLEND_MODES.ADD});aoba.FrameTween.new(e).to({alpha:1},6)}},{key:"_fadeOutBgAndFilm",value:function(){aoba.FrameTween.new(this._films).to({alpha:0},5),aoba.FrameTween.new(this._filmBase).to({alpha:0},5),aoba.FrameTween.new(this._bgEffect).to({alpha:0},5)}},{key:"_getJudgeResult",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._films.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value,o=a.x+this._films.x,s=this._frame.bounds;if(o>=s.left&&o<=s.right)return a}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}return null}},{key:"ezgUpdate",value:function(e){if(this._moving){var t=v*(e/(5e3/30))*this._speed;this._filmBase.x-=t,this._bgEffect.x-=t,this._films.x-=t,this._acceptingJudgement&&this._films.bounds.right<this._frame.bounds.left&&(this._showMissEffect(),this._acceptingJudgement=!1)}}}]),t}(aoba.Container);t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1079),u=r(l),c=n(115),f=r(c),d=function(e,t){return e+"/"+t},p=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._mental=e,r._maxMental=n;var o=r.fromData(u.default,{icon:{scale:.84},gauge:f.default.new("concert_mental_gauge.png",{maxValue:r._maxMental,value:r._mental}),value:{text:d(r._mental,r._maxMental)}}),s=o.gauge,l=o.value;return l.style.stroke=4076865,l.style.strokeThickness=4,r._gauge=s,r._value=l,r._gauge.once("empty",function(){r.emit("gaugeEmpty")}),r}return o(t,e),s(t,[{key:"increase",value:function(e){e=Math.min(e,this._maxMental-this._mental),this._mental+=e,this._gauge.increase(e),this._value.text=d(this._mental,this._maxMental)}},{key:"decrease",value:function(e){e=Math.min(e,this._mental),this._mental-=e,this._gauge.decrease(e),this._value.text=d(this._mental,this._maxMental)}},{key:"setValue",value:function(e){this._mental=e,this._gauge.setValue(e),this._value.text=d(this._mental,this._maxMental)}},{key:"value",get:function(){return this._mental}},{key:"mentalRate",get:function(){return this._mental/this._maxMental}},{key:"isRetired",get:function(){return 0===this._mental}},{key:"isWarning",get:function(){return this.mentalRate<.2}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(259),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=e.name,o=e.comment,l=e.imagePaths,u=e.isMemoryAppeal,c=void 0,f=void 0;u?(c="memory_skill_detail_base.png",f=.66):(c="skill_detail_base.png",f=1);var d=n.fromData(s.default,{skillDetailBase:{key:c},idolIcon:{key:l&&l.icon,scale:f},name:{text:a},description:{text:o}});return d.description.style.wordWrap=!0,d.description.style.wordWrapWidth=260,d.description.style.breakWords=!0,n}return a(t,e),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(259),l=r(s),u=n(20),c=r(u),f=n(1),d=r(f),p=function(e){return""+d.default.env.ASSET_ROOT+c.default.createImagePath("characters","link_skill_icon",e)},h=11184810,y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.name,o=e.comment,s=e.linkSkillIdols,u=e.linkSkillType,c=e.enabledLinkSkill,f=n.fromData(l.default,{skillDetailBase:{key:"skill_detail_base_link.png"},idolIcon:null,name:{text:r},description:{text:o}}),d=aoba.Container.new();if(s.forEach(function(e,t){(e?aoba.Sprite.from(p(e.characterId)):aoba.Sprite.new("unknown_idol_icon.png")).addTo(d,52*t,0)}),"linear"===u)for(var y=d.children.length-1,m=0;m<y;m++){var _=aoba.Sprite.new("link_skill_arrow.png"),g=d.children[m];_.addTo(d,g.x+g.width,g.height/2,{anchor:.5})}return d.addTo(n,19,11),f.description.style.wordWrap=!0,f.description.style.wordWrapWidth=260,f.description.style.breakWords=!0,c||(f.skillDetailBase.tint=h,f.description.tint=h,f.name.tint=h,d.children.forEach(function(e){e.tint=h})),n}return o(t,e),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(35),u=r(l),c=n(40),f=r(c),d=n(0),p=r(d),h={NAME:{fill:16777215,fontFamily:"HummingStd-E",fontSize:24,stroke:16471329,strokeThickness:8},COMMENT:{fill:5329760,fontFamily:"HummingStd-E",fontSize:20,stroke:16777215,strokeThickness:8}},y=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return aoba.Text.new(r.name,h.NAME).addTo(o,0,-24,{anchor:.5}),aoba.Text.new(r.comment,h.COMMENT).addTo(o,0,20,{anchor:.5}),aoba.Sprite.new(n).addTo(o,-320,0,{anchor:.5}),o}return o(t,e),s(t,[{key:"slideIn",value:function(){return this.x+=51.5,aoba.FrameTween.new(this).by({x:-80},5).by({x:-23},18).promise()}}]),t}(aoba.Sprite),m=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._particleContainer=aoba.Container.new().addTo(r);var o=aoba.Sprite.new("passive_skill_base_boke.png");return o.setProps({anchor:.5,scale:aoba.p(3.65,2.12),blendMode:aoba.BLEND_MODES.ADD}),o.addTo(r,o.width/2,0),r._band=y.new("passive_skill_base_normal.png",e,n),r._band.addTo(r,o.width/2-40,0,{anchor:.5}),r.alpha=0,r}return o(t,e),s(t,[{key:"play",value:function(){var e=this;return aoba.soundManager.playSE(u.default.passiveSkill),this._band.slideIn(),aoba.FrameTween.new(this).to({alpha:1},3).call(function(){p.default.playParticle(f.default.flashLine1,e._particleContainer,0,-60,{startTime:400})}).wait(17).to({alpha:.7},1).to({alpha:0},2).promise()}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(35),c=r(u),f=n(40),d=r(f),p=n(0),h=r(p),y=1.43,m={NAME:{fill:16777215,fontFamily:"HummingStd-E",fontSize:28,stroke:5654937,strokeThickness:8},COMMENT:{fill:5329760,fontFamily:"HummingStd-E",fontSize:18,lineHeight:28,stroke:16777215,strokeThickness:8,wordWrap:!0,wordWrapWidth:400,breakWords:!0}},_=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._particleContainer=aoba.Container.new().addTo(r),r._bg=aoba.Sprite.new("passive_skill_base_special.png"),r._bg.addTo(r,0,r._bg.height/2+20,{scale:y,anchor:aoba.p(0,.5)}),aoba.Text.new(n.name,m.NAME).addTo(r._bg,536,-12,{anchor:aoba.p(.5,0),scale:1/y}),aoba.Text.new(n.comment,m.COMMENT).addTo(r._bg,536,18,{anchor:aoba.p(.5,0),scale:1/y}),r._idolSpine=h.default.Spine.new(e),r._idolSpine.addTo(r,320,360),r._idolSpine.play("skill3"),r._bg.scale.y=0,r._bg.alpha=0,r._idolSpine.scale.y=0,r._idolSpine.alpha=0,r.on("added",function(){r._idolSpine.mask=aoba.Graphics.new().beginFill(0).drawPolygon([0,0,1136,0,1136,552,0,582])}),r.on("removed",function(){r._idolSpine.mask=null}),r}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._idolSpine.remove(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"play",value:function(){var e=this;aoba.soundManager.playSE(c.default.passiveSkill);var t=aoba.Sprite.new("flash_light_ssr_01.png").addTo(this,0,this._bg.y-52,{anchor:aoba.p(.5,0),blendMode:aoba.BLEND_MODES.SCREEN});return new Promise(function(n){aoba.FrameTween.new(t).to({scaleX:29.7},5).call(function(){aoba.FrameTween.new(e._bg).wait(1).to({scaleY:y,alpha:1},8).call(function(){h.default.playParticle(d.default.flashLine2,e._particleContainer,0,136,{startTime:400})}).to({scaleY:1.02*y},28),aoba.FrameTween.new(e._idolSpine).wait(1).to({scaleY:1,alpha:1},8).to({
scaleY:1.02},28),aoba.FrameTween.new(e._particleContainer).wait(26).to({alpha:0},6),aoba.FrameTween.new(e).wait(32).to({alpha:0},6).call(function(){return n(e)})}).to({scaleX:30.7,alpha:0},5)})}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createAndPlayAppealStartEffect=void 0;var i=n(19),a=r(i),o=n(0),s=r(o),l=n(40),u=r(l),c=n(35),f=r(c),d=t.createAndPlayAppealStartEffect=function(){var e=aoba.Container.new();aoba.soundManager.playSE(f.default.appealStart),s.default.createDialogOverlay(.5).addTo(e);var t=aoba.Container.new();s.default.playParticle(u.default.stageFlash013,t,280,0);var n=aoba.FrameAnimation.new("images/ui/concert/effects/fireworks_blue.png",120,120,{fps:30,blendMode:aoba.BLEND_MODES.ADD});n.setProps({anchor:.5,scale:8}),n.play();var r=new PIXI.AEDataInterceptor({"FlashLight_SSR_g.png":{blendMode:aoba.BLEND_MODES.SCREEN},"FlashLight_SSR_o.png":{blendMode:aoba.BLEND_MODES.SCREEN},"FlashLight_SSR_p.png":{blendMode:aoba.BLEND_MODES.SCREEN},"FlashLight_SSR_b.png":{blendMode:aoba.BLEND_MODES.SCREEN},spot_light_result_r:{blendMode:aoba.BLEND_MODES.ADD}});return(0,a.default)({folderPath:"concert/appeal_start",interceptor:r}).then(function(r){e.addChild(r),t.addTo(r.find("stage_flash_01_3")[0]);var i=r.find("text_appeal_1.png")[0],a=r.find("text_start_1.png")[0];i.mask=aoba.Sprite.new("text_appeal_mask.png").addTo(i),a.mask=aoba.Sprite.new("text_start_mask.png").addTo(a);var o=void 0,l=void 0;aoba.FrameTween.new(e).wait(14).call(function(){n.addTo(r.find("fireworks_blue")[0],500,500),o=s.default.commonUiHelper.createGlossEffect().addTo(i,0,0)}).wait(3).call(function(){l=s.default.commonUiHelper.createGlossEffect().addTo(a,0,0)}),r.play(),r.on("completed",function(){t.destroy({children:!0}),n.destroy({children:!0}),i.mask.destroy(),a.mask.destroy(),o&&o.destroy({children:!0}),l&&l.destroy({children:!0}),r.destroy(!0),e.emit("end",e),e.destroy({children:!0})}),e.ezgUpdate=function(e){n&&n.parent&&n.ezgUpdate(e)}}),e};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(0),s=r(o),l=n(40),u=r(l),c=n(19),f=r(c),d=n(35),p=r(d),h=a.default.SCREEN_WIDTH,y=a.default.SCREEN_HEIGHT,m=function(e){var t=aoba.Container.new(),n=s.default.graphics.rect(h,y,{fill:65571});return n.alpha=0,aoba.FrameTween.new(t).call(function(){n.addTo(t),aoba.FrameTween.new(n).to({alpha:.7},28)}).wait(22).call(function(){aoba.soundManager.playSE(p.default.audienceVoice),aoba.soundManager.playSE(p.default.idolRetire);var n=aoba.Container.new().addTo(t);n.alpha=0,s.default.playParticle(u.default.retireAura,n,640,40),e.addTo(n,840,640),e.play("sad2"),aoba.FrameTween.createFadeIn(n,5)}).wait(5).call(function(){t.emit("middle",t),(0,f.default)({folderPath:"concert/audition_failure"}).then(function(e){t.addChild(e),e.position.set(478,310),e.pivot.set(e.width/2,e.height/2),e.play(),e.on("completed",function(){e.destroy(!0)})})}).wait(55).call(function(){var e=s.default.graphics.rect(h,y,{fill:0}).addTo(t);e.alpha=0,aoba.FrameTween.createFadeIn(e,20).call(function(){return t.emit("end",t)})}),t};t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"idol_list_container_base.png",url:"images/ui/idol_list/idol_list_container_base.png"},"images/ui/idol_list/parts.json"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1113),f=r(c),d=n(1114),p=r(d),h=n(1115),y=r(h),m=n(1119),_=r(m),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._uiLayer=aoba.Container.new(),n.fromData(f.default,{bg:u.default.MovingBg.new(),ui:n._uiLayer});var r=n._uiLayer.fromData(p.default,{deck:y.default.new(),deckSelect:_.default.new(),backButton:u.default.CancelButton.new("back_button.png"),autoSelectButton:{class:u.default.DecideButton},bounusButton:{class:u.default.DecideButton},decisionButton:u.default.DecideButton.new("decision_button.png"),produceTipsButton:{class:u.default.DecideButton}});if(e){var o=u.default.commonUiHelper.createHeader(e).addTo(n._uiLayer);o.x-=p.default.x,o.y-=p.default.y}return n._deck=r.deck,n._backButton=r.backButton,n._deckSelect=r.deckSelect.hide(),n._autoSelectButton=r.autoSelectButton.hide(),n._bounusButton=r.bounusButton,n._decisionButton=r.decisionButton.hide(),n._produceTipsButton=r.produceTipsButton.hide(),n._deck.on("produceIdol",function(){n.emit("selectProduceIdol")}),n._deck.on("supportIdol",function(e){n.emit("selectSupportIdol",e)}),n._deck.on("holdDownIdol",function(e,t){return n.emit("showIdolDetail",e,t)}),n._deckSelect.on("deck",function(e){n.emit("selectDeck",e)}),n._backButton.on("tap",function(){n.emit("back")}),n._autoSelectButton.on("tap",function(){n.emit("autoSelectSupportIdols")}),n._bounusButton.on("tap",function(){n.emit("showSupportSkillBonus")}),n._decisionButton.on("tap",function(){n.emit("requestStartProduce")}),n._produceTipsButton.on("tap",function(){n.emit("showProduceTips")}),n}return o(t,e),s(t,[{key:"open",value:function(e,t){this._deck.open(e[t]),this._deckSelect.open(t),this._autoSelectButton.show(),this._decisionButton.show(),this._open()}},{key:"openToShowProduceDeck",value:function(e){this._deck.open(e),this._open()}},{key:"_open",value:function(){this._uiLayer.alpha=0,aoba.FrameTween.new(this._uiLayer).to({alpha:1},15,"easeOutQuad"),this._uiLayer.show(),this.show()}},{key:"close",value:function(){var e=this;aoba.FrameTween.new(this._uiLayer).to({alpha:0},10).call(function(){e.emit("end")})}},{key:"setDeck",value:function(e){this._deck.setDeck(e)}},{key:"setDeckIndex",value:function(e){this._deckSelect.setDeckIndex(e)}},{key:"setDeckName",value:function(e){this._deck.setDeckName(e)}},{key:"autoSelectButton",get:function(){return this._autoSelectButton}},{key:"decisionButton",get:function(){return this._decisionButton}},{key:"produceTipsButton",get:function(){return this._produceTipsButton}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={route:{updateDeck:function(e){return"userDecks/"+e.id},showIdolDetail:function(e){return e.path+"/"+e.idolId}},objsIndex:{idolSupport:function(e){return"idolSupport"+(e.i+1)},idolIconSupport:function(e){return"idolIconSupport"+(e.i+1)},deck:function(e){return"deck"+(e.i+1)},deckText:function(e){return"deck"+(e.i+1)+"/text"}},deckButtonMessage:function(e){var t=e.deckIndex;return i.default.t("deck.deckButtonMessage",{index:t+1})},sortConditionImage:function(e){return"idol_select_btn_order_select_"+e.sortCondition+".png"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"addTab",value:function(e){e.on("touchstart",this._selectTab.bind(this)),e.addTo(this,0,92*this.children.length)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.children,n=e?t[t.length-1]:t[0];this._selectTab({target:n})}},{key:"disableAll",value:function(){this.children.forEach(function(e){e.interactive=!1})}},{key:"enableAll",value:function(){this.children.forEach(function(e){e.interactive=!0})}},{key:"_selectTab",value:function(e){var t=this.children.find(function(e){return e.selected});t&&t.cancel(),e.target.select()}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"itemListContent",fullName:"itemListContent",pivot:{x:.5,y:0},type:"container",x:0,y:0},{children:[{name:"message",fullName:"notice/message",type:"text",text:"\u671f\u9593\u9650\u5b9a\u306e\u3082\u306e\u304c\u512a\u5148\u3057\u3066\u8868\u793a\u3055\u308c\u307e\u3059",style:{fill:16198757,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:29,y:13},{name:"notice ",fullName:"notice/notice ",type:"sprite",key:"icon_notice.png",x:0,y:0}],name:"notice",fullName:"notice",type:"container",x:-195,y:355}],name:"",fullName:"",visible:!1,pivot:{x:.5,y:0},type:"container",x:569,y:119}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1134),u=r(l),c=n(0),f=r(c),d=n(14),p=r(d),h=n(22),y=r(h),m=n(24),_=r(m),g=n(1135),b=r(g),v=n(3),w=r(v),k=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"open",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=w.default.t("deck.title.supportSkillListPop"),i=this._createSupportSkillBonusScrollList(e);p.default.new({size:"m",title:r,type:"close",container:i}).addTo(this).on("closeEnd",function(){return t.emit("closeEnd")}).open(n)}},{key:"_createSupportSkillBonusScrollList",value:function(e){var t=aoba.Container.new(),n=t.fromData(u.default),r=n["listBase/supportSkillBonus"],i=n.listBase,a=n["listBase/scrollBase"];this._createSupportSkillBonusInfoList(e).forEach(function(e,t){b.default.new(e).addTo(r,0,105*t+r.y)}),aoba.Graphics.new().beginFill(0).drawRect(0,0,640,390).addTo(r,0,0,{alpha:0});var o=f.default.commonUiHelper.createScrollBarBase({width:8,height:390});return y.default.new({width:640,height:390,container:r,scrollBar:_.default.new({width:18}),scrollBarBase:o}).addTo(i,0,0),o.addTo(a,0,0),t}},{key:"_createSupportSkillBonusInfoList",value:function(e){var t=[];return e.forEach(function(e){e&&e.acquiredSupportSkills.forEach(function(n){var r=n.supportSkillEffect,i=t.find(function(e){return e.supportSkillEffectId===r.id});i||(i={supportSkillEffectId:r.id,supportSkill:n,supportIdols:[],priority:r.id},t.push(i)),i.supportIdols.push(e)})}),t.sort(function(e,t){return e.priority-t.priority})}}]),t}(aoba.Container);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(173),s=r(o);t.default={get:function(){return a.default.get("userStamina").then(function(e){var t=e.body;return aoba.utils.setPrototypeOf(t,s.default),Promise.resolve(t)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o=r(a),s=n(68),l=r(s);t.default=["images/ui/produce_event/parts_event.json","images/event/select_frame/001.png","images/event/select_frame/002.png","images/event/select_frame/003.png","images/event/text_frame/001.png","images/event/text_frame/002.png","images/event/text_frame/003.png","images/event/text_frame/004.png","images/event/text_frame/005.png","images/event/text_frame/006.png","images/event/text_frame/007.png"].concat(i((0,l.default)(o.default.produce)),i((0,l.default)(o.default.skillBoard)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1149),a=r(i),o=n(0),s=r(o),l=function(e){var t=aoba.Container.new();return t.fromData(a.default,{title:{text:e},line:{instance:s.default.graphics.line(510,{color:6378597}),dy:1}}),t};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(455),u=r(l),c=n(81),f=r(c),d=n(118),p=r(d),h=function(e){function t(e,n,r,o){i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),l=void 0===e.evolutionStage?e:e.skill,c=l.name,d=l.comment,h=l.linkSkill,y=e.releaseConditions,m=e.lockSize;s._unLockEvolutionStage=e.evolutionStage||0;var _=0===e.evolutionStage&&0!==m||e.evolutionStage>=0&&e.evolutionStage>o,g=void 0!==h&&null!==h,b=s.fromData(u.default,{effectTypeIcon:{key:l.getImagePath?l.getImagePath():"",scale:.5,dx:-4,dy:-4},linkButton:g?{class:p.default}:null,lock:{visible:_},"lock/lockText":{text:y},skillName:{text:c},skillComment:{text:d},idolDetailSkillInBase:{alpha:n%2==0?1:0}});return b.skillComment.style.lineHeight=16,b.skillComment.style.wordWrap=!0,b.skillComment.style.wordWrapWidth=432,b.skillComment.style.breakWords=!0,b["lock/lockText"].style.stroke=3090993,b["lock/lockText"].style.strokeThickness=5,s._linkButton=b.linkButton,s._skillName=b.skillName,s._skillComment=b.skillComment,s._lock=b.lock,
r===f.default.SKILL_TYPES.ACTIVE&&g&&s._setLinkButtonEvent(h),s}return o(t,e),s(t,[{key:"changeTextColor",value:function(e){this._skillName.style.fill=e,this._skillComment.style.fill=e}},{key:"_setLinkButtonEvent",value:function(e){var t=this;this._linkButton.on("holdstart",function(){t.emit("tapLinkButton",{linkButton:t._linkButton,linkSkill:e})}),this._linkButton.on("holdend",function(){t.emit("releaseLinkButton",e)})}},{key:"lockOverlay",get:function(){return this._lock}},{key:"linkSkillButton",get:function(){return this._linkButton}},{key:"skillName",get:function(){return this._skillName}},{key:"skillComment",get:function(){return this._skillComment}},{key:"unLockEvolutionStage",get:function(){return this._unLockEvolutionStage}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idolDetailSkillInBase",fullName:"idolDetailSkillInBase",type:"sprite",key:"idol_detail_skill_in_base.png",x:0,y:0},{name:"skillComment",fullName:"skillComment",anchor:{x:0,y:0},type:"text",text:"\uff11\uff11\u79d2\u6bce\u3001\u9ad8\u78ba\u7387\u3067\u5c11\u3057\u306e\u9593\u3001PERFECT\u3067\u30e9\u30a4\u30d5\uff13\u56de\r\u5fa9\u4e00\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:15,y:56},{name:"idolDetailSkillTabLine",fullName:"idolDetailSkillTabLine",type:"sprite",key:"idol_detail_skill_tab_line.png",x:26,y:44},{name:"skillName",fullName:"skillName",type:"text",text:"\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:53,y:24},{name:"effectTypeIcon",fullName:"effectTypeIcon",type:"sprite",key:"icon_skill_s_buff.png",x:15,y:8},{name:"linkButton",fullName:"linkButton",anchor:{x:.5,y:.5},type:"sprite",key:"btn_LINK.png",x:460,y:22},{name:"skillLevel",fullName:"skillLevel",visible:!1,type:"text",text:"Lv.1",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:374,y:24},{children:[{name:"idolDetailLockPanel",fullName:"lock/idolDetailLockPanel",type:"sprite",key:"idol_detail_lock_panel.png",x:0,y:0},{name:"lockText",fullName:"lock/lockText",type:"text",text:"\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\r\uff11\u884c\u5168\u89d220\u6587\u5b57\u5165\u308a\u307e\u3059\u3002",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:49,y:34}],name:"lock",fullName:"lock",type:"container",x:38,y:14}],name:"",fullName:"",type:"container",x:592,y:176}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1151),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._itemList=e.reduce(function(e,t,n){return t.addTo(e,0,142*n),e},aoba.Container.new()),n.fromData(l.default,{list:n._itemList}),n}return a(t,e),o(t,[{key:"updateSelectedNum",value:function(e){var t=this;e.forEach(function(e){t._itemList.children.find(function(t){return t.id===e.id}).updateSelectedNum(e.selectedNum,e.num)})}},{key:"updatePossessionAndSelectedNum",value:function(e){this._itemList.children.forEach(function(t){var n=e.find(function(e){return e.id});t.updateSelectedNum(0,n.num)})}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1152),f=r(c),d=n(267),p=r(d),h="0",y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default,{icon:p.default.new({iconSprite:e.iconSprite,num:e.num}),name:{text:e.name},dotLine:u.default.dotLine.create({width:352,type:u.default.dotLine.types.DOT_BLACK}),minusButton:{class:u.default.SelectButton},plusButton:{class:u.default.SelectButton},maxButton:{class:u.default.SelectButton},count:{text:h}});return e.shouldShowLine||u.default.graphics.line(474,{color:6378597}).addTo(n,0,120),n._id=e.id,n._plusButton=r.plusButton,n._minusButton=r.minusButton,n._maxButton=r.maxButton,n._countText=r.count,n._consumableItemIcon=r.icon,n}return o(t,e),s(t,[{key:"updateSelectedNum",value:function(e,t){this._countText.text=e,this._consumableItemIcon.updateNum(t);var n=0!==e,r=e<t;this.minusButton.setAvailable(n),this.plusButton.setAvailable(r),this.maxButton.setAvailable(r)}},{key:"id",get:function(){return this._id}},{key:"plusButton",get:function(){return this._plusButton}},{key:"minusButton",get:function(){return this._minusButton}},{key:"maxButton",get:function(){return this._maxButton}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"comment",fullName:"comment",anchor:{x:.5,y:.5},type:"text",text:"\u4ee5\u4e0b\u306e\u30c1\u30b1\u30c3\u30c8\u3092\u4f7f\u3063\u3066\u3001\r\u30a2\u30a4\u30c9\u30eb\u3092\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3057\u307e\u3059\u304b\uff1f",style:{fill:5063497,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:179,y:21},{children:[{name:"item",fullName:"items/item",type:"container",x:-49,y:0}],name:"items",fullName:"items",pivot:{x:.5,y:0},type:"container",x:165,y:66}],name:"",fullName:"",type:"container",x:400,y:225}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=aoba.Sprite.new(a.default.bg.FES),t=new s.default.ParticleSystem(["particles/fes/top_bg/particle.png"],"particles/fes/top_bg/data.json");return t.setPosition(aoba.game.width/2,480),t.play({startTime:6e4}),e.addChild(t.container),e};var i=n(1),a=r(i),o=n(0),s=r(o)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1164),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){return"Lv."+e},c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.fromData(l.default,{text:{text:u(e)}});return a.text.style.stroke=14099572,a.text.style.strokeThickness=4,n._text=a.text,n}return a(t,e),o(t,[{key:"updateLevel",value:function(e){this._text=u(e)}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=225,l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.deckMembers.forEach(function(e,t){e.addTo(n,t*s,0)}),n}return a(t,e),o(t,[{key:"hideStatus",value:function(){this.children.forEach(function(e){return e.hideStatus()})}},{key:"updateDeckMembers",value:function(e){var t=this;this.removeChildren(),e.forEach(function(e,n){e.addTo(t,n*s,0)})}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1165),l=r(s),u=n(1166),c=r(u),f=n(460),d=r(f),p=n(239),h=r(p),y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.fromData(l.default,{deckRank:h.default.new(e.deckRank),value:{text:e.totalEvaluation.toLocaleString()},memoryAppealLevel:{instance:d.default.new(e.memoryAppealLevel),dy:2},vocal:c.default.createVocal(e.parameter.vocal),dance:c.default.createDance(e.parameter.dance),visual:c.default.createVisual(e.parameter.visual),mental:c.default.createMental(e.parameter.mental)}),n}return o(t,e),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"active_skill_select_base_on.png",x:0,y:0},{name:"effectTypeIcon",fullName:"effectTypeIcon",type:"container",x:13,y:13},{name:"name",fullName:"name",type:"text",text:"\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:51,y:29},{name:"linkSkillButton",fullName:"linkSkillButton",anchor:{x:.5,y:.5},type:"sprite",key:"link_skill_button.png",x:380,y:29},{name:"comment",fullName:"comment",anchor:{x:0,y:0},type:"text",text:"\uff11\uff11\u79d2\u6bce\u3001\u9ad8\u78ba\u7387\u3067\u5c11\u3057\u306e\u9593\u3001PERFECT\u3067\u30e9\u30a4\u30d5\uff13\u56de\r\u5fa9\u4e00\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:397,breakWords:!0},rotation:0,x:13,y:63},{name:"checkBox",fullName:"checkBox",anchor:{x:.5,y:.5},type:"sprite",key:"skill_select_check_box_on.png",x:455,y:57}],name:"",fullName:"",type:"container",x:429,y:35}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={fesPositionName:function(e){var t=e.position;return i.default.t("fes.fesPositionName."+t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={login:function(e){localStorage.setItem("userId",e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={topRank:"sounds/se/167.m4a",normalRank:"sounds/se/168.m4a",scores:"sounds/se/169.m4a",newRecord:"sounds/se/170.m4a",countUp:"sounds/se/171.m4a"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){var n=e.userFesIdol,a=e.rarity,o=e.isShowSign,s=void 0!==o&&o;r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.getImagePath("fes_card"))),c=aoba.Sprite.new("idol_card_frame_"+a+".png").addTo(u,-4,-2,{scale:2.18});u.mask=aoba.Graphics.new().beginFill(0).drawRoundedRect(-4,-2,c.width,c.height).addTo(u);var f="icon_fes_idol_rank_s_"+n.fesIdolRank.rank.toLowerCase()+".png";if(aoba.Sprite.new(f).addTo(c,4,4),aoba.Sprite.new(n.getImagePath("name")).addTo(c,300,184,{scale:.48}),s&&a===l.default.app.RARITIES.SSR)aoba.Sprite.new(n.getImagePath("sign")).addTo(c,12,283,{scale:.46}).anchor.y=1;return u._frame=c,u}return a(t,e),o(t,[{key:"hideFrame",value:function(){this._frame.hide()}},{key:"showFrame",value:function(){this._frame.show()}}]),t}(aoba.Sprite);t.default=u},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(106),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(t,n,r){var a=r.filter(function(e){return e.category===t&&e.value<=n}),o=e.max(a,function(e){return e.value});return i.default.ICON_KEY_OF_STATUS_RANK[o.rank]};t.default=a}).call(t,n(4))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(81),f=r(c),d=n(470),p=r(d),h=n(269),y=r(h),m=n(22),_=r(m),g=n(24),b=r(g),v=n(77),w=r(v),k={WIDTH:525.99,HEIGHT:398},S=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.activeSkills,o=e.passiveSkills,s=e.limitBreaks,l=n.fromData(p.default,{noSkillMessage:{visible:!r&&!o&&!s}});n._linkSkillLayer=aoba.Container.new().addTo(n),n._linkAppealDetails={};var u=l.skillList;return r&&r.length>0&&y.default.new(r,f.default.SKILL_TYPES.ACTIVE).on("tapLinkButton",function(e,t){n._showLinkSkill(e.linkButton,e.linkSkill,t,u.y)}).on("releaseLinkButton",function(e){n._deleteLinkSkill(e)}).addTo(u,0,0),o&&o.length>0&&y.default.new(o,f.default.SKILL_TYPES.PASSIVE).addTo(u,0,u.height+20),s&&s.length>0&&y.default.new(s,f.default.SKILL_TYPES.OTHER).addTo(u,0,u.height+20),n.height>k.HEIGHT&&n._createScrollBar(l.scrollBar,u),n}return o(t,e),s(t,[{key:"reset",value:function(){var e=this;return Object.keys(this._linkAppealDetails).forEach(function(t){e._linkAppealDetails[t]&&(e._linkAppealDetails[t].destroy(),e._linkAppealDetails[t]=null)}),this}},{key:"_createScrollBar",value:function(e,t){var n=u.default.commonUiHelper.createScrollBarBase({width:8,height:k.HEIGHT});_.default.new({width:k.WIDTH,height:k.HEIGHT,container:t,scrollBar:b.default.new({width:18}),scrollBarBase:n}).addToAt(this,e,0,0),n.addTo(e,0,0)}},{key:"_showLinkSkill",value:function(e,t,n,r){this._deleteLinkSkill(t),this._linkAppealDetails[t.id]=w.default.new(t).addTo(this._linkSkillLayer,125,100*n-70+r,{visible:!0})}},{key:"_deleteLinkSkill",value:function(e){this._linkAppealDetails[e.id]&&(this._linkAppealDetails[e.id].destroy({children:!0}),this._linkAppealDetails[e.id]=null)}}]),t}(aoba.Container);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"expandLayer",fullName:"expandLayer",visible:!1,type:"graphics",fill:0,alpha:1,width:526,height:398,shape:"rect",x:0,y:0},{name:"skillList",fullName:"skillList",type:"container",x:0,y:0},{name:"noSkillMessage",fullName:"noSkillMessage",visible:!1,type:"text",text:"\u3010\u672a\u7fd2\u5f97\u3011\r\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u4e2d\u306e\u632f\u308a\u8fd4\u308a\u3067\u7fd2\u5f97\u3067\u304d\u307e\u3059",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:74,y:176},{name:"scrollBar",fullName:"scrollBar",type:"container",x:507,y:0}],name:"",fullName:"",type:"container",x:592,y:137}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1235),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._gasha=e;var r=e.currencyType;e.userGashaTicket&&(r=e.userGashaTicket.gashaTicket.image);var o=n.fromData(f.default,{gashaButton:{class:u.default.DecideButton,key:e.getButtonImage()},"money/amount":{text:e.price},"money/gashaIcon":aoba.Sprite.new(n._getButtonIcon()),description:{key:"text_"+e.quantity+"_round.png"}}),s=o.gashaButton,l=o.drawFinished,c=o.limitedText,d=o.description,p=o.srTicketBalloon,h=o.ssrFixTicketBalloon;return n._gashaButton=s,e.limitedPerDay&&(c.show(),d.hide()),"sr_ticket"===r&&p.show(),"ssr_fix_ticket"===r&&h.show(),e.canDraw||(s.hide(),l.show(),p.hide(),h.hide(),s.setInteractive(!1)),s.on("tap",function(){return n.emit("tapGashaButton",e)}),n}return o(t,e),s(t,[{key:"_getButtonIcon",value:function(){return"gasha_ticket"!==this._gasha.currencyType?this._gasha.getSmallIconImage():this._gasha.userGashaTicket.gashaTicket.getSmallIconImage()}},{key:"disable",value:function(){this._gashaButton.setInteractive(!1)}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1244),u=r(l),c=n(3),f=r(c),d=n(14),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.currency;n._gasha=e.gasha,n._currencyType=e.currencyType,n._gashaTicketName=e.gashaTicketName,n._price=n._gasha.price;var o=aoba.Container.new();return o.fromData(u.default,{"checkLayer/list/description":{text:n._getDesc()},"checkLayer/list/inner/before":{text:r},"checkLayer/list/inner/after":{text:r-n._price},"checkLayer/list/inner/base":{key:"base_"+n._currencyType+".png"}})["checkLayer/list/description"].style.align="center",p.default.new({title:f.default.t("gasha.checkPopHeader"),container:o,buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"ok_button.png"}]}).on("submit",function(){return n.emit("tapUseButton")}).on("closeEnd",function(){return n.emit("tapCancelButton")}).addTo(n).open(),n}return o(t,e),s(t,[{key:"_getDesc",value:function(){var e=this._price,t=this._gasha.quantity;return"jewel"===this._currencyType?f.default.t("gasha.popJewelDesc",{price:e,quantity:t}):f.default.t("gasha.popTicketDesc",{ticketName:this._gashaTicketName,quantity:t})}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1267),f=r(c),d=n(110),p=r(d),h=n(251),y=r(h),m=n(23),_=r(m),g=n(1),b=r(g),v=n(3),w=r(v),k=n(7),S=r(k),I=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._idols=e;var o=r.fromData(f.default,{header:u.default.commonUiHelper.createHeader(w.default.t("header.gasha")),"result/resultBg":y.default.new(),"result/btn/OK":u.default.DecideButton.new("ok_button.png"),"result/btn/retry":{class:p.default},"result/messageBottom":{text:w.default.t("gasha.resultMessage")}}),s=o["result/btn/OK"],l=o["result/btn/retry"];if(r._resultWindow=o["result/window"],r._idolWindow=o["result/window/idol"],r._idolIcon=o["result/window/idol/idolIcon"],r._newIcon=o["result/newIcon"],!n){var c=new aoba.filters.ColorMatrixFilter;c.brightness(.6,!0),l.filters=[c],l.interactive=!1}return r._startTween(),s.on("tap",function(){r.emit("tapOkButton")}),l.on("tap",function(){r.emit("tapRetryButton")}),r}return o(t,e),s(t,[{key:"_startTween",value:function(){var e=this;this._idolIconEffects=[],this._idols.forEach(function(t,n){var r=e._idolIcon.x+n%5*150,i=e._idolIcon.y+150*Math.floor(n/5),a=e._newIcon.x+n%5*150,o=e._newIcon.y+150*Math.floor(n/5),s=t.rarity===b.default.app.RARITIES.SSR,l=aoba.Sprite.new(t.getImagePath("icon")).setScale(0).addTo(e._idolWindow,r+72,i+72,{alpha:0,anchor:.5});if(s){l.mask=aoba.Graphics.new().beginFill(0).drawRoundedRect(r,i,144,144,10).addTo(e._idolWindow);var u=[];u.push(aoba.Sprite.new("idol_icon_effect.png").addTo(l,-75,-100,{rotation:45*aoba.DEG_TO_RAD,alpha:.5})),u.push(aoba.Sprite.new("idol_icon_effect.png").addTo(l,-75,-100,{rotation:45*aoba.DEG_TO_RAD,alpha:.5})),u.push(aoba.Sprite.new(t.getImagePath("icon")).setScale(1.5).addTo(e._idolWindow,r+72,i+72,{alpha:0,anchor:.5})),u.push(aoba.Sprite.new("light_circle.png").setScale(0,0).addTo(e._resultWindow,r+119,i+99,{alpha:1,anchor:.5})),e._idolIconEffects.push(u)}var c=aoba.Sprite.new("common_menu_badge_new.png").setScale(0,0).addTo(e._idolWindow,a,o,{alpha:0,anchor:.5});aoba.Tween.new(l).wait(100*n).call(function(){return aoba.soundManager.playSE(S.default.ui.scroll)}).to({alpha:1,scaleX:1.5,scaleY:1.5},300,"easeOutBack").wait(1100-100*n).call(function(){s&&e._creatParticle(r,i)}),t.isNew&&aoba.Tween.new(c).wait(100*n).to({scaleX:1,scaleY:1,alpha:1},700,"easeOutBack")}),this._playIdolIconEffects()}},{key:"_creatParticle",value:function(e,t){var n=new _.default(["kira.png"],"gasha_result_ssr_particle");this._idolWindow.addChild(n.container),n.setPosition(e+72,t+72),n.play(),aoba.soundManager.playSE("se0082")}},{key:"_playIdolIconEffects",value:function(){this._idolIconEffects.forEach(function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=new aoba.filters.ColorMatrixFilter;a.brightness(3,!0),r.filters=[a],aoba.Tween.new(t).wait(1100).by({x:500},360,"easeInOutCubic").call(function(){return t.destroy()}),aoba.Tween.new(n).wait(1100).by({x:500},360,"easeInOutCubic").call(function(){return n.destroy()}),aoba.Tween.new(r).wait(1300).to({alpha:.2},150).to({alpha:0,scaleX:1.6,scaleY:1.6},700),aoba.Tween.new(i).wait(1400).to({scaleX:1,scaleY:1,alpha:1},300,"easeInOutCirc").to({alpha:0},400).call(function(){i.destroy(),aoba.Tween.new(r).wait(800).to({scaleX:1.5,scaleY:1.5},50).to({alpha:.2},150).to({alpha:0,scaleX:1.6,scaleY:1.6},700).loop()})})}}]),t}(aoba.Container);t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(4),c=r(u),f=n(1),d=r(f),p=n(39),h=r(p),y=n(1268),m=r(y),_=n(5),g=r(_),b=n(1270),v=r(b),w=n(403),k=r(w),S=n(169),I=r(S),E=n(21),A=r(E),x=n(0),C=r(x),T=n(42),P=r(T),O=n(406),N=r(O),M=function(e){function t(e){var n=e.user,r=e.myPage,o=e.loginBonuses,s=e.earthUser;i(this,t);var l=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l._user=n,l._earthUser=s,l._myPage=r,l._mainLayer=v.default.new(n,r,s).addTo(l),aoba.soundManager.playBGMAsync(d.default.bgm.home),l._otherSceneTasks=[],o&&l._otherSceneTasks.push(function(){l._gotoLoginBonus(o)}),l._shouldGotoNotice()&&l._otherSceneTasks.push(function(){l._gotoNotice()}),r.reportUserMissions.length>0&&l._otherSceneTasks.push(function(){l._gotoReportUserMissions(r.reportUserMissions)}),l}return o(t,e),s(t,[{key:"_gotoLoginBonus",value:function(e){A.default.loadSceneAsync("loginBonus",{additive:!0,asset:!1,sceneParams:{loginBonuses:e},showLoading:!1})}},{key:"_gotoReportUserMissions",value:function(e){var t=I.default.getProduceData(this._myPage);A.default.loadSceneAsync("missionAchievement",{additive:!0,asset:!1,sceneParams:{userMissions:e,produceData:t},showLoading:!1})}},{key:"_shouldGotoNotice",value:function(){var e=localStorage.getItem("TimeOfLastNotification");return!e||Date.now()-e>=288e5}},{key:"_shouldShowPfPopup",value:function(){return this._earthUser.isGuest()&&k.default.doesTimePass()}},{key:"_gotoNotice",value:function(){this.showLoadingLayer(),setTimeout(function(){A.default.loadSceneAsync("notice",{additive:!0,asset:!1,showLoading:!1})},1e3)}},{key:"_showPfJoinPopup",value:function(){var e=this;this.showLoadingLayer(),setTimeout(function(){e.hideLoadingLayer();var t=k.default.new().addTo(e);t.once("tapClose",function(){return t.close()}).once("tapButton",function(e){if("join"===e.type)return void N.default.jumpTo.signupForm();N.default.jumpTo.loginForm()}),t.open()},600)}},{key:"_showDrawer",value:function(e){P.default.PF_URI&&(N.default.ui.showDrawer(!1),this.addDrawerButton())}},{key:"_hideDrawer",value:function(){P.default.PF_URI&&N.default.ui.hideDrawer()}},{key:"_onRemoved",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onRemoved",this).call(this);var e=document.getElementsByClassName("sssdk-wrapper");e&&e.length>0&&e[0].remove()}},{key:"onEnter",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onEnter",this).call(this),this._otherSceneTasks.length?this._otherSceneTasks.shift()():this._shouldShowPfPopup()&&this._showPfJoinPopup(),this._isPaused&&(this._isPaused=!1,this._mainLayer.onResume()),this._showDrawer(this._user.earthUserId)}},{key:"_onExit",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onExit",this).call(this),this._isPaused=!0,this._mainLayer.onPause(),this._hideDrawer()}},{key:"addDrawerButton",value:function(){this._pfButton=C.default.DecideButton.new("drawer_btn_default_logo.png").addTo(this,1100,46).on("tap",function(){window.ezpf.ui.openDrawer()})}}],[{key:"request",value:function(){var e=[]
;return[h.default.user.get,h.default.earthUser.get,h.default.loginBonus.get,h.default.myPage.get].reduce(function(t,n){return t.then(function(){return n().then(function(t){return e.push(t)})})},Promise.resolve()).then(function(){var t=e[0],n=e[1],r=e[2],i=e[3];return{user:t,myPage:i,loginBonuses:r,earthUser:n}})}},{key:"getContentResources",value:function(e){function t(e){e.rewards.forEach(function(e){["jewel","money"].includes(e.contentType)||i.push(e.getIconImagePath())})}var n=e.myPage,r=e.loginBonuses,i=[];return n.idols.forEach(function(e){e.hasHomeCard()?i.push(e.getImagePath("home_card")):i.push(e.getImagePath("card"))}),n.produceIdol&&i.push(n.produceIdol.getImagePath("icon")),n.specialBanner&&i.push(n.specialBanner.getImagePath()),n.generalBanners.forEach(function(e){i.push(e.getImagePath())}),r?(r.normalLoginBonus.loginBonus.sheets.forEach(function(e){t(e)}),r.specialLoginBonuses.forEach(function(e){i.push(e.bgPath),e.loginBonus.sheets.forEach(function(e){t(e)})}),r.totalLoginBonuses.forEach(function(e){t(e)}),c.default.unique(i)):c.default.unique(i)}},{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(d.default.bgm.home)]}},{key:"uiResources",get:function(){return m.default}}]),t}(g.default);t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"skillOff",fullName:"tabs/skillOff",type:"sprite",key:"skill_learned_off.png",x:0,y:0},{name:"memoryAppealOff",fullName:"tabs/memoryAppealOff",type:"sprite",key:"memory_appeal_off.png",x:128,y:0},{name:"eventOff",fullName:"tabs/eventOff",type:"sprite",key:"event_off.png",x:256,y:0},{name:"profileOff",fullName:"tabs/profileOff",type:"sprite",key:"profile_off.png",x:384,y:0}],name:"tabs",fullName:"tabs",type:"container",x:573,y:0},{name:"skill",fullName:"skill",type:"container",x:566,y:0},{name:"memoryAppeal",fullName:"memoryAppeal",type:"container",x:566,y:0},{name:"event",fullName:"event",type:"container",x:581,y:0},{name:"profile",fullName:"profile",type:"container",x:581,y:0},{name:"parameter",fullName:"parameter",type:"container",x:3,y:362},{name:"evolutionButton",fullName:"evolutionButton",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"evolution_button.png",x:1015,y:508},{name:"cardSwitchButton",fullName:"cardSwitchButton",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"card_switch_button.png",x:522,y:77},{children:[{name:"text",fullName:"fromGashaNotice/text",type:"text",text:"\u5404\u30b9\u30c6\u30fc\u30bf\u30b9\u3001\u7279\u8a13\u56de\u6570\u306f\u521d\u671f\u72b6\u614b\u306e\u5024\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:22},anchor:{x:0,y:.5},rotation:0,x:21,y:11}],name:"fromGashaNotice",fullName:"fromGashaNotice",visible:!1,type:"sprite",key:"icon_notice_red.png",x:452,y:500}],name:"",fullName:"",type:"container",x:26,y:81}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1279),l=r(s),u=n(13),c=r(u),f=n(1),d=r(f),p=n(468),h=r(p),y={NORMAL:"normal_limit_break_star.png",MAX:"max_limit_break_star.png"},m=function(e){function t(e,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u={};["vocal","dance","visual","mental"].forEach(function(t){u[t+"/iconStatusRank"]={key:(0,h.default)(t,e[t],r)},u[t+"/number"]={text:""+c.default.numberFormat(e[t])}}),u["fan/fanUnit"]={visible:o},["skillPoint","fan"].forEach(function(t){u[t+"/noScoreText"]={visible:!o},o&&(u[t+"/score"]={text:c.default.numberFormat(e[t]),visible:!0})});for(var f=s.fromData(l.default,u),p=n===d.default.app.MAX_EVOLUTION_STAGE?y.MAX:y.NORMAL,m=0;m<n;m++)aoba.Sprite.new(p).addTo(f["limitBreak/base"],36*m,0);return s}return o(t,e),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1285),u=r(l),c=n(14),f=r(c),d=n(3),p=r(d),h=n(252),y=r(h),m=n(117),_=r(m),g=n(162),b=r(g),v=function(e){function t(e,n,r,o){var s=e.event,l=e.hasRead;i(this,t);var c=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),d=aoba.Container.new();return d.fromData(u.default,{"event/eventConditionText":{text:p.default.t("idolDetail.trueEndDialog.condition")},"eventReward/noRewardMessage":{visible:!s.mission},"eventReward/rewardDetail":s.mission?y.default.new(s.mission.missionRewards[0]):null}),f.default.new({title:p.default.t("idolDetail.trueEndDialog.title"),container:d,buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"story_button.png",grayFilter:!l}]}).addTo(n).on("submit",function(){c._showEvent(s,r,o)}).open(),c}return o(t,e),s(t,[{key:"_showEvent",value:function(e,t,n){e.eventCategory=b.default.concertEvent;var r=new _.default({event:e,userProduceIdol:n}).addTo(t);dlog(!1,"showEvent_1",e,t,n);return r.preload().then(function(e){return r.play(e)}).then(function(){t.removeChildren(),aoba.Tween.new(aoba.soundManager.bgm).to({volume:0},320)})}}]),t}(aoba.Container);t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(20),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(){r(this,e)}return i(e,null,[{key:"getVoicePath",value:function(e){return o.default.createVoicePath("staff",e)}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}
Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1355),f=r(c),d=n(1),p=r(d),h=n(69),y=r(h),m=n(5),_=r(m),g=n(1356),b=r(g),v=n(486),w=r(v),k=n(487),S=r(k),I=n(117),E=r(I),A=n(111),x=r(A),C=n(108),T=r(C),P=n(1462),O=r(P),N=n(38),M=r(N),R=n(32),D=r(R),F=n(21),B=r(F),j=[y.default.PRODUCE_STATES.AUDITION_EVENT,y.default.PRODUCE_STATES.AFTER_AUDITION_EVENT,y.default.PRODUCE_STATES.AFTER_CONCERT_EVENT,y.default.PRODUCE_STATES.END_OF_PRODUCE],L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.auditionSceneName="produceAudition",n._store=new O.default(e),n._produceAction=M.default,n._frontLayer=aoba.Container.new().addTo(n),n._transitionLayer=aoba.Container.new().addTo(n),n.on("added",function(){return n._handleProduceState(e)}),n}return s(t,e),u(t,[{key:"_handleProduceState",value:function(e){dlog(!1,"_handleProduceState",e.isAfterConcert,e.produceState,y.default.PRODUCE_STATES);if(e.isAfterConcert)return void this._endWeek(this._store.eveningEvents);switch(e.produceState){case y.default.PRODUCE_STATES.NOT_STARTED:this._nextWeek();break;case y.default.PRODUCE_STATES.AFTER_ACTION:this._endWeek(this._store.eveningEvents);break;case y.default.PRODUCE_STATES.END_OF_WEEK:this._onEndWeek(e);break;case y.default.PRODUCE_STATES.AUDITION_EVENT:this._prepareAudition(e);break;case y.default.PRODUCE_STATES.AFTER_AUDITION_EVENT:this._directToAudition(e.produceAudition.id);break;case y.default.PRODUCE_STATES.AFTER_CONCERT_EVENT:this._directToConcert();break;case y.default.PRODUCE_STATES.END_OF_PRODUCE:this._goToEnding();break;default:this._startWeek(this._store.seasonNum,this._store.remainSeasonWeek,this._store.morningEvents)}}},{key:"_showTransition",value:function(){return x.default.createWhite().addTo(this._transitionLayer).appear()}},{key:"_showTransitionAndDestroyFrontLayer",value:function(){var e=this;return this._showTransition().then(function(){e._frontLayer.destroyChildren()})}},{key:"_hideTransition",value:function(){return Promise.all(this._transitionLayer.children.map(function(e){return e.disappear()}))}},{key:"_startWeek",value:function(e,t,n){var r=this;if(0===n.length)return void this.showProduceMain();Promise.resolve().then(function(){return Promise.all([r._playMorningCountdown(e,t)])}).then(function(){dlog("_startWeek_","MorningEvents",n.length);return r._playProduceEvents(n)}).then(function(){return r._showTransitionAndDestroyFrontLayer()}).then(function(){return r.showProduceMain()})}},{key:"_endWeek",value:function(e){var t=this;Promise.resolve().then(function(){return t._playProduceEvents(e)}).then(function(){return t._showTransitionAndDestroyFrontLayer()}).then(function(){return t._produceAction.endWeek()}).then(function(e){return t._onEndWeek(e)})}},{key:"_onEndWeek",value:function(e){var t=this;Promise.resolve().then(function(){return t._showIdolRankIfNeeded(e)}).then(function(){return t._playProduceEvents(e.produceSeasonEvents||[])}).then(function(){if(!e.hasNextWeekSchedule)return void t._goToEnding();if(1===e.remainSeasonWeek){var n=x.default.createBlack({duration:240});return void Promise.all([t._produceAction.next(),n.addTo(t).appear()]).then(function(){window.location.reload()}).catch(function(){})}t._showTransitionAndDestroyFrontLayer().then(function(){t._nextWeek()})})}},{key:"_nextWeek",value:function(){var e=this;return this._produceAction.next().then(function(t){(0,D.default)(f.default.getMainSpecificResources(t)).then(function(){var n=new O.default(t);dlog(!1,"_nextWeek",n);e._startWeek(n.seasonNum,n.remainSeasonWeek,n.morningEvents),e._store=n})})}},{key:"_goToEnding",value:function(){var e=this,t=T.default.new().addTo(this._transitionLayer);return Promise.all([this._produceAction.finish(),t.appear()]).then(function(t){var n=l(t,1),r=n[0],i=Object.assign({},r,{produceAction:e._produceAction});B.default.loadSceneAsync("produceEnding",{request:!1,sceneParams:i})})}},{key:"showProduceMain",value:function(){var e=this;return this._produceAction.get().then(function(t){e._hideTransition(),e._store.hasReleasedSkills=t.hasReleasedSkills,e._store.topCharacterReaction=t.topCharacterReaction,t.places&&e._store.updatePlaces(t.places),e._store.promisePlaceCategoryId=t.promisePlaceCategoryId,e._store.updatePlacesWithSupportIdols(t.promisePlaceCategoryId),e._frontLayer.destroyChildren(),e._mainLayer=b.default.new({store:e._store,produceAction:e._produceAction,endWeek:e._endWeek.bind(e),goToConcert:e._goToConcert.bind(e),goToAudition:e._goToAudition.bind(e)}).addTo(e._frontLayer);dlog(!1,"_showProduceMainNOEVENT",e);var _s=e._store,_sI=_s.supportIdols,_sS=_s.supportSkills,skillon=false,txt="";for(var s in _sS)if(["trouble_guard","tension_boost","stamina_support"].includes(_sS[s].effectType)){var name;skillon=true;for(var i in _sI){var _id=_sI[i].userSupportIdol.supportIdol;if(_id.characterId==_sS[s].characterId)name=_id.name}txt=txt+"\n"+name+"\n"+_sS[s].name+"\n"+_sS[s].description}if(skillon)dlog("thisWeekSupportSkills",txt)})}},{key:"_goToAudition",value:function(e){var t=this;this._produceAction.auditionPrepare({auditionId:e.auditionId}).then(function(e){return t._prepareAudition(e)})}},{key:"_goToConcert",value:function(){var e=this;this._produceAction.concertReady().then(function(t){return e._prepareConcert(t)})}},{key:"_prepareAudition",value:function(e){var t=this;Promise.resolve().then(function(){return t._playProduceEvents(e.produceEvents)}).then(function(){return t._directToAudition(e.produceAudition.id)})}},{key:"_prepareConcert",value:function(e){var t=this;Promise.resolve().then(function(){return t._playProduceEvents(e.produceEvents)}).then(function(){return t._directToConcert()})}},{key:"_directToConcert",value:function(){var e=this;Promise.all([t.showConcertLoadingScene(),this._produceAction.concertStart()]).then(function(t){var n=t[1],r=Object.assign(n,{produceAction:e._produceAction});B.default.loadSceneAsync("produceConcert",{request:!1,showLoading:!1,sceneParams:r})})}},{key:"_directToAudition",value:function(e){var n=this;Promise.all([t.showConcertLoadingScene(),this._produceAction.auditionStart({auditionId:e})]).then(function(e){var t=e[1],r=Object.assign(t,{produceAction:n._produceAction});B.default.loadSceneAsync(n.auditionSceneName,{request:!1,showLoading:!1,sceneParams:r})})}},{key:"_playProduceEvents",value:function(e){var t=this;return e.reduce(function(e,n){return e.then(function(){return t._playProduceEvent(n)})},Promise.resolve())}},{key:"_playProduceEvent",value:function(e){var t=this,n=this.createEventPlayer(e),r=T.default.new().addTo(this._transitionLayer);var txt="\n"+(e.isSelect||e.answers&&e.answers[2]&&"string"==typeof e.answers[2].comment?e.eventCategoryName?"3\u90091\n\u53ef\u4f9d\u4e8b\u4ef6\u540d\u67e5wiki\n":e.eventCategory.hasTimeLimit?"\u9650\u65f63\u90091\n\u53ef\u4f9d\u7b2c\u4e00\u53e5\u8bdd\u67e5\u8868\u683cwiki":"3\u90091":e.answers&&2==e.answers.length?"\u7ea6\u5b9a\u4e8b\u4ef6\n":e.isSuccess?"\u7ea6\u5b9a\u7ed3\u679c\n":"")+(e.eventCategoryName?e.title?e.eventCategoryName+": "+e.title:e.eventCategoryName:"");dlog(!1,"playProduceEvent",txt,e);dlog(true,"Event",txt,"Event",5);return Promise.resolve().then(function(){return r.appear()}).then(function(){return t._frontLayer.destroyChildren()}).then(function(){return n.preload()}).then(function(e){return r.disappear(),
n.addTo(t._frontLayer).play(e)}).then(function(n){return t._playSupportSkillEvent(e,n)})}},{key:"createEventPlayer",value:function(e){return E.default.new({event:e,userProduceIdol:this._store.userProduceIdol,produceAction:this._produceAction,onUpdateParameter:this._store.updateParameter.bind(this._store)})}},{key:"_playSupportSkillEvent",value:function(e,t){if(!e.resultEvent)return Promise.resolve();var n=e.resultEventCondition;dlog(!1,"playSupportSkillEvent",e,t);return n&&n!==e.eventCategory.getResult(t.answerResponse)?Promise.resolve():this._playProduceEvent(e.resultEvent)}},{key:"_playMorningCountdown",value:function(e,t){var n=this;return this._hideTransition(),aoba.soundManager.playBGMAsync(p.default.bgm.produce.morning),new Promise(function(r){return w.default.new(e,t,"start").addTo(n._frontLayer).on("end",r)})}},{key:"_playNightCountdown",value:function(e,t){var n=this;return this._hideTransition(),aoba.soundManager.playBGMAsync(p.default.bgm.produce.evening),new Promise(function(r){return w.default.new(e,t,"end").addTo(n._frontLayer).on("end",r)})}},{key:"_showIdolRankIfNeeded",value:function(e){var t=this;return e.produceSeasonEvents&&0!==e.produceSeasonEvents.length||e.rank!==e.previousRank||e.isGoToLastConcert||e.isLastConcertWeek||1===e.remainSeasonWeek?(this._hideTransition(),Promise.resolve().then(function(){return Promise.all([t._playNightCountdown(e.seasonNum,e.remainSeasonWeek),(0,D.default)(f.default.idolRank)])}).then(function(){return t._showTransition()}).then(function(){return t._hideTransition(),new Promise(function(n){return t.createIdolRankLayer(e,t._store.produceIdol).addTo(t._frontLayer).on("end",n)})})):Promise.resolve()}},{key:"createIdolRankLayer",value:function(e,t){return S.default.new(e,t)}},{key:"mainLayer",get:function(){return this._mainLayer}}],[{key:"request",value:function(){return M.default.resume()}},{key:"getContentResources",value:function(e){if(e.shouldStartEnding)return[];var t=[];return j.includes(e.produceState)?t:(Array.prototype.push.apply(t,f.default.getMainSpecificResources(e)),t)}},{key:"createConcertTransition",value:function(){return x.default.createBlack({duration:240})}},{key:"showConcertLoadingScene",value:function(){return B.default.loadLoadingScene({releaseResources:!0,transition:t.createConcertTransition()})}},{key:"uiResources",get:function(){return[].concat(i(f.default.common),i(f.default.commu))}}]),t}(_.default);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(238),u=r(l),c=n(1385),f=r(c),d=n(237),p=r(d),h=n(7),y=r(h),m=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(f.default,{contentList:{class:u.default},arrowPrev:{class:aoba.Button},arrowNext:{class:aoba.Button},indicator:p.default.new(e.length)}),s=o.contentList,l=o.arrowPrev,c=o.arrowNext,d=o.indicator;return r._index=0,r._contentLength=e.length,r._offsetX=n.x,r._intervalX=n.intervalX,r._contentList=s,r._arrowPrev=l,r._arrowNext=c,r._indicator=d,r._onChange=n.onChange,r._contentList.setPosition(n.x,n.y),r._contentList.maxDistance=r._intervalX*(e.length-1),e.forEach(function(e,t){e.addTo(s,t*n.intervalX,0)}),r._setArrowsVisible(),r.interactive=!0,s.on("endSwipe",r._moveWithSwipe,r),l.on("tap",r._backward,r),c.on("tap",r._forward,r),r.on("touchstart",r._onTouchStart,r),r.on("touchmove",r._onTouchMove,r),r.on("touchend",r._onTouchEnd,r),r.on("touchendoutside",r._onTouchEnd,r),r.on("added",r._enableArrowTweens,r),r}return o(t,e),s(t,[{key:"reset",value:function(){this._index=0,this._setArrowsVisible(),this._moveContentList(!1),this._updateWithIndex(),this._contentList.reset()}},{key:"_enableArrowTweens",value:function(){aoba.FrameTween.new(this._arrowPrev).by({x:-12},15,"easeInOutSine").by({x:12},15,"easeInOutSine").loop(),aoba.FrameTween.new(this._arrowNext).by({x:12},15,"easeInOutSine").by({x:-12},15,"easeInOutSine").loop()}},{key:"_moveWithSwipe",value:function(e){0!==e&&(e>0?this._backward():this._forward())}},{key:"_forward",value:function(){this._isMaxIndex||(this._index++,this._setArrowsVisible(),this._moveContentList(),this._updateWithIndex(),aoba.soundManager.playSE(y.default.ui.scroll))}},{key:"_backward",value:function(){this._isMinIndex||(this._index--,this._setArrowsVisible(),this._moveContentList(),this._updateWithIndex(),aoba.soundManager.playSE(y.default.ui.scroll))}},{key:"_updateWithIndex",value:function(){if(this._indicator.moveTo(this._index),this._onChange){var e=this._contentList.children[this._index];this._onChange(e.id)}}},{key:"_moveContentList",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._tween&&this._tween.remove();var n=-this._index*this._intervalX+this._offsetX;t?this._tween=aoba.FrameTween.new(this._contentList).to({x:n},12,"easeOutExpo").call(function(){e._tween=null}):this._contentList.x=n}},{key:"_setArrowsVisible",value:function(){this._arrowPrev.visible=0!==this._index,this._arrowNext.visible=this._index!==this._contentLength-1}},{key:"currentContent",get:function(){return this._contentList.children[this._index]}},{key:"_isMaxIndex",get:function(){return this._index===this._contentLength-1}},{key:"_isMinIndex",get:function(){return 0===this._index}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(69),u=r(l),c=n(26),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.getCategoryImagePath("bg")));return n.scale.set(.64),n.anchor.set(.5),n._placeCategoryId=e.producePlaceCategoryId,n._positions=u.default.placeCategories[n._placeCategoryId].supportIdolPositions,n._idolLayer=aoba.Container.new().addTo(n),n._idols=[],n}return o(t,e),s(t,[{key:"placeIdols",value:function(e){var t=this,n=[];Object.assign(n,e),n.sort(function(e,t){return e.friendshipPoint<t.friendshipPoint});var r=n.filter(function(e){return e.friendshipPoint>=51}),i=n.filter(function(e){return e.friendshipPoint<51}),a=this._positions.length-i.length;r.forEach(function(e,n){t._placeIdol(e,n)}),i.forEach(function(e,n){t._placeIdol(e,a+n)}),this._frontIdols=r}},{key:"placeProduceIdol",
value:function(e){e.setSkinWithPlaceCategoryId(this.placeCategoryId);var t=u.default.placeCategories[this._placeCategoryId].idolPosition,n=t.x-this.width/2/.64,r=t.y-this.height/2/.64;e.addTo(this,n,r),e.scaleX*=t.scaleX,this._idol=e}},{key:"playLessonResult",value:function(e,t,n){if(this._playLessonResultSE(e),this._playLessonResultIdolComments(t,n),this._actSupportIdols(e),!this._idol)throw new Error("No placed idol.");return this._idol.actLesson(this._placeCategoryId,e)}},{key:"_playLessonResultSE",value:function(e){var t=f.default.activity.result.stage;aoba.soundManager.playSE(e?t.failure:t.success)}},{key:"_playLessonResultIdolComments",value:function(e,t){if(aoba.soundManager.playVoiceAsync(e.voicePath),this._frontIdols.length){var n=this._frontIdols[0],r=t.find(function(e){return e.characterId===n.characterId});aoba.FrameTween.new(this).wait(45).call(function(){return aoba.soundManager.playVoiceAsync(r.voicePath)})}}},{key:"_actSupportIdols",value:function(e){var t=this;this._idols.forEach(function(n){n.act(t._placeCategoryId,e)})}},{key:"_placeIdol",value:function(e,t){var n=this._positions[t],r=n.x-this.width/2/.64,i=n.y-this.height/2/.64;e.addTo(this._idolLayer,r,i),e.playWaitAnimation(this._placeCategoryId,t),e.spine.scaleX*=n.scaleX,this._idols.push(e)}},{key:"placeCategoryId",get:function(){return this._placeCategoryId}}]),t}(aoba.Sprite);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1398),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=100,c=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=a._calculatePoint(e),s=n?"friendship_gage_base_excellent.png":"friendship_gage_base.png",c="friendship_gage_"+o+".png",f=a.fromData(l.default,{friendshipGageBase:{key:s},friendshipGage:aoba.Gauge.new(c,{value:e,maxValue:u})}),d=f.friendshipGage;return 0===e&&d.hide(),a}return a(t,e),o(t,[{key:"_calculatePoint",value:function(e){return[25,50,75,100].find(function(t){return e<=t})}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(484),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._value=e.value;var r=n.createFromDataParams(e),o=n.fromData(e.layout,r);return n._valueText=o.value,n._maxBadge=o.maxBadge,n._increaseParameter=o.increaseParameter,n._increaseParameterPartner=o.increaseParameterPartner,n._currentPromise=null,n.hideIncreaseValue(),n}return o(t,e),s(t,[{key:"createFromDataParams",value:function(e){var t=e.parameterIconImage,n=e.value,r=e.increaseParameterLayout,i=e.increaseParameterPartnerLayout;return{parameterIcon:{key:t},value:{text:u.default.numberFormat(n)},maxBadge:null,increaseParameter:f.default.new(r),increaseParameterPartner:f.default.new(i)}}},{key:"updateValue",value:function(e){this._value=e,this._valueText.text=e}},{key:"updateIncreaseValue",value:function(e,t){return void 0===e||0===e?this.fadeOutIncreaseValue():t?(this._increaseParameterPartner.setValue(e),this._increaseParameterPartner.fadeIn()):(this._increaseParameter.setValue(e),this._increaseParameter.fadeIn())}},{key:"switchIncreaseValue",value:function(e,t){var n=this;return this._currentPromise?(this._skipTween(),this._currentPromise.then(function(){return n.switchIncreaseValue(e,t)})):(this._currentPromise=this.fadeOutIncreaseValue().then(function(){return n.updateIncreaseValue(e,t)}).then(function(){n._currentPromise=null}),this._currentPromise)}},{key:"hideIncreaseValue",value:function(){this._increaseParameter.alpha=0,this._increaseParameterPartner.alpha=0}},{key:"fadeOutIncreaseValue",value:function(){return this._increaseParameter.fadeOut(),this._increaseParameterPartner.fadeOut()}},{key:"showUpIncreaseValue",value:function(e,t){return this._countUpValue(e),t?(this._increaseParameterPartner.setValue(e),this._increaseParameterPartner.showUp()):(this._increaseParameter.setValue(e),this._increaseParameter.showUp())}},{key:"_countUpValue",value:function(e){var t=this._value,n=this._value+e;this.update=function(r){t+=e*r/400,t=Math.min(t,n),this._valueText.text=Math.floor(t),t>=n&&(this.update=function(){})}}},{key:"_skipTween",value:function(){this._increaseParameterPartner.tween.target&&this._increaseParameterPartner.tween.update(100),this._increaseParameter.tween.target&&this._increaseParameter.tween.update(100)}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(97),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.fromData(e);return n._value=a.value,n}return a(t,e),o(t,[{key:"setValue",value:function(e){this._value.text=l.default.getNumberStringWithSign(e)}},{key:"fadeIn",value:function(){return this._tween=aoba.FrameTween.new(this).to({alpha:1},3),this.tween.promise()}},{key:"fadeOut",value:function(){return this.tween=aoba.FrameTween.new(this).to({alpha:0},3),this.tween.promise()}},{key:"showUp",value:function(){return this.alpha=1,this.scale.set(0),aoba.FrameTween.new(this).to({scaleX:1.2,scaleY:1.2},3).to({scaleX:1,scaleY:1},3).promise()}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1448),c=r(u),f=n(1449),d=r(f),p=n(23),h=r(p),y=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._isFromIdolRank=n,r._idolRanks=e.idolRanks,r._fans=e.fans,r._rank=e.rank;var o=null;r._isFromIdolRank?(r._previousRank=e.previousRank,r._previousFans=e.previousFans,o=d.default):o=c.default;var s=r.fromData(o);return r._topLayer=s.topLayer,r._pyramidTop=s["topLayer/pyramidTop"],r._createStarParticle(),r._createTopMask(),r}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._counter&&clearInterval(this._counter),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"_createStarParticle",value:function(){this._pyramidTop.mask=aoba.Sprite.new("pyramid_mask.png").addTo(this._topLayer);var e=new h.default(["star_1.png"],"star_bg_eff");this._pyramidTop.addChild(e.container),e.setPosition(this._pyramidTop.x-20,this._pyramidTop.y+300),this._particleSystem=e,this._particleSystem.play()}},{key:"_createTopMask",value:function(){this._yHeight=this._getYHeight(),this._topMask=aoba.Graphics.new().beginFill(0).drawRect(0,0,350,this._pyramidTop.height),this._triangleLightEffect=aoba.Graphics.new().beginFill(16777215).drawRect(0,0,350,this._pyramidTop.height).addTo(this._pyramidTop,0,0,{alpha:0}),this._topLayer.mask=this._topMask.addTo(this._topLayer,0,this._pyramidTop.height),this._topMask.y-=this._yHeight}},{key:"_getYHeight",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e&&this._isFromIdolRank?this._previousRank:this._rank,n=e&&this._isFromIdolRank?this._previousFans:this._fans,r=0,i=0;this._idolRanks[i].rank!==t;)r+=256/7,i++;if("S"===t)r+=256/7;else{var a=this._idolRanks[i+1].requiredFan-this._idolRanks[i].requiredFan;r+=256/7*((n-this._idolRanks[i].requiredFan)/a)}return r}},{key:"increaseFans",value:function(){var e=this,t=this._getYHeight(!1),n=t-this._yHeight,r=n/60,i=0;this._counter=setInterval(function(){0===e._topMask.y&&clearInterval(e._counter),e._topMask.y=Math.max(e._topMask.y-r,0),r=Math.min(r,n-i),i+=r},33)}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(1453),f=r(c),d=n(1454),p=r(d),h=n(1455),y=r(h),m=n(3),_=r(m),g={MORNING:{bg:"morning_blur.jpg",layout:p.default,tickerImage:"large_morning.png"},NIGHT:{bg:"night_blur.jpg",layout:y.default,tickerImage:"large_night.png"}},b=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=o.fromData(f.default,{"band/band":{fill:16777215,alpha:.9},"band/season":{text:_.default.t("countdown.season",{seasonNum:e})}}),l=s["band/calender"],u=s["band/calender/weekNumber"],c=s["band/band"],d=s["band/week"],p=s["band/season"],h="start"===r?g.MORNING:g.NIGHT;s.countDownBg.texture=aoba.Texture.fromImage(h.bg);var y=aoba.Container.new().addTo(s["band/morning"]),m=y.fromData(h.layout),b=aoba.Sprite.fromImage(h.tickerImage).addTo(o,0,0,{scale:2}),v=m.star,w=m.timeText,k=m.hour,S=s.band;return u.text="start"===r?n+1:n,aoba.Tween.new(o).call(function(){var e="start"===r?1e3:650;o._startTickerTween(e,b)}).wait(2e3).call(function(){o._startBandTween(c)}).wait(100).call(function(){o._startStarTween(r,v)}).wait(200).call(function(){o._startTimeTextTween(w)}).wait(100).call(function(){o._startHourTween(k)}).wait(300).call(function(){o._startSeasonTween(p)}).wait(100).call(function(){o._startCalenderTween(l)}).call(function(){o._startWeekTween(d)}).wait(100).call(function(){"start"===r&&o._updateWeek(n,u,l)}).wait(900).call(function(){o._startBandsDisappearTween(S)}).wait(300).call(function(){o.emit("end")}),o.interactive=!0,o.once("tap",function(){o.emit("end")}),o}return o(t,e),s(t,[{key:"_startTickerTween",value:function(e,t){var n=aoba.Graphics.new().beginFill(16777215).drawRect(0,0,u.default.SCREEN_WIDTH+10,u.default.SCREEN_HEIGHT).addTo(this);aoba.Tween.new(n).to({x:-(u.default.SCREEN_WIDTH+10)},1012),aoba.Tween.new(t).from({x:u.default.SCREEN_WIDTH},1e3).to({x:-u.default.SCREEN_WIDTH},1e3),aoba.Tween.new(t).wait(1e3).to({alpha:0},e)}},{key:"_startBandTween",value:function(e){aoba.Tween.new(e).call(function(){e.show()}).from({x:u.default.SCREEN_WIDTH},200)}},{key:"_startStarTween",value:function(e,t){"start"===e?aoba.Tween.new(t).wait(100).call(function(){t.show()}).from({scaleX:0,scaleY:0},200,"easeOutBack"):aoba.Tween.new(t).call(function(){t.show()}).from({rotation:-70*aoba.DEG_TO_RAD},600)}},{key:"_startTimeTextTween",value:function(e){aoba.Tween.new(e).call(function(){e.show()}).from({alpha:0},100)}},{key:"_startHourTween",value:function(e){aoba.Tween.new(e).call(function(){e.show()}).from({x:e.x+50,alpha:0},300)}},{key:"_startSeasonTween",value:function(e){aoba.Tween.new(e).call(function(){e.show()}).from({x:e.x+50,alpha:0},300)}},{key:"_startCalenderTween",value:function(e){aoba.Tween.new(e).call(function(){e.show()}).from({alpha:0},100)}},{key:"_startWeekTween",value:function(e){aoba.Tween.new(e).call(function(){e.show()}).from({alpha:0},100)}},{key:"_startBandsDisappearTween",value:function(e){aoba.Tween.new(e).to({alpha:0},300)}},{key:"_updateWeek",value:function(e,t,n){var r=this;t.text=e,this._flickCalender=aoba.FrameAnimation.new("effect_countdown_calender.png",280,280,{event:{name:"deleteTempText",frame:6},fps:30}).addTo(n,-60,-100).play(),this._tempText=aoba.Text.new(e+1,{fill:2763049,fontSize:84,fontFamily:"HummingStd-E",fontWeight:"bold"}).addTo(n,t.x,t.y,{rotation:12*aoba.DEG_TO_RAD,anchor:.5}),this._flickCalender.once("deleteTempText",function(){r._tempText.text=""})}}]),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1456),f=r(c),d=n(1457),p=r(d),h=n(1459),y=r(h),m=n(1461),_=r(m),g=n(187),b=r(g),v=n(99),w=r(v),k=n(23),S=r(k),I=n(58),E=r(I),A=n(26),x=r(A),C=n(1),T=r(C),P=n(19),O=r(P),N={beforeLastConcertEntryResult:0,afterLastConcertEntryResult:1},M=["star_1.png","star_1_b.png","star_1_g.png","star_1_p.png","star_1_y.png"],R={framerate:30,loop:!0,textures:["confetti_00000.png","confetti_00001.png","confetti_00002.png","confetti_00003.png","confetti_00004.png","confetti_00005.png","confetti_00006.png","confetti_00007.png","confetti_00008.png","confetti_00009.png","confetti_00010.png","confetti_00011.png","confetti_00012.png","confetti_00013.png","confetti_00014.png","confetti_00015.png"]},D={confetti_front:[R,R],confetti_back:[R],confetti_middle:[R]},F={FRONT:0,MIDDLE:1,BG:2,BACK:3},B={pass:{aeConfs:[{fileName:"success_front.json",layer:F.FRONT},{fileName:"success_back.json",layer:F.BACK}],particleConfs:[{id:"confetti_front",delay:100,props:{x:721,y:479},parent:"Confetti_front.mov"},{id:"confetti_middle",delay:100,props:{x:776,y:461},parent:"Confetti_middle.mov"},{id:"confetti_back",delay:100,props:{x:766,y:474},parent:"Confetti_back.mov"}],staffConf:{start:{animation:"wait",faceAnimation:"blank",lipAnimation:"lip_smile"},announce:{animation:"smile3"},end:{animation:"wait2",lipAnimation:"lip_smile"}}},reject:{aeConfs:[{fileName:"failure_front.json",layer:F.FRONT},{fileName:"failure_middle.json",layer:F.MIDDLE},{fileName:"failure_back.json",layer:F.BACK}],particleConfs:[],staffConf:{start:{animation:"wait",faceAnimation:"face_sad",lipAnimation:"lip_sad"},announce:{animation:"sad2"},end:{animation:"wait1",faceAnimation:"face_sad",lipAnimation:"lip_sad"}}}},j=function(e){aoba.FrameTween.new(e).to({alpha:0},10,"easeOutQuad")},L=function(e){aoba.FrameTween.new(e).to({alpha:1},12,"easeOutCirc").wait(49).to({alpha:0},10,"easeOutQuad")},U=function(e){aoba.FrameTween.new(e).to({scaleX:1,scaleY:1,alpha:1},5,"easeOutCirc").wait(56).to({alpha:0},10,"easeOutQuad")},H=function(e){aoba.FrameTween.new(e).to({scaleX:1.2,scaleY:1.2,alpha:1},5,"easeOutCirc").to({scaleX:1.27,scaleY:1.27},56,"easeOutCirc").to({scaleX:1.28,scaleY:1.28,alpha:0},10,"easeOutCirc")},G=function(e){aoba.FrameTween.new(e).to({scaleX:1.8,scaleY:1.8,alpha:1},5).wait(56).to({alpha:0},10,"easeOutQuad")},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;aoba.FrameTween.new(e).to({scaleX:.9*t,scaleY:.9*t,alpha:1},5).to({scaleX:1*t,scaleY:1*t,alpha:0},13).call(function(){return e.destroy({children:!0})})},V=function(e,t){aoba.FrameTween.new(e).wait(t).to({scaleX:7,scaleY:4.4,alpha:1},8,"easeOutCirc").to({scaleX:8.7,scaleY:6.1,alpha:0},16,"easeOutCirc").call(function(){return e.destroy({children:!0})})},K=function(t){function n(e,t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=e.isGoToLastConcert,s=e.isEntryNextLastConcert,l=e.produceStaffSeasonComments,c=e.previousRank!==e.rank;r._params=e,r._produceIdol=t,r._isGoToLastConcert=o,r._isEntryNextLastConcert=s,r._seasonComments=l,r._isRankUp=c;var d=c||1===e.remainSeasonWeek||e.isLastConcertWeek,h=r.fromData(f.default,{bg:aoba.Sprite.new(T.default.bg.PRODUCE_IDOL_RANK),screen:d?y.default.new(e):null,pyramidEffect:d?p.default.new(r._params.rank):null,staff:b.default.new(),btnNext:u.default.DecideButton.new("next_button.png"),btnSkip:u.default.DecideButton.new("next_button.png"),btnOk:u.default.DecideButton.new("ok_button.png")});r._bg=h.bg,r._staff=h.staff,r._btnNext=h.btnNext,r._btnSkip=h.btnSkip,r._btnOk=h.btnOk,r._screen=h.screen,r._pyramidEffect=h.pyramidEffect,r._spotLightLayer=w.default.new(!1).addTo(r._bg);var m=Promise.resolve();return 0!==e.produceStaffComments.length?m=m.then(function(){return r._showStaff(e.produceStaffComments[0])}):r._staff.close(),d&&(m=m.then(function(){return r._showIdolRank()})),r._isGoToLastConcert?m=m.then(function(){return r._createLastConcertEntryResult()}).then(function(){return r._showLastConcertEntryResult()}):r._seasonComments.length&&(m=m.then(function(){return r._showStaff(r._seasonComments[0])})),m.then(function(){r.emit("end")}),r}return o(n,t),s(n,[{key:"_showNextButton",value:function(e){this._btnOk.hide(),this._btnNext.show(),this._btnNext.once("tap",e)}},{key:"_showOkButton",value:function(e){this._btnNext.hide(),this._btnOk.show(),this._btnOk.once("tap",e)}},{key:"_showSkipButton",value:function(){var e=this;this._btnSkip.show(),this._btnSkip.once("tap",function(){e._skipCount(),e._hideSkipButton()})}},{key:"_hideSkipButton",value:function(){this._btnSkip.hide()}},{key:"_hideButton",value:function(){this._btnNext.hide(),this._btnOk.hide()}},{key:"_skipCount",value:function(){this._screen.skipCount()}},{key:"_showStaff",value:function(e){var t=this;return new Promise(function(n){t._staff.show(),t._staff.showBalloon(),t._staff.open(e),t._showOkButton(function(){t._staff.close(),n()}),t.interactive=!0,t.once("tap",function(){t._staff.close(),n()})})}},{key:"_showIdolRank",value:function(){var e=this;return this._spotLightLayer.showSpotLight(),this._screen.show(),this._hideButton(),new Promise(function(t){Promise.resolve().then(function(){return e._showScreen()}).then(function(){return e._showCountUpFans()}).then(function(){return e._showTriangleAnim()}).then(function(){return e._showIdolRankUp()}).then(function(){return e._showNextButton(function(){e._spotLightLayer.hideSpotLightCallback(function(){e._rankUpEffGroup&&e._rankUpEffGroup.destroy({children:!0}),e._screen&&e._screen.destroy({children:!0}),e._pyramidLight&&e._pyramidLight.hide(),e._pyramidEffect&&e._pyramidEffect.hide(),t()})})})})}},{key:"_showTriangleAnim",value:function(){var e=this,t=new S.default(M,"flash_spark_01");this.addChild(t.container),t.setPosition(740,510);var n=aoba.Sprite.new("circle_02.png").setScale(0).addTo(this,740,510,{anchor:.5,alpha:0}),r=aoba.Sprite.new("circle_02.png").setScale(0).addTo(this,740,510,{anchor:.5,alpha:0});return new Promise(function(i){aoba.FrameTween.new(e).wait(3).call(function(){e._pyramidEffect.show(),e._isRankUp?aoba.FrameTween.new(e).wait(18).call(function(){aoba.soundManager.playSE(x.default.idolRank.fanCountMax),t.play(),z(n),z(r,2)}).wait(28).call(i):i()})})}},{key:"_createLastConcertEntryResult",value:function(){var e=this;this._entryResultConf=this._isEntryNextLastConcert?B.pass:B.reject;var t=this.getChildIndex(this._staff);return this._entryResultLayers=[aoba.Container.new().addToAt(this,t+1),aoba.Container.new().addToAt(this,t),aoba.Container.new().addToAt(this,t),aoba.Container.new().addToAt(this,t)],this._entryResultBGLayer=this._entryResultLayers[F.BG].hide(),this._createLastConcertEntryResultEffectAE().then(function(){e._createLastConcertEntryResultEffectParticle(),e._createLastConcertEntryResultEffectBG()})}},{key:"_createLastConcertEntryResultEffectAE",value:function(){var e=this;this._entryResultAEs=[];var t=new PIXI.AEDataInterceptor({spot_light:{blendMode:aoba.BLEND_MODES.ADD},Dim:{blendMode:aoba.BLEND_MODES.MULTIPLY}}),n=this._entryResultConf.aeConfs.map(function(n){return(0,O.default)({folderPath:"idol_rank/wing_selection_result",fileName:n.fileName,interceptor:t}).then(function(t){e._entryResultLayers[n.layer].addChild(t),e._entryResultAEs.push(t)})});return Promise.all(n)}},{key:"_createLastConcertEntryResultEffectParticle",value:function(){var e=this;this._entryResultParticles=[],
this._entryResultConf.particleConfs.forEach(function(t){var n=E.default.new(new S.default(D[t.id],t.id));n.conf=t,n.addTo(e._findAELayer(t.parent)),e._entryResultParticles.push(n)})}},{key:"_findAELayer",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this._entryResultAEs[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=o.find(e);if(1===s.length)return s[0]}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"_createLastConcertEntryResultEffectBG",value:function(){if(!this._isEntryNextLastConcert){aoba.Sprite.new("base_fail.png").setScale(aoba.game.width/256,aoba.game.height/256).addTo(this._entryResultBGLayer,0,0);var e=aoba.extras.TilingSprite.fromImage("fail_anim_wave_1.png",1792,256).addTo(this._entryResultBGLayer,0,0),t=aoba.extras.TilingSprite.fromImage("fail_anim_wave_2.png",1792,256).addTo(this._entryResultBGLayer,-64,-128,{alpha:.5});aoba.FrameTween.new(e).wait(1).call(function(){e.tilePosition.x+=145/65}).loop(),aoba.FrameTween.new(t).wait(1).call(function(){t.tilePosition.x-=145/65}).loop()}}},{key:"_showLastConcertEntryResult",value:function(){var e=this;return this._isGoToLastConcert?Promise.resolve().then(function(){e._staff.show(),e._staff.showBalloon();var t=Object.assign({},e._seasonComments[N.beforeLastConcertEntryResult],e._entryResultConf.staffConf.start);return e._staff.open(t),new Promise(function(t){return e._showNextButton(t)})}).then(function(){return e._hideButton(),e._staff.hideBalloon(),e._playLastConcertEntryResultEffect()}).then(function(){e._staff.showBalloon();var t=Object.assign({},e._seasonComments[N.afterLastConcertEntryResult],e._entryResultConf.staffConf.end);return e._staff.open(t),new Promise(function(t){return e._showNextButton(t)})}):Promise.resolve()}},{key:"_playLastConcertEntryResultEffect",value:function(){var e=this;return Promise.all([this._playLastConcertEntryResultEffectAE(),this._playLastConcertEntryResultEffectParticle(),this._playLastConcertEntryResultEffectBG(),this._playLastConcertEntryResultEffectSE(),this._playLastConcertEntryResultEffectStaff()]).then(function(){return e._entryResultLayers.forEach(function(e){aoba.FrameTween.new(e).to({alpha:0},10)}),aoba.FrameTween.new(e).wait(10).promise()})}},{key:"_playLastConcertEntryResultEffectAE",value:function(){var e=this._entryResultAEs.map(function(e){return new Promise(function(t){e.play(),e.on("completed",t)})});return Promise.all(e)}},{key:"_playLastConcertEntryResultEffectParticle",value:function(){this._entryResultParticles.forEach(function(t){t.conf.props&&e.each(t.conf.props,function(e,n){t[n]=e}),aoba.FrameTween.new(t).wait(t.conf.delay).call(function(){t.play()})})}},{key:"_playLastConcertEntryResultEffectBG",value:function(){this._entryResultBGLayer.show(),this._entryResultBGLayer.alpha=0,aoba.FrameTween.new(this._entryResultBGLayer).wait(92).to({alpha:1},10)}},{key:"_playLastConcertEntryResultEffectSE",value:function(){var e=void 0;aoba.FrameTween.new(this).wait(10).call(function(){e=aoba.soundManager.playSE(x.default.idolRank.fanCountUp)}).wait(65).call(function(){aoba.FrameTween.new(e).to({volume:0},10).call(function(){return e.pause()})}).wait(10).call(function(){aoba.soundManager.playSE(x.default.idolRank.fanCountMax)})}},{key:"_playLastConcertEntryResultEffectStaff",value:function(){var e=this;aoba.FrameTween.new(this).wait(85).call(function(){e._staff.changeAnimation(e._entryResultConf.staffConf.announce.animation)})}},{key:"_showScreen",value:function(){var e=this,t=this._screen.y;return this._screen.y=-100,new Promise(function(n){aoba.FrameTween.new(e._screen).to({y:t},26,"easeOutExpo").call(n)})}},{key:"_showCountUpFans",value:function(){var e=this;return aoba.soundManager.playBGMAsync(T.default.bgm.produce.idolRank),new Promise(function(t){e._showSkipButton(),e._screen.countUpFans(function(){e._hideSkipButton(),t()})})}},{key:"_showIdolRankUp",value:function(){var e=this;return this._isRankUp?new Promise(function(t){aoba.FrameTween.new(e).call(function(){e._addIdolRankUpEff(),e._showRainbowEff(),e._showRainbowEff(2),e._whiteEff.show({scaleX:6,scaleY:6,wait:3}),e._whiteEff2.show({scaleX:6,scaleY:6,wait:5}),e._blackEff.show({scaleX:4,scaleY:4,alpha:.5,wait:5}),aoba.FrameTween.new(aoba.soundManager.bgm).to({volume:0},10)}).wait(7).call(function(){L(e._base),U(e._idolRank),U(e._idolRank.mask),H(e._rankUpText),H(e._rankUpText.mask),G(e._rankGlow),e._glowRing.fadeOut()}).wait(5).call(function(){return aoba.soundManager.playSE(x.default.idolRank.rankUp)}).wait(20).call(function(){u.default.commonUiHelper.createGlossEffect().addTo(e._idolRank),u.default.commonUiHelper.createGlossEffect().addTo(e._rankUpText)}).wait(24).call(function(){return aoba.soundManager.playBGMAsync(T.default.bgm.produce.idolRankUp)}).wait(17).call(function(){j(e._rankUpGroup),e.emit("endRankUp"),t()})}):Promise.resolve()}},{key:"_addIdolRankUpEff",value:function(){this._rankUpGroup=aoba.Container.new().addTo(this),this._rankUpEffGroup=aoba.Container.new().addTo(this),this._base=aoba.Sprite.new("color_base.jpg").addTo(this._rankUpGroup,0,0,{alpha:0});var e=new S.default(["light_cross_flare_blue.png"],"hosya_kira_eff");this._rankUpGroup.addChild(e.container),e.setPosition(T.default.SCREEN_CENTER.x,T.default.SCREEN_CENTER.y),e.play({startTime:1e4}),this._rankGlow=this._createRankUpImage("rank_glow.png"),this._rankUpText=this._createRankUpImage("idol_rank_text.png",{y:150}),this._rankUpText.mask=this._createRankUpImage("idol_rank_text_mask.png",{y:150}),this._idolRank=u.default.commonUiHelper.createRankIcon(this._params.rank.toLowerCase()).setScale(0).addTo(this._rankUpEffGroup,T.default.SCREEN_CENTER.x,T.default.SCREEN_CENTER.y,{anchor:.5,alpha:0}),this._idolRank.mask=aoba.Sprite.new("idol_rank_logo_mask.png").addTo(this._rankUpEffGroup,T.default.SCREEN_CENTER.x,T.default.SCREEN_CENTER.y,{anchor:.5,alpha:0}),this._whiteEff=_.default.new("bg_white_effect.png",1600).addTo(this._rankUpGroup),this._whiteEff2=_.default.new("bg_white_effect.png",1500).addTo(this._rankUpGroup),this._blackEff=_.default.new("bg_black_effect.png",1500,aoba.BLEND_MODES.SCREEN).addTo(this._rankUpGroup),this._glowRing=_.default.new("glow_ring.png").addTo(this._rankUpGroup)}},{key:"_showRainbowEff",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._createRankUpImage("rainbow_housya_bg.png");V(t,e)}},{key:"_createRankUpImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.x?t.x:T.default.SCREEN_CENTER.x,r=t.y?t.y:T.default.SCREEN_CENTER.y,i=t.isEffect?this._rankUpEffGroup:this._rankUpGroup;return aoba.Sprite.new(e).setScale(0).addTo(i,n,r,{anchor:.5,alpha:0})}}]),n}(aoba.Container);t.default=K}).call(t,n(4))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1470),u=r(l),c=n(1475),f=r(c),d=n(271),p=r(d),h=n(23),y=r(h),m=n(165),_=r(m),g=n(1),b=r(g),v=n(34),w=r(v),k=n(19),S=r(k),I=.4612,E=b.default.SCREEN_WIDTH,A=b.default.SCREEN_HEIGHT,x=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));t.hide()
;var r=aoba.Sprite.fromImage("bg_black_effect.png").addTo(t,E/2,A/2,{scale:4,anchor:.5,blendMode:aoba.BLEND_MODES.SCREEN}),o=aoba.Sprite.fromImage("bg_white_effect.png").addTo(t,E/2,A/2,{scale:4,anchor:.5,blendMode:aoba.BLEND_MODES.SCREEN});r.update=function(e){this.rotation+=.1*e/1e3},o.update=function(e){this.rotation+=.1*e/1e3};var s=p.default.new({idol:e.userIdol,idolType:"produce",rarity:e.userIdol.rarity,cardType:"card"});return s.scale.set(I),t._fesIdolCard=p.default.new({idol:e.userIdol,idolType:"produce",rarity:e.userIdol.rarity,cardType:"fes_card"}),t._fesIdolCard.scale.set(I),t._totalEvaluation=u.default.new(),t._bgEffectLayer=aoba.Container.new().addTo(t),t._bgEffectLayer.hide(),t._blackPlate=aoba.Graphics.new().beginFill(0).drawRect(0,0,b.default.SCREEN_WIDTH,b.default.SCREEN_HEIGHT).addTo(t).hide(),t._bgInpactSparkLayer=aoba.Container.new().addTo(t,b.default.SCREEN_WIDTH/2,b.default.SCREEN_HEIGHT/2,{scale:2,anchor:.5}),t._bgShootingStarLayer=aoba.Container.new().addTo(t,b.default.SCREEN_WIDTH/2,b.default.SCREEN_HEIGHT/2,{scale:1.5,anchor:.5}),t._uiLayer=aoba.Container.new().addTo(t),t._uiEffectLayer=aoba.Container.new().addTo(t),t._effectLayer=aoba.Container.new().addTo(t),t._rarity=e.userIdol.idol.rarity,t._interceptor=f.default.create(t._rarity,s,t._fesIdolCard),t}return o(n,t),s(n,[{key:"_createAnimation",value:function(e,t,n,r){var i=this,a=r.isBright,o=r.isLastAnimation;return(0,S.default)({folderPath:e,interceptor:n,fileName:t}).then(function(e){return a&&i._createBrightMask(e),o&&e.on("completed",function(){i.emit("end")}),i._uiLayer.addChild(e),Promise.resolve(e)})}},{key:"_createBrightMask",value:function(e){var t=e.find("fes_idol_card");this._fesIdolCardLight=t[0],this._fesIdolCardLight.mask=aoba.Graphics.new().beginFill(0).drawRoundedRect(0,0,2.2*this._fesIdolCard.width,2.2*this._fesIdolCard.height).addTo(this._fesIdolCard)}},{key:"open",value:function(t,n,r,i){var a=this,o=t.getVoicePath(e.pad(t.characterId,3,"0")+"_idol_rank_"+n.toLowerCase());this._showAnimation().then(function(){return a._totalEvaluation.addTo(a._uiLayer),a._totalEvaluation.open(n,r,i,o)})}},{key:"initMovie",value:function(){return Promise.resolve()}},{key:"_showAnimation",value:function(){var e=this;return this.show(),this._blackPlate.show(),this._createAnimation("fes_idol_birth",this._rarity+"_data.json",this._interceptor,{isBright:!0,isLastAnimation:!0}).then(function(t){return new Promise(function(n){aoba.FrameTween.new(e._blackPlate).call(function(){e._uiLayer.show(),e._bgEffectLayer.show(),t.play()}).wait(7).call(function(){aoba.soundManager.playSE(w.default.ending["effectStart"+e._rarity]),e._showImpactSpark()}).wait(21).call(function(){e._showShootingStars()}).wait(63).call(function(){aoba.soundManager.playSE(w.default.ending.glossEffect)}).wait(6).call(function(){_.default.createGlossEffect().addTo(e._fesIdolCardLight,0,0,{anchor:aoba.p(.5),scale:aoba.p(2.2)})}).wait(43).to({alpha:0},17).call(n)})})}},{key:"_showImpactSpark",value:function(){var e=this,t={2:["FlashLight_R.png","light_cross_flare_s.png"],3:["FlashLight_SR.png","light_cross_flare_y.png"],4:["FlashLight_SSR_01.png","FlashLight_SSR_02.png","FlashLight.png","light_cross_flare_purple_2_1.png"]},n=new y.default(t[""+this._rarity],"impact_spark_"+this._rarity);this._bgInpactSparkLayer.addChild(n.container),aoba.FrameTween.new(this._bgInpactSparkLayer).call(function(){n.play()}).wait(8).to({alpha:0},16).call(function(){e._bgInpactSparkLayer.removeChild(n.container)})}},{key:"_showShootingStars",value:function(){var e=this,t=["particle.png","sparks.png"],n=new y.default(t,"ryuhai_"+this._rarity);n.setPosition(0,0);var r=this._rarity===b.default.app.RARITIES.SSR?70:112;this._bgShootingStarLayer.addChild(n.container),aoba.FrameTween.new(this._bgShootingStarLayer).call(function(){n.play()}).wait(r).to({alpha:0},16).call(function(){e._bgShootingStarLayer.removeChild(n.container),e._bgShootingStarLayer.alpha=1})}},{key:"close",value:function(){var e=this;aoba.FrameTween.new(this).wait(30).to({alpha:0},10).call(function(){e.hide(),e.emit("end")})}}]),n}(aoba.Container);t.default=x}).call(t,n(13))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1483),a=r(i),o=n(469),s=r(o),l=n(1484),u=r(l),c=function(e){var t=aoba.Container.new();return t.fromData(a.default,{idolIcon:{key:e.getImagePath("icon")},parameterList:u.default.new(e),acquiredSkillList:s.default.new(e)}),t};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(1505),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default,{value:{text:u.default.numberFormat(e)}}),o=r.value;return n._value=e,n._valueText=o,window.eventPoint=n,n}return o(t,e),s(t,[{key:"updatePoint",value:function(e){this._value=e,this._valueText.text=u.default.numberFormat(e)}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"shopItemListContainerBase",fullName:"shopItemListContainerBase",type:"sprite",key:"shop_item_list_container_base.png",x:0,y:0},{name:"shopItemListContainerLine",fullName:"shopItemListContainerLine",type:"sprite",key:"shop_item_list_container_line.png",x:18,y:69},{name:"itemList",fullName:"itemList",type:"container",x:18,y:16},{name:"policyButton",fullName:"policyButton",anchor:{x:.5,y:.5},type:"sprite",key:"policy_button.png",x:150,y:36}],name:"",fullName:"",type:"container",x:209,y:80}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={shopCategories:{money:{get:function(){return{tabImage:"btn_money_shop.png",tabImageOn:"btn_money_shop_on.png",currencyName:i.default.t("money"),walletKey:"money",priceLabelFontSize:16}}},bana_coin:{get:function(){return{tabImage:"btn_coin_shop.png",tabImageOn:"btn_coin_shop_on.png",currencyName:i.default.t("bnCoin"),walletKey:"banaCoin",priceLabelFontSize:14}}},game_event:{get:function(){return{tabImage:"btn_event_shop.png",tabImageOn:"btn_event_shop_on.png",currencyName:i.default.t("eventPoint"),walletKey:"eventPoint",priceLabelFontSize:16}}},prev_game_event:{get:function(){return{tabImage:"btn_prev_event_shop.png",tabImageOn:"btn_prev_event_shop_on.png",currencyName:i.default.t("eventPoint"),walletKey:"prevEventPoint",priceLabelFontSize:16}}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(118),a=r(i),o=n(463),s=r(o),l=n(77),u=r(l),c=function(e){var t=aoba.Container.new(),n=t.fromData(s.default,{base:{key:"confirm_skill_item_base.png"},effectTypeIcon:{instance:aoba.Sprite.new(e.getImagePath()),scale:.5,dx:-4,dy:-4},name:{text:e.name},linkSkillButton:e.linkSkill?{class:a.default}:null,comment:{text:e.comment},checkBox:null}),r=n.linkSkillButton,i=n.comment;if(i.style.wordWrap=!0,i.style.wordWrapWidth=380,i.style.breakWords=!0,r){var o=void 0
;r.on("holdstart",function(){o=u.default.new(e.linkSkill).addTo(t,36,-36)}),r.on("holdend",function(){o.destroy({children:!0})})}return t};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"wait",time:1e3},{command:"showOverlay"},{command:"showTips",imageName:"011"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"top",windowType:"m"},{command:"playVoice",voiceName:"hazuki_tutorial_1"},{command:"playComment",content:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u4e2d\u306b\u7372\u5f97\u3057\u305f\u300cSP\u300d\u3092\u4f7f\u3063\u3066\n\u65b0\u3057\u3044\u30b9\u30ad\u30eb\u306a\u3069\u3092\u7372\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3093\u3067\u3059\u3088\uff5e"},{command:"wait",time:2e3},{command:"hideTips"},{command:"playVoice",voiceName:"hazuki_tutorial_2"},{command:"playComment",content:"\u30aa\u30fc\u30c7\u30a3\u30b7\u30e7\u30f3\u306b\u6311\u6226\u3059\u308b\u524d\u306b\u306f\n\u5fd8\u308c\u305a\u306b\u300c\u632f\u308a\u8fd4\u308a\u300d\u3092\u3057\u307e\u3057\u3087\u3046\u306d"},{command:"wait",time:500}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(t.level===t.limitLevel)return{value:1,maxValue:1};var n=e.find(function(e){return e.level===t.level}).total_exp,r=e.find(function(e){return e.level===t.level+1}).total_exp;return{value:t.exp-n,maxValue:r-n}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1587),a=r(i),o=n(0),s=r(o),l=function(e){var t=aoba.Container.new();return t.fromData(a.default,{base:{fill:9800344},name:{text:e},dotLine:s.default.dotLine.create({width:152,type:s.default.dotLine.types.DOT_BLACK})}).name.style.fontSize=15,t};t.default=l},function(e,t,n){n(284),n(699),e.exports=n(359)},function(e,t,n){n(499),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(579),n(580),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(209),n(603),n(604),n(303),n(605),n(606),n(607),n(608),n(609),n(306),n(308),n(309),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(686),n(687),n(688),n(689),n(690),n(691),n(692),n(693),n(694),e.exports=n(59)},function(e,t,n){"use strict";var r=n(11),i=n(45),a=n(27),o=n(2),s=n(47),l=n(78).KEY,u=n(15),c=n(141),f=n(100),d=n(85),p=n(25),h=n(286),y=n(189),m=n(500),_=n(144),g=n(8),b=n(49),v=n(60),w=n(84),k=n(89),S=n(289),I=n(50),E=n(28),A=n(87),x=I.f,C=E.f,T=S.f,P=r.Symbol,O=r.JSON,N=O&&O.stringify,M=p("_hidden"),R=p("toPrimitive"),D={}.propertyIsEnumerable,F=c("symbol-registry"),B=c("symbols"),j=c("op-symbols"),L=Object.prototype,U="function"==typeof P,H=r.QObject,G=!H||!H.prototype||!H.prototype.findChild,z=a&&u(function(){return 7!=k(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(L,t);r&&delete L[t],C(e,t,n),r&&e!==L&&C(L,t,r)}:C,V=function(e){var t=B[e]=k(P.prototype);return t._k=e,t},K=U&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},W=function(e,t,n){return e===L&&W(j,t,n),g(e),t=v(t,!0),g(n),i(B,t)?(n.enumerable?(i(e,M)&&e[M][t]&&(e[M][t]=!1),n=k(n,{enumerable:w(0,!1)})):(i(e,M)||C(e,M,w(1,{})),e[M][t]=!0),z(e,t,n)):C(e,t,n)},q=function(e,t){g(e);for(var n,r=m(t=b(t)),i=0,a=r.length;a>i;)W(e,n=r[i++],t[n]);return e},X=function(e,t){return void 0===t?k(e):q(k(e),t)},Y=function(e){var t=D.call(this,e=v(e,!0));return!(this===L&&i(B,e)&&!i(j,e))&&(!(t||!i(this,e)||!i(B,e)||i(this,M)&&this[M][e])||t)},J=function(e,t){if(e=b(e),t=v(t,!0),e!==L||!i(B,t)||i(j,t)){var n=x(e,t);return!n||!i(B,t)||i(e,M)&&e[M][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=T(b(e)),r=[],a=0;n.length>a;)i(B,t=n[a++])||t==M||t==l||r.push(t);return r},Z=function(e){for(var t,n=e===L,r=T(n?j:b(e)),a=[],o=0;r.length>o;)!i(B,t=r[o++])||n&&!i(L,t)||a.push(B[t]);return a};U||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===L&&t.call(j,n),i(this,M)&&i(this[M],e)&&(this[M][e]=!1),z(this,e,w(1,n))};return a&&G&&z(L,e,{configurable:!0,set:t}),V(e)},s(P.prototype,"toString",function(){return this._k}),I.f=J,E.f=W,n(90).f=S.f=Q,n(120).f=Y,n(143).f=Z,a&&!n(86)&&s(L,"propertyIsEnumerable",Y,!0),h.f=function(e){return V(p(e))}),o(o.G+o.W+o.F*!U,{Symbol:P});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)p($[ee++]);for(var te=A(p.store),ne=0;te.length>ne;)y(te[ne++]);o(o.S+o.F*!U,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=P(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!U,"Object",{create:X,defineProperty:W,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),O&&o(o.S+o.F*(!U||u(function(){var e=P();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&_(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,N.apply(O,r)}}}),P.prototype[R]||n(46)(P.prototype,R,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(87),i=n(143),a=n(120);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),l=a.f,u=0;s.length>u;)l.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,n){var r=n(2);r(r.S,"Object",{create:n(89)})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(27),"Object",{defineProperty:n(28).f})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(27),"Object",{defineProperties:n(288)})},function(e,t,n){var r=n(49),i=n(50).f;n(63)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(33),i=n(51);n(63)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(33),i=n(87);n(63)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(63)("getOwnPropertyNames",function(){return n(289).f})},function(e,t,n){var r=n(17),i=n(78).onFreeze;n(63)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(17),i=n(78).onFreeze;n(63)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(17),i=n(78).onFreeze;n(63)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(17);n(63)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(17);n(63)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(17);n(63)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})
},function(e,t,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(290)})},function(e,t,n){var r=n(2);r(r.S,"Object",{is:n(516)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(193).set})},function(e,t,n){"use strict";var r=n(121),i={};i[n(25)("toStringTag")]="z",i+""!="[object z]"&&n(47)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(2);r(r.P,"Function",{bind:n(291)})},function(e,t,n){var r=n(28).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||n(27)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(17),i=n(51),a=n(25)("hasInstance"),o=Function.prototype;a in o||n(28).f(o,a,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(2),i=n(293);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(2),i=n(294);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(11),i=n(45),a=n(54),o=n(195),s=n(60),l=n(15),u=n(90).f,c=n(50).f,f=n(28).f,d=n(101).trim,p=r.Number,h=p,y=p.prototype,m="Number"==a(n(89)(y)),_="trim"in String.prototype,g=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=_?t.trim():d(t,3);var n,r,i,a=t.charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,l=t.slice(2),u=0,c=l.length;u<c;u++)if((o=l.charCodeAt(u))<48||o>i)return NaN;return parseInt(l,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(m?l(function(){y.valueOf.call(n)}):"Number"!=a(n))?o(new h(g(t)),n,p):g(t)};for(var b,v=n(27)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;v.length>w;w++)i(h,b=v[w])&&!i(p,b)&&f(p,b,c(h,b));p.prototype=y,y.constructor=p,n(47)(r,"Number",p)}},function(e,t,n){"use strict";var r=n(2),i=n(62),a=n(295),o=n(196),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=l(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=l(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)},y=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(15)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,l=a(this,c),u=i(e),m="",_="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(t=y(l*h(2,69,1))-69,n=t<0?l*h(2,-t,1):l/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=u;r>=7;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),_=p()}else f(0,n),f(1<<-t,0),_=p()+o.call("0",u);return u>0?(s=_.length,_=m+(s<=u?"0."+o.call("0",u-s)+_:_.slice(0,s-u)+"."+_.slice(s-u))):_=m+_,_}})},function(e,t,n){"use strict";var r=n(2),i=n(15),a=n(295),o=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==o.call(1,void 0)})||!i(function(){o.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,n){var r=n(2);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(2),i=n(11).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(2);r(r.S,"Number",{isInteger:n(296)})},function(e,t,n){var r=n(2);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(2),i=n(296),a=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},function(e,t,n){var r=n(2);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(2);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(2),i=n(294);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(2),i=n(293);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(2),i=n(297),a=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+a(e-1)*a(e+1))}})},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(2),a=Math.asinh;i(i.S+i.F*!(a&&1/a(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(2),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(2),i=n(197);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(2),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(2),i=n(198);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(2);r(r.S,"Math",{fround:n(298)})},function(e,t,n){var r=n(2),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,a=0,o=0,s=arguments.length,l=0;o<s;)n=i(arguments[o++]),l<n?(r=l/n,a=a*r*r+1,l=n):n>0?(r=n/l,a+=r*r):a+=n;return l===1/0?1/0:l*Math.sqrt(a)}})},function(e,t,n){var r=n(2),i=Math.imul;r(r.S+r.F*n(15)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r;return 0|i*a+((65535&n>>>16)*a+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log1p:n(297)})},function(e,t,n){var r=n(2);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(2);r(r.S,"Math",{sign:n(197)})},function(e,t,n){var r=n(2),i=n(198),a=Math.exp;r(r.S+r.F*n(15)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(2),i=n(198),a=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})},function(e,t,n){var r=n(2);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(2),i=n(88),a=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(2),i=n(49),a=n(29);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=a(t.length),r=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<r&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,n){"use strict";n(101)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(199)(!0);n(200)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(2),i=n(199)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(2),i=n(29),a=n(202),o="".endsWith
;r(r.P+r.F*n(203)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),l=String(e);return o?o.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){"use strict";var r=n(2),i=n(202);r(r.P+r.F*n(203)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(2);r(r.P,"String",{repeat:n(196)})},function(e,t,n){"use strict";var r=n(2),i=n(29),a=n(202),o="".startsWith;r(r.P+r.F*n(203)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return o?o.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(48)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(48)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(48)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(48)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(48)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(48)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(48)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(48)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(48)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(48)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(48)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(48)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(48)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(2);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(2),i=n(33),a=n(60);r(r.P+r.F*n(15)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(2),i=n(578);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(15),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!r(function(){a.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}:a},function(e,t,n){var r=Date.prototype,i=r.toString,a=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(47)(r,"toString",function(){var e=a.call(this);return e===e?i.call(this):"Invalid Date"})},function(e,t,n){var r=n(25)("toPrimitive"),i=Date.prototype;r in i||n(46)(i,r,n(581))},function(e,t,n){"use strict";var r=n(8),i=n(60);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(2);r(r.S,"Array",{isArray:n(144)})},function(e,t,n){"use strict";var r=n(53),i=n(2),a=n(33),o=n(299),s=n(204),l=n(29),u=n(205),c=n(206);i(i.S+i.F*!n(146)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=a(e),p="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,m=void 0!==y,_=0,g=c(d);if(m&&(y=r(y,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(t=l(d.length),n=new p(t);t>_;_++)u(n,_,m?y(d[_],_):d[_]);else for(f=g.call(d),n=new p;!(i=f.next()).done;_++)u(n,_,m?o(f,y,[i.value,_],!0):i.value);return n.length=_,n}})},function(e,t,n){"use strict";var r=n(2),i=n(205);r(r.S+r.F*n(15)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(2),i=n(49),a=[].join;r(r.P+r.F*(n(119)!=Object||!n(55)(a)),"Array",{join:function(e){return a.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(2),i=n(192),a=n(54),o=n(88),s=n(29),l=[].slice;r(r.P+r.F*n(15)(function(){i&&l.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=a(this);if(t=void 0===t?n:t,"Array"==r)return l.call(this,e,t);for(var i=o(e,n),u=o(t,n),c=s(u-i),f=Array(c),d=0;d<c;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(2),i=n(37),a=n(33),o=n(15),s=[].sort,l=[1,2,3];r(r.P+r.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!n(55)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),i(e))}})},function(e,t,n){"use strict";var r=n(2),i=n(64)(0),a=n(55)([].forEach,!0);r(r.P+r.F*!a,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(17),i=n(144),a=n(25)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(2),i=n(64)(1);r(r.P+r.F*!n(55)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(64)(2);r(r.P+r.F*!n(55)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(64)(3);r(r.P+r.F*!n(55)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(64)(4);r(r.P+r.F*!n(55)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(300);r(r.P+r.F*!n(55)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(2),i=n(300);r(r.P+r.F*!n(55)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(2),i=n(142)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!n(55)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(49),a=n(62),o=n(29),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(55)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=i(this),n=o(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,a(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(2);r(r.P,"Array",{copyWithin:n(301)}),n(79)("copyWithin")},function(e,t,n){var r=n(2);r(r.P,"Array",{fill:n(208)}),n(79)("fill")},function(e,t,n){"use strict";var r=n(2),i=n(64)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(79)("find")},function(e,t,n){"use strict";var r=n(2),i=n(64)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(79)(a)},function(e,t,n){n(91)("Array")},function(e,t,n){var r=n(11),i=n(195),a=n(28).f,o=n(90).f,s=n(145),l=n(147),u=r.RegExp,c=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d
;if(n(27)&&(!h||n(15)(function(){return p[n(25)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")}))){u=function(e,t){var n=this instanceof u,r=s(e),a=void 0===t;return!n&&r&&e.constructor===u&&a?e:i(h?new c(r&&!a?e.source:e,t):c((r=e instanceof u)?e.source:e,r&&a?l.call(e):t),n?this:f,u)};for(var y=o(c),m=0;y.length>m;)!function(e){e in u||a(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(y[m++]);f.constructor=u,u.prototype=f,n(47)(r,"RegExp",u)}n(91)("RegExp")},function(e,t,n){"use strict";n(303);var r=n(8),i=n(147),a=n(27),o=/./.toString,s=function(e){n(47)(RegExp.prototype,"toString",e,!0)};n(15)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=o.name&&s(function(){return o.call(this)})},function(e,t,n){n(148)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(148)("replace",2,function(e,t,n){return[function(r,i){"use strict";var a=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},n]})},function(e,t,n){n(148)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(148)("split",2,function(e,t,r){"use strict";var i=n(145),a=r,o=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return a.call(n,e,t);var r,u,c,f,d,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),y=0,m=void 0===t?4294967295:t>>>0,_=new RegExp(e.source,h+"g");for(l||(r=new RegExp("^"+_.source+"$(?!\\s)",h));(u=_.exec(n))&&!((c=u.index+u[0][s])>y&&(p.push(n.slice(y,u.index)),!l&&u[s]>1&&u[0].replace(r,function(){for(d=1;d<arguments[s]-2;d++)void 0===arguments[d]&&(u[d]=void 0)}),u[s]>1&&u.index<n[s]&&o.apply(p,u.slice(1)),f=u[0][s],y=c,p[s]>=m));)_.lastIndex===u.index&&_.lastIndex++;return y===n[s]?!f&&_.test("")||p.push(""):p.push(n.slice(y)),p[s]>m?p.slice(0,m):p}}else"0".split(void 0,0)[s]&&(r=function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)});return[function(n,i){var a=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},r]})},function(e,t,n){"use strict";var r,i,a,o,s=n(86),l=n(11),u=n(53),c=n(121),f=n(2),d=n(17),p=n(37),h=n(92),y=n(93),m=n(149),_=n(210).set,g=n(211)(),b=n(212),v=n(304),w=n(305),k=l.TypeError,S=l.process,I=l.Promise,E="process"==c(S),A=function(){},x=i=b.f,C=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[n(25)("species")]=function(e){e(A,A)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t}catch(e){}}(),T=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,a=0;n.length>a;)!function(t){var n,a,o=i?t.ok:t.fail,s=t.resolve,l=t.reject,u=t.domain;try{o?(i||(2==e._h&&M(e),e._h=1),!0===o?n=r:(u&&u.enter(),n=o(r),u&&u.exit()),n===t.promise?l(k("Promise-chain cycle")):(a=T(n))?a.call(n,s,l):s(n)):l(r)}catch(e){l(e)}}(n[a++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){_.call(l,function(){var t,n,r,i=e._v,a=N(e);if(a&&(t=v(function(){E?S.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=E||N(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},N=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!N(t.promise))return!1;return!0},M=function(e){_.call(l,function(){var t;E?S.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=T(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,u(D,r,1),u(R,r,1))}catch(e){R.call(r,e)}}):(n._v=e,n._s=1,P(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};C||(I=function(e){h(this,I,"Promise","_h"),p(e),r.call(this);try{e(u(D,this,1),u(R,this,1))}catch(e){R.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(94)(I.prototype,{then:function(e,t){var n=x(m(this,I));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=u(D,e,1),this.reject=u(R,e,1)},b.f=x=function(e){return e===I||e===o?new a(e):i(e)}),f(f.G+f.W+f.F*!C,{Promise:I}),n(100)(I,"Promise"),n(91)("Promise"),o=n(59).Promise,f(f.S+f.F*!C,"Promise",{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!C),"Promise",{resolve:function(e){return w(s&&this===o?I:this,e)}}),f(f.S+f.F*!(C&&n(146)(function(e){I.all(e).catch(A)})),"Promise",{all:function(e){var t=this,n=x(t),r=n.resolve,i=n.reject,a=v(function(){var n=[],a=0,o=1;y(e,!1,function(e){var s=a++,l=!1;n.push(void 0),o++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(e){var t=this,n=x(t),r=n.reject,i=v(function(){y(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";var r=n(310),i=n(103);n(150)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(2),i=n(151),a=n(213),o=n(8),s=n(88),l=n(29),u=n(17),c=n(11).ArrayBuffer,f=n(149),d=a.ArrayBuffer,p=a.DataView,h=i.ABV&&c.isView,y=d.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(c!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||u(e)&&m in e}}),r(r.P+r.U+r.F*n(15)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==y&&void 0===t)return y.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(f(this,d))(l(i-r)),u=new p(this),c=new p(a),h=0;r<i;)c.setUint8(h++,u.getUint8(r++));return a}}),n(91)("ArrayBuffer")},function(e,t,n){var r=n(2);r(r.G+r.W+r.F*!n(151).ABV,{DataView:n(213).DataView})},function(e,t,n){n(72)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(72)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(72)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(72)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(72)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(72)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(72)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(72)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(72)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(2),i=n(37),a=n(8),o=(n(11).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(15)(function(){o(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),l=a(n);return o?o(r,t,l):s.call(r,t,l)}})},function(e,t,n){var r=n(2),i=n(89),a=n(37),o=n(8),s=n(17),l=n(15),u=n(291),c=(n(11).Reflect||{}).construct,f=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!l(function(){c(function(){})})
;r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!f)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var l=n.prototype,p=i(s(l)?l:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(28),i=n(2),a=n(8),o=n(60);i(i.S+i.F*n(15)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){a(e),t=o(t,!0),a(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(2),i=n(50).f,a=n(8);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(a(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(2),i=n(8),a=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(201)(a,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new a(e)}})},function(e,t,n){function r(e,t){var n,s,c=arguments.length<3?e:arguments[2];return u(e)===c?e[t]:(n=i.f(e,t))?o(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:l(s=a(e))?r(s,t,c):void 0}var i=n(50),a=n(51),o=n(45),s=n(2),l=n(17),u=n(8);s(s.S,"Reflect",{get:r})},function(e,t,n){var r=n(50),i=n(2),a=n(8);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(a(e),t)}})},function(e,t,n){var r=n(2),i=n(51),a=n(8);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(a(e))}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(2),i=n(8),a=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!a||a(e)}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{ownKeys:n(312)})},function(e,t,n){var r=n(2),i=n(8),a=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var l,d,p=arguments.length<4?e:arguments[3],h=a.f(c(e),t);if(!h){if(f(d=o(e)))return r(d,t,n,p);h=u(0)}return s(h,"value")?!(!1===h.writable||!f(p))&&(l=a.f(p,t)||u(0),l.value=n,i.f(p,t,l),!0):void 0!==h.set&&(h.set.call(p,n),!0)}var i=n(28),a=n(50),o=n(51),s=n(45),l=n(2),u=n(84),c=n(8),f=n(17);l(l.S,"Reflect",{set:r})},function(e,t,n){var r=n(2),i=n(193);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(2),i=n(142)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(79)("includes")},function(e,t,n){"use strict";var r=n(2),i=n(313),a=n(33),o=n(29),s=n(37),l=n(207);r(r.P,"Array",{flatMap:function(e){var t,n,r=a(this);return s(e),t=o(r.length),n=l(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(79)("flatMap")},function(e,t,n){"use strict";var r=n(2),i=n(313),a=n(33),o=n(29),s=n(62),l=n(207);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=a(this),n=o(t.length),r=l(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(79)("flatten")},function(e,t,n){"use strict";var r=n(2),i=n(199)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(2),i=n(314);r(r.P,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(2),i=n(314);r(r.P,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(101)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(101)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(2),i=n(61),a=n(29),o=n(145),s=n(147),l=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};n(201)(u,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in l?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=a(e.lastIndex),new u(r,t)}})},function(e,t,n){n(189)("asyncIterator")},function(e,t,n){n(189)("observable")},function(e,t,n){var r=n(2),i=n(312),a=n(49),o=n(50),s=n(205);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),l=o.f,u=i(r),c={},f=0;u.length>f;)void 0!==(n=l(r,t=u[f++]))&&s(c,t,n);return c}})},function(e,t,n){var r=n(2),i=n(315)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(2),i=n(315)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(2),i=n(33),a=n(37),o=n(28);n(27)&&r(r.P+n(152),"Object",{__defineGetter__:function(e,t){o.f(i(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(2),i=n(33),a=n(37),o=n(28);n(27)&&r(r.P+n(152),"Object",{__defineSetter__:function(e,t){o.f(i(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(2),i=n(33),a=n(60),o=n(51),s=n(50).f;n(27)&&r(r.P+n(152),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=a(e,!0);do{if(t=s(n,r))return t.get}while(n=o(n))}})},function(e,t,n){"use strict";var r=n(2),i=n(33),a=n(60),o=n(51),s=n(50).f;n(27)&&r(r.P+n(152),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=a(e,!0);do{if(t=s(n,r))return t.set}while(n=o(n))}})},function(e,t,n){var r=n(2);r(r.P+r.R,"Map",{toJSON:n(316)("Map")})},function(e,t,n){var r=n(2);r(r.P+r.R,"Set",{toJSON:n(316)("Set")})},function(e,t,n){n(153)("Map")},function(e,t,n){n(153)("Set")},function(e,t,n){n(153)("WeakMap")},function(e,t,n){n(153)("WeakSet")},function(e,t,n){n(154)("Map")},function(e,t,n){n(154)("Set")},function(e,t,n){n(154)("WeakMap")},function(e,t,n){n(154)("WeakSet")},function(e,t,n){var r=n(2);r(r.G,{global:n(11)})},function(e,t,n){var r=n(2);r(r.S,"System",{global:n(11)})},function(e,t,n){var r=n(2),i=n(54);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(2);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(2),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){var r=n(2),i=n(318),a=n(298);r(r.S,"Math",{fscale:function(e,t,n,r,o){return a(i(e,t,n,r,o))}})},function(e,t,n){var r=n(2);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,a=t>>>0,o=n>>>0;return a+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(2);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,a=t>>>0,o=n>>>0;return a-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(2);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r,o=n>>16,s=r>>16,l=(o*a>>>0)+(i*a>>>16);return o*s+(l>>16)+((i*s>>>0)+(65535&l)>>16)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(2),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){var r=n(2);r(r.S,"Math",{scale:n(318)})},function(e,t,n){var r=n(2);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r,o=n>>>16,s=r>>>16,l=(o*a>>>0)+(i*a>>>16);return o*s+(l>>>16)+((i*s>>>0)+(65535&l)>>>16)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(2),i=n(59),a=n(11),o=n(149),s=n(305);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(2),i=n(212),a=n(304);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=a(e)
;return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(73),i=n(8),a=r.key,o=r.set;r.exp({defineMetadata:function(e,t,n,r){o(e,t,i(n),a(r))}})},function(e,t,n){var r=n(73),i=n(8),a=r.key,o=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:a(arguments[2]),r=o(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var l=s.get(t);return l.delete(n),!!l.size||s.delete(t)}})},function(e,t,n){var r=n(73),i=n(8),a=n(51),o=r.has,s=r.get,l=r.key,u=function(e,t,n){if(o(e,t,n))return s(e,t,n);var r=a(t);return null!==r?u(e,r,n):void 0};r.exp({getMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,n){var r=n(308),i=n(317),a=n(73),o=n(8),s=n(51),l=a.keys,u=a.key,c=function(e,t){var n=l(e,t),a=s(e);if(null===a)return n;var o=c(a,t);return o.length?n.length?i(new r(n.concat(o))):o:n};a.exp({getMetadataKeys:function(e){return c(o(e),arguments.length<2?void 0:u(arguments[1]))}})},function(e,t,n){var r=n(73),i=n(8),a=r.get,o=r.key;r.exp({getOwnMetadata:function(e,t){return a(e,i(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,n){var r=n(73),i=n(8),a=r.keys,o=r.key;r.exp({getOwnMetadataKeys:function(e){return a(i(e),arguments.length<2?void 0:o(arguments[1]))}})},function(e,t,n){var r=n(73),i=n(8),a=n(51),o=r.has,s=r.key,l=function(e,t,n){if(o(e,t,n))return!0;var r=a(t);return null!==r&&l(e,r,n)};r.exp({hasMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(73),i=n(8),a=r.has,o=r.key;r.exp({hasOwnMetadata:function(e,t){return a(e,i(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,n){var r=n(73),i=n(8),a=n(37),o=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:a)(n),o(r))}}})},function(e,t,n){var r=n(2),i=n(211)(),a=n(11).process,o="process"==n(54)(a);r(r.G,{asap:function(e){var t=o&&a.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(2),i=n(11),a=n(59),o=n(211)(),s=n(25)("observable"),l=n(37),u=n(8),c=n(92),f=n(94),d=n(46),p=n(93),h=p.RETURN,y=function(e){return null==e?void 0:l(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},_=function(e){return void 0===e._o},g=function(e){_(e)||(e._o=void 0,m(e))},b=function(e,t){u(e),this._c=void 0,this._o=e,e=new v(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:l(n),this._c=n)}catch(t){return void e.error(t)}_(this)&&m(this)};b.prototype=f({},{unsubscribe:function(){g(this)}});var v=function(e){this._s=e};v.prototype=f({},{next:function(e){var t=this._s;if(!_(t)){var n=t._o;try{var r=y(n.next);if(r)return r.call(n,e)}catch(e){try{g(t)}finally{throw e}}}},error:function(e){var t=this._s;if(_(t))throw e;var n=t._o;t._o=void 0;try{var r=y(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!_(t)){var n=t._o;t._o=void 0;try{var r=y(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var w=function(e){c(this,w,"Observable","_f")._f=l(e)};f(w.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(a.Promise||i.Promise)(function(n,r){l(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(e){var t="function"==typeof this?this:w,n=y(u(e)[s]);if(n){var r=u(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return o(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return h})===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return o(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(91)("Observable")},function(e,t,n){var r=n(11),i=n(2),a=r.navigator,o=[].slice,s=!!a&&/MSIE .\./.test(a.userAgent),l=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&o.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(e,t,n){var r=n(2),i=n(210);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(209),i=n(87),a=n(47),o=n(11),s=n(46),l=n(102),u=n(25),c=u("iterator"),f=u("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),y=0;y<h.length;y++){var m,_=h[y],g=p[_],b=o[_],v=b&&b.prototype;if(v&&(v[c]||s(v,c,d),v[f]||s(v,f,_),l[_]=d,g))for(m in r)v[m]||a(v,m,r[m],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,r){var a=t&&t.prototype instanceof i?t:i,o=Object.create(a.prototype),s=new p(r||[]);return o._invoke=u(e,n,s),o}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function a(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function n(t,i,a,o){var s=r(e[t],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&g.call(u,"__await")?Promise.resolve(u.__await).then(function(e){n("next",e,a,o)},function(e){n("throw",e,a,o)}):Promise.resolve(u).then(function(e){l.value=e,a(l)},o)}o(s.arg)}function i(e,t){function r(){return new Promise(function(r,i){n(e,t,r,i)})}return a=a?a.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var a;this._invoke=i}function u(e,t,n){var i=E;return function(a,o){if(i===x)throw new Error("Generator is already running");if(i===C){if("throw"===a)throw o;return y()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===T)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=x;var u=r(e,t,n);if("normal"===u.type){if(i=n.done?C:A,u.arg===T)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=C,n.method="throw",n.arg=u.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,c(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,T;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,T):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[v];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return r.next=r}}return{next:y}}
function y(){return{value:m,done:!0}}var m,_=Object.prototype,g=_.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},v=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",k=b.toStringTag||"@@toStringTag",S="object"==typeof e,I=t.regeneratorRuntime;if(I)return void(S&&(e.exports=I));I=t.regeneratorRuntime=S?e.exports:{},I.wrap=n;var E="suspendedStart",A="suspendedYield",x="executing",C="completed",T={},P={};P[v]=function(){return this};var O=Object.getPrototypeOf,N=O&&O(O(h([])));N&&N!==_&&g.call(N,v)&&(P=N);var M=o.prototype=i.prototype=Object.create(P);a.prototype=M.constructor=o,o.constructor=a,o[k]=a.displayName="GeneratorFunction",I.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},I.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(M),e},I.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[w]=function(){return this},I.AsyncIterator=l,I.async=function(e,t,r,i){var a=new l(n(e,t,r,i));return I.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},s(M),M[k]="Generator",M[v]=function(){return this},M.toString=function(){return"[object Generator]"},I.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},I.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,T):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),T}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(44))},function(e,t,n){n(697),e.exports=n(59).RegExp.escape},function(e,t,n){var r=n(2),i=n(698)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var r=n(700),i=t(r);n(703);var a=n(1),o=t(a),s=n(12),l=t(s),u=n(3),c=t(u),f=n(1008),d=t(f),p=n(9),h=t(p),y=n(1009),m=t(y),_=n(1010),g=t(_),b=n(242),v=t(b);n(1011);var w=n(357),k=t(w),S=n(1016),I=t(S),E=n(229),A=t(E);e._babelPolyfill||window._babelPolyfill||n(284);var x=aoba,C=x.game,T=x.loader,P=x.sceneManager,O=x.Resolution,N=o.default.SCREEN_WIDTH,M=o.default.SCREEN_HEIGHT,R=o.default.env,D=R.STATS,F=R.ASSET_ROOT,B=(R.SPEED,new O({width:N,height:M,policy:O.Policy.CONTAIN_WINDOW}));C.setParams({resolution:B,stats:D});var j=Object.assign(m.default,g.default);c.default.init(j);T.baseUrl=F,I.default.forEach(function(e){P.register(e.name,e.class)});var L=new aoba.utils.EventEmitter;h.default.setErrorEvent(L),L.on("error",function(e){P.currentScene.showErrorDialog(e)}),L.on("maintenance",function(e){P.currentScene.showMaintenanceDialog(e)}),v.default.setUp(),(0,d.default)(),function(){if(A.default.isIOSWebApp()){var e=A.default.getPreUrlFromStorage();if(e)return A.default.removePreUrlFromStorage(),void(window.location.href=e)}Object.keys(k.default).forEach(function(e){(0,i.default)(e,function(t){l.default.init(e,t)})}),(0,i.default)()}(),aoba.FrameAnimation.prototype.stop=function(){return this._playing=!1,this._frameIndex=0,this._stepCount=0,this._time=0,this},aoba.sceneManager.replaceScene=function(e){for(;this._scenes.length>=1;)this._removeScene();this._addScene(e)}}).call(t,n(44))},function(e,t,n){"use strict";(function(t){function r(e,t){if("function"==typeof e)return r("*",e);if("function"==typeof t)for(var n=new s(e),i=1;i<arguments.length;++i)r.callbacks.push(n.middleware(arguments[i]));else"string"==typeof e?r["string"==typeof t?"redirect":"show"](e,t):r.start(e)}function i(e){if(!e.handled){var t;t=b?g+y.hash.replace("#!",""):y.pathname+y.search,t!==e.canonicalPath&&(r.stop(),e.handled=!1,y.href=e.canonicalPath)}}function a(e){return"string"!=typeof e?e:_?decodeURIComponent(e.replace(/\+/g," ")):e}function o(e,t){"/"===e[0]&&0!==e.indexOf(g)&&(e=g+(b?"#!":"")+e);var n=e.indexOf("?");if(this.canonicalPath=e,this.path=e.replace(g,"")||"/",b&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=t||{},this.state.path=e,this.querystring=~n?a(e.slice(n+1)):"",this.pathname=a(~n?e.slice(0,n):e),this.params={},this.hash="",!b){if(!~this.path.indexOf("#"))return;var r=this.path.split("#");this.path=r[0],this.hash=a(r[1])||"",this.querystring=this.querystring.split("#")[0]}}function s(e,t){t=t||{},this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=f(this.path,this.keys=[],t)}function l(e){if(1===u(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var n=e.path?e.path[0]:e.target;n&&"A"!==n.nodeName;)n=n.parentNode;if(n&&"A"===n.nodeName&&!n.hasAttribute("download")&&"external"!==n.getAttribute("rel")){var i=n.getAttribute("href");if((b||n.pathname!==y.pathname||!n.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!n.target&&c(n.href)){var a=n.pathname+n.search+(n.hash||"");void 0!==t&&a.match(/^\/[a-zA-Z]:\//)&&(a=a.replace(/^\/[a-zA-Z]:\//,"/"));var o=a;0===a.indexOf(g)&&(a=a.substr(g.length)),b&&(a=a.replace("#!","")),g&&o===a||(e.preventDefault(),r.show(o))}}}}function u(e){return e=e||window.event,null===e.which?e.button:e.which}function c(e){var t=y.protocol+"//"+y.hostname;return y.port&&(t+=":"+y.port),e&&0===e.indexOf(t)}var f=n(701);e.exports=r;var d,p,h="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",y="undefined"!=typeof window&&(window.history.location||window.location),m=!0,_=!0,g="",b=!1;r.callbacks=[],r.exits=[],r.current="",r.len=0,r.base=function(e){if(0===arguments.length)return g;g=e},r.start=function(e){if(e=e||{},!d&&(d=!0,!1===e.dispatch&&(m=!1),!1===e.decodeURLComponents&&(_=!1),!1!==e.popstate&&window.addEventListener("popstate",v,!1),!1!==e.click&&document.addEventListener(h,l,!1),!0===e.hashbang&&(b=!0),
m)){var t=b&&~y.hash.indexOf("#!")?y.hash.substr(2)+y.search:y.pathname+y.search+y.hash;r.replace(t,null,!0,m)}},r.stop=function(){d&&(r.current="",r.len=0,d=!1,document.removeEventListener(h,l,!1),window.removeEventListener("popstate",v,!1))},r.show=function(e,t,n,i){var a=new o(e,t);return r.current=a.path,!1!==n&&r.dispatch(a),!1!==a.handled&&!1!==i&&a.pushState(),a},r.back=function(e,t){r.len>0?(history.back(),r.len--):e?setTimeout(function(){r.show(e,t)}):setTimeout(function(){r.show(g,t)})},r.redirect=function(e,t){"string"==typeof e&&"string"==typeof t&&r(e,function(e){setTimeout(function(){r.replace(t)},0)}),"string"==typeof e&&void 0===t&&setTimeout(function(){r.replace(e)},0)},r.replace=function(e,t,n,i){var a=new o(e,t);return r.current=a.path,a.init=n,a.save(),!1!==i&&r.dispatch(a),a},r.dispatch=function(e){function t(){var e=r.exits[s++];if(!e)return n();e(a,t)}function n(){var t=r.callbacks[o++];return e.path!==r.current?void(e.handled=!1):t?void t(e,n):i(e)}var a=p,o=0,s=0;p=e,a?t():n()},r.exit=function(e,t){if("function"==typeof e)return r.exit("*",e);for(var n=new s(e),i=1;i<arguments.length;++i)r.exits.push(n.middleware(arguments[i]))},r.Context=o,o.prototype.pushState=function(){r.len++,history.pushState(this.state,this.title,b&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},o.prototype.save=function(){history.replaceState(this.state,this.title,b&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},r.Route=s,s.prototype.middleware=function(e){var t=this;return function(n,r){if(t.match(n.path,n.params))return e(n,r);r()}},s.prototype.match=function(e,t){var n=this.keys,r=e.indexOf("?"),i=~r?e.slice(0,r):e,o=this.regexp.exec(decodeURIComponent(i));if(!o)return!1;for(var s=1,l=o.length;s<l;++s){var u=n[s-1],c=a(o[s]);void 0===c&&hasOwnProperty.call(t,u.name)||(t[u.name]=c)}return!0};var v=function(){var e=!1;if("undefined"!=typeof window)return"complete"===document.readyState?e=!0:window.addEventListener("load",function(){setTimeout(function(){e=!0},0)}),function(t){if(e)if(t.state){var n=t.state.path;r.replace(n,t.state)}else r.show(y.pathname+y.hash,void 0,void 0,!1)}}();r.sameOrigin=c}).call(t,n(43))},function(e,t,n){function r(e){for(var t,n=[],r=0,i=0,a="";null!=(t=m.exec(e));){var o=t[0],l=t[1],u=t.index;if(a+=e.slice(i,u),i=u+o.length,l)a+=l[1];else{a&&(n.push(a),a="");var c=t[2],f=t[3],d=t[4],p=t[5],h=t[6],y=t[7],_="+"===h||"*"===h,g="?"===h||"*"===h,b=c||"/",v=d||p||(y?".*":"[^"+b+"]+?");n.push({name:f||r++,prefix:c||"",delimiter:b,optional:g,repeat:_,pattern:s(v)})}}return i<e.length&&(a+=e.substr(i)),a&&n.push(a),n}function i(e){return a(r(e))}function a(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^"+e[n].pattern+"$"));return function(n){for(var r="",i=n||{},a=0;a<e.length;a++){var o=e[a];if("string"!=typeof o){var s,l=i[o.name];if(null==l){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to be defined')}if(y(l)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but received "'+l+'"');if(0===l.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(s=encodeURIComponent(l[u]),!t[a].test(s))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but received "'+s+'"');r+=(0===u?o.prefix:o.delimiter)+s}}else{if(s=encodeURIComponent(l),!t[a].test(s))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but received "'+s+'"');r+=o.prefix+s}}else r+=o}return r}}function o(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function u(e){return e.sensitive?"":"i"}function c(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return l(e,t)}function f(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",u(n)),t)}function d(e,t,n){for(var i=r(e),a=p(i,n),o=0;o<i.length;o++)"string"!=typeof i[o]&&t.push(i[o]);return l(a,t)}function p(e,t){t=t||{};for(var n=t.strict,r=!1!==t.end,i="",a=e[e.length-1],s="string"==typeof a&&/\/$/.test(a),l=0;l<e.length;l++){var c=e[l];if("string"==typeof c)i+=o(c);else{var f=o(c.prefix),d=c.pattern;c.repeat&&(d+="(?:"+f+d+")*"),d=c.optional?f?"(?:"+f+"("+d+"))?":"("+d+")?":f+"("+d+")",i+=d}}return n||(i=(s?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=r?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+i,u(t))}function h(e,t,n){return t=t||[],y(t)?n||(n={}):(n=t,t=[]),e instanceof RegExp?c(e,t,n):y(e)?f(e,t,n):d(e,t,n)}var y=n(702);e.exports=h,e.exports.parse=r,e.exports.compile=i,e.exports.tokensToFunction=a,e.exports.tokensToRegExp=p;var m=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n(704),n(705),n(794),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.aoba=window.ezg,t.default={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(214),o=r(a),s=n(31),l=r(s);!function(){function e(e){return function(t,n){var r=e[t]||e.default;n(r&&r.baseTexture?r.baseTexture:r)}}var t=window.aoba,n=t.loaders.Resource.prototype.load,r=function(e){var t=l.default.extname(this.url),n=l.default.basename(this.url,t);this.originUrl=this.url,this.url=l.default.join("/assets",o.default.encryptPath(this.url,n)),".mp3"!==t&&".mp4"!==t&&".m4a"!==t||(this.url+=t),this._originLoad(e)},a=function(){var e={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};this.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};var t=this.xhr,n="",r=void 0===t.status?200:t.status;if(""!==t.responseType&&t.responseType!==e.TEXT&&void 0!==t.responseType||(n=t.responseText),0===r&&(n.length>0||t.responseType===e.BUFFER)?r=200:1223===r&&(r=204),this.xhrType===e.BUFFER){var i=String.fromCharCode.apply(null,new Uint8Array(t.response.slice(0,4)));"<"===i[0]&&"!"===i[1]&&"D"===i[2]&&(r=404),i=null}if(2!=(r/100|0))return void this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);if(this.xhrType===e.TEXT)this.data=decodeURIComponent(escape(o.default.decryptText(n))),this.type=this.TYPE.TEXT;else if(this.xhrType===e.JSON)try{var a=decodeURIComponent(escape(o.default.decryptText(n)));this.data=JSON.parse(a),this.type=this.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===e.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(n,"text/xml")}else{var l=document.createElement("div");l.innerHTML=n,this.data=l}this.type=this.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=t.response||n;this.url=this.originUrl,this.complete()};t.loaders.Resource.prototype._originLoad=n,t.loaders.Resource.prototype.load=r,t.loaders.Resource.prototype._xhrOnLoad=a;var s=function(e){return e.type===t.loaders.Resource.TYPE.JSON},u=function(e,n,r,a){if(Array.isArray(e)){for(var o=0;o<e.length;++o)this.add(e[o]);return this}if("object"===(void 0===e?"undefined":i(e))&&(a=n||e.callback||e.onComplete,r=e,n=e.url,e=e.name||e.key||e.url),"string"!=typeof n&&(a=r,r=n,n=e),"string"!=typeof n)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(a=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.")
;if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(n=this._prepareUrl(n,r),this.resources[e]=new t.loaders.Resource(e,n,r),"function"==typeof a&&this.resources[e].onAfterMiddleware.once(a),this.loading){for(var s=r.parentResource,l=[],u=0;u<s.children.length;++u)s.children[u].isComplete||l.push(s.children[u]);var c=s.progressChunk*(l.length+1),f=c/(l.length+2);s.children.push(this.resources[e]),s.progressChunk=f;for(var d=0;d<l.length;++d)l[d].progressChunk=f;this.resources[e].progressChunk=f}return this._queue.push(this.resources[e]),this},c=/(#[\w-]+)?$/,f=function(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},a=14;a--;)i[n.key[a]]=r[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(e,t,r){t&&(i[n.q.name][t]=r)}),i},d=function(e,t){var n=f(e,{strictMode:!0}),r=void 0;if(r=n.protocol||!n.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var i=c.exec(r)[0];r=r.substr(0,r.length-i.length),-1!==r.indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}if(t&&t.queryString){var a=c.exec(r)[0];r=r.substr(0,r.length-a.length),-1!==r.indexOf("?")?r+="&"+t.queryString:r+="?"+t.queryString,r+=a}return r};t.loader._afterMiddleware[4]=function(){return function(n,r){if(!n.data||!s(n)||!n.data.bones)return r();var i=n.metadata||{},a=i?n.metadata.spineSkeletonScale:null,l=i?n.metadata.spineAtlas:null;if(!1===l)return r();if(l&&l.pages){var u=new t.spine.core.SkeletonJson(new t.spine.core.AtlasAttachmentLoader(l)),c=u.readSkeletonData(n.data);return n.spineData=c,n.spineAtlas=l,r()}var f=i.spineAtlasSuffix||".atlas",d=n.url.substr(0,n.url.lastIndexOf("."))+f,p=n.url.split("?")[1]?n.url.split("?")[1]:null;p&&t.loader.defaultQueryString&&(p=p.replace(t.loader.defaultQueryString,""),"&"===p[0]&&(p=p.slice(1))),d=d.replace(this.baseUrl,"");var h={crossOrigin:n.crossOrigin,xhrType:t.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:i.spineMetadata||null,parentResource:n,queryString:p},y={crossOrigin:n.crossOrigin,metadata:i.imageMetadata||null,parentResource:n,queryString:p},m=n.url.substr(0,n.url.lastIndexOf("/")+1);m=m.replace(this.baseUrl,"");var _=i.images?e(i.images):i.image?e({default:i.image}):i.imageLoader?i.imageLoader(this,n.name+"_atlas_page_",m,y):t.spine.imageLoaderAdapter(this,n.name+"_atlas_page_",m,y);this.add(n.name+"_atlas",d,h,function(e){var i=e.xhr.responseText;i=decodeURIComponent(escape(o.default.decryptText(i))),new t.spine.core.TextureAtlas(i,_,function(e){var i=new t.spine.core.SkeletonJson(new t.spine.core.AtlasAttachmentLoader(e));a&&(i.scale=a),n.spineData=i.readSkeletonData(n.data),n.spineAtlas=e,r()})})}}(),t.loader.add=u,t.loader._prepareUrl=d,t.loaders.Loader.prototype.add=u,t.loaders.Loader.prototype._prepareUrl=d}()},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function a(e){var t,n,i,a,o,s=e.length;a=r(e),o=new f(3*s/4-a),n=a>0?s-4:s;var l=0;for(t=0;t<n;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===a?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,o[l++]=255&i):1===a&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o}function o(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(o(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i="",a=[],o=0,l=n-r;o<l;o+=16383)a.push(s(e,o,o+16383>l?l:o+16383));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),a.push(i),a.join("")}t.byteLength=i,t.toByteArray=a,t.fromByteArray=l;for(var u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=d.length;p<h;++p)u[p]=d[p],c[d.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=u}return(p?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+f>=1?d/l:d*Math.pow(2,1-f),t*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+p]=255&o,p+=h,o/=256,u-=8);e[n+p-h]|=128*y}},function(e,t,n){"use strict";(function(t){function n(e){if(e.length%r!=0){var n=e.length+(r-e.length%r);e=t.concat([e,i],n)}for(var a=new Array(e.length>>>2),o=0,s=0;o<e.length;o+=r,s++)a[s]=e.readInt32LE(o);return a}var r=4,i=new t(r);i.fill(0);e.exports=function(e,r){var i=r(n(e),8*e.length);e=new t(16);for(var a=0;a<i.length;a++)e.writeInt32LE(i[a],a<<2,!0);return e}}).call(t,n(16).Buffer)},function(e,t,n){"use strict";(function(t){function r(e){i.call(this),this._block=new t(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var i=n(155).Transform;n(6)(r,i),r.prototype._transform=function(e,n,r){var i=null;try{"buffer"!==n&&(e=new t(e,n)),this.update(e)}catch(e){i=e}r(i)},r.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(e){t=e}e(t)},r.prototype.update=function(e,n){if(!t.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");t.isBuffer(e)||(e=new t(e,n||"binary"));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)r[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},r.prototype._update=function(e){throw new Error("_update is not implemented")},r.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();return void 0!==e&&(t=t.toString(e)),t},r.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=r}).call(t,n(16).Buffer)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var a=n(18).Buffer;e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},
e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var t=a.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}()},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(713),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,s(l),l++}function i(e){delete u[e]}function a(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function o(e){if(c)setTimeout(o,0,e);else{var t=u[e];if(t){c=!0;try{a(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,l=1,u={},c=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(o,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(44),n(43))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n(323),a=n(123);a.inherits=n(6),a.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(219)},function(e,t,n){e.exports=n(95)},function(e,t,n){e.exports=n(218).Transform},function(e,t,n){e.exports=n(218).PassThrough},function(e,t,n){function r(){this.init(),this._w=f,l.call(this,64,56)}function i(e){return e<<5|e>>>27}function a(e){return e<<30|e>>>2}function o(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var s=n(6),l=n(105),u=n(18).Buffer,c=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);s(r,l),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,s=0|this._c,l=0|this._d,u=0|this._e,f=0;f<16;++f)t[f]=e.readInt32BE(4*f);for(;f<80;++f)t[f]=t[f-3]^t[f-8]^t[f-14]^t[f-16];for(var d=0;d<80;++d){var p=~~(d/20),h=i(n)+o(p,r,s,l)+u+t[d]+c[p]|0;u=l,l=s,s=a(r),r=n,n=h}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=l+this._d|0,this._e=u+this._e|0},r.prototype._hash=function(){var e=u.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=d,u.call(this,64,56)}function i(e){return e<<1|e>>>31}function a(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function s(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var l=n(6),u=n(105),c=n(18).Buffer,f=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);l(r,u),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,l=0|this._c,u=0|this._d,c=0|this._e,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=i(t[d-3]^t[d-8]^t[d-14]^t[d-16]);for(var p=0;p<80;++p){var h=~~(p/20),y=a(n)+s(h,r,l,u)+c+t[p]+f[h]|0;c=u,u=l,l=o(r),r=n,n=y}this._a=n+this._a|0,this._b=r+this._b|0,this._c=l+this._c|0,this._d=u+this._d|0,this._e=c+this._e|0},r.prototype._hash=function(){var e=c.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=l,o.call(this,64,56)}var i=n(6),a=n(324),o=n(105),s=n(18).Buffer,l=new Array(64);i(r,a),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=l,o.call(this,128,112)}var i=n(6),a=n(325),o=n(105),s=n(18).Buffer,l=new Array(160);i(r,a),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}var t=s.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t)),this._alg=e,this._key=t,t.length>l?t=e(t):t.length<l&&(t=a.concat([t,s],l));for(var n=this._ipad=a.allocUnsafe(l),r=this._opad=a.allocUnsafe(l),i=0;i<l;i++)n[i]=54^t[i],r[i]=92^t[i];this._hash=[n]}var i=n(6),a=n(18).Buffer,o=n(80),s=a.alloc(128),l=64;i(r,o),r.prototype._update=function(e){this._hash.push(e)},r.prototype._final=function(){var e=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,e]))},e.exports=r},function(e,t,n){e.exports=n(327)},function(e,t,n){(function(t,r){function i(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];s=s||f.alloc(8);var n=a(s,s,10,128,e).then(function(){return!0}).catch(function(){return!1});return h[e]=n,n}function a(e,t,n,r,i){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return d.deriveBits({
name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)}).then(function(e){return f.from(e)})}function o(e,t){e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})})}var s,l=n(329),u=n(330),c=n(331),f=n(18).Buffer,d=t.crypto&&t.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];e.exports=function(e,n,s,d,h,y){if(f.isBuffer(e)||(e=f.from(e,u)),f.isBuffer(n)||(n=f.from(n,u)),l(s,d),"function"==typeof h&&(y=h,h=void 0),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");h=h||"sha1";var m=p[h.toLowerCase()];if(!m||"function"!=typeof t.Promise)return r.nextTick(function(){var t;try{t=c(e,n,s,d,h)}catch(e){return y(e)}y(null,t)});o(i(m).then(function(t){return t?a(e,n,s,d,m):c(e,n,s,d,h)}),y)}}).call(t,n(44),n(43))},function(e,t,n){function r(e,t){var n,r;if(e=e.toLowerCase(),d[e])n=d[e].key,r=d[e].iv;else{if(!f[e])throw new TypeError("invalid suite type");n=8*f[e].key,r=f[e].iv}var i=l(t,!1,n,r);return a(e,i.key,i.iv)}function i(e,t){var n,r;if(e=e.toLowerCase(),d[e])n=d[e].key,r=d[e].iv;else{if(!f[e])throw new TypeError("invalid suite type");n=8*f[e].key,r=f[e].iv}var i=l(t,!1,n,r);return o(e,i.key,i.iv)}function a(e,t,n){if(e=e.toLowerCase(),d[e])return u.createCipheriv(e,t,n);if(f[e])return new c({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function o(e,t,n){if(e=e.toLowerCase(),d[e])return u.createDecipheriv(e,t,n);if(f[e])return new c({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function s(){return Object.keys(f).concat(u.getCiphers())}var l=n(157),u=n(223),c=n(738),f=n(744),d=n(224);t.createCipher=t.Cipher=r,t.createCipheriv=t.Cipheriv=a,t.createDecipher=t.Decipher=i,t.createDecipheriv=t.Decipheriv=o,t.listCiphers=t.getCiphers=s},function(e,t,n){"use strict";(function(t){function r(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function i(e,t){return e<<t|e>>>32-t}function a(e,t,n,r,a,o,s){return i(e+(t&n|~t&r)+a+o|0,s)+t|0}function o(e,t,n,r,a,o,s){return i(e+(t&r|n&~r)+a+o|0,s)+t|0}function s(e,t,n,r,a,o,s){return i(e+(t^n^r)+a+o|0,s)+t|0}function l(e,t,n,r,a,o,s){return i(e+(n^(t|~r))+a+o|0,s)+t|0}var u=n(6),c=n(728),f=new Array(16);u(r,c),r.prototype._update=function(){for(var e=f,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,u=this._d;n=a(n,r,i,u,e[0],3614090360,7),u=a(u,n,r,i,e[1],3905402710,12),i=a(i,u,n,r,e[2],606105819,17),r=a(r,i,u,n,e[3],3250441966,22),n=a(n,r,i,u,e[4],4118548399,7),u=a(u,n,r,i,e[5],1200080426,12),i=a(i,u,n,r,e[6],2821735955,17),r=a(r,i,u,n,e[7],4249261313,22),n=a(n,r,i,u,e[8],1770035416,7),u=a(u,n,r,i,e[9],2336552879,12),i=a(i,u,n,r,e[10],4294925233,17),r=a(r,i,u,n,e[11],2304563134,22),n=a(n,r,i,u,e[12],1804603682,7),u=a(u,n,r,i,e[13],4254626195,12),i=a(i,u,n,r,e[14],2792965006,17),r=a(r,i,u,n,e[15],1236535329,22),n=o(n,r,i,u,e[1],4129170786,5),u=o(u,n,r,i,e[6],3225465664,9),i=o(i,u,n,r,e[11],643717713,14),r=o(r,i,u,n,e[0],3921069994,20),n=o(n,r,i,u,e[5],3593408605,5),u=o(u,n,r,i,e[10],38016083,9),i=o(i,u,n,r,e[15],3634488961,14),r=o(r,i,u,n,e[4],3889429448,20),n=o(n,r,i,u,e[9],568446438,5),u=o(u,n,r,i,e[14],3275163606,9),i=o(i,u,n,r,e[3],4107603335,14),r=o(r,i,u,n,e[8],1163531501,20),n=o(n,r,i,u,e[13],2850285829,5),u=o(u,n,r,i,e[2],4243563512,9),i=o(i,u,n,r,e[7],1735328473,14),r=o(r,i,u,n,e[12],2368359562,20),n=s(n,r,i,u,e[5],4294588738,4),u=s(u,n,r,i,e[8],2272392833,11),i=s(i,u,n,r,e[11],1839030562,16),r=s(r,i,u,n,e[14],4259657740,23),n=s(n,r,i,u,e[1],2763975236,4),u=s(u,n,r,i,e[4],1272893353,11),i=s(i,u,n,r,e[7],4139469664,16),r=s(r,i,u,n,e[10],3200236656,23),n=s(n,r,i,u,e[13],681279174,4),u=s(u,n,r,i,e[0],3936430074,11),i=s(i,u,n,r,e[3],3572445317,16),r=s(r,i,u,n,e[6],76029189,23),n=s(n,r,i,u,e[9],3654602809,4),u=s(u,n,r,i,e[12],3873151461,11),i=s(i,u,n,r,e[15],530742520,16),r=s(r,i,u,n,e[2],3299628645,23),n=l(n,r,i,u,e[0],4096336452,6),u=l(u,n,r,i,e[7],1126891415,10),i=l(i,u,n,r,e[14],2878612391,15),r=l(r,i,u,n,e[5],4237533241,21),n=l(n,r,i,u,e[12],1700485571,6),u=l(u,n,r,i,e[3],2399980690,10),i=l(i,u,n,r,e[10],4293915773,15),r=l(r,i,u,n,e[1],2240044497,21),n=l(n,r,i,u,e[8],1873313359,6),u=l(u,n,r,i,e[15],4264355552,10),i=l(i,u,n,r,e[6],2734768916,15),r=l(r,i,u,n,e[13],1309151649,21),n=l(n,r,i,u,e[4],4149444226,6),u=l(u,n,r,i,e[11],3174756917,10),i=l(i,u,n,r,e[2],718787259,15),r=l(r,i,u,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+u|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=r}).call(t,n(16).Buffer)},function(e,t,n){"use strict";function r(e,t){if(!a.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}function i(e){o.call(this),this._block=a.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var a=n(18).Buffer,o=n(155).Transform;n(6)(i,o),i.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(r(e,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(e)||(e=a.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var s=0,l=8*e.length;l>0;++s)this._length[s]+=l,(l=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*l);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i},function(e,t,n){function r(e,t,n){f.call(this),this._cache=new i,this._cipher=new d.AES(t),this._prev=u.from(n),this._mode=e,this._autopadding=!0}function i(){this.cache=u.allocUnsafe(0)}function a(e,t,n){var i=s[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=u.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=u.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new c(i.module,t,n):"auth"===i.type?new l(i.module,t,n):new r(i.module,t,n)}function o(e,t){var n=s[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=p(t,!1,n.key,n.iv);return a(e,r.key,r.iv)}var s=n(224),l=n(335),u=n(18).Buffer,c=n(336),f=n(80),d=n(158),p=n(157);n(6)(r,f),r.prototype._update=function(e){this._cache.add(e);for(var t,n,r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return u.concat(r)};var h=u.alloc(16,16);r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},i.prototype.add=function(e){this.cache=u.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},
i.prototype.flush=function(){for(var e=16-this.cache.length,t=u.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return u.concat([this.cache,t])},t.createCipheriv=a,t.createCipher=o},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(124);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){function r(e,t,n){var r=t.length,o=a(t,e._cache);return e._cache=e._cache.slice(r),e._prev=i.concat([e._prev,n?t:o]),o}var i=n(18).Buffer,a=n(124);t.encrypt=function(e,t,n){for(var a,o=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){o=i.concat([o,r(e,t,n)]);break}a=e._cache.length,o=i.concat([o,r(e,t.slice(0,a),n)]),t=t.slice(a)}return o}},function(e,t,n){function r(e,t,n){var r=e._cipher.encryptBlock(e._prev),a=r[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([n?t:a])]),a}var i=n(18).Buffer;t.encrypt=function(e,t,n){for(var a=t.length,o=i.allocUnsafe(a),s=-1;++s<a;)o[s]=r(e,t[s],n);return o}},function(e,t,n){function r(e,t,n){for(var r,a,o,s=-1,l=0;++s<8;)r=e._cipher.encryptBlock(e._prev),a=t&1<<7-s?128:0,o=r[0]^a,l+=(128&o)>>s%8,e._prev=i(e._prev,n?a:o);return l}function i(e,t){var n=e.length,r=-1,i=a.allocUnsafe(e.length);for(e=a.concat([e,a.from([t])]);++r<n;)i[r]=e[r]<<1|e[r+1]>>7;return i}var a=n(18).Buffer;t.encrypt=function(e,t,n){for(var i=t.length,o=a.allocUnsafe(i),s=-1;++s<i;)o[s]=r(e,t[s],n);return o}},function(e,t,n){(function(e){function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var i=n(124);t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var a=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,a)}}).call(t,n(16).Buffer)},function(e,t,n){function r(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function i(e){var t=o.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}var o=n(18).Buffer,s=o.alloc(16,0);a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,a=r(this.h),o=[0,0,0,0],s=-1;++s<128;){for(t=0!=(this.state[~~(s/8)]&1<<7-s%8),t&&(o[0]^=a[0],o[1]^=a[1],o[2]^=a[2],o[3]^=a[3]),n=0!=(1&a[3]),e=3;e>0;e--)a[e]=a[e]>>>1|(1&a[e-1])<<31;a[0]=a[0]>>>1,n&&(a[0]=a[0]^225<<24)}this.state=i(o)},a.prototype.update=function(e){this.cache=o.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(o.concat([this.cache,s],16)),this.ghash(i([0,e,0,t])),this.state},e.exports=a},function(e,t,n){function r(e,t,n){d.call(this),this._cache=new i,this._last=void 0,this._cipher=new p.AES(t),this._prev=u.from(n),this._mode=e,this._autopadding=!0}function i(){this.cache=u.allocUnsafe(0)}function a(e){for(var t=e[15],n=-1;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function o(e,t,n){var i=c[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=u.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=u.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===i.type?new f(i.module,t,n,!0):"auth"===i.type?new l(i.module,t,n,!0):new r(i.module,t,n)}function s(e,t){var n=c[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=h(t,!1,n.key,n.iv);return o(e,r.key,r.iv)}var l=n(335),u=n(18).Buffer,c=n(224),f=n(336),d=n(80),p=n(158),h=n(157);n(6)(r,d),r.prototype._update=function(e){this._cache.add(e);for(var t,n,r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return u.concat(r)},r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return a(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},i.prototype.add=function(e){this.cache=u.concat([this.cache,e])},i.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=s,t.createDecipheriv=o},function(e,t,n){(function(t){function r(e){i.call(this);var n,r=e.mode.toLowerCase(),a=s[r];n=e.decrypt?"decrypt":"encrypt";var o=e.key;"des-ede"!==r&&"des-ede-cbc"!==r||(o=t.concat([o,o.slice(0,8)]));var l=e.iv;this._des=a.create({key:o,iv:l,type:n})}var i=n(80),a=n(225),o=n(6),s={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=r,o(r,i),r.prototype._update=function(e){return new t(this._des.update(e))},r.prototype._final=function(){return new t(this._des.final())}}).call(t,n(16).Buffer)},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,a=0,o=6;o>=0;o-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+o&1;for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+o&1}for(var o=6;o>=0;o-=2){for(var s=1;s<=25;s+=8)a<<=1,a|=t>>>s+o&1;for(var s=1;s<=25;s+=8)a<<=1,a|=e>>>s+o&1}n[r+0]=i>>>0,n[r+1]=a>>>0},t.rip=function(e,t,n,r){for(var i=0,a=0,o=0;o<4;o++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+o&1,i<<=1,i|=e>>>s+o&1;for(var o=4;o<8;o++)for(var s=24;s>=0;s-=8)a<<=1,a|=t>>>s+o&1,a<<=1,a|=e>>>s+o&1;n[r+0]=i>>>0,n[r+1]=a>>>0},t.pc1=function(e,t,n,r){for(var i=0,a=0,o=7;o>=5;o--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+o&1}for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(var o=1;o<=3;o++){for(var s=0;s<=24;s+=8)a<<=1,a|=t>>s+o&1;for(var s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1}for(var s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1;n[r+0]=i>>>0,n[r+1]=a>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var a=0,o=0,s=r.length>>>1,l=0;l<s;l++)a<<=1,a|=e>>>r[l]&1;for(var l=s;l<r.length;l++)o<<=1,o|=t>>>r[l]&1;n[i+0]=a>>>0,n[i+1]=o>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)r<<=6,r|=e>>>a&63;for(var a=11;a>=3;a-=4)i|=e>>>a&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0}
;var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){var a=e>>>18-6*r&63,o=i[64*r+a];n<<=4,n|=o}for(var r=0;r<4;r++){var a=t>>>18-6*r&63,o=i[256+64*r+a];n<<=4,n|=o}return n>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<a.length;n++)t<<=1,t|=e>>>a[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],a=0;a<t;a+=n)i.push(r.slice(a,a+n));return i.join(" ")}},function(e,t,n){"use strict";function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var i=n(52);e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},r.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},r.prototype.final=function(e){var t;e&&(t=this.update(e));var n;return n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){"use strict";function r(){this.tmp=new Array(2),this.keys=null}function i(e){u.call(this,e);var t=new r;this._desState=t,this.deriveKeys(t,e.key)}var a=n(52),o=n(6),s=n(225),l=s.utils,u=s.Cipher;o(i,u),e.exports=i,i.create=function(e){return new i(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];i.prototype.deriveKeys=function(e,t){e.keys=new Array(32),a.equal(t.length,this.blockSize,"Invalid key length");var n=l.readUInt32BE(t,0),r=l.readUInt32BE(t,4);l.pc1(n,r,e.tmp,0),n=e.tmp[0],r=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var o=c[i>>>1];n=l.r28shl(n,o),r=l.r28shl(r,o),l.pc2(n,r,e.keys,i)}},i.prototype._update=function(e,t,n,r){var i=this._desState,a=l.readUInt32BE(e,t),o=l.readUInt32BE(e,t+4);l.ip(a,o,i.tmp,0),a=i.tmp[0],o=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,o,i.tmp,0):this._decrypt(i,a,o,i.tmp,0),a=i.tmp[0],o=i.tmp[1],l.writeUInt32BE(n,a,r),l.writeUInt32BE(n,o,r+4)},i.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},i.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)a.equal(e[n],t);return e.slice(0,e.length-t)},i.prototype._encrypt=function(e,t,n,r,i){for(var a=t,o=n,s=0;s<e.keys.length;s+=2){var u=e.keys[s],c=e.keys[s+1];l.expand(o,e.tmp,0),u^=e.tmp[0],c^=e.tmp[1];var f=l.substitute(u,c),d=l.permute(f),p=o;o=(a^d)>>>0,a=p}l.rip(o,a,r,i)},i.prototype._decrypt=function(e,t,n,r,i){for(var a=n,o=t,s=e.keys.length-2;s>=0;s-=2){var u=e.keys[s],c=e.keys[s+1];l.expand(a,e.tmp,0),u^=e.tmp[0],c^=e.tmp[1];var f=l.substitute(u,c),d=l.permute(f),p=a;a=(o^d)>>>0,o=p}l.rip(a,o,r,i)}},function(e,t,n){"use strict";function r(e){a.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function i(e){function t(t){e.call(this,t),this._cbcInit()}o(t,e);for(var n=Object.keys(s),r=0;r<n.length;r++){var i=n[r];t.prototype[i]=s[i]}return t.create=function(e){return new t(e)},t}var a=n(52),o=n(6),s={};t.instantiate=i,s._cbcInit=function(){var e=new r(this.options.iv);this._cbcState=e},s._update=function(e,t,n,r){var i=this._cbcState,a=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)o[s]^=e[t+s];a._update.call(this,o,0,n,r);for(var s=0;s<this.blockSize;s++)o[s]=n[r+s]}else{a._update.call(this,e,t,n,r);for(var s=0;s<this.blockSize;s++)n[r+s]^=o[s];for(var s=0;s<this.blockSize;s++)o[s]=e[t+s]}}},function(e,t,n){"use strict";function r(e,t){a.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),r=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[u.create({type:"encrypt",key:n}),u.create({type:"decrypt",key:r}),u.create({type:"encrypt",key:i})]:[u.create({type:"decrypt",key:i}),u.create({type:"encrypt",key:r}),u.create({type:"decrypt",key:n})]}function i(e){l.call(this,e);var t=new r(this.type,this.options.key);this._edeState=t}var a=n(52),o=n(6),s=n(225),l=s.Cipher,u=s.DES;o(i,l),e.exports=i,i.create=function(e){return new i(e)},i.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},i.prototype._pad=u.prototype._pad,i.prototype._unpad=u.prototype._unpad},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){function r(t){var n=new e(o[t].prime,"hex"),r=new e(o[t].gen,"hex");return new s(n,r)}function i(t,n,r,o){return e.isBuffer(n)||void 0===l[n]?i(t,"binary",n,r):(n=n||"binary",o=o||"binary",r=r||new e([2]),e.isBuffer(r)||(r=new e(r,o)),"number"==typeof t?new s(a(t,r),r,!0):(e.isBuffer(t)||(t=new e(t,n)),new s(t,r,!0)))}var a=n(337),o=n(749),s=n(750),l={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=r,t.createDiffieHellman=t.DiffieHellman=i}).call(t,n(16).Buffer)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t){},function(e,t){e.exports={modp1:{gen:"02",
prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t,n){(function(t){function r(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new l(e),this}function i(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new l(e),this}function a(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in g)return g[r];var i=0;if(e.isEven()||!m.simpleSieve||!m.fermatTest(e)||!c.test(e))return i+=1,i+="02"===n||"05"===n?8:4,g[r]=i,i;c.test(e.shrn(1))||(i+=2);var a;switch(n){case"02":e.mod(f).cmp(d)&&(i+=8);break;case"05":a=e.mod(p),a.cmp(h)&&a.cmp(y)&&(i+=8);break;default:i+=4}return g[r]=i,i}function o(e,t,n){this.setGenerator(t),this.__prime=new l(e),this._prime=l.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=r,this.setPrivateKey=i):this._primeCode=8}function s(e,n){var r=new t(e.toArray());return n?r.toString(n):r}var l=n(30),u=n(338),c=new u,f=new l(24),d=new l(11),p=new l(10),h=new l(3),y=new l(7),m=n(337),_=n(104);e.exports=o;var g={};Object.defineProperty(o.prototype,"verifyError",{enumerable:!0,
get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=a(this.__prime,this.__gen)),this._primeCode}}),o.prototype.generateKeys=function(){return this._priv||(this._priv=new l(_(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},o.prototype.computeSecret=function(e){e=new l(e),e=e.toRed(this._prime);var n=e.redPow(this._priv).fromRed(),r=new t(n.toArray()),i=this.getPrime();if(r.length<i.length){var a=new t(i.length-r.length);a.fill(0),r=t.concat([a,r])}return r},o.prototype.getPublicKey=function(e){return s(this._pub,e)},o.prototype.getPrivateKey=function(e){return s(this._priv,e)},o.prototype.getPrime=function(e){return s(this.__prime,e)},o.prototype.getGenerator=function(e){return s(this._gen,e)},o.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new l(e),this}}).call(t,n(16).Buffer)},function(e,t,n){(function(t){function r(e){l.Writable.call(this);var t=d[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function i(e){l.Writable.call(this);var t=d[e];if(!t)throw new Error("Unknown message digest");this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function a(e){return new r(e)}function o(e){return new i(e)}var s=n(122),l=n(155),u=n(6),c=n(752),f=n(788),d=n(327);Object.keys(d).forEach(function(e){d[e].id=new t(d[e].id,"hex"),d[e.toLowerCase()]=d[e]}),u(r,l.Writable),r.prototype._write=function(e,t,n){this._hash.update(e),n()},r.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},r.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=c(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},u(i,l.Writable),i.prototype._write=function(e,t,n){this._hash.update(e),n()},i.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},i.prototype.verify=function(e,n,r){"string"==typeof n&&(n=new t(n,r)),this.end();var i=this._hash.digest();return f(n,i,e,this._signType,this._tag)},e.exports={Sign:a,Verify:o,createSign:a,createVerify:o}}).call(t,n(16).Buffer)},function(e,t,n){(function(t){function r(e,n,r,o,s){var l=m(n);if(l.curve){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");return i(e,l)}if("dsa"===l.type){if("dsa"!==o)throw new Error("wrong private key type");return a(e,l,r)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");e=t.concat([s,e]);for(var u=l.modulus.byteLength(),c=[0,1];e.length+c.length+1<u;)c.push(255);c.push(0);for(var f=-1;++f<e.length;)c.push(e[f]);return p(c,l)}function i(e,n){var r=_[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new h(r),a=i.keyFromPrivate(n.privateKey),o=a.sign(e);return new t(o.toDER())}function a(e,t,n){for(var r,i=t.params.priv_key,a=t.params.p,u=t.params.q,d=t.params.g,p=new y(0),h=l(e,u).mod(u),m=!1,_=s(i,u,e,n);!1===m;)r=c(u,_,n),p=f(d,r,a,u),m=r.invm(u).imul(h.add(i.mul(p))).mod(u),0===m.cmpn(0)&&(m=!1,p=new y(0));return o(p,m)}function o(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n));var r=e.length+n.length+4,i=[48,r,2,e.length];return i=i.concat(e,[2,n.length],n),new t(i)}function s(e,n,r,i){if(e=new t(e.toArray()),e.length<n.byteLength()){var a=new t(n.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var o=r.length,s=u(r,n),l=new t(o);l.fill(1);var c=new t(o);return c.fill(0),c=d(i,c).update(l).update(new t([0])).update(e).update(s).digest(),l=d(i,c).update(l).digest(),c=d(i,c).update(l).update(new t([1])).update(e).update(s).digest(),l=d(i,c).update(l).digest(),{k:c,v:l}}function l(e,t){var n=new y(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function u(e,n){e=l(e,n),e=e.mod(n);var r=new t(e.toArray());if(r.length<n.byteLength()){var i=new t(n.byteLength()-r.length);i.fill(0),r=t.concat([i,r])}return r}function c(e,n,r){var i,a;do{for(i=new t(0);8*i.length<e.bitLength();)n.v=d(r,n.k).update(n.v).digest(),i=t.concat([i,n.v]);a=l(i,e),n.k=d(r,n.k).update(n.v).update(new t([0])).digest(),n.v=d(r,n.k).update(n.v).digest()}while(-1!==a.cmp(e));return a}function f(e,t,n,r){return e.toRed(y.mont(n)).redPow(t).fromRed().mod(r)}var d=n(326),p=n(226),h=n(41).ec,y=n(30),m=n(160),_=n(348);e.exports=r,e.exports.getKey=s,e.exports.makeKey=c}).call(t,n(16).Buffer)},function(e,t){e.exports={name:"elliptic",version:"6.4.0",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var a;if(i.isOdd()){var o=i.andln(r-1);a=o>(r>>1)-1?(r>>1)-o:o,i.isubn(a)}else a=0;n.push(a);for(var s=0!==i.cmpn(0)&&0===i.andln(r-1)?t+1:1,l=1;l<s;l++)n.push(0);i.iushrn(s)}return n}function i(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,i=0;e.cmpn(-r)>0||t.cmpn(-i)>0;){var a=e.andln(3)+r&3,o=t.andln(3)+i&3;3===a&&(a=-1),3===o&&(o=-1);var s;if(0==(1&a))s=0;else{var l=e.andln(7)+r&7;s=3!==l&&5!==l||2!==o?a:-a}n[0].push(s);var u;if(0==(1&o))u=0;else{var l=t.andln(7)+i&7;u=3!==l&&5!==l||2!==a?o:-o}n[1].push(u),2*r===s+1&&(r=1-r),2*i===u+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n}function a(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}}function o(e){return"string"==typeof e?l.toArray(e,"hex"):e}function s(e){return new u(e,"hex","le")}var l=t,u=n(30),c=n(52),f=n(340);l.assert=c,l.toArray=f.toArray,l.zero2=f.zero2,l.toHex=f.toHex,l.encode=f.encode,l.getNAF=r,l.getJSF=i,l.cachedProperty=a,l.parseBytes=o,l.intFromLE=s},function(e,t,n){"use strict";function r(e,t){this.type=e,this.p=new a(t.p,16),this.red=t.prime?a.red(t.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=t.n&&new a(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function i(e,t){this.curve=e,this.type=t,this.precomputed=null}var a=n(30),o=n(41),s=o.utils,l=s.getNAF,u=s.getJSF,c=s.assert;e.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(e,t){c(e.precomputed);var n=e._getDoubles(),r=l(t,1),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var a=[],o=0;o<r.length;o+=n.step){for(var s=0,t=o+n.step-1;t>=o;t--)s=(s<<1)+r[t];a.push(s)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(var o=0;o<a.length;o++){var s=a[o];s===d?f=f.mixedAdd(n.points[o]):s===-d&&(f=f.mixedAdd(n.points[o].neg()))}
u=u.add(f)}return u.toP()},r.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=l(t,n),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var t=0;s>=0&&0===a[s];s--)t++;if(s>=0&&t++,o=o.dblp(t),s<0)break;var u=a[s];c(0!==u),o="affine"===e.type?u>0?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):u>0?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===e.type?o.toP():o},r.prototype._wnafMulAdd=function(e,t,n,r,i){for(var a=this._wnafT1,o=this._wnafT2,s=this._wnafT3,c=0,f=0;f<r;f++){var d=t[f],p=d._getNAFPoints(e);a[f]=p.wnd,o[f]=p.points}for(var f=r-1;f>=1;f-=2){var h=f-1,y=f;if(1===a[h]&&1===a[y]){var m=[t[h],null,null,t[y]];0===t[h].y.cmp(t[y].y)?(m[1]=t[h].add(t[y]),m[2]=t[h].toJ().mixedAdd(t[y].neg())):0===t[h].y.cmp(t[y].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[y]),m[2]=t[h].add(t[y].neg())):(m[1]=t[h].toJ().mixedAdd(t[y]),m[2]=t[h].toJ().mixedAdd(t[y].neg()));var _=[-3,-1,-5,-7,0,7,5,1,3],g=u(n[h],n[y]);c=Math.max(g[0].length,c),s[h]=new Array(c),s[y]=new Array(c);for(var b=0;b<c;b++){var v=0|g[0][b],w=0|g[1][b];s[h][b]=_[3*(v+1)+(w+1)],s[y][b]=0,o[h]=m}}else s[h]=l(n[h],a[h]),s[y]=l(n[y],a[y]),c=Math.max(s[h].length,c),c=Math.max(s[y].length,c)}for(var k=this.jpoint(null,null,null),S=this._wnafT4,f=c;f>=0;f--){for(var I=0;f>=0;){for(var E=!0,b=0;b<r;b++)S[b]=0|s[b][f],0!==S[b]&&(E=!1);if(!E)break;I++,f--}if(f>=0&&I++,k=k.dblp(I),f<0)break;for(var b=0;b<r;b++){var d,A=S[b];0!==A&&(A>0?d=o[b][A-1>>1]:A<0&&(d=o[b][-A-1>>1].neg()),k="affine"===d.type?k.mixedAdd(d):k.add(d))}}for(var f=0;f<r;f++)o[f]=null;return i?k:k.toP()},r.BasePoint=i,i.prototype.eq=function(){throw new Error("Not implemented")},i.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n){6===e[0]?c(e[e.length-1]%2==0):7===e[0]&&c(e[e.length-1]%2==1);return this.point(e.slice(1,1+n),e.slice(1+n,1+2*n))}if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},i.prototype.encodeCompressed=function(e){return this.encode(e,!0)},i.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},i.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},i.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},i.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},i.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)r=r.dbl();n.push(r)}return{step:e,points:n}},i.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},i.prototype._getBeta=function(){return null},i.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){"use strict";function r(e){c.call(this,"short",e),this.a=new l(e.a,16).toRed(this.red),this.b=new l(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function i(e,t,n,r){c.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new l(t,16),this.y=new l(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function a(e,t,n,r){c.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new l(0)):(this.x=new l(t,16),this.y=new l(n,16),this.z=new l(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var o=n(159),s=n(41),l=n(30),u=n(6),c=o.base,f=s.utils.assert;u(r,c),e.exports=r,r.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new l(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=r[0].cmp(r[1])<0?r[0]:r[1],t=t.toRed(this.red)}if(e.lambda)n=new l(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],f(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}var a;return a=e.basis?e.basis.map(function(e){return{a:new l(e.a,16),b:new l(e.b,16)}}):this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}},r.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:l.mont(e),n=new l(2).toRed(t).redInvm(),r=n.redNeg(),i=new l(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},r.prototype._getEndoBasis=function(e){for(var t,n,r,i,a,o,s,u,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,p=this.n.clone(),h=new l(1),y=new l(0),m=new l(0),_=new l(1),g=0;0!==d.cmpn(0);){var b=p.div(d);u=p.sub(b.mul(d)),c=m.sub(b.mul(h));var v=_.sub(b.mul(y));if(!r&&u.cmp(f)<0)t=s.neg(),n=h,r=u.neg(),i=c;else if(r&&2==++g)break;s=u,p=d,d=u,m=h,h=c,_=y,y=v}a=u.neg(),o=c;var w=r.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(w)>=0&&(a=t,o=n),r.negative&&(r=r.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:r,b:i},{a:a,b:o}]},r.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),s=a.mul(r.a),l=i.mul(n.b),u=a.mul(r.b);return{k1:e.sub(o).sub(s),k2:l.add(u).neg()}},r.prototype.pointFromX=function(e,t){e=new l(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},r.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},r.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],l=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),r[2*a]=s,r[2*a+1]=l,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var u=this._wnafMulAdd(1,r,i,2*a,n),c=0;c<2*a;c++)r[c]=null,i[c]=null;return u},u(i,c.BasePoint),r.prototype.point=function(e,t,n){return new i(this,e,t,n)},r.prototype.pointFromJSON=function(e,t){return i.fromJSON(this,e,t)},i.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(e,t,n){function r(t){return e.point(t[0],t[1],n)}"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n)
;if(!t[2])return i;var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(r))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(r))}},i},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},i.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(e){return e=new l(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},i.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},i.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},i.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},i.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},i.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(a,c.BasePoint),r.prototype.jpoint=function(e,t,n){return new a(this,e,t,n)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),l=a.redSub(o);if(0===s.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),d=l.redSqr().redIAdd(c).redISub(f).redISub(f),p=l.redMul(f.redISub(d)).redISub(a.redMul(c)),h=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,p,h)},a.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=n.redSub(r),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),c=n.redMul(l),f=s.redSqr().redIAdd(u).redISub(c).redISub(c),d=s.redMul(c.redISub(f)).redISub(i.redMul(u)),p=this.z.redMul(o);return this.curve.jpoint(f,d,p)},a.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}for(var r=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,l=s.redSqr().redSqr(),u=o.redAdd(o),n=0;n<e;n++){var c=a.redSqr(),f=u.redSqr(),d=f.redSqr(),p=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(l)),h=a.redMul(f),y=p.redSqr().redISub(h.redAdd(h)),m=h.redISub(y),_=p.redMul(m);_=_.redIAdd(_).redISub(d);var g=u.redMul(s);n+1<e&&(l=l.redMul(d)),a=y,s=g,u=_}return this.curve.jpoint(a,u.redMul(i),s)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);var s=r.redAdd(r).redIAdd(r),l=s.redSqr().redISub(o).redISub(o),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=l,t=s.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),p=this.x.redAdd(f).redSqr().redISub(c).redISub(d);p=p.redIAdd(p);var h=c.redAdd(c).redIAdd(c),y=h.redSqr(),m=d.redIAdd(d);m=m.redIAdd(m),m=m.redIAdd(m),e=y.redISub(p).redISub(p),t=h.redMul(p.redISub(e)).redISub(m),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)},a.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),l=s.redSqr().redISub(o).redISub(o);e=l;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),t=s.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),p=this.x.redSub(c).redMul(this.x.redAdd(c));p=p.redAdd(p).redIAdd(p);var h=d.redIAdd(d);h=h.redIAdd(h);var y=h.redAdd(h);e=p.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m),t=p.redMul(h.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,n)},a.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),a=t.redSqr(),o=n.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=t.redAdd(t);l=l.redIAdd(l);var u=l.redMul(o),c=s.redSqr().redISub(u.redAdd(u)),f=u.redISub(c),d=o.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=s.redMul(f).redISub(d),h=n.redAdd(n).redMul(r);return this.curve.jpoint(c,p,h)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(r);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var s=o.redSqr(),l=r.redIAdd(r);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(l),c=t.redMul(u);c=c.redIAdd(c),c=c.redIAdd(c);var f=this.x.redMul(s).redISub(c);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(s)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=this.z.redAdd(o).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,d,p)},a.prototype.mul=function(e,t){return e=new l(e,t),this.curve._wnafMul(this,e)},a.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},a.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}return!1},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){
"use strict";function r(e){l.call(this,"mont",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(e,t,n){l.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(t,16),this.z=new o(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var a=n(159),o=n(30),s=n(6),l=a.base,u=n(41),c=u.utils;s(r,l),e.exports=r,r.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},s(i,l.BasePoint),r.prototype.decodePoint=function(e,t){return this.point(c.toArray(e,t),1)},r.prototype.point=function(e,t){return new i(this,e,t)},r.prototype.pointFromJSON=function(e){return i.fromJSON(this,e)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(e,t){return new i(e,t[0],t[1]||e.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),r=n.redSqr(),i=t.redSub(r),a=t.redMul(r),o=i.redMul(r.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,o)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(n),s=i.redMul(r),l=t.z.redMul(o.redAdd(s).redSqr()),u=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(l,u)},i.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=this,a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var o=a.length-1;o>=0;o--)0===a[o]?(n=n.diffAdd(r,i),r=r.dbl()):(r=n.diffAdd(r,i),n=n.dbl());return r},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";function r(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,u.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function i(e,t,n,r,i){u.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(n,16),this.z=r?new s(r,16):this.curve.one,this.t=i&&new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var a=n(159),o=n(41),s=n(30),l=n(6),u=a.base,c=o.utils.assert;l(r,u),e.exports=r,r.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},r.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},r.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},r.prototype.pointFromX=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(i.redInvm()),o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var l=o.fromRed().isOdd();return(t&&!l||!t&&l)&&(o=o.redNeg()),this.point(e,o)},r.prototype.pointFromY=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.one),i=n.redMul(this.d).redAdd(this.one),a=r.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},r.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},l(i,u.BasePoint),r.prototype.pointFromJSON=function(e){return i.fromJSON(this,e)},r.prototype.point=function(e,t,n,r){return new i(this,e,t,n,r)},i.fromJSON=function(e,t){return new i(e,t[0],t[1],t[2])},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},i.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),o=a.redSub(n),s=r.redSub(t),l=i.redMul(o),u=a.redMul(s),c=i.redMul(s),f=o.redMul(a);return this.curve.point(l,u,f,c)},i.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var o=this.curve._mulA(i),s=o.redAdd(a);if(this.zOne)e=r.redSub(i).redSub(a).redMul(s.redSub(this.curve.two)),t=s.redMul(o.redSub(a)),n=s.redSqr().redSub(s).redSub(s);else{var l=this.z.redSqr(),u=s.redSub(l).redISub(l);e=r.redSub(i).redISub(a).redMul(u),t=s.redMul(o.redSub(a)),n=s.redMul(u)}}else{var o=i.redAdd(a),l=this.curve._mulC(this.c.redMul(this.z)).redSqr(),u=o.redSub(l).redSub(l);e=this.curve._mulC(r.redISub(o)).redMul(u),t=this.curve._mulC(o).redMul(i.redISub(a)),n=o.redMul(u)}return this.curve.point(e,t,n)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},i.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),o=i.redSub(r),s=i.redAdd(r),l=n.redAdd(t),u=a.redMul(o),c=s.redMul(l),f=a.redMul(l),d=o.redMul(s);return this.curve.point(u,c,d,f)},i.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),l=i.redSub(s),u=i.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),f=r.redMul(l).redMul(c);return this.curve.twisted?(t=r.redMul(u).redMul(o.redSub(this.curve._mulA(a))),n=l.redMul(u)):(t=r.redMul(u).redMul(o.redSub(a)),n=this.curve._mulC(l).redMul(u)),this.curve.point(f,t,n)},i.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},i.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},i.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},i.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},i.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},
i.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},i.prototype.getY=function(){return this.normalize(),this.y.fromRed()},i.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},i.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}return!1},i.prototype.toP=i.prototype.normalize,i.prototype.mixedAdd=i.prototype.add},function(e,t,n){"use strict";function r(e){"short"===e.type?this.curve=new s.curve.short(e):"edwards"===e.type?this.curve=new s.curve.edwards(e):this.curve=new s.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(e,t){Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){var n=new r(t);return Object.defineProperty(a,e,{configurable:!0,enumerable:!0,value:n}),n}})}var a=t,o=n(227),s=n(41),l=s.utils.assert;a.PresetCurve=r,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=n(766)}catch(e){u=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})},function(e,t,n){"use strict";t.sha1=n(761),t.sha224=n(762),t.sha256=n(342),t.sha384=n(763),t.sha512=n(343)},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var i=n(65),a=n(125),o=n(341),s=i.rotl32,l=i.sum32,u=i.sum32_5,c=o.ft_1,f=a.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];i.inherits(r,f),e.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],f=this.h[3],p=this.h[4];for(r=0;r<n.length;r++){var h=~~(r/20),y=u(s(i,5),c(h,a,o,f),p,n[r],d[h]);p=f,f=o,o=s(a,30),a=i,i=y}this.h[0]=l(this.h[0],i),this.h[1]=l(this.h[1],a),this.h[2]=l(this.h[2],o),this.h[3]=l(this.h[3],f),this.h[4]=l(this.h[4],p)},r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var i=n(65),a=n(342);i.inherits(r,a),e.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var i=n(65),a=n(343);i.inherits(r,a),e.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function i(e,t,n,r){
return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function a(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function o(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var s=n(65),l=n(125),u=s.rotl32,c=s.sum32,f=s.sum32_3,d=s.sum32_4,p=l.BlockHash;s.inherits(r,p),t.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],s=this.h[2],l=this.h[3],p=this.h[4],g=n,b=r,v=s,w=l,k=p,S=0;S<80;S++){var I=c(u(d(n,i(S,r,s,l),e[h[S]+t],a(S)),m[S]),p);n=p,p=l,l=u(s,10),s=r,r=I,I=c(u(d(g,i(79-S,b,v,w),e[y[S]+t],o(S)),_[S]),k),g=k,k=w,w=u(v,10),v=b,b=I}I=f(this.h[1],s,w),this.h[1]=f(this.h[2],l,k),this.h[2]=f(this.h[3],p,g),this.h[3]=f(this.h[4],n,b),this.h[4]=f(this.h[0],r,v),this.h[0]=I},r.prototype._digest=function(e){return"hex"===e?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,n))}var i=n(65),a=n(52);e.exports=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,
points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]
},naf:{wnd:7,
points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);"string"==typeof e&&(l(o.curves.hasOwnProperty(e),"Unknown curve "+e),e=o.curves[e]),e instanceof o.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var i=n(30),a=n(768),o=n(41),s=o.utils,l=s.assert,u=n(769),c=n(770);e.exports=r,r.prototype.keyPair=function(e){return new u(this,e)},r.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},r.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},r.prototype.genKeyPair=function(e){e||(e={});for(var t=new a({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new i(2));;){var s=new i(t.generate(n));if(!(s.cmp(r)>0))return s.iaddn(1),this.keyFromPrivate(s)}},r.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},r.prototype.sign=function(e,t,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),l=e.toArray("be",o),u=new a({hash:this.hash,entropy:s,nonce:l,pers:r.pers,persEnc:r.persEnc||"utf8"}),f=this.n.sub(new i(1)),d=0;!0;d++){var p=r.k?r.k(d):new i(u.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(f)>=0)){var h=this.g.mul(p);if(!h.isInfinity()){var y=h.getX(),m=y.umod(this.n);if(0!==m.cmpn(0)){var _=p.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(_=_.umod(this.n),0!==_.cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==y.cmp(m)?2:0);return r.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),g^=1),new c({r:m,s:_,recoveryParam:g})}}}}}},r.prototype.verify=function(e,t,n,r){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,r),t=new c(t,"hex");var a=t.r,o=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),l=s.mul(e).umod(this.n),u=s.mul(a).umod(this.n);if(!this.curve._maxwellTrick){var f=this.g.mulAdd(l,n.getPublic(),u);return!f.isInfinity()&&0===f.getX().umod(this.n).cmp(a)}var f=this.g.jmulAdd(l,n.getPublic(),u);return!f.isInfinity()&&f.eqXToP(a)},r.prototype.recoverPubKey=function(e,t,n,r){l((3&n)===n,"The recovery param is more than two bits"),t=new c(t,r);var a=this.n,o=new i(e),s=t.r,u=t.s,f=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var p=t.r.invm(a),h=a.sub(o).mul(p).umod(a),y=u.mul(p).umod(a);return this.g.mulAdd(h,s,y)},r.prototype.getKeyRecoveryParam=function(e,t,n,r){if(t=new c(t,r),null!==t.recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=a.toArray(e.entropy,e.entropyEnc||"hex"),n=a.toArray(e.nonce,e.nonceEnc||"hex"),i=a.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}var i=n(227),a=n(340),o=n(52);e.exports=r,r.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},r.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=a.toArray(e,t),n=a.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},r.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=a.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(n),this._reseed++,a.encode(o,t)}},function(e,t,n){"use strict";function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var i=n(30),a=n(41),o=a.utils,s=o.assert;e.exports=r,r.fromPublic=function(e,t,n){return t instanceof r?t:new r(e,{pub:t,pubEnc:n})},r.fromPrivate=function(e,t,n){return t instanceof r?t:new r(e,{priv:t,privEnc:n})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?s(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},r.prototype.derive=function(e){return e.mul(this.priv).getX()},r.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";function r(e,t){if(e instanceof r)return e;this._importDER(e,t)||(f(e.r&&e.s,"Signature without r or s"),this.r=new l(e.r,16),this.s=new l(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function i(){this.place=0}function a(e,t){var n=e[t.place++];if(!(128&n))return n;for(var r=15&n,i=0,a=0,o=t.place;a<r;a++,o++)i<<=8,i|=e[o];return t.place=o,i}function o(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function s(e,t){if(t<128)return void e.push(t);var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}var l=n(30),u=n(41),c=u.utils,f=c.assert;e.exports=r,r.prototype._importDER=function(e,t){e=c.toArray(e,t);var n=new i;if(48!==e[n.place++])return!1;if(a(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var r=a(e,n),o=e.slice(n.place,r+n.place);if(n.place+=r,2!==e[n.place++])return!1;var s=a(e,n);if(e.length!==s+n.place)return!1;var u=e.slice(n.place,s+n.place);return 0===o[0]&&128&o[1]&&(o=o.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new l(o),this.s=new l(u),this.recoveryParam=null,!0},r.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=o(t),n=o(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];s(r,t.length),r=r.concat(t),r.push(2),s(r,n.length);var i=r.concat(n),a=[48]
;return s(a,i.length),a=a.concat(i),c.encode(a,e)}},function(e,t,n){"use strict";function r(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof r))return new r(e);var e=a.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}var i=n(227),a=n(41),o=a.utils,s=o.assert,l=o.parseBytes,u=n(772),c=n(773);e.exports=r,r.prototype.sign=function(e,t){e=l(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),a=this.encodePoint(i),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),s=r.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:a})},r.prototype.verify=function(e,t,n){e=l(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(a)},r.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},r.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},r.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},r.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},r.prototype.decodePoint=function(e){e=o.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},r.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(e){return o.intFromLE(e)},r.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";function r(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}var i=n(41),a=i.utils,o=a.assert,s=a.parseBytes,l=a.cachedProperty;r.fromPublic=function(e,t){return t instanceof r?t:new r(e,{pub:t})},r.fromSecret=function(e,t){return t instanceof r?t:new r(e,{secret:t})},r.prototype.secret=function(){return this._secret},l(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(r,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),l(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(e){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},r.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},r.prototype.getSecret=function(e){return o(this._secret,"KeyPair is public only"),a.encode(this.secret(),e)},r.prototype.getPublic=function(e){return a.encode(this.pubBytes(),e)},e.exports=r},function(e,t,n){"use strict";function r(e,t){this.eddsa=e,"object"!=typeof t&&(t=u(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var i=n(30),a=n(41),o=a.utils,s=o.assert,l=o.cachedProperty,u=o.parseBytes;l(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=r},function(e,t,n){"use strict";var r=n(126);t.certificate=n(785);var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=i;var a=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=a;var o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=o;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=l;var u=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=u;var c=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=c,t.DSAparam=r.define("DSAparam",function(){this.int()});var f=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=f;var d=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,n){function r(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var i=n(126),a=n(6);t.define=function(e,t){return new r(e,t)},r.prototype._createNamed=function(e){var t;try{t=n(776).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return a(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},r.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},r.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},r.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},r.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(777),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}
}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var a=Object_keys(n),o=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(a,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}var a=n(6);t.Reporter=r,r.prototype.isError=function(e){return e instanceof i},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},r.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof i;if(t=r?e:new i(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},a(i,Error),i.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){function r(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var i=n(127).Reporter,a=n(127).EncoderBuffer,o=n(127).DecoderBuffer,s=n(52),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];e.exports=r;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){var e=this._baseState,t={};f.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},r.prototype._wrap=function(){var e=this._baseState;u.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},r.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(s(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n}),t}))},c.forEach(function(e){r.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),l.forEach(function(e){r.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(n),this}}),r.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},r.prototype.optional=function(){return this._baseState.optional=!0,this},r.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},r.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},r.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},r.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},r.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},r.prototype.any=function(){return this._baseState.any=!0,this},r.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},r.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},r.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r=n.default,i=!0,a=null;if(null!==n.key&&(a=e.enterKey(n.key)),n.optional){var s=null;if(null!==n.explicit?s=n.explicit:null!==n.implicit?s=n.implicit:null!==n.tag&&(s=n.tag),null!==s||n.any){if(i=this._peekTag(e,s,n.any),e.isError(i))return i}else{var l=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),i=!0}catch(e){i=!1}e.restore(l)}}var u;if(n.obj&&i&&(u=e.enterObject()),i){if(null!==n.explicit){var c=this._decodeTag(e,n.explicit);if(e.isError(c))return c;e=c}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)var l=e.save();var d=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(d))return d;n.any?r=e.raw(l):e=d}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),
e.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new o(r);r=this._getUse(n.contains,e._reporterState.obj)._decode(p,t)}}return n.obj&&i&&(r=e.leaveObject(u)),null===n.key||null===r&&!0!==i?null!==a&&e.exitKey(a):e.leaveKey(a,n.key,r),r},r.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},r.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},r.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(a){var o=e.save(),s=n.choice[a];try{var l=s._decode(e,t);if(e.isError(l))return!1;r={type:a,value:l},i=!0}catch(t){return e.restore(o),!1}return!0},this),i?r:e.error("Choice not matched")},r.prototype._createEncoderBuffer=function(e){return new a(e,this.reporter)},r.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},r.prototype._encodeValue=function(e,t,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new i);var a=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}var o=null,s=!1;if(r.any)a=this._createEncoderBuffer(e);else if(r.choice)a=this._encodeChoice(e,t);else if(r.contains)o=this._getUse(r.contains,n)._encode(e,t),s=!0;else if(r.children)o=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var l=this.clone();l._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)},l))}else null!==r.use?a=this._getUse(r.use,n)._encode(e,t):(o=this._encodePrimitive(r.tag,e),s=!0);var a;if(!r.any&&null===r.choice){var u=null!==r.implicit?r.implicit:r.tag,c=null===r.implicit?"universal":"context";null===u?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(a=this._encodeComposite(u,s,c,o))}return null!==r.explicit&&(a=this._encodeComposite(r.explicit,!1,"context",a)),a},r.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},r.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},r.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},r.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,n){var r=n(345);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},function(e,t,n){var r=t;r.der=n(346),r.pem=n(782)},function(e,t,n){function r(e){o.call(this,e),this.enc="pem"}var i=n(6),a=n(16).Buffer,o=n(346);i(r,o),e.exports=r,r.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,l=-1,u=0;u<n.length;u++){var c=n[u].match(i);if(null!==c&&c[2]===r){if(-1!==s){if("END"!==c[1])break;l=u;break}if("BEGIN"!==c[1])break;s=u}}if(-1===s||-1===l)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,l).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new a(f,"base64");return o.prototype.decode.call(this,d,t)}},function(e,t,n){var r=t;r.der=n(347),r.pem=n(784)},function(e,t,n){function r(e){a.call(this,e),this.enc="pem"}var i=n(6),a=n(347);i(r,a),e.exports=r,r.prototype.encode=function(e,t){for(var n=a.prototype.encode.call(this,e),r=n.toString("base64"),i=["-----BEGIN "+t.label+"-----"],o=0;o<r.length;o+=64)i.push(r.slice(o,o+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},function(e,t,n){"use strict";var r=n(126),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),l=r.define("RelativeDistinguishedName",function(){this.setof(a)}),u=r.define("RDNSequence",function(){this.seqof(l)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),f=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),d=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(c),this.key("validity").use(f),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),h=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});e.exports=h},function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,n){(function(t){
var r=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,a=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,o=n(157),s=n(223);e.exports=function(e,n){var l,u=e.toString(),c=u.match(r);if(c){var f="aes"+c[1],d=new t(c[2],"hex"),p=new t(c[3].replace(/\r?\n/g,""),"base64"),h=o(n,d.slice(0,8),parseInt(c[1],10)).key,y=[],m=s.createDecipheriv(f,h,d);y.push(m.update(p)),y.push(m.final()),l=t.concat(y)}else{var _=u.match(a);l=new t(_[2].replace(/\r?\n/g,""),"base64")}return{tag:u.match(i)[1],data:l}}}).call(t,n(16).Buffer)},function(e,t,n){(function(t){function r(e,n,r,o,l){var c=u(r);if("ec"===c.type){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong public key type");return i(e,n,c)}if("dsa"===c.type){if("dsa"!==o)throw new Error("wrong public key type");return a(e,n,c)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong public key type");n=t.concat([l,n]);for(var f=c.modulus.byteLength(),d=[1],p=0;n.length+d.length+2<f;)d.push(255),p++;d.push(0);for(var h=-1;++h<n.length;)d.push(n[h]);d=new t(d);var y=s.mont(c.modulus);e=new s(e).toRed(y),e=e.redPow(new s(c.publicExponent)),e=new t(e.fromRed().toArray());var m=p<8?1:0;for(f=Math.min(e.length,d.length),e.length!==d.length&&(m=1),h=-1;++h<f;)m|=e[h]^d[h];return 0===m}function i(e,t,n){var r=c[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new l(r),a=n.data.subjectPrivateKey.data;return i.verify(t,e,a)}function a(e,t,n){var r=n.data.p,i=n.data.q,a=n.data.g,l=n.data.pub_key,c=u.signature.decode(e,"der"),f=c.s,d=c.r;o(f,i),o(d,i);var p=s.mont(r),h=f.invm(i);return 0===a.toRed(p).redPow(new s(t).mul(h).mod(i)).fromRed().mul(l.toRed(p).redPow(d.mul(h).mod(i)).fromRed()).mod(r).mod(i).cmp(d)}function o(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var s=n(30),l=n(41).ec,u=n(160),c=n(348);e.exports=r}).call(t,n(16).Buffer)},function(e,t,n){(function(t){function r(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function i(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var a=new t(r-i.length);a.fill(0),i=t.concat([a,i])}return n?i.toString(n):i}var a=n(41),o=n(30);e.exports=function(e){return new r(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,r.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},r.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),i(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},r.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),i(n,e)},r.prototype.getPrivateKey=function(e){return i(this.keys.getPrivate(),e)},r.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},r.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new o(e);return r=r.toString(16),this.keys._importPrivate(r),this}}).call(t,n(16).Buffer)},function(e,t,n){t.publicEncrypt=n(791),t.privateDecrypt=n(792),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){(function(t){function r(e,n){var r=e.modulus.byteLength(),i=n.length,a=l("sha1").update(new t("")).digest(),o=a.length,d=2*o;if(i>r-d-2)throw new Error("message too long");var p=new t(r-i-d-2);p.fill(0);var h=r-o-1,y=s(o),m=c(t.concat([a,p,new t([1]),n],h),u(y,h)),_=c(y,u(m,o));return new f(t.concat([new t([0]),_,m],r))}function i(e,n,r){var i=n.length,o=e.modulus.byteLength();if(i>o-11)throw new Error("message too long");var s;return r?(s=new t(o-i-3),s.fill(255)):s=a(o-i-3),new f(t.concat([new t([0,r?1:2]),s,new t([0]),n],o))}function a(e,n){for(var r,i=new t(e),a=0,o=s(2*e),l=0;a<e;)l===o.length&&(o=s(2*e),l=0),(r=o[l++])&&(i[a++]=r);return i}var o=n(160),s=n(104),l=n(122),u=n(349),c=n(350),f=n(30),d=n(351),p=n(226);e.exports=function(e,t,n){var a;a=e.padding?e.padding:n?1:4;var s,l=o(e);if(4===a)s=r(l,t);else if(1===a)s=i(l,t,n);else{if(3!==a)throw new Error("unknown padding");if(s=new f(t),s.cmp(l.modulus)>=0)throw new Error("data too long for modulus")}return n?p(s,l):d(s,l)}}).call(t,n(16).Buffer)},function(e,t,n){(function(t){function r(e,n){var r=(e.modulus,e.modulus.byteLength()),i=(n.length,f("sha1").update(new t("")).digest()),o=i.length;if(0!==n[0])throw new Error("decryption error");var u=n.slice(1,o+1),c=n.slice(o+1),d=l(u,s(c,o)),p=l(c,s(d,r-o-1));if(a(i,p.slice(0,o)))throw new Error("decryption error");for(var h=o;0===p[h];)h++;if(1!==p[h++])throw new Error("decryption error");return p.slice(h)}function i(e,t,n){for(var r=t.slice(0,2),i=2,a=0;0!==t[i++];)if(i>=t.length){a++;break}var o=t.slice(2,i-1);t.slice(i-1,i);if(("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&a++,o.length<8&&a++,a)throw new Error("decryption error");return t.slice(i)}function a(e,n){e=new t(e),n=new t(n);var r=0,i=e.length;e.length!==n.length&&(r++,i=Math.min(e.length,n.length));for(var a=-1;++a<i;)r+=e[a]^n[a];return r}var o=n(160),s=n(349),l=n(350),u=n(30),c=n(226),f=n(122),d=n(351);e.exports=function(e,n,a){var s;s=e.padding?e.padding:a?1:4;var l=o(e),f=l.modulus.byteLength();if(n.length>f||new u(n).cmp(l.modulus)>=0)throw new Error("decryption error");var p;p=a?d(new u(n),l):c(n,l);var h=new t(f-p.length);if(h.fill(0),p=t.concat([h,p],f),4===s)return r(l,p);if(1===s)return i(l,p,a);if(3===s)return p;throw new Error("unknown padding")}}).call(t,n(16).Buffer)},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function a(e,t){if("number"!=typeof e||e!==e)throw new TypeError("offset must be a number");if(e>y||e<0)throw new TypeError("offset must be a uint32");if(e>p||e>t)throw new RangeError("offset out of range")}function o(e,t,n){if("number"!=typeof e||e!==e)throw new TypeError("size must be a number");if(e>y||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>p)throw new RangeError("buffer too small")}function s(t,n,r,i){if(!(d.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return a(n,t.length),o(r,n,t.length),l(t,n,r,i)}function l(e,t,n,i){if(r.browser){var a=e.buffer,o=new Uint8Array(a,t,n);return h.getRandomValues(o),i?void r.nextTick(function(){i(null,e)}):e}return i?void f(n,function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)}):(f(n).copy(e,t),e)}function u(t,n,r){if(void 0===n&&(n=0),!(d.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return a(n,t.length),void 0===r&&(r=t.length-n),o(r,n,t.length),l(t,n,r)}var c=n(18),f=n(104),d=c.Buffer,p=c.kMaxLength,h=e.crypto||e.msCrypto,y=Math.pow(2,32)-1;h&&h.getRandomValues||!r.browser?(t.randomFill=s,t.randomFillSync=u):(t.randomFill=i,t.randomFillSync=i)}).call(t,n(44),n(43))},function(e,t,n){"use strict";var r=n(66);if(function(e){return e&&e.__esModule?e:{default:e}}(r).default.isIOS()){
var i=aoba.loaders.Resource.prototype._loadSourceElement;aoba.loaders.Resource.prototype._loadSourceElement=function(e){if("video"!==e)return void i.apply(this,e);if(this.data=document.createElement(e),this.data.setAttribute("muted",""),this.data.muted=!0,!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}}},,function(e,t,n){"use strict";var r=function(e){return(e.class||aoba.Container).new()},i=function(e){return(e.class||aoba.Sprite).new(e.key)},a=function(e){return(e.class||aoba.Text).new(e.text,e.style)},o=function(e){var t=(e.class||aoba.Graphics).new();switch(t.beginFill(e.fill,e.alpha),e.shape){case"rect":return t.drawRect(0,0,e.width,e.height);case"roundedRect":return t.drawRoundedRect(0,0,e.width,e.height,e.round);case"circle":return t.drawCircle(0,0,e.radius);default:throw new Error("Invalid layer.shape")}},s=function(e){if(e.destroy)return null;if(e.instance)return e.children=[],e.instance;switch(e.type){case"container":return r(e);case"sprite":return i(e);case"text":return a(e);case"graphics":return o(e);default:throw new Error("Invalid layer type "+e.type)}};aoba.Container.prototype.fromData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),function e(r,i){for(var a=0;a<r.length;a++){var o=r[a],l=t[o.fullName];if(null!==l){var u=void 0,c=void 0;l instanceof aoba.Container?(c=Object.assign({},o,{children:[]}),u=l):(c=Object.assign({},o,l),u=s(c)),u&&(void 0!==c.x&&(u.x=c.x),void 0!==c.y&&(u.y=c.y),void 0!==c.dx&&(u.x+=c.dx),void 0!==c.dy&&(u.y+=c.dy),void 0!==c.name&&(u.name=c.name),void 0!==c.visible&&(u.visible=c.visible),void 0!==c.alpha&&(u.alpha=c.alpha),void 0!==c.interactive&&(u.interactive=c.interactive),void 0!==c.rotation&&(u.rotation=c.rotation),void 0!==c.anchor&&u.anchor.set(c.anchor.x,c.anchor.y),void 0!==c.pivot&&u.pivot.set(c.pivot.x,c.pivot.y),void 0!==c.tint&&(u.tint=c.tint),void 0!==c.width&&(u.width=c.width),void 0!==c.height&&(u.height=c.height),void 0!==c.scale&&("number"==typeof c.scale&&(c.scale=aoba.p(c.scale)),u.scale.copy(c.scale)),n[c.fullName]=u.addTo(i),c.children&&e(c.children,u))}}}(e.children,this),n},aoba.Container.prototype.getChildByNameRecursively=function(e){var t=this.getChildByName(e);if(t)return t;for(var n=this.children.length-1;n>=0;n--){var r=this.children[n];if(r.getChildByNameRecursively){var i=r.getChildByNameRecursively(e);if(i)return i}}return null},aoba.Container.prototype.setPivotAndAdjustPosition=function(e,t){this.pivot.set(e,t),this.x+=e,this.y+=t},aoba.Container.prototype.destroyChildren=function(){for(;this.children.length>=1;)this.removeChildAt(0).destroy({children:!0})},aoba.Container.prototype.create=function(e){var t=aoba.Container.new();return e(t),t};var l=aoba.Container.prototype.ezgPreDestroy;aoba.Container.prototype.ezgPreDestroy=function(e){this.remove(),l.call(this,e)}},function(e,t,n){"use strict";function r(e,t){t||(t="video/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=t,n}var i=function(e,t,n){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),i.setAttribute("muted","");var a=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===n&&0!==a.indexOf("data:")||n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(e))for(var o=0;o<e.length;++o)i.appendChild(r(e[o].src||e[o],e[o].mime));else i.appendChild(r(a,e.mime));return i.load(),PIXI.VideoBaseTexture.fromVideo(i,t)};PIXI.VideoBaseTexture.fromUrlWithMute=i},function(e,t,n){"use strict";PIXI.Texture.fromVideoUrlWithMute=function(e,t){return new PIXI.Texture(PIXI.VideoBaseTexture.fromUrlWithMute(e,t))}},function(e,t,n){"use strict";PIXI.AfterEffects.prototype._ezgUpdate=function(e){this._isPaused||this.update&&this.update(e)},PIXI.AfterEffects.prototype.update=PIXI.AfterEffects.prototype.updateByDelta},function(e,t,n){"use strict";var r=aoba,i=r.Sound,a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._source)return this;this.loopEnd=this._buffer?this._buffer.duration:0,this._loop=e;var i=aoba.utils.audioContext;return this._source=i.createBufferSource(),this._source.loop=this._loop,this._source.loopStart=this._loopStart,this._source.loopEnd=this._loopEnd,this._source.buffer=this._buffer,this._source.connect(this._gainNode),this._loop||(this._source.onended=function(){return t.emit("ended")}),r?(this._gainNode.gain.value=0,this._gainNode.gain.linearRampToValueAtTime(this._volume,i.currentTime+.01)):this._gainNode.gain.value=this._volume,this._gainNode.connect(i.destination),this._currentTime=n,this._startedTime=i.currentTime,this._source.start(0,Math.max(0,n)),this};i.prototype.play=a;var o=function(){if(!this._source||!this._source.buffer)return this;this._gainNode.gain.value=.05,this._source.stop(),this._source.disconnect();try{this._source.buffer=null}catch(e){}return this._gainNode.disconnect(),this._source=null,this};i.prototype.stop=o;var s=function(){this._gainNode=null,this._gainNode={gain:{value:0}},this._buffer=null,this.removeAllListeners()};i.prototype.destroy=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(106),a=r(i),o=n(32),s=r(o),l=aoba,u=l.soundManager,c=l.Tween,f={BGM:.2,SE:.5,VOICE:.6},d=function(e){var t=aoba.loader.resources[e];return!(!t||!t.buffer)};u.play=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.group,r=void 0===n?"default":n,i=t.volume,a=void 0===i?1:i,o=t.loop,s=void 0!==o&&o;if(!d(e))return null;var l=new aoba.Sound(e,this._volume*a);return this.add(l,r),l.play(s,0,"voice"===r)},u.remove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=this._sounds[t],r=n.indexOf(e);-1!==r&&(n.splice(r,1),e.stop(),e.destroy())},u.removeByGroup=function(e){var t=this;if(this._sounds[e])this._sounds[e].concat().forEach(function(e){return t.remove(e)})},u.playBGM=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.group,i=void 0===r?"bgm":r,a=n.volume,o=void 0===a?f.BGM:a,s=n.loop,l=void 0===s||s,u=n.fade,d=void 0===u||u;if(this.bgm&&this.bgm.name===e)return this.bgm;var p=this.createBgmResourceName(e),h=this.bgm;return this.bgm=this.play(p,{group:i,volume:o,loop:l}),this.bgm.name=e,d?(this.bgm.pause(),Promise.resolve().then(function(){return new Promise(function(e){return h?(t.removeFadeOutTweenAndBGM(),t._fedeOutTween=c.new(h).to({volume:h.volume/2},200).call(e).to({volume:0},200).call(function(){t.removeFadeOutTweenAndBGM()}),null):e()})}).then(function(){t.removeFadeInTweenAndBGM(),t.bgm.resume(),t._fedeInTween=c.new(t.bgm).to({volume:o},400).call(function(){t.removeFadeInTween()})}),this.bgm):(h&&(h.stop(),this.remove(h,i)),this.bgm)},u.playConcertMusic=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.group,r=void 0===n?"bgm":n,i=t.volume,a=void 0===i?f.BGM:i,o=t.loop,s=void 0===o||o;t._fade;return this.bgm&&this.remove(this.bgm,r),this.removeByGroup(r),this.bgm=this.play(e,{group:r,volume:a,loop:s}),this.bgm.name=e,c.new(this.bgm).from({volume:0},400),this.bgm},u.createBgmResourceName=function(e){return"sounds/bgm/"+e+a.default.SOUND_EXTENSION},u.playBGMAsync=function(e){
var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.group,i=void 0===r?"bgm":r,a=n.volume,o=void 0===a?f.BGM:a,l=n.loop,u=void 0===l||l,d=n.fade,p=void 0===d||d;if(this._lastPlayBGMAsyncName=e,!this.bgm||this.bgm.name!==e){var h=this.createBgmResourceName(e);(0,s.default)([h]).then(function(){if(t._lastPlayBGMAsyncName!==e)return Promise.resolve(!0);var n=t.play(h,{group:i,volume:o,loop:u});if(!n)return Promise.resolve(!0);var r=t.bgm;return t.bgm=n,p?(t.bgm.pause(),t.bgm.name=e,r?(t.removeFadeOutTweenAndBGM(),new Promise(function(e){t._fedeOutTween=c.new(r).to({volume:r.volume/2},200).call(e).to({volume:0},200).call(function(){t.removeFadeOutTweenAndBGM()})})):Promise.resolve()):(r&&(r.stop(),t.remove(r,i)),Promise.resolve(!0))}).then(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||(t.removeFadeInTween(),t.bgm.resume(),t._fedeInTween=c.new(t.bgm).from({volume:0},400).call(function(){t.removeFadeInTween()}))})}},u.stopBGM=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fade,r=void 0===n?160:n;this.bgm&&c.new(this.bgm).to({volume:0},r).call(function(){e.bgm.stop(),e.bgm=null})},u.playSE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.group,r=void 0===n?"se":n,i=t.volume,a=void 0===i?f.SE:i,o=t.loop,s=void 0!==o&&o;return this.play(e,{group:r,volume:a,loop:s})},u.playVoice=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.group,r=void 0===n?"voice":n,i=t.volume,a=void 0===i?f.VOICE:i,o=t.loop,s=void 0!==o&&o;return this.play(e,{group:r,volume:a,loop:s})},u.playVoiceAsync=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.group,i=void 0===r?"voice":r,a=n.volume,o=void 0===a?f.VOICE:a,l=n.loop,u=void 0!==l&&l;return(0,s.default)([e]).then(function(){return t.play(e,{group:i,volume:o,loop:u})})},u.removeFadeOutTweenAndBGM=function(){this.removeFadeOutBGM(),this.removeFadeOutTween()},u.removeFadeOutBGM=function(){this._fedeOutTween&&this._fedeOutTween.target&&(this._fedeOutTween.target.stop(),this.remove(this._fedeOutTween.target,"bgm"))},u.removeFadeOutTween=function(){this._fedeOutTween&&(this._fedeOutTween.pause(),this._fedeOutTween.remove()),this._fedeOutTween=null},u.removeFadeInTweenAndBGM=function(){this.removeFadeInBGM(),this.removeFadeInTween()},u.removeFadeInBGM=function(){this._fedeInTween&&this._fedeInTween.target&&(this._fedeInTween.target.stop(),this.remove(this._fedeInTween.target,"bgm"))},u.removeFadeInTween=function(){this._fedeInTween&&(this._fedeInTween.pause(),this._fedeInTween.remove()),this._fedeInTween=null}},function(e,t,n){"use strict";var r=function(e,t){t.event?e.call(function(){return e.emit(t.event)}):t.wait?e.wait(t.wait*(1e3/30)):e[t.type](t.props,t.duration||1e3/30*t.frame,t.easing)},i=function e(t,n,i){var a=function(t,n,i){n.series.forEach(function(n){n.parallel?e(t,n,i):r(i,n)})};n.parallel.slice(1,n.parallel.length).forEach(function(n){var o=aoba.Tween.new(t);n.parallel?e(t,n,o):n.series?a(t,n,o):(o.wait(i._totalDuration),r(o,n))});var o=n.parallel[0];o.parallel?e(t,o,i):o.series?a(t,o,i):r(i,o)};aoba.Tween.fromData=function(e,t){var n=aoba.Tween.new(e);return t.forEach(function(t){t.parallel?i(e,t,n):r(n,t)}),n},aoba.Tween.createBlank=function(){return this.new(new aoba.utils.EventEmitter)},aoba.Tween.createFadeIn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.new(e).to({alpha:n.alpha||1},t,n.easing)},aoba.Tween.createFadeOut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.new(e).to({alpha:n.alpha||0},t,n.easing)},aoba.Tween.createDelay=function(e,t,n){return this.new(e).wait(t).call(n)},aoba.Tween.prototype.promise=function(){var e=this;return new Promise(function(t){return e.call(function(){return t(e.target)})})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"to",value:function(e,n,r){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"to",this).call(this,e,this._calcDurationTime(n),r)}},{key:"from",value:function(e,n,r){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"from",this).call(this,e,this._calcDurationTime(n),r)}},{key:"by",value:function(e,n,r){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"by",this).call(this,e,this._calcDurationTime(n),r)}},{key:"wait",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wait",this).call(this,this._calcDurationTime(e))}},{key:"_calcDurationTime",value:function(e){return 1e3*e/t.fps}}]),t}(aoba.Tween);l.fps=30,aoba.FrameTween=l},function(e,t,n){"use strict";aoba.utils.getPrototypeOf=function(e){return Object.setPrototypeOf?Object.getPrototypeOf(e):e.__proto__}},function(e,t,n){"use strict";aoba.Button.prototype._setPressed=function(e){if(e){if(this._pressed)return;return this._pressed=!0,void this._onPressStart()}this._pressed=!1,this._onPressEnd()}},function(e,t,n){"use strict";aoba.Text.prototype.typeText=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e.replace(/\r|\r\n/g,"\n"),this.maxLines=Math.max(e.split("\n").length,this.maxLines);var n=t;t&&this.clear();var r=e.split("");if(0===r.length)return this.emit("endText"),this;var i=0;return this.update=function(e){i+=e;var t=i/this._typeInterval|0;if(0!==t){i-=t*this._typeInterval;for(var a=0;a<=t;a++){var o=r.shift();if(n?(this.text=o,n=!1):this.text+=o,this._tryShiftLine(),0===r.length){this.emit("endText"),this.update=function(){};break}}}},this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={HOME:"001",IDOL_SELECT:"001",GASHA:"008",GASHA_RESULT:"017",IDOL_PORTAL:"012",LOGIN_BONUS:"019",FES:"016",COMMON:"017",PRESIDENT_REPORT:"018",PRODUCE_ACTION:"005",PRODUCE_IDOL_RANK:"003",PRODUCE_CONCERT_RESULT:"007",PRODUCE_TV:"020"};Object.keys(r).forEach(function(e){r[e]="images/bg/"+r[e]+".jpg"}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={produce:{morning:"001",answerCountdown:"007",home:"021",homeConcertWeek:"018",skillBoard:"025",evening:"029",idolRank:"029",idolRankUp:"024",tv:"026",ending:"027"},concertResult:"024",top:"000",training:"003",home:"003",gasha:"022",gashaDraw:"030",deck:"023",produceMarathonTop:"031",fes:"033",fesResult:"034"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={concert:["concert/001","concert/002","concert/003","concert/004","concert/005","concert/006","concert/007","concert/008","concert/009"],evolution:["evolution/001","evolution/002"],fes:["fes/001","fes/002","fes/003","fes/004","fes/005","fes/006","fes/007","fes/008","fes/009","fes/010","fes/011","fes/012","fes/013"],
fesIdolDetail:["fes_idol_detail/001","fes_idol_detail/002","fes_idol_detail/003","fes_idol_detail/004"],gasha:["gasha/001","gasha/002","gasha/003","gasha/004","gasha/005"],idolDetail:["idol_detail/001","idol_detail/002","idol_detail/003","idol_detail/004","idol_detail/005"],mission:["mission/001","mission/002","mission/003","mission/004"],notice:["notice/001","notice/002"],produce:["produce/produce/cover","produce/produce/001","produce/produce/002","produce/produce/003","produce/produce/004","produce/produce/005","produce/produce/006","produce/produce/007","produce/produce/008","produce/produce/009","produce/produce/010","produce/season2/cover","produce/season2/001","produce/season2/002","produce/season2/003","produce/season2/004","produce/season2/005","produce/season2/006","produce/season2/007","produce/season2/008","produce/season2/009","produce/season2/010","produce/season2/011","produce/season4/cover","produce/season4/001","produce/season4/002","produce/season4/003","produce/season4/004","produce/season4/005","produce/season4/006","produce/srank1/cover","produce/srank1/001","produce/srank1/002","produce/srank1/003","produce/srank1/004","produce/srank2/cover","produce/srank2/001","produce/srank2/002"],produceAction:["produce_action/001","produce_action/002","produce_action/003","produce_action/004","produce_action/005"],produceReady:["produce_ready/001","produce_ready/002","produce_ready/003","produce_ready/004","produce_ready/005"],produceSkillBoard:["produce_skill_board/001"],produceTop:["produce_top/001","produce_top/002","produce_top/003","produce_top/004"],reserveIdol:["reserve_idol/001","reserve_idol/002"],shop:["shop/001","shop/002","shop/003"],supportIdol:["support_idol/001","support_idol/002","support_idol/003","support_idol/004"],training:["training/001","training/002","training/003","training/004","training/005"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/my_page/parts.json","images/ui/common/parts_fes_deck_rank.json","images/ui/my_page/mask.json",{name:"pop_copyright_title_base.png",url:"images/ui/common/pop_copyright_title_base.png"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){i.default.isSafari()&&(new AudioContext).close()};t.default=a},function(e,t,n){"use strict";function r(e){if(i)throw new Error("soundFocusPatch already call");i=!0;var t=["blur","pagehide","unload","beforeunload"],n=["focus","pageshow"],r=void 0,a=void 0;void 0!==document.hidden?(r="hidden",a="visibilitychange"):void 0!==document.mozHidden?(r="mozHidden",a="mozvisibilitychange"):void 0!==document.msHidden?(r="msHidden",a="msvisibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",a="webkitvisibilitychange"),r&&document.addEventListener(a,function(){document[r]?e.mute():e.unmute()}),t.forEach(function(t){window.addEventListener(t,function(){e.mute()})}),n.forEach(function(t){window.addEventListener(t,function(){e.unmute()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){return e.request?i.default.loadSceneAsync("fesTop"):i.default.loadSceneAsync("fesResult",e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(128),a=r(i),o=n(21),s=r(o),l=n(82),u=r(l),c=function(e){switch(e){case a.default.PROGRESS.NOT_STARTED:case a.default.PROGRESS.STARTED:case a.default.PROGRESS.OPENING_EVENT_FIRST_HALF:return{sceneName:"tutorialOpening"};case a.default.PROGRESS.READY:return{sceneName:"tutorialProduceReady"};case a.default.PROGRESS.OPENING_EVENT_LAST_HALF:case a.default.PROGRESS.TOP:case a.default.PROGRESS.AFTER_ACTION:case a.default.PROGRESS.BEFORE_COMMU:case a.default.PROGRESS.AFTER_COMMU:case a.default.PROGRESS.SKILL_BOARD:case a.default.PROGRESS.AFTER_SKILL_BOARD:case a.default.PROGRESS.BEFORE_AUDITION_CHEER:case a.default.PROGRESS.AFTER_AUDITION_CHEER:return{sceneName:"tutorialProduce",sceneParams:{serverAction:u.default,loadAuditionScene:function(e){s.default.loadSceneAsync("tutorialAudition",{request:!1,sceneParams:e})}}};case a.default.PROGRESS.AUDITION:return{sceneName:"tutorialAudition"};case a.default.PROGRESS.AUDITION_RESULT:return{sceneName:"concertResult",sceneParams:{serverAction:u.default,loadProduceScene:function(e){s.default.loadSceneAsync("tutorialProduce",{request:!1,sceneParams:e})}}};case a.default.PROGRESS.IDOL_RANK:return{sceneName:"tutorialProduce"};case a.default.PROGRESS.MY_PAGE:return{sceneName:"tutorialHome",sceneParams:{serverAction:u.default}};case a.default.PROGRESS.FINISHED:return{sceneName:"home"};default:throw new Error("tutorial progress "+e+" is invalid")}};t.default=function(e){return e.request?u.default.resume().then(function(e){var t=c(e.tutorialProgress);return s.default.loadSceneAsync(t.sceneName,{request:!1,sceneParams:Object.assign(e,t.sceneParams)})}):s.default.loadSceneAsync("tutorialOpening",{request:!1,sceneParams:e.sceneParams})}},function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}var a=n(358);e.exports=r,r.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(e){return this._parser=e,this},r.prototype.responseType=function(e){return this._responseType=e,this},r.prototype.serialize=function(e){return this._serializer=e,this},r.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response}return this},r.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~o.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this
;this._endCalled,this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(e,t)},r.prototype.catch=function(e){return this.then(void 0,e)},r.prototype.use=function(e){return e(this),this},r.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},r.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},r.prototype.get=function(e){return this._header[e.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(e,t){if(a(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},r.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data,a(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},r.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},r.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},r.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},r.prototype.redirects=function(e){return this._maxRedirects=e,this},r.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(e){var t=a(e),n=this._header["content-type"];if(this._formData,t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&a(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},r.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},r.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},r.prototype._appendQueryString=function(){},r.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},r.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,n){"use strict";function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}var a=n(818);e.exports=r,r.prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=a.type(t);var n=a.params(t);for(var r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=a.parseLinks(e.link))}catch(e){}},r.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(821),u=r(l),c=n(822),f=r(c),d=n(823),p=r(d),h=n(824),y=r(h),m=n(825),_=r(m),g=n(361),b=r(g),v=n(23),w=r(v),k=n(26),S=r(k),I={normal:null,good:{images:["commu_result_good_1.png","commu_result_good_2.png"],emitter:"particles/produce_commu/result_good/emitter.json"},perfect:{images:["commu_result_perfect_1.png","commu_result_perfect_2.png","commu_result_perfect_3.png"],emitter:"particles/produce_commu/result_perfect/emitter.json"}},E=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r={};switch(e){default:case"normal":n._commuResult=_.default.new(f.default,S.default.commu.result.normal),r.commuResultNormal=n._commuResult;break;case"good":n._commuResult=_.default.new(p.default,S.default.commu.result.good),r.commuResultGood=n._commuResult;break;case"perfect":n._commuResult=_.default.new(y.default,S.default.commu.result.perfect,b.default.new()),r.commuResultPerfect=n._commuResult}return n._particleAsset=I[e],n.fromData(u.default,r),n}return o(t,e),s(t,[{key:"play",value:function(){var e=this;if(this._particleAsset){var t=new w.default(this._particleAsset.images,this._particleAsset.emitter);this.addChild(t.container),t.setPosition(aoba.game.width/2,aoba.game.height/2),t.play()}return Promise.resolve().then(function(){return e._commuResult.play()}).then(function(){return e._fadeOut()})}},{key:"_fadeOut",value:function(){var e=this;return new Promise(function(t){aoba.Tween.new(e).to({alpha:0},240).call(t)})}}]),t}(aoba.Container);t.default=E},function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"commuResultPerfect",fullName:"commuResultPerfect",type:"container",x:0,y:0},{name:"commuResultGood",fullName:"commuResultGood",type:"container",x:0,y:0},{name:"commuResultNormal",fullName:"commuResultNormal",type:"container",x:0,y:0}],name:"",fullName:"",visible:!1,type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgResult",fullName:"bgResult",type:"sprite",key:"commu_result_normal_bg.png",x:0,y:0},{name:"commuResultNormalBase",fullName:"commuResultNormalBase",type:"sprite",key:"commu_result_normal_base.png",x:0,y:459},{name:"textResult",fullName:"textResult",anchor:{x:.5,y:.5},type:"text",text:"\u30ce\u30fc\u30de\u30eb\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3",style:{fill:16777215,fontFamily:"HummingStd-B",fontSize:46},rotation:0,x:566,y:507}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgResult",fullName:"bgResult",type:"sprite",key:"commu_result_good_bg.png",x:0,y:0},{name:"commuResultGoodBgStar8",fullName:"commuResultGoodBgStar8",type:"sprite",key:"commu_result_good_bg_star_8.png",x:1054,y:593},{name:"commuResultGoodBgStar7",fullName:"commuResultGoodBgStar7",type:"sprite",key:"commu_result_good_bg_star_7.png",x:1076,y:569},{name:"commuResultGoodBgStar6",fullName:"commuResultGoodBgStar6",type:"sprite",key:"commu_result_good_bg_star_6.png",x:1079,y:71},{name:"commuResultGoodBgStar5",fullName:"commuResultGoodBgStar5",type:"sprite",key:"commu_result_good_bg_star_5.png",x:99,y:48},{name:"commuResultGoodBgStar4",fullName:"commuResultGoodBgStar4",type:"sprite",key:"commu_result_good_bg_star_4.png",x:0,y:581},{name:"commuResultGoodBgStar3",fullName:"commuResultGoodBgStar3",type:"sprite",key:"commu_result_good_bg_star_3.png",x:0,y:0},{name:"commuResultGoodBgStar2",fullName:"commuResultGoodBgStar2",type:"sprite",key:"commu_result_good_bg_star_2.png",x:1043,y:0},{name:"commuResultGoodBgStar1",fullName:"commuResultGoodBgStar1",type:"sprite",key:"commu_result_good_bg_star_1.png",x:25,y:557},{name:"commuResultGoodBgCircle7",fullName:"commuResultGoodBgCircle7",type:"sprite",key:"commu_result_good_bg_circle_7.png",x:1042,y:127},{name:"commuResultGoodBgCircle6",fullName:"commuResultGoodBgCircle6",type:"sprite",key:"commu_result_good_bg_circle_6.png",x:0,y:275},{name:"commuResultGoodBgCircle5",fullName:"commuResultGoodBgCircle5",type:"sprite",key:"commu_result_good_bg_circle_5.png",x:11,y:149},{name:"commuResultGoodBgCircle4",fullName:"commuResultGoodBgCircle4",type:"sprite",key:"commu_result_good_bg_circle_4.png",x:1016,y:0},{name:"commuResultGoodBgCircle3",fullName:"commuResultGoodBgCircle3",type:"sprite",key:"commu_result_good_bg_circle_3.png",x:46,y:375},{name:"commuResultGoodBgCircle2",fullName:"commuResultGoodBgCircle2",type:"sprite",key:"commu_result_good_bg_circle_2.png",x:72,y:228},{name:"commuResultGoodBgCircle1",fullName:"commuResultGoodBgCircle1",type:"sprite",key:"commu_result_good_bg_circle_1.png",x:1024,y:228},{name:"commuResultGoodBase",fullName:"commuResultGoodBase",type:"sprite",key:"commu_result_good_base.png",x:0,y:459},{name:"textResult",fullName:"textResult",anchor:{x:.5,y:.5},type:"text",text:"\u30b0\u30c3\u30c9\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3",style:{fill:16777215,fontFamily:"HummingStd-B",fontSize:46},rotation:0,x:566,y:505},{name:"commuResultGoodStar",fullName:"commuResultGoodStar",type:"sprite",key:"commu_result_good_star.png",x:4,y:476}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"commuResultPerfectBase",fullName:"commuResultPerfectBase",type:"sprite",key:"commu_result_perfect_base.png",x:0,y:459},{name:"textResult",fullName:"textResult",anchor:{x:.5,y:.5},type:"text",text:"\u30d1\u30fc\u30d5\u30a7\u30af\u30c8\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3",style:{fill:16777215,fontFamily:"HummingStd-B",fontSize:46},rotation:0,x:567,y:506},{name:"commuResultPerfectTxtGlow2",fullName:"commuResultPerfectTxtGlow2",type:"sprite",key:"commu_result_perfect_txt_glow_2.png",x:257,y:461},{name:"commuResultPerfectTxtGlow1",fullName:"commuResultPerfectTxtGlow1",type:"sprite",key:"commu_result_perfect_txt_glow_1.png",x:818,y:468},{name:"commuResultPerfectStar",fullName:"commuResultPerfectStar",type:"sprite",key:"commu_result_perfect_star.png",x:3,y:476}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._se=n,o._effect=a;var s=o.fromData(e);return o._text=s.textResult,o._bg=s.bgResult,o._text.style.fontFamily="HummingStd-E",o._text.x=l.default.SCREEN_CENTER.x,o._bg&&(o._bg.blendMode=aoba.BLEND_MODES.ADD,o._bg.scale=aoba.p(2)),o._effect&&o._effect.addTo(o),o.hide(),o}return a(t,e),o(t,[{key:"play",value:function(){var e=this;return new Promise(function(t){e.show(),aoba.soundManager.playSE(e._se),aoba.Tween.new(e).from({alpha:0},600),aoba.Tween.new(e._text).from({x:e._text.x+10},800,"easeOutQuad").by({x:-4},800).call(t)})}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(827),f=r(c),d=n(26),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._isAgreed="agree"===e;var r=n.fromData(f.default,{bgPromise:{scale:2}});return n._bg=r.bgPromise,n._bg.anchor.y=.5,n._text=r.textPromise,n.hide(),n}return o(t,e),s(t,[{key:"play",value:function(){var e=this;return new Promise(function(t){e._isAgreed?(e.show(),aoba.soundManager.playSE(p.default.commu.promise.agree),aoba.Tween.new(e).from({alpha:0},250).wait(1500).to({alpha:0},250),aoba.Tween.new(e._bg).from({scaleY:0},250).wait(1500).to({scaleY:0},250),aoba.Tween.new(e._text).from({x:e._text.x+u.default.SCREEN_WIDTH},250,"easeOutQuad").to({x:e._text.x-15},1500).to({x:e._text.x-u.default.SCREEN_WIDTH},250),
setTimeout(t,2250)):(aoba.soundManager.playSE(p.default.commu.promise.disagree),t())})}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgPromise",fullName:"bgPromise",anchor:{x:.5,y:.5},type:"sprite",key:"bg_promise.png",x:568,y:68},{name:"promiseAcceptanceStar4",fullName:"promiseAcceptanceStar4",type:"sprite",key:"promise_acceptance_star_4.png",x:744,y:0},{name:"promiseAcceptanceStar3",fullName:"promiseAcceptanceStar3",type:"sprite",key:"promise_acceptance_star_3.png",x:722,y:0},{name:"promiseAcceptanceStar2",fullName:"promiseAcceptanceStar2",type:"sprite",key:"promise_acceptance_star_2.png",x:312,y:61},{name:"promiseAcceptanceStar1",fullName:"promiseAcceptanceStar1",type:"sprite",key:"promise_acceptance_star_1.png",x:336,y:15},{name:"textPromise",fullName:"textPromise",anchor:{x:.5,y:.5},type:"sprite",key:"promise_acceptance_text.png",x:569,y:68}],name:"",fullName:"",type:"container",x:0,y:437}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(829),u=r(l),c=n(830),f=r(c),d=n(831),p=r(d),h=n(832),y=r(h),m=n(26),_=r(m),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r={};return e?(n._promiseResult=y.default.new(f.default,_.default.activity.promiseResult.success),r.promiseResultSuccess=n._promiseResult):(n._promiseResult=y.default.new(p.default,_.default.activity.promiseResult.failure),r.promiseResultFailure=n._promiseResult),n.fromData(u.default,r),n}return o(t,e),s(t,[{key:"play",value:function(){var e=this;return new Promise(function(t){e._promiseResult.play(),e._promiseResult.on("end",t)})}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"promiseResultSuccess",fullName:"promiseResultSuccess",type:"container",x:0,y:0},{name:"promiseResultFailure",fullName:"promiseResultFailure",type:"container",x:0,y:22}],name:"",fullName:"",visible:!1,type:"container",x:0,y:431}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgResult",fullName:"bgResult",anchor:{x:.5,y:.5},type:"sprite",key:"bg_promise_success.png",x:568,y:74},{name:"promiseResultSuccessStar12",fullName:"promiseResultSuccessStar12",type:"sprite",key:"promise_result_success_star_12.png",x:703,y:0},{name:"promiseResultSuccessStar11",fullName:"promiseResultSuccessStar11",type:"sprite",key:"promise_result_success_star_11.png",x:687,y:6},{name:"promiseResultSuccessStar10",fullName:"promiseResultSuccessStar10",type:"sprite",key:"promise_result_success_star_10.png",x:315,y:73},{name:"promiseResultSuccessStar9",fullName:"promiseResultSuccessStar9",type:"sprite",key:"promise_result_success_star_9.png",x:330,y:21},{name:"promiseResultSuccessStar8",fullName:"promiseResultSuccessStar8",type:"sprite",key:"promise_result_success_star_8.png",x:872,y:54},{name:"promiseResultSuccessStar7",fullName:"promiseResultSuccessStar7",type:"sprite",key:"promise_result_success_star_7.png",x:188,y:54},{name:"promiseResultSuccessStar6",fullName:"promiseResultSuccessStar6",type:"sprite",key:"promise_result_success_star_6.png",x:187,y:65},{name:"promiseResultSuccessStar5",fullName:"promiseResultSuccessStar5",type:"sprite",key:"promise_result_success_star_5.png",x:872,y:65},{name:"promiseResultSuccessStar4",fullName:"promiseResultSuccessStar4",type:"sprite",key:"promise_result_success_star_4.png",x:269,y:35},{name:"promiseResultSuccessStar3",fullName:"promiseResultSuccessStar3",type:"sprite",key:"promise_result_success_star_3.png",x:774,y:70},{name:"promiseResultSuccessStar2",fullName:"promiseResultSuccessStar2",type:"sprite",key:"promise_result_success_star_2.png",x:821,y:42},{name:"promiseResultSuccessStar1",fullName:"promiseResultSuccessStar1",type:"sprite",key:"promise_result_success_star_1.png",x:232,y:78},{name:"textResult",fullName:"textResult",anchor:{x:.5,y:.5},type:"sprite",key:"promise_result_success_text.png",x:552,y:73},{name:"promiseResultSuccessGlow2",fullName:"promiseResultSuccessGlow2",type:"sprite",key:"promise_result_success_glow_2.png",x:749,y:0},{name:"promiseResultSuccessGlow1",fullName:"promiseResultSuccessGlow1",type:"sprite",key:"promise_result_success_glow_1.png",x:269,y:39}],name:"",fullName:"",type:"container",x:0,y:431}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgResult",fullName:"bgResult",anchor:{x:.5,y:.5},type:"sprite",key:"bg_promise_failure.png",x:568,y:52},{name:"promiseResultFailWave",fullName:"promiseResultFailWave",type:"sprite",key:"promise_result_fail_wave.png",x:10,y:0},{name:"promiseResultFailTears10",fullName:"promiseResultFailTears10",type:"sprite",key:"promise_result_fail_tears_10.png",x:208,y:48},{name:"promiseResultFailTears9",fullName:"promiseResultFailTears9",type:"sprite",key:"promise_result_fail_tears_9.png",x:682,y:62},{name:"promiseResultFailTears8",fullName:"promiseResultFailTears8",type:"sprite",key:"promise_result_fail_tears_8.png",x:1001,y:20},{name:"promiseResultFailTears7",fullName:"promiseResultFailTears7",type:"sprite",key:"promise_result_fail_tears_7.png",x:141,y:24},{name:"promiseResultFailTears6",fullName:"promiseResultFailTears6",type:"sprite",key:"promise_result_fail_tears_6.png",x:896,y:60},{name:"promiseResultFailTears5",fullName:"promiseResultFailTears5",type:"sprite",key:"promise_result_fail_tears_5.png",x:111,y:67},{name:"promiseResultFailTears4",fullName:"promiseResultFailTears4",type:"sprite",key:"promise_result_fail_tears_4.png",x:21,y:68},{name:"promiseResultFailTears3",fullName:"promiseResultFailTears3",type:"sprite",key:"promise_result_fail_tears_3.png",x:1061,y:50},{name:"promiseResultFailTears2",fullName:"promiseResultFailTears2",type:"sprite",key:"promise_result_fail_tears_2.png",x:932,y:21},{name:"promiseResultFailTears1",fullName:"promiseResultFailTears1",type:"sprite",key:"promise_result_fail_tears_1.png",x:61,y:18},{name:"textResult",fullName:"textResult",anchor:{x:.5,y:.5},type:"sprite",key:"promise_result_failure_text.png",x:568,y:52}],name:"",fullName:"",type:"container",x:0,y:453}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){
return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));a._se=n;var o=a.fromData(e,{bgResult:{scale:2}});return a._text=o.textResult,a._text.anchor.x=.5,a._text.x=l.default.SCREEN_CENTER.x,a._bg=o.bgResult,a._bg.anchor.y=.5,a._bg.blendMode=aoba.BLEND_MODES.ADD,a.hide(),a}return a(t,e),o(t,[{key:"play",value:function(){var e=this;return this.show(),aoba.soundManager.playSE(this._se),aoba.Tween.new(this).from({alpha:0},500).wait(1500).to({alpha:0},500).call(function(){e.emit("end")}),aoba.Tween.new(this._bg).from({scaleY:0},500).wait(1500).to({scaleY:0},500),aoba.Tween.new(this._text).from({scaleX:2,scaleY:2},500,"easeOutBack").wait(1500).to({scaleX:2,scaleY:2},500),this}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(362),u=r(l),c=n(363),f=r(c),d=n(367),p=r(d),h=n(368),y=r(h),m=n(369),_=r(m),g=n(370),b=r(g),v=n(372),w=r(v),k=n(374),S=r(k),I=n(375),E=r(I),A=n(230),x=r(A),C={FREE:Symbol(),PLAYING:Symbol(),WAITING:Symbol(),LOCKED:Symbol()},T={NORMAL:1,AUTO:2},P={TIME:"time",EFFECT:"effect"},O={INTERACTIVE_LAYER:0,BG_LAYER:1,CHARACTER_STAGE:2,FG_LAYER:3,STILL_LAYER:4,MAIN_CONTROLLER:5,SELECT_LIST:6,SCENARIO_PLAYER:7,EFFECT_LAYER:8,MOVIE_LAYER:9},N=function(){return aoba.Graphics.new().beginFill(0,0).drawRect(0,0,1136,640)},M=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._state=C.LOCKED,r._mode=null,r._effectSpeed=1,r._elapsedTime=0,r._interactionLayer=N().addToAt(r,O.INTERACTIVE_LAYER).on("tap",r._onTap,r),r._bgLayer=null,r._fgLayer=null,r._characterStage=null,r._stillLayer=null,r._scenarioPlayer=null,r._mainController=null,r._selectList=null,r._effectLayer=null,r._movieLayer=null,r._soundController=new S.default,r._trackManager=new E.default(e),r._schedule=new x.default,r._setupDefaultComponents(n),r.on("removed",r._removeSounds,r),r}return o(t,e),s(t,[{key:"update",value:function(e){this._schedule.update(e)}},{key:"start",value:function(){return this._setMode(T.NORMAL),this._mainController.init(),this._playTrack(this._trackManager.currentTrack),this}},{key:"_setMode",value:function(e){this._interactionLayer.interactive=e===T.NORMAL,this._scenarioPlayer.isAuto=e===T.AUTO,this._mode=e}},{key:"_setupDefaultComponents",value:function(e){var t=e.scenarioPlayer,n=e.selectList;this.bgLayer=u.default.new(),this.characterStage=f.default.new(),this.fgLayer=u.default.new(),this.stillLayer=u.default.new(),this.mainController=y.default.new(),this.selectList=w.default.new(n).hide(),this.scenarioPlayer=b.default.new(t).setPosition(t.x,t.y),this.effectLayer=p.default.new(),this.movieLayer=_.default.new()}},{key:"_switchComponent",value:function(e,t,n){var r=this[e];return r&&r.destroy({children:!0}),this[e]=t,t.addToAt(this,n),t}},{key:"_removeSounds",value:function(){this._soundController.removeAll()}},{key:"_isFree",value:function(){return this._state===C.FREE}},{key:"_changeMode",value:function(e){this._state===C.WAITING&&(this._schedule.hasEvents?this._schedule.completeAll():this._forward()),this._setMode(e.mode),this._effectSpeed=e.effectSpeed,this._bgLayer.speed=e.effectSpeed,this._scenarioPlayer.speed=e.textSpeed,this._waitTime=e.waitTime}},{key:"_changeToFree",value:function(){this._state=C.FREE}},{key:"_changeToPLaying",value:function(){this._state=C.PLAYING}},{key:"_changeToWaiting",value:function(){this._state=C.WAITING,this._mode===T.AUTO&&this._schedule.register(this._forward.bind(this),this._waitTime)}},{key:"_changeToLocked",value:function(){this._state=C.LOCKED}},{key:"_onAppearSelectList",value:function(){this.emit("appearSelectList"),this._changeToLocked()}},{key:"_forward",value:function(){if(this._trackManager.currentTrack&&!this._selectList.active){this._soundController.removeSeAndVoice(),this._trackManager.currentTrack.text&&this._characterStage.stopLipAnimations();var e=this._trackManager.forward();e?this._playTrack(e):(this._changeToLocked(),this.emit("end"))}}},{key:"_endTrack",value:function(){this._scenarioPlayer.endText(),this._characterStage.endEffects()}},{key:"_onTap",value:function(){switch(this._state){case C.PLAYING:this._endTrack();break;case C.WAITING:this._forward();break;case C.LOCKED:}}},{key:"_handleWaitEnd",value:function(){this._changeToFree(),this._forward()}},{key:"_onEndText",value:function(e){e.lock?this._state!==C.LOCKED&&this._changeToWaiting():this._forward()}},{key:"_onSelect",value:function(e){this._scenarioPlayer.setTextControl("cm"),this.emit("select",e),this._trackManager.nextLabel=e,this._forward()}},{key:"_onEndTrack",value:function(){this._isFree()&&this._forward()}},{key:"_addSelectItem",value:function(e,t){this._selectList.addItem(e,t),this._trackManager.nextTrack.select||(dlog(!1,"StartSelect"),this._selectList.appear())}},{key:"_playTrack",value:function(e){this._changeToFree();var t=e.speaker,n=e.text,r=e.textCtrl,i=e.textWait,a=e.textFrame,o=e.bg,s=e.bgEffect,l=e.fg,u=e.fgEffect,c=e.bgm,f=e.se,d=e.voice,p=e.lip,h=e.select,y=e.nextLabel,m=e.charStill,_=e.stillCtrl,g=e.movie,b=e.charSpine,v=e.charLabel,w=e.charPosition,k=e.charScale,S=e.charAnim1,I=e.charAnim2,E=e.charAnim3,A=e.charAnim1Loop,x=e.charAnim2Loop,T=e.charAnim3Loop,O=e.charLipAnim,N=e.charEffect,M=e.effectLabel,R=e.effectTarget,D=e.effectValue,F=e.waitType,B=e.waitTime,j=[];this._scenarioPlayer.applyTextControl(),y&&!h&&(this._trackManager.nextLabel=y),t&&this._scenarioPlayer.controlSpeaker(t),n&&(this._scenarioPlayer.setTextControl(r||"p"),"off"!=n&&dlog("produceTrack\n",t,"\n",n),this._scenarioPlayer.play(n,i)),!n&&r&&this._scenarioPlayer.setTextControl(r),a&&this._scenarioPlayer.controlFrame(a),o&&j.push(this._bgLayer.control(o,s)),l&&this._fgLayer.control(l,u),m&&this._stillLayer.control(m),_&&this._stillLayer.control(_),c&&this._soundController.control("bgm",c),f&&this._soundController.control("se",f);var L=void 0;if(d){var U=this._soundController.control("voice",d);L=U&&U.duration}if(b||v){var H=this._characterStage.control({asset:b,label:v,position:w,scale:k,anim1:S,anim2:I,anim3:E,anim1Loop:A,anim2Loop:x,anim3Loop:T,lipAnim:O,lipAnimDuration:L,lipMarks:p,effect:N,effectSpeed:this._effectSpeed});j.push(H)}if(h&&this._addSelectItem(h,y),D&&j.push(this._effectLayer.control(M,R,D,this._effectSpeed)),g&&(this._state=C.LOCKED,this.controlMovie(g)),F){this._state=C.LOCKED;var G=this._handleWaitEnd.bind(this);switch(F){case P.TIME:this._schedule.register(G,B/this._effectSpeed);aoba.Tween.new(this);break;case P.EFFECT:Promise.all(j).then(G)}}this._onEndTrack()}},{key:"controlMovie",value:function(e){this._movieLayer.control(e).then(this._handleWaitEnd.bind(this))}},{key:"bgLayer",get:function(){return this._bgLayer},set:function(e){this._switchComponent("_bgLayer",e,O.BG_LAYER)}},{key:"fgLayer",get:function(){return this._fgLayer},set:function(e){this._switchComponent("_fgLayer",e,O.FG_LAYER)}},{key:"stillLayer",get:function(){return this._stillLayer},set:function(e){this._switchComponent("_stillLayer",e,O.STILL_LAYER)}},{key:"characterStage",get:function(){
return this._characterStage},set:function(e){this._switchComponent("_characterStage",e,O.CHARACTER_STAGE)}},{key:"scenarioPlayer",get:function(){return this._scenarioPlayer},set:function(e){this._switchComponent("_scenarioPlayer",e,O.SCENARIO_PLAYER).on("play",this._changeToPLaying,this).on("endText",this._onEndText,this)}},{key:"mainController",get:function(){return this._mainController},set:function(e){this._switchComponent("_mainController",e,O.MAIN_CONTROLLER).on("control",this._changeMode,this)}},{key:"selectList",get:function(){return this._selectList},set:function(e){this._switchComponent("_selectList",e,O.SELECT_LIST).on("appear",this._onAppearSelectList,this).on("select",this._onSelect,this)}},{key:"effectLayer",set:function(e){this._switchComponent("_effectLayer",e,O.EFFECT_LAYER)}},{key:"movieLayer",set:function(e){this._switchComponent("_movieLayer",e,O.MOVIE_LAYER)}},{key:"SelectItem",set:function(e){this._selectList.SelectItem=e}},{key:"soundController",get:function(){return this._soundController},set:function(e){this._soundController=e}}]),t}(aoba.Container);t.default=M},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=["on","off","pause","resume","rect","circle"],o=function(){function e(t){r(this,e),this._assetFormat=t.assetFormat,this._characterAssetFormat=t.characterAssetFormat,this._defaultTextFrame=t.defaultTextFrame}return i(e,[{key:"convertResourcePaths",value:function(e){var t=this,n=Object.keys(this._assetFormat),r=e.map(function(e){var r=e.stillType,i=e.stillId,o=e.charType,s=e.charCategory,l=void 0===s?"stand":s,u=e.charId;return r&&i&&(e.charStill=t._getCharacterPath("still",{type:r,id:i})),o&&u&&(e.charSpine=t._getCharacterPath("spine",{type:o,category:l,id:u})),Object.keys(e).filter(function(e){return n.includes(e)}).forEach(function(n){var r=e[n];a.includes(r)||(e[n]=t._getAssetPath(n,{id:r}))}),e});return r[0].textFrame||(r[0].textFrame=this._getAssetPath("textFrame",{id:this._defaultTextFrame})),r}},{key:"extractResourceList",value:function(e){var t=Object.keys(this._assetFormat),n=[];return e.forEach(function(e){Object.keys(e).filter(function(e){return t.includes(e)}).forEach(function(t){var r=e[t];a.includes(r)||n.push(e[t])}),e.charStill&&n.push(e.charStill),e.charSpine&&n.push(e.charSpine)}),n.filter(function(e,t,n){return n.indexOf(e)===t})}},{key:"_getAssetPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._assetFormat[e].replace("${id}",t.id)}},{key:"_getCharacterPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._characterAssetFormat[e].replace("${type}",t.type).replace("${category}",t.category).replace("${id}",t.id)}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(74),c=r(u),f=n(42),d=r(f),p=n(0),h=r(p),y=function(e){var t=h.default.MuteVideo.new(""+d.default.ASSET_ROOT+e.movie);return t.pauseOnPlay(),{path:e.movie,video:t}},m=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._movieTracks=e.filter(function(e){return!!e.movie}),r._movies=[],r._videos=[],r._movieTracks.length>0&&(r.interactive=!0,r.once("touchend",function(){r.interactive=!1,r._initMoviesIfNeeded()})),r}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._videos=[],l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"controlMovie",value:function(e){this._initMoviesIfNeeded();var t=this._movies.find(function(t){return t.path===e});if(!t)throw new Error("Movie "+e+" is not initialized.");this._movieLayer.control(t.video).then(this._handleWaitEnd.bind(this)),this._videos.push(t.video)}},{key:"_initMoviesIfNeeded",value:function(){this._movies.length<this._movieTracks.length&&(this._movies=this._movieTracks.map(y))}}]),t}(c.default.AdvPlayer);t.default=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(110),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={NORMAL:{nextMode:"AUTO",params:{mode:1,textSpeed:1,effectSpeed:1,waitTime:180}},AUTO:{nextMode:"NORMAL",params:{mode:2,textSpeed:1,effectSpeed:1,waitTime:180}}},c={NORMAL:{nextMode:"FAST2",params:{mode:1,textSpeed:1,effectSpeed:1,waitTime:180}},FAST2:{nextMode:"FAST3",params:{mode:2,textSpeed:20,effectSpeed:2,waitTime:60}},FAST3:{nextMode:"NORMAL",params:{mode:2,textSpeed:40,effectSpeed:4,waitTime:30}}},f=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._textureOff=a.texture,a._textureOn=aoba.Texture.fromImage(n),a}return a(t,e),o(t,[{key:"toggle",value:function(){this.texture=this.texture===this._textureOn?this._textureOff:this._textureOn}},{key:"cancel",value:function(){this.texture=this._textureOff}}]),t}(l.default),d=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._index=0,a._images=n,a}return a(t,e),o(t,[{key:"press",value:function(){this._index=(this._index+1)%this._images.length,this._updateTexture()}},{key:"cancel",value:function(){this._index=0,this._updateTexture()}},{key:"_updateTexture",value:function(){this.texture=aoba.Texture.fromImage(this._images[this._index])}}]),t}(l.default),p=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._index=0,e._autoMode=u.NORMAL,e._speedMode=c.NORMAL,e._autoButton=f.new("auto_button_off.png","auto_button_on.png").addTo(e,990,585,{anchor:.5}).on("tap",e._onTapAutoButton,e).hide(),
e._speedButton=d.new("fast_button_off.png",["fast_button_off.png","fast_button_on_2.png","fast_button_on_3.png"]).addTo(e,1085,585,{anchor:.5}).on("tap",e._onTapSpeedButton,e),e}return a(t,e),o(t,[{key:"init",value:function(){this.dispatchParams(this._autoMode.params)}},{key:"dispatchParams",value:function(e){this.emit("control",e)}},{key:"_onTapAutoButton",value:function(){this._autoButton.toggle(),this._speedButton.cancel(),this._autoMode=u[this._autoMode.nextMode],this._speedMode=c.NORMAL,this.dispatchParams(this._autoMode.params)}},{key:"_onTapSpeedButton",value:function(){this._speedButton.press(),this._autoButton.cancel(),this._speedMode=c[this._speedMode.nextMode],this._autoMode=u.NORMAL,this.dispatchParams(this._speedMode.params)}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(74),u=r(l),c=n(111),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"control",value:function(e,t){var n=this,r=f.default.createWhite({duration:600}).addTo(this),i=new Promise(function(t){e.isReady?t():e.once("ready",t)});return Promise.all([i,r.appear()]).then(function(){e.resume(),e.addToAt(n,r),r.disappear()}),new Promise(function(t){e.on("end",function(){var r=f.default.createWhite({duration:420}).addTo(n);r.appear().then(function(){e.destroy(!0),r.disappear(),t()})})})}}]),t}(u.default.MovieLayer);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(74),u=r(l),c=n(34),f=r(c),d=n(3),p=r(d),h="se",y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._arrowPosition={x:808,y:120},n._textSE=null,n._arrow=aoba.Sprite.new("next_arrow.png").addTo(n,n._arrowPosition.x,n._arrowPosition.y,{visible:!1}),n.on("play",n._hideArrow,n),n.on("endText",n._showArrow,n),n.on("play",function(){n._isNeedTextSE&&(n._textSE||(n._textSE=aoba.soundManager.play(f.default.common.ui.typeText,{loop:!0,group:h})),n._textSE.play(!0))}),n.on("endText",function(){n._isNeedTextSE&&n._textSE&&n._textSE.stop()}),n.on("removed",function(){n._textSE&&aoba.soundManager.remove(n._textSE,h)}),n}return o(t,e),s(t,[{key:"_showArrow",value:function(){!this.isAuto&&this._textControl.lock&&(this._arrow.show(),this._tween?(this._arrow.x=this._arrowPosition.x,this._arrow.y=this._arrowPosition.y,this._tween.resume()):this._tween=aoba.Tween.new(this._arrow).by({x:5,y:5},500,"easeOutQuad").by({x:-5,y:-5},500,"easeOutQuad").loop())}},{key:"_hideArrow",value:function(){this._tween&&this._tween.pause(),this._arrow.hide()}},{key:"_isNeedTextSE",get:function(){return this._speakerText.text===p.default.t("speaker.producer")||this._speakerText.text===p.default.t("speaker.ceo")||this._speakerText.text===p.default.t("speaker.judge")}}]),t}(u.default.ScenarioPlayer);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={learnSkill:"sounds/se/229.m4a",unlockSkill:"sounds/se/230.m4a"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ceoReportSP:"sounds/se/270.m4a",ceoReportTotalFan:"sounds/se/271.m4a",effectStart2:"sounds/se/263.m4a",effectStart3:"sounds/se/264.m4a",effectStart4:"sounds/se/265.m4a",glossEffect:"sounds/se/266.m4a",glossEffectSSR:"sounds/se/266b.m4a",fesIdolRankIcon:"sounds/se/267.m4a",fesIdolRankIconS:"sounds/se/269.m4a",graph:"sounds/se/268.m4a"}},function(e,t,n){"use strict";function r(e){var t={};return l(e,function(e,n){l(e,function(e){t[e]=n})}),t}function i(e){var t=r(_);return t[e]||t[h.call(e,/-/,1)[0]]||t.en}function a(e,t){return m[i(e)](t)}function o(e,t,n){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var r=e,i="number"==typeof t?{smart_count:t}:t;if(null!=i.smart_count&&r){var o=h.call(r,y);r=f(o[a(n||"en",i.smart_count)]||o[0])}return r=p.call(r,v,function(e,t){return c(i,t)&&null!=i[t]?p.call(i[t],g,b):e})}function s(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?o:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||d}var l=n(842),u=n(844),c=n(377),f=n(846),d=function(e){u(!1,e)},p=String.prototype.replace,h=String.prototype.split,y="||||",m={arabic:function(e){return e<3?e:e%100>=3&&e%100<=10?3:e%100>=11?4:5},chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},_={arabic:["ar"],chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru","lt"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]},g=/\$/g,b="$$",v=/%\{(.*?)\}/g;s.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},s.prototype.extend=function(e,t){l(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.extend(e,r):this.phrases[r]=e},this)},s.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:l(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.unset(e,r):delete this.phrases[r]},this)},s.prototype.clear=function(){this.phrases={}},s.prototype.replace=function(e){this.clear(),this.extend(e)},s.prototype.t=function(e,t){var n,r,i=null==t?{}:t;if("string"==typeof this.phrases[e])n=this.phrases[e];else if("string"==typeof i._)n=i._;else if(this.onMissingKey){var a=this.onMissingKey;r=a(e,i,this.currentLocale)}else this.warn('Missing translation for key: "'+e+'"'),r=e;return"string"==typeof n&&(r=o(n,i,this.currentLocale)),r},s.prototype.has=function(e){return c(this.phrases,e)},s.transformPhrase=o,e.exports=s},function(e,t,n){function r(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),
"[object Array]"===l.call(e)?i(e,t,n):"string"==typeof e?a(e,t,n):o(e,t,n)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)u.call(e,r)&&t.call(n,e[r],r,e)}function a(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function o(e,t,n){for(var r in e)u.call(e,r)&&t.call(n,e[r],r,e)}var s=n(843);e.exports=r;var l=Object.prototype.toString,u=Object.prototype.hasOwnProperty},function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var r=Object.prototype.toString},function(e,t,n){"use strict";(function(t){var n=function(){};"production"!==t.env.NODE_ENV&&(n=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var i=2;i<r;i++)n[i-2]=arguments[i];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var a=0,o="Warning: "+t.replace(/%s/g,function(){return n[a++]});try{throw new Error(o)}catch(e){}}}),e.exports=n}).call(t,n(43))},function(e,t,n){"use strict";var r=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,a=r.call(arguments,1),o=function(){if(this instanceof n){var i=t.apply(this,a.concat(r.call(arguments)));return Object(i)===i?i:this}return t.apply(e,a.concat(r.call(arguments)))},s=Math.max(0,t.length-a.length),l=[],u=0;u<s;u++)l.push("$"+u);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n}},function(e,t,n){"use strict";var r=n(232),i=n(378),a=n(379),o=n(381),s=n(857),l=r.call(Function.call,o());i(l,{getPolyfill:o,implementation:a,shim:s}),e.exports=l},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Array.prototype.slice,o=n(848),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),h=function(e){if("undefined"==typeof window||!p)return f(e);try{return f(e)}catch(e){return!1}},y=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),a=o(e),s=t&&"[object String]"===i.call(e),f=[];if(!t&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var d=u&&n;if(s&&e.length>0&&!r.call(e,0))for(var p=0;p<e.length;++p)f.push(String(p));if(a&&e.length>0)for(var y=0;y<e.length;++y)f.push(String(y));else for(var m in e)d&&"prototype"===m||!r.call(e,m)||f.push(String(m));if(l)for(var _=h(e),g=0;g<c.length;++g)_&&"constructor"===c[g]||!r.call(e,c[g])||f.push(c[g]);return f};y.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(o(t)?a.call(t):t)}}}else Object.keys=y;return Object.keys||y},e.exports=y},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,i){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var o=0;o<a;o++)t.call(i,e[o],o,e);else for(var s in e)n.call(e,s)&&t.call(i,e[s],s,e)}},function(e,t,n){"use strict";var r=n(851),i=n(852),a=n(853),o=n(854),s=n(380),l=n(855),u=n(377),c={ToPrimitive:l,ToBoolean:function(e){return!!e},ToNumber:function(e){return Number(e)},ToInteger:function(e){var t=this.ToNumber(e);return r(t)?0:0!==t&&i(t)?a(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(r(t)||0===t||!i(t))return 0;var n=a(t)*Math.floor(Math.abs(t));return o(n,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:s,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:r(e)&&r(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(u(e,n)&&!t[n])return!1;var r=u(e,"[[Value]]"),i=u(e,"[[Get]]")||u(e,"[[Set]]");if(r&&i)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!u(e,"[[Get]]")&&!u(e,"[[Set]]"))},IsDataDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!u(e,"[[Value]]")&&!u(e,"[[Writable]]"))},IsGenericDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e)},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new TypeError("ToPropertyDescriptor requires an object");var t={};if(u(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),u(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),u(e,"value")&&(t["[[Value]]"]=e.value),u(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),u(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(u(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("setter must be a function");t["[[Set]]"]=r}if((u(t,"[[Get]]")||u(t,"[[Set]]"))&&(u(t,"[[Value]]")||u(t,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=c},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){
var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=n(856),a=n(380),o={"[[DefaultValue]]":function(e,t){var n=t||("[object Date]"===r.call(e)?String:Number);if(n===String||n===Number){var o,s,l=n===String?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<l.length;++s)if(a(e[l[s]])&&(o=e[l[s]](),i(o)))return o;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e,t){return i(e)?e:o["[[DefaultValue]]"](e,t)}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(378),i=n(381);e.exports=function(){var e=i();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(74),u=r(l),c=n(106),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"switch",value:function(e,t){var n=this._sounds[e];return n&&n.stop(),"bgm"===e?(t=t.split("/"),t=t[t.length-1],t=t.replace(f.default.SOUND_EXTENSION,""),n=aoba.soundManager.playBGM(t)):n=aoba.soundManager.play(t,{group:e}).on("ended",function(){n=null}),n&&!n._buffer&&(n._source&&n._source.disconnect(),n=null),this._sounds[e]=n,n}},{key:"removeAll",value:function(){this.removeSeAndVoice()}}]),t}(u.default.SoundController);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(74),c=r(u),f=n(26),d=r(f),p=function(e){return new Promise(function(t){aoba.Tween.new(e).to({scaleX:1.2,scaleY:1.2},180,"easeOutBack").wait(600).to({alpha:0},180).call(t)})},h=function(e){return new Promise(function(t){aoba.Tween.new(e).to({y:e.y-50,scaleX:.66,scaleY:.66,alpha:.66},100).to({y:e.y+100,scaleX:0,scaleY:0,alpha:0},200,"easeInQuad").call(t)})},y=function(){return aoba.Graphics.new().beginFill(0,.5).drawRect(0,0,aoba.game.width,aoba.game.height)},m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._baseLayer=y().addToAt(n,0),n._baseLayer.alpha=0,n}return o(t,e),s(t,[{key:"appear",value:function(){var _t=[],_to=this.items,_css=["F270A0","40B070","F0A010"];for(var i in _to){_t[i]=_to[0==i?1:1==i?0:i].children[0]._text;dlog("%c"+_t[i],"font-weight:bold;font-size:2em;background:#"+_css[i])}l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appear",this).call(this),aoba.Tween.new(this._baseLayer).to({alpha:1},160),this.items.forEach(function(e){var t=aoba.Tween.new(e).from({scaleX:0,scaleY:0},80),n=aoba.Tween.new(e).by({y:12},640).by({y:-12},640).loop();t.chain(n)})}},{key:"disappear",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disappear",this).call(this)}},{key:"onSelectItem",value:function(e){var n=this;aoba.soundManager.playSE(d.default.commu.answerSelect),this.emit("selectStart");var r=[];aoba.Tween.new(this._baseLayer).to({alpha:0},160),this.items.forEach(function(t){var n=e.target===t?p:h;r.push(n(t))}),Promise.all(r).then(function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onSelectItem",n).call(n,e)})}},{key:"forceSelect",value:function(){this.items[0].emit("tap")}}]),t}(c.default.SelectList);t.default=m},function(e,t,n){var r=n(10);e.exports=function(e){return r(e).replace(/<\/?[^>]+>/g,"")}},function(e,t){e.exports=function(e,t){return null==e?[]:(e=String(e),t=~~t,t>0?e.match(new RegExp(".{1,"+t+"}","g")):[e])}},function(e,t,n){var r=n(75);e.exports=function(e){return r(e).replace(/\s\s+/g," ")}},function(e,t,n){var r=n(10);e.exports=function(e,t){return e=r(e),t=r(t),0===e.length||0===t.length?0:e.split(t).length-1}},function(e,t,n){var r=n(10);e.exports=function(e){return r(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})}},function(e,t,n){var r=n(10),i=n(866),a="[";for(var o in i)a+=o;a+="]";var s=new RegExp(a,"g");e.exports=function(e){return r(e).replace(s,function(e){return"&"+i[e]+";"})}},function(e,t){var n={"\xa2":"cent","\xa3":"pound","\xa5":"yen","\u20ac":"euro","\xa9":"copy","\xae":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};e.exports=n},function(e,t,n){var r=n(10),i=n(868);e.exports=function(e){return r(e).replace(/\&([^;]+);/g,function(e,t){var n;return t in i?i[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e})}},function(e,t){var n={nbsp:" ",cent:"\xa2",pound:"\xa3",yen:"\xa5",euro:"\u20ac",copy:"\xa9",reg:"\xae",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};e.exports=n},function(e,t,n){var r=n(387);e.exports=function(e,t,n){return r(e,t,0,n)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n,i){var a=!0===i?"gi":"g",o=new RegExp(t,a);return r(e).replace(o,n)}},function(e,t,n){var r=n(10);e.exports=function(e,t){return""===t||-1!==r(e).indexOf(t)}},function(e,t,n){var r=n(10),i=[].slice;e.exports=function(){var e=i.call(arguments),t=e.shift();return e.join(r(t))}},function(e,t){e.exports=function(e){return null==e?[]:String(e).split(/\r\n?|\n/)}},function(e,t,n){function r(e){for(var t=e.match(/^[\s\\t]*/gm),n=t[0].length,r=1;r<t.length;r++)n=Math.min(t[r].length,n);return n}var i=n(10);e.exports=function(e,t){e=i(e);var n,a=r(e);return 0===a?e:(n="string"==typeof t?new RegExp("^"+t,"gm"):new RegExp("^[ \\t]{"+a+"}","gm"),e.replace(n,""))}},function(e,t,n){var r=n(235);e.exports=function(e){return r(e).reverse().join("")}},function(e,t,n){var r=n(10),i=n(388);e.exports=function(e,t,n){return e=r(e),t=""+t,n=null==n?0:Math.min(i(n),e.length),e.lastIndexOf(t,n)===n}},function(e,t,n){var r=n(10),i=n(388);e.exports=function(e,t,n){
return e=r(e),t=""+t,(n=void 0===n?e.length-t.length:Math.min(i(n),e.length)-t.length)>=0&&e.indexOf(t,n)===n}},function(e,t,n){var r=n(389);e.exports=function(e){return r(e,-1)}},function(e,t,n){var r=n(389);e.exports=function(e){return r(e,1)}},function(e,t,n){var r=n(10);e.exports=function(e){return r(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}},function(e,t,n){var r=n(233),i=n(390),a=n(10);e.exports=function(e){return e=a(e),r(i(e.replace(/[\W_]/g," ")).replace(/\s/g,""))}},function(e,t,n){var r=n(233),i=n(391),a=n(75);e.exports=function(e){return r(a(i(e).replace(/_id$/,"").replace(/_/g," ")))}},function(e,t,n){var r=n(10),i=n(234),a=String.prototype.trimLeft;e.exports=function(e,t){return e=r(e),!t&&a?a.call(e):(t=i(t),e.replace(new RegExp("^"+t+"+"),""))}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){return e=r(e),n=n||"...",t=~~t,e.length>t?e.slice(0,t)+n:e}},function(e,t,n){var r=n(10),i=n(236);e.exports=function(e,t,n){if(e=r(e),t=~~t,n=null!=n?String(n):"...",e.length<=t)return e;var a=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},o=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,a);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):i(o.slice(0,o.length-1)),(o+n).length>e.length?e:e.slice(0,o.length)+n}},function(e,t,n){var r=n(383),i=n(75);e.exports=function(e,t){return r(e)?[]:i(e,t).split(t||/\s+/)}},function(e,t,n){var r=n(166);e.exports=function(e,t,n){return r(e,t,n)}},function(e,t,n){var r=n(166);e.exports=function(e,t,n){return r(e,t,n,"right")}},function(e,t,n){var r=n(166);e.exports=function(e,t,n){return r(e,t,n,"both")}},function(e,t,n){var r=n(220);e.exports=r(n(394).sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},function(e,t,n){var r=n(220);e.exports=r(n(394).vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},function(e,t){e.exports=function(e,t){if(null==e)return 0;var n=Math.pow(10,isFinite(t)?t:0);return Math.round(e*n)/n}},function(e,t){e.exports=function(e,t,n,r){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),r="string"==typeof r?r:",";var i=e.split("."),a=i[0],o=i[1]?(n||".")+i[1]:"";return a.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+o}},function(e,t,n){var r=n(10);e.exports=function(e,t){e=r(e),t=r(t);var n=t?e.indexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},function(e,t,n){var r=n(10);e.exports=function(e,t){e=r(e),t=r(t);var n=t?e.lastIndexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},function(e,t,n){var r=n(10);e.exports=function(e,t){e=r(e),t=r(t);var n=t?e.indexOf(t):-1;return~n?e.slice(0,n):e}},function(e,t,n){var r=n(10);e.exports=function(e,t){e=r(e),t=r(t);var n=e.lastIndexOf(t);return~n?e.slice(0,n):e}},function(e,t,n){var r=n(395);e.exports=function(e,t,n){return r(e,t,n,!0)}},function(e,t,n){var r=n(75),i=n(392),a=n(386);e.exports=function(e){return r(i(a(e).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},function(e,t,n){var r=n(396);e.exports=function(e,t){return r(e,t||'"')}},function(e,t){e.exports=function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e}},function(e,t,n){var r=n(10),i=n(393);e.exports=function(e,t,n){if(e=r(e),t=~~t,null==n)return i(e,t);for(var a=[];t>0;a[--t]=e);return a.join(n)}},function(e,t){e.exports=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=/(\.\d+|\d+|\D+)/g,r=String(e).match(n),i=String(t).match(n),a=Math.min(r.length,i.length),o=0;o<a;o++){var s=r[o],l=i[o];if(s!==l){var u=+s,c=+l;return u===u&&c===c?u>c?1:-1:s<l?-1:1}}return r.length!=i.length?r.length-i.length:e<t?-1:1}},function(e,t,n){var r=n(10);e.exports=function(e,t){"use strict";if(e=r(e),t=r(t),e===t)return 0;if(!e||!t)return Math.max(e.length,t.length);for(var n=new Array(t.length+1),i=0;i<n.length;++i)n[i]=i;for(i=0;i<e.length;++i){for(var a=i+1,o=0;o<t.length;++o){var s=a;a=n[o]+(e.charAt(i)===t.charAt(o)?0:1);var l=s+1;a>l&&(a=l),l=n[o+1]+1,a>l&&(a=l),n[o]=s}n[o]=a}return a}},function(e,t,n){function r(e,t){var n,r,i=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(r=t[n]){if(r.test&&r.test(e))return!0;if(r.toLowerCase()===i)return!0}}var i=n(75);e.exports=function(e,t,n){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:(e=i(e),!!r(e,t||["true","1"])||!r(e,n||["false","0"])&&void 0)}},function(e,t){e.exports=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(e[t]=this[t]);return e}},function(e,t,n){var r=n(10);e.exports=function(e,t){e=r(e),t=t||{};var n,i=t.width||75,a=t.seperator||"\n",o=t.cut||!1,s=t.preserveSpaces||!1,l=t.trailingSpaces||!1;if(i<=0)return e;if(o){var u=0;for(n="";u<e.length;)u%i==0&&u>0&&(n+=a),n+=e.charAt(u),u++;if(l)for(;u%i>0;)n+=" ",u++;return n}var c=e.split(" "),f=0;for(n="";c.length>0;){if(1+c[0].length+f>i&&f>0){if(s)n+=" ",f++;else if(l)for(;f<i;)n+=" ",f++;n+=a,f=0}f>0&&(n+=" ",f++),n+=c[0],f+=c[0].length,c.shift()}if(l)for(;f<i;)n+=" ",f++;return n}},function(e,t,n){var r=n(10);e.exports=function(e,t){return e=r(e),0===e.length||"function"!=typeof t?e:e.replace(/./g,t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(397),f=r(c),d=n(250),p=r(d),h={hasGlobalMenu:!0},y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"addHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"l";return u.default.commonUiHelper.createHeader(e,t).addTo(this)}},{key:"addInfoButton",value:function(e){return u.default.DecideButton.new("question_circle_button.png").addTo(this,342,34).on("tap",e)}},{key:"addGlobalMenuButton",value:function(){var e=this;return f.default.new().on("openGlobalMenu",function(){e.emit("openGlobalMenu")}).addTo(this)}},{key:"addBackButton",value:function(e){return u.default.CancelButton.new("back_button.png").addTo(this,51,589).on("tap",e)}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hasGlobalMenu:!0};e=Object.assign({},h,e);var n=e,r=n.headerTitle,i=n.tips,a=n.onTapBackButton,o=n.hasGlobalMenu,s=t.new();if(r&&s.addHeader(r),a&&s.addBackButton(a),i){var l=function(){s.interactiveChildren=!1,u.default.TipsPage.loadAndAddTo(i,s).then(function(){s.emit("openTips"),s.interactiveChildren=!0})};if(s.addInfoButton(l),e.firstTimeKey){var c="TheFirstTimeOf"+e.firstTimeKey;if(!localStorage.getItem(c)){var f=p.default.new().addTo(s);setTimeout(function(){l(),localStorage.setItem(c,"true"),f.destroy(),f=null},500)}}}return o&&s.addGlobalMenuButton(),s}},{key:"getDisplayedListForFirstTime",get:function(){return{evolution:"Evolution",fesIdolDetail:"FesIdolDetail",gasha:"Gasha",idolDetail:"IdolDetail",mission:"Mission",reserveIdol:"ReserveIdol",shop:"Shop",supportIdol:"SupportIdol",training:"Traning"}}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"myPageButton",fullName:"uiLayer/myPageButton",anchor:{
x:.5,y:.5},type:"sprite",key:"my_page_button.png",x:1097,y:129}],name:"uiLayer",fullName:"uiLayer",type:"container",x:0,y:0},{name:"menuButton",fullName:"menuButton",anchor:{x:1,y:.5},type:"sprite",key:"menu_button.png",x:1136,y:41}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(0),f=r(c),d=n(912),p=r(d),h=n(167),y=r(h),m=n(914),_=r(m),g=n(917),b=r(g),v=n(919),w=r(v),k=n(921),S=r(k),I=n(924),E=r(I),A=n(926),x=r(A),C=n(400),T=r(C),P=n(929),O=r(P),N=n(401),M=r(N),R=n(932),D=r(R),F=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(p.default,{pfMenuButton:{class:f.default.DecideButton},presentBadge:y.default.new(),bannerList:_.default.new(),bannerSlide:b.default.new(),eventBanner:w.default.new(),fesButton:S.default.new(),gashaButton:E.default.new(),idolButton:x.default.new(),missionButton:T.default.new(),presentButton:O.default.new(),produceButton:M.default.new(),status:D.default.new(),noticeButton:{class:f.default.DecideButton},itemButton:{class:f.default.DecideButton},shopButton:{class:f.default.DecideButton}});return e._presentBadge=n.presentBadge,e._bannerList=n.bannerList,e._bannerSlide=n.bannerSlide,e._eventBannerUI=n.eventBanner,e._fesButton=n.fesButton,e._gashaButton=n.gashaButton,e._idolButton=n.idolButton,e._missionButton=n.missionButton,e._produceButton=n.produceButton,e._itemButton=n.itemButton,e._shopButton=n.shopButton,e._presentButton=n.presentButton,e._noticeButton=n.noticeButton,e._status=n.status,n.pfMenuButton.on("tap",function(){return e.emit("platformMenu")}),e._fesButton.on("tap",function(){return e.emit("fes")}),e._gashaButton.on("tap",function(){return e.emit("gasha")}),e._idolButton.on("tap",function(){return e.emit("idol")}),e._missionButton.on("tap",function(){return e.emit("mission")}),e._produceButton.on("tap",function(){return e.emit("produce")}),e._itemButton.on("tap",function(){return e.emit("item")}),e._shopButton.on("tap",function(){return e.emit("shop")}),e._presentButton.on("tap",function(){return e.emit("present")}),e._noticeButton.on("tap",function(){return e.emit("notice")}),e._bannerList.on("selectBanner",function(t){return e.emit("selectBanner",t)}),e._bannerList.on("close",function(){return e._closeBannerList()}),e._bannerSlide.on("selectBanner",function(t){return e.emit("selectBanner",t)}),e._bannerSlide.on("more",function(){return e._openBannerList()}),e._eventBannerUI.on("tap",function(){return e._onTapEventBanner()}),e._status.on("platform",function(){return e.emit("profile")}),e._popLayer=aoba.Container.new().addTo(e).hide(),aoba.Graphics.new().beginFill(0,.5).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT).addTo(e._popLayer,0,0,{interactive:!0}),e}return o(t,e),s(t,[{key:"setUserStatus",value:function(e){this._status.setMoney(e.getMoney()),this._status.setJewel(e.getJewel()),this._produceButton.setUserStamina(e.userStamen)}},{key:"setMyPage",value:function(e){this._fesButton.setUserFesTicket(e.userFesTicket),this._fesButton.setUnitEvaluation(e.fesDeckRank,e.userFesDeck.totalEvaluation),this._gashaButton.setIsNewGashaExist(e.isNewGashaExist()),this._missionButton.setCleardMissionCount(e.clearedMissionsCount),this._presentButton.setPresentCount(e.receivablePresentsCount),this.setProduceIdol(e.produceIdol),this._setSpecialBanner(e.specialBanner,e.isNewEventExist()),this._setGeneralBanners(e.generalBanners)}},{key:"setProduceIdol",value:function(e){this._produceButton.setProduceIdol(e)}},{key:"setEarthUserInfo",value:function(e){this._status.setNickname(e.nickname),this._status.setPlatformButtonVisible(!e.isGuest())}},{key:"_setSpecialBanner",value:function(e,t){this._specialBanner=e,e&&(this._eventBannerUI.setEventBannerImage(aoba.Texture.fromImage(e.getImagePath()),t),this._eventBannerUI.show())}},{key:"_setGeneralBanners",value:function(e){this._generalBanners=e,0!==e.length?(this._bannerSlide.setBanners(e),this._bannerSlide.show()):this._bannerSlide.hide()}},{key:"_openBannerList",value:function(){this._generalBanners&&0!==this._generalBanners.length&&(this._bannerList.open(this._generalBanners),this._bannerSlide.hide())}},{key:"_closeBannerList",value:function(){this._bannerList.close(),this._bannerSlide.show()}},{key:"_onTapEventBanner",value:function(){this._specialBanner&&this.emit("selectBanner",this._specialBanner)}}]),t}(aoba.Container);t.default=F},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"status",fullName:"status",type:"container",x:8,y:8},{name:"noticeButton",fullName:"noticeButton",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_notice_button.png",x:39,y:98},{name:"presentButton",fullName:"presentButton",type:"container",x:7,y:138},{name:"shopButton",fullName:"shopButton",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_shop_button.png",x:39,y:257},{name:"itemButton",fullName:"itemButton",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_item_button.png",x:39,y:336},{name:"eventBanner",fullName:"eventBanner",visible:!1,type:"container",x:904,y:311},{name:"gashaButton",fullName:"gashaButton",type:"container",x:420,y:499},{name:"idolButton",fullName:"idolButton",type:"container",x:550,y:499},{name:"missionButton",fullName:"missionButton",type:"container",x:680,y:519},{name:"produceButton",fullName:"produceButton",type:"container",x:811,y:459},{name:"fesButton",fullName:"fesButton",type:"container",x:974,y:459},{name:"bannerSlide",fullName:"bannerSlide",pivot:{x:0,y:1},type:"container",x:4,y:636},{name:"bannerList",fullName:"bannerList",visible:!1,pivot:{x:0,y:1},type:"container",x:0,y:640},{name:"pfMenuButton",fullName:"pfMenuButton",anchor:{x:.5,y:.5},type:"sprite",key:"pf_menu_button.png",x:1006,y:40}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"badgeBase",fullName:"badgeBase",type:"sprite",key:"badge_base.png",x:0,y:0},{name:"num",fullName:"num",anchor:{x:.5,y:.5},type:"text",text:"5",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-HV",fontSize:14},rotation:0,x:16,y:16}],name:"",fullName:"",visible:!1,type:"container",x:762,y:530}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),
Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(915),f=r(c),d=n(24),p=r(d),h=n(22),y=r(h),m=n(3),_=r(m),g={WIDTH:230,HEIGHT:501},b=612,v=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{title:{text:_.default.t("commonMenu.bannerListTitle")},closeIconButton:{class:u.default.CancelButton}}),r=n.bannerListBaseLayer,o=aoba.Sprite.new("banner_list_base_top.png").addTo(r),s=aoba.Sprite.new("banner_list_base_bottom.png").addTo(r);s.y=b-s.height;var l=aoba.Sprite.new("banner_list_base_middle.png").addTo(r);l.y=o.height,l.height=b-o.height-s.height;var c=n.topBanner;return e._scrollRectX=c.x,e._scrollRectY=c.y,e._scrollBarArea=n.scrollBarArea,e._closeButton=n.closeIconButton,e._closeButton.on("tap",function(){return e.emit("close")}),aoba.Graphics.new().beginFill(0,0).drawRect(-40,-45,80,90).addTo(e._closeButton),e}return o(t,e),s(t,[{key:"open",value:function(e){this._setBanners(e),this.scale=aoba.p(0,0),this.show(),aoba.FrameTween.new(this).to({scaleX:1,scaleY:1},5,"easeOutQuad")}},{key:"close",value:function(){aoba.FrameTween.new(this).to({scaleX:0,scaleY:0},5,"easeInQuad")}},{key:"updateBanners",value:function(e){this._setBanners(e)}},{key:"_setBanners",value:function(e){this._banners=e,this._contentsLayer&&(this._contentsLayer.destroy({children:!0}),this._scrollBar.destroy({children:!0}),this._scrollRect.destroy({children:!0})),this._contentsLayer=this._createBannerListLayer(e),this._scrollBar=p.default.new({width:18}),this._scrollBarBase=u.default.commonUiHelper.createScrollBarBase({width:8,height:g.HEIGHT}),this._scrollRect=y.default.new({width:g.WIDTH,height:g.HEIGHT,container:this._contentsLayer,scrollBar:this._scrollBar,scrollBarBase:this._scrollBarBase}).addTo(this,this._scrollRectX,this._scrollRectY),this._scrollBarBase.addTo(this,this._scrollBarArea.x,this._scrollBarArea.y)}},{key:"_createBannerListLayer",value:function(e){for(var t=this,n=aoba.Container.new(),r=0;r<e.length;++r)!function(r){var i=e[r];aoba.Sprite.new(i.getImagePath()).addTo(n,0,120*r,{interactive:!0}).on("tap",function(){return t.emit("selectBanner",i)})}(r);return n}}]),t}(aoba.Container);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bannerListBaseLayer",fullName:"bannerListBaseLayer",type:"container",x:8,y:-621},{name:"title",fullName:"title",type:"text",text:"\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u4e00\u89a7",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:22},anchor:{x:0,y:.5},rotation:0,x:45,y:-600},{name:"topBanner",fullName:"topBanner",visible:!1,type:"sprite",key:"idol_icon_none.png",x:43,y:-567},{name:"scrollBarArea",fullName:"scrollBarArea",type:"container",x:283,y:-567},{name:"closeIconButton",fullName:"closeIconButton",anchor:{x:.5,y:.5},type:"sprite",key:"close_icon_button.png",x:34,y:-35}],name:"",fullName:"",visible:!1,pivot:{x:0,y:1},type:"container",x:0,y:640}},function(e,t,n){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AsciiFilter",function(){return a}),n.d(t,"AdvancedBloomFilter",function(){return f}),n.d(t,"BloomFilter",function(){return m}),n.d(t,"BulgePinchFilter",function(){return b}),n.d(t,"ColorReplaceFilter",function(){return k}),n.d(t,"ConvolutionFilter",function(){return E}),n.d(t,"CrossHatchFilter",function(){return C}),n.d(t,"DotFilter",function(){return O}),n.d(t,"DropShadowFilter",function(){return R}),n.d(t,"EmbossFilter",function(){return B}),n.d(t,"GlowFilter",function(){return U}),n.d(t,"GodrayFilter",function(){return V}),n.d(t,"OutlineFilter",function(){return q}),n.d(t,"MultiColorReplaceFilter",function(){return J}),n.d(t,"PixelateFilter",function(){return $}),n.d(t,"RGBSplitFilter",function(){return ne}),n.d(t,"ShockwaveFilter",function(){return ae}),n.d(t,"SimpleLightmapFilter",function(){return le}),n.d(t,"TiltShiftFilter",function(){return he}),n.d(t,"TiltShiftAxisFilter",function(){return fe}),n.d(t,"TiltShiftXFilter",function(){return de}),n.d(t,"TiltShiftYFilter",function(){return pe}),n.d(t,"TwistFilter",function(){return _e}),n.d(t,"ZoomBlurFilter",function(){return ve}),"undefined"==typeof PIXI||void 0===PIXI.filters)throw"PixiJS is required";var r="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",i="varying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n    return floor( coord / size ) * size;\n}\n\nvec2 getMod(vec2 coord, vec2 size)\n{\n    return mod( coord , size) / size;\n}\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    // get the rounded color..\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\n    pixCoord = unmapCoord(pixCoord);\n\n    vec4 color = texture2D(uSampler, pixCoord);\n\n    // determine the character to use\n    float gray = (color.r + color.g + color.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    // get the mod..\n    vec2 modd = getMod(coord, vec2(pixelSize));\n\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\n\n}",a=function(e){function t(t){void 0===t&&(t=8),e.call(this,r,i),this.size=t}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.uniforms.pixelSize},n.size.set=function(e){this.uniforms.pixelSize=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.AsciiFilter=a;var o="\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main() {\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",s="\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform float threshold;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    // A simple & fast algorithm for getting brightness.\n    // It's inaccuracy , but good enought for this feature.\n    float _max = max(max(color.r, color.g), color.b);\n    float _min = min(min(color.r, color.g), color.b);\n    float brightness = (_max + _min) * 0.5;\n\n    if(brightness > threshold) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n",l=function(e){function t(t){void 0===t&&(t=.5),e.call(this,o,s),this.threshold=t}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={threshold:{configurable:!0}};return n.threshold.get=function(){return this.uniforms.threshold},n.threshold.set=function(e){this.uniforms.threshold=e},Object.defineProperties(t.prototype,n),t
}(PIXI.Filter),u="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main() {\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",c="uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D bloomTexture;\nuniform float bloomScale;\nuniform float brightness;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb *= brightness;\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\n    bloomColor.rgb *= bloomScale;\n    gl_FragColor = color + bloomColor;\n}\n",f=function(e){function t(t){e.call(this,u,c),"number"==typeof t&&(t={threshold:t}),t=Object.assign({threshold:.5,bloomScale:1,brightness:1,blur:8,quality:4,resolution:PIXI.settings.RESOLUTION,kernelSize:5},t),this.bloomScale=t.bloomScale,this.brightness=t.brightness;var n=t.blur,r=t.quality,i=t.resolution,a=t.kernelSize,o=PIXI.filters,s=o.BlurXFilter,f=o.BlurYFilter;this._extract=new l(t.threshold),this._blurX=new s(n,r,i,a),this._blurY=new f(n,r,i,a)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={threshold:{configurable:!0},blur:{configurable:!0}};return t.prototype.apply=function(e,t,n,r,i){var a=e.getRenderTarget(!0);this._extract.apply(e,t,a,!0,i),this._blurX.apply(e,a,a,!0,i),this._blurY.apply(e,a,a,!0,i),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=a,e.applyFilter(this,t,n,r),e.returnRenderTarget(a)},n.threshold.get=function(){return this._extract.threshold},n.threshold.set=function(e){this._extract.threshold=e},n.blur.get=function(){return this._blurX.blur},n.blur.set=function(e){this._blurX.blur=this._blurY.blur=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.AdvancedBloomFilter=f;var d=PIXI.filters,p=d.BlurXFilter,h=d.BlurYFilter,y=d.AlphaFilter,m=function(e){function t(t,n,r,i){void 0===t&&(t=2),void 0===n&&(n=4),void 0===r&&(r=PIXI.settings.RESOLUTION),void 0===i&&(i=5),e.call(this);var a,o;"number"==typeof t?(a=t,o=t):t instanceof PIXI.Point?(a=t.x,o=t.y):Array.isArray(t)&&(a=t[0],o=t[1]),this.blurXFilter=new p(a,n,r,i),this.blurYFilter=new h(o,n,r,i),this.blurYFilter.blendMode=PIXI.BLEND_MODES.SCREEN,this.defaultFilter=new y}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={blur:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0}};return t.prototype.apply=function(e,t,n){var r=e.getRenderTarget(!0);this.defaultFilter.apply(e,t,n),this.blurXFilter.apply(e,t,r),this.blurYFilter.apply(e,r,n),e.returnRenderTarget(r)},n.blur.get=function(){return this.blurXFilter.blur},n.blur.set=function(e){this.blurXFilter.blur=this.blurYFilter.blur=e},n.blurX.get=function(){return this.blurXFilter.blur},n.blurX.set=function(e){this.blurXFilter.blur=e},n.blurY.get=function(){return this.blurYFilter.blur},n.blurY.set=function(e){this.blurYFilter.blur=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.BloomFilter=m;var _="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",g="uniform float radius;\nuniform float strength;\nuniform vec2 center;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    gl_FragColor = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        gl_FragColor *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n}\n",b=function(e){function t(t,n,r){e.call(this,_,g),this.center=t||[.5,.5],this.radius=n||100,this.strength=r||1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={radius:{configurable:!0},strength:{configurable:!0},center:{configurable:!0}};return t.prototype.apply=function(e,t,n){this.uniforms.dimensions[0]=t.sourceFrame.width,this.uniforms.dimensions[1]=t.sourceFrame.height,e.applyFilter(this,t,n)},n.radius.get=function(){return this.uniforms.radius},n.radius.set=function(e){this.uniforms.radius=e},n.strength.get=function(){return this.uniforms.strength},n.strength.set=function(e){this.uniforms.strength=e},n.center.get=function(){return this.uniforms.center},n.center.set=function(e){this.uniforms.center=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.BulgePinchFilter=b;var v="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",w="varying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(texture, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n",k=function(e){function t(t,n,r){void 0===t&&(t=16711680),void 0===n&&(n=0),void 0===r&&(r=.4),e.call(this,v,w),this.originalColor=t,this.newColor=n,this.epsilon=r}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={originalColor:{configurable:!0},newColor:{configurable:!0},epsilon:{configurable:!0}};return n.originalColor.set=function(e){var t=this.uniforms.originalColor;"number"==typeof e?(PIXI.utils.hex2rgb(e,t),this._originalColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._originalColor=PIXI.utils.rgb2hex(t))},n.originalColor.get=function(){return this._originalColor},n.newColor.set=function(e){var t=this.uniforms.newColor;"number"==typeof e?(PIXI.utils.hex2rgb(e,t),this._newColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._newColor=PIXI.utils.rgb2hex(t))},n.newColor.get=function(){return this._newColor},n.epsilon.set=function(e){this.uniforms.epsilon=e},n.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.ColorReplaceFilter=k
;var S="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",I="precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",E=function(e){function t(t,n,r){e.call(this,S,I),this.matrix=t,this.width=n,this.height=r}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={matrix:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return n.matrix.get=function(){return this.uniforms.matrix},n.matrix.set=function(e){this.uniforms.matrix=new Float32Array(e)},n.width.get=function(){return 1/this.uniforms.texelSize[0]},n.width.set=function(e){this.uniforms.texelSize[0]=1/e},n.height.get=function(){return 1/this.uniforms.texelSize[1]},n.height.set=function(e){this.uniforms.texelSize[1]=1/e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.ConvolutionFilter=E;var A="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",x="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n",C=function(e){function t(){e.call(this,A,x)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(PIXI.Filter);PIXI.filters.CrossHatchFilter=C;var T="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",P="precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * filterArea.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",O=function(e){function t(t,n){void 0===t&&(t=1),void 0===n&&(n=5),e.call(this,T,P),this.scale=t,this.angle=n}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={scale:{configurable:!0},angle:{configurable:!0}};return n.scale.get=function(){return this.uniforms.scale},n.scale.set=function(e){this.uniforms.scale=e},n.angle.get=function(){return this.uniforms.angle},n.angle.set=function(e){this.uniforms.angle=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.DotFilter=O;var N="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",M="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n\n    // Un-premultiply alpha before applying the color\n    if (sample.a > 0.0) {\n        sample.rgb /= sample.a;\n    }\n\n    // Premultiply alpha again\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}",R=function(e){function t(t,n,r,i,a){void 0===t&&(t=45),void 0===n&&(n=5),void 0===r&&(r=2),void 0===i&&(i=0),void 0===a&&(a=.5),e.call(this),this.tintFilter=new PIXI.Filter(N,M),this.blurFilter=new PIXI.filters.BlurFilter,this.blurFilter.blur=r,this.rotation=t,this.padding=n,this.distance=n,this.alpha=a,this.color=i}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={distance:{configurable:!0},rotation:{configurable:!0},blur:{configurable:!0},alpha:{configurable:!0},color:{configurable:!0}};return t.prototype.apply=function(t,n,r){var i=t.getRenderTarget();i.transform=new PIXI.Matrix,i.transform.translate(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle)),this.tintFilter.apply(t,n,i,!0),this.blurFilter.apply(t,i,r),e.prototype.apply.call(this,t,n,r),i.transform=null,t.returnRenderTarget(i)},t.prototype.updatePadding=function(){this.padding=this.distance+2*this.blur},n.distance.get=function(){return this._distance},n.distance.set=function(e){this._distance=e,this.updatePadding()},n.rotation.get=function(){return this.angle/PIXI.DEG_TO_RAD},n.rotation.set=function(e){this.angle=e*PIXI.DEG_TO_RAD},n.blur.get=function(){return this.blurFilter.blur},n.blur.set=function(e){this.blurFilter.blur=e,this.updatePadding()},n.alpha.get=function(){return this.tintFilter.uniforms.alpha},n.alpha.set=function(e){this.tintFilter.uniforms.alpha=e},n.color.get=function(){return PIXI.utils.rgb2hex(this.tintFilter.uniforms.color)},n.color.set=function(e){PIXI.utils.hex2rgb(e,this.tintFilter.uniforms.color)},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.DropShadowFilter=R
;var D="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",F="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float strength;\nuniform vec4 filterArea;\n\n\nvoid main(void)\n{\n\tvec2 onePixel = vec2(1.0 / filterArea);\n\n\tvec4 color;\n\n\tcolor.rgb = vec3(0.5);\n\n\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\n\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\n\n\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\n\n\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\n\n\tgl_FragColor = vec4(color.rgb * alpha, alpha);\n}\n",B=function(e){function t(t){void 0===t&&(t=5),e.call(this,D,F),this.strength=t}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={strength:{configurable:!0}};return n.strength.get=function(){return this.uniforms.strength},n.strength.set=function(e){this.uniforms.strength=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.EmbossFilter=B;var j="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",L="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float distance;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec4 glowColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nvec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float totalAlpha = 0.0;\n    float maxTotalAlpha = 0.0;\n    float cosAngle;\n    float sinAngle;\n    vec2 displaced;\n    for (float angle = 0.0; angle <= PI * 2.0; angle += %QUALITY_DIST%) {\n       cosAngle = cos(angle);\n       sinAngle = sin(angle);\n       for (float curDistance = 1.0; curDistance <= %DIST%; curDistance++) {\n           displaced.x = vTextureCoord.x + cosAngle * curDistance * px.x;\n           displaced.y = vTextureCoord.y + sinAngle * curDistance * px.y;\n           curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n           totalAlpha += (distance - curDistance) * curColor.a;\n           maxTotalAlpha += (distance - curDistance);\n       }\n    }\n    maxTotalAlpha = max(maxTotalAlpha, 0.0001);\n\n    ownColor.a = max(ownColor.a, 0.0001);\n    ownColor.rgb = ownColor.rgb / ownColor.a;\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;\n    float resultAlpha = (ownColor.a + outerGlowAlpha);\n    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);\n}\n",U=function(e){function t(t,n,r,i,a){void 0===t&&(t=10),void 0===n&&(n=4),void 0===r&&(r=0),void 0===i&&(i=16777215),void 0===a&&(a=.1),e.call(this,j,L.replace(/%QUALITY_DIST%/gi,""+(1/a/t).toFixed(7)).replace(/%DIST%/gi,""+t.toFixed(7))),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.distance=t,this.color=i,this.outerStrength=n,this.innerStrength=r}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={color:{configurable:!0},distance:{configurable:!0},outerStrength:{configurable:!0},innerStrength:{configurable:!0}};return n.color.get=function(){return PIXI.utils.rgb2hex(this.uniforms.glowColor)},n.color.set=function(e){PIXI.utils.hex2rgb(e,this.uniforms.glowColor)},n.distance.get=function(){return this.uniforms.distance},n.distance.set=function(e){this.uniforms.distance=e},n.outerStrength.get=function(){return this.uniforms.outerStrength},n.outerStrength.set=function(e){this.uniforms.outerStrength=e},n.innerStrength.get=function(){return this.uniforms.innerStrength},n.innerStrength.set=function(e){this.uniforms.innerStrength=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.GlowFilter=U
;var H="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",G="vec3 mod289(vec3 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 mod289(vec4 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 permute(vec4 x)\n{\n    return mod289(((x * 34.0) + 1.0) * x);\n}\nvec4 taylorInvSqrt(vec4 r)\n{\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\nvec3 fade(vec3 t)\n{\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n}\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\n{\n    float sum = 0.0;\n    float sc = 1.0;\n    float totalgain = 1.0;\n    for (float i = 0.0; i < 6.0; i++)\n    {\n        sum += totalgain * pnoise(P * sc, rep);\n        sc *= lacunarity;\n        totalgain *= gain;\n    }\n    return abs(sum);\n}\n",z="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform vec2 angleDir;\nuniform float gain;\nuniform float lacunarity;\nuniform float time;\n\n${perlin}\n\nvoid main(void) {\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    float xx = angleDir.x;\n    float yy = angleDir.y;\n\n    float d = (xx * coord.x) + (yy * coord.y);\n    vec3 dir = vec3(d, d, 0.0);\n\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\n    noise = mix(noise, 0.0, 0.3);\n    //fade vertically.\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\n    mist.a = 1.0;\n    gl_FragColor += mist;\n}\n",V=function(e){function t(t,n,r,i){void 0===t&&(t=30),void 0===n&&(n=.5),void 0===r&&(r=2.5),void 0===i&&(i=0),e.call(this,H,z.replace("${perlin}",G)),this.angle=t,this.gain=n,this.lacunarity=r,this.time=i}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={angle:{configurable:!0},gain:{configurable:!0},lacunarity:{configurable:!0}};return t.prototype.apply=function(e,t,n,r){var i=t.sourceFrame.width,a=t.sourceFrame.height;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=a,this.uniforms.time=this.time,this.uniforms.angleDir[1]=this._angleSin*a/i,e.applyFilter(this,t,n,r)},n.angle.get=function(){return this._angle},n.angle.set=function(e){var t=e*PIXI.DEG_TO_RAD;this._angleCos=Math.cos(t),this._angleSin=Math.sin(t),this.uniforms.angleDir[0]=this._angleCos,this._angle=e},n.gain.get=function(){return this.uniforms.gain},n.gain.set=function(e){this.uniforms.gain=e},n.lacunarity.get=function(){return this.uniforms.lacunarity},n.lacunarity.set=function(e){this.uniforms.lacunarity=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.GodrayFilter=V;var K="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",W="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float thickness;\nuniform vec4 outlineColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nvec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    vec2 displaced;\n    for (float angle = 0.; angle < PI * 2.; angle += %THICKNESS% ) {\n        displaced.x = vTextureCoord.x + thickness * px.x * cos(angle);\n        displaced.y = vTextureCoord.y + thickness * px.y * sin(angle);\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n",q=function(e){function t(t,n){void 0===t&&(t=1),void 0===n&&(n=0),e.call(this,K,W.replace(/%THICKNESS%/gi,(1/t).toFixed(7))),this.thickness=t,this.uniforms.outlineColor=new Float32Array([0,0,0,1]),this.color=n}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={color:{configurable:!0},thickness:{configurable:!0}};return n.color.get=function(){return PIXI.utils.rgb2hex(this.uniforms.outlineColor)},n.color.set=function(e){PIXI.utils.hex2rgb(e,this.uniforms.outlineColor)},n.thickness.get=function(){return this.uniforms.thickness},n.thickness.set=function(e){this.uniforms.thickness=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.OutlineFilter=q
;var X="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",Y="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float epsilon;\n\nconst int MAX_COLORS = %maxColors%;\n\nuniform vec3 originalColors[MAX_COLORS];\nuniform vec3 targetColors[MAX_COLORS];\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    float alpha = gl_FragColor.a;\n    if (alpha < 0.0001)\n    {\n      return;\n    }\n\n    vec3 color = gl_FragColor.rgb / alpha;\n\n    for(int i = 0; i < MAX_COLORS; i++)\n    {\n      vec3 origColor = originalColors[i];\n      if (origColor.r < 0.0)\n      {\n        break;\n      }\n      vec3 colorDiff = origColor - color;\n      if (length(colorDiff) < epsilon)\n      {\n        vec3 targetColor = targetColors[i];\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\n        return;\n      }\n    }\n}\n",J=function(e){function t(t,n,r){void 0===n&&(n=.05),void 0===r&&(r=null),r=r||t.length,e.call(this,X,Y.replace(/%maxColors%/g,r)),this.epsilon=n,this._maxColors=r,this._replacements=null,this.uniforms.originalColors=new Float32Array(3*r),this.uniforms.targetColors=new Float32Array(3*r),this.replacements=t}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={replacements:{configurable:!0},maxColors:{configurable:!0},epsilon:{configurable:!0}};return n.replacements.set=function(e){var t=this.uniforms.originalColors,n=this.uniforms.targetColors,r=e.length;if(r>this._maxColors)throw"Length of replacements ("+r+") exceeds the maximum colors length ("+this._maxColors+")";t[3*r]=-1;for(var i=0;i<r;i++){var a=e[i],o=a[0];"number"==typeof o?o=PIXI.utils.hex2rgb(o):a[0]=PIXI.utils.rgb2hex(o),t[3*i]=o[0],t[3*i+1]=o[1],t[3*i+2]=o[2];var s=a[1];"number"==typeof s?s=PIXI.utils.hex2rgb(s):a[1]=PIXI.utils.rgb2hex(s),n[3*i]=s[0],n[3*i+1]=s[1],n[3*i+2]=s[2]}this._replacements=e},n.replacements.get=function(){return this._replacements},t.prototype.refresh=function(){this.replacements=this._replacements},n.maxColors.get=function(){return this._maxColors},n.epsilon.set=function(e){this.uniforms.epsilon=e},n.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.MultiColorReplaceFilter=J;var Q="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Z="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 size;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n\treturn floor( coord / size ) * size;\n}\n\nvoid main(void)\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = pixelate(coord, size);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord);\n}\n",$=function(e){function t(t){void 0===t&&(t=10),e.call(this,Q,Z),this.size=t}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.uniforms.size},n.size.set=function(e){"number"==typeof e&&(e=[e,e]),this.uniforms.size=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.PixelateFilter=$;var ee="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",te="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",ne=function(e){function t(t,n,r){void 0===t&&(t=[-10,0]),void 0===n&&(n=[0,10]),void 0===r&&(r=[0,0]),e.call(this,ee,te),this.red=t,this.green=n,this.blue=r}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0}};return n.red.get=function(){return this.uniforms.red},n.red.set=function(e){this.uniforms.red=e},n.green.get=function(){return this.uniforms.green},n.green.set=function(e){this.uniforms.green=e},n.blue.get=function(){return this.uniforms.blue},n.blue.set=function(e){this.uniforms.blue=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.RGBSplitFilter=ne;var re="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ie="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nuniform vec2 center;\n\nuniform float amplitude;\nuniform float wavelength;\n// uniform float power;\nuniform float brightness;\nuniform float speed;\nuniform float radius;\n\nuniform float time;\n\nconst float PI = 3.14159;\n\nvoid main()\n{\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\n    float maxRadius = radius / filterArea.x;\n    float currentRadius = time * speed / filterArea.x;\n\n    float fade = 1.0;\n\n    if (maxRadius > 0.0) {\n        if (currentRadius > maxRadius) {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\n    }\n\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\n    dir.y *= filterArea.y / filterArea.x;\n    float dist = length(dir);\n\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    vec2 diffUV = normalize(dir);\n\n    float diff = (dist - currentRadius) / halfWavelength;\n\n    float p = 1.0 - pow(abs(diff), 2.0);\n\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\n\n    vec2 offset = diffUV * powDiff / filterArea.xy;\n\n    // Do clamp :\n    vec2 coord = vTextureCoord + offset;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    gl_FragColor = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        gl_FragColor *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    // No clamp :\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\n\n    gl_FragColor.rgb *= 1.0 + (brightness - 1.0) * p * fade;\n}\n",ae=function(e){function t(t,n,r){void 0===t&&(t=[0,0]),void 0===n&&(n={}),void 0===r&&(r=0),e.call(this,re,ie),this.center=t,Array.isArray(n)&&(n={}),n=Object.assign({amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},n),this.amplitude=n.amplitude,this.wavelength=n.wavelength,this.brightness=n.brightness,this.speed=n.speed,this.radius=n.radius,this.time=r}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={center:{configurable:!0},amplitude:{
configurable:!0},wavelength:{configurable:!0},brightness:{configurable:!0},speed:{configurable:!0},radius:{configurable:!0}};return t.prototype.apply=function(e,t,n){this.uniforms.time=this.time,e.applyFilter(this,t,n)},n.center.get=function(){return this.uniforms.center},n.center.set=function(e){this.uniforms.center=e},n.amplitude.get=function(){return this.uniforms.amplitude},n.amplitude.set=function(e){this.uniforms.amplitude=e},n.wavelength.get=function(){return this.uniforms.wavelength},n.wavelength.set=function(e){this.uniforms.wavelength=e},n.brightness.get=function(){return this.uniforms.brightness},n.brightness.set=function(e){this.uniforms.brightness=e},n.speed.get=function(){return this.uniforms.speed},n.speed.set=function(e){this.uniforms.speed=e},n.radius.get=function(){return this.uniforms.radius},n.radius.set=function(e){this.uniforms.radius=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.ShockwaveFilter=ae;var oe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",se="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D uLightmap;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\nuniform vec4 ambientColor;\nvoid main() {\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\n    vec4 light = texture2D(uLightmap, lightCoord);\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\n    vec3 intensity = ambient + light.rgb;\n    vec3 finalColor = diffuseColor.rgb * intensity;\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\n}\n",le=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=1),e.call(this,oe,se),this.uniforms.ambientColor=new Float32Array([0,0,0,r]),this.texture=t,this.color=n}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={texture:{configurable:!0},color:{configurable:!0},alpha:{configurable:!0}};return t.prototype.apply=function(e,t,n,r){this.uniforms.dimensions[0]=t.sourceFrame.width,this.uniforms.dimensions[1]=t.sourceFrame.height,e.applyFilter(this,t,n,r)},n.texture.get=function(){return this.uniforms.uLightmap},n.texture.set=function(e){this.uniforms.uLightmap=e},n.color.set=function(e){var t=this.uniforms.ambientColor;"number"==typeof e?(PIXI.utils.hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this._color=PIXI.utils.rgb2hex(t))},n.color.get=function(){return this._color},n.alpha.get=function(){return this.uniforms.ambientColor[3]},n.alpha.set=function(e){this.uniforms.ambientColor[3]=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.SimpleLightmapFilter=le;var ue="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ce="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",fe=function(e){function t(t,n,r,i){void 0===t&&(t=100),void 0===n&&(n=600),void 0===r&&(r=null),void 0===i&&(i=null),e.call(this,ue,ce),this.uniforms.blur=t,this.uniforms.gradientBlur=n,this.uniforms.start=r||new PIXI.Point(0,window.innerHeight/2),this.uniforms.end=i||new PIXI.Point(600,window.innerHeight/2),this.uniforms.delta=new PIXI.Point(30,30),this.uniforms.texSize=new PIXI.Point(window.innerWidth,window.innerHeight),this.updateDelta()}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return t.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},n.blur.get=function(){return this.uniforms.blur},n.blur.set=function(e){this.uniforms.blur=e},n.gradientBlur.get=function(){return this.uniforms.gradientBlur},n.gradientBlur.set=function(e){this.uniforms.gradientBlur=e},n.start.get=function(){return this.uniforms.start},n.start.set=function(e){this.uniforms.start=e,this.updateDelta()},n.end.get=function(){return this.uniforms.end},n.end.set=function(e){this.uniforms.end=e,this.updateDelta()},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.TiltShiftAxisFilter=fe;var de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,t=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+t*t);this.uniforms.delta.x=e/n,this.uniforms.delta.y=t/n},t}(fe);PIXI.filters.TiltShiftXFilter=de;var pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,t=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+t*t);this.uniforms.delta.x=-t/n,this.uniforms.delta.y=e/n},t}(fe);PIXI.filters.TiltShiftYFilter=pe;var he=function(e){function t(t,n,r,i){void 0===t&&(t=100),void 0===n&&(n=600),void 0===r&&(r=null),void 0===i&&(i=null),e.call(this),this.tiltShiftXFilter=new de(t,n,r,i),this.tiltShiftYFilter=new pe(t,n,r,i)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return t.prototype.apply=function(e,t,n){var r=e.getRenderTarget(!0);this.tiltShiftXFilter.apply(e,t,r),this.tiltShiftYFilter.apply(e,r,n),e.returnRenderTarget(r)},n.blur.get=function(){return this.tiltShiftXFilter.blur},n.blur.set=function(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e},n.gradientBlur.get=function(){return this.tiltShiftXFilter.gradientBlur},n.gradientBlur.set=function(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e},n.start.get=function(){return this.tiltShiftXFilter.start},n.start.set=function(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e},n.end.get=function(){return this.tiltShiftXFilter.end},n.end.set=function(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.TiltShiftFilter=he
;var ye="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",me="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n",_e=function(e){function t(t,n,r){void 0===t&&(t=200),void 0===n&&(n=4),void 0===r&&(r=20),e.call(this,ye,me),this.radius=t,this.angle=n,this.padding=r}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={offset:{configurable:!0},radius:{configurable:!0},angle:{configurable:!0}};return n.offset.get=function(){return this.uniforms.offset},n.offset.set=function(e){this.uniforms.offset=e},n.radius.get=function(){return this.uniforms.radius},n.radius.set=function(e){this.uniforms.radius=e},n.angle.get=function(){return this.uniforms.angle},n.angle.set=function(e){this.uniforms.angle=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.TwistFilter=_e;var ge="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",be="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uCenter;\nuniform float uStrength;\nuniform float uInnerRadius;\nuniform float uRadius;\n\nconst float MAX_KERNEL_SIZE = 32.0;\n\nfloat random(vec3 scale, float seed) {\n    // use the fragment position for a different seed per-pixel\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main() {\n\n    float minGradient = uInnerRadius * 0.3;\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\n\n    float gradient = uRadius * 0.3;\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\n\n    float countLimit = MAX_KERNEL_SIZE;\n\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\n\n    float strength = uStrength;\n\n    float delta = 0.0;\n    float gap;\n    if (dist < innerRadius) {\n        delta = innerRadius - dist;\n        gap = minGradient;\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\n        delta = dist - radius;\n        gap = gradient;\n    }\n\n    if (delta > 0.0) {\n        float normalCount = gap / filterArea.x;\n        delta = (normalCount - delta) / normalCount;\n        countLimit *= delta;\n        strength *= delta;\n        if (countLimit < 1.0)\n        {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n    }\n\n    // randomize the lookup values to hide the fixed number of samples\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    float total = 0.0;\n    vec4 color = vec4(0.0);\n\n    dir *= strength;\n\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\n        float weight = 4.0 * (percent - percent * percent);\n        vec2 p = vTextureCoord + dir * percent;\n        vec4 sample = texture2D(uSampler, p);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n\n        if (t > countLimit){\n            break;\n        }\n    }\n\n    gl_FragColor = color / total;\n\n    // switch back from pre-multiplied alpha\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n\n}\n",ve=function(e){function t(t,n,r,i){void 0===t&&(t=.1),void 0===n&&(n=[0,0]),void 0===r&&(r=0),void 0===i&&(i=-1),e.call(this,ge,be),this.center=n,this.strength=t,this.innerRadius=r,this.radius=i}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={center:{configurable:!0},strength:{configurable:!0},innerRadius:{configurable:!0},radius:{configurable:!0}};return n.center.get=function(){return this.uniforms.uCenter},n.center.set=function(e){this.uniforms.uCenter=e},n.strength.get=function(){return this.uniforms.uStrength},n.strength.set=function(e){this.uniforms.uStrength=e},n.innerRadius.get=function(){return this.uniforms.uInnerRadius},n.innerRadius.set=function(e){this.uniforms.uInnerRadius=e},n.radius.get=function(){return this.uniforms.uRadius},n.radius.set=function(e){(e<0||e===1/0)&&(e=-1),this.uniforms.uRadius=e},Object.defineProperties(t.prototype,n),t}(PIXI.Filter);PIXI.filters.ZoomBlurFilter=ve},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(918),f=r(c),d=n(237),p=r(d),h=n(7),y=r(h),m=n(238),_=r(m),g=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{moreButton:{class:u.default.DecideButton}});return e._indicatorNode=n.indicator,e._moreButton=n.moreButton,e._banner=n["bannerContainer/bannerList"],e._swipableContainer=null,e._moreButton.on("tap",function(){return e.emit("more")}),aoba.Graphics.new().beginFill(0,0).drawRect(-40,-45,80,90).addTo(e._moreButton),n.bannerContainer.mask=n["bannerContainer/mask"],e._intervalX=n["bannerContainer/mask"].width,e._listAddIndex=1,e.interactive=!0,e.on("touchend",e._onTouchEnd,e),e.on("touchendoutside",e._onTouchEnd,e),e}return o(t,e),s(t,[{key:"setBanners",value:function(e){this._banners=e,this._displayBannerNum=Math.min(e.length,4),this._maxIndex=e.length-1,this._indicator&&this._indicator.destroy({children:!0}),this._indicator=p.default.new(this._displayBannerNum,"my_page_indicator_on.png","my_page_indicator_off.png"),this._indicator.addTo(this,this._indicatorNode.x-this._indicator.width/2,this._indicatorNode.y),this._banner.destroyChildren(),this._swipableContainer=null,0===this._maxIndex?this._createBannerAlone(e[0]):this._createCarouselBanner(),this._slideTime=Date.now()}},{key:"_createBannerAlone",value:function(e){this._bannerIndex=0,
aoba.Sprite.fromImage(e.getImagePath()).setInteractive(!0).on("tap",this._onTapBanner,this).addTo(this._banner,0,0),this._banner.interactive=!0}},{key:"_createCarouselBanner",value:function(){var e=this;this._bannerIndex=0,this._swipableContainer=_.default.new(!0).on("tap",this._onTapBanner,this).addTo(this._banner),this._banners.forEach(function(t,n){aoba.Sprite.fromImage(t.getImagePath()).addTo(e._swipableContainer,n*e._intervalX,0)}),aoba.Sprite.fromImage(this._banners[this._maxIndex].getImagePath()).addTo(this._swipableContainer,-this._intervalX,0),aoba.Sprite.fromImage(this._banners[0].getImagePath()).addTo(this._swipableContainer,(this._maxIndex+1)*this._intervalX,0),this._swipableContainer.on("endSwipe",this._moveWithSwipe,this),this._bannerX=0}},{key:"_moveWithSwipe",value:function(e){if(0!==e){var t=Math.ceil(Math.abs(e)/this._intervalX);this._listAddIndex=Math.min(t,this._maxIndex);for(var n=0;n<this._listAddIndex;n++)e>0?this._backward():this._forward();this._listAddIndex=1}}},{key:"_forward",value:function(){var e=!1;this._isMaxIndex?(e=!0,this._bannerIndex=0):this._bannerIndex++,this._moveContentList(e,!0)}},{key:"_backward",value:function(){var e=!1;this._isMinIndex?(e=!0,this._bannerIndex=this._maxIndex):this._bannerIndex--,this._moveContentList(e,!1)}},{key:"_moveContentList",value:function(e,t){var n=this;if(this._movingPromise)return void this._movingPromise.then(function(){return n._moveContentList(e,t)});this._tween&&this._tween.remove(),this._bannerX=t?this._bannerX-this._intervalX:this._bannerX+this._intervalX,this._movingPromise=new Promise(function(r){n._tween=aoba.FrameTween.new(n._swipableContainer).to({x:n._bannerX},12,"easeOutExpo").call(function(){n._tween=null,e&&(n._bannerX=t?0:-n._maxIndex*n._intervalX,n._swipableContainer.x=n._bannerX),r()}),n._indicator.moveTo(n._bannerIndex)}),this._movingPromise.then(function(){n._movingPromise=null})}},{key:"ezgUpdate",value:function(){0!==this._maxIndex&&this._updateBannerIndex()}},{key:"_updateBannerIndex",value:function(){if(this._displayBannerNum>0){var e=Date.now();if(e-this._slideTime>5e3){var t=!1;this._bannerIndex===this._maxIndex&&(t=!0),this._bannerIndex=(this._bannerIndex+1)%this._displayBannerNum,this._moveContentList(t,!0),this._slideTime=e,this._isStatusBusy=!1}}}},{key:"_onTouchEnd",value:function(e){this._swipableContainer&&this._swipableContainer.emit("touchend",e)}},{key:"_onTapBanner",value:function(){this._banners[this._bannerIndex]&&(aoba.soundManager.playSE(y.default.ui.decide),this.emit("selectBanner",this._banners[this._bannerIndex]))}},{key:"_isMaxIndex",get:function(){return this._bannerIndex===this._maxIndex}},{key:"_isMinIndex",get:function(){return 0===this._bannerIndex}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bannerSlideBase",fullName:"bannerSlideBase",type:"sprite",key:"banner_slide_base.png",x:0,y:-144},{name:"indicator",fullName:"indicator",pivot:{x:.5,y:0},type:"container",x:182,y:-18},{children:[{name:"bannerList",fullName:"bannerContainer/bannerList",type:"container",x:11,y:8},{name:"mask",fullName:"bannerContainer/mask",visible:!1,type:"graphics",fill:0,alpha:1,width:249,height:120,shape:"rect",x:0,y:0}],name:"bannerContainer",fullName:"bannerContainer",type:"container",x:56,y:-139},{name:"moreButton",fullName:"moreButton",anchor:{x:.5,y:.5},type:"sprite",key:"more_button.png",x:30,y:-31}],name:"",fullName:"",pivot:{x:0,y:1},type:"container",x:4,y:636}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(920),f=r(c),d=n(7),p=r(d),h=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{eventBanner:{interactive:!0}});return e._newBadge=n.newBadge.hide(),e._eventBanner=n.eventBanner,e._eventBanner.on("tap",function(){aoba.soundManager.playSE(p.default.ui.decide),e.emit("tap")}),e}return o(t,e),s(t,[{key:"setEventBannerImage",value:function(e,t){this._newBadge.visible=t,this._eventBanner.texture=e,u.default.commonUiHelper.createSpriteEmphasizeTween(this._eventBanner)}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"eventBanner",fullName:"eventBanner",type:"sprite",key:"idol_icon_none.png",x:0,y:0},{name:"newBadge",fullName:"newBadge",type:"sprite",key:"common_menu_badge_new.png",x:163,y:15}],name:"",fullName:"",visible:!1,type:"container",x:904,y:311}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(0),f=r(c),d=n(922),p=r(d),h=n(399),y=r(h),m=n(239),_=r(m),g={fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14,stroke:7539617,strokeThickness:6},b=function(t){function n(){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),r=t.fromData(p.default,{"button/nextTicketRecoveryTime":{style:g},button:{class:f.default.DecideButton}});return t._campaignBadge=r.campaignBadge.hide(),t._campaignBadge.mask=aoba.Sprite.new("bubble_mask.png").addTo(t,t._campaignBadge.x,t._campaignBadge.y,{anchor:t._campaignBadge.anchor}),t._unitEvaluation=r["button/unitEvaluation"],t._unitEvaluationBase=r["button/unitEvaluationBase"],t._button=r.button,t._exceedTickets=r["button/exceedTickets"],t._tickets=[],e(u.default.app.MAX_FES_TICKET).times(function(e){t._tickets.push(r["button/ticket"+(e+1)].hide())}),t._nextTicketRecoveryTime=r["button/nextTicketRecoveryTime"],t._button.on("tap",function(){return t.emit("tap")}),t.on("added",t._onAdded,t),t.on("removed",t._onRemoved,t),t}return o(n,t),s(n,[{key:"setUnitEvaluation",value:function(e,t){this._unitEvaluation.text=t;var n=_.default.new(e);n.addToAt(this._button,this._unitEvaluationBase,0,-62,{scale:.8}),n.pivot.set(48,42),n.hasStarIcons||(n.y+=10);var r="F"===e.rank?"common_menu_button_ribbon_f.png":"common_menu_button_ribbon.png";this._unitEvaluationBase.texture=aoba.Texture.fromFrame(r),this._unitEvaluationBase.show()}},{key:"setUserFesTicket",value:function(e){this._userFesTicket=e,this._updateTicket()}},{key:"setIsStaminaCampaignBeingHeld",value:function(e){this._campaignBadge.visible=e,
e&&f.default.commonUiHelper.createGlossEffect().addTo(this._campaignBadge)}},{key:"_onAdded",value:function(){var e=this;this._updateTicketInterval||(this._updateTicketInterval=setInterval(function(){return e._updateTicket()},1e3))}},{key:"_onRemoved",value:function(){this._updateTicketInterval&&(clearInterval(this._updateTicketInterval),this._updateTicketInterval=null)}},{key:"_updateTicket",value:function(){if(this._userFesTicket){var e=this._userFesTicket.calcCurrentTicket();if(e!==this._prevTicket&&(this._setTicket(e),this._prevTicket=e),e<u.default.app.MAX_FES_TICKET){var t=this._userFesTicket.calcNextTicketRecoveryTime(),n=Math.floor(t/60/1e3)%60,r=Math.floor(t/1e3)%60;this._nextTicketRecoveryTime.text=y.default.nextTicketRecoveryTime(n,r)}else this._nextTicketRecoveryTime.text=""}}},{key:"_setTicket",value:function(e){this._exceedTickets.text=y.default.exceedTickets(Math.max(0,e-u.default.app.MAX_FES_TICKET)),this._tickets.forEach(function(t,n){t.visible=n<e})}}]),n}(aoba.Container);t.default=b}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"ticket1",fullName:"button/ticket1",type:"sprite",key:"common_menu_fes_ticket.png",x:-17,y:33},{name:"ticket2",fullName:"button/ticket2",type:"sprite",key:"common_menu_fes_ticket.png",x:-9,y:33},{name:"ticket3",fullName:"button/ticket3",type:"sprite",key:"common_menu_fes_ticket.png",x:-1,y:33},{name:"ticket4",fullName:"button/ticket4",type:"sprite",key:"common_menu_fes_ticket.png",x:7,y:33},{name:"ticket5",fullName:"button/ticket5",type:"sprite",key:"common_menu_fes_ticket.png",x:15,y:33},{name:"exceedTickets",fullName:"button/exceedTickets",anchor:{x:.5,y:.5},type:"text",text:"+0",style:{fill:13341924,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:32,y:41},{name:"nextTicketRecoveryTime",fullName:"button/nextTicketRecoveryTime",anchor:{x:.5,y:.5},type:"text",text:"\u3042\u3068 30:00",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:-4,y:61},{name:"unitEvaluationBase",fullName:"button/unitEvaluationBase",type:"sprite",key:"common_menu_button_ribbon.png",x:-70,y:-41},{name:"unitEvaluation",fullName:"button/unitEvaluation",anchor:{x:.5,y:.5},type:"text",text:"9,999,999",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:0,y:-11}],name:"button",fullName:"button",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_fes_button.png",x:78,y:100},{name:"campaignBadge",fullName:"campaignBadge",anchor:{x:.5,y:1},type:"sprite",key:"common_menu_campaign_badge_stamina_halving.png",x:76,y:46}],name:"",fullName:"",type:"container",x:974,y:459}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"icon",fullName:"icon",anchor:{x:.5,y:.5},type:"sprite",key:"fes_deck_rank_icon_ss.png",x:48,y:48},{name:"deckRankStarsBase",fullName:"deckRankStarsBase",type:"sprite",key:"deck_rank_stars_base.png",x:13,y:62},{name:"starIcons",fullName:"starIcons",type:"container",x:15,y:64}],name:"",fullName:"",type:"container",x:113,y:519}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(925),f=r(c),d=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{button:{class:u.default.DecideButton}});return e._newBadge=n.newBadge.hide(),e._campaignBadge=n.campaignBadge.hide(),e._campaignBadge.mask=aoba.Sprite.new("bubble_mask.png").addTo(e,e._campaignBadge.x,e._campaignBadge.y,{anchor:e._campaignBadge.anchor}),e._button=n.button,e._button.on("tap",function(){return e.emit("tap")}),e}return o(t,e),s(t,[{key:"setIsNewGashaExist",value:function(e){if(this._newBadge.visible=e,this._newBadgeEffect&&(this._newBadgeEffect.destroy(),this._newBadgeEffect=null),e)this._newBadgeEffect=aoba.Sprite.new(this._newBadge.texture).addTo(this._newBadge),this._newBadgeEffect.anchor.set(this._newBadge.anchor.x,this._newBadge.anchor.y),this._newBadgeEffect.blendMode=aoba.BLEND_MODES.ADD,aoba.Tween.new(this._newBadgeEffect).to({alpha:0,scaleX:.9,scaleY:.9},600).to({alpha:.8,scaleX:1,scaleY:1},600).loop()}},{key:"setIsSSRRateCampaignBeingHeld",value:function(e){this._campaignBadge.visible=e,e&&u.default.commonUiHelper.createGlossEffect().addTo(this._campaignBadge)}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"button",fullName:"button",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_gasha_button.png",x:61,y:80},{name:"campaignBadge",fullName:"campaignBadge",anchor:{x:.5,y:1},type:"sprite",key:"common_menu_campaign_badge_ssr_rate.png",x:60,y:45},{name:"newBadge",fullName:"newBadge",type:"sprite",key:"common_menu_badge_new.png",x:64,y:38}],name:"",fullName:"",type:"container",x:420,y:499}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(927),f=r(c),d=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{button:{class:u.default.DecideButton}});return e._campaignBadge=n.campaignBadge.hide(),e._campaignBadge.mask=aoba.Sprite.new("bubble_mask.png").addTo(e,e._campaignBadge.x,e._campaignBadge.y,{anchor:e._campaignBadge.anchor}),e._button=n.button,e._button.on("tap",function(){return e.emit("tap")}),e}return o(t,e),s(t,[{key:"setIsTrainingSuccessRateCampaignBeingHeld",value:function(e){this._campaignBadge.visible=e,e&&u.default.commonUiHelper.createGlossEffect().addTo(this._campaignBadge)}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"button",fullName:"button",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_idol_button.png",x:61,y:80},{name:"campaignBadge",fullName:"campaignBadge",anchor:{x:.5,y:1},type:"sprite",key:"common_menu_campaign_badge_training_success_rate.png",x:60,y:46}],name:"",fullName:"",type:"container",x:550,y:499}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"button",fullName:"button",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_mission_button.png",x:60,y:60},{
name:"badge",fullName:"badge",visible:!1,type:"container",x:82,y:11}],name:"",fullName:"",type:"container",x:680,y:519}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(930),f=r(c),d=n(167),p=r(d),h=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{badge:p.default.new(),button:{class:u.default.DecideButton}});return e._badge=n.badge,e._button=n.button,e._button.on("tap",function(){return e.emit("tap")}),e}return o(t,e),s(t,[{key:"setPresentCount",value:function(e){this._badge.setNum(e)}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"button",fullName:"button",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_present_button.png",x:32,y:40},{name:"badge",fullName:"badge",visible:!1,type:"container",x:41,y:0}],name:"",fullName:"",type:"container",x:7,y:138}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"staminaGauge",fullName:"button/staminaGauge",type:"sprite",key:"common_menu_button_stamina_gauge.png",x:-45,y:33},{name:"stamina",fullName:"button/stamina",anchor:{x:1,y:.5},type:"text",text:"200/200",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:12},rotation:0,x:30,y:42},{name:"nextStaminaRecoveryTime",fullName:"button/nextStaminaRecoveryTime",anchor:{x:.5,y:.5},type:"text",text:"\u3042\u3068 30:00",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:-3,y:61},{name:"idolIconLayer",fullName:"button/idolIconLayer",type:"container",x:-35,y:-40}],name:"button",fullName:"button",anchor:{x:.5,y:.5},type:"sprite",key:"button.png",x:78,y:100},{name:"campaignBadge",fullName:"campaignBadge",anchor:{x:.5,y:1},type:"sprite",key:"common_menu_campaign_badge_stamina_halving.png",x:80,y:46}],name:"",fullName:"",type:"container",x:811,y:459}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(0),f=r(c),d=n(933),p=r(d),h=n(402),y=r(h),m=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(p.default,{platformButton:{class:f.default.DecideButton}});return e._jewel=n.jewel,e._money=n.money,e._nickname=n.nickname,e._platformButton=n.platformButton,e._jewel.text=0,e._money.text=0,e._nickname.text="",e._nickname.style.fontSize=18,e._platformButton.on("tap",function(){return e.emit("platform")}),aoba.Graphics.new().beginFill(0,0).drawRect(-48,-48,96,96).addTo(e._platformButton),e}return o(t,e),s(t,[{key:"setJewel",value:function(e){this._jewel.text=u.default.numberFormat(e)}},{key:"setMoney",value:function(e){this._money.text=u.default.numberFormat(e)}},{key:"setNickname",value:function(e){this._nickname.text=y.default.create(e,this._nickname.style,16*this._nickname.style.fontSize)}},{key:"setPlatformButtonVisible",value:function(e){this._platformButton.visible=e}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"commonMenuStatusBase",fullName:"commonMenuStatusBase",type:"sprite",key:"common_menu_status_base.png",x:379,y:0},{name:"nicknameBase",fullName:"nicknameBase",type:"sprite",key:"common_menu_nickname_base.png",x:0,y:0},{name:"platformButton",fullName:"platformButton",anchor:{x:.5,y:.5},type:"sprite",key:"right_circle_button.png",x:342,y:21},{name:"nickname",fullName:"nickname",type:"text",text:"\u3053\u3063\u3057\u30fc\u3053\u3063\u3057\u30fc\u3067\u3059",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:43,y:20},{name:"money",fullName:"money",anchor:{x:1,y:.5},type:"text",text:"8,888,888",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:551,y:22},{name:"jewel",fullName:"jewel",anchor:{x:1,y:.5},type:"text",text:"8,888,888",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:757,y:22}],name:"",fullName:"",type:"container",x:8,y:8}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"textDefault",fullName:"parts/textDefault",type:"text",text:"enza\u3078\u30e1\u30f3\u30d0\u30fc\u767b\u9332(\u7121\u6599)\u3059\u308b\u3053\u3068\u3067\u3001\r\u30b2\u30fc\u30e0\u5185\u3067\u4f7f\u3048\u308b\u30dd\u30a4\u30f3\u30c8\u304c\u3082\u3089\u3048\u307e\u3059\u3002\r\u4eca\u3059\u3050\u65b0\u898f\u30e1\u30f3\u30d0\u30fc\u767b\u9332\u3092\u3057\u3066\u7279\u5178\u3092\u30b2\u30c3\u30c8\u3057\u307e\u3057\u3087\u3046\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:22},anchor:{x:0,y:.5},rotation:0,x:17,y:119},{name:"textInvitation2",fullName:"parts/textInvitation2",type:"text",text:"enza\u3078\u30e1\u30f3\u30d0\u30fc\u767b\u9332(\u7121\u6599)\u3059\u308b\u3053\u3068\u3067\u3001\r\u30b2\u30fc\u30e0\u5185\u3067\u4f7f\u3048\u308b\u30dd\u30a4\u30f3\u30c8\u304c\u3082\u3089\u3048\u307e\u3059\u3002\r\u4eca\u3059\u3050\u65b0\u898f\u30e1\u30f3\u30d0\u30fc\u767b\u9332\u3092\u3057\u3066\u7279\u5178\u3092\u30b2\u30c3\u30c8\u3057\u307e\u3057\u3087\u3046\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:22},anchor:{x:0,y:.5},rotation:0,x:17,y:142},{name:"textInvitation1",fullName:"parts/textInvitation1",type:"text",text:"\u62db\u5f85\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001enza\u30e1\u30f3\u30d0\u30fc\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:22},anchor:{x:0,y:.5},rotation:0,x:11,y:75},{name:"txtNotice",fullName:"parts/txtNotice",type:"text",
text:"\u30b2\u30b9\u30c8\u30d7\u30ec\u30a4\u6642\u306e\u6ce8\u610f\u70b9\r\r\u30d7\u30ec\u30a4\u30c7\u30fc\u30bf\u304c\u7aef\u672b\u307e\u305f\u306f\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u6d88\u53bb\u3055\u308c\u305f\u5834\u5408\u3001\r\u9014\u4e2d\u304b\u3089\u306e\u518d\u958b\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\r\u65e2\u306benza\u30e1\u30f3\u30d0\u30fc\u306e\u65b9\u306f\u30ed\u30b0\u30a4\u30f3\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002\r\r\u306a\u304a\u3001\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3053\u3068\u3067\u30b2\u30b9\u30c8\u30d7\u30ec\u30a4\u30c7\u30fc\u30bf\u306f\u7834\u68c4\u3055\u308c\u307e\u3059\u3002",style:{fill:16199013,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:12,y:284},{name:"titleProvideRate",fullName:"parts/titleProvideRate",type:"text",text:"enza\u30e1\u30f3\u30d0\u30fc\u306b\u306a\u308d\u3046\uff01",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:0,y:13},{name:"iconNoticeRed",fullName:"parts/iconNoticeRed",anchor:{x:.5,y:.5},type:"sprite",key:"icon_notice_red.png",x:178,y:217},{name:"pfJoinButton",fullName:"parts/pfJoinButton",anchor:{x:.5,y:.5},type:"sprite",key:"pf_join_button.png",x:155,y:435},{name:"pfLoginButton",fullName:"parts/pfLoginButton",anchor:{x:.5,y:.5},type:"sprite",key:"pf_login_button.png",x:435,y:435},{name:"closeButton",fullName:"parts/closeButton",anchor:{x:.5,y:.5},type:"sprite",key:"close_button.png",x:295,y:525}],name:"parts",fullName:"parts",type:"container",x:52,y:26}],name:"",fullName:"",type:"container",x:222,y:15}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),l=r(s),u=n(3),c=r(u),f=n(936),d=r(f),p=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s={5:{2:c.default.t("produce.resumePop.semifinal"),1:c.default.t("produce.resumePop.final")}},u=void 0;return u=s[n]&&s[n][r]?s[n][r]:c.default.t("produce.resumePop.progress",{season:n,restOfSeasonWeek:r}),o.fromData(d.default,{vocal:{text:e.vocal},visual:{text:e.visual},dance:{text:e.dance},mental:{text:e.mental},skillPoint:{text:e.skillPoint},fan:{text:l.default.numberFormat(e.fan)},idolName:{text:e.name},idolIcon:{key:e.getImagePath("icon")},progress:{text:u}}),o}return o(t,e),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"produceResumePopContentBase",fullName:"produceResumePopContentBase",type:"sprite",key:"produce_resume_pop_content_base.png",x:-231,y:61},{name:"comment",fullName:"comment",type:"text",text:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u4e2d\u306e\u30a2\u30a4\u30c9\u30eb\u304c\u5b58\u5728\u3057\u307e\u3059\r\u3000\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3092\u518d\u958b\u3057\u307e\u3059\u304b\uff1f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-181,y:22},{name:"progress",fullName:"progress",type:"text",text:"\u30b7\u30fc\u30ba\u30f3 1 / \u6b8b\u308a 12\u9031",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-221,y:76},{name:"idolName",fullName:"idolName",type:"text",text:"\u30b7\u30e3\u30a4\u30cb\u30fc\u30a6\u30a3\u30f3\u30b0\u3000\u6afb\u6728\u771f\u4e43",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-220,y:107},{name:"idolIcon",fullName:"idolIcon",type:"sprite",key:"idol_icon_none.png",x:-214,y:148},{name:"vocal",fullName:"vocal",anchor:{x:1,y:.5},type:"text",text:"150",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:48,y:156},{name:"dance",fullName:"dance",anchor:{x:1,y:.5},type:"text",text:"200",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:212,y:156},{name:"visual",fullName:"visual",anchor:{x:1,y:.5},type:"text",text:"100",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:48,y:194},{name:"mental",fullName:"mental",anchor:{x:1,y:.5},type:"text",text:"50",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:212,y:194},{name:"skillPoint",fullName:"skillPoint",anchor:{x:1,y:.5},type:"text",text:"0",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:47,y:234},{name:"fan",fullName:"fan",anchor:{x:1,y:.5},type:"text",text:"0\u4eba",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:214,y:234}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:142}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"comment2",fullName:"comment2",type:"text",text:"\u9032\u884c\u4e2d\u306e\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3092\u7d42\u4e86\u3057\u3066\r\u3000\u65b0\u305f\u306a\u30a2\u30a4\u30c9\u30eb\u3092\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3057\u307e\u3059",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-171,y:22},{name:"iconNoticeRed",fullName:"iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:-231,y:89},{name:"comment1",fullName:"comment1",type:"text",text:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u4e2d\u306e\u30a2\u30a4\u30c9\u30eb\u306b\u306f\u4e8c\u5ea6\u3068\u4f1a\u3048\u307e\u305b\u3093\r\u30b9\u30bf\u30df\u30ca\u3082\u8fd4\u5374\u3055\u308c\u307e\u305b\u3093",style:{fill:16725359,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-205,y:112}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:569,y:237}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getImagePath:function(e){return i.default.createImagePath("unit",e,this.id)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getCharacterIconPaths:function(){return this.linkSkillCharacters.map(function(e){return e.iconPath=i.default.createImagePath("characters","link_skill_icon",e.characterId),e.iconPath})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getImagePath:function(){return"active_skills/icon/"+this.iconImage+".png"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getImagePath:function(){return"passive_skills/icon/"+this.iconImage+".png"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getImagePath:function(){return"limit_break_skills/icon/"+this.iconImage+".png"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isGuest:function(){return 0===this.grade}}},function(e,t,n){(function(e){function n(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=Xn.charAt(n>>6)+Xn.charAt(63&n);if(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=Xn.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=Xn.charAt(n>>2)+Xn.charAt((3&n)<<4)),Yn)for(;(3&r.length)>0;)r+=Yn;return r}function r(e){var t,n,r,i="",a=0;for(t=0;t<e.length&&e.charAt(t)!=Yn;++t)(r=Xn.indexOf(e.charAt(t)))<0||(0==a?(i+=c(r>>2),n=3&r,a=1):1==a?(i+=c(n<<2|r>>4),n=15&r,a=2):2==a?(i+=c(n),i+=c(r>>2),n=3&r,a=3):(i+=c(n<<2|r>>4),i+=c(15&r),a=0));return 1==a&&(i+=c(n<<2)),i}
function i(e){var t,n=r(e),i=new Array;for(t=0;2*t<n.length;++t)i[t]=parseInt(n.substring(2*t,2*t+2),16);return i}function a(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function o(){return new a(null)}function s(e,t,n,r,i,a){for(;--a>=0;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i}function l(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var l=32767&this[e],u=this[e++]>>15,c=s*l+u*o;l=o*l+((32767&c)<<15)+n[r]+(1073741823&i),i=(l>>>30)+(c>>>15)+s*u+(i>>>30),n[r++]=1073741823&l}return i}function u(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*o;l=o*l+((16383&c)<<14)+n[r]+i,i=(l>>28)+(c>>14)+s*u,n[r++]=268435455&l}return i}function c(e){return Zn.charAt(e)}function f(e,t){var n=$n[e.charCodeAt(t)];return null==n?-1:n}function d(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function p(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function h(e){var t=o();return t.fromInt(e),t}function y(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=8==n?255&e[r]:f(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&a.ZERO.subTo(this,this)}function m(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function _(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(n=this[o]>>s)>0&&(i=!0,a=c(n));o>=0;)s<t?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=c(n));return i?a:"0"}function g(){var e=o();return a.ZERO.subTo(this,e),e}function b(){return this.s<0?this.negate():this}function v(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function w(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function k(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)}function S(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function I(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function E(e,t){var n,r=e%this.DB,i=this.DB-r,a=(1<<i)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>i|s,s=(this[n]&a)<<r;for(n=o-1;n>=0;--n)t[n]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function A(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}function x(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function C(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)}function T(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function P(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=o());var s=o(),l=this.s,u=e.s,c=this.DB-w(r[r.t-1]);c>0?(r.lShiftTo(c,s),i.lShiftTo(c,n)):(r.copyTo(s),i.copyTo(n));var f=s.t,d=s[f-1];if(0!=d){var p=d*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),h=this.FV/p,y=(1<<this.F1)/p,m=1<<this.F2,_=n.t,g=_-f,b=null==t?o():t;for(s.dlShiftTo(g,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),a.ONE.dlShiftTo(f,b),b.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--g>=0;){var v=n[--_]==d?this.DM:Math.floor(n[_]*h+(n[_-1]+m)*y);if((n[_]+=s.am(0,v,n,g,0,f))<v)for(s.dlShiftTo(g,b),n.subTo(b,n);n[_]<--v;)n.subTo(b,n)}null!=t&&(n.drShiftTo(f,t),l!=u&&a.ZERO.subTo(t,t)),n.t=f,n.clamp(),c>0&&n.rShiftTo(c,n),l<0&&a.ZERO.subTo(n,n)}}}function O(e){var t=o();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t}function N(e){this.m=e}function M(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function R(e){return e}function D(e){e.divRemTo(this.m,null,e)}function F(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function B(e,t){e.squareTo(t),this.reduce(t)}function j(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function L(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function U(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t}function H(e){var t=o();return e.copyTo(t),this.reduce(t),t}function G(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function z(e,t){e.squareTo(t),this.reduce(t)}function V(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function K(){return 0==(this.t>0?1&this[0]:this.s)}function W(e,t){if(e>4294967295||e<1)return a.ONE;var n=o(),r=o(),i=t.convert(this),s=w(e)-1;for(i.copyTo(n);--s>=0;)if(t.sqrTo(n,r),(e&1<<s)>0)t.mulTo(r,i,n);else{var l=n;n=r,r=l}return t.revert(n)}function q(e,t){var n;return n=e<256||t.isEven()?new N(t):new L(t),this.exp(e,n)}function X(){var e=o();return this.copyTo(e),e}function Y(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function J(){return 0==this.t?this.s:this[0]<<24>>24}function Q(){return 0==this.t?this.s:this[0]<<16>>16}function Z(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function ee(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=h(n),i=o(),a=o(),s="";for(this.divRemTo(r,i,a);i.signum()>0;)s=(n+a.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,a);return a.intValue().toString(e)+s}function te(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,s=0,l=0;l<e.length;++l){var u=f(e,l);u<0?"-"==e.charAt(l)&&0==this.signum()&&(i=!0):(s=t*s+u,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&a.ZERO.subTo(this,this)}function ne(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(a.ONE.shiftLeft(e-1),ce,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(a.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),
i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function re(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function ie(e){return 0==this.compareTo(e)}function ae(e){return this.compareTo(e)<0?this:e}function oe(e){return this.compareTo(e)>0?this:e}function se(e,t,n){var r,i,a=Math.min(e.t,this.t);for(r=0;r<a;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=a;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=a;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function le(e,t){return e&t}function ue(e){var t=o();return this.bitwiseTo(e,le,t),t}function ce(e,t){return e|t}function fe(e){var t=o();return this.bitwiseTo(e,ce,t),t}function de(e,t){return e^t}function pe(e){var t=o();return this.bitwiseTo(e,de,t),t}function he(e,t){return e&~t}function ye(e){var t=o();return this.bitwiseTo(e,he,t),t}function me(){for(var e=o(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function _e(e){var t=o();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function ge(e){var t=o();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function be(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function ve(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+be(this[e]);return this.s<0?this.t*this.DB:-1}function we(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function ke(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=we(this[n]^t);return e}function Se(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function Ie(e,t){var n=a.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function Ee(e){return this.changeBit(e,ce)}function Ae(e){return this.changeBit(e,he)}function xe(e){return this.changeBit(e,de)}function Ce(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function Te(e){var t=o();return this.addTo(e,t),t}function Pe(e){var t=o();return this.subTo(e,t),t}function Oe(e){var t=o();return this.multiplyTo(e,t),t}function Ne(){var e=o();return this.squareTo(e),e}function Me(e){var t=o();return this.divRemTo(e,t,null),t}function Re(e){var t=o();return this.divRemTo(e,null,t),t}function De(e){var t=o(),n=o();return this.divRemTo(e,t,n),new Array(t,n)}function Fe(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Be(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function je(){}function Le(e){return e}function Ue(e,t,n){e.multiplyTo(t,n)}function He(e,t){e.squareTo(t)}function Ge(e){return this.exp(e,new je)}function ze(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Ve(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function Ke(e){this.r2=o(),this.q3=o(),a.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function We(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=o();return e.copyTo(t),this.reduce(t),t}function qe(e){return e}function Xe(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Ye(e,t){e.squareTo(t),this.reduce(t)}function Je(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Qe(e,t){var n,r,i=e.bitLength(),a=h(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new N(t):t.isEven()?new Ke(t):new L(t);var s=new Array,l=3,u=n-1,c=(1<<n)-1;if(s[1]=r.convert(this),n>1){var f=o();for(r.sqrTo(s[1],f);l<=c;)s[l]=o(),r.mulTo(f,s[l-2],s[l]),l+=2}var d,p,y=e.t-1,m=!0,_=o();for(i=w(e[y])-1;y>=0;){for(i>=u?d=e[y]>>i-u&c:(d=(e[y]&(1<<i+1)-1)<<u-i,y>0&&(d|=e[y-1]>>this.DB+i-u)),l=n;0==(1&d);)d>>=1,--l;if((i-=l)<0&&(i+=this.DB,--y),m)s[d].copyTo(a),m=!1;else{for(;l>1;)r.sqrTo(a,_),r.sqrTo(_,a),l-=2;l>0?r.sqrTo(a,_):(p=a,a=_,_=p),r.mulTo(_,s[d],a)}for(;y>=0&&0==(e[y]&1<<i);)r.sqrTo(a,_),p=a,a=_,_=p,--i<0&&(i=this.DB-1,--y)}return r.revert(a)}function Ze(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n}function $e(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function et(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return a.ZERO;for(var n=e.clone(),r=this.clone(),i=h(1),o=h(0),s=h(0),l=h(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&l.isEven()||(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),o.subTo(l,o)):(r.subTo(n,r),t&&s.subTo(i,s),l.subTo(o,l))}return 0!=r.compareTo(a.ONE)?a.ZERO:l.compareTo(e)>=0?l.subtract(e):l.signum()<0?(l.addTo(e,l),l.signum()<0?l.add(e):l):l}function tt(e){var t,n=this.abs();if(1==n.t&&n[0]<=er[er.length-1]){for(t=0;t<er.length;++t)if(n[0]==er[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<er.length;){for(var r=er[t],i=t+1;i<er.length&&r<tr;)r*=er[i++];for(r=n.modInt(r);t<i;)if(r%er[t++]==0)return!1}return n.millerRabin(e)}function nt(e){var t=this.subtract(a.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>er.length&&(e=er.length);for(var i=o(),s=0;s<e;++s){i.fromInt(er[Math.floor(Math.random()*er.length)]);var l=i.modPow(r,this);if(0!=l.compareTo(a.ONE)&&0!=l.compareTo(t)){for(var u=1;u++<n&&0!=l.compareTo(t);)if(l=l.modPowInt(2,this),0==l.compareTo(a.ONE))return!1;if(0!=l.compareTo(t))return!1}}return!0}function rt(){this.i=0,this.j=0,this.S=new Array}function it(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function at(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function ot(){return new rt}function st(e){rr[ir++]^=255&e,rr[ir++]^=e>>8&255,rr[ir++]^=e>>16&255,rr[ir++]^=e>>24&255,ir>=ar&&(ir-=ar)}function lt(){st((new Date).getTime())}function ut(){if(null==nr){for(lt(),nr=ot(),nr.init(rr),ir=0;ir<rr.length;++ir)rr[ir]=0;ir=0}return nr.next()}function ct(e){var t;for(t=0;t<e.length;++t)e[t]=ut()}function ft(){}function dt(e,t){return new a(e,t)}function pt(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,
n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new ft,s=new Array;t>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--t]=s[0]}return n[--t]=2,n[--t]=0,new a(n)}function ht(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function yt(e,t,n,r){var i=dr.crypto.MessageDigest,o=dr.crypto.Util,s=null;if(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(e){return bn(o.hashString(e,s))}),e.length+2*r+2>t)throw"Message too long for RSA";var l,u="";for(l=0;l<t-e.length-2*r-2;l+=1)u+="\0";var c=n("")+u+"\x01"+e,f=new Array(r);(new ft).nextBytes(f);var d=ht(f,c.length,n),p=[];for(l=0;l<c.length;l+=1)p[l]=c.charCodeAt(l)^d.charCodeAt(l);var h=ht(p,f.length,n),y=[0];for(l=0;l<f.length;l+=1)y[l+1]=f[l]^h.charCodeAt(l);return new a(y.concat(p))}function mt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function _t(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=dt(e,16),this.e=parseInt(t,16)}}function gt(e){return e.modPowInt(this.e,this.n)}function bt(e){var t=pt(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r}function vt(e,t,n){var r=yt(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var a=i.toString(16);return 0==(1&a.length)?a:"0"+a}function wt(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var a=255&n[r];a<128?i+=String.fromCharCode(a):a>191&&a<224?(i+=String.fromCharCode((31&a)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&a)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}function kt(e,t,n){for(var r="",i=0;r.length<t;)r+=n(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function St(e,t,n,r){var i=dr.crypto.MessageDigest,a=dr.crypto.Util,o=null;n||(n="sha1"),"string"==typeof n&&(o=i.getCanonicalAlgName(n),r=i.getHashLength(o),n=function(e){return bn(a.hashString(e,o))}),e=e.toByteArray();var s;for(s=0;s<e.length;s+=1)e[s]&=255;for(;e.length<t;)e.unshift(0);if(e=String.fromCharCode.apply(String,e),e.length<2*r+2)throw"Cipher too short";var s,l=e.substr(1,r),u=e.substr(r+1),c=kt(u,r,n),f=[];for(s=0;s<l.length;s+=1)f[s]=l.charCodeAt(s)^c.charCodeAt(s);var d=kt(String.fromCharCode.apply(String,f),e.length-r,n),p=[];for(s=0;s<u.length;s+=1)p[s]=u.charCodeAt(s)^d.charCodeAt(s);if(p=String.fromCharCode.apply(String,p),p.substr(0,r)!==n(""))throw"Hash mismatch";p=p.substr(r);var h=p.indexOf("\x01");if((-1!=h?p.substr(0,h).lastIndexOf("\0"):-1)+1!=h)throw"Malformed data";return p.substr(h+1)}function It(e,t,n){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=dt(e,16),this.e=parseInt(t,16),this.d=dt(n,16)}}function Et(e,t,n,r,i,a,o,s){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=dt(e,16),this.e=parseInt(t,16),this.d=dt(n,16),this.p=dt(r,16),this.q=dt(i,16),this.dmp1=dt(a,16),this.dmq1=dt(o,16),this.coeff=dt(s,16)}function At(e,t){var n=new ft,r=e>>1;this.e=parseInt(t,16);for(var i=new a(t,16);;){for(;this.p=new a(e-r,1,n),0!=this.p.subtract(a.ONE).gcd(i).compareTo(a.ONE)||!this.p.isProbablePrime(10););for(;this.q=new a(r,1,n),0!=this.q.subtract(a.ONE).gcd(i).compareTo(a.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(a.ONE),l=this.q.subtract(a.ONE),u=s.multiply(l);if(0==u.gcd(i).compareTo(a.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(u),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(l),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0}function xt(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function Ct(e){var t=dt(e,16),n=this.doPrivate(t);return null==n?null:wt(n,this.n.bitLength()+7>>3)}function Tt(e,t,n){var r=dt(e,16),i=this.doPrivate(r);return null==i?null:St(i,this.n.bitLength()+7>>3,t,n)}function Pt(e,t){this.x=t,this.q=e}function Ot(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)}function Nt(){return this.x}function Mt(){return new Pt(this.q,this.x.negate().mod(this.q))}function Rt(e){return new Pt(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function Dt(e){return new Pt(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function Ft(e){return new Pt(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function Bt(){return new Pt(this.q,this.x.square().mod(this.q))}function jt(e){return new Pt(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}function Lt(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?a.ONE:r,this.zinv=null}function Ut(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Ht(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Gt(e){if(e==this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var t,n;return t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),!!t.equals(a.ZERO)&&(n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q),n.equals(a.ZERO))}function zt(){return null==this.x&&null==this.y||this.z.equals(a.ZERO)&&!this.y.toBigInteger().equals(a.ZERO)}function Vt(){return new Lt(this.curve,this.x,this.y.negate(),this.z)}function Kt(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(a.ZERO.equals(n))return a.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new a("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),l=s.multiply(n),u=i.multiply(s),c=t.square().multiply(this.z),f=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(l).multiply(n).mod(this.curve.q),d=u.multiply(r).multiply(t).subtract(o.multiply(l)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(l)).mod(this.curve.q),p=l.multiply(this.z).multiply(e.z).mod(this.curve.q);return new Lt(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(d),p)}function Wt(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new a("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=t.square().multiply(e);a.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o))),s=s.mod(this.curve.q);var l=s.square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=s.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q)
;return new Lt(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(u),c)}function qt(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new a("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var s=r.testBit(t);s!=n.testBit(t)&&(o=o.add(s?this:i))}return o}function Xt(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),a=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(a):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i}function Yt(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new Lt(this,null,null)}function Jt(){return this.q}function Qt(){return this.a}function Zt(){return this.b}function $t(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function en(){return this.infinity}function tn(e){return new Pt(this.q,e)}function nn(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new Lt(this,this.fromBigInteger(new a(n,16)),this.fromBigInteger(new a(r,16)));default:return null}}function rn(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function an(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function on(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function sn(e){return on(rn(e))}function ln(e){return n(sn(e))}function un(e){return fn(n(sn(e)))}function cn(e){return an(i(dn(e)))}function fn(e){return e=e.replace(/\=/g,""),e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_")}function dn(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=e.replace(/-/g,"+"),e=e.replace(/_/g,"/")}function pn(e){return e.length%2==1&&(e="0"+e),fn(n(e))}function hn(e){return r(dn(e))}function yn(e){return n(Nn(Rn(e)))}function mn(e){return decodeURIComponent(Mn(r(e)))}function _n(e){return Nn(Rn(e))}function gn(e){return decodeURIComponent(Mn(e))}function bn(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function vn(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function wn(e){return n(e)}function kn(e){var t=wn(e),n=t.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,"")}function Sn(e){return r(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function In(e,t){return"-----BEGIN "+t+"-----\r\n"+kn(e)+"\r\n-----END "+t+"-----\r\n"}function En(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return void 0!==t?(e=e.replace("-----BEGIN "+t+"-----",""),e=e.replace("-----END "+t+"-----","")):(e=e.replace(/-----BEGIN [^-]+-----/,""),e=e.replace(/-----END [^-]+-----/,"")),Sn(e)}function An(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t}function xn(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t}function Cn(e){var t,n,r,i,a,o,s,l,u,c,f;if(f=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=f[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(f[2])-1,r=parseInt(f[3]),i=parseInt(f[4]),a=parseInt(f[5]),o=parseInt(f[6]),s=0,u=f[7],""!==u&&(c=(u.substr(1)+"00").substr(0,3),s=parseInt(c)),Date.UTC(t,n,r,i,a,o,s);throw"unsupported zulu format: "+e}function Tn(e){return~~(Cn(e)/1e3)}function Pn(e){return new Date(Cn(e))}function On(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var a=e.getUTCMilliseconds();0!==a&&(a=("00"+a).slice(-3),a=a.replace(/0+$/g,""),r+="."+a)}return r+="Z"}function Nn(e){return e.replace(/%/g,"")}function Mn(e){return e.replace(/(..)/g,"%$1")}function Rn(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+sn(t[r]);return n}function Dn(e){return e=e.replace(/\r\n/gm,"\n")}function Fn(e){return e=e.replace(/\r\n/gm,"\n"),e=e.replace(/\n/gm,"\r\n")}function Bn(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function jn(e){e=e.replace(/^\s*\[\s*/,""),e=e.replace(/\s*\]\s*$/,""),e=e.replace(/\s*/g,"");try{return e.split(/,/).map(function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)}).join("")}catch(e){throw"malformed integer array string: "+e}}function Ln(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function Un(e,t,n){for(var r="",i=0;r.length<t;)r+=bn(n(vn(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Hn(e){for(var t in dr.crypto.Util.DIGESTINFOHEAD){var n=dr.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function Gn(){var e=fr,t=e.getChildIdx,n=e.getV,r=e.getTLV,i=e.getVbyList,a=e.getTLVbyList,o=e.getIdxbyList,s=e.getVidx,l=e.oidname,u=Gn,c=En;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==a(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return l(i(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return a(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return u.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return a(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return u.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=i(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getNotAfter=function(){var e=i(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getPublicKeyHex=function(){return e.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return o(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return o(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return mr.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return l(i(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return i(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmName(),n=this.getSignatureValueHex(),r=a(this.hex,0,[0],"30"),i=new dr.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(){if(3!==this.version)return-1;var n=o(this.hex,0,[0,7,0],"30"),r=t(this.hex,n);this.aExtInfo=new Array;for(var a=0;a<r.length;a++){var l={};l.critical=!1;var u=t(this.hex,r[a]),c=0;3===u.length&&(l.critical=!0,c=1),l.oid=e.hextooidstr(i(this.hex,r[a],[0],"06"));var f=o(this.hex,r[a],[1+c]);l.vidx=s(this.hex,f),this.aExtInfo.push(l)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=dr.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=n(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var r=n(t,6);return{cA:!0,pathLen:parseInt(r,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){
var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=n(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw"malformed key usage value";var r=parseInt(t.substr(0,2)),i=parseInt(t.substr(2),16).toString(2);return i.substr(0,i.length-r)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,n=0;n<e.length;n++)"1"==e.substr(n,1)&&t.push(Gn.KEYUSAGE_NAME[n]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:n(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var i={},a=r(this.hex,e.vidx),o=t(a,0),s=0;s<o.length;s++)"80"===a.substr(o[s],2)&&(i.kid=n(a,o[s]));return i},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var i=new Array,a=r(this.hex,e.vidx);if(""===a)return i;for(var o=t(a,0),s=0;s<o.length;s++)i.push(l(n(a,o[s])));return i},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,n=0;n<e.length;n++)"DNS"===e[n][0]&&t.push(e[n][1]);return t},this.getExtSubjectAltName2=function(){var e,i,a,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var s=new Array,l=r(this.hex,o.vidx),u=t(l,0),c=0;c<u.length;c++)if(a=l.substr(u[c],2),e=n(l,u[c]),"81"===a&&(i=gn(e),s.push(["MAIL",i])),"82"===a&&(i=gn(e),s.push(["DNS",i])),"84"===a&&(i=Gn.hex2dn(e,0),s.push(["DN",i])),"86"===a&&(i=gn(e),s.push(["URI",i])),"87"===a)try{i=parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16),s.push(["IP",i])}catch(e){}return s},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var n=new Array,r=t(this.hex,e.vidx),a=0;a<r.length;a++)try{var o=i(this.hex,r[a],[0,0,0],"86"),s=gn(o);n.push(s)}catch(e){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var n={ocsp:[],caissuer:[]},r=t(this.hex,e.vidx),a=0;a<r.length;a++){var o=i(this.hex,r[a],[0],"06"),s=i(this.hex,r[a],[1],"86");"2b06010505073001"===o&&n.ocsp.push(gn(s)),"2b06010505073002"===o&&n.caissuer.push(gn(s))}return n},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var a=r(this.hex,e.vidx),o=[],s=t(a,0),u=0;u<s.length;u++){var c={},f=t(a,s[u]);if(c.id=l(n(a,f[0])),2===f.length)for(var d=t(a,f[1]),p=0;p<d.length;p++){var h=i(a,d[p],[0],"06");"2b06010505070201"===h?c.cps=gn(i(a,d[p],[1])):"2b06010505070202"===h&&(c.unotice=gn(i(a,d[p],[1,0])))}o.push(c)}return o},this.readCertPEM=function(e){this.readCertHex(c(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{o(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getInfo=function(){var e,t,n;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",t=this.getPublicKey(),e+="    key algorithm: "+t.type+"\n","RSA"===t.type&&(e+="    n="+Bn(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Bn(t.e.toString(16))+"\n"),void 0!==(n=this.aExtInfo)&&null!==n){e+="X509v3 Extensions:\n";for(var r=0;r<n.length;r++){var i=n[r],a=dr.asn1.x509.OID.oid2name(i.oid);""===a&&(a=i.oid);var o="";if(!0===i.critical&&(o="CRITICAL"),e+="  "+a+" "+o+":\n","basicConstraints"===a){var s=this.getExtBasicConstraints();void 0===s.cA?e+="    {}\n":(e+="    cA=true",void 0!==s.pathLen&&(e+=", pathLen="+s.pathLen),e+="\n")}else if("keyUsage"===a)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===a)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===a){var l=this.getExtAuthorityKeyIdentifier();void 0!==l.kid&&(e+="    kid="+l.kid+"\n")}else if("extKeyUsage"===a){var u=this.getExtExtKeyUsageName();e+="    "+u.join(", ")+"\n"}else if("subjectAltName"===a){var c=this.getExtSubjectAltName2();e+="    "+c+"\n"}else if("cRLDistributionPoints"===a){var f=this.getExtCRLDistributionPointsURI();e+="    "+f+"\n"}else if("authorityInfoAccess"===a){var d=this.getExtAIAInfo();void 0!==d.ocsp&&(e+="    ocsp: "+d.ocsp.join(",")+"\n"),void 0!==d.caissuer&&(e+="    caissuer: "+d.caissuer.join(",")+"\n")}else if("certificatePolicies"===a)for(var p=this.getExtCertificatePolicies(),h=0;h<p.length;h++)void 0!==p[h].id&&(e+="    policy oid: "+p[h].id+"\n"),void 0!==p[h].cps&&(e+="    cps: "+p[h].cps+"\n")}}return e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",e+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}var zn={};zn.userAgent=!1;var Vn={};if(void 0===Kn)var Kn={};Kn.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var i;for(i in n)e.prototype[i]=n[i];var a=function(){},o=["toString","valueOf"];try{/MSIE/.test(zn.userAgent)&&(a=function(e,t){for(i=0;i<o.length;i+=1){var n=o[i],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(e){}a(e.prototype,n)}}};var Wn=Wn||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},l=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},c=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=4*o,l=i/s;l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0);var u=l*o,c=e.min(4*u,i);if(u){
for(var f=0;f<u;f+=o)this._doProcessBlock(r,f);var d=r.splice(0,u);n.sigBytes-=c}return new a.init(d,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(r.Hasher=c.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);!function(e){var t=Wn,n=t.lib,r=n.Base,i=n.WordArray,t=t.x64={};t.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var a=e[r];n.push(a.high),n.push(a.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),Wn.lib.Cipher||function(e){var t=Wn,n=t.lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,o=t.enc.Base64,s=t.algo.EvpKDF,l=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?h:p).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?h:p).decrypt(e,t,n,r)}}}});n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=t.mode={},c=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},f=(n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();f.Encryptor=f.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;c.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),f.Decryptor=f.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),c.call(this,e,t,r),this._prevBlock=i}}),u=u.CBC=f,f=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,r=n<<24|n<<16|n<<8|n,a=[],o=0;o<n;o+=4)a.push(r);n=i.create(a,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:u,padding:f}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){e=o.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},p=n.SerializableCipher=r.extend({cfg:r.extend({format:u}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,d.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=i.random(8)),e=s.create({keySize:t+n}).compute(e,r),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:r})}},h=n.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:t}),encrypt:function(e,t,n,r){return r=this.cfg.extend(r),n=r.kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,e=p.encrypt.call(this,e,t,n.key,r),e.mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=Wn,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],a=[],o=[],s=[],l=[],u=[],c=[],f=[],d=[],p=[],h=0;256>h;h++)p[h]=128>h?h<<1:h<<1^283;for(var y=0,m=0,h=0;256>h;h++){var _=m^m<<1^m<<2^m<<3^m<<4,_=_>>>8^255&_^99;r[y]=_,i[_]=y;var g=p[y],b=p[g],v=p[b],w=257*p[_]^16843008*_;a[y]=w<<24|w>>>8,o[y]=w<<16|w>>>16,s[y]=w<<8|w>>>24,l[y]=w,w=16843009*v^65537*b^257*g^16843008*y,u[_]=w<<24|w>>>8,c[_]=w<<16|w>>>16,f[_]=w<<8|w>>>24,d[_]=w,y?(y=g^p[p[p[v^g]]],m^=p[p[m]]):y=m=1}var k=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<e;a++)if(a<n)i[a]=t[a];else{var o=i[a-1];a%n?6<n&&4==a%n&&(o=r[o>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o]):(o=o<<8|o>>>24,o=r[o>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o],o^=k[a/n|0]<<24),i[a]=i[a-n]^o}for(t=this._invKeySchedule=[],n=0;n<e;n++)a=e-n,o=n%4?i[a]:i[a-4],t[n]=4>n||4>=a?o:u[r[o>>>24]]^c[r[o>>>16&255]]^f[r[o>>>8&255]]^d[r[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,o,s,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,c,f,d,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],p=4,h=1;h<l;h++)var y=r[u>>>24]^i[c>>>16&255]^a[f>>>8&255]^o[255&d]^n[p++],m=r[c>>>24]^i[f>>>16&255]^a[d>>>8&255]^o[255&u]^n[p++],_=r[f>>>24]^i[d>>>16&255]^a[u>>>8&255]^o[255&c]^n[p++],d=r[d>>>24]^i[u>>>16&255]^a[c>>>8&255]^o[255&f]^n[p++],u=y,c=m,f=_;y=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[p++],m=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[p++],_=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[p++],d=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^n[p++],e[t]=y,e[t+1]=m,e[t+2]=_,e[t+3]=d},keySize:8});e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n=Wn,r=n.lib,i=r.WordArray,r=r.BlockCipher,a=n.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,
1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=a.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var r=o[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(e=this._subKeys=[],r=0;16>r;r++){for(var i=e[r]=[],a=l[r],n=0;24>n;n++)i[n/6|0]|=t[(s[n]-1+a)%28]<<31-n%6,i[4+(n/6|0)]|=t[28+(s[n+24]-1+a)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],e.call(this,4,252645135),e.call(this,16,65535),
t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var a=0;16>a;a++){for(var o=i[a],s=this._lBlock,l=this._rBlock,f=0,d=0;8>d;d++)f|=u[d][((l^o[d])&c[d])>>>0];this._lBlock=l,this._rBlock=s^f}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=r._createHelper(f),a=a.TripleDES=r.extend({_doReset:function(){var e=this._key.words;this._des1=f.createEncryptor(i.create(e.slice(0,2))),this._des2=f.createEncryptor(i.create(e.slice(2,4))),this._des3=f.createEncryptor(i.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=r._createHelper(a)}(),function(){var e=Wn,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<n;o++)e.push(r.charAt(a>>>6*(3-o)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map,i=r.charAt(64);i&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],a=0,o=0;o<n;o++)if(o%4){var s=r.indexOf(e.charAt(o-1))<<o%4*2,l=r.indexOf(e.charAt(o))>>>6-o%4*2;i[a>>>2]|=(s|l)<<24-a%4*8,a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,a,o){return((e=e+(t&n|~t&r)+i+o)<<a|e>>>32-a)+t}function n(e,t,n,r,i,a,o){return((e=e+(t&r|n&~r)+i+o)<<a|e>>>32-a)+t}function r(e,t,n,r,i,a,o){return((e=e+(t^n^r)+i+o)<<a|e>>>32-a)+t}function i(e,t,n,r,i,a,o){return((e=e+(n^(t|~r))+i+o)<<a|e>>>32-a)+t}for(var a=Wn,o=a.lib,s=o.WordArray,l=o.Hasher,o=a.algo,u=[],c=0;64>c;c++)u[c]=4294967296*e.abs(e.sin(c+1))|0;o=o.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,a){for(var o=0;16>o;o++){var s=a+o,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var o=this._hash.words,s=e[a+0],l=e[a+1],c=e[a+2],f=e[a+3],d=e[a+4],p=e[a+5],h=e[a+6],y=e[a+7],m=e[a+8],_=e[a+9],g=e[a+10],b=e[a+11],v=e[a+12],w=e[a+13],k=e[a+14],S=e[a+15],I=o[0],E=o[1],A=o[2],x=o[3],I=t(I,E,A,x,s,7,u[0]),x=t(x,I,E,A,l,12,u[1]),A=t(A,x,I,E,c,17,u[2]),E=t(E,A,x,I,f,22,u[3]),I=t(I,E,A,x,d,7,u[4]),x=t(x,I,E,A,p,12,u[5]),A=t(A,x,I,E,h,17,u[6]),E=t(E,A,x,I,y,22,u[7]),I=t(I,E,A,x,m,7,u[8]),x=t(x,I,E,A,_,12,u[9]),A=t(A,x,I,E,g,17,u[10]),E=t(E,A,x,I,b,22,u[11]),I=t(I,E,A,x,v,7,u[12]),x=t(x,I,E,A,w,12,u[13]),A=t(A,x,I,E,k,17,u[14]),E=t(E,A,x,I,S,22,u[15]),I=n(I,E,A,x,l,5,u[16]),x=n(x,I,E,A,h,9,u[17]),A=n(A,x,I,E,b,14,u[18]),E=n(E,A,x,I,s,20,u[19]),I=n(I,E,A,x,p,5,u[20]),x=n(x,I,E,A,g,9,u[21]),A=n(A,x,I,E,S,14,u[22]),E=n(E,A,x,I,d,20,u[23]),I=n(I,E,A,x,_,5,u[24]),x=n(x,I,E,A,k,9,u[25]),A=n(A,x,I,E,f,14,u[26]),E=n(E,A,x,I,m,20,u[27]),I=n(I,E,A,x,w,5,u[28]),x=n(x,I,E,A,c,9,u[29]),A=n(A,x,I,E,y,14,u[30]),E=n(E,A,x,I,v,20,u[31]),I=r(I,E,A,x,p,4,u[32]),x=r(x,I,E,A,m,11,u[33]),A=r(A,x,I,E,b,16,u[34]),E=r(E,A,x,I,k,23,u[35]),I=r(I,E,A,x,l,4,u[36]),x=r(x,I,E,A,d,11,u[37]),A=r(A,x,I,E,y,16,u[38]),E=r(E,A,x,I,g,23,u[39]),I=r(I,E,A,x,w,4,u[40]),x=r(x,I,E,A,s,11,u[41]),A=r(A,x,I,E,f,16,u[42]),E=r(E,A,x,I,h,23,u[43]),I=r(I,E,A,x,_,4,u[44]),x=r(x,I,E,A,v,11,u[45]),A=r(A,x,I,E,S,16,u[46]),E=r(E,A,x,I,c,23,u[47]),I=i(I,E,A,x,s,6,u[48]),x=i(x,I,E,A,y,10,u[49]),A=i(A,x,I,E,k,15,u[50]),E=i(E,A,x,I,p,21,u[51]),I=i(I,E,A,x,v,6,u[52]),x=i(x,I,E,A,f,10,u[53]),A=i(A,x,I,E,g,15,u[54]),E=i(E,A,x,I,l,21,u[55]),I=i(I,E,A,x,m,6,u[56]),x=i(x,I,E,A,S,10,u[57]),A=i(A,x,I,E,h,15,u[58]),E=i(E,A,x,I,w,21,u[59]),I=i(I,E,A,x,d,6,u[60]),x=i(x,I,E,A,b,10,u[61]),A=i(A,x,I,E,c,15,u[62]),E=i(E,A,x,I,_,21,u[63]);o[0]=o[0]+I|0,o[1]=o[1]+E|0,o[2]=o[2]+A|0,o[3]=o[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=l._createHelper(o),a.HmacMD5=l._createHmacHelper(o)}(Math),function(){var e=Wn,t=e.lib,n=t.WordArray,r=t.Hasher,i=[],t=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=0;80>u;u++){if(16>u)i[u]=0|e[t+u];else{var c=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=c<<1|c>>>31}c=(r<<5|r>>>27)+l+i[u],c=20>u?c+(1518500249+(a&o|~a&s)):40>u?c+(1859775393+(a^o^s)):60>u?c+((a&o|a&s|o&s)-1894007588):c+((a^o^s)-899497514),l=s,s=o,o=a<<30|a>>>2,a=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(t),e.HmacSHA1=r._createHmacHelper(t)}(),function(e){for(var t=Wn,n=t.lib,r=n.WordArray,i=n.Hasher,n=t.algo,a=[],o=[],s=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var c;e:{c=l;for(var f=e.sqrt(c),d=2;d<=f;d++)if(!(c%d)){c=!1;break e}c=!0}c&&(8>u&&(a[u]=s(e.pow(l,.5))),o[u]=s(e.pow(l,1/3)),u++),l++}var p=[],n=n.SHA256=i.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],f=n[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var h=p[d-15],y=p[d-2];p[d]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+p[d-7]+((y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10)+p[d-16]}h=f+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+o[d]+p[d],y=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&a^i&a),f=c,c=u,u=l,l=s+h|0,s=a,a=i,i=r,r=h+y|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(n),t.HmacSHA256=i._createHmacHelper(n)}(Math),function(){var e=Wn,t=e.lib.WordArray,n=e.algo,r=n.SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(n),e.HmacSHA224=r._createHmacHelper(n)}(),function(){function e(){return i.create.apply(i,arguments)}
for(var t=Wn,n=t.lib.Hasher,r=t.x64,i=r.Word,a=r.WordArray,r=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],l=0;80>l;l++)s[l]=e();r=r.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],l=n[3],u=n[4],c=n[5],f=n[6],n=n[7],d=r.high,p=r.low,h=i.high,y=i.low,m=a.high,_=a.low,g=l.high,b=l.low,v=u.high,w=u.low,k=c.high,S=c.low,I=f.high,E=f.low,A=n.high,x=n.low,C=d,T=p,P=h,O=y,N=m,M=_,R=g,D=b,F=v,B=w,j=k,L=S,U=I,H=E,G=A,z=x,V=0;80>V;V++){var K=s[V];if(16>V)var W=K.high=0|e[t+2*V],q=K.low=0|e[t+2*V+1];else{var W=s[V-15],q=W.high,X=W.low,W=(q>>>1|X<<31)^(q>>>8|X<<24)^q>>>7,X=(X>>>1|q<<31)^(X>>>8|q<<24)^(X>>>7|q<<25),Y=s[V-2],q=Y.high,J=Y.low,Y=(q>>>19|J<<13)^(q<<3|J>>>29)^q>>>6,J=(J>>>19|q<<13)^(J<<3|q>>>29)^(J>>>6|q<<26),q=s[V-7],Q=q.high,Z=s[V-16],$=Z.high,Z=Z.low,q=X+q.low,W=W+Q+(q>>>0<X>>>0?1:0),q=q+J,W=W+Y+(q>>>0<J>>>0?1:0),q=q+Z,W=W+$+(q>>>0<Z>>>0?1:0);K.high=W,K.low=q}var Q=F&j^~F&U,Z=B&L^~B&H,K=C&P^C&N^P&N,ee=T&O^T&M^O&M,X=(C>>>28|T<<4)^(C<<30|T>>>2)^(C<<25|T>>>7),Y=(T>>>28|C<<4)^(T<<30|C>>>2)^(T<<25|C>>>7),J=o[V],te=J.high,ne=J.low,J=z+((B>>>14|F<<18)^(B>>>18|F<<14)^(B<<23|F>>>9)),$=G+((F>>>14|B<<18)^(F>>>18|B<<14)^(F<<23|B>>>9))+(J>>>0<z>>>0?1:0),J=J+Z,$=$+Q+(J>>>0<Z>>>0?1:0),J=J+ne,$=$+te+(J>>>0<ne>>>0?1:0),J=J+q,$=$+W+(J>>>0<q>>>0?1:0),q=Y+ee,K=X+K+(q>>>0<Y>>>0?1:0),G=U,z=H,U=j,H=L,j=F,L=B,B=D+J|0,F=R+$+(B>>>0<D>>>0?1:0)|0,R=N,D=M,N=P,M=O,P=C,O=T,T=J+q|0,C=$+K+(T>>>0<J>>>0?1:0)|0}p=r.low=p+T,r.high=d+C+(p>>>0<T>>>0?1:0),y=i.low=y+O,i.high=h+P+(y>>>0<O>>>0?1:0),_=a.low=_+M,a.high=m+N+(_>>>0<M>>>0?1:0),b=l.low=b+D,l.high=g+R+(b>>>0<D>>>0?1:0),w=u.low=w+B,u.high=v+F+(w>>>0<B>>>0?1:0),S=c.low=S+L,c.high=k+j+(S>>>0<L>>>0?1:0),E=f.low=E+H,f.high=I+U+(E>>>0<H>>>0?1:0),x=n.low=x+z,n.high=A+G+(x>>>0<z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(r),t.HmacSHA512=n._createHmacHelper(r)}(),function(){var e=Wn,t=e.x64,n=t.Word,r=t.WordArray,t=e.algo,i=t.SHA512,t=t.SHA384=i.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=i._createHelper(t),e.HmacSHA384=i._createHmacHelper(t)}(),function(){var e=Wn,t=e.lib,n=t.WordArray,r=t.Hasher,t=e.algo,i=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),s=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=n.create([0,1518500249,1859775393,2400959708,2840853838]),u=n.create([1352829926,1548603684,1836072691,2053994217,0]),t=t.RIPEMD160=r.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=t+n,c=e[r];e[r]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var f,d,p,h,y,m,_,g,b,v,r=this._hash.words,c=l.words,w=u.words,k=i.words,S=a.words,I=o.words,E=s.words;m=f=r[0],_=d=r[1],g=p=r[2],b=h=r[3],v=y=r[4];for(var A,n=0;80>n;n+=1)A=f+e[t+k[n]]|0,A=16>n?A+((d^p^h)+c[0]):32>n?A+((d&p|~d&h)+c[1]):48>n?A+(((d|~p)^h)+c[2]):64>n?A+((d&h|p&~h)+c[3]):A+((d^(p|~h))+c[4]),A|=0,A=A<<I[n]|A>>>32-I[n],A=A+y|0,f=y,y=h,h=p<<10|p>>>22,p=d,d=A,A=m+e[t+S[n]]|0,A=16>n?A+((_^(g|~b))+w[0]):32>n?A+((_&b|g&~b)+w[1]):48>n?A+(((_|~g)^b)+w[2]):64>n?A+((_&g|~_&b)+w[3]):A+((_^g^b)+w[4]),A|=0,A=A<<E[n]|A>>>32-E[n],A=A+v|0,m=v,v=b,b=g<<10|g>>>22,g=_,_=A;A=r[1]+p+b|0,r[1]=r[2]+h+v|0,r[2]=r[3]+y+m|0,r[3]=r[4]+f+_|0,r[4]=r[0]+d+g|0,r[0]=A},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash,t=e.words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.RIPEMD160=r._createHelper(t),e.HmacRIPEMD160=r._createHmacHelper(t)}(Math),function(){var e=Wn,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var a=this._oKey=n.clone(),o=this._iKey=n.clone(),s=a.words,l=o.words,u=0;u<r;u++)s[u]^=1549556828,l[u]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})
}(),function(){var e=Wn,t=e.lib,n=t.Base,r=t.WordArray,t=e.algo,i=t.HMAC,a=t.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,a=i.create(n.hasher,e),o=r.create(),s=r.create([1]),l=o.words,u=s.words,c=n.keySize,n=n.iterations;l.length<c;){var f=a.update(t).finalize(s);a.reset();for(var d=f.words,p=d.length,h=f,y=1;y<n;y++){h=a.finalize(h),a.reset();for(var m=h.words,_=0;_<p;_++)d[_]^=m[_]}o.concat(f),u[0]++}return o.sigBytes=4*c,o}});e.PBKDF2=function(e,t,n){return a.create(n).compute(e,t)}}();var qn,Xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yn="=";"Microsoft Internet Explorer"==zn.appName?(a.prototype.am=l,qn=30):"Netscape"!=zn.appName?(a.prototype.am=s,qn=26):(a.prototype.am=u,qn=28),a.prototype.DB=qn,a.prototype.DM=(1<<qn)-1,a.prototype.DV=1<<qn;a.prototype.FV=Math.pow(2,52),a.prototype.F1=52-qn,a.prototype.F2=2*qn-52;var Jn,Qn,Zn="0123456789abcdefghijklmnopqrstuvwxyz",$n=new Array;for(Jn="0".charCodeAt(0),Qn=0;Qn<=9;++Qn)$n[Jn++]=Qn;for(Jn="a".charCodeAt(0),Qn=10;Qn<36;++Qn)$n[Jn++]=Qn;for(Jn="A".charCodeAt(0),Qn=10;Qn<36;++Qn)$n[Jn++]=Qn;N.prototype.convert=M,N.prototype.revert=R,N.prototype.reduce=D,N.prototype.mulTo=F,N.prototype.sqrTo=B,L.prototype.convert=U,L.prototype.revert=H,L.prototype.reduce=G,L.prototype.mulTo=V,L.prototype.sqrTo=z,a.prototype.copyTo=d,a.prototype.fromInt=p,a.prototype.fromString=y,a.prototype.clamp=m,a.prototype.dlShiftTo=S,a.prototype.drShiftTo=I,a.prototype.lShiftTo=E,a.prototype.rShiftTo=A,a.prototype.subTo=x,a.prototype.multiplyTo=C,a.prototype.squareTo=T,a.prototype.divRemTo=P,a.prototype.invDigit=j,a.prototype.isEven=K,a.prototype.exp=W,a.prototype.toString=_,a.prototype.negate=g,a.prototype.abs=b,a.prototype.compareTo=v,a.prototype.bitLength=k,a.prototype.mod=O,a.prototype.modPowInt=q,a.ZERO=h(0),a.ONE=h(1),je.prototype.convert=Le,je.prototype.revert=Le,je.prototype.mulTo=Ue,je.prototype.sqrTo=He,Ke.prototype.convert=We,Ke.prototype.revert=qe,Ke.prototype.reduce=Xe,Ke.prototype.mulTo=Je,Ke.prototype.sqrTo=Ye;var er=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],tr=(1<<26)/er[er.length-1];a.prototype.chunkSize=Z,a.prototype.toRadix=ee,a.prototype.fromRadix=te,a.prototype.fromNumber=ne,a.prototype.bitwiseTo=se,a.prototype.changeBit=Ie,a.prototype.addTo=Ce,a.prototype.dMultiply=Fe,a.prototype.dAddOffset=Be,a.prototype.multiplyLowerTo=ze,a.prototype.multiplyUpperTo=Ve,a.prototype.modInt=$e,a.prototype.millerRabin=nt,a.prototype.clone=X,a.prototype.intValue=Y,a.prototype.byteValue=J,a.prototype.shortValue=Q,a.prototype.signum=$,a.prototype.toByteArray=re,a.prototype.equals=ie,a.prototype.min=ae,a.prototype.max=oe,a.prototype.and=ue,a.prototype.or=fe,a.prototype.xor=pe,a.prototype.andNot=ye,a.prototype.not=me,a.prototype.shiftLeft=_e,a.prototype.shiftRight=ge,a.prototype.getLowestSetBit=ve,a.prototype.bitCount=ke,a.prototype.testBit=Se,a.prototype.setBit=Ee,a.prototype.clearBit=Ae,a.prototype.flipBit=xe,a.prototype.add=Te,a.prototype.subtract=Pe,a.prototype.multiply=Oe,a.prototype.divide=Me,a.prototype.remainder=Re,a.prototype.divideAndRemainder=De,a.prototype.modPow=Qe,a.prototype.modInverse=et,a.prototype.pow=Ge,a.prototype.gcd=Ze,a.prototype.isProbablePrime=tt,a.prototype.square=Ne,rt.prototype.init=it,rt.prototype.next=at;var nr,rr,ir,ar=256;if(null==rr){rr=new Array,ir=0;var or;if(void 0!==Vn&&(void 0!==Vn.crypto||void 0!==Vn.msCrypto)){var sr=Vn.crypto||Vn.msCrypto;if(sr.getRandomValues){var lr=new Uint8Array(32);for(sr.getRandomValues(lr),or=0;or<32;++or)rr[ir++]=lr[or]}else if("Netscape"==zn.appName&&zn.appVersion<"5"){var ur=Vn.crypto.random(32);for(or=0;or<ur.length;++or)rr[ir++]=255&ur.charCodeAt(or)}}for(;ir<ar;)or=Math.floor(65536*Math.random()),rr[ir++]=or>>>8,rr[ir++]=255&or;ir=0,lt()}ft.prototype.nextBytes=ct,mt.prototype.doPublic=gt,mt.prototype.setPublic=_t,mt.prototype.encrypt=bt,mt.prototype.encryptOAEP=vt,mt.prototype.type="RSA",mt.prototype.doPrivate=xt,mt.prototype.setPrivate=It,mt.prototype.setPrivateEx=Et,mt.prototype.generate=At,mt.prototype.decrypt=Ct,mt.prototype.decryptOAEP=Tt,Pt.prototype.equals=Ot,Pt.prototype.toBigInteger=Nt,Pt.prototype.negate=Mt,Pt.prototype.add=Rt,Pt.prototype.subtract=Dt,Pt.prototype.multiply=Ft,Pt.prototype.square=Bt,Pt.prototype.divide=jt,Lt.prototype.getX=Ut,Lt.prototype.getY=Ht,Lt.prototype.equals=Gt,Lt.prototype.isInfinity=zt,Lt.prototype.negate=Vt,Lt.prototype.add=Kt,Lt.prototype.twice=Wt,Lt.prototype.multiply=qt,Lt.prototype.multiplyTwo=Xt,Yt.prototype.getQ=Jt,Yt.prototype.getA=Qt,Yt.prototype.getB=Zt,Yt.prototype.equals=$t,Yt.prototype.getInfinity=en,Yt.prototype.fromBigInteger=tn,Yt.prototype.decodePointHex=nn,Pt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Lt.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},Lt.decodeFrom=function(e,t){var n=(t[0],t.length-1),r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new a(r),s=new a(i);return new Lt(e,e.fromBigInteger(o),e.fromBigInteger(s))},Lt.decodeFromHex=function(e,t){var n=(t.substr(0,2),t.length-2),r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new a(r,16),s=new a(i,16);return new Lt(e,e.fromBigInteger(o),e.fromBigInteger(s))},Lt.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y),r=n.divide(t),i=r.square().subtract(this.x).subtract(e.x),a=r.multiply(this.x.subtract(i)).subtract(this.y);return new Lt(this.curve,i,a)},Lt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(a.valueOf(2)),t=this.curve.fromBigInteger(a.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new Lt(this.curve,r,i)},Lt.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new a("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var s=r.testBit(t);s!=n.testBit(t)&&(o=o.add2D(s?this:i))}return o},Lt.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),a=t.multiply(t).mod(i),o=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return a.equals(o)},Lt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Lt.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(a.ONE)<0||t.compareTo(e.subtract(a.ONE))>0)throw new Error("x coordinate out of bounds")
;if(n.compareTo(a.ONE)<0||n.compareTo(e.subtract(a.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var cr=function(){function e(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),n=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},i=new String(""),a=(Object,Array,Object.hasOwnProperty);return function(r,o){var s,l=r.match(t),u=l[0],c=!1;"{"===u?s={}:"["===u?s=[]:(s=[],c=!0);for(var f,d=[s],p=1-c,h=l.length;p<h;++p){u=l[p];var y;switch(u.charCodeAt(0)){default:y=d[0],y[f||y.length]=+u,f=void 0;break;case 34:if(u=u.substring(1,u.length-1),-1!==u.indexOf("\\")&&(u=u.replace(n,e)),y=d[0],!f){if(!(y instanceof Array)){f=u||i;break}f=y.length}y[f]=u,f=void 0;break;case 91:y=d[0],d.unshift(y[f||y.length]=[]),f=void 0;break;case 93:d.shift();break;case 102:y=d[0],y[f||y.length]=!1,f=void 0;break;case 110:y=d[0],y[f||y.length]=null,f=void 0;break;case 116:y=d[0],y[f||y.length]=!0,f=void 0;break;case 123:y=d[0],d.unshift(y[f||y.length]={}),f=void 0;break;case 125:d.shift()}}if(c){if(1!==d.length)throw new Error;s=s[0]}else if(d.length)throw new Error;if(o){var m=function(e,t){var n=e[t];if(n&&"object"==typeof n){var r=null;for(var i in n)if(a.call(n,i)&&n!==e){var s=m(n,i);void 0!==s?n[i]=s:(r||(r=[]),r.push(i))}if(r)for(var l=r.length;--l>=0;)delete n[r[l]]}return o.call(e,t,n)};s=m({"":s},"")}return s}}();void 0!==dr&&dr||(dr={}),void 0!==dr.asn1&&dr.asn1||(dr.asn1={}),dr.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1),r=n.length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var i="",o=0;o<r;o++)i+="f";t=new a(i,16).xor(e).add(a.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return In(e,t)},this.newObject=function(e){var t=dr,n=t.asn1,r=n.DERBoolean,i=n.DERInteger,a=n.DERBitString,o=n.DEROctetString,s=n.DERNull,l=n.DERObjectIdentifier,u=n.DEREnumerated,c=n.DERUTF8String,f=n.DERNumericString,d=n.DERPrintableString,p=n.DERTeletexString,h=n.DERIA5String,y=n.DERUTCTime,m=n.DERGeneralizedTime,_=n.DERSequence,g=n.DERSet,b=n.DERTaggedObject,v=n.ASN1Util.newObject,w=Object.keys(e);if(1!=w.length)throw"key of param shall be only one.";var k=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+k+":"))throw"undefined key: "+k;if("bool"==k)return new r(e[k]);if("int"==k)return new i(e[k]);if("bitstr"==k)return new a(e[k]);if("octstr"==k)return new o(e[k]);if("null"==k)return new s(e[k]);if("oid"==k)return new l(e[k]);if("enum"==k)return new u(e[k]);if("utf8str"==k)return new c(e[k]);if("numstr"==k)return new f(e[k]);if("prnstr"==k)return new d(e[k]);if("telstr"==k)return new p(e[k]);if("ia5str"==k)return new h(e[k]);if("utctime"==k)return new y(e[k]);if("gentime"==k)return new m(e[k]);if("seq"==k){for(var S=e[k],I=[],E=0;E<S.length;E++){var A=v(S[E]);I.push(A)}return new _({array:I})}if("set"==k){for(var S=e[k],I=[],E=0;E<S.length;E++){var A=v(S[E]);I.push(A)}return new g({array:I})}if("tag"==k){var x=e[k];if("[object Array]"===Object.prototype.toString.call(x)&&3==x.length){var C=v(x[2]);return new b({tag:x[0],explicit:x[1],obj:C})}var T={};if(void 0!==x.explicit&&(T.explicit=x.explicit),void 0!==x.tag&&(T.tag=x.tag),void 0===x.obj)throw"obj shall be specified for 'tag'.";return T.obj=v(x.obj),new b(T)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},dr.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=Math.floor(n/40),i=n%40,t=r+"."+i,o="",s=2;s<e.length;s+=2){var l=parseInt(e.substr(s,2),16),u=("00000000"+l.toString(2)).slice(-8);if(o+=u.substr(1,7),"0"==u.substr(0,1))t=t+"."+new a(o,2).toString(10),o=""}return t},dr.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",r=e.split("."),i=40*parseInt(r[0])+parseInt(r[1]);n+=t(i),r.splice(0,2);for(var o=0;o<r.length;o++)n+=function(e){var n="",r=new a(e,10),i=r.toString(2),o=7-i.length%7;7==o&&(o=0);for(var s="",l=0;l<o;l++)s+="0";i=s+i;for(var l=0;l<i.length-1;l+=7){var u=i.substr(l,7);l!=i.length-7&&(u="1"+u),n+=t(parseInt(u,2))}return n}(r[o]);return n},dr.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},dr.asn1.DERAbstractString=function(e){dr.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=sn(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Kn.lang.extend(dr.asn1.DERAbstractString,dr.asn1.ASN1Object),dr.asn1.DERAbstractTime=function(e){dr.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),a=String(i.getFullYear());"utc"==t&&(a=a.substr(2,2));var o=r(String(i.getMonth()+1),2),s=r(String(i.getDate()),2),l=r(String(i.getHours()),2),u=r(String(i.getMinutes()),2),c=r(String(i.getSeconds()),2),f=a+o+s+l+u+c;if(!0===n){var d=i.getMilliseconds();if(0!=d){var p=r(String(d),3);p=p.replace(/[0]+$/,""),f=f+"."+p}}return f+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=sn(e)},this.setByDateValue=function(e,t,n,r,i,a){var o=new Date(Date.UTC(e,t-1,n,r,i,a,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},Kn.lang.extend(dr.asn1.DERAbstractTime,dr.asn1.ASN1Object),dr.asn1.DERAbstractStructured=function(e){dr.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Kn.lang.extend(dr.asn1.DERAbstractStructured,dr.asn1.ASN1Object),dr.asn1.DERBoolean=function(){dr.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Kn.lang.extend(dr.asn1.DERBoolean,dr.asn1.ASN1Object),dr.asn1.DERInteger=function(e){dr.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=dr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},
this.setByInteger=function(e){var t=new a(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Kn.lang.extend(dr.asn1.DERInteger,dr.asn1.ASN1Object),dr.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=dr.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}dr.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";for(var r="",n=0;n<e.length-1;n+=8){var i=e.substr(n,8),a=parseInt(i,2).toString(16);1==a.length&&(a="0"+a),r+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Kn.lang.extend(dr.asn1.DERBitString,dr.asn1.ASN1Object),dr.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=dr.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}dr.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Kn.lang.extend(dr.asn1.DEROctetString,dr.asn1.DERAbstractString),dr.asn1.DERNull=function(){dr.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Kn.lang.extend(dr.asn1.DERNull,dr.asn1.ASN1Object),dr.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new a(e,10),i=r.toString(2),o=7-i.length%7;7==o&&(o=0);for(var s="",l=0;l<o;l++)s+="0";i=s+i;for(var l=0;l<i.length-1;l+=7){var u=i.substr(l,7);l!=i.length-7&&(u="1"+u),n+=t(parseInt(u,2))}return n};dr.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(e){var t=dr.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},Kn.lang.extend(dr.asn1.DERObjectIdentifier,dr.asn1.ASN1Object),dr.asn1.DEREnumerated=function(e){dr.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=dr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new a(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Kn.lang.extend(dr.asn1.DEREnumerated,dr.asn1.ASN1Object),dr.asn1.DERUTF8String=function(e){dr.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Kn.lang.extend(dr.asn1.DERUTF8String,dr.asn1.DERAbstractString),dr.asn1.DERNumericString=function(e){dr.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Kn.lang.extend(dr.asn1.DERNumericString,dr.asn1.DERAbstractString),dr.asn1.DERPrintableString=function(e){dr.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Kn.lang.extend(dr.asn1.DERPrintableString,dr.asn1.DERAbstractString),dr.asn1.DERTeletexString=function(e){dr.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Kn.lang.extend(dr.asn1.DERTeletexString,dr.asn1.DERAbstractString),dr.asn1.DERIA5String=function(e){dr.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Kn.lang.extend(dr.asn1.DERIA5String,dr.asn1.DERAbstractString),dr.asn1.DERUTCTime=function(e){dr.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=sn(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=sn(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},Kn.lang.extend(dr.asn1.DERUTCTime,dr.asn1.DERAbstractTime),dr.asn1.DERGeneralizedTime=function(e){dr.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=sn(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=sn(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},Kn.lang.extend(dr.asn1.DERGeneralizedTime,dr.asn1.DERAbstractTime),dr.asn1.DERSequence=function(e){dr.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},Kn.lang.extend(dr.asn1.DERSequence,dr.asn1.DERAbstractStructured),dr.asn1.DERSet=function(e){dr.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Kn.lang.extend(dr.asn1.DERSet,dr.asn1.DERAbstractStructured),dr.asn1.DERTaggedObject=function(e){dr.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Kn.lang.extend(dr.asn1.DERTaggedObject,dr.asn1.ASN1Object);var fr=new function(){};fr.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},fr.getL=function(e,t){var n=fr.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},
fr.getVblen=function(e,t){var n,r;return""==(n=fr.getL(e,t))?-1:(r="8"===n.substr(0,1)?new a(n.substr(2),16):new a(n,16),r.intValue())},fr.getVidx=function(e,t){var n=fr.getLblen(e,t);return n<0?n:t+2*(n+1)},fr.getV=function(e,t){var n=fr.getVidx(e,t),r=fr.getVblen(e,t);return e.substr(n,2*r)},fr.getTLV=function(e,t){return e.substr(t,2)+fr.getL(e,t)+fr.getV(e,t)},fr.getNextSiblingIdx=function(e,t){return fr.getVidx(e,t)+2*fr.getVblen(e,t)},fr.getChildIdx=function(e,t){var n=fr,r=new Array,i=n.getVidx(e,t);"03"==e.substr(t,2)?r.push(i+2):r.push(i);for(var a=n.getVblen(e,t),o=i,s=0;;){var l=n.getNextSiblingIdx(e,o);if(null==l||l-i>=2*a)break;if(s>=200)break;r.push(l),o=l,s++}return r},fr.getNthChildIdx=function(e,t,n){return fr.getChildIdx(e,t)[n]},fr.getIdxbyList=function(e,t,n,r){var i,a,o=fr;if(0==n.length){if(void 0!==r&&e.substr(t,2)!==r)throw"checking tag doesn't match: "+e.substr(t,2)+"!="+r;return t}return i=n.shift(),a=o.getChildIdx(e,t),o.getIdxbyList(e,a[i],n,r)},fr.getTLVbyList=function(e,t,n,r){var i=fr,a=i.getIdxbyList(e,t,n);if(void 0===a)throw"can't find nthList object";if(void 0!==r&&e.substr(a,2)!=r)throw"checking tag doesn't match: "+e.substr(a,2)+"!="+r;return i.getTLV(e,a)},fr.getVbyList=function(e,t,n,r,i){var a,o,s=fr;if(void 0===(a=s.getIdxbyList(e,t,n,r)))throw"can't find nthList object";return o=s.getV(e,a),!0===i&&(o=o.substr(2)),o},fr.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var a=e.substr(2),o=[],s=0;s<a.length/2;s++)o.push(parseInt(a.substr(2*s,2),16));for(var l=[],u="",s=0;s<o.length;s++)128&o[s]?u+=t((127&o[s]).toString(2),7):(u+=t((127&o[s]).toString(2),7),l.push(new String(parseInt(u,2))),u="");var c=n.join(".");return l.length>0&&(c=c+"."+l.join(".")),c},fr.dump=function(e,t,n,r){var i=fr,a=i.getV,o=i.dump,s=i.getChildIdx,l=e;e instanceof dr.asn1.ASN1Object&&(l=e.getEncodedHex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var c=t.ommit_long_octet;if("01"==l.substr(n,2)){var f=a(l,n);return"00"==f?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n"}if("02"==l.substr(n,2)){var f=a(l,n);return r+"INTEGER "+u(f,c)+"\n"}if("03"==l.substr(n,2)){var f=a(l,n);return r+"BITSTRING "+u(f,c)+"\n"}if("04"==l.substr(n,2)){var f=a(l,n);if(i.isASN1HEX(f)){var d=r+"OCTETSTRING, encapsulates\n";return d+=o(f,t,0,r+"  ")}return r+"OCTETSTRING "+u(f,c)+"\n"}if("05"==l.substr(n,2))return r+"NULL\n";if("06"==l.substr(n,2)){var p=a(l,n),h=dr.asn1.ASN1Util.oidHexToInt(p),y=dr.asn1.x509.OID.oid2name(h),m=h.replace(/\./g," ");return""!=y?r+"ObjectIdentifier "+y+" ("+m+")\n":r+"ObjectIdentifier ("+m+")\n"}if("0c"==l.substr(n,2))return r+"UTF8String '"+gn(a(l,n))+"'\n";if("13"==l.substr(n,2))return r+"PrintableString '"+gn(a(l,n))+"'\n";if("14"==l.substr(n,2))return r+"TeletexString '"+gn(a(l,n))+"'\n";if("16"==l.substr(n,2))return r+"IA5String '"+gn(a(l,n))+"'\n";if("17"==l.substr(n,2))return r+"UTCTime "+gn(a(l,n))+"\n";if("18"==l.substr(n,2))return r+"GeneralizedTime "+gn(a(l,n))+"\n";if("30"==l.substr(n,2)){if("3000"==l.substr(n,4))return r+"SEQUENCE {}\n";var d=r+"SEQUENCE\n",_=s(l,n),g=t;if((2==_.length||3==_.length)&&"06"==l.substr(_[0],2)&&"04"==l.substr(_[_.length-1],2)){var y=i.oidname(a(l,_[0])),b=JSON.parse(JSON.stringify(t));b.x509ExtName=y,g=b}for(var v=0;v<_.length;v++)d+=o(l,g,_[v],r+"  ");return d}if("31"==l.substr(n,2)){for(var d=r+"SET\n",_=s(l,n),v=0;v<_.length;v++)d+=o(l,t,_[v],r+"  ");return d}var w=parseInt(l.substr(n,2),16);if(0!=(128&w)){var k=31&w;if(0!=(32&w)){for(var d=r+"["+k+"]\n",_=s(l,n),v=0;v<_.length;v++)d+=o(l,t,_[v],r+"  ");return d}var f=a(l,n);"68747470"==f.substr(0,8)&&(f=gn(f)),"subjectAltName"===t.x509ExtName&&2==k&&(f=gn(f));var d=r+"["+k+"] "+f+"\n";return d}return r+"UNKNOWN("+l.substr(n,2)+") "+a(l,n)+"\n"},fr.isASN1HEX=function(e){var t=fr;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},fr.oidname=function(e){var t=dr.asn1;dr.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==dr&&dr||(dr={}),void 0!==dr.asn1&&dr.asn1||(dr.asn1={}),void 0!==dr.asn1.x509&&dr.asn1.x509||(dr.asn1.x509={}),dr.asn1.x509.Certificate=function(e){dr.asn1.x509.Certificate.superclass.constructor.call(this);var t=dr,n=(t.crypto,t.asn1),r=n.DERSequence,i=n.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var e=new dr.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});e.init(this.prvKey),e.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=e.sign(),this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new r({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(e){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=e,this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new r({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+kn(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==e&&(void 0!==e.tbscertobj&&(this.asn1TBSCert=e.tbscertobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},Kn.lang.extend(dr.asn1.x509.Certificate,dr.asn1.ASN1Object),dr.asn1.x509.TBSCertificate=function(e){dr.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=dr,n=t.asn1,r=n.DERSequence,i=n.DERInteger,a=n.DERTaggedObject,o=n.x509,s=o.Time,l=o.X500Name,u=o.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new a({obj:new i({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(e){this.asn1SerialNumber=new i(e)},this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new o.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new l(e)},this.setNotBeforeByParam=function(e){this.asn1NotBefore=new s(e)},this.setNotAfterByParam=function(e){this.asn1NotAfter=new s(e)},this.setSubjectByParam=function(e){this.asn1Subject=new l(e)},this.setSubjectPublicKey=function(e){this.asn1SubjPKey=new u(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=mr.getKey(e);this.asn1SubjPKey=new u(t)},this.appendExtension=function(e){this.extensionsArray.push(e)},this.appendExtensionByName=function(e,t){dr.asn1.x509.Extension.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var e=new r({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(e),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var t=new r({array:this.extensionsArray}),n=new a({explicit:!0,tag:"a3",obj:t});this.asn1Array.push(n)}var i=new r({array:this.asn1Array});return this.hTLV=i.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},Kn.lang.extend(dr.asn1.x509.TBSCertificate,dr.asn1.ASN1Object),dr.asn1.x509.Extension=function(e){dr.asn1.x509.Extension.superclass.constructor.call(this);var t=dr,n=t.asn1,r=n.DERObjectIdentifier,i=n.DEROctetString,a=(n.DERBitString,n.DERBoolean),o=n.DERSequence;this.getEncodedHex=function(){var e=new r({oid:this.oid
}),t=new i({hex:this.getExtnValueHex()}),n=new Array;return n.push(e),this.critical&&n.push(new a),n.push(t),new o({array:n}).getEncodedHex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},Kn.lang.extend(dr.asn1.x509.Extension,dr.asn1.ASN1Object),dr.asn1.x509.Extension.appendByNameToArray=function(e,t,n){var r=e.toLowerCase(),i=dr.asn1.x509;if("basicconstraints"==r){var a=new i.BasicConstraints(t);n.push(a)}else if("keyusage"==r){var a=new i.KeyUsage(t);n.push(a)}else if("crldistributionpoints"==r){var a=new i.CRLDistributionPoints(t);n.push(a)}else if("extkeyusage"==r){var a=new i.ExtKeyUsage(t);n.push(a)}else if("authoritykeyidentifier"==r){var a=new i.AuthorityKeyIdentifier(t);n.push(a)}else if("authorityinfoaccess"==r){var a=new i.AuthorityInfoAccess(t);n.push(a)}else if("subjectaltname"==r){var a=new i.SubjectAltName(t);n.push(a)}else{if("issueraltname"!=r)throw"unsupported extension name: "+e;var a=new i.IssuerAltName(t);n.push(a)}},dr.asn1.x509.KeyUsage=function(e){dr.asn1.x509.KeyUsage.superclass.constructor.call(this,e),this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==e&&void 0!==e.bin&&(this.asn1ExtnValue=new dr.asn1.DERBitString(e))},Kn.lang.extend(dr.asn1.x509.KeyUsage,dr.asn1.x509.Extension),dr.asn1.x509.BasicConstraints=function(e){dr.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new dr.asn1.DERBoolean),this.pathLen>-1&&e.push(new dr.asn1.DERInteger({int:this.pathLen}));var t=new dr.asn1.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},Kn.lang.extend(dr.asn1.x509.BasicConstraints,dr.asn1.x509.Extension),dr.asn1.x509.CRLDistributionPoints=function(e){dr.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=dr,n=t.asn1,r=n.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(e){this.asn1ExtnValue=new n.DERSequence({array:e})},this.setByOneURI=function(e){var t=new r.GeneralNames([{uri:e}]),n=new r.DistributionPointName(t),i=new r.DistributionPoint({dpobj:n});this.setByDPArray([i])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},Kn.lang.extend(dr.asn1.x509.CRLDistributionPoints,dr.asn1.x509.Extension),dr.asn1.x509.ExtKeyUsage=function(e){dr.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=dr,n=t.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new n.DERSequence;for(var t=0;t<e.length;t++){var r=new n.DERObjectIdentifier(e[t]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},Kn.lang.extend(dr.asn1.x509.ExtKeyUsage,dr.asn1.x509.Extension),dr.asn1.x509.AuthorityKeyIdentifier=function(e){dr.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=dr,n=t.asn1,r=n.DERTaggedObject;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new r({explicit:!1,tag:"a1",obj:this.asn1CertIssuer})),this.asn1CertSN&&e.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new n.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){this.asn1KID=new dr.asn1.DEROctetString(e)},this.setCertIssuerByParam=function(e){this.asn1CertIssuer=new dr.asn1.x509.X500Name(e)},this.setCertSNByParam=function(e){this.asn1CertSN=new dr.asn1.DERInteger(e)},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn))},Kn.lang.extend(dr.asn1.x509.AuthorityKeyIdentifier,dr.asn1.x509.Extension),dr.asn1.x509.AuthorityInfoAccess=function(e){dr.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=dr,r=n.asn1,i=r.DERSequence,a=0;a<e.length;a++){var o=new r.DERObjectIdentifier(e[a].accessMethod),s=new r.x509.GeneralName(e[a].accessLocation),l=new i({array:[o,s]});t.push(l)}this.asn1ExtnValue=new i({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},Kn.lang.extend(dr.asn1.x509.AuthorityInfoAccess,dr.asn1.x509.Extension),dr.asn1.x509.SubjectAltName=function(e){dr.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new dr.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Kn.lang.extend(dr.asn1.x509.SubjectAltName,dr.asn1.x509.Extension),dr.asn1.x509.IssuerAltName=function(e){dr.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new dr.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Kn.lang.extend(dr.asn1.x509.IssuerAltName,dr.asn1.x509.Extension),dr.asn1.x509.CRL=function(e){dr.asn1.x509.CRL.superclass.constructor.call(this);this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new dr.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"}),sig.initSign(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new dr.asn1.DERBitString({hex:"00"+this.hexSig});var e=new dr.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+kn(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==e&&(void 0!==e.tbsobj&&(this.asn1TBSCertList=e.tbsobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},Kn.lang.extend(dr.asn1.x509.CRL,dr.asn1.ASN1Object),dr.asn1.x509.TBSCertList=function(e){dr.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=dr,n=t.asn1,r=n.DERSequence,i=n.x509,a=i.Time;this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new i.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new i.X500Name(e)},this.setThisUpdateByParam=function(e){this.asn1ThisUpdate=new a(e)},this.setNextUpdateByParam=function(e){this.asn1NextUpdate=new a(e)},this.addRevokedCert=function(e,t){var n={};void 0!=e&&null!=e&&(n.sn=e),void 0!=t&&null!=t&&(n.time=t);var r=new i.CRLEntry(n);this.aRevokedCert.push(r)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var e=new r({array:this.aRevokedCert});this.asn1Array.push(e)}var t=new r({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},Kn.lang.extend(dr.asn1.x509.TBSCertList,dr.asn1.ASN1Object),dr.asn1.x509.CRLEntry=function(e){dr.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=dr,n=t.asn1
;this.setCertSerial=function(e){this.sn=new n.DERInteger(e)},this.setRevocationDate=function(e){this.time=new n.x509.Time(e)},this.getEncodedHex=function(){var e=new n.DERSequence({array:[this.sn,this.time]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},Kn.lang.extend(dr.asn1.x509.CRLEntry,dr.asn1.ASN1Object),dr.asn1.x509.X500Name=function(e){dr.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var t=dr,n=t.asn1,r=n.x509,i=En;if(this.setByString=function(e){var t=e.split("/");t.shift();for(var n=0;n<t.length;n++)this.asn1Array.push(new r.RDN({str:t[n]}))},this.setByLdapString=function(e){var t=r.X500Name.ldapToOneline(e);this.setByString(t)},this.setByObject=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=new dr.asn1.x509.RDN({str:t+"="+e[t]});this.asn1Array?this.asn1Array.push(n):this.asn1Array=[n]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new n.DERSequence({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e){if(void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):"object"==typeof e&&this.setByObject(e),void 0!==e.certissuer){var a=new Gn;a.hex=i(e.certissuer),this.hTLV=a.getIssuerHex()}if(void 0!==e.certsubject){var a=new Gn;a.hex=i(e.certsubject),this.hTLV=a.getSubjectHex()}}},Kn.lang.extend(dr.asn1.x509.X500Name,dr.asn1.ASN1Object),dr.asn1.x509.X500Name.onelineToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";e=e.substr(1);var t=e.split("/");return t.reverse(),t=t.map(function(e){return e.replace(/,/,"\\,")}),t.join(",")},dr.asn1.x509.X500Name.ldapToOneline=function(e){for(var t=e.split(","),n=!1,r=[],i=0;t.length>0;i++){var a=t.shift();if(!0===n){var o=r.pop(),s=(o+","+a).replace(/\\,/g,",");r.push(s),n=!1}else r.push(a);"\\"===a.substr(-1,1)&&(n=!0)}return r=r.map(function(e){return e.replace("/","\\/")}),r.reverse(),"/"+r.join("/")},dr.asn1.x509.RDN=function(e){dr.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(e){this.asn1Array.push(new dr.asn1.x509.AttributeTypeAndValue({str:e}))},this.addByMultiValuedString=function(e){for(var t=dr.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.getEncodedHex=function(){var e=new dr.asn1.DERSet({array:this.asn1Array});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.addByMultiValuedString(e.str)},Kn.lang.extend(dr.asn1.x509.RDN,dr.asn1.ASN1Object),dr.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,r=[],i=0;t.length>0;i++){var a=t.shift();if(!0===n){var o=r.pop(),s=(o+"+"+a).replace(/\\\+/g,"+");r.push(s),n=!1}else r.push(a);"\\"===a.substr(-1,1)&&(n=!0)}for(var l=!1,u=[],i=0;r.length>0;i++){var a=r.shift();if(!0===l){var c=u.pop();if(a.match(/"$/)){var s=(c+"+"+a).replace(/^([^=]+)="(.*)"$/,"$1=$2");u.push(s),l=!1}else u.push(c+"+"+a)}else u.push(a);a.match(/^[^=]+="/)&&(l=!0)}return u},dr.asn1.x509.AttributeTypeAndValue=function(e){dr.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var t=dr,n=t.asn1;this.setByString=function(e){var t=e.match(/^([^=]+)=(.+)$/);if(!t)throw"malformed attrTypeAndValueStr: "+e;this.setByAttrTypeAndValueStr(t[1],t[2])},this.setByAttrTypeAndValueStr=function(e,t){this.typeObj=dr.asn1.x509.OID.atype2obj(e);var n="utf8";"C"==e&&(n="prn"),this.valueObj=this.getValueObj(n,t)},this.getValueObj=function(e,t){if("utf8"==e)return new n.DERUTF8String({str:t});if("prn"==e)return new n.DERPrintableString({str:t});if("tel"==e)return new n.DERTeletexString({str:t});if("ia5"==e)return new n.DERIA5String({str:t});throw"unsupported directory string type: type="+e+" value="+t},this.getEncodedHex=function(){var e=new n.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.setByString(e.str)},Kn.lang.extend(dr.asn1.x509.AttributeTypeAndValue,dr.asn1.ASN1Object),dr.asn1.x509.SubjectPublicKeyInfo=function(e){dr.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=dr,n=t.asn1,r=n.DERInteger,i=n.DERBitString,a=n.DERObjectIdentifier,o=n.DERSequence,s=n.ASN1Util.newObject,l=n.x509,u=l.AlgorithmIdentifier,c=t.crypto;c.ECDSA,c.DSA;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new o({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var e=this.getASN1Object();return this.hTLV=e.getEncodedHex(),this.hTLV},this.setPubKey=function(e){try{if(e instanceof mt){var t=s({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}),n=t.getEncodedHex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+n})}}catch(e){}try{if(e instanceof dr.crypto.ECDSA){var o=new a({name:e.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:o}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof dr.crypto.DSA){var o=new s({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]});this.asn1AlgId=new u({name:"dsa",asn1params:o});var l=new r({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+l.getEncodedHex()})}}catch(e){}},void 0!==e&&this.setPubKey(e)},Kn.lang.extend(dr.asn1.x509.SubjectPublicKeyInfo,dr.asn1.ASN1Object),dr.asn1.x509.Time=function(e){dr.asn1.x509.Time.superclass.constructor.call(this);var t=dr,n=t.asn1,r=n.DERUTCTime,i=n.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.getEncodedHex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new r(this.timeParams):new i(this.timeParams):"utc"==this.type?new r:new i,this.TLV=e.getEncodedHex(),this.TLV},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},Kn.lang.extend(dr.asn1.x509.Time,dr.asn1.ASN1Object),dr.asn1.x509.AlgorithmIdentifier=function(e){dr.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=dr,n=t.asn1;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw"algorithm not specified";null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=n.x509.OID.name2obj(this.nameAlg));var e=[this.asn1Alg];null!==this.asn1Params&&e.push(this.asn1Params);var t=new n.DERSequence({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new n.DERNull)}},Kn.lang.extend(dr.asn1.x509.AlgorithmIdentifier,dr.asn1.ASN1Object),dr.asn1.x509.GeneralName=function(e){dr.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86"},n=dr,r=n.asn1,i=r.DERIA5String,a=r.DERTaggedObject,o=r.ASN1Object,s=r.x509.X500Name,l=En;this.explicit=!1,this.setByParam=function(e){var n=null;if(void 0!==e){if(void 0!==e.rfc822&&(this.type="rfc822",n=new i({str:e[this.type]})),void 0!==e.dns&&(this.type="dns",n=new i({str:e[this.type]})),void 0!==e.uri&&(this.type="uri",n=new i({str:e[this.type]})),void 0!==e.dn&&(this.type="dn",n=new s({str:e.dn})),void 0!==e.ldapdn&&(this.type="dn",n=new s({ldapstr:e.ldapdn})),void 0!==e.certissuer){this.type="dn",this.explicit=!0;var r=e.certissuer,u=null;if(r.match(/^[0-9A-Fa-f]+$/),-1!=r.indexOf("-----BEGIN ")&&(u=l(r)),null==u)throw"certissuer param not cert";var c=new Gn;c.hex=u;var f=c.getIssuerHex();n=new o,n.hTLV=f}if(void 0!==e.certsubj){this.type="dn",this.explicit=!0;var r=e.certsubj,u=null;if(r.match(/^[0-9A-Fa-f]+$/),
-1!=r.indexOf("-----BEGIN ")&&(u=l(r)),null==u)throw"certsubj param not cert";var c=new Gn;c.hex=u;var f=c.getSubjectHex();n=new o,n.hTLV=f}if(null==this.type)throw"unsupported type in params="+e;this.asn1Obj=new a({explicit:this.explicit,tag:t[this.type],obj:n})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==e&&this.setByParam(e)},Kn.lang.extend(dr.asn1.x509.GeneralName,dr.asn1.ASN1Object),dr.asn1.x509.GeneralNames=function(e){dr.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=dr,n=t.asn1;this.setByParamArray=function(e){for(var t=0;t<e.length;t++){var r=new n.x509.GeneralName(e[t]);this.asn1Array.push(r)}},this.getEncodedHex=function(){return new n.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},Kn.lang.extend(dr.asn1.x509.GeneralNames,dr.asn1.ASN1Object),dr.asn1.x509.DistributionPointName=function(e){dr.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=dr,n=t.asn1,r=n.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new r({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==e){if(!n.x509.GeneralNames.prototype.isPrototypeOf(e))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=e}},Kn.lang.extend(dr.asn1.x509.DistributionPointName,dr.asn1.ASN1Object),dr.asn1.x509.DistributionPoint=function(e){dr.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=dr,n=t.asn1;this.getEncodedHex=function(){var e=new n.DERSequence;if(null!=this.asn1DP){var t=new n.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(t)}return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.dpobj&&(this.asn1DP=e.dpobj)},Kn.lang.extend(dr.asn1.x509.DistributionPoint,dr.asn1.ASN1Object),dr.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",countryName:"2.5.4.6",streetAddress:"2.5.4.9",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var t=this.name2oidList[e],n=new dr.asn1.DERObjectIdentifier({oid:t});return this.objCache[e]=n,n},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.atype2oidList[e])throw"AttributeType name undefined: "+e;var t=this.atype2oidList[e],n=new dr.asn1.DERObjectIdentifier({oid:t});return this.objCache[e]=n,n}},dr.asn1.x509.OID.oid2name=function(e){var t=dr.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},dr.asn1.x509.OID.oid2atype=function(e){var t=dr.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},dr.asn1.x509.OID.name2oid=function(e){var t=dr.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},dr.asn1.x509.X509Util={},dr.asn1.x509.X509Util.newCertPEM=function(e){var t=dr.asn1.x509,n=t.TBSCertificate,r=t.Certificate,i=new n;if(void 0===e.serial)throw"serial number undefined.";if(i.setSerialNumberByParam(e.serial),"string"!=typeof e.sigalg.name)throw"unproper signature algorithm name";if(i.setSignatureAlgByParam(e.sigalg),void 0===e.issuer)throw"issuer name undefined.";if(i.setIssuerByParam(e.issuer),void 0===e.notbefore)throw"notbefore undefined.";if(i.setNotBeforeByParam(e.notbefore),void 0===e.notafter)throw"notafter undefined.";if(i.setNotAfterByParam(e.notafter),void 0===e.subject)throw"subject name undefined.";if(i.setSubjectByParam(e.subject),void 0===e.sbjpubkey)throw"subject public key undefined.";if(i.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var a=0;a<e.ext.length;a++)for(key in e.ext[a])i.appendExtensionByName(key,e.ext[a][key]);if(void 0===e.cakey&&void 0===e.sighex)throw"param cakey and sighex undefined.";var o=null,s=null;return e.cakey&&(o=!0===e.cakey.isPrivate?e.cakey:mr.getKey.apply(null,e.cakey),s=new r({tbscertobj:i,prvkeyobj:o}),s.sign()),e.sighex&&(s=new r({tbscertobj:i}),s.setSignatureHex(e.sighex)),s.getPEMString()},void 0!==dr&&dr||(dr={}),void 0!==dr.asn1&&dr.asn1||(dr.asn1={}),void 0!==dr.asn1.cms&&dr.asn1.cms||(dr.asn1.cms={}),dr.asn1.cms.Attribute=function(e){var t=dr,n=t.asn1;n.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var e,t,r;e=new n.DERObjectIdentifier({oid:this.attrTypeOid}),t=new n.DERSet({array:this.valueList});try{t.getEncodedHex()}catch(e){throw"fail valueSet.getEncodedHex in Attribute(1)/"+e}r=new n.DERSequence({array:[e,t]});try{this.hTLV=r.getEncodedHex()}catch(e){throw"failed seq.getEncodedHex in Attribute(2)/"+e}return this.hTLV}},Kn.lang.extend(dr.asn1.cms.Attribute,dr.asn1.ASN1Object),dr.asn1.cms.ContentType=function(e){var t=dr,n=t.asn1;(n.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3",void 0!==e)&&(new n.DERObjectIdentifier(e),
this.valueList=[null])},Kn.lang.extend(dr.asn1.cms.ContentType,dr.asn1.cms.Attribute),dr.asn1.cms.MessageDigest=function(e){var t=dr,n=t.asn1,r=n.DEROctetString,i=n.cms;if(i.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==e)if(e.eciObj instanceof i.EncapsulatedContentInfo&&"string"==typeof e.hashAlg){var a=e.eciObj.eContentValueHex,o=e.hashAlg,s=t.crypto.Util.hashHex(a,o),l=new r({hex:s});l.getEncodedHex(),this.valueList=[l]}else{var l=new r(e);l.getEncodedHex(),this.valueList=[l]}},Kn.lang.extend(dr.asn1.cms.MessageDigest,dr.asn1.cms.Attribute),dr.asn1.cms.SigningTime=function(e){var t=dr,n=t.asn1;if(n.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==e){var r=new n.x509.Time(e);try{r.getEncodedHex()}catch(e){throw"SigningTime.getEncodedHex() failed/"+e}this.valueList=[r]}},Kn.lang.extend(dr.asn1.cms.SigningTime,dr.asn1.cms.Attribute),dr.asn1.cms.SigningCertificate=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.cms;t.crypto;i.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(e){for(var a=[],o=0;o<e.length;o++){var s=En(e[o]),l=t.crypto.Util.hashHex(s,"sha1"),u=new n.DEROctetString({hex:l});u.getEncodedHex();var c=new i.IssuerAndSerialNumber({cert:e[o]});c.getEncodedHex();var f=new r({array:[u,c]});f.getEncodedHex(),a.push(f)}var d=new r({array:a});d.getEncodedHex(),this.valueList=[d]},void 0!==e&&"object"==typeof e.array&&this.setCerts(e.array)},Kn.lang.extend(dr.asn1.cms.SigningCertificate,dr.asn1.cms.Attribute),dr.asn1.cms.SigningCertificateV2=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.x509,a=n.cms,o=t.crypto;if(a.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(e,t){for(var s=[],l=0;l<e.length;l++){var u=En(e[l]),c=[];"sha256"!==t&&c.push(new i.AlgorithmIdentifier({name:t}));var f=o.Util.hashHex(u,t),d=new n.DEROctetString({hex:f});d.getEncodedHex(),c.push(d);var p=new a.IssuerAndSerialNumber({cert:e[l]});p.getEncodedHex(),c.push(p);var h=new r({array:c});h.getEncodedHex(),s.push(h)}var y=new r({array:s});y.getEncodedHex(),this.valueList=[y]},void 0!==e&&"object"==typeof e.array){var s="sha256";"string"==typeof e.hashAlg&&(s=e.hashAlg),this.setCerts(e.array,s)}},Kn.lang.extend(dr.asn1.cms.SigningCertificateV2,dr.asn1.cms.Attribute),dr.asn1.cms.IssuerAndSerialNumber=function(e){var t=dr,n=t.asn1,r=n.DERInteger,i=n.cms,a=n.x509,o=a.X500Name,s=Gn;i.IssuerAndSerialNumber.superclass.constructor.call(this);this.setByCertPEM=function(e){var t=En(e),n=new s;n.hex=t;var i=n.getIssuerHex();this.dIssuer=new o,this.dIssuer.hTLV=i;var a=n.getSerialNumberHex();this.dSerial=new r({hex:a})},this.getEncodedHex=function(){var e=new n.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(e.issuer instanceof o?this.dIssuer=e.issuer:this.dIssuer=new o(e.issuer),e.serial instanceof r?this.dSerial=e.serial:this.dSerial=new r(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},Kn.lang.extend(dr.asn1.cms.IssuerAndSerialNumber,dr.asn1.ASN1Object),dr.asn1.cms.AttributeList=function(e){var t=dr,n=t.asn1,r=n.cms;r.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(e){e instanceof r.Attribute&&this.list.push(e)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new n.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Kn.lang.extend(dr.asn1.cms.AttributeList,dr.asn1.ASN1Object),dr.asn1.cms.SignerInfo=function(e){var t=dr,n=t.asn1,r=n.DERTaggedObject,i=n.cms,a=i.AttributeList,o=i.ContentType,s=i.EncapsulatedContentInfo,l=i.MessageDigest,u=i.SignedData,c=n.x509,f=c.AlgorithmIdentifier,d=t.crypto,p=mr;i.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new n.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new a,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new a,this.setSignerIdentifier=function(e){if("string"==typeof e&&-1!=e.indexOf("CERTIFICATE")&&-1!=e.indexOf("BEGIN")&&-1!=e.indexOf("END"))this.dSignerIdentifier=new i.IssuerAndSerialNumber({cert:e})},this.setForContentAndHash=function(e){void 0!==e&&(e.eciObj instanceof s&&(this.dSignedAttrs.add(new o({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new l({eciObj:e.eciObj,hashAlg:e.hashAlg}))),void 0!==e.sdObj&&e.sdObj instanceof u&&-1==e.sdObj.digestAlgNameList.join(":").indexOf(e.hashAlg)&&e.sdObj.digestAlgNameList.push(e.hashAlg),"string"==typeof e.hashAlg&&(this.dDigestAlgorithm=new f({name:e.hashAlg})))},this.sign=function(e,t){this.dSigAlg=new f({name:t});var r=this.dSignedAttrs.getEncodedHex(),i=p.getKey(e),a=new d.Signature({alg:t});a.init(i),a.updateHex(r);var o=a.sign();this.dSig=new n.DEROctetString({hex:o})},this.addUnsigned=function(e){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(e)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof a&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var e=new r({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),t=null;this.dUnsignedAttrs.length()>0&&(t=new r({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var i=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,e,this.dSigAlg,this.dSig];null!=t&&i.push(t);var o=new n.DERSequence({array:i});return this.hTLV=o.getEncodedHex(),this.hTLV}},Kn.lang.extend(dr.asn1.cms.SignerInfo,dr.asn1.ASN1Object),dr.asn1.cms.EncapsulatedContentInfo=function(e){var t=dr,n=t.asn1,r=n.DERTaggedObject,i=n.DERSequence,a=n.DERObjectIdentifier,o=n.DEROctetString;n.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new a({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(e){e.match(/^[0-2][.][0-9.]+$/)?this.dEContentType=new a({oid:e}):this.dEContentType=new a({name:e})},this.setContentValue=function(e){void 0!==e&&("string"==typeof e.hex?this.eContentValueHex=e.hex:"string"==typeof e.str&&(this.eContentValueHex=_n(e.str)))},this.setContentValueHex=function(e){this.eContentValueHex=e},this.setContentValueStr=function(e){this.eContentValueHex=_n(e)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var e=new o({hex:this.eContentValueHex});this.dEContent=new r({obj:e,tag:"a0",explicit:!0});var t=[this.dEContentType];this.isDetached||t.push(this.dEContent);var n=new i({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV}},Kn.lang.extend(dr.asn1.cms.EncapsulatedContentInfo,dr.asn1.ASN1Object),dr.asn1.cms.ContentInfo=function(e){var t=dr,n=t.asn1,r=n.DERTaggedObject,i=n.DERSequence,a=n.x509;dr.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(e){"string"==typeof e&&(this.dContentType=a.OID.name2obj(e))},this.getEncodedHex=function(){var e=new r({obj:this.dContent,tag:"a0",explicit:!0}),t=new i({array:[this.dContentType,e]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&(e.type&&this.setContentType(e.type),e.obj&&e.obj instanceof n.ASN1Object&&(this.dContent=e.obj))},Kn.lang.extend(dr.asn1.cms.ContentInfo,dr.asn1.ASN1Object),dr.asn1.cms.SignedData=function(e){var t=dr,n=t.asn1,r=n.ASN1Object,i=n.DERInteger,a=n.DERSet,o=n.DERSequence,s=n.DERTaggedObject,l=n.cms,u=l.EncapsulatedContentInfo,c=l.SignerInfo,f=l.ContentInfo,d=n.x509,p=d.AlgorithmIdentifier;dr.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new i({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],
this.dEncapContentInfo=new u,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new c],this.addCertificatesByPEM=function(e){var t=En(e),n=new r;n.hTLV=t,this.certificateList.push(n)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var e=[],t=0;t<this.digestAlgNameList.length;t++){var n=this.digestAlgNameList[t],r=new p({name:n});e.push(r)}this.dDigestAlgs=new a({array:e})}var i=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var l=new a({array:this.certificateList});this.dCerts=new s({obj:l,tag:"a0",explicit:!1})}null!=this.dCerts&&i.push(this.dCerts);var u=new a({array:this.signerInfoList});i.push(u);var c=new o({array:i});return this.hTLV=c.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new f({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return In(this.getContentInfoEncodedHex(),"CMS")}},Kn.lang.extend(dr.asn1.cms.SignedData,dr.asn1.ASN1Object),dr.asn1.cms.CMSUtil=new function(){},dr.asn1.cms.CMSUtil.newSignedData=function(e){var t=dr,n=t.asn1,r=n.cms,i=r.SignerInfo,a=r.SignedData,o=r.SigningTime,s=r.SigningCertificate,l=r.SigningCertificateV2,u=n.cades,c=u.SignaturePolicyIdentifier,f=new a;if(f.dEncapContentInfo.setContentValue(e.content),"object"==typeof e.certs)for(var d=0;d<e.certs.length;d++)f.addCertificatesByPEM(e.certs[d]);f.signerInfoList=[];for(var d=0;d<e.signerInfos.length;d++){var p=e.signerInfos[d],h=new i;h.setSignerIdentifier(p.signerCert),h.setForContentAndHash({sdObj:f,eciObj:f.dEncapContentInfo,hashAlg:p.hashAlg});for(attrName in p.sAttr){var y=p.sAttr[attrName];if("SigningTime"==attrName){var m=new o(y);h.dSignedAttrs.add(m)}if("SigningCertificate"==attrName){var m=new s(y);h.dSignedAttrs.add(m)}if("SigningCertificateV2"==attrName){var m=new l(y);h.dSignedAttrs.add(m)}if("SignaturePolicyIdentifier"==attrName){var m=new c(y);h.dSignedAttrs.add(m)}}h.sign(p.signerPrvKey,p.sigAlg),f.signerInfoList.push(h)}return f},dr.asn1.cms.CMSUtil.verifySignedData=function(e){var t=dr,n=t.asn1,r=n.cms,i=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,n.cades),a=(i.SignaturePolicyIdentifier,t.lang.String.isHex),o=fr,s=o.getVbyList,l=o.getTLVbyList,u=o.getIdxbyList,c=o.getChildIdx,f=o.getTLV,d=o.oidname,p=t.crypto.Util.hashHex;void 0===e.cms&&a(e.cms);var h=e.cms,y=function(e,t){for(var n,r=3;r<6;r++)if(void 0!==(n=u(e,0,[1,0,r]))){var i=e.substr(n,2);"a0"===i&&(t.certsIdx=n),"a1"===i&&(t.revinfosIdx=n),"31"===i&&(t.signerinfosIdx=n)}},m=function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var r=c(e,n);t.signerInfoIdxList=r;for(var i=0;i<r.length;i++){var a=r[i],o={idx:a};_(e,o),t.signerInfos.push(o)}}},_=function(e,t){var n=t.idx;t.signerid_issuer1=l(e,n,[1,0],"30"),t.signerid_serial1=s(e,n,[1,1],"02"),t.hashalg=d(s(e,n,[2,0],"06"));var r=u(e,n,[3],"a0");t.idxSignedAttrs=r,g(e,t,r);var i=c(e,n),a=i.length;if(a<6)throw"malformed SignerInfo";t.sigalg=d(s(e,n,[a-2,0],"06")),t.sigval=s(e,n,[a-1],"04")},g=function(e,t,n){var r=c(e,n);t.signedAttrIdxList=r;for(var i=0;i<r.length;i++){var a,o=r[i],l=s(e,o,[0],"06");"2a864886f70d010905"===l?(a=gn(s(e,o,[1,0])),t.saSigningTime=a):"2a864886f70d010904"===l&&(a=s(e,o,[1,0],"04"),t.saMessageDigest=a)}},b=function(e,t,n,r){var i,a=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var o=c(e,a),s=0;s<o.length;s++){var l=f(e,o[s]),u=new Gn;u.readCertHex(l),i[s]=u,t.certkeys[s]=u.getPublicKey()}t.certs=i}else i=t.certs;t.cccc=i.length,t.cccci=o.length;for(var s=0;s<i.length;s++){var d=u.getIssuerHex(),p=u.getSerialNumberHex();n.signerid_issuer1===d&&n.signerid_serial1===p&&(n.certkey_idx=s)}},v=function(e,t,n,r){n.verifyDetail={};var i=n.verifyDetail,a=t.parse.econtent,o=n.hashalg,s=n.saMessageDigest;i.validMessageDigest=!1,p(a,o)===s&&(i.validMessageDigest=!0),b(e,t,n),i.validSignatureValue=!1;var l=n.sigalg,u="31"+f(e,n.idxSignedAttrs).substr(2);n.signedattrshex=u;var c=t.certs[n.certkey_idx].getPublicKey(),d=new dr.crypto.Signature({alg:l});d.init(c),d.updateHex(u);var h=d.verify(n.sigval);i.validSignatureValue_isValid=h,!0===h&&(i.validSignatureValue=!0),n.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(n.isValid=!0)},w={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==s(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=s(e,0,[1,0,2,1,0]),y(e,t),t.signerInfos=[],m(e,t)}(h,w.parse),function(e,t){for(var n=t.parse.signerInfos,r=n.length,i=!0,a=0;a<r;a++){var o=n[a];v(e,t,o,a),o.isValid||(i=!1)}t.isValid=i}(h,w),w},void 0!==dr&&dr||(dr={}),void 0!==dr.asn1&&dr.asn1||(dr.asn1={}),void 0!==dr.asn1.tsp&&dr.asn1.tsp||(dr.asn1.tsp={}),dr.asn1.tsp.Accuracy=function(e){var t=dr,n=t.asn1,r=n.DERInteger,i=n.DERSequence,a=n.DERTaggedObject;n.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var e=null,t=null,n=null,o=[];if(null!=this.seconds&&(e=new r({int:this.seconds}),o.push(e)),null!=this.millis){var s=new r({int:this.millis});t=new a({obj:s,tag:"80",explicit:!1}),o.push(t)}if(null!=this.micros){var l=new r({int:this.micros});n=new a({obj:l,tag:"81",explicit:!1}),o.push(n)}var u=new i({array:o});return this.hTLV=u.getEncodedHex(),this.hTLV},void 0!==e&&("number"==typeof e.seconds&&(this.seconds=e.seconds),"number"==typeof e.millis&&(this.millis=e.millis),"number"==typeof e.micros&&(this.micros=e.micros))},Kn.lang.extend(dr.asn1.tsp.Accuracy,dr.asn1.ASN1Object),dr.asn1.tsp.MessageImprint=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.DEROctetString,a=n.x509,o=a.AlgorithmIdentifier;n.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new r({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==e&&("string"==typeof e.hashAlg&&(this.dHashAlg=new o({name:e.hashAlg})),"string"==typeof e.hashValue&&(this.dHashValue=new i({hex:e.hashValue})))},Kn.lang.extend(dr.asn1.tsp.MessageImprint,dr.asn1.ASN1Object),dr.asn1.tsp.TimeStampReq=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.DERInteger,a=n.DERBoolean,o=n.DERObjectIdentifier,s=n.tsp,l=s.MessageImprint;s.TimeStampReq.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(e){if(e instanceof l)return void(this.dMessageImprint=e);"object"==typeof e&&(this.dMessageImprint=new l(e))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var e=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&e.push(this.dPolicy),null!=this.dNonce&&e.push(this.dNonce),this.certReq&&e.push(new a);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.mi&&this.setMessageImprint(e.mi),"object"==typeof e.policy&&(this.dPolicy=new o(e.policy)),"object"==typeof e.nonce&&(this.dNonce=new i(e.nonce)),"boolean"==typeof e.certreq&&(this.certReq=e.certreq))},Kn.lang.extend(dr.asn1.tsp.TimeStampReq,dr.asn1.ASN1Object),dr.asn1.tsp.TSTInfo=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.DERInteger,a=n.DERBoolean,o=n.DERGeneralizedTime,s=n.DERObjectIdentifier,l=n.tsp,u=l.MessageImprint,c=l.Accuracy,f=n.x509.X500Name;if(l.TSTInfo.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(e.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(e.push(this.dMessageImprint),
null==this.dSerialNumber)throw"serialNumber shall be specified.";if(e.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new s({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new u(e.messageImprint)),void 0!==e.serialNumber&&(this.dSerialNumber=new i(e.serialNumber)),void 0!==e.genTime&&(this.dGenTime=new o(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new c(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new a),void 0!==e.nonce&&(this.dNonce=new i(e.nonce)),void 0!==e.tsa&&(this.dTsa=new f(e.tsa))}},Kn.lang.extend(dr.asn1.tsp.TSTInfo,dr.asn1.ASN1Object),dr.asn1.tsp.TimeStampResp=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.ASN1Object,a=n.tsp,o=a.PKIStatusInfo;a.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dTST&&e.push(this.dTST);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new o(e.status)),void 0!==e.tst&&e.tst instanceof i&&(this.dTST=e.tst.getContentInfo()))},Kn.lang.extend(dr.asn1.tsp.TimeStampResp,dr.asn1.ASN1Object),dr.asn1.tsp.PKIStatusInfo=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.tsp,a=i.PKIStatus,o=i.PKIFreeText,s=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dStatusString&&e.push(this.dStatusString),null!=this.dFailureInfo&&e.push(this.dFailureInfo);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new a(e.status)),"object"==typeof e.statstr&&(this.dStatusString=new o({array:e.statstr})),"object"==typeof e.failinfo&&(this.dFailureInfo=new s(e.failinfo)))},Kn.lang.extend(dr.asn1.tsp.PKIStatusInfo,dr.asn1.ASN1Object),dr.asn1.tsp.PKIStatus=function(e){var t=dr,n=t.asn1,r=n.DERInteger,i=n.tsp,a=i.PKIStatus;i.PKIStatus.superclass.constructor.call(this);if(this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==e)if(void 0!==e.name){var o=a.valueList;if(void 0===o[e.name])throw"name undefined: "+e.name;this.dStatus=new r({int:o[e.name]})}else this.dStatus=new r(e)},Kn.lang.extend(dr.asn1.tsp.PKIStatus,dr.asn1.ASN1Object),dr.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},dr.asn1.tsp.PKIFreeText=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var e=[],t=0;t<this.textList.length;t++)e.push(new i({str:this.textList[t]}));var n=new r({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&"object"==typeof e.array&&(this.textList=e.array)},Kn.lang.extend(dr.asn1.tsp.PKIFreeText,dr.asn1.ASN1Object),dr.asn1.tsp.PKIFailureInfo=function(e){var t=dr,n=t.asn1,r=n.DERBitString,i=n.tsp,a=i.PKIFailureInfo;if(a.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var e=new Number(this.value).toString(2),t=new r;return t.setByBinaryString(e),this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e)if("string"==typeof e.name){var o=a.valueList;if(void 0===o[e.name])throw"name undefined: "+e.name;this.value=o[e.name]}else"number"==typeof e.int&&(this.value=e.int)},Kn.lang.extend(dr.asn1.tsp.PKIFailureInfo,dr.asn1.ASN1Object),dr.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},dr.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},dr.asn1.tsp.SimpleTSAAdapter=function(e){var t=dr,n=t.asn1,r=n.tsp,i=t.crypto.Util.hashHex;r.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var n=i(e,t);this.params.tstInfo.messageImprint={hashAlg:t,hashValue:n},this.params.tstInfo.serialNumber={int:this.serial++};var a=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:a},r.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Kn.lang.extend(dr.asn1.tsp.SimpleTSAAdapter,dr.asn1.tsp.AbstractTSAAdapter),dr.asn1.tsp.FixedTSAAdapter=function(e){var t=dr,n=t.asn1,r=n.tsp,i=t.crypto.Util.hashHex;r.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var n=i(e,t);return this.params.tstInfo.messageImprint={hashAlg:t,hashValue:n},r.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Kn.lang.extend(dr.asn1.tsp.FixedTSAAdapter,dr.asn1.tsp.AbstractTSAAdapter),dr.asn1.tsp.TSPUtil=new function(){},dr.asn1.tsp.TSPUtil.newTimeStampToken=function(e){var t=dr,n=t.asn1,r=n.cms,i=(n.tsp,n.tsp.TSTInfo),a=new r.SignedData,o=new i(e.tstInfo),s=o.getEncodedHex();if(a.dEncapContentInfo.setContentValue({hex:s}),a.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof e.certs)for(var l=0;l<e.certs.length;l++)a.addCertificatesByPEM(e.certs[l]);var u=a.signerInfoList[0];u.setSignerIdentifier(e.signerCert),u.setForContentAndHash({sdObj:a,eciObj:a.dEncapContentInfo,hashAlg:e.hashAlg});var c=new r.SigningCertificate({array:[e.signerCert]});return u.dSignedAttrs.add(c),u.sign(e.signerPrvKey,e.sigAlg),a},dr.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=fr,n=t.getChildIdx,r=t.getV,i=t.getTLV,a={};a.certreq=!1;var o=n(e,0);if(o.length<2)throw"TimeStampReq must have at least 2 items";var s=i(e,o[1]);a.mi=dr.asn1.tsp.TSPUtil.parseMessageImprint(s);for(var l=2;l<o.length;l++){var u=o[l],c=e.substr(u,2);if("06"==c){var f=r(e,u);a.policy=t.hextooidstr(f)}"02"==c&&(a.nonce=r(e,u)),"01"==c&&(a.certreq=!0)}return a},dr.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=fr,n=t.getChildIdx,r=t.getV,i=t.getIdxbyList,a={};if("30"!=e.substr(0,2))throw"head of messageImprint hex shall be '30'";var o=(n(e,0),i(e,0,[0,0])),s=r(e,o),l=t.hextooidstr(s),u=dr.asn1.x509.OID.oid2name(l);if(""==u)throw"hashAlg name undefined: "+l;var c=u,f=i(e,0,[1]);return a.hashAlg=c,a.hashValue=r(e,f),a},void 0!==dr&&dr||(dr={}),void 0!==dr.asn1&&dr.asn1||(dr.asn1={}),void 0!==dr.asn1.cades&&dr.asn1.cades||(dr.asn1.cades={}),dr.asn1.cades.SignaturePolicyIdentifier=function(e){var t=dr,n=t.asn1,r=n.DERObjectIdentifier,i=n.DERSequence,a=n.cades,o=a.OtherHashAlgAndValue;if(a.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==e&&"string"==typeof e.oid&&"object"==typeof e.hash){var s=new r({oid:e.oid}),l=new o(e.hash),u=new i({array:[s,l]});this.valueList=[u]}},Kn.lang.extend(dr.asn1.cades.SignaturePolicyIdentifier,dr.asn1.cms.Attribute),dr.asn1.cades.OtherHashAlgAndValue=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.DEROctetString,a=n.x509,o=a.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var e=new r({array:[this.dAlg,this.dHash]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&"string"==typeof e.alg&&"string"==typeof e.hash&&(this.dAlg=new o({name:e.alg}),this.dHash=new i({hex:e.hash}))},Kn.lang.extend(dr.asn1.cades.OtherHashAlgAndValue,dr.asn1.ASN1Object),dr.asn1.cades.SignatureTimeStamp=function(e){
var t=dr,n=t.asn1,r=n.ASN1Object;n.x509;if(n.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==e){if(void 0!==e.res)if("string"==typeof e.res&&e.res.match(/^[0-9A-Fa-f]+$/));else if(!(e.res instanceof r))throw"res param shall be ASN1Object or hex string";if(void 0!==e.tst)if("string"==typeof e.tst&&e.tst.match(/^[0-9A-Fa-f]+$/)){var i=new r;this.tstHex=e.tst,i.hTLV=this.tstHex,i.getEncodedHex(),this.valueList=[i]}else if(!(e.tst instanceof r))throw"tst param shall be ASN1Object or hex string"}},Kn.lang.extend(dr.asn1.cades.SignatureTimeStamp,dr.asn1.cms.Attribute),dr.asn1.cades.CompleteCertificateRefs=function(e){var t=dr,n=t.asn1,r=n.cades;r.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(e){this.valueList=[];for(var t=0;t<e.length;t++){var n=new r.OtherCertID(e[t]);this.valueList.push(n)}},void 0!==e&&"object"==typeof e&&"number"==typeof e.length&&this.setByArray(e)},Kn.lang.extend(dr.asn1.cades.CompleteCertificateRefs,dr.asn1.cms.Attribute),dr.asn1.cades.OtherCertID=function(e){var t=dr,n=t.asn1,r=n.cms,i=n.cades;i.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(e){this.dOtherCertHash=new i.OtherHash(e),this.hasIssuerSerial&&(this.dIssuerSerial=new r.IssuerAndSerialNumber(e))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var e=[this.dOtherCertHash];null!=this.dIssuerSerial&&e.push(this.dIssuerSerial);var t=new n.DERSequence({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),"object"==typeof e&&(!1===e.hasis&&(this.hasIssuerSerial=!1),"string"==typeof e.cert&&this.setByCertPEM(e.cert)))},Kn.lang.extend(dr.asn1.cades.OtherCertID,dr.asn1.ASN1Object),dr.asn1.cades.OtherHash=function(e){var t=dr,n=t.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,a=t.crypto.Util.hashHex;if(r.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(e){if(-1==e.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var t=En(e),n=a(t,this.alg);this.dOtherHash=new i({alg:this.alg,hash:n})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==e)if("string"==typeof e)if(-1!=e.indexOf("-----BEGIN "))this.setByCertPEM(e);else{if(!e.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new n.DEROctetString({hex:e})}else"object"==typeof e&&("string"==typeof e.cert?("string"==typeof e.alg&&(this.alg=e.alg),this.setByCertPEM(e.cert)):this.dOtherHash=new i(e))},Kn.lang.extend(dr.asn1.cades.OtherHash,dr.asn1.ASN1Object),dr.asn1.cades.CAdESUtil=new function(){},dr.asn1.cades.CAdESUtil.addSigTS=function(e,t,n){},dr.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=fr,n=t.getChildIdx,r=t.getTLV,i=t.getTLVbyList,a=t.getIdxbyList,o=dr,s=o.asn1,l=s.ASN1Object,u=s.cms,c=u.SignedData,f=s.cades,d=f.CAdESUtil,p={};if("06092a864886f70d010702"!=i(e,0,[0]))throw"hex is not CMS SignedData";var h=a(e,0,[1,0]),y=n(e,h);if(y.length<4)throw"num of SignedData elem shall be 4 at least";var m=y.shift();p.version=r(e,m);var _=y.shift();p.algs=r(e,_);var g=y.shift();p.encapcontent=r(e,g),p.certs=null,p.revs=null,p.si=[];var b=y.shift();"a0"==e.substr(b,2)&&(p.certs=r(e,b),b=y.shift()),"a1"==e.substr(b,2)&&(p.revs=r(e,b),b=y.shift());var v=b;if("31"!=e.substr(v,2))throw"Can't find signerInfos";for(var w=n(e,v),k=0;k<w.length;k++){var S=w[k],I=d.parseSignerInfoForAddingUnsigned(e,S,k);p.si[k]=I}var E=null;p.obj=new c,E=new l,E.hTLV=p.version,p.obj.dCMSVersion=E,E=new l,E.hTLV=p.algs,p.obj.dDigestAlgs=E,E=new l,E.hTLV=p.encapcontent,p.obj.dEncapContentInfo=E,E=new l,E.hTLV=p.certs,p.obj.dCerts=E,p.obj.signerInfoList=[];for(var k=0;k<p.si.length;k++)p.obj.signerInfoList.push(p.si[k].obj);return p},dr.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var r=fr,i=r.getChildIdx,a=r.getTLV,o=r.getV,s=dr,l=s.asn1,u=l.ASN1Object,c=l.cms,f=c.AttributeList,d=c.SignerInfo,p={},h=i(e,t);if(6!=h.length)throw"not supported items for SignerInfo (!=6)";var y=h.shift();p.version=a(e,y);var m=h.shift();p.si=a(e,m);var _=h.shift();p.digalg=a(e,_);var g=h.shift();p.sattrs=a(e,g);var b=h.shift();p.sigalg=a(e,b);var v=h.shift();p.sig=a(e,v),p.sigval=o(e,v);var w=null;return p.obj=new d,w=new u,w.hTLV=p.version,p.obj.dCMSVersion=w,w=new u,w.hTLV=p.si,p.obj.dSignerIdentifier=w,w=new u,w.hTLV=p.digalg,p.obj.dDigestAlgorithm=w,w=new u,w.hTLV=p.sattrs,p.obj.dSignedAttrs=w,w=new u,w.hTLV=p.sigalg,p.obj.dSigAlg=w,w=new u,w.hTLV=p.sig,p.obj.dSig=w,p.obj.dUnsignedAttrs=new f,p},void 0!==dr.asn1.csr&&dr.asn1.csr||(dr.asn1.csr={}),dr.asn1.csr.CertificationRequest=function(e){var t=dr,n=t.asn1,r=n.DERBitString,i=n.DERSequence,a=n.csr,o=n.x509;a.CertificationRequest.superclass.constructor.call(this);this.sign=function(e,n){null==this.prvKey&&(this.prvKey=n),this.asn1SignatureAlg=new o.AlgorithmIdentifier({name:e}),sig=new t.crypto.Signature({alg:e}),sig.init(this.prvKey),sig.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new r({hex:"00"+this.hexSig});var a=new i({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=a.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return In(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==e&&void 0!==e.csrinfo&&(this.asn1CSRInfo=e.csrinfo)},Kn.lang.extend(dr.asn1.csr.CertificationRequest,dr.asn1.ASN1Object),dr.asn1.csr.CertificationRequestInfo=function(e){var t=dr,n=t.asn1,r=n.DERInteger,i=n.DERSequence,a=n.DERSet,o=n.DERNull,s=n.DERTaggedObject,l=n.DERObjectIdentifier,u=n.csr,c=n.x509,f=c.X500Name,d=c.Extension,p=mr;u.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new r({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(e){this.asn1Subject=new f(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=p.getKey(e);this.asn1SubjPKey=new c.SubjectPublicKeyInfo(t)},this.appendExtensionByName=function(e,t){d.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new i({array:this.extensionsArray}),t=new a({array:[e]}),n=new i({array:[new l({oid:"1.2.840.113549.1.9.14"}),t]}),r=new s({explicit:!0,tag:"a0",obj:n});this.asn1Array.push(r)}else{var r=new s({explicit:!1,tag:"a0",obj:new o});this.asn1Array.push(r)}var u=new i({array:this.asn1Array});return this.hTLV=u.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},Kn.lang.extend(dr.asn1.csr.CertificationRequestInfo,dr.asn1.ASN1Object),dr.asn1.csr.CSRUtil=new function(){},dr.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=mr,n=dr.asn1.csr;if(void 0===e.subject)throw"parameter subject undefined";if(void 0===e.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===e.sigalg)throw"parameter sigalg undefined";if(void 0===e.sbjprvkey)throw"parameter sbjpubkey undefined";var r=new n.CertificationRequestInfo;if(r.setSubjectByParam(e.subject),r.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var i=0;i<e.ext.length;i++)for(key in e.ext[i])r.appendExtensionByName(key,e.ext[i][key]);var a=new n.CertificationRequest({csrinfo:r}),o=t.getKey(e.sbjprvkey);return a.sign(e.sigalg,o),a.getPEMString()},dr.asn1.csr.CSRUtil.getInfo=function(e){var t=fr,n=t.getTLVbyList,r={};if(r.subject={},
r.pubkey={},-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var i=En(e,"CERTIFICATE REQUEST");return r.subject.hex=n(i,0,[0,1]),r.subject.name=Gn.hex2dn(r.subject.hex),r.pubkey.hex=n(i,0,[0,2]),r.pubkey.obj=mr.getKey(r.pubkey.hex,null,"pkcs8pub"),r},void 0!==dr&&dr||(dr={}),void 0!==dr.asn1&&dr.asn1||(dr.asn1={}),void 0!==dr.asn1.ocsp&&dr.asn1.ocsp||(dr.asn1.ocsp={}),dr.asn1.ocsp.DEFAULT_HASH="sha1",dr.asn1.ocsp.CertID=function(e){var t=dr,n=t.asn1,r=n.DEROctetString,i=n.DERInteger,a=n.DERSequence,o=n.x509,s=o.AlgorithmIdentifier,l=n.ocsp,u=l.DEFAULT_HASH,c=t.crypto,f=c.Util.hashHex,d=Gn,p=fr;if(l.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(e,t,n,a){void 0===a&&(a=u),this.dHashAlg=new s({name:a}),this.dIssuerNameHash=new r({hex:e}),this.dIssuerKeyHash=new r({hex:t}),this.dSerialNumber=new i({hex:n})},this.setByCert=function(e,t,n){void 0===n&&(n=u);var r=new d;r.readCertPEM(t);var i=new d;i.readCertPEM(e);var a=i.getPublicKeyHex(),o=p.getTLVbyList(a,0,[1,0],"30"),s=r.getSerialNumberHex(),l=f(i.getSubjectHex(),n),c=f(o,n);this.setByValue(l,c,s,n),this.hoge=r.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var e=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber],t=new a({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var h=e;if(void 0!==h.issuerCert&&void 0!==h.subjectCert){var y=u;void 0===h.alg&&(y=void 0),this.setByCert(h.issuerCert,h.subjectCert,y)}else{if(void 0===h.namehash||void 0===h.keyhash||void 0===h.serial)throw"invalid constructor arguments";var y=u;void 0===h.alg&&(y=void 0),this.setByValue(h.namehash,h.keyhash,h.serial,y)}}},Kn.lang.extend(dr.asn1.ocsp.CertID,dr.asn1.ASN1Object),dr.asn1.ocsp.Request=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.ocsp;if(i.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var a=new i.CertID(e);this.dReqCert=a}},Kn.lang.extend(dr.asn1.ocsp.Request,dr.asn1.ASN1Object),dr.asn1.ocsp.TBSRequest=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.ocsp;i.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var r=new i.Request(e[0]);t.push(r)}this.dRequestList=t},this.getEncodedHex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new r({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new r({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},Kn.lang.extend(dr.asn1.ocsp.TBSRequest,dr.asn1.ASN1Object),dr.asn1.ocsp.OCSPRequest=function(e){var t=dr,n=t.asn1,r=n.DERSequence,i=n.ocsp;if(i.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList){var a=new i.TBSRequest(e);this.dTbsRequest=a}},Kn.lang.extend(dr.asn1.ocsp.OCSPRequest,dr.asn1.ASN1Object),dr.asn1.ocsp.OCSPUtil={},dr.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var r=dr,i=r.asn1,a=i.ocsp;void 0===n&&(n=a.DEFAULT_HASH);var o={alg:n,issuerCert:e,subjectCert:t};return new a.OCSPRequest({reqList:[o]}).getEncodedHex()},dr.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=fr,n=t.getVbyList,r=t.getIdxbyList,n=t.getVbyList,i=t.getV,a={};try{var o=n(e,0,[0],"0a");a.responseStatus=parseInt(o,16)}catch(e){}if(0!==a.responseStatus)return a;try{var s=r(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(s,2)?a.certStatus="good":"a1"===e.substr(s,2)?(a.certStatus="revoked",a.revocationTime=gn(n(e,s,[0]))):"82"===e.substr(s,2)&&(a.certStatus="unknown")}catch(e){}try{var l=r(e,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=gn(i(e,l))}catch(e){}try{var u=r(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(u,2)&&(a.nextUpdate=gn(n(e,u,[0])))}catch(e){}return a};var dr;void 0!==dr&&dr||(dr={}),void 0!==dr.lang&&dr.lang||(dr.lang={}),dr.lang.String=function(){};var pr,hr;"function"==typeof e?(pr=function(t){return fn(new e(t,"utf8").toString("base64"))},hr=function(t){return new e(dn(t),"base64").toString("utf8")}):(pr=function(e){return pn(Nn(Rn(e)))},hr=function(e){return decodeURIComponent(Mn(hn(e)))}),dr.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},dr.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},dr.lang.String.isBase64=function(e){return e=e.replace(/\s+/g,""),!(!e.match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},dr.lang.String.isBase64URL=function(e){return!e.match(/[+\/=]/)&&(e=dn(e),dr.lang.String.isBase64(e))},dr.lang.String.isIntegerArray=function(e){return e=e.replace(/\s+/g,""),!!e.match(/^\[[0-9,]+\]$/)};var yr=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1};void 0!==dr&&dr||(dr={}),void 0!==dr.crypto&&dr.crypto||(dr.crypto={}),dr.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:Wn.algo.MD5,sha1:Wn.algo.SHA1,sha224:Wn.algo.SHA224,sha256:Wn.algo.SHA256,sha384:Wn.algo.SHA384,sha512:Wn.algo.SHA512,ripemd160:Wn.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var a="0001",o="00"+r,s="",l=i-a.length-o.length,u=0;u<l;u+=2)s+="ff";return a+s+o},this.hashString=function(e,t){return new dr.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new dr.crypto.MessageDigest({alg:t
}).digestHex(e)},this.sha1=function(e){return new dr.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(e)},this.sha256=function(e){return new dr.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(e)},this.sha256Hex=function(e){return new dr.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(e)},this.sha512=function(e){return new dr.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(e)},this.sha512Hex=function(e){return new dr.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(e)}},dr.crypto.Util.md5=function(e){return new dr.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},dr.crypto.Util.ripemd160=function(e){return new dr.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},dr.crypto.Util.SECURERANDOMGEN=new ft,dr.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return dr.crypto.Util.SECURERANDOMGEN.nextBytes(t),on(t)},dr.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new a(dr.crypto.Util.getRandomHexOfNbytes(e),16)},dr.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=(e-t)/8,r=new Array(n+1);return dr.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],on(r)},dr.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new a(dr.crypto.Util.getRandomHexOfNbits(e),16)},dr.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=dr.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},dr.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return dr.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},dr.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(e=dr.crypto.MessageDigest.getCanonicalAlgName(e),null!==e&&void 0===t&&(t=dr.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=dr.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=Wn.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(Wn.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=dr.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},dr.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=e.toLowerCase(),e=e.replace(/-/,"")),e},dr.crypto.MessageDigest.getHashLength=function(e){var t=dr.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},dr.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},dr.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(e=e.toLowerCase(),null==e&&(e="hmacsha1"),e=e.toLowerCase(),"hmac"!=e.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=dr.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=dr.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=Wn.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=Wn.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(Wn.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=vn(e)),void(this.pass=Wn.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;var t=null;if(void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=_n(e.utf8)),void 0!==e.rstr&&(t=vn(e.rstr)),void 0!==e.b64&&(t=r(e.b64)),void 0!==e.b64u&&(t=hn(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=Wn.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=dr.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},dr.crypto.Signature=function(e){if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase())},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new dr.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e}this.init=function(e,t){var n=null;try{n=void 0===t?mr.getKey(e):mr.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var e=new dr.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof mt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof mt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof dr.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof dr.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName
;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new dr.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,e,this.ecpubhex);if(this.pubKey instanceof mt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof mt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==dr.crypto.ECDSA&&this.pubKey instanceof dr.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==dr.crypto.DSA&&this.pubKey instanceof dr.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=dr.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{mr.getKey(e.prvkeypem),this.init(null)}catch(e){throw"fatal error to load pem private key: "+e}}},dr.crypto.Cipher=function(e){},dr.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof mt&&t.isPublic){var r=dr.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},dr.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof mt&&t.isPrivate){var r=dr.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},dr.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof mt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null===t||void 0===t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},dr.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==dr&&dr||(dr={}),void 0!==dr.crypto&&dr.crypto||(dr.crypto={}),dr.crypto.ECDSA=function(e){var t=new ft;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new a(e.bitLength(),t).mod(e.subtract(a.ONE)).add(a.ONE)},this.setNamedCurve=function(e){this.ecparams=dr.crypto.ECParameterDB.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.G.multiply(t),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),a=this.ecparams.keylen/4,o=("0000000000"+t.toString(16)).slice(-a),s=("0000000000"+r.toString(16)).slice(-a),l=("0000000000"+i.toString(16)).slice(-a),u="04"+s+l;return this.setPrivateKeyHex(o),this.setPublicKeyHex(u),{ecprvhex:o,ecpubhex:u}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new a(t,16),r=this.ecparams.n,i=new a(e,16);do{var o=this.getBigRandom(r),s=this.ecparams.G,l=s.multiply(o),u=l.getX().toBigInteger().mod(r)}while(u.compareTo(a.ZERO)<=0);var c=o.modInverse(r).multiply(i.add(n.multiply(u))).mod(r);return dr.crypto.ECDSA.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var n=t,r=this.ecparams.n,i=a.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(r),s=this.ecparams.G,l=s.multiply(o),u=l.getX().toBigInteger().mod(r)}while(u.compareTo(a.ZERO)<=0);var c=o.modInverse(r).multiply(i.add(n.multiply(u))).mod(r);return this.serializeSig(u,c)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,n){var r,i,o=dr.crypto.ECDSA.parseSigHex(t);r=o.r,i=o.s;var s;s=Lt.decodeFromHex(this.ecparams.curve,n);var l=new a(e,16);return this.verifyRaw(l,r,i,s)},this.verify=function(e,t,n){var r,i;if(Bitcoin.Util.isArray(t)){var o=this.parseSig(t);r=o.r,i=o.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";r=t.r,i=t.s}var s;if(n instanceof Lt)s=n;else{if(!Bitcoin.Util.isArray(n))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=Lt.decodeFrom(this.ecparams.curve,n)}var l=a.fromByteArrayUnsigned(e);return this.verifyRaw(l,r,i,s)},this.verifyRaw=function(e,t,n,r){var i=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(a.ONE)<0||t.compareTo(i)>=0)return!1;if(n.compareTo(a.ONE)<0||n.compareTo(i)>=0)return!1;var s=n.modInverse(i),l=e.multiply(s).mod(i),u=t.multiply(s).mod(i);return o.multiply(l).add(r.multiply(u)).getX().toBigInteger().mod(i).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),i=i.concat(n),i.push(2),i.push(r.length),i=i.concat(r),i.unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(t=2,2!=e[t])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(t+=2+e[t+1],2!=e[t])throw new Error("Second element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:a.fromByteArrayUnsigned(n),s:a.fromByteArrayUnsigned(r)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:a.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:a.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){var t=fr,n=dr.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,a,o;try{i=r(e,0,[2,0],"06"),a=r(e,0,[1],"04");try{
o=r(e,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=n(i),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(o),this.setPrivateKeyHex(a),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){var t=fr,n=dr.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,a,o;try{r(e,0,[1,0],"06"),i=r(e,0,[1,1],"06"),a=r(e,0,[2,0,1],"04");try{o=r(e,0,[2,0,2,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=n(i),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(o),this.setPrivateKeyHex(a),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){var t=fr,n=dr.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,a;try{r(e,0,[0,0],"06"),i=r(e,0,[0,1],"06"),a=r(e,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}if(this.curveName=n(i),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(a)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var n=fr,r=dr.crypto.ECDSA.getName,i=n.getVbyList;if(!1===n.isASN1HEX(e))throw"not ASN.1 hex string";var a,o;try{a=i(e,0,[0,t,0,1],"06"),o=i(e,0,[0,t,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}if(this.curveName=r(a),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(o)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},dr.crypto.ECDSA.parseSigHex=function(e){var t=dr.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new a(t.r,16),s:new a(t.s,16)}},dr.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=fr,n=t.getChildIdx,r=t.getV;if("30"!=e.substr(0,2))throw"signature is not a ASN.1 sequence";var i=n(e,0);if(2!=i.length)throw"number of signature ASN.1 sequence elements seem wrong";var a=i[0],o=i[1];if("02"!=e.substr(a,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=e.substr(o,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:r(e,a),s:r(e,o)}},dr.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=dr.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},dr.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return dr.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},dr.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new a(e,16),r=new a(t,16);return dr.crypto.ECDSA.biRSSigToASN1Sig(n,r)},dr.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=dr.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},dr.crypto.ECDSA.getName=function(e){return"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==dr&&dr||(dr={}),void 0!==dr.crypto&&dr.crypto||(dr.crypto={}),dr.crypto.ECParameterDB=new function(){function e(e){return new a(e,16)}var t={},n={};this.getByName=function(e){var r=e;if(void 0!==n[r]&&(r=n[e]),void 0!==t[r])return t[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,a,o,s,l,u,c,f,d,p,h){t[r]={};var y=e(a),m=e(o),_=e(s),g=e(l),b=e(u),v=new Yt(y,m,_),w=v.decodePointHex("04"+c+f);t[r].name=r,t[r].keylen=i,t[r].curve=v,t[r].G=w,t[r].n=g,t[r].h=b,t[r].oid=p,t[r].info=h;for(var k=0;k<d.length;k++)n[d[k]]=r}},dr.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),dr.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),dr.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),dr.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),dr.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),dr.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),dr.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),dr.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),dr.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),
dr.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==dr&&dr||(dr={}),void 0!==dr.crypto&&dr.crypto||(dr.crypto={}),dr.crypto.DSA=function(){this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,r,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(e,t,n,r,i){var o,s,l,u,c;o=new a(e,16),s=new a(t,16),l=new a(n,16),u="string"==typeof r&&r.length>1?new a(r,16):null,c=new a(i,16),this.setPrivate(o,s,l,u,c)},this.setPublic=function(e,t,n,r){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(e,t,n,r){var i,o,s,l;i=new a(e,16),o=new a(t,16),s=new a(n,16),l=new a(r,16),this.setPublic(i,o,s,l)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,r=this.g,i=(this.y,this.x),o=dr.crypto.Util.getRandomBigIntegerMinToMax(a.ONE.add(a.ONE),n.subtract(a.ONE)),s=e.substr(0,n.bitLength()/4),l=new a(s,16),u=r.modPow(o,t).mod(n),c=o.modInverse(n).multiply(l.add(i.multiply(u))).mod(n);return dr.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:u}},{int:{bigint:c}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,r=this.q,i=this.g,o=this.y,s=this.parseASN1Signature(t),l=s[0],u=s[1],c=e.substr(0,r.bitLength()/4),f=new a(c,16);if(a.ZERO.compareTo(l)>0||l.compareTo(r)>0)throw"invalid DSA signature";if(a.ZERO.compareTo(u)>=0||u.compareTo(r)>0)throw"invalid DSA signature";var d=u.modInverse(r),p=f.multiply(d).mod(r),h=l.multiply(d).mod(r);return 0==i.modPow(p,n).multiply(o.modPow(h,n)).mod(n).mod(r).compareTo(l)},this.parseASN1Signature=function(e){try{return[new a(fr.getVbyList(e,0,[0],"02"),16),new a(fr.getVbyList(e,0,[1],"02"),16)]}catch(e){throw"malformed ASN.1 DSA signature"}},this.readPKCS5PrvKeyHex=function(e){var t,n,r,i,a,o=fr,s=o.getVbyList;if(!1===o.isASN1HEX(e))throw"not ASN.1 hex string";try{t=s(e,0,[1],"02"),n=s(e,0,[2],"02"),r=s(e,0,[3],"02"),i=s(e,0,[4],"02"),a=s(e,0,[5],"02")}catch(e){throw"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(t,n,r,i,a)},this.readPKCS8PrvKeyHex=function(e){var t,n,r,i,a=fr,o=a.getVbyList;if(!1===a.isASN1HEX(e))throw"not ASN.1 hex string";try{t=o(e,0,[1,1,0],"02"),n=o(e,0,[1,1,1],"02"),r=o(e,0,[1,1,2],"02"),i=o(e,0,[2,0],"02")}catch(e){throw"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(t,n,r,null,i)},this.readPKCS8PubKeyHex=function(e){var t,n,r,i,a=fr,o=a.getVbyList;if(!1===a.isASN1HEX(e))throw"not ASN.1 hex string";try{t=o(e,0,[0,1,0],"02"),n=o(e,0,[0,1,1],"02"),r=o(e,0,[0,1,2],"02"),i=o(e,0,[1,0],"02")}catch(e){throw"malformed PKCS#8 DSA public key"}this.setPublicHex(t,n,r,i)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var n,r,i,a,o=fr,s=o.getVbyList;if(!1===o.isASN1HEX(e))throw"not ASN.1 hex string";try{n=s(e,0,[0,t,0,1,0],"02"),r=s(e,0,[0,t,0,1,1],"02"),i=s(e,0,[0,t,0,1,2],"02"),a=s(e,0,[0,t,1,0],"02")}catch(e){throw"malformed X.509 certificate DSA public key"}this.setPublicHex(n,r,i,a)}};var mr=function(){var e=function(e,t,n){return r(Wn.AES,e,t,n)},t=function(e,t,n){return r(Wn.TripleDES,e,t,n)},n=function(e,t,n){return r(Wn.DES,e,t,n)},r=function(e,t,n,r){var i=Wn.enc.Hex.parse(t),a=Wn.enc.Hex.parse(n),o=Wn.enc.Hex.parse(r),s={};s.key=a,s.iv=o,s.ciphertext=i;var l=e.decrypt(s,a,{iv:o});return Wn.enc.Hex.stringify(l)},i=function(e,t,n){return s(Wn.AES,e,t,n)},a=function(e,t,n){return s(Wn.TripleDES,e,t,n)},o=function(e,t,n){return s(Wn.DES,e,t,n)},s=function(e,t,n,r){var i=Wn.enc.Hex.parse(t),a=Wn.enc.Hex.parse(n),o=Wn.enc.Hex.parse(r),s=e.encrypt(i,a,{iv:o}),l=Wn.enc.Hex.parse(s.toString());return Wn.enc.Base64.stringify(l)},l={"AES-256-CBC":{proc:e,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:t,eproc:a,keylen:24,ivlen:8},"DES-CBC":{proc:n,eproc:o,keylen:8,ivlen:8}},u=function(e){var t=Wn.lib.WordArray.random(e);return Wn.enc.Hex.stringify(t)},c=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,a=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),a=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),a=1);var o=e.indexOf("-----END");if(-1!=i&&-1!=o){var s=e.substring(i+2*a,o-a);s=s.replace(/\s+/g,""),t.data=s}return t},f=function(e,t,n){for(var r=n.substring(0,16),i=Wn.enc.Hex.parse(r),a=Wn.enc.Utf8.parse(t),o=l[e].keylen+l[e].ivlen,s="",u=null;;){var c=Wn.algo.MD5.create();if(null!=u&&c.update(u),c.update(a),c.update(i),u=c.finalize(),s+=Wn.enc.Hex.stringify(u),s.length>=2*o)break}var f={};return f.keyhex=s.substr(0,2*l[e].keylen),f.ivhex=s.substr(2*l[e].keylen,2*l[e].ivlen),f},d=function(e,t,n,r){var i=Wn.enc.Base64.parse(e),a=Wn.enc.Hex.stringify(i);return(0,l[t].proc)(a,n,r)},p=function(e,t,n,r){return(0,l[t].eproc)(e,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return c(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return f(e,t,n)},decryptKeyB64:function(e,t,n,r){return d(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=c(e),r=(n.type,n.cipher),i=n.ivsalt,a=n.data,o=f(r,t,i),s=o.keyhex;return d(a,r,s,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,i){var a="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===l[r])throw"KEYUTIL unsupported algorithm: "+r;if(void 0===i||null==i){var o=l[r].ivlen;i=u(o).toUpperCase()}var s=f(r,n,i),c=s.keyhex,d=p(t,r,c,i),h=d.replace(/(.{64})/g,"$1\r\n"),a="-----BEGIN "+e+" PRIVATE KEY-----\r\n";return a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+r+","+i+"\r\n",a+="\r\n",a+=h,a+="\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=fr,n=t.getChildIdx,r=t.getV,i={},a=n(e,0);if(2!=a.length)throw"malformed format: SEQUENCE(0).items != 2: "+a.length;i.ciphertext=r(e,a[1]);var o=n(e,a[0]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+o.length;if("2a864886f70d01050d"!=r(e,o[0]))throw"this only supports pkcs5PBES2";var s=n(e,o[1]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+s.length;var l=n(e,s[1]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length;if("2a864886f70d0307"!=r(e,l[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,l[1]);var u=n(e,s[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=r(e,u[0]))throw"this only supports pkcs5PBKDF2";var c=n(e,u[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;i.pbkdf2Salt=r(e,c[0]);var f=r(e,c[1]);try{i.pbkdf2Iter=parseInt(f,16)}catch(e){throw"malformed format pbkdf2Iter: "+f}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=Wn.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=Wn.PBKDF2(t,n,{keySize:6,iterations:r});return Wn.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=En(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=mr.getPBKDF2KeyHexFromParam(r,t),a={};a.ciphertext=Wn.enc.Hex.parse(r.ciphertext)
;var o=Wn.enc.Hex.parse(i),s=Wn.enc.Hex.parse(r.encryptionSchemeIV),l=Wn.TripleDES.decrypt(a,o,{iv:s});return Wn.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=fr,n=t.getChildIdx,r=t.getV,i={};if(i.algparam=null,"30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var a=n(e,0);if(3!=a.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(a[1],2))throw"malformed PKCS8 private key(code:003)";var o=n(e,a[1]);if(2!=o.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(o[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(e,o[0]),"06"==e.substr(o[1],2)&&(i.algparam=r(e,o[1])),"04"!=e.substr(a[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,a[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=En(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new mt;else if("2a8648ce380401"==n.algoid)t=new dr.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new dr.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=fr.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new mt;else if("2a8648ce380401"===n)t=new dr.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new dr.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=fr,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var a=n(e,0);if(2!=a.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(a[0],2))throw"malformed RSA key(code:003)";if(i.n=r(e,a[0]),"02"!=e.substr(a[1],2))throw"malformed RSA key(code:004)";return i.e=r(e,a[1]),i},parsePublicPKCS8Hex:function(e){var t=fr,n=t.getChildIdx,r=t.getV,i={};i.algparam=null;var a=n(e,0);if(2!=a.length)throw"outer DERSequence shall have 2 elements: "+a.length;var o=a[0];if("30"!=e.substr(o,2))throw"malformed PKCS8 public key(code:001)";var s=n(e,o);if(2!=s.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=r(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(a[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(e,a[1]).substr(2),i}}}();mr.getKey=function(e,t,n){var r=fr,i=r.getChildIdx,o=(r.getV,r.getVbyList),s=dr.crypto,l=s.ECDSA,u=s.DSA,c=mt,f=En,d=mr;if(void 0!==c&&e instanceof c)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new l({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new l({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d){var p=new c;return p.setPublic(e.n,e.e),p}if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi){var p=new c;return p.setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),p}if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p){var p=new c;return p.setPrivate(e.n,e.e,e.d),p}if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x){var p=new u;return p.setPublic(e.p,e.q,e.g,e.y),p}if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x){var p=new u;return p.setPrivate(e.p,e.q,e.g,e.y,e.x),p}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d){var p=new c;return p.setPublic(hn(e.n),hn(e.e)),p}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi){var p=new c;return p.setPrivateEx(hn(e.n),hn(e.e),hn(e.d),hn(e.p),hn(e.q),hn(e.dp),hn(e.dq),hn(e.qi)),p}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d){var p=new c;return p.setPrivate(hn(e.n),hn(e.e),hn(e.d)),p}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var h=new l({curve:e.crv}),y=h.ecparams.keylen/4,m=("0000000000"+hn(e.x)).slice(-y),_=("0000000000"+hn(e.y)).slice(-y),g="04"+m+_;return h.setPublicKeyHex(g),h}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){var h=new l({curve:e.crv}),y=h.ecparams.keylen/4,m=("0000000000"+hn(e.x)).slice(-y),_=("0000000000"+hn(e.y)).slice(-y),g="04"+m+_,b=("0000000000"+hn(e.d)).slice(-y);return h.setPublicKeyHex(g),h.setPrivateKeyHex(b),h}if("pkcs5prv"===n){var v,p,w=e,r=fr;if(v=i(w,0),9===v.length)p=new c,p.readPKCS5PrvKeyHex(w);else if(6===v.length)p=new u,p.readPKCS5PrvKeyHex(w);else{if(!(v.length>2&&"04"===w.substr(v[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";p=new l,p.readPKCS5PrvKeyHex(w)}return p}if("pkcs8prv"===n){var p=d.getKeyFromPlainPrivatePKCS8Hex(e);return p}if("pkcs8pub"===n)return d._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return Gn.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Gn.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var k=En(e,"PUBLIC KEY");return d._getKeyFromPublicPKCS8Hex(k)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var S=f(e,"RSA PRIVATE KEY");return d.getKey(S,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var I=f(e,"DSA PRIVATE KEY"),E=o(I,0,[1],"02"),A=o(I,0,[2],"02"),x=o(I,0,[3],"02"),C=o(I,0,[4],"02"),T=o(I,0,[5],"02"),p=new u;return p.setPrivate(new a(E,16),new a(A,16),new a(x,16),new a(C,16),new a(T,16)),p}if(-1!=e.indexOf("-END PRIVATE KEY-"))return d.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var P=d.getDecryptedKeyHex(e,t),O=new mt;return O.readPKCS5PrvKeyHex(P),O}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var I=d.getDecryptedKeyHex(e,t),p=o(I,0,[1],"04"),N=o(I,0,[2,0],"06"),M=o(I,0,[3,0],"03").substr(2),R="";if(void 0===dr.crypto.OID.oidhex2name[N])throw"undefined OID(hex) in KJUR.crypto.OID: "+N;R=dr.crypto.OID.oidhex2name[N];var h=new l({curve:R});return h.setPublicKeyHex(M),h.setPrivateKeyHex(p),h.isPublic=!1,h}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var I=d.getDecryptedKeyHex(e,t),E=o(I,0,[1],"02"),A=o(I,0,[2],"02"),x=o(I,0,[3],"02"),C=o(I,0,[4],"02"),T=o(I,0,[5],"02"),p=new u;return p.setPrivate(new a(E,16),new a(A,16),new a(x,16),new a(C,16),new a(T,16)),p}if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return d.getKeyFromEncryptedPKCS8PEM(e,t);throw"not supported argument"},mr.generateKeypair=function(e,t){if("RSA"==e){var n=t,r=new mt;r.generate(n,"10001"),r.isPrivate=!0,r.isPublic=!0;var i=new mt,a=r.n.toString(16),o=r.e.toString(16);i.setPublic(a,o),i.isPrivate=!1,i.isPublic=!0;var s={};return s.prvKeyObj=r,s.pubKeyObj=i,s}if("EC"==e){var l=t,u=new dr.crypto.ECDSA({curve:l}),c=u.generateKeyPairHex(),r=new dr.crypto.ECDSA({curve:l});r.setPublicKeyHex(c.ecpubhex),r.setPrivateKeyHex(c.ecprvhex),r.isPrivate=!0,r.isPublic=!1;var i=new dr.crypto.ECDSA({curve:l});i.setPublicKeyHex(c.ecpubhex),i.isPrivate=!1,i.isPublic=!0;var s={};return s.prvKeyObj=r,s.pubKeyObj=i,s}throw"unknown algorithm: "+e},mr.getPEM=function(e,t,n,r,i,a){function o(e){return p({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function s(e){return p({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}
function l(e){return p({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}var u=dr,c=u.asn1,f=c.DERObjectIdentifier,d=c.DERInteger,p=c.ASN1Util.newObject,h=c.x509,y=h.SubjectPublicKeyInfo,m=u.crypto,_=m.DSA,g=m.ECDSA,b=mt;if((void 0!==b&&e instanceof b||void 0!==_&&e instanceof _||void 0!==g&&e instanceof g)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t)){var v=new y(e),w=v.getEncodedHex();return In(w,"PUBLIC KEY")}if("PKCS1PRV"==t&&void 0!==b&&e instanceof b&&(void 0===n||null==n)&&1==e.isPrivate){var v=o(e),w=v.getEncodedHex();return In(w,"RSA PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate){var k=new f({name:e.curveName}),S=k.getEncodedHex(),I=s(e),E=I.getEncodedHex(),A="";return A+=In(S,"EC PARAMETERS"),A+=In(E,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==_&&e instanceof _&&(void 0===n||null==n)&&1==e.isPrivate){var v=l(e),w=v.getEncodedHex();return In(w,"DSA PRIVATE KEY")}if("PKCS5PRV"==t&&void 0!==b&&e instanceof b&&void 0!==n&&null!=n&&1==e.isPrivate){var v=o(e),w=v.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",w,n,r,a)}if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var v=s(e),w=v.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",w,n,r,a)}if("PKCS5PRV"==t&&void 0!==_&&e instanceof _&&void 0!==n&&null!=n&&1==e.isPrivate){var v=l(e),w=v.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",w,n,r,a)}var x=function(e,t){var n=C(e,t);return new p({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},C=function(e,t){var n=Wn.lib.WordArray.random(8),r=Wn.lib.WordArray.random(8),i=Wn.PBKDF2(t,n,{keySize:6,iterations:100}),a=Wn.enc.Hex.parse(e),o=Wn.TripleDES.encrypt(a,i,{iv:r})+"",s={};return s.ciphertext=o,s.pbkdf2Salt=Wn.enc.Hex.stringify(n),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=Wn.enc.Hex.stringify(r),s};if("PKCS8PRV"==t&&void 0!=b&&e instanceof b&&1==e.isPrivate){var T=o(e),P=T.getEncodedHex(),v=p({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:P}}]}),w=v.getEncodedHex();if(void 0===n||null==n)return In(w,"PRIVATE KEY");var E=x(w,n);return In(E,"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==g&&e instanceof g&&1==e.isPrivate){var T=new p({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}),P=T.getEncodedHex(),v=p({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:P}}]}),w=v.getEncodedHex();if(void 0===n||null==n)return In(w,"PRIVATE KEY");var E=x(w,n);return In(E,"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==_&&e instanceof _&&1==e.isPrivate){var T=new d({bigint:e.x}),P=T.getEncodedHex(),v=p({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:P}}]}),w=v.getEncodedHex();if(void 0===n||null==n)return In(w,"PRIVATE KEY");var E=x(w,n);return In(E,"ENCRYPTED PRIVATE KEY")}throw"unsupported object nor format"},mr.getKeyFromCSRPEM=function(e){var t=En(e,"CERTIFICATE REQUEST");return mr.getKeyFromCSRHex(t)},mr.getKeyFromCSRHex=function(e){var t=mr.parseCSRHex(e);return mr.getKey(t.p8pubkeyhex,null,"pkcs8pub")},mr.parseCSRHex=function(e){var t=fr,n=t.getChildIdx,r=t.getTLV,i={},a=e;if("30"!=a.substr(0,2))throw"malformed CSR(code:001)";var o=n(a,0);if(o.length<1)throw"malformed CSR(code:002)";if("30"!=a.substr(o[0],2))throw"malformed CSR(code:003)";var s=n(a,o[0]);if(s.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=r(a,s[2]),i},mr.getJWKFromKey=function(e){var t={};if(e instanceof mt&&e.isPrivate)return t.kty="RSA",t.n=pn(e.n.toString(16)),t.e=pn(e.e.toString(16)),t.d=pn(e.d.toString(16)),t.p=pn(e.p.toString(16)),t.q=pn(e.q.toString(16)),t.dp=pn(e.dmp1.toString(16)),t.dq=pn(e.dmq1.toString(16)),t.qi=pn(e.coeff.toString(16)),t;if(e instanceof mt&&e.isPublic)return t.kty="RSA",t.n=pn(e.n.toString(16)),t.e=pn(e.e.toString(16)),t;if(e instanceof dr.crypto.ECDSA&&e.isPrivate){var n=e.getShortNISTPCurveName();if("P-256"!==n&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=pn(r.x),t.y=pn(r.y),t.d=pn(e.prvKeyHex),t}if(e instanceof dr.crypto.ECDSA&&e.isPublic){var n=e.getShortNISTPCurveName();if("P-256"!==n&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=pn(r.x),t.y=pn(r.y),t}throw"not supported key object"},mt.getPosArrayOfChildrenFromHex=function(e){return fr.getChildIdx(e,0)},mt.getHexValueArrayOfChildrenFromHex=function(e){var t=fr,n=t.getV,r=mt.getPosArrayOfChildrenFromHex(e),i=n(e,r[0]),a=n(e,r[1]),o=n(e,r[2]),s=n(e,r[3]),l=n(e,r[4]),u=n(e,r[5]),c=n(e,r[6]),f=n(e,r[7]),d=n(e,r[8]),r=new Array;return r.push(i,a,o,s,l,u,c,f,d),r},mt.prototype.readPrivateKeyFromPEMString=function(e){var t=En(e),n=mt.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},mt.prototype.readPKCS5PrvKeyHex=function(e){var t=mt.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},mt.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,a,o,s,l,u=fr,c=u.getVbyList;if(!1===u.isASN1HEX(e))throw"not ASN.1 hex string";try{t=c(e,0,[2,0,1],"02"),n=c(e,0,[2,0,2],"02"),r=c(e,0,[2,0,3],"02"),i=c(e,0,[2,0,4],"02"),a=c(e,0,[2,0,5],"02"),o=c(e,0,[2,0,6],"02"),s=c(e,0,[2,0,7],"02"),l=c(e,0,[2,0,8],"02")}catch(e){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(t,n,r,i,a,o,s,l)},mt.prototype.readPKCS5PubKeyHex=function(e){var t=fr,n=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw"wrong hex for PKCS#5 public key";var i=n(e,r[0]),a=n(e,r[1]);this.setPublic(i,a)},mt.prototype.readPKCS8PubKeyHex=function(e){var t=fr;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==t.getTLVbyList(e,0,[0,0]))throw"not PKCS8 RSA public key";var n=t.getTLVbyList(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},mt.prototype.readCertPubKeyHex=function(e,t){var n,r;n=new Gn,n.readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var _r=new RegExp("");_r.compile("[^0-9a-f]","gi"),mt.prototype.sign=function(e,t){var n=function(e){return dr.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},mt.prototype.signWithMessageHash=function(e,t){var n=dr.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),r=dt(n,16);return Ln(this.doPrivate(r).toString(16),this.n.bitLength())},mt.prototype.signPSS=function(e,t,n){var r=function(e){return dr.crypto.Util.hashHex(e,t)}(vn(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},mt.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=bn(e),o=i.length,s=this.n.bitLength()-1,l=Math.ceil(s/8),u=function(e){return dr.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=l-o-2;else if(n<-2)throw"invalid salt length";if(l<o+n+2)throw"data too long";var c="";n>0&&(c=new Array(n),(new ft).nextBytes(c),c=String.fromCharCode.apply(String,c));var f=bn(u(vn("\0\0\0\0\0\0\0\0"+i+c))),d=[];for(r=0;r<l-n-o-2;r+=1)d[r]=0;var p=String.fromCharCode.apply(String,d)+"\x01"+c,h=Un(f,p.length,u),y=[];for(r=0;r<p.length;r+=1)y[r]=p.charCodeAt(r)^h.charCodeAt(r);var m=65280>>8*l-s&255;for(y[0]&=~m,r=0;r<o;r++)y.push(f.charCodeAt(r));return y.push(188),Ln(this.doPrivate(new a(y)).toString(16),this.n.bitLength())},mt.prototype.verify=function(e,t){t=t.replace(_r,""),t=t.replace(/[ \n]+/g,"");var n=dt(t,16);if(n.bitLength()>this.n.bitLength())return 0
;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,""),a=Hn(i);if(0==a.length)return!1;var o=a[0],s=a[1];return s==function(e){return dr.crypto.Util.hashString(e,o)}(e)},mt.prototype.verifyWithMessageHash=function(e,t){t=t.replace(_r,""),t=t.replace(/[ \n]+/g,"");var n=dt(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,""),a=Hn(i);if(0==a.length)return!1;a[0];return a[1]==e},mt.prototype.verifyPSS=function(e,t,n,r){var i=function(e){return dr.crypto.Util.hashHex(e,n)}(vn(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)},mt.prototype.verifyWithMessageHashPSS=function(e,t,n,r){var i=new a(t,16);if(i.bitLength()>this.n.bitLength())return!1;var o,s=function(e){return dr.crypto.Util.hashHex(e,n)},l=bn(e),u=l.length,c=this.n.bitLength()-1,f=Math.ceil(c/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=f-u-2;else if(r<-2)throw"invalid salt length";if(f<u+r+2)throw"data too long";var d=this.doPublic(i).toByteArray();for(o=0;o<d.length;o+=1)d[o]&=255;for(;d.length<f;)d.unshift(0);if(188!==d[f-1])throw"encoded message does not end in 0xbc";d=String.fromCharCode.apply(String,d);var p=d.substr(0,f-u-1),h=d.substr(p.length,u),y=65280>>8*f-c&255;if(0!=(p.charCodeAt(0)&y))throw"bits beyond keysize not zero";var m=Un(h,p.length,s),_=[];for(o=0;o<p.length;o+=1)_[o]=p.charCodeAt(o)^m.charCodeAt(o);_[0]&=~y;var g=f-u-r-2;for(o=0;o<g;o+=1)if(0!==_[o])throw"leftmost octets not zero";if(1!==_[g])throw"0x01 marker not found";return h===bn(s(vn("\0\0\0\0\0\0\0\0"+l+String.fromCharCode.apply(String,_.slice(-r)))))},mt.SALT_LEN_HLEN=-1,mt.SALT_LEN_MAX=-2,mt.SALT_LEN_RECOVER=-2,Gn.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var n=new Array,r=fr.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Gn.hex2rdn(e,r[i]));return n=n.map(function(e){return e.replace("/","\\/")}),"/"+n.join("/")},Gn.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var n=new Array,r=fr.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Gn.hex2attrTypeValue(e,r[i]));return n=n.map(function(e){return e.replace("+","\\+")}),n.join("+")},Gn.hex2attrTypeValue=function(e,t){var n=fr,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var a=r(e,i[0]),o=dr.asn1.ASN1Util.oidHexToInt(a);return dr.asn1.x509.OID.oid2atype(o)+"="+bn(r(e,i[1]))},Gn.getPublicKeyFromCertHex=function(e){var t=new Gn;return t.readCertHex(e),t.getPublicKey()},Gn.getPublicKeyFromCertPEM=function(e){var t=new Gn;return t.readCertPEM(e),t.getPublicKey()},Gn.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=fr,i=r.getVbyList,a={};return a.algparam=null,t=new Gn,t.readCertPEM(e),n=t.getPublicKeyHex(),a.keyhex=i(n,0,[1],"03").substr(2),a.algoid=i(n,0,[0,0],"06"),"2a8648ce3d0201"===a.algoid&&(a.algparam=i(n,0,[0,1],"06")),a},Gn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==dr&&dr||(dr={}),void 0!==dr.jws&&dr.jws||(dr.jws={}),dr.jws.JWS=function(){var e=dr,t=e.jws.JWS,n=t.isSafeJSONString;this.parseJWS=function(e,t){if(void 0===this.parsedJWS||!t&&void 0===this.parsedJWS.sigvalH){var r=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],a=r[2],o=r[3],s=i+"."+a;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=a,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=s,!t){var l=hn(o),u=dt(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=u}var c=hr(i),f=hr(a);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=f,!n(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},dr.jws.JWS.sign=function(e,t,n,r,i){var a,o,s,l=dr,u=l.jws,c=u.JWS,f=c.readSafeJSONString,d=c.isSafeJSONString,p=l.crypto,h=(p.ECDSA,p.Mac),y=p.Signature,m=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(o=t,a=m.stringify(o)),"string"==typeof t){if(a=t,!d(a))throw"JWS Head is not safe JSON string: "+a;o=f(a)}if(s=n,"object"==typeof n&&(s=m.stringify(n)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,a=m.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var _=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;_=c.jwsalg2sigalg[e];var g=pr(a),b=pr(s),v=g+"."+b,w="";if("Hmac"==_.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var k=new h({alg:_,prov:"cryptojs",pass:r});k.updateString(v),w=k.doFinal()}else if(-1!=_.indexOf("withECDSA")){var S=new y({alg:_});S.init(r,i),S.updateString(v),hASN1Sig=S.sign(),w=dr.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)}else if("none"!=_){var S=new y({alg:_});S.init(r,i),S.updateString(v),w=S.sign()}return v+"."+pn(w)},dr.jws.JWS.verify=function(e,t,n){var r,i=dr,a=i.jws,o=a.JWS,s=o.readSafeJSONString,l=i.crypto,u=l.ECDSA,c=l.Mac,f=l.Signature;void 0!==typeof mt&&(r=mt);var d=e.split("."),p=d[0],h=d[1],y=p+"."+h,m=hn(d[2]),_=s(hr(d[0])),g=null,b=null;if(void 0===_.alg)throw"algorithm not specified in header";if(g=_.alg,b=g.substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0)if(-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=mr.getKey(t)),!("RS"!=b&&"PS"!=b||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==b&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var v=null;if(void 0===o.jwsalg2sigalg[_.alg])throw"unsupported alg name: "+g;if("none"==(v=o.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==v.substr(0,4)){var w=null;if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var k=new c({alg:v,pass:t});return k.updateString(y),w=k.doFinal(),m==w}if(-1!=v.indexOf("withECDSA")){var S=null;try{S=u.concatSigToASN1Sig(m)}catch(e){return!1}var I=new f({alg:v});return I.init(t),I.updateString(y),I.verify(S)}var I=new f({alg:v});return I.init(t),I.updateString(y),I.verify(m)},dr.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),a={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),a.headerObj=dr.jws.JWS.readSafeJSONString(hr(t)),a.payloadObj=dr.jws.JWS.readSafeJSONString(hr(n)),a.headerPP=JSON.stringify(a.headerObj,null,"  "),null==a.payloadObj?a.payloadPP=hr(n):a.payloadPP=JSON.stringify(a.payloadObj,null,"  "),void 0!==r&&(a.sigHex=hn(r)),a},dr.jws.JWS.verifyJWT=function(e,t,n){var r=dr,i=r.jws,a=i.JWS,o=a.readSafeJSONString,s=a.inArray,l=a.includedArray,u=e.split("."),c=u[0],f=u[1],d=(hn(u[2]),o(hr(c))),p=o(hr(f));if(void 0===d.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!s(d.alg,n.alg))return!1;if(void 0!==p.iss&&"object"==typeof n.iss&&!s(p.iss,n.iss))return!1;if(void 0!==p.sub&&"object"==typeof n.sub&&!s(p.sub,n.sub))return!1;if(void 0!==p.aud&&"object"==typeof n.aud)if("string"==typeof p.aud){if(!s(p.aud,n.aud))return!1}else if("object"==typeof p.aud&&!l(p.aud,n.aud))return!1;var h=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(h=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+n.gracePeriod<h)&&!(void 0!==p.nbf&&"number"==typeof p.nbf&&h<p.nbf-n.gracePeriod)&&!(void 0!==p.iat&&"number"==typeof p.iat&&h<p.iat-n.gracePeriod)&&(void 0===p.jti||void 0===n.jti||p.jti===n.jti)&&!!a.verify(e,t,n.alg)},dr.jws.JWS.includedArray=function(e,t){var n=dr.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},
dr.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},dr.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},dr.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=cr(e))?0:r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},dr.jws.JWS.readSafeJSONString=function(e){var t=null;try{return t=cr(e),"object"!=typeof t?null:t.constructor===Array?null:t}catch(e){return null}},dr.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},dr.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=vn(t);return pn(dr.crypto.Util.hashHex(n,"sha256"))},dr.jws.IntDate={},dr.jws.IntDate.get=function(e){var t=dr.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},dr.jws.IntDate.getZulu=function(e){return Tn(e)},dr.jws.IntDate.getNow=function(){return~~(new Date/1e3)},dr.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},dr.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==dr&&dr||(dr={}),void 0!==dr.jws&&dr.jws||(dr.jws={}),dr.jws.JWSJS=function(){var e=dr,t=e.jws,n=t.JWS,r=n.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var a=dr.jws.JWS.sign(e,t,this.sPayload,n,r),o=a.split(".");o[0],o[2];this.aHeader.push(o[0]),this.aSignature.push(o[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(e,t,r){if(this.aHeader.length<=e||this.aSignature.length<=e)return!1;var i=this.aHeader[e],a=this.aSignature[e],o=i+"."+this.sPayload+"."+a,s=!1;try{s=n.verify(o,t,r)}catch(e){return!1}return s},this.readJWSJS=function(e){if("string"==typeof e){var t=r(e);if(null==t)throw"argument is not safe JSON object string";this.aHeader=t.headers,this.sPayload=t.payload,this.aSignature=t.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.signatures=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ft,t.rng_seed_time=lt,t.BigInteger=a,t.RSAKey=mt,t.ECDSA=dr.crypto.ECDSA,t.DSA=dr.crypto.DSA,t.Signature=dr.crypto.Signature,t.MessageDigest=dr.crypto.MessageDigest,t.Mac=dr.crypto.Mac,t.Cipher=dr.crypto.Cipher,t.KEYUTIL=mr,t.ASN1HEX=fr,t.X509=Gn,t.CryptoJS=Wn,t.b64tohex=r,t.b64toBA=i,t.stoBA=rn,t.BAtos=an,t.BAtohex=on,t.stohex=sn,t.stob64=ln,t.stob64u=un,t.b64utos=cn,t.b64tob64u=fn,t.b64utob64=dn,t.hex2b64=n,t.hextob64u=pn,t.b64utohex=hn,t.utf8tob64u=pr,t.b64utoutf8=hr,t.utf8tob64=yn,t.b64toutf8=mn,t.utf8tohex=_n,t.hextoutf8=gn,t.hextorstr=bn,t.rstrtohex=vn,t.hextob64=wn,t.hextob64nl=kn,t.b64nltohex=Sn,t.hextopem=In,t.pemtohex=En,t.hextoArrayBuffer=An,t.ArrayBuffertohex=xn,t.zulutomsec=Cn,t.zulutosec=Tn,t.zulutodate=Pn,t.datetozulu=On,t.uricmptohex=Nn,t.hextouricmp=Mn,t.encodeURIComponentAll=Rn,t.newline_toUnix=Dn,t.newline_toDos=Fn,t.hextoposhex=Bn,t.intarystrtohex=jn,t.strdiffidx=yr,t.KJUR=dr,t.crypto=dr.crypto,t.asn1=dr.asn1,t.jws=dr.jws,t.lang=dr.lang}).call(t,n(16).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),a=r(i),o=n(67),s=r(o),l=n(114),u=!a.default.PF_URI;t.default={signupForm:function(){if(u)return void s.default.jumpTo.signupForm();s.default.jumpTo.signupForm(l.claims.id)},loginForm:function(){s.default.jumpTo.loginForm()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"popLineM",fullName:"popLineM",type:"sprite",key:"pop_line_m.png",x:-330,y:201},{name:"servisePolicyButton",fullName:"servisePolicyButton",anchor:{x:.5,y:.5},type:"sprite",key:"servise_policy_button.png",x:-142,y:35},{name:"personalPolicyButton",fullName:"personalPolicyButton",anchor:{x:.5,y:.5},type:"sprite",key:"personal_policy_button.png",x:142,y:35},{name:"copyrightButton",fullName:"copyrightButton",anchor:{x:.5,y:.5},type:"sprite",key:"copyright_button.png",x:142,y:129},{name:"faqButton",fullName:"faqButton",anchor:{x:.5,y:.5},type:"sprite",key:"faq_button.png",x:-142,y:129}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:214}},function(e,t,n){"use strict";function r(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var n,i,s,l,u,c=!1;t||(t={}),t.debug;try{i=a(),s=document.createRange(),l=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",document.body.appendChild(u),s.selectNode(u),l.addRange(s);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(i){try{window.clipboardData.setData("text",e),c=!0}catch(i){n=r("message"in t?t.message:o),window.prompt(n,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),i()}return c}var a=n(948),o="Copy to clipboard: #{key}, Enter";e.exports=i},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}
return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(950),f=r(c),d=n(14),p=r(d),h=n(22),y=r(h),m=n(24),_=r(m),g=n(951),b=r(g),v=n(3),w=r(v),k=["bne"],S=["babel","ctc","nodedateformat","jsrsasign","polyglot","numjs","spine","emscripten","pagejs","pixifilters","querystring","superagent","underscorejs","underscorestring","uupaa","webfontloader1","webfontloader2"],I=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"open",value:function(){var e=this,t=w.default.t("copyright.title"),n=this._createCopyrightScrollList();return p.default.new({size:"l",title:t,type:"close",container:n}).addTo(this).on("closeEnd",function(){return e.destroy({children:!0})}).open(!0),this}},{key:"_createCopyrightScrollList",value:function(){var e=aoba.Container.new(),t=e.fromData(f.default),n=t["listBase/copyright"],r=t.listBase,i=t["listBase/scrollBase"],a=n.y;k.forEach(function(e){var t=b.default.new(w.default.t("copyright.holders."+e+".title"),w.default.t("copyright.holders."+e+".message"));t.addTo(n,0,a),a+=t.height+40}),S.forEach(function(e){var t=b.default.new(w.default.t("license.holders."+e+".title"),w.default.t("license.holders."+e+".message"));t.addTo(n,0,a),a+=t.height+40}),aoba.Graphics.new().beginFill(0).drawRect(0,0,832,380).addTo(n,0,0,{alpha:0});var o=u.default.commonUiHelper.createScrollBarBase({width:8,height:380});return y.default.new({width:832,height:380,container:n,scrollBar:_.default.new({width:18}),scrollBarBase:o}).addTo(r,0,0),o.addTo(i,0,0),e}}]),t}(aoba.Container);t.default=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"copyright",fullName:"listBase/copyright",type:"container",x:0,y:2},{name:"scrollBase",fullName:"listBase/scrollBase",type:"container",x:850,y:0}],name:"listBase",fullName:"listBase",type:"container",x:-431,y:0}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:573,y:116}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(952),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.fromData(s.default,{copyrightTitle:{text:e},message:{text:n}}),a}return a(t,e),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"message",fullName:"message",type:"text",text:"\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18,wordWrap:!0,wordWrapWidth:809,breakWords:!0},rotation:0,x:12,y:47},{name:"popCopyrightTitleBase",fullName:"popCopyrightTitleBase",type:"sprite",key:"pop_copyright_title_base.png",x:0,y:0},{name:"copyrightTitle",fullName:"copyrightTitle",type:"text",text:"\u25cb\u25cb\u25cb\u25cb",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:31,y:14}],name:"",fullName:"",type:"container",x:142,y:118}},function(e,t,n){var r;!function(i){"use strict";function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function o(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var i=(t-n)/6048e5;return 1+Math.floor(i)}function s(e){var t=e.getDay();return 0===t&&(t=7),t}function l(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var u=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,i,c,f){if(1!==arguments.length||"string"!==l(r)||/\d/.test(r)||(i=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");i=String(u.masks[i]||i||u.masks.default);var d=i.slice(0,4);"UTC:"!==d&&"GMT:"!==d||(i=i.slice(4),c=!0,"GMT:"===d&&(f=!0));var p=c?"getUTC":"get",h=r[p+"Date"](),y=r[p+"Day"](),m=r[p+"Month"](),_=r[p+"FullYear"](),g=r[p+"Hours"](),b=r[p+"Minutes"](),v=r[p+"Seconds"](),w=r[p+"Milliseconds"](),k=c?0:r.getTimezoneOffset(),S=o(r),I=s(r),E={d:h,dd:a(h),ddd:u.i18n.dayNames[y],dddd:u.i18n.dayNames[y+7],m:m+1,mm:a(m+1),mmm:u.i18n.monthNames[m],mmmm:u.i18n.monthNames[m+12],yy:String(_).slice(2),yyyy:_,h:g%12||12,hh:a(g%12||12),H:g,HH:a(g),M:b,MM:a(b),s:v,ss:a(v),l:a(w,3),L:a(Math.round(w/10)),t:g<12?u.i18n.timeNames[0]:u.i18n.timeNames[1],tt:g<12?u.i18n.timeNames[2]:u.i18n.timeNames[3],T:g<12?u.i18n.timeNames[4]:u.i18n.timeNames[5],TT:g<12?u.i18n.timeNames[6]:u.i18n.timeNames[7],Z:f?"GMT":c?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(k>0?"-":"+")+a(100*Math.floor(Math.abs(k)/60)+Math.abs(k)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:S,N:I};return i.replace(e,function(e){return e in E?E[e]:e.slice(1,e.length-1)})}}();u.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0!==(r=function(){return u}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"blackLayer",fullName:"blackLayer",
type:"graphics",fill:0,alpha:.50196078431373,width:1136,height:640,shape:"rect",x:0,y:0},{children:[{name:"announcePopBase",fullName:"base/announcePopBase",type:"sprite",key:"announce_pop_base.png",x:0,y:0},{name:"btnScroll",fullName:"base/btnScroll",type:"graphics",fill:0,alpha:1,width:18,height:56,shape:"roundedRect",round:14,x:1078,y:80},{name:"announceTitle",fullName:"base/announceTitle",type:"text",text:"\u30ea\u30ea\u30fc\u30b9\u8a18\u5ff5\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u958b\u50ac\u306b\u3064\u3044\u3066",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:61,y:34},{name:"announceTypeBase",fullName:"base/announceTypeBase",type:"sprite",key:"announce_type_base.png",x:806,y:24},{name:"announceType",fullName:"base/announceType",anchor:{x:.5,y:.5},type:"text",text:"\u30ad\u30e3\u30f3\u30da\u30fc\u30f3",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:861,y:36},{name:"createTime",fullName:"base/createTime",anchor:{x:1,y:.5},type:"text",text:"2018/02/20 14:50",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:1085,y:37}],name:"base",fullName:"base",type:"container",x:16,y:5},{name:"closeButton",fullName:"closeButton",anchor:{x:.5,y:.5},type:"sprite",key:"close_button.png",x:568,y:576}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)a.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t,n){"use strict";function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],r(n),r(i))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(o),n=1;n<t.length;n++)e=r(t,n).join(""),t=e.match(o);return e}}function a(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=i(n[0]);r!==n[0]&&(t[n[0]]=r)}n=s.exec(e)}t["%C2"]="\ufffd";for(var a=Object.keys(t),o=0;o<a.length;o++){var l=a[o];e=e.replace(new RegExp(l,"g"),t[l])}return e}var o=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.processConcertResumeResponse=void 0;var a=n(9),o=r(a),s=n(112),l=r(s),u=n(245),c=r(u),f=n(170),d=r(f),p=n(70),h=r(p),y=n(246),m=r(y),_=n(410),g=r(_),b=n(130),v=n(20),w=r(v),k=function(e){var t=e.body,n=t.fesSeason,r=t.userFesRivals,a=t.judges,o=t.fesTrends,s=t.userFesDeckParameter,l=new m.default(t.userFesDeck),u=l.userFesDeckMembers;u.forEach(function(e){aoba.utils.setPrototypeOf(e.userFesIdol,c.default);var t=e.userFesIdol;t.activeSkills.forEach(function(e){return e.idol=t.idol,e.imagePaths={card:t.getImagePath("concert_card"),icon:t.getImagePath("concert_icon")},e.belongsToSupportIdol=!1,e});var n=!0,r=!1,i=void 0;try{for(var a,o=t.passiveSkills[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;h.default.setPassiveSkillMixin(s),s.idol=t.idol}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}),new g.default({fesSeason:n}).applyBonusesTo(l);var f=u.map(function(e){var t=e.userFesIdol;return t.fesDeckMemberPosition=e.fesDeckMemberPosition,t}),p=f.reduce(function(e,t){return[].concat(i(e),i(t.activeSkills))},[]),y=!0,_=!1,v=void 0;try{for(var k,S=p[Symbol.iterator]();!(y=(k=S.next()).done);y=!0){var I=k.value;h.default.setActiveSkillMixin(I)}}catch(e){_=!0,v=e}finally{try{!y&&S.return&&S.return()}finally{if(_)throw v}}var E=u.find(function(e){return e.isCenter}),A=E.userFesIdol;A.isCenter=!0,A.displayParams=Object.assign({},s);var x=[].concat(i(r.map(function(e){return Object.assign(e.rival,{id:e.id})})),[{character:A.idol.character,mental:s.mental,isPlayer:!0}]);x.forEach(function(e){aoba.utils.setPrototypeOf(e.character,d.default)});var C=!0,T=!1,P=void 0;try{for(var O,N=a[Symbol.iterator]();!(C=(O=N.next()).done);C=!0)!function(){var e=O.value,t=o.find(function(t){return t.genre===e.attribute});e.order=t.order}()}catch(e){T=!0,P=e}finally{try{!C&&N.return&&N.return()}finally{if(T)throw P}}var M=A.memoryAppeal;return M&&(M.idol=A.idol,M.imagePaths={card:A.getImagePath("concert_card"),icon:"memory_skill_icon.png"},M.isMemoryAppeal=!0,M.skillEffects=M.memoryAppealEffects),t.userFesDeck=l,t.activeSkills=p,t.judges=a,t.rivals=x,t.activeSkills=p,t.idols=f,t.musicPath=w.default.createConcertMusicPath("main",(0,b.getMajorUnitId)(f)),t},S=t.processConcertResumeResponse=function(e){var t=e.body,n=JSON.parse(t.gameData);n.produceState=t.produceState,n.turnNum=t.turnNum;var r=t.playData,i=r.map(function(e){return JSON.parse(e)});return n.appealRequests=i,k({body:n})};t.default={top:function(){return o.default.post("fesTop").then(function(e){var t=e.body,n=t.userFesDecks,r=t.fesTrendBanner,i=new m.default(n[0]);if(i.userFesDeckMembers.forEach(function(e){aoba.utils.setPrototypeOf(e.userFesIdol,c.default),e.userFesIdol.activeSkills.forEach(function(e){h.default.setActiveSkillMixin(e)})}),r&&r.announce){var a=r.announce;a.image=w.default.createAdminImagePath("announces",a.id,"").split("/.png")[0]}return Object.assign({},t,{userFesDeck:i})})},ready:function(e){return o.default.post("fesConcert/actions/ready",{fesDifficultyId:e}).then(function(e){return e.body})},start:function(){return o.default.post("fesConcert/actions/start").then(k)},resume:function(){return o.default.get("fesConcert/actions/resume").then(S)},finish:function(e){return o.default.post("fesConcert/actions/finish",e).then(function(e){var t=e.body;return t.userFesDeck.userFesDeckMembers.forEach(function(e){aoba.utils.setPrototypeOf(e.userFesIdol,c.default)}),t})},retire:function(){return o.default.post("fesConcert/actions/retire")},startMock:function(){return(0,l.default)("/request_mocks/fes/start.json").then(k)},finishMock:function(){return(0,l.default)("/request_mocks/fes/finish.json").then(function(e){var t=e.body;return t.userFesDeck.userFesDeckMembers.forEach(function(e){aoba.utils.setPrototypeOf(e.userFesIdol,c.default)}),t})}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=["vocal","dance","visual","mental"],o=function(){function e(t){r(this,e),this.memberNumber=t.memberNumber,
this.fesDeckMemberPosition=t.fesDeckMemberPosition,this.fesDeckMemberPositionBonus=t.fesDeckMemberPositionBonus,this.fesDeckMemberUnitBonus=t.fesDeckMemberUnitBonus,this.userFesIdol=t.userFesIdol,this.vocal=t.userFesIdol.vocal,this.dance=t.userFesIdol.dance,this.visual=t.userFesIdol.visual,this.mental=t.userFesIdol.mental,this.hasFixedUnitBonus=!1}return i(e,[{key:"setUserFesIdol",value:function(e){this.userFesIdol=e}},{key:"setHasFixedUnitBonus",value:function(e){this.hasFixedUnitBonus=e}},{key:"applyBonuses",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=a[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;this[s]=this._calcParameterWithBonus(s,e)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"hasPositionBonus",value:function(e){return this.fesDeckMemberPositionBonus[e]>0}},{key:"updateActiveSkills",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.userFesIdol.activeSkills[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.isSelected=e.includes(o.id)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"_calcParameterWithBonus",value:function(e,t){var n=this.fesDeckMemberPositionBonus[e];return this.hasFixedUnitBonus&&(n+=t[e]),Math.floor(this.userFesIdol[e]*(100+n)/100)}},{key:"positionName",get:function(){return this.fesDeckMemberPosition.position}},{key:"isCenter",get:function(){return"center"===this.fesDeckMemberPosition.position}},{key:"unitId",get:function(){return this.userFesIdol.unitId}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={create:function(e){return i.default.post("userGameEventCommunicationHistories/gameEventCommunication/"+e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(112),s=r(o),l=n(962),u=r(l),c=n(963),f=r(c),d=function(e){return e.forEach(function(e){switch(e.contentType){case"idol":aoba.utils.setPrototypeOf(e,u.default);break;case"support_idol":aoba.utils.setPrototypeOf(e,f.default);break;default:throw new Error("Invalid idol contentType "+e.contentType)}}),e},p=function(e){var t=e.body;return t.forEach(function(e){e.isNew&&t.filter(function(t){return t!==e&&t.id===e.id}).forEach(function(e){e.isNew=!1})}),d(t),Promise.resolve({idols:t})},h=function(){return(0,s.default)("/request_mocks/gasha/draw.json").then(p)};t.default={draw:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.default.post("gashas/"+e.id+"/actions/draw",{usedPoint:t}).then(p).then(function(t){return localStorage.setItem("lastDrewIdols",JSON.stringify(t.idols)),localStorage.setItem("lastDrewGasha",JSON.stringify({id:e.id,gashaGroupId:e.gashaGroupId,currencyType:e.currencyType,currencyId:e.currencyId})),Promise.resolve(t)})},redraw:function(e){return a.default.post("gashas/"+e+"/actions/redraw").then(p)},checkRedrawResult:function(e){return a.default.get("gashas/"+e+"/redraws").then(p).then(function(t){return Promise.resolve({idols:t.idols,gashaId:e})})},checkDrawResult:function(){var e=JSON.parse(localStorage.getItem("lastDrewIdols")),t=JSON.parse(localStorage.getItem("lastDrewGasha"));return d(e),{gasha:t,idols:e}},confirmRedrawResult:function(e){return a.default.patch("gashas/"+e+"/actions/confirm")},drawMock:function(){return h()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(31),s=r(o),l=n(1),u=r(l),c=n(20),f=r(c),d=u.default.asset.CONTENT_IMAGE_PATH,p=u.default.asset.SPINE_PATH,h=u.default.asset.imageTypes.characters,y=u.default.asset.imageTypes.idols,m=u.default.asset.extMap,_=function(e){return m[e]?m[e]:"png"};t.default={getImagePath:function(e){if(h.includes(e))return this._getCharacterImagePath(e);if(y.includes(e))return this._getIdolImagePath(e);throw new Error("asset type "+e+" is not found.")},getSpinePath:function(e){var t=this.rarity&&[u.default.app.RARITIES.SR,u.default.app.RARITIES.SSR].includes(this.rarity)?{dir:"idols",id:""+this._getIdolId()}:{dir:"characters",id:""+this._getCharacterId()};return s.default.join(p,t.dir,e,t.id,"data.json")},getRarityImagePath:function(e){return e+"_rarity_"+this.rarity+"."+_(e)},getMoviePath:function(e){return f.default.createMoviePath("idols",e,this._getIdolId())},getVoicePath:function(e){return f.default.createVoicePath("idols",this._getIdolId(),e)},getComment:function(){return this.comment&&this.comment.comment?this.comment.comment:""},_getIdolImagePath:function(e){return s.default.join(d,"idols",e,this._getIdolId()+"."+_(e))},_getCharacterImagePath:function(e){return s.default.join(d,"characters",e,this._getCharacterId()+"."+_(e))},_getIdolId:function(){return this.id},_getCharacterId:function(){return a.default.pad(this.characterId,3,"0")},_getRarity:function(){return this.rarity}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(31),s=r(o),l=n(1),u=r(l),c=u.default.asset.CONTENT_IMAGE_PATH,f=u.default.asset.SPINE_PATH,d=u.default.asset.imageTypes.characters,p=u.default.asset.imageTypes.support_idols,h=u.default.asset.extMap,y=function(e){return h[e]?h[e]:"png"};t.default={getImagePath:function(e){if(d.includes(e))return this._getCharacterImagePath(e);if(p.includes(e))return this._getSupportIdolImagePath(e);throw new Error("asset type "+e+" is not found.")},getSpinePath:function(e){return s.default.join(f,"characters",e,this._getCharacterId()+"/data.json")},getRarityImagePath:function(e){return e+"_rarity_"+this.idol.rarity+"."+y(e)},_getSupportIdolImagePath:function(e){return s.default.join(c,"support_idols",e,this._getSupportIdolId()+"."+y(e))},_getCharacterImagePath:function(e){return s.default.join(c,"characters",e,this._getCharacterId()+"."+y(e))},_getSupportIdolId:function(){return this.id},_getCharacterId:function(){return a.default.pad(this.characterId,3,"0")},_getRarity:function(){return this.rarity}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(411),s=r(o),l=n(412),u=r(l);t.default={getList:function(){var e=this;return a.default.get("gashaGroups").then(function(t){var n=t.body,r=[],i=[];if(n.forEach(function(t){if(e._sortRates(t.gashaRates),aoba.utils.setPrototypeOf(t,u.default),t.gashas.forEach(function(e){return aoba.utils.setPrototypeOf(e,s.default)}),!t.hasTicketGasha()||"3001"===t.id)return t.initialCurrencyType=t.gashas[0].currencyType,void r.push(t);t.gashas.forEach(function(e){e.gashaRates=t.gashaRates,e.isExpire=t.isExpire}),i=i.concat(t.gashas)}),i.length>0){var a={initialCurrencyType:"gasha_ticket",name:"gasha_ticket",gashas:i};aoba.utils.setPrototypeOf(a,u.default),r.push(a)}return Promise.resolve(r)})},get:function(e){return a.default.get("gashaGroups").then(function(t){var n=t.body,r=n.find(function(t){return t.id===e});return Promise.resolve(r)})},_sortRates:function(e){e.sort(function(e,t){return e.contentType<t.contentType?-1:e.contentType>t.contentType?1:t.rarity-e.rarity})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(1),s=r(o),l=n(96),u=r(l),c=n(70),f=r(c),d=n(240),p=r(d),h=n(20),y=r(h),m=function(e){aoba.utils.setPrototypeOf(e,p.default)};t.default={get:function(e){var t=this;return a.default.get("idols/"+e).then(function(e){var n=e.body;m(n);var r=n.skillPanels,i=n.memoryAppeals,a=n.produceAfterEvents;return r.forEach(function(e){var n=s.default.app.SKILL_CATEGORIES;switch(e.skillCategory){case n.ACTIVE:f.default.setActiveSkillMixin(e.skill);break;case n.PASSIVE:f.default.setPassiveSkillMixin(e.skill);break;case n.LIMIT_BREAK:
f.default.setLimitBreakSkillMixin(e.skill)}e.skill.linkSkill&&t._setLinkSkillResourcePath(e.skill.linkSkill)}),i.forEach(function(e){e.linkSkill&&t._setLinkSkillResourcePath(e.linkSkill)}),0!==a.length&&a.forEach(function(e){e.mission&&e.mission.missionRewards.forEach(function(e){aoba.utils.setPrototypeOf(e,u.default)})}),Promise.resolve(n)})},_setLinkSkillResourcePath:function(e){e.linkSkillCharacters.forEach(function(e){e.iconPath=y.default.createImagePath("characters","link_skill_icon",e.characterId)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={recovery_item:{iconPath:"recovery_items/icon/"},enhancement_item:{iconPath:"enhancement_items/icon/"},gasha_ticket:{iconPath:"gasha_tickets/icon/"},jewel:{iconPath:"icon_jewel.png",name:"jewel"},money:{iconPath:"icon_money.png",name:"money"},title:{iconPath:"icon_title.png"},game_event_point:{iconPath:"icon_game_event_point.png",name:"gameEventPoint"}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(968),s=r(o);t.default={get:function(e){return new Promise(function(t){a.default.get("invitationCampaigns/"+e).then(function(e){var n=e.body.invitationCampaign;return aoba.utils.setPrototypeOf(n,s.default),t(e.body)})})},receive:function(e){return new Promise(function(t){a.default.post("invitationCampaigns/"+e+"/actions/receive").then(function(e){return t(e.body)})})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=r(i),o=n(1),s=r(o),l=s.default.asset.CONTENT_IMAGE_PATH+"/invitation";t.default={getDetailImagePath:function(){return a.default.join(l,"detail_reward","detail_reward_"+this.id+".png")},getMainImagePath:function(){return a.default.join(l,"main_reward","main_reward_"+this.id+".png")}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(31),s=r(o),l=n(1),u=r(l),c=n(172),f=r(c),d=u.default.asset.CONTENT_IMAGE_PATH;t.default={getIconImagePath:function(){var e=this.itemCategory.iconPath;return"gasha_tickets/icon"===e?s.default.join(d,e,this._getGashaIcon()+".png"):s.default.join(d,e,a.default.pad(this.getItemId(),3,"0")+".png")},getItemId:function(){return this.item.id},getName:function(){return this.item.name},getComment:function(){return this.item.comment},getLimitNum:function(){return this.item.limitNum},getNum:function(){return this.num},setNum:function(e){this.num=e},getExpireDate:function(){return this.item.closeAt>0?(this._expireDate||(this._expireDate=new Date(1e3*this.item.closeAt),this._expireDate.setTime(this._expireDate.getTime()+6e4*this._expireDate.getTimezoneOffset())),this._expireDate):null},_getGashaIcon:function(){return f.default[this.item.image]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(971);t.default={get:function(){return i.default.post("userLoginBonuses").then(function(e){return(0,a.processGetResponse)(e)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.processGetResponse=void 0;var i=n(13),a=r(i),o=n(31),s=r(o),l=n(1),u=r(l),c=n(96),f=r(c),d=u.default.asset.CONTENT_IMAGE_PATH,p={NORMAL:"normal",TOTAL:"total",BEGINNER:"beginner",SPECIAL:"special"},h=function(e){if(0===e.userLoginBonuses.length)return null;var t={},n=[];e.userLoginBonuses.forEach(function(e){e.loginBonus.category===p.NORMAL?t=e:(e.bgPath=s.default.join(d,"/special_login_bonuses/bg/"+a.default.pad(e.loginBonus.id,3,"0")+".jpg"),n.push(e)),e.loginBonus.sheets.forEach(function(e){e.rewards.forEach(function(e){aoba.utils.setPrototypeOf(e,f.default)})})}),e.userTotalBonuses.forEach(function(e){e.rewards.forEach(function(e){aoba.utils.setPrototypeOf(e,f.default)})});var r=e.userTotalBonuses,i=e.totalLoginDays;return{normalLoginBonus:t,specialLoginBonuses:n,totalLoginBonuses:r,totalLoginDays:i}};t.processGetResponse=function(e){return Promise.resolve(h(e.body))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={saveEventPageOpenTime:function(e){localStorage.setItem("eventPageOpenTime",e)},isNewEventExist:function(){var e=localStorage.getItem("eventPageOpenTime");return this.specialBanner&&(!e||1e3*this.specialBanner.openAt>e)},isNewGashaExist:function(){if(!this.gashaGroups||0===this.gashaGroups.length)return!1;var e=Number(localStorage.getItem("gashaPageOpenTime"));if(!e)return!0;var t=!0,n=!1,r=void 0;try{for(var i,a=this.gashaGroups[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)if(1e3*i.value.openAt>e)return!0}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(20),s=r(o),l=a.default.asset.imageTypes,u=a.default.asset.voiceIds;t.default={getImagePath:function(e){if(l.characters.includes(e))return this._getCharacterImagePath(e);if(l.idols.includes(e))return this._getIdolImagePath(e);throw new Error("asset type "+e+" is not found.")},_getCharacterImagePath:function(e){return s.default.createImagePath("characters",e,this.characterId)},_getIdolImagePath:function(e){var t=this._isSupportIdol()?"support_idols":"idols";return s.default.createImagePath(t,e,this.idolId)},getVoicePath:function(e){return u.idols.includes(e)?this._getIdolVoicePath(e):this._getCharacterVoicePath(e)},_getCharacterVoicePath:function(e){return s.default.createVoicePath("characters",this.characterId,e)},_getIdolVoicePath:function(e){var t=this._isSupportIdol()?"support_idols":"idols";return s.default.createVoicePath(t,this.idolId,e)},hasHomeCard:function(){return this._getRarity()<=a.default.app.RARITIES.R},_getRarity:function(){return this.rarity},_isSupportIdol:function(){return(""+this.idolId).startsWith("2")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getImagePath:function(){return i.default.createAdminImagePath(this.bannerCategory.imagePath,this.id,"banner")},getOpenDate:function(){return this._openDate||(this._openDate=new Date(1e3*this.openAt)),this._openDate}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(69),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getSeason:function(){return Math.ceil(this.week/i.default.SEASON_WEEK_NUM)},getRestOfSeasonWeek:function(){var e=this.getSeason();return Math.min(e*i.default.SEASON_WEEK_NUM,i.default.TOTAL_WEEK_NUM)-(this.week-1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={general:{imagePath:"general_banners"},special:{imagePath:"special_banners"}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getOpened:function(){return Promise.resolve().then(function(){return i.default.get("produceMarathons")}).then(function(e){var t=e.body;return 0===t.length?Promise.reject():Promise.resolve(t[0])}).then(function(e){return i.default.get("produceMarathons/"+e.id+"/top")},function(){return window.location.href="/",new Promise(function(e){})}).then(function(e){return e.body})},top:function(e){return i.default.get("produceMarathons/"+e+"/top").then(function(e){return e.body})}}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(1),s=r(o),l=n(70),u=r(l),c=n(20),f=r(c),d=n(405),p=r(d),h=n(171),y=r(h),m=function(e){aoba.utils.setPrototypeOf(e,p.default),e.supportSkills.forEach(function(e){
aoba.utils.setPrototypeOf(e,y.default.create(e.effectType))})};t.default={get:function(t){var n=this;return a.default.get("supportIdols/"+t).then(function(t){var r=t.body;r.level=1,m(r),r.skillPanels.forEach(function(e){var t=s.default.app.SKILL_CATEGORIES;switch(e.skillCategory){case t.ACTIVE:u.default.setActiveSkillMixin(e.skill);break;case t.PASSIVE:u.default.setPassiveSkillMixin(e.skill);break;case t.LIMIT_BREAK:u.default.setLimitBreakSkillMixin(e.skill)}e.skill.linkSkill&&n._setLinkSkillResourcePath(e.skill.linkSkill)});var i=r.supportIdolActiveSkill,a=i.supportIdolActiveSkillLevels.filter(function(e){return e.requiredIdolLevel<=r.level}),o=e.max(a,function(e){return e.skillLevel});return i.currentActiveSkills=i.activeSkills.filter(function(e){return e.level===o.skillLevel}),i.currentActiveSkills.forEach(function(e){u.default.setActiveSkillMixin(e),e.linkSkill&&n._setLinkSkillResourcePath(e.linkSkill)}),Promise.resolve(r)})},_setLinkSkillResourcePath:function(e){e.linkSkillCharacters.forEach(function(e){e.iconPath=f.default.createImagePath("characters","link_skill_icon",e.characterId)})}}}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getMoney:function(){return this.userMoney.amount},getJewel:function(){return this.userJewel.num},calcCurrentStamina:function(){return this.userStamen.calcCurrentStamina()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getList:function(){return i.default.get("userEnhancementItems").then(function(e){var t=e.body;return t.forEach(function(e){e.iconImagePath="images/content/enhancement_items/icon/00"+e.enhancementItem.id+".png",e.id=e.enhancementItem.id}),Promise.resolve(t)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(982),s=r(o);t.default={getList:function(){var e=this;return a.default.get("userGashaTickets").then(function(t){return e._userGashaTickets=t.body,e._userGashaTickets.forEach(function(e){aoba.utils.setPrototypeOf(e.gashaTicket,s.default)}),Promise.resolve(e._userGashaTickets)})},getByGashaTicketId:function(e){return a.default.get("userGashaTickets").then(function(t){var n=t.body,r=n.find(function(t){return t.gashaTicket.id===e});return aoba.utils.setPrototypeOf(r.gashaTicket,s.default),Promise.resolve(r)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=r(i),o=n(1),s=r(o),l=n(172),u=r(l),c=s.default.asset.CONTENT_IMAGE_PATH;t.default={getTicketBorderIconImage:function(){var e=this._getGashaIcon();return e?a.default.join(c,"gasha_tickets","icon",e+".png"):""},getSmallIconImage:function(){var e=this._getGashaIcon();return e?a.default.join(c,"gasha_tickets","simple_icon_s",e+".png"):""},getIconImage:function(){var e=this._getGashaIcon();return e?a.default.join(c,"gasha_tickets","simple_icon",e+".png"):""},_getGashaIcon:function(){return u.default[this.image]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(984),s=r(o),l=n(985),u=r(l);t.default={getList:function(){return a.default.get("userShops").then(function(e){var t=e.body;return t.userShops.forEach(function(e){e.shopMerchandises.forEach(function(e){aoba.utils.setPrototypeOf(e,u.default),e.shopContents.forEach(function(e){aoba.utils.setPrototypeOf(e,s.default)})})}),Promise.resolve(t)})},purchase:function(e){return a.default.post("userShops/actions/purchase",e).then(function(e){var t=e.body,n=t.shopMerchandise;return aoba.utils.setPrototypeOf(n,u.default),n.shopContents.forEach(function(e){aoba.utils.setPrototypeOf(e,s.default)}),Promise.resolve(t)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(106),s=r(o),l=n(172),u=r(l),c={recovery_item:"recovery_items",gasha_ticket:"gasha_tickets",enhancement_item:"enhancement_items"},f={GASHA_TICKET:"gasha_tickets"};t.default={getImagePath:function(){var e=c[this.contentType];return e===f.GASHA_TICKET?"images/content/"+e+"/icon/"+this._getGashaIcon()+".png":"images/content/"+e+"/icon/"+this._getPaddedContentId(e)+".png"},_getPaddedContentId:function(e){var t=s.default.ID_DIGIT_NUMBER[e];return a.default.pad(this.contentId,t,"0")},someContentBy:function(e,t){return this.contentId===e&&this.contentType===t},_getGashaIcon:function(){return u.default[this.content.image]}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={isPurchaseCountLimited:function(){return this.limitedCount>0},purchasableLimitReached:function(){return!!this.isPurchaseCountLimited()&&0===this._getPurchasableNum()},getRestOfPurchaseCount:function(){return this.isPurchaseCountLimited()?this._getPurchasableNum():Number.POSITIVE_INFINITY},calcPurchasableCountWithinPossessionNumLimit:function(){return Math.min.apply(Math,r(this.shopContents.map(function(e){var t="jewel"===e.contentType?999999:e.content.limitNum||999999;return Math.floor((t-e.possession)/e.num)})))},hasShopContentBy:function(e,t){return this.shopContents.some(function(n){return n.someContentBy(e,t)})},getImagePath:function(){return a.default.createImagePath("shop_merchandises","icon",this.iconImage)},_getPurchasableNum:function(){return Math.max(this.limitedCount-this.purchasedNum,0)},getExpireDate:function(){return this.closeAt>0&&4102412399!==this.closeAt?(this._expireDate||(this._expireDate=new Date(1e3*this.closeAt),this._expireDate.setTime(this._expireDate.getTime()+6e4*this._expireDate.getTimezoneOffset())),this._expireDate):null}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(76),s=r(o),l=function(e){aoba.utils.setPrototypeOf(e,s.default)};t.default={getList:function(){return a.default.get("userReserveIdols").then(function(e){var t=e.body.filter(function(e){return e.num>0});return t.forEach(l),Promise.resolve(t)})},get:function(e){return a.default.get("userReserveIdols/userIdol/"+e.toString()).then(function(e){var t=e.body;return l(t),t.selectedNum=0,Promise.resolve(t)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(113),s=r(o),l=function(e){aoba.utils.setPrototypeOf(e,s.default)};t.default={getList:function(){return a.default.get("userReserveSupportIdols").then(function(e){var t=e.body.filter(function(e){return e.num>0});return t.forEach(l),Promise.resolve(t)})},get:function(e){return a.default.get("userReserveSupportIdols/userSupportIdol/"+e).then(function(e){var t=e.body;return l(t),t.selectedNum=0,Promise.resolve(t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.freeze({DOT_BLACK:"dot_black",DOT_WHITE:"dot_white"}),i=function(e){return aoba.extras.TilingSprite.fromFrame(e.type+".png",e.width,2)};t.default={types:r,create:i}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}
Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._imagePrefix=e.imagePrefix,n._interval=e.interval||20,n._numberSpriteList=[],n._number=0,n._digit=10,n._nonCountDigit=e.nonCountDigit||0,n._zeroPaddingNumber=e.zeroPaddingNumber,n._originX=e.originX||0,n._prefix=e.prefix||"",n._scaleX=e.scaleX||n.scaleX,n._scaleY=e.scaleY||n.scaleY,n}return a(t,e),o(t,[{key:"setNum",value:function(e){return this.number=e,this}},{key:"_removeCounter",value:function(){return this._numberSpriteList.length>0&&this._numberSpriteList.forEach(function(e){e.remove()}),this._numberSpriteList=[],this}},{key:"_calcNum",value:function(e){return(Array(this._zeroPaddingNumber).join("0")+Math.abs(e)).slice(-this._zeroPaddingNumber)}},{key:"_getRandomNum",value:function(){for(var e="",t=[0,1,2,3,4,5,6,7,8,9],n=this._digit,r=0;r<n;r++)e+=t.shuffle()[0];return e}},{key:"_set",value:function(e){var t=this,n=[],r=this._interval;""!==this._prefix&&(e=""+this._prefix+e),e.split("").reverse().forEach(function(e,i){var a=aoba.Sprite.new(""+t._imagePrefix+e+".png").setScale(t._scaleX,t._scaleY).setAnchor(.5).setPosition(-r*i,0).addTo(t);n.push(a)});var i=this.width;return this.children.forEach(function(e){e.x+=i*t._originX}),this._numberSpriteList=n,this}},{key:"animSetNum",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;return aoba.Tween.new(this).to({number:e},n).call(function(){t.flare("endAnim")}),this}},{key:"animRandomNum",value:function(e){var t=this,n=this._calcNum(e),r=this._digit,i=aoba.Container.new().addTo(this);return aoba.Tween.new(this),[{startTime:800,digit:0},{startTime:180,digit:1},{startTime:180,digit:2},{startTime:180,digit:3},{startTime:180,digit:4},{startTime:180,digit:5},{startTime:180,digit:6},{startTime:180,digit:7},{startTime:180,digit:8},{startTime:180,digit:9}].forEach(function(e,a){aoba.util.setTimeoutAndClear(function(){i.update=function(){t._removeCounter();var e=t._getRandomNum().slice(0,r-a)+n.slice(r-a,r+1);t._set(e)}},e.startTime)}),aoba.util.setTimeoutAndClear(function(){i.remove(),t.number=e,t.flare("endAnim")},1),this}},{key:"prefix",set:function(e){this._prefix=e}},{key:"originX",set:function(e){this._originX=e}},{key:"number",set:function(e){e|=0,this._number=e,this._removeCounter();var t=this._calcNum(e);return this._set(t),this},get:function(){return this._number}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.width=e.width,n.height=e.height,n.interactive=!0,n._pressed=!1,n._pressedTime=0,n._pressStartY=null,n.on("touchstart",n._onTouchStart,n),n.on("touchmove",n._onTouchMove,n),n.on("touchendoutside",n._cancelPressed,n),n.on("touchend",n._cancelPressed,n),n}return a(t,e),o(t,[{key:"ezgUpdate",value:function(e){this._pressed&&(this._pressedTime+=e,this._pressedTime>=500&&(this.emit("longPress",this),this._cancelPressed()))}},{key:"_onTouchStart",value:function(e){this._pressed=!0,this._pressStartY=e.data.global.y}},{key:"_onTouchMove",value:function(e){null===this._pressStartY&&(this._pressStartY=e.data.global.y),Math.abs(this._pressStartY-e.data.global.y)>=8&&this._cancelPressed()}},{key:"_cancelPressed",value:function(){this._pressed=!1,this._pressedTime=0,this._pressStartY=null}}]),t}(aoba.Sprite);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={width:1,color:0,alpha:1};return t=Object.assign(n,t),aoba.Graphics.new().lineStyle(t.width,t.color,t.alpha).moveTo(0,0).lineTo(e,0)},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={fill:0,alpha:1};n=Object.assign(r,n);var i=aoba.Graphics.new(),a=n,o=a.lineStyle,s=a.fill,l=a.alpha;return o&&i.lineStyle(o.width,o.color,o.alpha),i.beginFill(s,l),i.drawRect(0,0,e,t),i},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={fill:0,alpha:1,round:0};n=Object.assign(r,n);var i=aoba.Graphics.new(),a=n,o=a.lineStyle,s=a.fill,l=a.alpha,u=a.round;return o&&i.lineStyle(o.width,o.color,o.alpha),i.beginFill(s,l),i.roundedRect(0,0,e,t,u),i};t.default={line:r,rect:i,roundedRect:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"moving_bg.jpg",x:0,y:0},{name:"stripe",fullName:"stripe",type:"container",x:0,y:0},{children:[{name:"transitionStar1",fullName:"stars/transitionStar1",anchor:{x:.5,y:.5},type:"sprite",key:"transition_star_1.png",x:159,y:490},{name:"transitionStar2",fullName:"stars/transitionStar2",anchor:{x:.5,y:.5},type:"sprite",key:"transition_star_2.png",x:186,y:68},{name:"transitionStar3",fullName:"stars/transitionStar3",anchor:{x:.5,y:.5},type:"sprite",key:"transition_star_3.png",x:84,y:378},{name:"transitionStar4",fullName:"stars/transitionStar4",anchor:{x:.5,y:.5},type:"sprite",key:"transition_star_4.png",x:884,y:79},{name:"transitionStar5",fullName:"stars/transitionStar5",anchor:{x:.5,y:.5},type:"sprite",key:"transition_star_5.png",x:49,y:140},{name:"transitionStar6",fullName:"stars/transitionStar6",anchor:{x:.5,y:.5},type:"sprite",key:"transition_star_6.png",x:957,y:206},{name:"transitionStar7",fullName:"stars/transitionStar7",anchor:{x:.5,y:.5},type:"sprite",key:"transition_star_7.png",x:827,y:472}],name:"stars",fullName:"stars",type:"container",x:83,y:49},{children:[{name:"ringGrad",fullName:"ring/ringGrad",anchor:{x:.5,y:.5},type:"sprite",key:"ring_grad.png",x:295,y:294},{name:"ringMask",fullName:"ring/ringMask",anchor:{x:.5,y:.5},type:"sprite",key:"ring_mask.png",x:295,y:294}],name:"ring",fullName:"ring",type:"container",x:273,y:25},{name:"wingMark",fullName:"wingMark",type:"sprite",key:"wing_mark.png",x:420,y:172}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t._createLargeContainer=t._createSmallContainer=t.create=void 0;var i=n(0),a=r(i),o=n(14),s=r(o),l=n(994),u=r(l),c=n(995),f=r(c),d=n(252),p=r(d),h=n(22),y=r(h),m=n(24),_=r(m),g=n(3),b=r(g),v=t.create=function(e){var t=[{type:"submit",image:"ok_button.png"}],n=e.length>1?this._createLargeContainer(e):this._createSmallContainer(e);return s.default.new({title:b.default.t("mission.popReceive.title"),type:"use",buttons:t,container:n})},w=t._createSmallContainer=function(e){var t=aoba.Container.new(),n=this._createBase(u.default,t),r=n["listBase/list"];return this._showRewards(e,r,0),t},k=t._createLargeContainer=function(e){var t=aoba.Container.new(),n=this._createBase(f.default,t),r=n["listBase/list"],i=n.listBase,o=n["listBase/scrollBase"];this._showRewards(e,r,r.y),
aoba.Graphics.new().beginFill(0).drawRect(0,0,0,107*e.length+r.y).addTo(r,0,0,{alpha:0});var s=a.default.commonUiHelper.createScrollBarBase({width:8,height:250});return y.default.new({width:430,height:258,container:r,scrollBar:_.default.new({width:18}),scrollBarBase:s}).addTo(i,0,0),s.addTo(o,0,0),t},S=function(e,t){return t.fromData(e,{comment:{text:b.default.t("mission.popReceive.comment")}})},I=function(e,t,n){e.forEach(function(e,r){p.default.new(e).addTo(t,0,107*r+n)})};t.default={create:v,_createSmallContainer:w,_createLargeContainer:k,_createBase:S,_showRewards:I}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"comment",fullName:"comment",type:"text",text:"\u4ee5\u4e0b\u306e\u5831\u916c\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u305f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-129,y:10},{children:[{name:"innerBase",fullName:"listBase/innerBase",type:"sprite",key:"pop_inner_base.png",x:0,y:0},{name:"list",fullName:"listBase/list",type:"container",x:25,y:25}],name:"listBase",fullName:"listBase",type:"container",x:-229,y:43}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:207}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"innerBaseL",fullName:"listBase/innerBaseL",type:"sprite",key:"pop_inner_base_l.png",x:0,y:0},{name:"list",fullName:"listBase/list",type:"container",x:25,y:16},{name:"scrollBase",fullName:"listBase/scrollBase",type:"container",x:438,y:5}],name:"listBase",fullName:"listBase",type:"container",x:-229,y:38},{name:"comment",fullName:"comment",type:"text",text:"\u4ee5\u4e0b\u306e\u5831\u916c\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u305f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-129,y:10}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:127}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"reward",fullName:"reward",type:"container",x:0,y:0},{name:"itemNameQuantity",fullName:"itemNameQuantity",type:"text",text:"\u30b9\u30bf\u30fc\u30b8\u30e5\u30a8\u30eb \xd7 50",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:108,y:46}],name:"",fullName:"",type:"container",x:357,y:323}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{}));return n.on("tap",n._playSE,n),n}return a(t,e),o(t,[{key:"setAvailable",value:function(e){e?this.enable():this.disable()}},{key:"disable",value:function(){this.interactive=!1,this.tint=10066329}},{key:"enable",value:function(){this.interactive=!0,this.tint=16777215}},{key:"_playSE",value:function(){aoba.soundManager.playSE(l.default.ui.select)}}]),t}(aoba.Button);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(110),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._isOn=!1,a._textures={false:aoba.Texture.fromImage(e),true:aoba.Texture.fromImage(n)},a.on("tap",a.toggle,a),a}return a(t,e),o(t,[{key:"toggle",value:function(){this._isOn=!this._isOn,this.texture=this._textures[this._isOn],this.emit("changed")}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"overlay",fullName:"overlay",type:"graphics",fill:0,alpha:1,width:1136,height:640,shape:"rect",x:0,y:0},{name:"content",fullName:"content",anchor:{x:.5,y:.5},type:"sprite",key:"skill_board_01.jpg",x:568,y:320},{name:"forwardButton",fullName:"forwardButton",anchor:{x:.5,y:.5},type:"sprite",key:"forward_button.png",x:740,y:535},{name:"backButton",fullName:"backButton",anchor:{x:.5,y:.5},type:"sprite",key:"back_button.png",x:397,y:535},{name:"closeButton",fullName:"closeButton",anchor:{x:.5,y:.5},type:"sprite",key:"close_button.png",x:569,y:535}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),a=r(i),o=n(67),s=r(o),l=n(66),u=r(l),c=n(425),f=r(c),d=n(114),p=function(){return!!a.default.PF_URI},h=function(){return p()?s.default.ui.showSpecifiedCommercialTransactions():Promise.resolve()},y=function(){return!(!u.default.isMobile()&&!u.default.isTablet())&&!u.default.isStandAlone()},m=function(){return!1},_=function(){return p()?s.default.ui.showHowToAddHomeIcon():Promise.resolve()},g=function(){return s.default?s.default.ui.showFullScreenAnnounce():Promise.resolve()},b=function(){return s.default?s.default.ui.showTwitterBrowserModal():Promise.resolve()},v=function(){return!(!u.default.isMobile()&&!u.default.isTablet())&&!!u.default.isAndroid()&&!u.default.isStandAlone()&&!(0,f.default)()&&!d.claims.is_guest};t.default={isEnabled:p,showSpecifiedCommercialTransactions:h,needsHowToAddHomeIcon:y,needsToShowHowToAddHomeIconAnnounce:m,needsToShowFullScreenAnnounce:v,showHowToAddHomeIcon:_,showFullScreenAnnounce:g,showTwitterBrowserModal:b}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))
;return aoba.Sprite.new("loading_indicator_base.png").addTo(e,0,0,{anchor:.5}),e._indicator=aoba.Sprite.new("loading_indicator.png"),e._indicator.addTo(e,0,0,{anchor:.5}),e._amcgmark=aoba.Sprite.new("loading_indicator_amcgmark.png"),e._amcgmark.addTo(e,0,0,{anchor:.5}),e._effectTweens=[],e.on("added",e._play,e),e}return a(t,e),o(t,[{key:"showAndPlay",value:function(){this.show(),this._play()}},{key:"_play",value:function(){this._cancelEffectTweens(),this._indicator.rotation=0,this._createEffectTween(this._indicator).by({rotation:360*aoba.DEG_TO_RAD},30).loop(),this._amcgmark.scaleX=1,this._createEffectTween(this._amcgmark).to({scaleX:-1},30,"easeInOutQuad").to({scaleX:1},30,"easeInOutQuad").loop()}},{key:"_createEffectTween",value:function(e){var t=aoba.FrameTween.new(e);return this._effectTweens.push(t),t}},{key:"_cancelEffectTweens",value:function(){this._effectTweens.forEach(function(e){return e.remove()}),this._effectTweens=[]}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getImagePath:function(e){return"images/content/produce_places/"+e+"/"+i.default.pad(this.id,5,"0")+".png"},getCategoryImagePath:function(e){return"images/content/produce_place_categories/"+e+"/"+i.default.pad(this.producePlaceCategoryId,5,"0")+".png"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getUserDeckId:function(){return this.deckNumber},getDeckName:function(){return this.name},getUserIdol:function(){return this.userIdol},getUserSupportIdols:function(){return this.userSupportIdols}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={normal:{acquireVoiceId:"inventory_1",unlockVoiceId:"inventory_4"},gold:{acquireVoiceId:"inventory_2",unlockVoiceId:"inventory_5"},evolution:{acquireVoiceId:"inventory_3",unlockVoiceId:"inventory_6"}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),a=r(i),o=n(38),s=r(o),l=n(69),u=r(l),c=function(e){var t=u.default.PRODUCE_STATES;switch(e){case t.NOT_STARTED:case t.MORNING:case t.AFTER_ACTION:case t.END_OF_WEEK:case t.AUDITION_EVENT:case t.AFTER_AUDITION_EVENT:case t.AFTER_CONCERT_EVENT:case t.END_OF_PRODUCE:return"produce";case t.AUDITION:return"produceAudition";case t.CONCERT:return"produceConcert";case t.AUDITION_RESULT:case t.CONCERT_RESULT:return"concertResult";case t.ENDING:case t.FES_IDOL_BIRTH:case t.FINISHED:return"produceEnding";default:return"concertResult"}};t.default=function(e){return e.request?s.default.resume().then(function(t){var n=c(t.produceState);return a.default.loadSceneAsync(n,Object.assign(e,{request:!1,sceneParams:t}))}):a.default.loadSceneAsync("produce",{request:!1,sceneParams:e.sceneParams})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1007),i=function(){return new Promise(function(e,t){r.load({timeout:1e4,custom:{families:["HummingStd-E","UDKakugo_SmallPr6-B"]},active:function(){e()},fontinactive:function(t,n){e()}})})};t.default=i},function(e,t,n){var r;!function(){function i(e,t,n){return e.call.apply(e.bind,arguments)}function a(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function o(e,t,n){return o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:a,o.apply(null,arguments)}function s(e,t){this.a=e,this.o=t||e,this.c=this.o.document}function l(e,t,n,r){if(t=e.c.createElement(t),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r&&t.appendChild(e.c.createTextNode(r)),t}function u(e,t,n){e=e.c.getElementsByTagName(t)[0],e||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function f(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var a=!1,o=0;o<r.length;o+=1)if(t[i]===r[o]){a=!0;break}a||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(a=!1,o=0;o<n.length;o+=1)if(r[i]===n[o]){a=!0;break}a||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function p(e){return e.o.location.hostname||e.a.location.hostname}function h(e,t,n){function r(){s&&i&&a&&(s(o),s=null)}t=l(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,a=!0,o=null,s=n||null;ae?(t.onload=function(){i=!0,r()},t.onerror=function(){i=!0,o=Error("Stylesheet failed to load"),r()}):setTimeout(function(){i=!0,r()},0),u(e,"head",t)}function y(e,t,n,r){var i=e.c.getElementsByTagName("head")[0];if(i){var a=l(e,"script",{src:t}),o=!1;return a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,n&&n(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&i.removeChild(a))},i.appendChild(a),setTimeout(function(){o||(o=!0,n&&n(Error("Script load timeout")))},r||5e3),a}return null}function m(){this.a=0,this.c=null}function _(e){return e.a++,function(){e.a--,b(e)}}function g(e,t){e.c=t,b(e)}function b(e){0==e.a&&e.c&&(e.c(),e.c=null)}function v(e){this.a=e||"-"}function w(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function k(e){return E(e)+" "+e.f+"00 300px "+S(e.c)}function S(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function I(e){return e.a+e.f}function E(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function A(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function x(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new v("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function C(e){e.g&&f(e.f,[e.a.c("wf","loading")]),P(e,"loading")}function T(e){if(e.g){var t=d(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),f(e.f,n,r)}P(e,"inactive")}function P(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,I(n)):e.h[t]())}function O(){this.c={}}function N(e,t,n){var r,i=[];for(r in t)if(t.hasOwnProperty(r)){var a=e.c[r];a&&i.push(a(t[r],n))}return i}function M(e,t){this.c=e,this.f=t,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function R(e){u(e.c,"body",e.a)}function D(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(e.c)+";font-style:"+E(e)+";font-weight:"+e.f+"00;"}function F(e,t,n,r,i,a){this.g=e,this.j=t,this.a=r,this.c=n,this.f=i||3e3,this.h=a||void 0}function B(e,t,n,r,i,a,o){this.v=e,this.B=t,this.c=n,this.a=r,this.s=o||"BESbswy",this.f={},this.w=i||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new M(this.c,this.s),this.h=new M(this.c,this.s),this.j=new M(this.c,this.s),this.m=new M(this.c,this.s),e=new w(this.a.c+",serif",I(this.a)),e=D(e),this.g.a.style.cssText=e,e=new w(this.a.c+",sans-serif",I(this.a)),e=D(e),this.h.a.style.cssText=e,e=new w("serif",I(this.a)),e=D(e),this.j.a.style.cssText=e,e=new w("sans-serif",I(this.a)),e=D(e),this.m.a.style.cssText=e,R(this.g),R(this.h),R(this.j),R(this.m)}function j(){if(null===se){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent)
;se=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return se}function L(e,t,n){for(var r in oe)if(oe.hasOwnProperty(r)&&t===e.f[oe[r]]&&n===e.f[oe[r]])return!0;return!1}function U(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=j()&&L(e,n,r)),t?ie()-e.A>=e.w?j()&&L(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?G(e,e.v):G(e,e.B):H(e):G(e,e.v)}function H(e){setTimeout(o(function(){U(this)},e),50)}function G(e,t){setTimeout(o(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),t(this.a)},e),0)}function z(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}function V(e){0==--e.f&&e.j&&(e.m?(e=e.a,e.g&&f(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),P(e,"active")):T(e.a))}function K(e){this.j=e,this.a=new O,this.h=0,this.f=this.g=!0}function W(e,t,n,r,i){var a=0==--e.h;(e.f||e.g)&&setTimeout(function(){var e=i||null,s=r||null||{};if(0===n.length&&a)T(t.a);else{t.f+=n.length,a&&(t.j=a);var l,u=[];for(l=0;l<n.length;l++){var c=n[l],d=s[c.c],p=t.a,h=c;if(p.g&&f(p.f,[p.a.c("wf",h.c,I(h).toString(),"loading")]),P(p,"fontloading",h),p=null,null===le)if(window.FontFace){var h=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),y=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);le=h?42<parseInt(h[1],10):!y}else le=!1;p=le?new F(o(t.g,t),o(t.h,t),t.c,c,t.s,d):new B(o(t.g,t),o(t.h,t),t.c,c,t.s,e,d),u.push(p)}for(l=0;l<u.length;l++)u[l].start()}},0)}function q(e,t,n){var r=[],i=n.timeout;C(t);var r=N(e.a,n,e.c),a=new z(e.c,t,i);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load(function(t,n,r){W(e,a,t,n,r)})}function X(e,t){this.c=e,this.a=t}function Y(e,t){this.c=e,this.a=t}function J(e,t){this.c=e||ue,this.a=[],this.f=[],this.g=t||""}function Q(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var a="";2==i.length&&""!=i[1]&&(a=":"),e.a.push(i.join(a))}}function Z(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}function $(e){this.f=e,this.a=[],this.c={}}function ee(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),a=["n4"];if(2<=r.length){var o,s=r[1];if(o=[],s)for(var s=s.split(","),l=s.length,u=0;u<l;u++){var c;if(c=s[u],c.match(/^[\w-]+$/)){var f=pe.exec(c.toLowerCase());if(null==f)c="";else{if(c=f[2],c=null==c||""==c?"n":de[c],null==(f=f[1])||""==f)f="4";else var d=fe[f],f=d||(isNaN(f)?"4":f.substr(0,1));c=[c,f].join("")}}else c="";c&&o.push(c)}0<o.length&&(a=o),3==r.length&&(r=r[2],o=[],r=r?r.split(","):o,0<r.length&&(r=ce[r[0]])&&(e.c[i]=r))}for(e.c[i]||(r=ce[i])&&(e.c[i]=r),r=0;r<a.length;r+=1)e.a.push(new w(i,a[r]))}}function te(e,t){this.c=e,this.a=t}function ne(e,t){this.c=e,this.a=t}function re(e,t){this.c=e,this.f=t,this.a=[]}var ie=Date.now||function(){return+new Date},ae=!!window.FontFace;v.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},F.prototype.start=function(){var e=this.c.o.document,t=this,n=ie(),r=new Promise(function(r,i){function a(){ie()-n>=t.f?i():e.fonts.load(k(t.a),t.h).then(function(e){1<=e.length?r():setTimeout(a,25)},function(){i()})}a()}),i=null,a=new Promise(function(e,n){i=setTimeout(n,t.f)});Promise.race([a,r]).then(function(){i&&(clearTimeout(i),i=null),t.g(t.a)},function(){t.j(t.a)})};var oe={D:"serif",C:"sans-serif"},se=null;B.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=ie(),U(this)};var le=null;z.prototype.g=function(e){var t=this.a;t.g&&f(t.f,[t.a.c("wf",e.c,I(e).toString(),"active")],[t.a.c("wf",e.c,I(e).toString(),"loading"),t.a.c("wf",e.c,I(e).toString(),"inactive")]),P(t,"fontactive",e),this.m=!0,V(this)},z.prototype.h=function(e){var t=this.a;if(t.g){var n=d(t.f,t.a.c("wf",e.c,I(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,I(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,I(e).toString(),"inactive")),f(t.f,r,i)}P(t,"fontinactive",e),V(this)},K.prototype.load=function(e){this.c=new s(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,q(this,new x(this.c,e),e)},X.prototype.load=function(e){function t(){if(a["__mti_fntLst"+r]){var n,i=a["__mti_fntLst"+r](),o=[];if(i)for(var s=0;s<i.length;s++){var l=i[s].fontfamily;void 0!=i[s].fontStyle&&void 0!=i[s].fontWeight?(n=i[s].fontStyle+i[s].fontWeight,o.push(new w(l,n))):o.push(new w(l))}e(o)}else setTimeout(function(){t()},50)}var n=this,r=n.a.projectId,i=n.a.version;if(r){var a=n.c.o;y(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(i?"?v="+i:""),function(i){i?e([]):(a["__MonotypeConfiguration__"+r]=function(){return n.a},t())}).id="__MonotypeAPIScript__"+r}else e([])},Y.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],a=this.a.testStrings||{},o=new m;for(t=0,n=r.length;t<n;t++)h(this.c,r[t],_(o));var s=[];for(t=0,n=i.length;t<n;t++)if(r=i[t].split(":"),r[1])for(var l=r[1].split(","),u=0;u<l.length;u+=1)s.push(new w(r[0],l[u]));else s.push(new w(r[0]));g(o,function(){e(s,a)})};var ue="https://fonts.googleapis.com/css",ce={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},fe={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},de={i:"i",italic:"i",n:"n",normal:"n"},pe=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,he={Arimo:!0,Cousine:!0,Tinos:!0};te.prototype.load=function(e){var t=new m,n=this.c,r=new J(this.a.api,this.a.text),i=this.a.families;Q(r,i);var a=new $(i);ee(a),h(n,Z(r),_(t)),g(t,function(){e(a.a,a.c,he)})},ne.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],i=0;i<t.length;i+=2)for(var a=t[i],o=t[i+1],s=0;s<o.length;s++)r.push(new w(a,o[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(r)}},2e3):e([])},re.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,a=n.fonts.length;i<a;++i){var o=n.fonts[i];r.a.push(new w(o.name,A("font-weight:"+o.weight+";font-style:"+o.style)))}e(r.a)},y(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+p(this.c)+"/"+t+".js",function(t){t&&e([])})):e([])};var ye=new K(window);ye.a.c.custom=function(e,t){return new Y(t,e)},ye.a.c.fontdeck=function(e,t){return new re(t,e)},ye.a.c.monotype=function(e,t){return new X(t,e)},ye.a.c.typekit=function(e,t){return new ne(t,e)},ye.a.c.google=function(e,t){return new te(t,e)};var me={load:o(ye.load,ye)};void 0!==(r=function(){return me}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){"use strict";function r(){if(i)throw new Error("disableMouseWheel already call");i=!0;var e=window.document.createElement("div");e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.width="100%",e.style.height="100%",e.addEventListener("touchmove",function(e){e.preventDefault()}),e.addEventListener("wheel",function(e){e.preventDefault()}),window.document.body.appendChild(e),window.ezg.game.renderer.view.addEventListener("wheel",function(e){e.preventDefault()})}Object.defineProperty(t,"__esModule",{value:!0}),
t.default=r;var i=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={splash:{message:"\u25a0\u3054\u6ce8\u610f\u25a0\n\u3053\u306e\u30b2\u30fc\u30e0\u306f\u7121\u6599\u3067\u904a\u3076\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\n\u4e00\u90e8\u6709\u6599\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u25a0\u672a\u6210\u5e74\u306e\u65b9\u3078\u25a0\n\u672a\u6210\u5e74\u306e\u65b9\u304c\u6709\u6599\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8cfc\u5165\u3059\u308b\u5834\u5408\u306f\u3001 \n\u5fc5\u305a\u6cd5\u5b9a\u4ee3\u7406\u4eba\uff08\u3054\u4e21\u89aa\u7b49\uff09\u306e\u540c\u610f\u3092\u5f97\u3066\u304b\u3089\n\u8cfc\u5165\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u203b\u306a\u3044\u3088\u3046\u304c\u308f\u304b\u3089\u306a\u3044\u3068\u304d\u306f\n\u304a\u3046\u3061\u306e\u3072\u3068\u306b\u304c\u3081\u3093\u3092\u307f\u305b\u3066\u304f\u3060\u3055\u3044\n"},temp:{supportEvent:"\u30b5\u30dd\u30fc\u30c8\u30a4\u30d9\u30f3\u30c8"},announce:{event:"\u30a4\u30d9\u30f3\u30c8",campaign:"\u30ad\u30e3\u30f3\u30da\u30fc\u30f3",gasha:"\u30ac\u30b7\u30e3",update:"\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8",maintenance:"\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9",problem:"\u4e0d\u5177\u5408"},bnCoin:"\u30d0\u30ca\u30b3\u30a4\u30f3",common:{login:"\u30ed\u30b0\u30a4\u30f3",item:"\u30a2\u30a4\u30c6\u30e0",people:"%{num}\u4eba",sheet:"%{num}\u679a",expireDatetimeString:"mm/dd HH:MM\u307e\u3067",plusMessage:"+%{name}",pIdol:"P\u30a2\u30a4\u30c9\u30eb",sIdol:"S\u30a2\u30a4\u30c9\u30eb",quantityMessage:"x%{quantity}",quantityMessageWithName:"%{name} x%{quantity}",remainingTimeMessage:"\u3042\u3068 %{min}:%{sec}",lv:"Lv.%{level}",staff:"\u306f\u3065\u304d",horizontalEllipsis:"..."},commonMenu:{bannerListTitle:"\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u4e00\u89a7",fesIdolLimit:{title:"\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u6240\u5c5e\u4e0a\u9650",text:"\u3053\u308c\u4ee5\u4e0a\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u3092\u6240\u5c5e\u3055\u305b\u3089\u308c\u307e\u305b\u3093\n\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u8a73\u7d30\u753b\u9762\u304b\u3089\u79fb\u7c4d\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044"},produceRetire:{title:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u7d42\u4e86",comment1:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u4e2d\u306e\u30c7\u30fc\u30bf\u306f\u5931\u308f\u308c\u307e\u3059\n\u6d88\u8cbb\u3057\u305f\u30b9\u30bf\u30df\u30ca\u306f\u8fd4\u5374\u3055\u308c\u307e\u305b\u3093",comment2:"\u9032\u884c\u4e2d\u306e\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3092\u7d42\u4e86\u3057\u3066\n\u65b0\u305f\u306a\u30a2\u30a4\u30c9\u30eb\u3092\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3057\u307e\u3059"},produceResume:{title:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u518d\u958b"}},concert:{playerIdol:{retire:"Retire"},produceIdolComment:"\u79c1\u306e\u6b4c\u3001\u5c4a\u3051\uff01",pauseDialog:{produceSkill:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30a2\u30a4\u30c9\u30eb\u6240\u6301\u30b9\u30ad\u30eb",supportSkill:"\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u6240\u6301\u30b9\u30ad\u30eb"}},concertResult:{entryNumber:"\u30a8\u30f3\u30c8\u30ea\u30fcNo.%{number}",statusUp:{message:"\xd7%{upPoint}"}},copyright:{title:"\u30b3\u30d4\u30fc\u30e9\u30a4\u30c8",holders:{bne:{title:"\u6a29\u5229\u8868\u8a18",message:"\xa9 2018 BANDAI NAMCO Entertainment Inc."}}},countdown:{season:"\u30b7\u30fc\u30ba\u30f3%{seasonNum}\u7d42\u4e86\u307e\u3067"},deck:{autoSelectPopTitle:"\u304a\u307e\u304b\u305b\u7de8\u6210",deckButtonMessage:"\u30e6\u30cb\u30c3\u30c8%{index}",memberShortageNotice:"\u30a2\u30a4\u30c9\u30eb\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\r\u30b9\u30bf\u30fc\u30c8\u3067\u304d\u307e\u305b\u3093",swapCharacterWarning:"\u30e6\u30cb\u30c3\u30c8\u5185\u306e\u540c\u4e00\u306e\u30a2\u30a4\u30c9\u30eb\u304c\u5916\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u304c\r\u672c\u5f53\u306b\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",title:{confirm:"\u78ba\u8a8d",deckModify:"\u30e6\u30cb\u30c3\u30c8\u540d\u7de8\u96c6",orderSelectPop:"\u4e26\u3079\u66ff\u3048\u5909\u66f4",staminaRecoverPop:"\u30b9\u30bf\u30df\u30ca\u56de\u5fa9",startProducePop:"\u4f7f\u7528\u78ba\u8a8d",useCoinPop:"\u4f7f\u7528\u78ba\u8a8d",supportSkillListPop:"\u30b5\u30dd\u30fc\u30c8\u30b9\u30ad\u30eb\u30dc\u30fc\u30ca\u30b9\u4e00\u89a7"}},ending:{headerTitle:{endingCEOReport:"\u793e\u9577\u304b\u3089\u306e\u8a55\u4fa1",fesIdolBirth:"\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u8a95\u751f"},fesIdolCheckPop:{title:"\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u78ba\u8a8d",comment:"\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u306e\u8a95\u751f\u3092\u884c\u3044\u307e\u3059\u3002\r\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",warning:"\u6b8b\u308a\u306e\u6240\u6301SP\u306f\u5931\u308f\u308c\u307e\u3059\u3002"},fesIdolRewardPop:{title:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30af\u30ea\u30a2\u5831\u916c",comment:"\u4e0b\u8a18\u30a2\u30a4\u30c6\u30e0\u3092\u5165\u624b\u3057\u307e\u3057\u305f",maxMessage:"\u6240\u6301\u67a0\u3092\u8d85\u3048\u3066\u3044\u308b\u3082\u306e\u306f\u30d7\u30ec\u30bc\u30f3\u30c8\r\u30dc\u30c3\u30af\u30b9\u306b\u9001\u3089\u308c\u307e\u3057\u305f",itemNameNum:"%{type} \xd7%{num}"},presidentComment:"\u3054\u82e6\u52b4\u3060\u3063\u305f\u306a\r\u6b21\u56de\u3082\u9811\u5f35\u3063\u3066\u3082\u3089\u3046\u305e\uff01\r\u671f\u5f85\u3057\u3066\u3044\u308b\u304b\u3089\u306a",totalFan:{idolName:"\u3010%{name}\u3011\u7d2f\u8a08\u30d5\u30a1\u30f3\u4eba\u6570"}},error:{pageNotFound:"Page Not Found\n\u6307\u5b9a\u3055\u308c\u305f\u30da\u30fc\u30b8\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002"},errorDialog:{errorTitle:"\u30a8\u30e9\u30fc",confirmTitle:"\u78ba\u8a8d",updateVersion:"\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002",invalidSession:"\u30bb\u30c3\u30b7\u30e7\u30f3\u66f4\u65b0\u306e\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4f55\u5ea6\u3082\u767a\u751f\u3059\u308b\u5834\u5408\u306f\n\u30b2\u30fc\u30e0\u5185\u306e\u300c\u304a\u77e5\u3089\u305b\u300d\u2192\u300c\u304a\u554f\u3044\u5408\u308f\u305b\u300d\u3088\u308a\n\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002\n\n\u304a\u554f\u3044\u5408\u308f\u305bID: %{requestId}\n\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9: %{errorCode}",produceDuplicate:"\u9032\u884c\u4e2d\u306e\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u304c\u3042\u308b\u306e\u3067\n\u958b\u59cb\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u4e00\u5ea6\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3092\u7d42\u4e86\u3057\u3066\u304b\u3089\u59cb\u3081\u3066\u304f\u3060\u3055\u3044\u3002",fesSeason:"\u30d5\u30a7\u30b9\u306e\u30b7\u30fc\u30ba\u30f3\u304c\u5207\u308a\u66ff\u308f\u308a\u307e\u3057\u305f\u3002",forbidden:"\u30a2\u30af\u30bb\u30b9\u306f\u8a31\u53ef\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",simpleOther:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n\n\u4f55\u5ea6\u3082\u767a\u751f\u3059\u308b\u5834\u5408\u306f\n\u30b2\u30fc\u30e0\u5185\u306e\u300c\u304a\u77e5\u3089\u305b\u300d\u2192\u300c\u304a\u554f\u3044\u5408\u308f\u305b\u300d\u3088\u308a\n\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002",other:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n\n\u4f55\u5ea6\u3082\u767a\u751f\u3059\u308b\u5834\u5408\u306f\n\u30b2\u30fc\u30e0\u5185\u306e\u300c\u304a\u77e5\u3089\u305b\u300d\u2192\u300c\u304a\u554f\u3044\u5408\u308f\u305b\u300d\u3088\u308a\n\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002\n\n\u304a\u554f\u3044\u5408\u308f\u305bID: %{requestId}\n\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9: %{errorCode}",timeout:"\u901a\u4fe1\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n\u6642\u9593\u3092\u304a\u3044\u3066\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",unavailableGasha:"\u30ac\u30b7\u30e3\u306e\u30e9\u30a4\u30f3\u30ca\u30c3\u30d7\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002",
earthPaymentFailure:"\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u6c7a\u6e08\u51e6\u7406\u304c\n\u6b63\u5e38\u306b\u884c\u308f\u308c\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u518d\u5ea6\u6642\u9593\u3092\u304a\u3044\u3066\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002\n\n\n\u4f55\u5ea6\u3082\u767a\u751f\u3059\u308b\u5834\u5408\u306f\n\u30b2\u30fc\u30e0\u5185\u306e\u300c\u304a\u77e5\u3089\u305b\u300d\u2192\u300c\u304a\u554f\u3044\u5408\u308f\u305b\u300d\u3088\u308a\n\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002\n\n\u304a\u554f\u3044\u5408\u308f\u305bID: %{requestId}\n\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9: %{errorCode}"},gameEventPoint:"\u30a4\u30d9\u30f3\u30c8pt",idolPortal:{staffComment1:"\u3042\u3001\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u3001\u30a2\u30a4\u30c9\u30eb\u9054\u306b\u4f1a\u3044\u306b\u6765\u3066\u304f\u308c\u305f\u3093\u3067\u3059\u306d",staffComment2:"\u307f\u3093\u306a\u304c\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u3092\u5f85\u3063\u3066\u3044\u307e\u3059\u3088\uff5e",staffComment3:"\u30a2\u30a4\u30c9\u30eb\u306e\u80b2\u6210\u306f\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306e\u5927\u5207\u306a\u304a\u4ed5\u4e8b\u3067\u3059\u304b\u3089\u306d\uff5e",staffComment4:"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3067\u30a2\u30a4\u30c9\u30eb\u3092\u6210\u9577\u3055\u305b\u307e\u3057\u3087\u3046",staffComment5:"\u7279\u8a13\u3067\u30a2\u30a4\u30c9\u30eb\u9054\u306e\u529b\u3092\u3055\u3089\u306b\u5f15\u304d\u51fa\u3057\u3066\u3042\u3052\u307e\u3057\u3087\u3046",staffComment6:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306e\u73fe\u5728\u306e\u62c5\u5f53\u30a2\u30a4\u30c9\u30eb\u306f\u3053\u3061\u3089\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059"},evolution:{skillListTitle:"\u89e3\u653e\u3055\u308c\u308b\u30b9\u30ad\u30eb",confirm:{title:"\u7279\u8a13\u78ba\u8a8d",comment:"\u9078\u629e\u3057\u305f\u30a2\u30a4\u30c9\u30eb\u3092\u6d88\u8cbb\u3057\u3066\u3001\u7279\u8a13\u3092\u3057\u307e\u3059\u3002\n\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"},complete:{title:"\u7279\u8a13\u7d50\u679c",comment:"\u7279\u8a13\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01"}},fes:{fesTop:{title:"\u30d5\u30a7\u30b9\u30ea\u30cf\u30fc\u30b5\u30eb"},resumeDialog:{title:"\u30d5\u30a7\u30b9\u518d\u958b",text:"\u9032\u884c\u4e2d\u306e\u30d5\u30a7\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\n\u30d5\u30a7\u30b9\u30ea\u30cf\u30fc\u30b5\u30eb\u3092\u518d\u958b\u3057\u307e\u3059\u304b\uff1f"},terminateDialog:{title:"\u30d5\u30a7\u30b9\u7d42\u4e86",text:"\u9032\u884c\u4e2d\u306e\u30d5\u30a7\u30b9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",textWarning:"\u30d5\u30a7\u30b9\u53c2\u52a0\u5238\u306f\u8fd4\u5374\u3055\u308c\u307e\u305b\u3093"},fesDeck:{title:"\u30d5\u30a7\u30b9\u30e6\u30cb\u30c3\u30c8\u7de8\u6210"},fesIdolSelect:{title:"%{positionName}\u9078\u629e",confirmationTitle:"%{positionName}\u5165\u66ff",sameCharacterWarning:"\u30e6\u30cb\u30c3\u30c8\u5185\u306b\u540c\u4e00\u306e\u30a2\u30a4\u30c9\u30eb\u306f\u7de8\u6210\u3067\u304d\u307e\u305b\u3093"},skillChange:{description:"\u30e9\u30a4\u30d6\u30b9\u30ad\u30eb\u3092\n2\u3064\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"},fesPositionName:{vocal:"\u30dc\u30fc\u30ab\u30eb",dance:"\u30c0\u30f3\u30b9",visual:"\u30d3\u30b8\u30e5\u30a2\u30eb",leader:"\u30ea\u30fc\u30c0\u30fc",center:"\u30bb\u30f3\u30bf\u30fc"},pauseSkillTitle:{vocal:"\u30dc\u30fc\u30ab\u30eb\u62c5\u5f53",dance:"\u30c0\u30f3\u30b9\u62c5\u5f53",visual:"\u30d3\u30b8\u30e5\u30a2\u30eb\u62c5\u5f53",leader:"\u30ea\u30fc\u30c0\u30fc",center:"\u30bb\u30f3\u30bf\u30fc"},orderText:"%{order}\u4f4d"},gameEvent:{schedule:"\u958b\u50ac\u671f\u9650 %{closeAt} \u307e\u3067",communicationsDialog:{title:"\u30a4\u30d9\u30f3\u30c8\u30b3\u30df\u30e5",noticeMessage:"\u30b3\u30df\u30e5\u306f\u30a4\u30d9\u30f3\u30c8\u30b7\u30e7\u30c3\u30d7\u304b\u3089\u958b\u653e\u53ef\u80fd\u3067\u3059"}},gasha:{closeAt:"%{closeAt}\u307e\u3067",redrawGashaNotice:"\u78ba\u5b9a\u3059\u308b\u307e\u3067\u4f55\u5ea6\u3067\u3082\n\u5f15\u304d\u76f4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059",resultMessage:"\u65e2\u306b\u52a0\u5165\u6e08\u307f\u306e\u30a2\u30a4\u30c9\u30eb\u306f\u63a7\u5ba4\u306b\u9001\u3089\u308c\u307e\u3059\u3002",gashaText:"%{quantity}\u56de\u5f15\u304f",popTicketDesc:"%{ticketName}\u3092\u6d88\u8cbb\u3057\u3066\r\u30ac\u30b7\u30e3\u3092%{quantity}\u56de\u5f15\u304d\u307e\u3059\u3002\r\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",popJewelDesc:"\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb\u3092%{price}\u500b\u6d88\u8cbb\u3057\u3066\r\u30ac\u30b7\u30e3\u3092%{quantity}\u56de\u5f15\u304d\u307e\u3059\u3002\r\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",popBanaCoinDesc:"\u30d0\u30ca\u30b3\u30a4\u30f3\u3067\u30ac\u30b7\u30e3\u3092%{quantity}\u56de\u5f15\u304d\u307e\u3059\u304b\uff1f",popRedrawConfirm:{title:"\u3054\u6ce8\u610f",comment:"\u300c\u521d\u56de\u9650\u5b9a\uff01\u904b\u547d\u306e\u51fa\u4f1a\u3044\u30ac\u30b7\u30e3\u300d\u306f\u3001\n\u304a\u6c17\u306b\u5165\u308a\u306e\u30a2\u30a4\u30c9\u30eb\u304c\u51fa\u308b\u307e\u3067\n\u4f55\u5ea6\u3067\u3082\u30ac\u30b7\u30e3\u3092\u3084\u308a\u76f4\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002",notice:"\u300c\u521d\u56de\u9650\u5b9a\uff01\u904b\u547d\u306e\u51fa\u4f1a\u3044\u30ac\u30b7\u30e3\u300d\u306e\n\u30a2\u30a4\u30c9\u30eb\u3092\u78ba\u5b9a\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"},ticketGashaCount:"x%{count}",idolRate:"%{ssrRate}%\r%{srRate}%\r%{rRate}%",supportIdolRate:"%{ssrRate}%\r%{srRate}%\r%{rRate}%",rateDescription:"%{rarity}%{idolType}\u30a2\u30a4\u30c9\u30eb\uff08%{count}\u7a2e\uff09",detailPercentage:"%{rate}%",checkPopHeader:"\u4f7f\u7528\u78ba\u8a8d",detailPopHeader:"\u63d0\u4f9b\u5272\u5408",ssrText:"SSR",srText:"SR",rText:"R",produce:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9",support:"\u30b5\u30dd\u30fc\u30c8",normalGashaSubtitle:"\u901a\u5e38\u30ac\u30b7\u30e3\u63d0\u4f9b\u5272\u5408",normalGashaSubtitleIdol:"\u901a\u5e38\u30ac\u30b7\u30e3\u306e\u63d0\u4f9b\u30a2\u30a4\u30c9\u30eb\u4e00\u89a7",srUpSubtitle:"SR\u4ee5\u4e0a\u78ba\u5b9a\u63d0\u4f9b\u5272\u5408",srUpSubtitleIdol:"SR\u4ee5\u4e0a\u78ba\u5b9a\u306e\u63d0\u4f9b\u30a2\u30a4\u30c9\u30eb\u4e00\u89a7",ssrFixSubtitle:"SSR\u78ba\u5b9a\u63d0\u4f9b\u5272\u5408",ssrFixSubtitleIdol:"SSR\u78ba\u5b9a\u306e\u63d0\u4f9b\u30a2\u30a4\u30c9\u30eb\u4e00\u89a7",gashaTicketSubtitle:"\u901a\u5e38\u30ac\u30b7\u30e3\u63d0\u4f9b\u5272\u5408",gashaTicketSubtitleIdol:"\u901a\u5e38\u30ac\u30b7\u30e3\u306e\u63d0\u4f9b\u30a2\u30a4\u30c9\u30eb\u4e00\u89a7",probabilityDescription:{one:"\u30fb\u63d0\u4f9b\u30a2\u30a4\u30c9\u30eb\u4e00\u89a7\u306f\u5c11\u6570\u7b2c4\u4f4d\u3092\u5207\u308a\u6368\u3066\u3057\u3066\u8868\u793a\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u5408\u8a08\u5024\u304c100\uff05\u306b\n\u306a\u3089\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u672c\u30ac\u30b7\u30e3\u304b\u3089\u306f\u91cd\u8907\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u304c\u51fa\u73fe\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u958b\u50ac\u671f\u9593\u306f\u4e88\u544a\u306a\u304f\u5909\u66f4\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u30a4\u30d9\u30f3\u30c8\u30ac\u30b7\u30e3\u3067\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u306f\u958b\u50ac\u671f\u9593\u7d42\u4e86\u5f8c\u3001\u30d7\u30e9\u30c1\u30ca\u30ac\u30b7\u30e3\u304b\u3089\r\u767b\u5834\u3057\u307e\u3059\u3002\r\u30fb\u672c\u30ac\u30b7\u30e3\u306b\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u304c\u4fdd\u6709\u3059\u308b\u30b9\u30ad\u30eb\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3001\u30a4\u30e9\u30b9\u30c8\u306a\u3069\u306e\r\u30b3\u30f3\u30c6\u30f3\u30c4\u306f\u5909\u66f4\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002",
ten:"\u30fb10\u9023\u30ac\u30b7\u30e3\u306e\u3046\u30611\u56de\u306fSR\u4ee5\u4e0a\u306e\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u307e\u305f\u306f\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u304c\u51fa\u73fe\u3057\u307e\u3059\u3002\r\u63d0\u4f9b\u5272\u5408\u306f\u300cSR\u4ee5\u4e0a\u78ba\u5b9a\u300d\u4e00\u89a7\u306b\u6e96\u3058\u307e\u3059\u3002\r\u30fb\u63d0\u4f9b\u30a2\u30a4\u30c9\u30eb\u4e00\u89a7\u306f\u5c11\u6570\u7b2c4\u4f4d\u3092\u5207\u308a\u6368\u3066\u3057\u3066\u8868\u793a\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u5408\u8a08\u5024\u304c100\uff05\u306b\n\u306a\u3089\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u672c\u30ac\u30b7\u30e3\u304b\u3089\u306f\u91cd\u8907\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u304c\u51fa\u73fe\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u958b\u50ac\u671f\u9593\u306f\u4e88\u544a\u306a\u304f\u5909\u66f4\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u30a4\u30d9\u30f3\u30c8\u30ac\u30b7\u30e3\u3067\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u306f\u958b\u50ac\u671f\u9593\u7d42\u4e86\u5f8c\u3001\u30d7\u30e9\u30c1\u30ca\u30ac\u30b7\u30e3\u304b\u3089\r\u767b\u5834\u3057\u307e\u3059\u3002\r\u30fb\u672c\u30ac\u30b7\u30e3\u306b\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u304c\u4fdd\u6709\u3059\u308b\u30b9\u30ad\u30eb\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3001\u30a4\u30e9\u30b9\u30c8\u306a\u3069\u306e\r\u30b3\u30f3\u30c6\u30f3\u30c4\u306f\u5909\u66f4\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002"},loadingWarning:"\u8aad\u307f\u8fbc\u307f\u306b\u6642\u9593\u304c\u639b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u3001\n\u30ea\u30ed\u30fc\u30c9\u306f\u304a\u63a7\u3048\u304f\u3060\u3055\u3044\u3002",noExpire:"\u671f\u9650\u306a\u3057",expireAt:"\u4f7f\u7528\u671f\u9650\uff1a%{datetimeText}"},guestUser:"\u30b2\u30b9\u30c8",header:{training:"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0",trainingIdolList:"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u30a2\u30a4\u30c9\u30eb\u9078\u629e",evolution:"\u7279\u8a13",evolutionIdolList:"\u7279\u8a13\u30a2\u30a4\u30c9\u30eb\u9078\u629e",deckEdit:"\u30e6\u30cb\u30c3\u30c8\u7de8\u6210",invitation:"SNS\u62db\u5f85",produceIdolSelect:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30a2\u30a4\u30c9\u30eb\u7de8\u6210",supportIdolSelect:"\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u7de8\u6210",produceTop:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9",produceDeckInformation:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30e6\u30cb\u30c3\u30c8\u78ba\u8a8d",produceActivity:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u9078\u629e",gasha:"\u30ac\u30b7\u30e3",idolPortal:"\u30a2\u30a4\u30c9\u30eb",idolList:"\u30a2\u30a4\u30c9\u30eb\u4e00\u89a7",notice:"\u304a\u77e5\u3089\u305b"},judgeTrend:{bonusValue:"\u2605%{value}\u500d"},landscapeDialog:{title:"\u753b\u9762\u306e\u5411\u304d\u306b\u3064\u3044\u3066",text:"\u3053\u306e\u30b2\u30fc\u30e0\u306f\u753b\u9762\u3092\u6a2a\u5411\u304d\u306b\u3057\u3066\r\u304a\u697d\u3057\u307f\u304f\u3060\u3055\u3044\u3002"},loginBonus:{clerkComment:{greeting:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u3001\u3053\u3061\u3089\u306f\u4eca\u65e5\u306e\u30ed\u30b0\u30a4\u30f3\u30dc\u30fc\u30ca\u30b9\u3067\u3059\u3088",nextBonus:"\u660e\u65e5\u306f\u3053\u3061\u3089\u304c\u3082\u3089\u3048\u307e\u3059\u304b\u3089\u3001\u9811\u5f35\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u301c",totalBonus:"\u4eca\u65e5\u306f\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u5c31\u4efb%{totalLoginDays}\u65e5\u8a18\u5ff5\u3067\u3059\u306d\uff01\r\u3053\u308c\u306f\u307f\u3093\u306a\u304b\u3089\u306e\u304a\u795d\u3044\u3067\u3059\uff01\u53d7\u3051\u53d6\u3063\u3066\u304f\u3060\u3055\u3044\uff01"},accumulatedTotal:{comment1:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u5c31\u4efb\u304b\u3089",comment2:"\u65e5\u7d4c\u904e",comment3:"\u65e5\u8a18\u5ff5\u307e\u3067\u3042\u3068",comment4:"\u65e5"},receive:{title:"\u5831\u916c\u53d7\u3051\u53d6\u308a",message:"\u4ee5\u4e0b\u306e\u5831\u916c\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u305f"}},maintenance:{title:"\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9",defaultMessage:"\u305f\u3060\u3044\u307e\u3001\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3092\u5b9f\u65bd\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\u3054\u8ff7\u60d1\u3092\u304a\u304b\u3051\u3057\u3001\u5927\u5909\u7533\u3057\u8a33\u3054\u3056\u3044\u307e\u305b\u3093\u3002"},eventPoint:"EP",money:"\u30de\u30cb\u30fc",mission:{headerTitle:"\u30df\u30c3\u30b7\u30e7\u30f3",popSort:"\u9054\u6210\u72b6\u6cc1\u7d5e\u308a\u8fbc\u307f",popMissionDetail:"\u30df\u30c3\u30b7\u30e7\u30f3\u8a73\u7d30",popReceive:{title:"\u5831\u916c\u53d7\u3051\u53d6\u308a",comment:"\u4ee5\u4e0b\u306e\u5831\u916c\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u305f"},noLimit:"\u671f\u9650\u306a\u3057",noMissionMessage:"\u6311\u6226\u3067\u304d\u308b\u30df\u30c3\u30b7\u30e7\u30f3\u306f\u3042\u308a\u307e\u305b\u3093",expiredMission:"\u30df\u30c3\u30b7\u30e7\u30f3\u6311\u6226\u671f\u9650\u3092\u904e\u304e\u3066\u3044\u307e\u3059",remainingDaily:"\u3042\u3068%{hours}\u6642\u9593%{minutes}\u5206",remainingWeekly:"\u3042\u3068%{days}\u65e5%{hours}\u6642\u9593",missionCountMessage:"%{clearedMissionLen}/%{missionLen}",gaugeNumberMessage:"%{progress}/%{progressMax}",completedMissionMessage:"%{title}"},idol:"\u30a2\u30a4\u30c9\u30eb",idolDetail:{fromGashaNotice:"\u5404\u30b9\u30c6\u30fc\u30bf\u30b9\u3001\u7279\u8a13\u56de\u6570\u306f\u521d\u671f\u72b6\u614b\u306e\u5024\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002",headerTitle:{produce:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30a2\u30a4\u30c9\u30eb\u8a73\u7d30",support:"\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u8a73\u7d30",fes:"\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u8a73\u7d30"},skill:{lockPanel:"\u7279\u8a13%{evolutionStage}\u6bb5\u968e\u76ee",level:"Lv.%{level}"},supportParameter:{maxLevel:"/%{level}",remainingExp:"\u3042\u3068%{exp}"},profile:{height:"%{height}cm",weight:"%{weight}kg",bloodType:"%{bloodType}\u578b",figure:"%{bust}/%{waist}/%{hip}"},totalFan:{idolName:"\u3010%{name}\u3011\u7d2f\u8a08\u30d5\u30a1\u30f3\u4eba\u6570",fan:"%{fan}\u4eba"},produceDeck:{lastFan:"%{fan}\u4eba"},canNotTradeDialog:{comment:"\u30e6\u30cb\u30c3\u30c8\u306b\u30bb\u30c3\u30c8\u4e2d\u306e\u305f\u3081\u79fb\u7c4d\u3067\u304d\u307e\u305b\u3093"},tradeConfirmDialog:{title:"\u79fb\u7c4d\u78ba\u8a8d",comment:"\u3053\u306e\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u3068\u306f\u304a\u5225\u308c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\r \u79fb\u7c4d\u3092\u78ba\u5b9a\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",addition:"+%{num}"},tradeResultDialog:{title:"\u79fb\u7c4d\u7d50\u679c",comment1:"\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb",idolName:"%{idolName}",comment2:"\u306e\u79fb\u7c4d\u306b\u3088\u308a",money:"%{money}\u30de\u30cb\u30fc",comment3:"\u3092\u7372\u5f97\u3057\u307e\u3057\u305f"},event:{neverReadEventTitle:"???"},trueEndDialog:{title:"True End\u8a73\u7d30",condition:"\u30fb\u30a2\u30a4\u30c9\u30eb\u30e9\u30f3\u30afA\u9054\u6210\r\u30fbW.I.N.G.\u512a\u52dd"}},idolRank:{txtFan:"%{count}\u4eba",txtNextFan:"\u3042\u3068  %{count}\u4eba"},invitation:{receivedMessage:{singularNum:"",multipleNum:"\xd7%{num}",message:"\u30fb%{typeText}%{numText}"}},item:{limitNum:"\u6700\u5927\u6240\u6301\u6570:%{num}",headerTitle:"\u30a2\u30a4\u30c6\u30e0\u4e00\u89a7",noItem:"\u30a2\u30a4\u30c6\u30e0\u304c\u3042\u308a\u307e\u305b\u3093\u3002",itemConfirm:{title:"\u4f7f\u7528\u78ba\u8a8d",effect:"\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u3066\r%{valueName}\u3092\u56de\u5fa9\u3057\u307e\u3059\u304b\uff1f",name:"%{name}",beforeItemNum:"%{num}",afterItemNum:"%{num}",beforeValue:"%{value}",afterValue:"%{afterValue}(+%{gainValue})",commentBlack:"\u30a2\u30a4\u30c6\u30e0\u3092\u4f7f\u7528\u3059\u308b\u3068",commentRed:"\u81ea\u7136\u56de\u5fa9\u306e\u4e0a\u9650\u3092\u8d85\u3048\u3066\u56de\u5fa9\u3067\u304d\u307e\u3059"},itemResult:{
title:"\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528\u7d50\u679c",name:"%{name}",effect:"%{itemName}\u3092\u4f7f\u7528\u3057\u3066\r%{valueName}\u3092%{gainValue}\u56de\u5fa9\u3057\u307e\u3057\u305f",beforeItemNum:"%{num}",afterItemNum:"%{num}",beforeValue:"%{beforeValue}",afterValue:"%{afterValue}(+%{gainValue})"},fesTicketRecoverPop:{title:"\u30d5\u30a7\u30b9\u53c2\u52a0\u6a29\u56de\u5fa9"},maxStamina:"\u30b9\u30bf\u30df\u30ca\u304cMAX\u306e\u305f\u3081\u3001\u3053\u308c\u4ee5\u4e0a\u56de\u5fa9\u3067\u304d\u307e\u305b\u3093\u3002",maxFesTicket:"\u53c2\u52a0\u6a29\u304cMAX\u306e\u305f\u3081\u3001\u3053\u308c\u4ee5\u4e0a\u56de\u5fa9\u3067\u304d\u307e\u305b\u3093\u3002",expiredItem:"\u671f\u9650\u3092\u904e\u304e\u305f\u305f\u3081\u3001\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002",recoveryItem:{type:{produce:{valueName:"\u30b9\u30bf\u30df\u30ca"},fes:{valueName:"\u53c2\u52a0\u6a29"}}}},jewel:"\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb",platformMenu:{title:"\u30e1\u30cb\u30e5\u30fc"},popJoinRecommend:{titleProvideRate:"enza\u30e1\u30f3\u30d0\u30fc\u306b\u306a\u308d\u3046\uff01",textDefault:"enza\u3078\u30e1\u30f3\u30d0\u30fc\u767b\u9332(\u7121\u6599)\u3059\u308b\u3053\u3068\u3067\u3001\n\u30d7\u30ec\u30a4\u30c7\u30fc\u30bf\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\u66f4\u306b\u30b2\u30fc\u30e0\u5185\u3067\u4f7f\u3048\u308benza\u30dd\u30a4\u30f3\u30c8\u3082\u30d7\u30ec\u30bc\u30f3\u30c8\uff01",textInvitation2:"enza\u3078\u30e1\u30f3\u30d0\u30fc\u767b\u9332(\u7121\u6599)\u3059\u308b\u3053\u3068\u3067\u3001\n\u30d7\u30ec\u30a4\u30c7\u30fc\u30bf\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\u66f4\u306b\u30b2\u30fc\u30e0\u5185\u3067\u4f7f\u3048\u308benza\u30dd\u30a4\u30f3\u30c8\u3082\u30d7\u30ec\u30bc\u30f3\u30c8\uff01",textInvitation1:"\u62db\u5f85\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001enza\u30e1\u30f3\u30d0\u30fc\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002",txtNotice:"\u30b2\u30b9\u30c8\u30d7\u30ec\u30a4\u6642\u306e\u6ce8\u610f\u70b9\n\n\u30d7\u30ec\u30a4\u30c7\u30fc\u30bf\u304c\u7aef\u672b\u307e\u305f\u306f\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u6d88\u53bb\u3055\u308c\u305f\u5834\u5408\u3001\n\u9014\u4e2d\u304b\u3089\u306e\u518d\u958b\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\nenza\u30e1\u30f3\u30d0\u30fc\u306e\u65b9\u306f\u30ed\u30b0\u30a4\u30f3\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n\u203b\u65e2\u306b\u4ed6\u306e\u30d7\u30ec\u30a4\u30c7\u30fc\u30bf\u304c\u3042\u308b\u5834\u5408\u3001\n\u30b2\u30b9\u30c8\u30d7\u30ec\u30a4\u30c7\u30fc\u30bf\u306f\u7834\u68c4\u3055\u308c\u307e\u3059\u3002"},present:{headerTitle:"\u30d7\u30ec\u30bc\u30f3\u30c8",noPresent:{present:"\u53d7\u3051\u53d6\u308c\u308b\u30d7\u30ec\u30bc\u30f3\u30c8\u306f\u3042\u308a\u307e\u305b\u3093",history:"\u53d7\u3051\u53d6\u308a\u6e08\u307f\u306e\u30d7\u30ec\u30bc\u30f3\u30c8\u306f\u3042\u308a\u307e\u305b\u3093"},present:{title:"%{name} \xd7%{num}",presentNum:"\xd7%{num}",noExpire:"\u671f\u9650\u306a\u3057",expireTime:"%{expire}\u307e\u3067"},main:{count:{title:{received:"\u53d7\u53d6\u6e08\u30d7\u30ec\u30bc\u30f3\u30c8",unReceive:"\u672a\u53d7\u53d6\u30d7\u30ec\u30bc\u30f3\u30c8"},unit:"\u4ef6"},notice:"\u671f\u9650\u304c\u5207\u308c\u305f\u30d7\u30ec\u30bc\u30f3\u30c8\u306f\u81ea\u52d5\u7684\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3002\r\u307e\u305f\u3001\u4e00\u5ea6\u306b\u53d7\u3051\u53d6\u308c\u308b\u30d7\u30ec\u30bc\u30f3\u30c8\u306f100\u4ef6\u307e\u3067\u3067\u3059\u3002"},receive:{title:"\u30d7\u30ec\u30bc\u30f3\u30c8\u53d7\u3051\u53d6\u308a",message:"\u4ee5\u4e0b\u306e\u30d7\u30ec\u30bc\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u305f",maxMessage:"\u6240\u6301\u67a0\u3092\u8d85\u3048\u3066\u3044\u308b\u305f\u3081\u53d7\u3051\u53d6\u308c\u307e\u305b\u3093",itemNameNum:"%{Name} \xd7%{Num}"},receiveAllConfirm:{title:"\u30d7\u30ec\u30bc\u30f3\u30c8\u4e00\u62ec\u53d7\u3051\u53d6\u308a",text:"\u30d7\u30ec\u30bc\u30f3\u30c8\u3092\u65b0\u3057\u3044\u3082\u306e\u304b\u3089\r100\u4ef6\u307e\u3067\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002\r\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"},receiveAll:{title:"\u30d7\u30ec\u30bc\u30f3\u30c8\u4e00\u62ec\u53d7\u3051\u53d6\u308a",message:"\u4ee5\u4e0b\u306e\u30d7\u30ec\u30bc\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u305f",maxMessage:"\u6240\u6301\u67a0\u3092\u8d85\u3048\u3066\u3044\u308b\u3082\u306e\u306f\u53d7\u3051\u53d6\u308c\u307e\u305b\u3093\u3067\u3057\u305f",noPresentMessage:"\u53d7\u3051\u53d6\u308c\u308b\u30d7\u30ec\u30bc\u30f3\u30c8\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f",itemNameNum:"%{type} \xd7%{num}\r"}},produce:{resumePop:{final:"W.I.N.G. / \u6c7a\u52dd",semifinal:"W.I.N.G. / \u6e96\u6c7a\u52dd",progress:"\u30b7\u30fc\u30ba\u30f3 %{season} / \u6b8b\u308a %{restOfSeasonWeek}\u9031"}},produceHeader:{produceSeason:"\u30b7\u30fc\u30ba\u30f3%{seasonNum}",concertSeason:"W.I.N.G."},produceTop:{deadline:{season:"\u30b7\u30fc\u30ba\u30f3%{seasonNum}"},homeConfirmPop:{title:"\u30db\u30fc\u30e0\u306b\u623b\u308b",message:"\u73fe\u5728\u306e\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u3066\u3001\r\u30db\u30fc\u30e0\u306b\u623b\u308a\u307e\u3059\u304b\uff1f"}},produceAction:{auditionCondition:"\u30a2\u30a4\u30c9\u30eb\u30e9\u30f3\u30af%{rank}\u4ee5\u4e0a",auditionParameterUp:"+???"},produceMain:{supportSkillsDialogTitle:"\u767a\u52d5\u4e2d\u30b5\u30dd\u30fc\u30c8\u30b9\u30ad\u30eb"},userPolicy:{title:"\u5229\u7528\u898f\u7d04",warningText:"\u306a\u3044\u3088\u3046\u304c\u308f\u304b\u3089\u306a\u3044\u3068\u304d\u306f\n\u304a\u3046\u3061\u306e\u3072\u3068\u306b\u304c\u3081\u3093\u3092\u307f\u305b\u3066\u304f\u3060\u3055\u3044\u3002"},shop:{headerTitle:"\u30b7\u30e7\u30c3\u30d7",possessionLabel:"\u6240\u6301%{currencyName}",shopItem:{priceLabel:"\u5fc5\u8981%{currencyName}",disableText:{lack:"%{currencyName}\u4e0d\u8db3"}},purchaseConfirmation:{title:"\u8cfc\u5165\u78ba\u8a8d",itemAfter:"%{total}(+%{itemAfter})",message:"%{currencyName}\u3092\u6d88\u8cbb\u3057\u3066\n\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u8cfc\u5165\u3057\u307e\u3059\u304b\uff1f"},purchaseError:{purchaseCountOver:"\u8cfc\u5165\u4e0a\u9650\u3092\u8d85\u3048\u3066\u3044\u307e\u3059",possessionCountOver:"\u6240\u6301\u4e0a\u9650\u3092\u8d85\u3048\u3066\u3044\u307e\u3059",moneyShortage:"\u30de\u30cb\u30fc\u304c\u8db3\u308a\u307e\u305b\u3093"},useBanaCoinConfirmation:{message:"\u30d0\u30ca\u30b3\u30a4\u30f3\u3067\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u3092%{purchaseCount}\u500b\u8cfc\u5165\u3057\u307e\u3059",merchandise:"%{title}"},purchaseResult:{title:"\u8cfc\u5165\u7d50\u679c",message:"%{title}\u3092\u8cfc\u5165\u3057\u307e\u3057\u305f"},purchasableText:{limited:"%{purchasedNum}/%{limitNum}",limitedShort:"/%{num}",noLimit:"%{purchasedNum}/\u30fc",noLimitShort:"/\u30fc"},expireDate:"\u3010\u4ea4\u63db\u671f\u9650\u3011%{closeAt}\u307e\u3067"},skillBord:{header:"\u632f\u308a\u8fd4\u308a",acquireConfirmationTitle:"\u30b9\u30ad\u30eb\u7fd2\u5f97\u78ba\u8a8d",acquireConfirmationMessage:"SP\u3092%{skillPoint}\u6d88\u8cbb\u3057\u3066\u30b9\u30ad\u30eb\u3092\u7fd2\u5f97\u3057\u307e\u3059\u304b\uff1f",deleteSkillConfirmationTitle:"\u30b9\u30ad\u30eb\u5165\u308c\u66ff\u3048\u78ba\u8a8d",acquiredMessage:"\u65e2\u306b\u7fd2\u5f97\u6e08\u307f\u306e\u30b9\u30ad\u30eb\u3067\u3059\u3002\r\n\r\n\u30b9\u30ad\u30eb\u30dd\u30a4\u30f3\u30c8\u3092\u6d88\u8cbb\u305b\u305a\u3001\u30d1\u30cd\u30eb\u306e\u89e3\r\n\u653e\u306e\u307f\u3092\u884c\u3044\u307e\u3059\u3002"},speaker:{producer:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc",ceo:"\u793e\u9577",judge:"\u5be9\u67fb\u54e1"},spine:{cb:"\u3061\u3073\u30ad\u30e3\u30e9",cbCostume:"\u3061\u3073\u30ad\u30e3\u30e9(\u30e9\u30a4\u30d6)",cbSub:"\u3061\u3073\u30b5\u30d6\u30ad\u30e3\u30e9",stand:"\u7b49\u8eab\u30ad\u30e3\u30e9",standSub:"\u7b49\u8eab\u30b5\u30d6\u30ad\u30e3\u30e9"},supportIdol:{remaining:"\u3042\u3068 %{remaining}"},training:{levelLabel:"Lv.",gainExpLabel:"\u7372\u5f97Exp",selectedNum:"x%{num}",
skillListTitle:"\u7fd2\u5f97\u3059\u308b\u30b5\u30dd\u30fc\u30c8\u30b9\u30ad\u30eb",startConfirm:"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u78ba\u8a8d",resultTitle:"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u7d50\u679c"},trend:{historyText:"\u5148\u9031%{rank}\u4f4d",txtFan:"%{count}\u4eba",txtNextFan:"\u3042\u3068  %{count}\u4eba"},tutorial:{openingMessage:{mes0:"\u300c\u30a2\u30a4\u30c9\u30eb\u300d",mes1:"\u305d\u308c\u306f",mes2:"\u5973\u306e\u5b50\u9054\u306e\u6c38\u9060\u306e\u61a7\u308c",mes3:"\u3060\u304c\u30a2\u30a4\u30c9\u30eb\u306e\u9802\u70b9\u306b\u7acb\u3066\u308b\u306e\u306f",mes4:"\u305f\u3060\u30011\u7d44\u2026\u2026",mes5:"",mes6:"\u305d\u3093\u306a\u30b5\u30d0\u30a4\u30d0\u30eb\u306a\u4e16\u754c\u306b",mes7:"\u4eca16\u4eba\u306e\u5973\u306e\u5b50\u3068",mes8:"\uff11\u4eba\u306e\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u304c",mes9:"\u8db3\u3092\u8e0f\u307f\u5165\u308c\u308b\uff01"}},tv:{appearance:"\u30c6\u30ec\u30d3\u51fa\u6f14\u3092\u679c\u305f\u3057\u305f\u3002\n",appearanceAfter:"\u30a2\u30a4\u30c9\u30eb\u9054\u306e\u9b45\u529b\u304c\u5f15\u304d\u51fa\u3055\u308c\u305f\u3088\u3046\u306b\u611f\u3058\u308b\u3002",performanceComment:"\u4eca\u8a71\u984c\u306e\u30a2\u30a4\u30c9\u30eb\u304c\u767b\u5834\uff01\u5727\u5dfb\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u62ab\u9732\uff01"},useBanaCoinPop:{title:"\u4f7f\u7528\u78ba\u8a8d"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={license:{holders:{babel:{title:"babel",message:'MIT License\n\nCopyright (c) 2014-2018 Sebastian McKenzie <sebmck@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'},ctc:{title:"copy-to-clipboard",message:'MIT License\n\nCopyright (c) 2017 sudodoki <smd.deluzion@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.'},nodedateformat:{title:"node-dateformat",message:'(c) 2007-2009 Steven Levithan <stevenlevithan.com>\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'},jsrsasign:{title:"jsrsasign",
message:'The \'jsrsasign\'(RSA-Sign JavaScript Library) License\n\nCopyright (c) 2010-2018 Kenji Urushima\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\nLICENSE: BSD License\n----\n\nRSA and ECC in JavaScript\n\nCopyright (c) 2003-2005  Tom Wu All Rights Reserved.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND, \nEXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY \nWARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  \n\nIN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\nINDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\nRESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\nTHE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\nOF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\nIn addition, the following condition applies:\n\nAll redistributions must retain an intact copy of this copyright notice\nand disclaimer.\n\nhttp://www-cs-students.stanford.edu/~tjw/jsbn/\nLICENSE: BSD License\nFILES: ext/{base64,jsbn,jsbn2,prgn4,rng,rsa,rsa2}.js\n----\n\nCryptoJS\n\nCopyright (c) 2009-2013 Jeff Mott\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nhttps://code.google.com/p/crypto-js/wiki/License\nFILES: ext/cryptojs-*.js\n----\n\nYUI Library\n\nSoftware License Agreement (BSD License)\n\nCopyright c 2013 Yahoo! Inc. All rights reserved.\n\nRedistribution and use of this software in source and binary forms,\nwith or without modification, are permitted provided that the\nfollowing conditions are met:\n\n- Redistributions of source code must retain the above copyright\n  notice, this list of conditions and the following disclaimer.\n\n- Redistributions in binary form must reproduce the above copyright\n  notice, this list of conditions and the following disclaimer in the\n  documentation and/or other materials provided with the distribution.\n\n- Neither the name of Yahoo! Inc. nor the names of YUI\'s contributors\n  may be used to endorse or promote products derived from this\n  software without specific prior written permission of Yahoo! Inc.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nhttp://yuilibrary.com/license/\nLICENSE: BSD License\nFILES: ext/yui*.js\n----\n\nBitcoin JS\n\nCopyright (c) 2011 Stefan Thomas\n\nPermission is hereby granted, free of charge, to\nany person obtaining a copy of this software and\nassociated documentation files (the "Software"), \nto deal in the Software without restriction, inc\nluding without limitation the rights to use, copy, \nmodify, merge, publish, distribute, sublicense, \nand/or sell copies of the Software, and to permit \npersons to whom the Software is furnished to do \nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY\nOF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT\n  LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n  FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\n  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n  WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, \n  ARISING FROM, OUT OF OR IN CONNECTION WITH THE \n  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nhttps://github.com/bitcoinjs/bitcoinjs-lib\nLICENSE: MIT License\nFILES: src/ecdsa-modified.js src/ec-patch.js\n----\n'},polyglot:{title:"polyglot",
message:'                            \xa92012-2014 Airbnb, Inc.\n\nRedistribution  and  use  in  source  and  binary  forms,  with  or  without\nmodification, are  permitted provided that the following conditions are met:\n\n  Redistributions  of source  code must  retain the above  copyright notice,\n  this list of conditions and the following disclaimer.\n\n  Redistributions in binary form  must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the  documentation\n  and/or other materials provided with the distribution.\n\n  Names of  the contributors to this software may not be used to  endorse or\n  promote products derived from this software without specific prior written\n  permission.\n\nThis software  is provided  by the  contributors "as is" and any  express or\nimplied warranties,  including, but not  limited to, the  implied warranties\nof merchantability and  fitness for a particular  purpose are disclaimed. In\nno event  shall  the  contributors  be  liable  for  any  direct,  indirect,\nincidental, special, exemplary, or consequential damages (including, but not\nlimited to, procurement of  substitute goods or services; loss of use, data,\nor profits;  or business interruption)  however caused and on  any theory of\nliability,  whether  in  contract,  strict  liability,  or  tort  (including\nnegligence  or  otherwise)  arising  in  any  way  out  of  the use  of this\nsoftware, even if advised of the possibility of such damage.\n\nThis license applies exclusively to the polyglot.js file and the corresponding\nfiles built with the "make build" command.'},numjs:{title:"Numeral-js",message:'Copyright (c) 2016 Adam Draper\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the "Software"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.'},spine:{title:"Spine Runtime",message:'Spine Runtimes Software License v2.5\n\nCopyright (c) 2013-2016, Esoteric Software\nAll rights reserved.\n\nYou are granted a perpetual, non-exclusive, non-sublicensable, and\nnon-transferable license to use, install, execute, and perform the Spine\nRuntimes software and derivative works solely for personal or internal\nuse. Without the written permission of Esoteric Software (see Section 2 of\nthe Spine Software License Agreement), you may not (a) modify, translate,\nadapt, or develop new applications using the Spine Runtimes or otherwise\ncreate derivative works or improvements of the Spine Runtimes or (b) remove,\ndelete, alter, or obscure any trademarks or any copyright, trademark, patent,\nor other intellectual property or proprietary rights notices on or in the\nSoftware, including any copy thereof. Redistributions in binary or source\nform must include this license and terms.\n\nTHIS SOFTWARE IS PROVIDED BY ESOTERIC SOFTWARE "AS IS" AND ANY EXPRESS OR\nIMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO\nEVENT SHALL ESOTERIC SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\nPROCUREMENT OF SUBSTITUTE GOODS OR SERVICES, BUSINESS INTERRUPTION, OR LOSS OF\nUSE, DATA, OR PROFITS) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER\nIN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\nARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGE.'},emscripten:{title:"emscripten",message:'Emscripten is available under 2 licenses, the MIT license and the\nUniversity of Illinois/NCSA Open Source License.\n\nBoth are permissive open source licenses, with little if any\npractical difference between them.\n\nThe reason for offering both is that (1) the MIT license is\nwell-known, while (2) the University of Illinois/NCSA Open Source\nLicense allows Emscripten\'s code to be integrated upstream into\nLLVM, which uses that license, should the opportunity arise.\n\nThe full text of both licenses follows.\n\n==============================================================================\n\nCopyright (c) 2010-2014 Emscripten authors, see AUTHORS file.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.'},pagejs:{title:"page.js",message:"(The MIT License)\n\nCopyright (c) 2012 TJ Holowaychuk <tj@vision-media.ca>\n\nPermission is hereby granted, free of charge, to any\nperson obtaining a copy of this software and associated\ndocumentation files (the 'Software'), to deal in the\nSoftware without restriction, including without limitation\nthe rights to use, copy, modify, merge, publish, distribute,\nsublicense, and/or sell copies of the Software, and to permit\npersons to whom the Software is furnished to do so, subject\nto the following conditions:\n\nThe above copyright notice and this permission notice shall\nbe included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\nOR OTHER DEALINGS IN THE SOFTWARE."},pixifilters:{title:"pixi-filters",
message:'The MIT License\n\nCopyright (c) 2013-2017 Mathew Groves, Chad Engler\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.'},querystring:{title:"query-string",message:'MIT License\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the "Software"),\nto deal in the Software without restriction, including without limitation\nthe rights to use, copy, modify, merge, publish, distribute, sublicense,\nand/or sell copies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be \nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.'},superagent:{title:"SuperAgent",message:"(The MIT License)\n\nCopyright (c) 2014-2016 TJ Holowaychuk <tj@vision-media.ca>\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."},underscorejs:{title:"Underscore.js",message:'Copyright (c) 2009-2017 Jeremy Ashkenas, DocumentCloud and Investigative\nReporters & Editors\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the "Software"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.'},underscorestring:{title:"Underscore.string",message:'The MIT License\n\nCopyright (c) 2011 Esa-Matti Suuronen esa-matti@suuronen.org\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the "Software"), to deal in the Software without restriction,\nincluding without limitation the rights to use, copy, modify, merge,\npublish, distribute, sublicense, and/or sell copies of the Software,\nand to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included\nin all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\nOR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'},uupaa:{title:"uupaa.useragent.js",message:'The MIT License (MIT)\n\nCopyright (c) 2015 uupaa\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n        '},webfontloader1:{title:"Web Font Loader(1)",
message:'Apache License\nVersion 2.0, January 2004\nhttp://www.apache.org/licenses/\n\nTERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n1. Definitions.\n\n"License" shall mean the terms and conditions for use, reproduction,\nand distribution as defined by Sections 1 through 9 of this document.\n\n"Licensor" shall mean the copyright owner or entity authorized by\nthe copyright owner that is granting the License.\n\n"Legal Entity" shall mean the union of the acting entity and all\nother entities that control, are controlled by, or are under common\ncontrol with that entity. For the purposes of this definition,\n"control" means (i) the power, direct or indirect, to cause the\ndirection or management of such entity, whether by contract or\notherwise, or (ii) ownership of fifty percent (50%) or more of the\noutstanding shares, or (iii) beneficial ownership of such entity.\n\n"You" (or "Your") shall mean an individual or Legal Entity\nexercising permissions granted by this License.\n\n"Source" form shall mean the preferred form for making modifications,\nincluding but not limited to software source code, documentation\nsource, and configuration files.\n\n"Object" form shall mean any form resulting from mechanical\ntransformation or translation of a Source form, including but\nnot limited to compiled object code, generated documentation,\nand conversions to other media types.\n\n"Work" shall mean the work of authorship, whether in Source or\nObject form, made available under the License, as indicated by a\ncopyright notice that is included in or attached to the work\n(an example is provided in the Appendix below).\n\n"Derivative Works" shall mean any work, whether in Source or Object\nform, that is based on (or derived from) the Work and for which the\neditorial revisions, annotations, elaborations, or other modifications\nrepresent, as a whole, an original work of authorship. For the purposes\nof this License, Derivative Works shall not include works that remain\nseparable from, or merely link (or bind by name) to the interfaces of,\nthe Work and Derivative Works thereof.\n\n"Contribution" shall mean any work of authorship, including\nthe original version of the Work and any modifications or additions\nto that Work or Derivative Works thereof, that is intentionally\nsubmitted to Licensor for inclusion in the Work by the copyright owner\nor by an individual or Legal Entity authorized to submit on behalf of\nthe copyright owner. For the purposes of this definition, "submitted"\nmeans any form of electronic, verbal, or written communication sent\nto the Licensor or its representatives, including but not limited to\ncommunication on electronic mailing lists, source code control systems,\nand issue tracking systems that are managed by, or on behalf of, the\nLicensor for the purpose of discussing and improving the Work, but\nexcluding communication that is conspicuously marked or otherwise\ndesignated in writing by the copyright owner as "Not a Contribution."\n\n"Contributor" shall mean Licensor and any individual or Legal Entity\non behalf of whom a Contribution has been received by Licensor and\nsubsequently incorporated within the Work.\n\n2. Grant of Copyright License. Subject to the terms and conditions of\nthis License, each Contributor hereby grants to You a perpetual,\nworldwide, non-exclusive, no-charge, royalty-free, irrevocable\ncopyright license to reproduce, prepare Derivative Works of,\npublicly display, publicly perform, sublicense, and distribute the\nWork and such Derivative Works in Source or Object form.\n\n3. Grant of Patent License. Subject to the terms and conditions of\nthis License, each Contributor hereby grants to You a perpetual,\nworldwide, non-exclusive, no-charge, royalty-free, irrevocable\n(except as stated in this section) patent license to make, have made,\nuse, offer to sell, sell, import, and otherwise transfer the Work,\nwhere such license applies only to those patent claims licensable\nby such Contributor that are necessarily infringed by their\nContribution(s) alone or by combination of their Contribution(s)\nwith the Work to which such Contribution(s) was submitted. If You\ninstitute patent litigation against any entity (including a\ncross-claim or counterclaim in a lawsuit) alleging that the Work\nor a Contribution incorporated within the Work constitutes direct\nor contributory patent infringement, then any patent licenses\ngranted to You under this License for that Work shall terminate\nas of the date such litigation is filed.\n\n4. Redistribution. You may reproduce and distribute copies of the\nWork or Derivative Works thereof in any medium, with or without\nmodifications, and in Source or Object form, provided that You\nmeet the following conditions:\n\n(a) You must give any other recipients of the Work or\nDerivative Works a copy of this License; and\n\n(b) You must cause any modified files to carry prominent notices\nstating that You changed the files; and\n\n(c) You must retain, in the Source form of any Derivative Works\nthat You distribute, all copyright, patent, trademark, and\nattribution notices from the Source form of the Work,\nexcluding those notices that do not pertain to any part of\nthe Derivative Works; and\n\n(d) If the Work includes a "NOTICE" text file as part of its\ndistribution, then any Derivative Works that You distribute must\ninclude a readable copy of the attribution notices contained\nwithin such NOTICE file, excluding those notices that do not\npertain to any part of the Derivative Works, in at least one\nof the following places: within a NOTICE text file distributed\nas part of the Derivative Works; within the Source form or\ndocumentation, if provided along with the Derivative Works; or,\nwithin a display generated by the Derivative Works, if and\nwherever such third-party notices normally appear. The contents\nof the NOTICE file are for informational purposes only and\ndo not modify the License. You may add Your own attribution\nnotices within Derivative Works that You distribute, alongside\nor as an addendum to the NOTICE text from the Work, provided\nthat such additional attribution notices cannot be construed\nas modifying the License.\n\nYou may add Your own copyright statement to Your modifications and\nmay provide additional or different license terms and conditions\nfor use, reproduction, or distribution of Your modifications, or\nfor any such Derivative Works as a whole, provided Your use,\nreproduction, and distribution of the Work otherwise complies with\nthe conditions stated in this License.\n\n5. Submission of Contributions. Unless You explicitly state otherwise,\nany Contribution intentionally submitted for inclusion in the Work\nby You to the Licensor shall be under the terms and conditions of\nthis License, without any additional terms or conditions.\nNotwithstanding the above, nothing herein shall supersede or modify\nthe terms of any separate license agreement you may have executed\nwith Licensor regarding such Contributions.'},webfontloader2:{title:"Web Font Loader(2)",
message:'6. Trademarks. This License does not grant permission to use the trade\nnames, trademarks, service marks, or product names of the Licensor,\nexcept as required for reasonable and customary use in describing the\norigin of the Work and reproducing the content of the NOTICE file.\n\n7. Disclaimer of Warranty. Unless required by applicable law or\nagreed to in writing, Licensor provides the Work (and each\nContributor provides its Contributions) on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\nimplied, including, without limitation, any warranties or conditions\nof TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\nPARTICULAR PURPOSE. You are solely responsible for determining the\nappropriateness of using or redistributing the Work and assume any\nrisks associated with Your exercise of permissions under this License.\n\n8. Limitation of Liability. In no event and under no legal theory,\nwhether in tort (including negligence), contract, or otherwise,\nunless required by applicable law (such as deliberate and grossly\nnegligent acts) or agreed to in writing, shall any Contributor be\nliable to You for damages, including any direct, indirect, special,\nincidental, or consequential damages of any character arising as a\nresult of this License or out of the use or inability to use the\nWork (including but not limited to damages for loss of goodwill,\nwork stoppage, computer failure or malfunction, or any and all\nother commercial damages or losses), even if such Contributor\nhas been advised of the possibility of such damages.\n\n9. Accepting Warranty or Additional Liability. While redistributing\nthe Work or Derivative Works thereof, You may choose to offer,\nand charge a fee for, acceptance of support, warranty, indemnity,\nor other liability obligations and/or rights consistent with this\nLicense. However, in accepting such obligations, You may act only\non Your own behalf and on Your sole responsibility, not on behalf\nof any other Contributor, and only if You agree to indemnify,\ndefend, and hold each Contributor harmless for any liability\nincurred by, or claims asserted against, such Contributor by reason\nof your accepting any such warranty or additional liability.\n\nEND OF TERMS AND CONDITIONS'}}}}},function(e,t,n){var r=n(1012);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(1014)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(1013)(void 0),
t.push([e.i,'a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}.notice_block{font-family:UDKakugo_SmallPr6-B;color:#615466}.ruled{clear:both;text-align:center;margin-left:5vw;margin-right:5vw;font-size:18px}.ruled section{display:inline-block;width:100%}.ruled section:after,.ruled section:before{content:"";display:table}.ruled section:after{clear:both}h5{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA/wAAAAoCAIAAADMhGYIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACDNJREFUeNrs3etXk8kdwHEeSEjihQSUPLlxFSIVUTSIKwrq1m679nLaF33Z/6n/QN+0r3pO93SPbfW46npdoFzFACIgyiUhT3BDEqIkBJJOMhAjVNY33aD9fg4nzswz8/OcefXLZJ4ZJZ1OFwEAAAD4dBUzBQAAAMCnTffhXf1ziwF/UPNp4VAkvpoQLUaTwVJhVp2qzWF1VNuZTQAAAGAPUn5we8/8C5/m1ybHplffxHfpZtpndDc3qA61qs7JtAIAAAAfR9Ifi8ZG+kcnvJOyqtornTUO1amWV5gNJoNoSawmlkMRzaf5Zv3a4pLs1tTiPnnm+IGyA0wuAAAAsKeT/smx6d77/cm1pKIono5Wm1NVHdZdAmn+YMCnDXY/FgH1pfrPLp5xNzcwvwAAAMAeTfr7Hw0+GRgThYam+pPtLZYKsyhHlqOzz+d9s/5wKByPZ/f0Gw2WCouzxlFzpMpcXiZawqHISJ93emJGlE+0NZ+54GGKAQAAgD2X9Pc9HPQOZjL+zp91yNX6wII22DMc8AV3CWRzWj3nTtlcalH2V4KHt7pFocXT3N5J3g8AAADspaT/2ejUo9s9onD5ale9u3ZjfaP3fn9uW/8Pampxf3bxTImuZGby5d3rD0TLhSvnjh5vZKIBAACAQnnnnP5oZKX3Xr8odH1xXmT8iXji+lfffHjGL4jOYogYKIaLIKJFBBRhmWgAAABgTyT93oGx9fX1xmNHxJ8o3Pz6TnDrTJ730Zfqt7WIIWJgfhxv9vUAAAAAAAVO+udfLEx4JxVFOdF2vCi7Qr8UeLVzwP4D+3Jlg9Fw5deXjNnjO/OJgfIXAxFKBBRhRXDmGgAAAChw0h/waeLT03HKUmEOLGjPRqd29rY51ctXu0z7TbKaiCce3uqRt/MWlxTbnNYSXYl8JIaLICKUCJgLDgAAAKBgSf/G+sbTJ5m9+/L4nYHu4fxOMpXX63Xm8jKR8ZeZD+YexaIxWei4fPaXv//FlV9dyj2SQWRAEVz8F0w3AAAAULCkP+DTkmtJZ7VdtVeGlpY1/zunc9Y11IjPZHL92ejU7Wt3tz0VXLVOeUSPKJRZNr8SiG4iVOYe32q7CL7IYj8AAABQwKRf5vGqM7Mq/3J6Nr+HaZ+xvdNT11gjq8vfh7eFyOz5+bIzVzUY327xl6HkYr+26zH/AAAAAP5HdPIfefGWzWnNlLcW8vWl+np3bevZE6b9pktfdlrtleMjz1ay528qinLYeshV66iurzqsHsqFi6/GQ6+Wc9XNsA41G5aVfgAAAKBwSX9kOSI+LeXmTDkUkY3JteTU0+f79ptOn2vV/EHv0Pib2BujyXDsZFNTizv3Om/OWmJt/PGECPL9Uig/rLm8THxGl6NMNwAAAFCwpF+ewGPIHr4Zjydyj1MbqeF/Pyk/XN79ba/oc/R4Y3unp9RQui1KOp2Orbx+vfJGfD2wudQbX93aDBvPC7uaYLoBAACAgiX9uxvqeSxS9gtXzsm3dXdSFOVg2QHxV5RZ3WdFHwAAANhDNl/klRdsJbKL8Ubj9su2wqHI6XOt78v4860l1ryD47mqDLUZdscdXgAAAAB+vKTfnN3NH5Zb8CvM2zqVmQ+ePNOS35JcS6bT6fyWVCrln1/8x19vyDd988PKtf+y7M5+AAAAAIVJ+jfP7dk8bMe6rVP90driYkWWRQafuW3XF3wxNeufW5SNq2/ioaVlq71y28Ct44C0oq0zfAAAAAAUJulXs4m+lr0/q7ahZlun8kPlufLifODo8caqOme9u1ZRlJXsjbymfcbD6qGgfym8dfKPJEPJ7xKq08p0AwAAAAVL+m1OVV+q980taotLFZXl6ruL/clkUhY21jdKjW+P7rG51PmZBVn2zy3evfEgf5QIIkKJgL5ZvwhuI+kHAAAACmHz9J4SXclPTrifDIwFFjTVXtnWcepff7uZ6yS+DMi3eEW3RN7Jm+FQpOde39jw01Q6FYu+3hba09EqPkVA8SmC63Q6phsAAAD48RXnSjZnZs/9YPewSOVtLrWpxZ179HJqdm5rRd9eZZOFdDo98GhIFKKRlZ0Zvxhud9lEqKGe4VxwAAAAAIVM+qvqXCJTF6n8SL9XVM9ebKu0Hc7l93f+ea/v4eDq61VL9myfaHjl1rW7cy8W/mtQMVAMFwURKpVKZ98BcDHXAAAAQEEo+SdvrkRjf//LtWRyveuL843HjiTiiZtf31kKvHrbW1EOmg+mNjZiK6/fF1Fk/D//7U8NRsPU+PMH33yn1+t+94ffyHu7AAAAABQ46ReejU49ut0jCp9f7apz126sb/Te75/wTn5guKYW99mLbTqd7sXky2+vZ97r3eUeXwAAAAAFSPqFvoeD3sExUZDr/UXZl3EHvhvSFpd2CaTaKz3nT9ldmR3/co1fFFo8ze2dHmYZAAAA2FtJf37e39BUf7K9Re7jD4ciczPzC7N+UZBn+BhMBvHIVeOorq/K9Rnp805PzJDxAwAAAHs66Rcmx6Z77/cn15KKorSdP21zWndeuJsvuLgU8AUHu4dSqbS+VH+2q41dPQAAAMCeTvqFWDQ20j+a29CvOqzOGofI/i0VFoPRIFoS8UQ4FBa5vm/Wr/mDspvI9VvbWw7w5i4AAACw95N+aW5mQfNrk2PT8bxruXYymgzu5gbVoVbXczonAAAA8FEl/TlyOT/gC4ZD4UR8TbQYjKWWCovNaZU/AjCbAAAAwMed9AMAAAD4GBUzBQAAAMD/RdL/pz/+WfzlWqlSpUqVKlWqVKlSpfrJVFnpBwAAAD5x/xFgAFVQO+cUesp6AAAAAElFTkSuQmCC) no-repeat;background-size:100% 100%;margin-top:16px;margin-bottom:3px}h4,h5{display:inline-block;display:block;height:40px;text-align:left;line-height:2.3;text-indent:40px}h4{clear:both;font-family:HummingStd-E;color:#fff;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABBoAAAAoCAYAAABQIZnqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADVJJREFUeNrs3VlsVNcdx/G/x+N9wbuNDdhgjMFgNmMKpGkJzUKahJZQJa2C/BBXSqsmkR+jqs1DU6mPQUoitRVECs2iSkmVIpKqQQFKmpBAgBCIwRizeF8xXhgbj216/sdzHduMxzMWojF8P9LfM3Pn3jvjufMyP53zP2E7X35DpsFlqtTUfabWmFpkKsdUnKkoAQAAAAAAM8V1U9dMNZg6Z+pLUwdMHTU17OxUXlEW1MncIb74HFO/MfWUqblcCwAAAAAAZrwoX6WYKja1zbe9ztRbpl4zVR/sycKCHNGQauoPpn5pKlI3pGelSVZOhrlNl6TkRImNjxW32y3h7nAuEQAAAAAAM8TQ4JAMDg6Kp9cjVzu7pa25TZobWs1tu7PLgKmdpl4sryjrmOp8wQQNT8hIepGmDxYU5knRisWSmZ3B1QAAAAAA4A7V0tgqlSfPyoWqS84mTR6eLa8o+3ug4wIFDTqt4hVTv9IHuflzZfX6lZKSlmyf7O2+JherL9ukQxMPTT40AdEkBAAAAAAAzAw6M0FnKOhMBZ2xoDMX5hfkSnxinH3+SnunHD/8lVyuqXMO+bOp58orygZDCRpiTWlC8ag+WL9xrRStXGyf0KET58/USOXJKq4GAAAAAAB3qKIVhbJwSb5tnaB0dMPhA0ecp/eaerK8oswz8Th/QYOOZHjP1Ja4hDh56Kc/kuTUJPvEkU+Oyalj3/BpAwAAAABwlyguWSpr7y2x9zs7rsq/3/9YrvXoIhWyx9S2iSMbXH7O8aqpLTpk4pGfPWhDBm0C8f7bewkZAAAAAAC4y2gW8P5be202oBmBZgWaGRhbZCRDGGdi0PCkqWfCwsJk89b7JWFWgtRfbpR9e/ZLR+uVab8pV7iLKwMAAAAAwAzV0XbFZgOaEWhWoJmBZgfGM7t27P7FuAxgzH1dwtImEes2lvpGMrTIwQ8PycD1gSlfdLIwITYuVtb9oFTCw1n2EgAAAACA75Ko6Kig99VsQDMCzQo0M9B+jj6v7tqxO300HxhzzB9NpenqErp8pfr84FG5HkTIoOYX5InLFXbT9tj4GImOjZaomCiuIAAAAAAA3yFJKbNC2l8zAqch5JIVhZK7cJ7eTTH1krOPEzToM+V6p2TDKrtBGz/q0IipRES4ZUFhnmy4b61s3HyvJCYljHu+vaVDDn30qV3+cuw/sup7yyU1I4WrCgAAAADA/0lObnbIx+hyl18c+tLeL1m/0tn89K4du23q4AQNv9bMIH/xfDv8QZewDNT40eVy2VJe76B4evtkaGhY+jz90t93/ab9B73fNqCMiIyQzY8/IKvNm3n0ic12bgcAAAAAALi9IqMiZU5utv2dHqrTxyttdqAZgmYJ+nPfly3YoEFruz5YsrzQHlBdWRPwhDpqIWFW/OhjnZ+hacYXh45O2c+h9J7VEjfSnVLcbrd5zUVcXQAAAAAAbrPsuVkS5gqzYcN0ONmBkyUY23ft2G2HJZSampOelSaZ2RnS290rZ76uCniy+QW5smBR3rhtF89dkuHhGwGPK1xWYOdwjJWSlszVBQAAAADgNtIVI3wjEWThkvzRWQuh0OxAMwTNEjRTMOaYKtUzbdJHWTkZI4FBdW3AE2XNyZTlpcts6X3H8PDwpMdEx0TLmntWyYZN6256zuv1coUBAAAAALiNdCBAfOLITAVdxGHR0oXTOo+TITiZgnGf2/wp0XvpWSMrUbQ1t910oK4mkZyWLMUlS+1IBt9amfLjbQ/KhapLcur4N3KlrVNu3Ph2RENaZqrMyc2R7HlZ5gUzR4+ZSI8HAAAAAADB0/4KA0GuEjlR9tzZNmiYGDx0d/VIY21TSOdyMgQnUzDWaNBg5zIkJSfaLVc7u286UKdEdLResUtYDA0OjSYdOh9DV6e43j/SADImNlqWriqSgiULJNbXhyGQs6fO2X8EAAAAAAAET/sm6u/0UOgAAA0UFi0zv+knjgUIG+mpWDWrWqpOV48bSBCIkyE4mYJmDBo0zLYhQdxIMNB3zTPpCTRQ+GTfZxITG2Mf633lCndJ8eqldsnKcHf4lG9El8JobWyTzJwMWVy8SPbt2S+1F+r5pgAAAAAAEITM2RlBBw06+kEbP2pPBme6hP8kQqSwuEBycmdLzdmL0ljXPOWoCSdDcDIFzRg0aLDrS0ZEuu0W78DglG9Sp0o4dAWK+x/daKdWBGNoaMg2gBzbBDIiMpJvCQAAAAAAQUhMSpTomCh723212+8+seaHf2pGsmTMTpecedl2dYlgaRixYm2xLF+zTBpqG6W1qU06WjvF42dggpMhOJmCZgzu6fxT7S0d9lbDhYcff8BOmQhWePj4EQ/aRLKprolvCgAAAAAAU9DpD9oLUeltT1eP32kOGgp4Lnqk7mKDnDpWKTnzZsuCwrzAIxp8dCUJ7afYUNs0rT4QGjRok4RUTSHCY8JtCjHUNxTwIO+AV6KiIuWhn2wKKWTw5/TxSvMB9PFtAQAAAABgipAhN3+exPraGeht3sJ5cul8bcCeChoWXKy+bPfTHg22EaS/AQ7mFNqfIZQeDX5mR/ToFh1OkKrzKnTohc6r6O+7PuXJSjaskriEuGl/QMNDw3Lii6/l5NFTfFsAAAAAAAhAp0lon4XYuJhx25NTkyQqOsr2U5hsGsVojnDjxuiiDNr4cVzYcEPk6KfHQ151wk+/xyYNGqpMLdNOkToVQjtFdrZ3BjyRNpLwt8am1ztoV6IY9HpF37E2kEhNT/n2+QGvHYLRY2rA3G9raQ86JQEAAAAA4G4SERkhCYnxkpmdEXA2gYYPCxfPlz5Pv7Q0ttrf3Pr7ezIaJujqEtr40aGjGEINGZSfFSyrNGg4ZmpbW3O7zC/IlfSsNDukIpAs809OXF1CR0GcPlEpxauLbJqiNHTo6eq1QzmcD0nDDKdxZNWpar45AAAAAAD4oWGBrtqoNdmIBqXtCIIZ0TCWBgs5udkSnxgnnt4+OffN+Wm9x/SsdHvb1tzmbPrSZf4c0HvNDS12i4YNU0lISrj5TZ46JytLi0dDBlVQlC9dnd12pYmJGuuaRl8TAAAAAABMTkMEDQc6O66O266PdXsoIYPS2QU1Zy/Y++fP1NiFGqZjfsHIwILmhlZn0wENGo6YqtcRDTrEQjtQFq0oDHiioUE/zSLDwsQdcfMiFmkZKdLZPv6DaK5vkY/3/odvCgAAAAAAIYQD2tDR4xlZUEFvL9fUTrslgY6CuDF8Q+ovN07reM0ONEPQLEEzBc0WTB3VZEBjizdNvVB58qyd+7FwSb5Unqya9GTtrR03bevv67f/nHbBHEuHcBw+eMQupREVE22Xxqy/1EBvBgAAAAAAphE2NNY2254Mejs8PP3f1roahYYMgfo5BKLZgdIswefN8oqyYZfvwWv6GrpOps790D4NxSVLJw8aWjqkqb553DZdYkPTkInOn7lgp09ocHHi85NSd7GekAEAAAAAgGnSaRLaJzHU6RL+NExzNINmBpod6NQNzRI0U/BlC+IEDTq8YafeOX74K7th7b0lkpKePOlJD/7rExsgOLJyMiQlbfz+Z05W2V4MAAAAAADg1mlpar0l5+nq7Ar5GF3gQTMDdeyzE87m18sryjRbGA0a1IumOi7X1I1Om1i/ca1ERUX6PbFOifjnOx/IV0dOjQ6zcJbbuN5/XY7+97idMgEAAAAAAG4tXeHxVtCREaHQjGDDxrX2/pmvq0QzBM0STP3O2Sds58tvjD3m56be0T4LW7c/JsmpSXa+xv69B8XrHZz0hdxut6RlpkhcQpxc6/XYqRWDAfYHAAAAAAAzS0RkhGx65IcyJzdbrl7pkn/8bY/TGuGp8oqyt539wrds3jr2uNOmZptac/lCneTlz5X0zDTJzMmQjrYr0ufp9/tiugxGb881u7pEb/e1aS+LAQAAAAAAvnu0VcLGzd+X7LmzpaerRz587yNndsNfyyvK/jR2X5ef4583tcfT6zEH7rONHbJyMmXrU49JcUkRny4AAAAAAHcRzQJ01oNmA5oRfPjuR6KZgbHH1HMT9584dcIRa+pdUw/rNIp1G9fa9TGVro15/kxNwOUvAQAAAADAzKY5gC5hqatLKF3wQXsx+qZLfGDqifKKMs/E4yYLGlSEqVdMPaMPcvPnSsmGVbZvg+rp7pVL1bXS1twmVzu7bZqhwyaYNgEAAAAAwMzhcrls/4XY+FhJSk6U9Kx0ySuYJwmJ8fZ5HcWgq0v4Gj+qv5h6rryizOvvfIGCBoc2iNTAwUYYCwrzpGjFYsnMzuBqAAAAAABwh2ppbJXKk2flQtUlZ1O7qefLK8reCXRcMEGD0pDhJVNPm7LrXerQiaycDJt0aOKhyUdERIS4wl1cDQAAAAAAZojhoWHxer12poLOWNCZC80NrbZ1gs+AqddN/b68oqx9qvMFGzQ45ph61tR2UzlcDgAAAAAA7lgNpt409aqp+vKKsqAOcof4IvWmXjD1W1OlpjaZKjG1SEZCCJ3AEcG1AAAAAABgxtBeC72+3/znTB0ztd/UUVMhN2L8nwADALkRrc2RhJVpAAAAAElFTkSuQmCC) no-repeat;background-size:100% 100%;margin-left:-10px;margin-top:23px;margin-bottom:5px;*zoom:1}.ruled{margin-left:1.3vw;margin-right:1.3vw}img{margin:auto;margin-bottom:16px;line-height:1}img.floatR{float:right}img.floatL{float:left}img.floatL,img.floatR{margin-bottom:0}p{text-align:left;margin-bottom:16px;line-height:1.5}table{border:1px solid #cac4ce;margin:auto;margin-bottom:16px;min-width:848px}th{background:#908895;color:#fff}td,th{padding:6px;border:1px solid #cac4ce;text-align:center;vertical-align:middle;line-height:1.5}ul{margin-bottom:16px}ul li{margin-left:18px;text-align:left;list-style-type:none;line-height:1.5}ul li:before{content:"\\30FB";margin-left:-18px}ul.caution{margin-bottom:16px}ul.caution:before{content:"\\3054\\6CE8\\610F";display:block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gQNBgQWBIdi0wAAAB90RVh0RmlsZSBOYW1lAGljb25fbm90aWNlX3JlZF9sLnBuZyVod5sAADgaaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTgtMDQtMTNUMTU6MDI6MzkrMDk6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOC0wNC0xM1QxNTowNDoyMiswOTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTgtMDQtMTNUMTU6MDQ6MjIrMDk6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6OGNjYTU4MmUtZjBkNC01ZDQ2LWE4NjItNWRkMmY2MmFiNmM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjhjY2E1ODJlLWYwZDQtNWQ0Ni1hODYyLTVkZDJmNjJhYjZjNTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjhjY2E1ODJlLWYwZDQtNWQ0Ni1hODYyLTVkZDJmNjJhYjZjNTwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo4Y2NhNTgyZS1mMGQ0LTVkNDYtYTg2Mi01ZGQyZjYyYWI2YzU8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDQtMTNUMTU6MDI6MzkrMDk6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjE2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7Rd3jDAAAAGHRFWHRTb2Z0d2FyZQBBZG9iZSBQaG90b3Nob3A0y45nAAAAD3RFWHRXcml0ZXIAU3VwZXJQTkfFxK/dAAADUUlEQVQ4yz2STWwUdQDFfzPz3+9PWgpb+pHU2qqxfkDpwaqNoGDCQSwqRg/Eg0mjCTGi4aKpEeIFNRoTFXsTNdFYqVYNxkATjCI2cMCVtmLZlmgp3Xa32+3OzszOzP/vYY2nl7zkHd57P+2tzh0AaLqOs25irZaa0ze3Pbnxru6+WFPjFqe8Xlz5YzZbvJz7PBCNzEQ2pFBSAvDS7AQCQDN0KjdWiDSmXnv4yKsv9wwMxFNaFJQBSCyjtm/q4uQr546NjBT+nD+UbN7sKKUAEJquYy4VtNQtbWP7P3t3b3OsE36YhrkcpIJQrBLZGKd390Oie3zH86PPvtBz7efJXcnmTA1Ar5lVRDp6+OkT7+1tLmdQR79Hnr+CuicDz/XCI12omb9Rx74m8VuRpz44PrCh+6ZPqqslAHRztZDuPzw03KR3oD48i4oYYGhofa0QC0JfG6ohiowI5OgE4ewau4de3O+69nYAPdnSdmBbQ3+UT39CGjWUpqM8hbI9ALBdlOvWNSRg/Ay3buqh5c7eIQCxpf3unYlLNvL8N/iJNIQTaF4Y/b+llVJgO0jbgqCOVi6h523au3r7AUQq2tSGU8GTDnK9CGsrqKqLEE/U740Eka6DqrmAjutUCS2tkQg0dlB3XIlTQ3oSJTUkAmm7yGwOADk9jzd1CVnJo6z1eh1TgiV9AFEsLVylJrdrvsKXLugGRELYwx8jzmbxfp2CcgmkDeYquvKgJigVCzkA/frK9LcFq0og1orvmCjPQ1YsjF3bEI/fj3jsPqTSUJ7CtysIZeAWC8xfO3eqfqO9+uWFhQtlPXMvmuvi2xayYhM6OIjR20Xo4KOocAC/UgW7QqDlAbL5y/JGYWYEQE8EU7XJuVMH5sqLJNr3oHsuvreO9f5J/NwC9kfj+Pk8yjNJtjxIyYgzcWX0zWgwngPQ3u7cieWZBER0eLDrmde7RCMsX6S6dLUOkukQbmhFb9rKYsDg5OyJ7wrmP/viobR76K/TCIUiEohjuZUjX0wfz27NDBy9I3nb7Q3xDgK2h79JkBcwU5kpTC6eecf2zDfioTRK1TkRdVgkERHDU97Y5PUfx35f/mUwFd7cFzPiGdu3CmvO8lSlVvoqKqLleCD5fxjgX7gioLoFqQkKAAAAAElFTkSuQmCC) no-repeat 0;color:#f72d66;margin-bottom:10px;padding-left:18px;text-align:left;width:1074px;height:18px}ul.caution li{margin-left:18px;color:#f72d66;text-align:left;list-style-type:none;line-height:1.5}ul.caution li:before{content:"\\30FB";margin-left:-18px}a{text-decoration:underline}a,strong{color:#f72d66}',""])
},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var a=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=h[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(c(r.parts[a],t))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(c(r.parts[a],t));h[r.id]={id:r.id,refs:1,parts:o}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s=a[1],l=a[2],u=a[3],c={css:s,media:l,sourceMap:u};r[o]?r[o].parts.push(c):n.push(r[o]={id:o,parts:[c]})}return n}function a(e,t){var n=m(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=m(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),a(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),a(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var u=g++;n=_||(_=s(t)),r=f.bind(null,n,u,!1),i=f.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=p.bind(null,n,t),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=d.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function f(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=v(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var h={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),m=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}(function(e){return document.querySelector(e)}),_=null,g=0,b=[],v=n(1015);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=y()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],l=h[s.id];l.refs--,a.push(l)}if(e)r(i(e,t),t);for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var a;return a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1017),a=r(i),o=n(1052),s=(r(o),n(260)),l=r(s),u=n(1138),c=r(u),f=n(1139),d=r(f),p=n(1141),h=r(p),y=n(1155),m=r(y),_=n(1156),g=r(_),b=n(1182),v=r(b),w=n(1200),k=r(w),S=n(1207),I=r(S),E=n(1224),A=r(E),x=n(1225),C=r(x),T=n(275),P=r(T),O=n(1266),N=r(O),M=n(474),R=r(M),D=n(1277),F=r(D),B=n(1286),j=r(B),L=n(1287),U=r(L),H=n(1292),G=r(H),z=n(1302),V=r(z),K=n(1303),W=r(K),q=n(1310),X=r(q),Y=n(1311),J=r(Y),Q=n(1328),Z=r(Q),$=n(1332),ee=r($),te=n(1333),ne=r(te),re=n(1342),ie=r(re),ae=n(479),oe=r(ae),se=n(1463),le=r(se),ue=n(1464),ce=r(ue),fe=n(1465),de=r(fe),pe=n(1495),he=r(pe),ye=n(1497),me=r(ye),_e=n(1508),ge=r(_e),be=n(1509),ve=r(be),we=n(1511),ke=r(we),Se=n(1530),Ie=r(Se),Ee=n(1554),Ae=(r(Ee),n(1556)),xe=r(Ae),Ce=n(1567),Te=r(Ce),Pe=n(1574),Oe=r(Pe),Ne=n(1576),Me=r(Ne),Re=n(1592),De=r(Re),Fe=n(1596),Be=r(Fe),je=n(1598),Le=r(je),Ue=n(1606),He=r(Ue),Ge=n(1608),ze=(r(Ge),n(1609)),Ve=r(ze),Ke=n(1618),We=r(Ke),qe=n(1627),Xe=(r(qe),[{name:"concertResult",class:a.default},{name:"deck",class:l.default},{name:"event",class:c.default},{name:"evolutionIdolList",class:d.default},{name:"evolution",class:h.default},{name:"fesConcert",class:m.default},{name:"fesDeck",class:g.default},{name:"fesTop",class:v.default},{name:"fesResult",class:k.default},{name:"fesIdolDetail",class:I.default},{name:"eventPlayer",class:A.default},{name:"gasha",class:C.default},{name:"gashaAnimation",class:P.default},{name:"gashaResult",class:N.default},{name:"home",class:R.default},{name:"idolDetail",class:F.default},{name:"idolList",class:j.default},{name:"idolPortal",class:U.default},{name:"invitation",class:Ve.default},{name:"item",class:G.default},{name:"loading",class:V.default},{name:"loginBonus",class:W.default},{name:"login",class:X.default},{name:"mission",class:J.default},{name:"missionAchievement",class:Z.default},{name:"notFound",class:ee.default},{name:"notice",class:ne.default},{name:"present",class:ie.default},{name:"produce",class:oe.default},{name:"produceAudition",class:ce.default},{name:"produceConcert",class:le.default},{name:"produceEnding",class:de.default},{name:"produceIdolDetail",class:he.default},{name:"produceMarathonTop",class:me.default},{name:"produceReady",class:ge.default},{name:"redrawGashaResult",class:ve.default},{name:"shop",class:ke.default},{name:"skillBoard",class:Ie.default},{name:"start",class:xe.default
},{name:"supportIdolDetail",class:Te.default},{name:"trainingIdolList",class:Oe.default},{name:"training",class:Me.default},{name:"tutorialAudition",class:We.default},{name:"tutorialHome",class:De.default},{name:"tutorialOpening",class:Be.default},{name:"tutorialProduce",class:Le.default},{name:"tutorialProduceReady",class:He.default}]);t.default=Xe},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(1),f=r(c),d=n(5),p=r(d),h=n(0),y=r(h),m=n(426),_=r(m),g=n(1020),b=r(g),v=n(1021),w=r(v),k=n(1023),S=r(k),I=n(1027),E=r(I),A=n(1030),x=r(A),C=n(428),T=r(C),P=n(1034),O=r(P),N=n(38),M=r(N),R=n(1035),D=r(R),F=n(1036),B=r(F),j=n(117),L=r(j),U=n(108),H=r(U),G=n(21),z=r(G),V=n(164),K=r(V),W=["dance","fan","mental","visual","vocal"],q={win:"smile1",lose:"sad1"},X=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._params=e,n._uiLayer=aoba.Container.new().addTo(n),n._frontLayer=aoba.Container.new().addTo(n),n._frontEffectLayer=aoba.Container.new().addTo(n),n._transitionLayer=aoba.Container.new().addTo(n),n._userProduceIdol=e.userProduceIdol,n._produceAction=e.serverAction||M.default,n._produceSceneName=n._produceAction===M.default?"produce":"tutorialProduce";var r=e.produceTrendCombination.first;n._judge=e.concertData.judges.find(function(e){return e.attribute===r}),n._reactionAnimation=q[e.result];var o=n._uiLayer.fromData(b.default,{idol:{instance:_.default.new(e.userProduceIdol.getSpinePath("stand_costume")),x:568,y:608},judgeSpeech:w.default.new(n._judge.attribute),okButton:{class:y.default.DecideButton}});return n._idolSpine=o.idol,n._judgeSpeech=o.judgeSpeech,n._okButton=o.okButton.hide(),n._backEffectLayer=aoba.Container.new().addToAt(n._uiLayer,n._idolSpine),n.interactive=!0,n.on("enter",n._start,n),n}return o(t,e),s(t,[{key:"_start",value:function(){var e=this;aoba.soundManager.stopBGM(),Promise.resolve().then(function(){return e._showJudgeStartComment()}).then(function(){return e._showRecords()}).then(function(){return e._showResult()}).then(function(){return e._showCharacterComment()}).then(function(){return e._updateParameters()}).then(function(){return e._goToResultDetail()})}},{key:"_showJudgeStartComment",value:function(){var e=this,t=aoba.soundManager.playSE(K.default.murmur,{loop:!0});return new Promise(function(n){e._judgeSpeech.show(),e._judgeSpeech.play(e._judge.resultStartComment),e._judgeSpeech.on("end",function(){e.once("tap",function(){aoba.FrameTween.new(t).to({volume:0},15).call(function(){return t.stop()}),n()})})})}},{key:"_showRecords",value:function(){var e=this;this._judgeSpeech.hide();var t=aoba.soundManager.playSE(K.default.record,{loop:!0});return t._source.loopStart=.2,t._source.loopEnd=1.2,new Promise(function(n){var r=e._createRecordData(),i=S.default.new(r).addTo(e._frontEffectLayer);i.once("end",function(){i.destroy({children:!0}),aoba.FrameTween.new(t).to({volume:0},15).call(function(){return t.stop()}),n()}),e.once("tap",function(){return i.skip()})})}},{key:"_createRecordData",value:function(){var e=this._params,t=e.concertRivals,n=e.userName,r=e.score,i=[],a=0,o=1;return u.default.each(t,function(e){var t={entryNumber:o,producerName:e.name,score:e.score,isMyUnit:!1};i.push(t),a<t.entryNumber&&(a=t.entryNumber),o++}),i.push({entryNumber:a+1,producerName:n,score:r,isMyUnit:!0}),i}},{key:"_showResult",value:function(){var e=this;return this._judgeSpeech.hide(),new Promise(function(t){var n=e._params,r=n.concertType,i=n.result,a=n.order,o="win"===i,s=[E.default.new(r,a,o,e._onAnnounceResult.bind(e)).addTo(e._frontEffectLayer),x.default.new(r,o).addTo(e._backEffectLayer)],l=s.map(function(e){return new Promise(function(t){return e.once("end",t)})});Promise.all(l).then(function(){s.forEach(function(e){return e.destroy({children:!0})}),o&&aoba.soundManager.playBGMAsync(f.default.bgm.concertResult),e._judgeSpeech.show(),e._judgeSpeech.play(o?e._judge.resultWinComment:e._judge.resultLoseComment),e._judgeSpeech.on("end",function(){e.interactive=!0,e.once("tap",function(){e.interactive=!1,t()}),e._judgeSpeech.emit("removed")})})})}},{key:"_onAnnounceResult",value:function(){var e=this._params.characterComment,t=e.animation1,n=e.animation2,r=e.animation3;this._reactionAnimation===t?this._idolSpine.playAnimation(t,n,r):this._idolSpine.playAnimation(this._reactionAnimation)}},{key:"_showCharacterComment",value:function(){var e=this;return this._judgeSpeech.hide(),new Promise(function(t){var n=e._params,r=n.characterComment,i=n.userProduceIdol,a=r.animation1,o=r.animation2,s=r.animation3,l=r.voice,u=r.lip,c=r.comment;a!==e._reactionAnimation&&e._idolSpine.playAnimation(a,o,s),l&&aoba.soundManager.playVoiceAsync(i.getVoicePath(l)).then(function(t){var n=Math.floor(30*t.duration);e._idolSpine.playLipAnimation(u,n)});var f=D.default.new().addTo(e._uiLayer);f.play({speaker:i.firstName,comment:c}),f.on("end",function(){e.interactive=!0,e.once("tap",function(){e.interactive=!1,t()})})})}},{key:"_updateParameters",value:function(){var e=this,t=this._params.concertEvent;if(t&&t.param){var n=Promise.resolve();return u.default.each(t.param,function(t,r){W.includes(r)&&(n=n.then(function(){return e._updateParameter(r,t)}))}),n}return Promise.resolve()}},{key:"_updateParameter",value:function(e,t){var n=this;return new Promise(function(r){var i=T.default.new(e,t).addTo(n._frontEffectLayer);i.once("end",function(){i.destroy({children:!0}),r()})})}},{key:"_goToResultDetail",value:function(){var e=this;this._okButton.show(),this._okButton.once("tap",function(){e._okButton.hide(),e._startAfterConcert(e._params).then(function(){return e._goToProduce()})})}},{key:"_startAfterConcert",value:function(e){var t=this,n=e.communicationTelevision,r=e.communicationAudition,i=e.concertEvent,a=r||i;if(n&&n.id){var o=H.default.new().addTo(this._transitionLayer);return this._playProduceEvent(a).then(function(){return o.play()}).then(function(){return B.default.new().addTo(t._frontLayer).play(e)}).then(function(){return t._playProduceEvent(n)})}return this._playProduceEvent(a)}},{key:"_playProduceEvent",value:function(e){var t=this,n=this._userProduceIdol,r=L.default.new({event:e,userProduceIdol:n,onUpdateParameter:function(){}}),i=H.default.new().addTo(this._transitionLayer);dlog(!1,"playProduceEvent_liveEvent",e);return Promise.resolve().then(function(){return i.appear()}).then(function(){return t._frontLayer.destroyChildren()}).then(function(){return r.preload()}).then(function(e){return i.disappear(),r.addTo(t._frontLayer).play(e).then(function(){r.interactiveChildren=!1})})}},{key:"_goToProduce",value:function(){var e=Object.assign(this._params,{isAfterConcert:!0,produceAction:this._produceAction});z.default.loadSceneAsync(this._produceSceneName,{sceneParams:e,request:!1})}}],[{key:"request",value:function(){return M.default._auditionFinish("win")}},{key:"getContentResources",value:function(e){var t=[],n=e.userProduceIdol,r=e.userProduceSupportIdols,i=e.communicationTelevision;return t.push(n.getSpinePath("stand_costume")),i&&[n].concat(r).forEach(function(e){t.push(e.getSpinePath("cb_costume"))}),t}},{
key:"uiResources",get:function(){return O.default}}]),t}(p.default);t.default=X},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"play",value:function(e){this._playEffect(["particles/common/tap_effect/particle.png"],"particles/common/tap_effect/particle.json",e),this._playEffect(["particles/common/tap_effect/feather.png"],"particles/common/tap_effect/feather.json",e)}},{key:"_playEffect",value:function(e,t,n){var r=new l.default.ParticleSystem(e,t);this.addChild(r.container),r.setPosition(n.x,n.y),r.playAndDestroy()}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(){var e=window.document.body.requestFullScreen||window.document.body.webkitRequestFullScreen,t=window.document.body.currentFullScreenElement||window.document.body.webkitCurrentFullScreenElement;e&&(t||(0,a.default)()&&e.call(window.document.body))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(425),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg_live_result.png",x:0,y:0},{name:"idol",fullName:"idol",type:"sprite",key:"idol_icon_none.png",x:349,y:65},{name:"statusUp",fullName:"statusUp",visible:!1,type:"container",x:589,y:179},{name:"judgeSpeech",fullName:"judgeSpeech",visible:!1,type:"container",x:123,y:463},{name:"records",fullName:"records",visible:!1,type:"container",x:133,y:21},{name:"okButton",fullName:"okButton",anchor:{x:.5,y:.5},type:"sprite",key:"ok_button.png",x:1023,y:582}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1022),u=r(l),c=n(163),f=r(c),d=n(34),p=r(d),h={vocal:"images/event/text_frame/005.png",dance:"images/event/text_frame/006.png",visual:"images/event/text_frame/007.png"},y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(u.default,{judgeSpeechFrame:{key:h[e],dx:-46},name:{style:f.default.scenarioPlayer.speaker.textStyle},content:{style:f.default.scenarioPlayer.content.textStyle}});return n._content=r.content,n._content.typeInterval=64,n.on("play",function(){n._jugdeSE||(n._jugdeSE=aoba.soundManager.play(p.default.common.ui.typeText,{loop:!0,group:"se"})),n._jugdeSE.play(!0)}),n._content.on("endText",function(){n._jugdeSE&&n._jugdeSE.stop()}),n.on("removed",function(){n._jugdeSE&&aoba.soundManager.remove(n._jugdeSE,"se")}),n}return o(t,e),s(t,[{key:"play",value:function(e){dlog("play_etTrack\n",e);var t=this;this.show(),this.emit("play"),this._content.typeText(e,!0),this._content.show(),this._content.once("endText",function(){t.emit("end")})}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"judgeSpeechFrame",fullName:"judgeSpeechFrame",type:"sprite",key:"judge_speech_frame.png",x:3,y:1},{name:"name",fullName:"name",anchor:{x:0,y:0},type:"text",text:"\u5be9\u67fb\u54e1",style:{fill:5592405,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:123,y:15},{name:"content",fullName:"content",type:"text",text:"\u304a\u5f85\u305f\u305b\u3057\u307e\u3057\u305f~\u7d50\u679c\u306e\u767a\u8868\u3067\u3059\u3002",style:{fill:5592405,fontFamily:"HummingStd-E",fontSize:24,wordWrap:!0,wordWrapWidth:379,breakWords:!0},rotation:0,x:108,y:61}],name:"",fullName:"",visible:!1,type:"container",x:123,y:463}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(1024),f=r(c),d=n(1025),p=r(d),h=n(23),y=r(h),m=n(58),_=r(m),g=n(254),b=r(g),v=165,w=["concert_result_ssr_curtain_twinkle_1.png","concert_result_ssr_curtain_twinkle_2.png","concert_result_ssr_curtain_twinkle_3.png","concert_result_ssr_curtain_twinkle_4.png"],k="last_live_ranking_back_twinkle_1",S=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._bgLayer=aoba.Container.new().addTo(n),n._uiLayer=aoba.Container.new().addTo(n);for(var r={},o=f.default.children[0],s=0;s<e.length;++s){var l=b.default.records.index({i:s}),u=p.default.new(e[s].entryNumber,e[s].producerName,e[s].score,e[s].isMyUnit);r[l]=u,s>=1&&f.default.children.push({name:l,fullName:l,type:"container",x:o.x,y:o.y+v*s})}return n._uiLayer.fromData(f.default,r),n._topRecordLayout=o,n._bg=aoba.Graphics.new().beginFill(0,.5).drawRect(0,0,aoba.game.width,aoba.game.height).addTo(n._bgLayer,0,0),n._bgParticle=_.default.new(new y.default(w,k)).addTo(n._bgLayer,aoba.game.width/2,aoba.game.height/2),n._play(e.length),n}return o(t,e),s(t,[{key:"_play",value:function(e){var t=this;this.show();var n=this._topRecordLayout.y+(e+1)*v,r=90+12*e;this._bgLayer.alpha=0,aoba.FrameTween.new(this._bgLayer).to({alpha:1},15).wait(12).wait(r-15).to({alpha:0},15),this._bgParticle.play(),this._uiLayer.y=u.default.SCREEN_HEIGHT,aoba.FrameTween.new(this._uiLayer).wait(15).wait(12).to({y:-1*n},r).call(function(){return t._emitEnd()})}},{key:"skip",value:function(){var e=this;aoba.FrameTween.new(this).to({alpha:0},15).call(function(){return e._emitEnd()})}},{key:"_emitEnd",value:function(){this._isEmittedEnd||(this._isEmittedEnd=!0,
this.emit("end"))}}]),t}(aoba.Container);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"record1",fullName:"record1",type:"container",x:0,y:0}],name:"",fullName:"",visible:!1,type:"container",x:133,y:21}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1026),l=r(s),u=n(254),c=r(u),f=2,d=function(e){function t(e,n,r,o){i(this,t);for(var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u={entryNumber:{text:c.default.record.entryNumber({number:e})},producerName:{text:n},myUnitFrame:{visible:o}},d=0;d<f;++d)u[c.default.record.score.index({i:d})]={key:c.default.record.score.key({score:r})},r=Math.floor(r/10);return s.fromData(l.default,u),s.show(),s}return o(t,e),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"liveResultRecordBase",fullName:"liveResultRecordBase",type:"sprite",key:"live_result_record_base.png",x:5,y:4},{name:"idolIcon",fullName:"idolIcon",type:"sprite",key:"idol_icon_none.png",x:35,y:36},{name:"producerName",fullName:"producerName",anchor:{x:0,y:.5},type:"text",text:"\u30e6\u30fc\u30b6\u30fc\u30cd\u30fc\u30e010\u6587\u5b57(\u534a\u89d220)",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:141,y:108},{name:"entryNumber",fullName:"entryNumber",anchor:{x:0,y:.5},type:"text",text:"\u30a8\u30f3\u30c8\u30ea\u30fcNo.1",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:142,y:49},{name:"score2",fullName:"score2",anchor:{x:.5,y:.5},type:"sprite",key:"score_2.png",x:755,y:101},{name:"score1",fullName:"score1",anchor:{x:.5,y:.5},type:"sprite",key:"score_1.png",x:795,y:101},{name:"liveResultStarIcon",fullName:"liveResultStarIcon",type:"sprite",key:"live_result_star_icon.png",x:680,y:71},{name:"myUnitFrame",fullName:"myUnitFrame",visible:!1,type:"sprite",key:"live_result_my_unit_frame.png",x:0,y:0}],name:"",fullName:"",type:"container",x:133,y:21}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1028),u=r(l),c=n(1029),f=r(c),d=function(e){function t(e,n,r,o){i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s._resultEffect=r?u.default.new(e,n,o).addTo(s):f.default.new(e,n,o).addTo(s),s._play(),s}return o(t,e),s(t,[{key:"_play",value:function(){var e=this;this._resultEffect.on("end",function(){return e.emit("end")})}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(19),u=r(l),c=n(23),f=r(c),d=n(58),p=r(d),h=n(0),y=r(h),m=n(164),_=r(m),g=3,b={"eff01.png":{blendMode:aoba.BLEND_MODES.ADD},koutaku_02_matome:{blendMode:aoba.BLEND_MODES.ADD},first_title_back:{blendMode:aoba.BLEND_MODES.ADD},flare_first:{blendMode:aoba.BLEND_MODES.ADD},"frame_first.png":{blendMode:aoba.BLEND_MODES.SCREEN},"first_bg_title_back 2":{blendMode:aoba.BLEND_MODES.MULTIPLY},grade_anime_add:{blendMode:aoba.BLEND_MODES.ADD},"white_out_center_sr_support_1.png":{blendMode:aoba.BLEND_MODES.ADD},"rainbow_circle_2_256x256.png":{blendMode:aoba.BLEND_MODES.ADD},eff01_yellow:{blendMode:aoba.BLEND_MODES.ADD},second_title_back:{blendMode:aoba.BLEND_MODES.ADD},text_audition_success_add:{blendMode:aoba.BLEND_MODES.MULTIPLY},"frame_success.png":{blendMode:aoba.BLEND_MODES.MULTIPLY}},v=["grade_1/last_live_txt_no_particle.psd","grade_2/last_live_txt_no_particle.psd","last_live_txt_no_particle.png"],w={final:["final.json"],semi_final:["semi_final.json"],audition:["audition_front.json","audition_back.json"]},k={framerate:30,loop:!0,textures:["confetti_00000.png","confetti_00001.png","confetti_00002.png","confetti_00003.png","confetti_00004.png","confetti_00005.png","confetti_00006.png","confetti_00007.png","confetti_00008.png","confetti_00009.png","confetti_00010.png","confetti_00011.png","confetti_00012.png","confetti_00013.png","confetti_00014.png","confetti_00015.png"]},S={audition_first_twinkle_idle_1:["concert_result_particle_pixi_2.png","concert_result_particle_pixi_3.png","concert_result_ssr_curtain_twinkle_1.png","concert_result_ssr_curtain_twinkle_2.png","concert_result_ssr_curtain_twinkle_3.png","concert_result_ssr_curtain_twinkle_4.png"],audition_first_twinkle_idle_2:["concert_result_communication_effect_1.png","concert_result_communication_effect_2.png","concert_result_communication_effect_3.png"],audition_success_twinkle:["concert_result_star_orange.png"],confetti_front:[k,k],icon_explode_radial_dot:["concert_result_sr_curtain_twinkle.png"],last_live_radial_dot:["concert_result_eff_right02_00000.png","concert_result_sand_particle.png"],last_live_radial_line_1:["concert_result_pink_line_2.png"],last_live_radial_small_star_twinkle:["concert_result_communication_effect_3.png"]},I={final:[{id:"audition_first_twinkle_idle_2",delay:110,props:{x:866,y:254,alpha:0},depth:0,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"audition_first_twinkle_idle_2",delay:110,props:{x:-4,y:300,alpha:0},depth:0,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"audition_first_twinkle_idle_1",delay:110,props:{x:878,y:314,alpha:0},depth:0,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"audition_first_twinkle_idle_1",delay:110,props:{x:38,y:320,alpha:0},depth:0,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"confetti_front",delay:105,props:{x:568,y:320},depth:0},{id:"last_live_radial_small_star_twinkle",delay:110,props:{x:568,y:494},depth:1},{id:"last_live_radial_line_1",delay:110,props:{x:568,y:534,scaleX:.75,scaleY:.75},depth:1},{id:"last_live_radial_dot",delay:110,props:{x:568,y:528},
depth:1},{id:"icon_explode_radial_dot",delay:33,props:{x:599,y:500,scaleX:1.2,scaleY:1.2},depth:1}],semi_final:[{id:"audition_first_twinkle_idle_2",delay:110,props:{x:838,y:320,alpha:0},depth:0,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"audition_first_twinkle_idle_2",delay:110,props:{x:-22,y:320,alpha:0},depth:0,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"audition_first_twinkle_idle_1",delay:110,props:{x:878,y:300,alpha:0},depth:0,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"audition_first_twinkle_idle_1",delay:110,props:{x:-56,y:300,alpha:0},depth:0,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"last_live_radial_small_star_twinkle",delay:110,props:{x:568,y:494},depth:1},{id:"last_live_radial_line_1",delay:110,props:{x:568,y:534,scaleX:.75,scaleY:.75},depth:1},{id:"last_live_radial_dot",delay:110,props:{x:568,y:488},depth:1},{id:"icon_explode_radial_dot",delay:33,props:{x:599,y:500,scaleX:1.2,scaleY:1.2},depth:1},{id:"icon_explode_radial_dot",delay:25,props:{x:602,y:496,scaleX:.71,scaleY:.71},depth:1}],audition:[{id:"audition_success_twinkle",delay:108,props:{x:640,y:444,alpha:0},depth:1,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"icon_explode_radial_dot",delay:13,props:{x:599,y:500,scaleX:1.2,scaleY:1.2},depth:2},{id:"audition_first_twinkle_idle_1",delay:100,props:{x:878,y:300,alpha:0},depth:2,tween:[{type:"to",props:{alpha:1},frame:10}]},{id:"audition_first_twinkle_idle_1",delay:100,props:{x:-56,y:300,alpha:0},depth:2,tween:[{type:"to",props:{alpha:1},frame:10}]}]},E={final:{layerName:"first_title",maskName:"first_title_mask.png",delay:120},semi_final:{layerName:"second_title",maskName:"second_title_mask.png",delay:118}},A={final:118,semi_final:117,audition:104},x={final:[{id:_.default.final_win.grade,delay:25},{id:_.default.final_win.effect,delay:88}],semi_final:[{id:_.default.semi_final_win.grade,delay:24},{id:_.default.semi_final_win.effect,delay:87}],audition:[{id:_.default.audition_win.grade,delay:4},{id:_.default.audition_win.effect,delay:89}]},C=function(t){function n(e,t,r){i(this,n);var o=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));o._announceResultFrame=A[e],o._onAnnounceResult=r,o.hide(),o._particleLayers=new Array(g),o._aeLayers=new Array(g);for(var s=g-1;s>=0;--s)o._aeLayers[s]=aoba.Container.new().addTo(o),o._particleLayers[s]=aoba.Container.new().addTo(o);return o._seConfs=x[e],o._createAE(e,t).then(function(){o._createParticle(e),o._createGlossEffect(e),o._play()}),o}return o(n,t),s(n,[{key:"_createAE",value:function(e,t){var n=this,r=Object.assign({},b);v.forEach(function(e,n){n+1!==t&&(r[e]={image:aoba.Sprite.new()})});var i=new PIXI.AEDataInterceptor(r),a=w[e].map(function(e){return(0,u.default)({folderPath:"concert_result/win",fileName:e,interceptor:i})});return Promise.all(a).then(function(e){e.forEach(function(e,t){return n._aeLayers[t].addChild(e)}),n._aes=e})}},{key:"_createParticle",value:function(e){var t=this;this._particles=[],this._particleConfs=I[e],this._particleConfs.forEach(function(e){var n=p.default.new(new f.default(S[e.id],e.id)).addTo(t._particleLayers[e.depth]);t._particles.push(n)})}},{key:"_createGlossEffect",value:function(e){this._glossEffectConf=E[e],this._glossEffectConf&&(this._glossEffectLayer=this._findAELayer(this._glossEffectConf.layerName),this._glossEffectLayer.mask=aoba.Sprite.new(this._glossEffectConf.maskName).addTo(this._glossEffectLayer))}},{key:"_findAELayer",value:function(e){var t=void 0;return this._aes.forEach(function(n){if(void 0===t){var r=n.find(e);1===r.length&&(t=r[0])}}),t}},{key:"_play",value:function(){var e=this;this.show(),aoba.FrameTween.new(this).wait(this._announceResultFrame).call(this._onAnnounceResult),Promise.all([this._playAE(),this._playParticle()]).then(function(){return e.emit("end")}),this._playGlossEffect(),this._playSE()}},{key:"_playParticle",value:function(){var t=this;this._particleConfs.forEach(function(n,r){var i=t._particles[r];n.props&&e.each(n.props,function(e,t){i[t]=e}),aoba.FrameTween.new(i).wait(n.delay).call(function(){i.play(),n.duration&&aoba.FrameTween.new(i).wait(n.duration).to({alpha:0},3),n.tween&&aoba.FrameTween.fromData(i,n.tween)})})}},{key:"_playAE",value:function(){var t=this,n=e.max(this._aes.map(function(e){return e.outFrame-e.inFrame}));aoba.FrameTween.new(this).wait(n-15).to({alpha:0},15);var r=this._aes.map(function(e){return new Promise(function(t){e.play(),e.on("completed",t)})});return Promise.all(r).then(function(){return t.emit("end")})}},{key:"_playGlossEffect",value:function(){var e=this;this._glossEffectConf&&aoba.FrameTween.new(this).wait(this._glossEffectConf.delay).call(function(){y.default.commonUiHelper.createGlossEffect().addTo(e._glossEffectLayer)})}},{key:"_playSE",value:function(){var e=this;this._seConfs.forEach(function(t){aoba.FrameTween.new(e).wait(t.delay).call(function(){return aoba.soundManager.playSE(t.id)})})}}]),n}(aoba.Container);t.default=C}).call(t,n(4))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(19),u=r(l),c=n(164),f=r(c),d=["grade_1/last_live_txt_no_particle.psd","grade_2/last_live_txt_no_particle.psd","last_live_txt_no_particle.png","rank_4","rank_5","rank_6"],p="rank",h={final:"text_final_fail.png",semi_final:"text_semi_final_fail.png",audition:"text_audition_fail.png"},y=[{id:f.default.lose.grade,delay:5},{id:f.default.lose.effect,delay:60}],m=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._onAnnounceResult=r,o.hide();var s={};d.forEach(function(e,t){t+1!==n&&(s[e]={image:aoba.Sprite.new()})}),n<=3&&(s[p]={image:aoba.Sprite.new()}),s["text_semi_final_fail /last_live_txt.psd"]={image:aoba.Sprite.new(h[e])};var l=new PIXI.AEDataInterceptor(s);return(0,u.default)({folderPath:"concert_result/lose/front",interceptor:l}).then(function(e){o.addChild(e),o._ae=e,o._play()}),o}return o(t,e),s(t,[{key:"_play",value:function(){var e=this;this.show(),aoba.FrameTween.new(this).wait(60).call(this._onAnnounceResult),this._ae.play(),this._ae.on("completed",function(){return e.emit("end")}),this._playSE()}},{key:"_playSE",value:function(){var e=this;y.forEach(function(t){aoba.FrameTween.new(e).wait(t.delay).call(function(){return aoba.soundManager.playSE(t.id)})})}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1031),u=r(l),c=n(1032),f=r(c),d=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._resultEffect=n?u.default.new(e).addTo(r):f.default.new().addTo(r),r._play(),r}return o(t,e),s(t,[{key:"_play",value:function(){var e=this;this._resultEffect.on("end",function(){return e.emit("end")})}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(23),u=r(l),c=n(58),f=r(c),d={framerate:30,loop:!0,textures:["confetti_00000.png","confetti_00001.png","confetti_00002.png","confetti_00003.png","confetti_00004.png","confetti_00005.png","confetti_00006.png","confetti_00007.png","confetti_00008.png","confetti_00009.png","confetti_00010.png","confetti_00011.png","confetti_00012.png","confetti_00013.png","confetti_00014.png","confetti_00015.png"]},p={confetti_back:[d],confetti_middle:[d]},h={final:[{id:"confetti_back",delay:105,props:{x:568,y:320},depth:0},{id:"confetti_middle",delay:105,props:{x:568,y:320},depth:0}],semi_final:[],audition:[]},y=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.hide(),t._createParticle(e),t._play(),t}return o(n,t),s(n,[{key:"_createParticle",value:function(e){var t=this;this._particles=[],this._particleConfs=h[e],this._particleConfs.forEach(function(e){var n=f.default.new(new u.default(p[e.id],e.id)).addTo(t);t._particles.push(n)})}},{key:"_play",value:function(){var e=this;this.show(),Promise.all([this._playParticle()]).then(function(){return e.emit("end")})}},{key:"_playParticle",value:function(){var t=this,n=0;return this._particleConfs.forEach(function(r,i){var a=r.delay+r.duration?r.duration:0;n<a&&(n=a);var o=t._particles[i];r.props&&e.each(r.props,function(e,t){o[t]=e}),aoba.FrameTween.new(o).wait(r.delay).call(function(){o.play(),r.duration&&aoba.FrameTween.new(o).wait(r.duration).to({alpha:0},3),r.tween&&aoba.FrameTween.fromData(o,r.tween)})}),new Promise(function(e){aoba.FrameTween.new(t).wait(n).call(e)})}}]),n}(aoba.Container);t.default=y}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(19),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.hide(),e._bgLayer=aoba.Container.new().addTo(e),e._aeLayer=aoba.Container.new().addTo(e),Promise.all([e._createBGSprite(),e._createAE()]).then(function(){e._play()}),e}return a(t,e),o(t,[{key:"_createBGSprite",value:function(){aoba.Sprite.new("base_fail.png").setScale(aoba.game.width/256,aoba.game.height/256).addTo(this._bgLayer,0,0);var e=aoba.extras.TilingSprite.fromImage("fail_anim_wave_1.png",1792,256).addTo(this._bgLayer,0,0),t=aoba.extras.TilingSprite.fromImage("fail_anim_wave_2.png",1792,256).addTo(this._bgLayer,-64,-128,{alpha:.5});aoba.FrameTween.new(e).wait(1).call(function(){e.tilePosition.x+=145/65}).loop(),aoba.FrameTween.new(t).wait(1).call(function(){t.tilePosition.x-=145/65}).loop()}},{key:"_createAE",value:function(){var e=this,t=new PIXI.AEDataInterceptor({tear_drop_anim_2_1:{blendMode:aoba.BLEND_MODES.MULTIPLY},tear_drop_anim_2_2:{blendMode:aoba.BLEND_MODES.MULTIPLY},tear_drop_anim_2_3:{blendMode:aoba.BLEND_MODES.MULTIPLY},tear_drop_anim_5_1:{blendMode:aoba.BLEND_MODES.MULTIPLY}});return(0,l.default)({folderPath:"concert_result/lose/back",interceptor:t}).then(function(t){e._aeLayer.addChild(t),e._ae=t,e._play()})}},{key:"_play",value:function(){var e=this;this.show(),this._bgLayer.alpha=0,aoba.FrameTween.new(this._bgLayer).wait(76).to({alpha:1},10);var t=this._ae.outFrame-this._ae.inFrame;aoba.FrameTween.new(this).wait(t-15).to({alpha:0},15),this._ae.play(),this._ae.on("completed",function(){return e.emit("end")})}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"statusIcon",fullName:"statusIcon",anchor:{x:.5,y:.5},type:"sprite",key:"status_icon_mental.png",x:73,y:74},{name:"statusUpGlow6",fullName:"statusUpGlow6",type:"sprite",key:"status_up_glow_6.png",x:109,y:19},{name:"statusUpGlow5",fullName:"statusUpGlow5",type:"sprite",key:"status_up_glow_5.png",x:125,y:44},{name:"statusUpGlow4",fullName:"statusUpGlow4",type:"sprite",key:"status_up_glow_4.png",x:0,y:60},{name:"statusUpGlow3",fullName:"statusUpGlow3",type:"sprite",key:"status_up_glow_3.png",x:11,y:67},{name:"statusUpGlow2",fullName:"statusUpGlow2",type:"sprite",key:"status_up_glow_2.png",x:29,y:3},{name:"statusUpGlow1",fullName:"statusUpGlow1",type:"sprite",key:"status_up_glow_1.png",x:48,y:0},{name:"statusUpArrow",fullName:"statusUpArrow",type:"sprite",key:"status_up_arrow.png",x:96,y:85},{name:"statusText",fullName:"statusText",type:"text",text:"+20\r",style:{fill:4801871,fontFamily:"HummingStd-E",fontSize:38},anchor:{x:0,y:.5},rotation:0,x:129,y:109}],name:"",fullName:"",visible:!1,type:"container",x:589,y:179}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o=r(a),s=n(1),l=r(s),u=n(68),c=r(u);t.default=["images/ui/concert_result/parts.json","images/ui/concert_result/parts_status.json","images/ui/concert/parts_number.json",{name:"transition_page_turn_bar.png",url:"images/ui/common/transition_page_turn_bar.png"},"images/ui/produce_event/parts_event.json","images/event/select_frame/001.png","images/event/select_frame/002.png","images/event/select_frame/003.png","images/event/text_frame/001.png","images/event/text_frame/002.png","images/event/text_frame/003.png","images/event/text_frame/004.png","images/event/text_frame/005.png","images/event/text_frame/006.png","images/event/text_frame/007.png","images/ui/common/parts_effect.json","images/ui/concert_result/parts_effect.json",{name:"audition_first_twinkle_idle_1",url:"particles/concert_result/audition_first_twinkle_idle_1/data.json"},{name:"audition_first_twinkle_idle_2",
url:"particles/concert_result/audition_first_twinkle_idle_2/data.json"},{name:"audition_success_twinkle",url:"particles/concert_result/audition_success_twinkle/data.json"},{name:"confetti_back",url:"particles/concert_result/confetti/back.json"},{name:"confetti_front",url:"particles/concert_result/confetti/front.json"},{name:"confetti_middle",url:"particles/concert_result/confetti/middle.json"},{name:"icon_explode_radial_dot",url:"particles/concert_result/icon_explode_radial_dot/data.json"},{name:"last_live_radial_dot",url:"particles/concert_result/last_live_radial_dot/data.json"},{name:"last_live_radial_line_1",url:"particles/concert_result/last_live_radial_line_1/data.json"},{name:"last_live_radial_small_star_twinkle",url:"particles/concert_result/last_live_radial_small_star_twinkle/data.json"},{name:"last_live_ranking_back_twinkle_1",url:"particles/concert_result/last_live_ranking_back_twinkle_1/data.json"},"particles/concert_result/images_common.json","particles/concert_result/confetti/images.json",l.default.bg.PRODUCE_TV,"images/ui/concert/parts.json","images/ui/concert/parts_bg.json",{name:"bg_live_result.png",url:l.default.bg.PRODUCE_CONCERT_RESULT},"sounds/bgm/"+l.default.bgm.concertResult+".m4a","sounds/bgm/"+l.default.bgm.produce.tv+".m4a"].concat(i((0,c.default)(o.default.produce)),i((0,c.default)(o.default.concertResult)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(163),f=r(c),d={P:"p","\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc":"p","\u793e\u9577":"ceo"},p={idol:"images/event/text_frame/001.png",p:"images/event/text_frame/002.png",ceo:"images/event/text_frame/004.png"},h=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._frame=aoba.Sprite.new().addTo(e),e._speakerText=e._createSpeakerText(f.default.scenarioPlayer.speaker),e._contentText=e._createContentText(f.default.scenarioPlayer.content),e._contentText.style.wordWrap=!1,e._contentText.typeInterval=64,e.x=f.default.scenarioPlayer.x,e.y=f.default.scenarioPlayer.y,e}return o(t,e),s(t,[{key:"play",value:function(e){var t=this,n=e.speaker,r=e.comment;this.show(),dlog("idol_Track\n",n,"\n",r),u.default.each(this._objects,function(e){e.name.hide(),e.content.hide()});var i="idol";n in d&&(i=d[n]),this._frame.texture=aoba.Texture.fromImage(p[i]),this._speakerText.typeText(n,!0),this._speakerText.show(),this._contentText.typeText(r,!0),this._contentText.show(),this._contentText.once("endText",function(){t.emit("end")})}},{key:"_createSpeakerText",value:function(e){return aoba.Text.new("",e.textStyle).addTo(this,e.x,e.y)}},{key:"_createContentText",value:function(e){return aoba.Text.new("",e.textStyle).addTo(this,e.x,e.y)}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(57),u=r(l),c=n(74),f=r(c),d=n(1),p=r(d),h=n(163),y=r(h),m=n(26),_=r(m),g=n(3),b=r(g),v=n(1037),w=r(v),k=n(34),S=r(k),I=p.default.SCREEN_CENTER,E={produceIdol:{x:I.x-0,y:I.y+20},supportIdols:[{x:I.x-320,y:I.y+0},{x:I.x-160,y:I.y+10},{x:I.x+160,y:I.y+10},{x:I.x+320,y:I.y+0}]},A=function(e){var t=E.produceIdol;return u.default.new(e.getSpinePath("cb_costume")).setPosition(t.x,t.y)},x=function(e){return e.map(function(e,t){var n=E.supportIdols[t];return u.default.new(e.getSpinePath("cb_costume")).setPosition(n.x,n.y)})},C=function(){var e=aoba.Sprite.new("tv_comment_base.png").setPosition(1136,15);return aoba.Text.new(b.default.t("tv.performanceComment"),Object.assign({fill:16777215,fontSize:23},p.default.app.textStyle)).addTo(e,136,16),e},T=function(e){aoba.Tween.new(e).wait(600).to({x:391},400,"easeOutQuint")},P=function(){var e=aoba.Sprite.new("images/event/text_frame/002.png"),t=y.default.scenarioPlayer;return e.position.set(t.x,t.y),e.alpha=0,aoba.Text.new(b.default.t("speaker.producer"),y.default.scenarioPlayer.speaker.textStyle).addTo(e,t.speaker.x,t.speaker.y),{comment:e,content:aoba.Text.new("",y.default.scenarioPlayer.content.textStyle).addTo(e,t.content.x,t.content.y)}},O=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._playingSE=null,e.on("removed",e._removePlayingSE,e),e}return o(t,e),s(t,[{key:"play",value:function(e){var t=this,n=e.userProduceIdol,r=e.userProduceSupportIdols,i=aoba.Container.new().addTo(this);aoba.soundManager.playBGMAsync(p.default.bgm.produce.tv),aoba.Sprite.new(p.default.bg.PRODUCE_TV).addTo(i);var a=aoba.Container.new().addTo(i,0,96);[A(n)].concat(x(r)).forEach(function(e){e.setAnimation(0,"live_dance_04",!0).addTo(a)}),w.default.new().addTo(i,97,97,{scale:1.2});var o=C();o.addTo(i),T(o);var s=P(),l=s.comment,u=s.content;return l.addTo(i),Promise.race([this._playProduceComment(l,u).then(function(){return Promise.resolve(i)}),new Promise(function(e){return t.once("tap",function(){return e(i)})})]).then(this._removePlayingSE.bind(this))}},{key:"_playProduceComment",value:function(e,t){var n=this,r=new f.default.TextPlayer({text:t});return t.update=function(e){r.update(e)},r.speed=1,aoba.Tween.new(e).wait(2400).to({alpha:1},400).wait(80).call(function(){n.interactive=!0,n._playingSE=aoba.soundManager.playSE(_.default.tvShow.fan),n._producerSE=aoba.soundManager.playSE(S.default.common.ui.typeText,{loop:!0}),r.play(b.default.t("tv.appearance"))}).wait(1200).call(function(){r.play(b.default.t("tv.appearanceAfter"),!1),r.once("end",function(){n._producerSE&&(n._producerSE.stop(),n._producerSE=null)})}).wait(4800).to({alpha:0},600).wait(800).promise()}},{key:"_removePlayingSE",value:function(){this._playingSE&&(this._playingSE.stop(),this._playingSE=null),this._producerSE&&(this._producerSE.stop(),this._producerSE=null)}}]),t}(aoba.Container);t.default=O},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,
writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=aoba.Sprite.new("tv_dot_circle.png").addTo(e,0,0,{anchor:.5});aoba.Sprite.new("tv_circle_base.png").addTo(e,0,0,{anchor:.5});var a=aoba.Container.new().addTo(e,0,0);aoba.FrameTween.new(n).to({scaleX:.95,scaleY:.95},30).to({scaleX:1,scaleY:1},30).loop(),aoba.FrameTween.new(n).by({rotation:10*aoba.DEG_TO_RAD},60).loop();var o=aoba.Sprite.new("tv_tv.png").addTo(a,0,-1,{anchor:.5});aoba.Sprite.new("tv_glow_1.png").addTo(a,47.5,61/4,{anchor:.5,scale:.83}),aoba.Sprite.new("tv_glow_1.png").addTo(a,-47,5/4,{anchor:.5,scale:.83});var s=aoba.Container.new().addTo(a,-.75,-2.75);return aoba.FrameTween.new(o).to({y:-3.25},10,"easeOutQuint").to({y:-1},10,"easeOutQuint").loop(),aoba.FrameTween.new(s).to({scaleX:1.05,scaleY:1.05},15,"easeInOutQuint").to({scaleX:1,scaleY:1},15,"easeInOutQuint").loop(),aoba.Sprite.new("tv_note_1.png").addTo(s,-35.5,-27.5,{anchor:.5}),aoba.Sprite.new("tv_note_1.png").addTo(s,42.5,31.75,{anchor:.5,scale:.62,rotation:-17*aoba.DEG_TO_RAD}),aoba.Sprite.new("tv_note_1.png").addTo(s,-46.75,-41/4,{anchor:.5,scale:.44,rotation:-35*aoba.DEG_TO_RAD}),e}return a(t,e),t}(aoba.Container);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(1),f=r(c),d=n(1039),p=r(d),h=[1.5,1.5,1.5,1.25,1.25],y=h.length,m=20,_=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(p.default);e._numbers=[];for(var r=0;r<y;++r)e._numbers.push(n["countdownNumber"+(r+1)]);e._gaugeBase=n.countdownBase,e._gauges=[];for(var o=0;o<m;++o)e._gauges.push(n["countdownGauge"+(o+1)]);return e._alertBG=n.countdownAlert,e._alertBG.scale=aoba.p(2),e}return o(t,e),s(t,[{key:"start",value:function(){var e=this;return this._changeBGM(),this._endTime=(new Date).getTime()+5e5,this._setupNumberAnimation(),this._setupGaugeAnimation(),this._setupAlertAnimation(),setTimeout(function(){e.emit("timeUp")},5e5),this}},{key:"fadeOut",value:function(){var e=this;aoba.Tween.new(this).to({alpha:0},120).call(function(){e._resetBGM(),e.destroy({children:!0})})}},{key:"_changeBGM",value:function(){this._prevBGMName=aoba.soundManager.bgm?aoba.soundManager.bgm.name:null,this._bgm=aoba.soundManager.playBGM(f.default.bgm.produce.answerCountdown,{fade:!1})}},{key:"_resetBGM",value:function(){this._prevBGMName?aoba.soundManager.playBGM(this._prevBGMName,{fade:!1}):this._bgm&&aoba.soundManager.remove(this._bgm)}},{key:"_setupNumberAnimation",value:function(){for(var e=0;e<y;++e){var t=this._numbers[e];t.scale=aoba.p(1,1),t.hide()}for(var n=Math.min(5,y),r=0;r<n;++r){var i=this._numbers[r];aoba.Tween.new(i).wait(1e5*(5-r-1)).call(i.show,i).to({scaleX:h[r],scaleY:h[r]},1e5,"easeOutBack").call(i.hide,i)}}},{key:"_setupGaugeAnimation",value:function(){this._gaugeBase.hide(),u.default.each(this._gauges,function(e){e.alpha=1,e.hide()});var e=Math.min(5,y),t=1e5*(5-e);aoba.Tween.new(this._gaugeBase).wait(t).call(this._gaugeBase.show,this._gaugeBase);for(var n=0;n<m;++n){var r=this._gauges[n],i=1e5*Math.ceil(e*(n+1)/m);aoba.Tween.new(r).wait(t).call(r.show,r).wait(i).to({alpha:0},200).call(r.hide,r)}}},{key:"_setupAlertAnimation",value:function(){this._alertBG.alpha=1,this._alertBG.hide();var e=Math.min(5,2),t=aoba.Tween.new(this._alertBG).wait(1e5*(5-e)).call(this._alertBG.show,this._alertBG),n=aoba.Tween.new(this._alertBG).to({alpha:0},250).to({alpha:1},250).loop();t.chain(n)}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"countdownBase",fullName:"countdownBase",type:"sprite",key:"countdown_base.png",x:482,y:260},{name:"countdownAlert",fullName:"countdownAlert",type:"sprite",key:"countdown_alert.png",x:0,y:0},{name:"countdownGauge1",fullName:"countdownGauge1",type:"sprite",key:"countdown_gauge_1.png",x:556,y:255},{name:"countdownGauge2",fullName:"countdownGauge2",type:"sprite",key:"countdown_gauge_2.png",x:574,y:260},{name:"countdownGauge3",fullName:"countdownGauge3",type:"sprite",key:"countdown_gauge_3.png",x:590,y:272},{name:"countdownGauge4",fullName:"countdownGauge4",type:"sprite",key:"countdown_gauge_4.png",x:601,y:291},{name:"countdownGauge5",fullName:"countdownGauge5",type:"sprite",key:"countdown_gauge_5.png",x:608,y:315},{name:"countdownGauge6",fullName:"countdownGauge6",type:"sprite",key:"countdown_gauge_6.png",x:608,y:335},{name:"countdownGauge7",fullName:"countdownGauge7",type:"sprite",key:"countdown_gauge_7.png",x:599,y:352},{name:"countdownGauge8",fullName:"countdownGauge8",type:"sprite",key:"countdown_gauge_8.png",x:588,y:367},{name:"countdownGauge9",fullName:"countdownGauge9",type:"sprite",key:"countdown_gauge_9.png",x:573,y:379},{name:"countdownGauge10",fullName:"countdownGauge10",type:"sprite",key:"countdown_gauge_10.png",x:556,y:386},{name:"countdownGauge11",fullName:"countdownGauge11",type:"sprite",key:"countdown_gauge_11.png",x:534,y:386},{name:"countdownGauge12",fullName:"countdownGauge12",type:"sprite",key:"countdown_gauge_12.png",x:512,y:379},{name:"countdownGauge13",fullName:"countdownGauge13",type:"sprite",key:"countdown_gauge_13.png",x:494,y:367},{name:"countdownGauge14",fullName:"countdownGauge14",type:"sprite",key:"countdown_gauge_14.png",x:482,y:352},{name:"countdownGauge15",fullName:"countdownGauge15",type:"sprite",key:"countdown_gauge_15.png",x:477,y:335},{name:"countdownGauge16",fullName:"countdownGauge16",type:"sprite",key:"countdown_gauge_16.png",x:477,y:315},{name:"countdownGauge17",fullName:"countdownGauge17",type:"sprite",key:"countdown_gauge_17.png",x:481,y:291},{name:"countdownGauge18",fullName:"countdownGauge18",type:"sprite",key:"countdown_gauge_18.png",x:493,y:273},{name:"countdownGauge19",fullName:"countdownGauge19",type:"sprite",key:"countdown_gauge_19.png",x:510,y:260},{name:"countdownGauge20",fullName:"countdownGauge20",type:"sprite",key:"countdown_gauge_20.png",x:533,y:255},{name:"countdownNumber1",fullName:"countdownNumber1",anchor:{x:.5,y:.5},type:"sprite",key:"countdown_number_1.png",x:555,y:336},{name:"countdownNumber2",fullName:"countdownNumber2",anchor:{x:.5,y:.5},type:"sprite",key:"countdown_number_2.png",x:560,y:336},{name:"countdownNumber3",fullName:"countdownNumber3",anchor:{x:.5,y:.5},type:"sprite",key:"countdown_number_3.png",x:559,y:337},{name:"countdownNumber4",fullName:"countdownNumber4",anchor:{x:.5,y:.5},type:"sprite",key:"countdown_number_4.png",x:557,y:336},{name:"countdownNumber5",fullName:"countdownNumber5",anchor:{x:.5,y:.5},type:"sprite",key:"countdown_number_5.png",x:560,y:338}],name:"",fullName:"",visible:!1,type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=aoba.Container.new();m().addTo(n);var r=[]
;return e.eventCategoryName===u.default.t("temp.supportEvent")&&e.supportIdolId?r.push(a.default.join(s.default.asset.CONTENT_IMAGE_PATH,"support_idols","icon",e.supportIdolId+".png")):r.push(t.getImagePath("icon")),(0,p.default)(r).then(function(){y.default.new(e,r[0]).addTo(n).play().on("end",function(){aoba.Tween.new(n).to({alpha:0},240).call(function(){n.destroy({children:!0})})})}),n};var i=n(31),a=r(i),o=n(1),s=r(o),l=n(3),u=r(l),c=n(1041),f=r(c),d=n(32),p=r(d),h=n(1042),y=r(h),m=function(){var e=aoba.Container.new(),t=e.fromData(f.default);return[t.circle1,t.circle2,t.circle3].forEach(function(e,t){var n=[.97,1.04,1.03][t];aoba.Tween.new(e).to({scaleX:n,scaleY:n},3e3)}),[t.sparkle1,t.sparkle2,t.sparkle3].forEach(function(e,t){var n=[1.4,.8,1.2][t];aoba.Tween.new(e).to({scaleX:n,scaleY:n},480).to({scaleX:1,scaleY:1},480).loop()}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"circle1",fullName:"circle1",type:"sprite",key:"circle1.png",x:0,y:0},{name:"circle2",fullName:"circle2",type:"sprite",key:"circle2.png",x:0,y:0},{name:"circle3",fullName:"circle3",type:"sprite",key:"circle3.png",x:0,y:0},{name:"sparkle1",fullName:"sparkle1",anchor:{x:.5,y:.5},type:"sprite",key:"sparkle1.png",x:138,y:13},{name:"sparkle2",fullName:"sparkle2",anchor:{x:.5,y:.5},type:"sprite",key:"sparkle2.png",x:19,y:136},{name:"sparkle3",fullName:"sparkle3",anchor:{x:.5,y:.5},type:"sprite",key:"sparkle3.png",x:79,y:128}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1043),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={"\u30a2\u30a4\u30c9\u30eb\u30a4\u30d9\u30f3\u30c8":"event_type_idol.png","\u30b5\u30dd\u30fc\u30c8\u30a4\u30d9\u30f3\u30c8":"event_type_support.png","\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30a4\u30d9\u30f3\u30c8":"event_type_produce.png","\u30a2\u30d5\u30bf\u30fc\u30b9\u30c8\u30fc\u30ea\u30fc":"event_type_true_end.png"},c=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=a.fromData(l.default,{idolIcon:{key:n},eventType:{key:u[e.eventCategoryName]},eventName:{text:e.title}}),s=o.eventPlateBase.texture;return a.mask=aoba.Graphics.new().beginFill(0).drawRoundedRect(0,0,s.width,s.height,10).addTo(a,6),a}return a(t,e),o(t,[{key:"play",value:function(){var e=this;return aoba.Tween.new(this).from({x:-this.width},260).call(function(){var t=aoba.Sprite.new("plate_effect.png").addTo(e,0,-45,{rotation:45*aoba.DEG_TO_RAD,alpha:.5}),n=aoba.Sprite.new("plate_effect.png").addTo(e,0,-45,{rotation:45*aoba.DEG_TO_RAD,alpha:.5});aoba.Tween.new(t).wait(120).by({x:500},360,"easeInOutCubic").call(function(){t.destroy()}),aoba.Tween.new(n).wait(180).by({x:500},360,"easeInOutCubic").call(function(){n.destroy(),e.mask.destroy(),e.mask=null;var t=aoba.Sprite.new("sparkle2.png").addTo(e,e.width+8,e.height,{anchor:.5});aoba.Tween.new(t).to({alpha:0,scaleX:2.4,scaleY:2.4},200)})}).by({x:10},4800).call(function(){e.emit("end")}).by({x:6},240),this}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"eventPlateBase",fullName:"eventPlateBase",type:"sprite",key:"event_plate_base.png",x:0,y:0},{name:"eventName",fullName:"eventName",type:"text",text:"\u30a4\u30d9\u30f3\u30c8\u540d(\u6700\u592715\u6587\u5b57\u307e\u3067)",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:22},anchor:{x:0,y:.5},rotation:0,x:115,y:89},{name:"eventType",fullName:"eventType",anchor:{x:.5,y:.5},type:"sprite",key:"event_type_idol.png",x:274,y:39},{name:"idolIcon",fullName:"idolIcon",type:"sprite",key:"idol_icon.png",x:9,y:8}],name:"",fullName:"",type:"container",x:16,y:16}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1),c=r(u),f=n(26),d=r(f),p=n(19),h=r(p),y=n(1045),m=r(y),_=n(23),g=r(_),b={LEVEL_0_4:"level_0_4.json",LEVEL_MAX:"level_max.json"},v=function(t){function n(e,t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return aoba.extras.TilingSprite.fromImage("bg_memory_level_up_gradation.png",aoba.game.width,aoba.game.height).addTo(r),r._aeLayer=aoba.Container.new().addTo(r),r._particleLayer=aoba.Container.new().addTo(r,0,0,{alpha:1}),r._beforeMemoryAppeal=e,r._afterMemoryAppeal=t,r._isLevelMax=t===c.default.app.MAX_MEMORY_APPEAL_LEVEL,r._interceptor=(0,m.default)(e.level,t.level,r._isLevelMax),r}return o(n,t),s(n,[{key:"ezgPreDestroy",value:function(){this._destroyTextLayer(),this._destroyAE(),l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"_setMemoryAppealText",value:function(e){var t=e.find("before_memory_appeal_text"),n=e.find("after_memory_appeal_text");this._beforeTextLayer=this._createTextLayer(this._beforeMemoryAppeal).addTo(t[0],0,0),this._afterTextLayer=this._createTextLayer(this._afterMemoryAppeal).addTo(n[0],0,0)}},{key:"_createTextLayer",value:function(e){var t=aoba.Container.new();return aoba.Text.new(e.name,{fill:14885241,fontFamily:"UDKakugo_SmallPr6-B",fontSize:22}).addTo(t,0,-20),aoba.Text.new(e.comment,{fill:5063497,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20,wordWrap:!0,breakWords:!0,wordWrapWidth:480}).addTo(t,0,t.height-20),t}},{key:"_destroyTextLayer",value:function(){this._beforeTextLayer&&(this._beforeTextLayer.destroy({children:!0}),this._beforeTextLayer=null),this._afterTextLayer&&(this._afterTextLayer.destroy({children:!0}),this._afterTextLayer=null)}},{key:"_showParticle",value:function(e,t,n){var r=new g.default(e,t);r.setPosition(n.x,n.y),r.playAndDestroy(),this._particleLayer.addChild(r.container)}},{key:"play",value:function(){var e=this;return new Promise(function(t){(0,h.default)({folderPath:"produce_commu/memory_level_up",fileName:e._isLevelMax?b.LEVEL_MAX:b.LEVEL_0_4,interceptor:e._interceptor}).then(function(n){e._ae=n,e.show(),e._setMemoryAppealText(n),aoba.FrameTween.new(e).wait(5).call(function(){
e._showParticle(["particle_pixi_1.png"],"title_appear",{x:465,y:60}),e._isLevelMax&&(e._showParticle(["particle_pixi_2.png","particle_pixi_3.png"],"max_back_side_idle",{x:0,y:0}),e._showParticle(["particle_pixi_2.png","particle_pixi_3.png"],"max_back_side_idle",{x:957,y:0}))}).wait(8).call(function(){e._showParticle(["particle_pixi_1.png"],"title_appear",{x:700,y:100})}),aoba.FrameTween.new(e).wait(25).call(function(){e._showParticle(["particle_pixi_2.png","particle_pixi_3.png"],"title_idle",{x:465,y:54})}).wait(25).call(function(){e._showParticle(["particle_pixi_2.png"],"max_icon_idle",{x:460,y:300}),e._showParticle(["particle_pixi_2.png","particle_pixi_3.png"],"arrow_idle",{x:738,y:321})}),aoba.FrameTween.createBlank().wait(.8*n.outFrame).call(function(){e.emit("middle",e)}),aoba.soundManager.playSE(d.default.activity.stageLevelUp,{volume:.3}),e._aeLayer.addChild(n),n.play(),n.once("completed",function(){e.destroy({children:!0}),t()})})})}},{key:"_destroyAE",value:function(){this._interceptor&&(e.each(this._interceptor.config,function(e){var t=e.image;t&&t.remove()}),this._interceptor=null),this._ae&&(this._ae.destroy(!0),this._ae=null)}}]),n}(aoba.Container);t.default=v}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={NORMAL:{images:{gageBase:"memory_gage_base_0_3.png",gageLine:"memory_gage_line.png",gage:"memory_gage_0_3.png"},position:{x:61,y:57}},MAX:{images:{gageBase:"memory_gage_base_max.png",gageLine:"memory_gage_line.png",gage:"memory_gage_max.png"},position:{x:75,y:70}}},i=function(e,t){var n=aoba.Sprite.new();return Object.values(e.images).forEach(function(e){var r=aoba.Sprite.fromImage(e).addTo(n,0,0,{anchor:.5});t&&(r.blendMode=t)}),n.x+=e.position.x,n.y+=e.position.y,n},a=function(e,t){var n=aoba.Sprite.fromImage("memory_level_text_"+e+".png");return t&&(n.blendMode=t),n},o=function(){return{heart_frame_common_add:{blendMode:aoba.BLEND_MODES.ADD},list_base_after_add:{blendMode:aoba.BLEND_MODES.ADD},heart_icon_level_max_add:{blendMode:aoba.BLEND_MODES.ADD},heart_icon_max_add:{blendMode:aoba.BLEND_MODES.ADD},heart_icon_max:{blendMode:aoba.BLEND_MODES.ADD,image:i(r.MAX)},heart_icon_before_add:{blendMode:aoba.BLEND_MODES.ADD,image:i(r.MAX,aoba.BLEND_MODES.ADD)},heart_icon_before:{image:i(r.MAX)}}},s=function(e){return{heart_icon_after_level_add:{blendMode:aoba.BLEND_MODES.ADD,image:a(e,aoba.BLEND_MODES.ADD)},heart_icon_after_level:{image:a(e)},heart_icon_after_add:{blendMode:aoba.BLEND_MODES.ADD,image:i(r.NORMAL,aoba.BLEND_MODES.ADD)},heart_icon_after:{image:i(r.NORMAL)},heart_icon_before_add:{blendMode:aoba.BLEND_MODES.ADD,image:i(r.NORMAL,aoba.BLEND_MODES.ADD)},heart_icon_before:{image:i(r.NORMAL)}}},l=function(e,t,n){var r={memory_appeal_text_add:{blendMode:aoba.BLEND_MODES.ADD},level_up_text_add:{blendMode:aoba.BLEND_MODES.ADD},list_base_normal_0_3_add:{blendMode:aoba.BLEND_MODES.ADD},heart_icon_before_level_add:{blendMode:aoba.BLEND_MODES.ADD,image:a(e,aoba.BLEND_MODES.ADD)},heart_icon_before_level:{image:a(e)},before_memory_appeal_text:{image:aoba.Container.new()},after_memory_appeal_text:{image:aoba.Container.new()}},i=n?o():s(t);return new PIXI.AEDataInterceptor(Object.assign(r,i))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idol",fullName:"idol",pivot:{x:.5,y:1},type:"container",x:261,y:640},{children:[{name:"nameBase",fullName:"skillName/nameBase",type:"sprite",key:"support_skill_cut_in_name_base.png",x:0,y:60},{name:"name",fullName:"skillName/name",type:"text",text:"\u30b9\u30ad\u30eb\u540d\u306f\u6700\u592720\u6587\u5b57\u3002\u5de6\u5bc4\u305b",style:{fill:4287889,fontFamily:"HummingStd-E",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:14,y:96},{name:"title",fullName:"skillName/title",type:"sprite",key:"support_skill_cut_in_title.png",x:13,y:0}],name:"skillName",fullName:"skillName",type:"container",x:1,y:488}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(26),u=r(l),c=n(1048),f=r(c),d=n(23),p=r(d),h=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._memoryUpHeart=f.default.new(e,n,r).addTo(o),o._brightEffect=f.default.new(e,n,r).addTo(o,0,0,{alpha:0}),o._brightEffect.setBlendModeAdd(),o._particleLayer=aoba.Container.new().addTo(o),o.hide(),o}return o(t,e),s(t,[{key:"play",value:function(){var e=this;return new Promise(function(t){e.show(),aoba.soundManager.playSE(u.default.commu.memoryUp);var n=new p.default(["particle_pixi_2.png","particle_pixi_3.png"],"max_icon_idle"),r=e._memoryUpHeart.getIconPosition();n.setPosition(r.x,r.y),n.play(),e._particleLayer.addChild(n.container),aoba.FrameTween.new(e._particleLayer).wait(46).to({alpha:0},4),e._showMemoryUpEffect(e._memoryUpHeart),e._showMemoryUpEffect(e._brightEffect),aoba.FrameTween.new(e._brightEffect).wait(11).to({alpha:1},5).to({alpha:0},5).to({alpha:1},5).to({alpha:0},5).to({alpha:1},5).to({alpha:0},5).to({alpha:1},5),e._memoryUpHeart.play(),e._brightEffect.play(),aoba.FrameTween.new(e).wait(55).to({alpha:0},10).call(function(){e.destroy({children:!0}),t()})})}},{key:"_showMemoryUpEffect",value:function(e){aoba.FrameTween.new(e).from({y:e.y+30},11).to({y:e.y-10},39),aoba.FrameTween.new(e).wait(46).to({alpha:0},9)}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1049),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={LEVEL_0_3:{gageBase:"memory_gage_base_0_3.png",gage:"memory_gage_0_3.png"},LEVEL_4_MAX:{gageBase:"memory_gage_base_max.png",gage:"memory_gage_max.png"}},c=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=e>=4?u.LEVEL_4_MAX:u.LEVEL_0_3;o._memoryPoints=a,o._gageMoveY=n||!o._memoryPoints.nextMemoryAppeal?-60:o._getMoveY();var c=o.fromData(l.default,{memoryAppealIcon:{key:s.gageBase},"memoryAppealIcon/memoryGage":{key:s.gage},"memoryAppealIcon/memoryLevelText":{key:"memory_level_text_"+e+".png",scale:.5,visible:!1},arrow:{scale:.4,alpha:0}});return o._objs=c,o._icon=c.memoryAppealIcon,o._levelText=c["memoryAppealIcon/memoryLevelText"],o._arrow=c.arrow,
c["memoryAppealIcon/memoryGage"].mask=aoba.Graphics.new().drawRect(0,0,120,120).addTo(c["memoryAppealIcon/memoryGage"],-60,o._getStartY(),{anchor:.5}),o._gageMask=c["memoryAppealIcon/memoryGage"].mask,o._arrow.scale.set(0),o._icon.scale.set(0),o.hide(),o}return a(t,e),o(t,[{key:"setBlendModeAdd",value:function(){Object.values(this._objs).forEach(function(e){e.blendMode=aoba.BLEND_MODES.ADD})}},{key:"getIconPosition",value:function(){return{x:this._icon.x,y:this._icon.y}}},{key:"play",value:function(){var e=this;return new Promise(function(t){e.show(),aoba.FrameTween.new(e._icon).to({scaleX:1.1,scaleY:1.1},5).to({scaleX:1,scaleY:1},10),aoba.FrameTween.new(e._levelText).wait(5).call(function(){e._levelText.show()}).to({scaleX:1.1,scaleY:1.1},5).to({scaleX:1,scaleY:1},10),aoba.FrameTween.new(e._gageMask).wait(15).to({y:e._gageMoveY},30),aoba.FrameTween.new(e._arrow).wait(9).call(function(){e._showArrow()}).wait(22).call(function(){e._showArrow()}).wait(22).call(t)})}},{key:"_showArrow",value:function(){aoba.FrameTween.new(this._arrow).from({y:this._arrow.y+44.6},10).to({y:this._arrow.y-15.4},11),aoba.FrameTween.new(this._arrow).to({scaleX:.847,scaleY:.847},7).to({scaleX:1,scaleY:1},14),aoba.FrameTween.new(this._arrow).to({alpha:1},7).wait(8).to({alpha:0},6)}},{key:"_getStartY",value:function(){if(!this._memoryPoints.nextMemoryAppeal)return-60;var e=this._memoryPoints.nextMemoryAppeal.memoryPoint,t=this._memoryPoints.total;return 0===t?60:60-120/e*t}},{key:"_getMoveY",value:function(){return 55-110/this._memoryPoints.nextMemoryAppeal.memoryPoint*(this._memoryPoints.total+this._memoryPoints.add)}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"memoryGageLine",fullName:"memoryAppealIcon/memoryGageLine",anchor:{x:.5,y:.5},type:"sprite",key:"memory_gage_line.png",x:-1,y:0},{name:"memoryGage",fullName:"memoryAppealIcon/memoryGage",anchor:{x:.5,y:.5},type:"sprite",key:"memory_gage.png",x:-1,y:0},{name:"memoryLevelText",fullName:"memoryAppealIcon/memoryLevelText",anchor:{x:.5,y:.5},type:"sprite",key:"memory_level_text.png",x:0,y:1}],name:"memoryGageBase",fullName:"memoryAppealIcon",anchor:{x:.5,y:.5},type:"sprite",key:"memory_gage_base.png",x:784,y:235},{name:"arrow",fullName:"arrow",anchor:{x:.5,y:.5},type:"sprite",key:"memory_up_arrow.png",x:852,y:244}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1051),u=r(l),c=n(26),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.tensionLevel,o=e.isIncreased;n._type=o?"up":"down";var s=n.fromData(u.default,{statusUpArrow:{key:"commu_status_"+n._type+"_arrow.png"},statusUpArrowBIG:{key:"commu_status_"+n._type+"_arrowBIG.png"},iconTension:{key:"icon_tension_"+r+".png",scale:2}});return n._icon=s.iconTension,n._smallArrow=s.statusUpArrow,n._bigArrow=s.statusUpArrowBIG,n.hide(),n}return o(t,e),s(t,[{key:"play",value:function(){var e=this,t="up"===this._type?10:-10;return new Promise(function(n){e.show(),aoba.soundManager.playSE("up"===e._type?f.default.commu.tensionUp:f.default.commu.tensionDown),e._icon.scale=aoba.p(1.2,.2),aoba.Tween.new(e._icon).to({scaleX:1,scaleY:1},100).to({scaleX:.4,scaleY:1.2},100).to({scaleX:1,scaleY:1},100).to({scaleX:1.1,scaleY:.8},100).to({scaleX:1,scaleY:1},100),e._smallArrow.alpha=0,aoba.Tween.new(e._smallArrow).wait(400).to({alpha:1},600),aoba.Tween.new(e._smallArrow).wait(400).from({y:e._smallArrow.y+t},600),e._bigArrow.alpha=0,aoba.Tween.new(e._bigArrow).wait(400).to({alpha:1},600),aoba.Tween.new(e._bigArrow).wait(400).from({y:e._bigArrow.y+t},600),aoba.Tween.new(e).wait(1e3).to({alpha:0},120).call(n)})}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"iconTension",fullName:"iconTension",anchor:{x:.5,y:1},type:"sprite",key:"icon_tension_5.png",x:69,y:97},{name:"tensionGlow6",fullName:"tensionGlow6",type:"sprite",key:"tension_glow_6.png",x:100,y:14},{name:"tensionGlow5",fullName:"tensionGlow5",type:"sprite",key:"tension_glow_5.png",x:115,y:37},{name:"tensionGlow4",fullName:"tensionGlow4",type:"sprite",key:"tension_glow_4.png",x:0,y:53},{name:"tensionGlow3",fullName:"tensionGlow3",type:"sprite",key:"tension_glow_3.png",x:11,y:60},{name:"tensionGlow2",fullName:"tensionGlow2",type:"sprite",key:"tension_glow_2.png",x:22,y:0},{name:"tensionGlow1",fullName:"tensionGlow1",type:"sprite",key:"tension_glow_1.png",x:42,y:4},{name:"statusUpArrowBIG",fullName:"statusUpArrowBIG",type:"sprite",key:"status_up_arrowBIG.png",x:106,y:32},{name:"statusUpArrow",fullName:"statusUpArrow",type:"sprite",key:"status_up_arrow.png",x:86,y:54},{name:"tensionText",fullName:"tensionText",type:"sprite",key:"tension_text.png",x:125,y:57}],name:"",fullName:"",visible:!1,type:"container",x:632,y:80}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(135),c=r(u),f=n(38),d=r(f),p=n(83),h=r(p),y=n(136),m=r(y),_=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createConcertGame(e,m.default.tutorialAudition,h.default.createAudition(e.produceAudition.difficulty)),n}return s(t,e),l(t,[{key:"_requestFinishConcert",value:function(e){}}],[{key:"request",value:function(){return d.default._auditionStart()}},{key:"getContentResources",value:function(e){return[].concat(i(c.default.getContentResources(e)),[h.default.IMAGES.AUDITION(e.produceAudition.difficulty).bg])}}]),t}(c.default);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(0).then(n.bind(null,1630)).then(function(e){return e.default.LiveGameManager}).then(function(t){return e(t)})};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1055),c=r(u),f=n(1),d=r(f),p=n(0),h=r(p),y=n(36),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),_=n(35),g=r(_),b=n(1056),v=r(b),w=n(1065),k=r(w),S=n(1072),I=r(S),E=n(1073),A=r(E),x=n(435),C=r(x),T=n(437),P=r(T),O=n(1076),N=r(O),M=n(1077),R=r(M),D=n(1080),F=r(D),B=n(1081),j=r(B),L=n(258),U=r(L),H=n(1083),G=r(H),z=n(1084),V=r(z),K=n(1086),W=r(K),q=n(1087),X=r(q),Y=n(1088),J=r(Y),Q=n(1091),Z=r(Q),$=n(1093),ee=r($),te=n(1094),ne=r(te),re=n(441),ie=r(re),ae=n(442),oe=r(ae),se=n(443),le=r(se),ue=n(1095),ce=r(ue),fe=n(444),de=r(fe),pe=n(1096),he=r(pe),ye=n(1105),me=r(ye),_e=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.rivals.find(function(e){return e.isPlayer});r&&(r.name=e.nickname),n._concert=e.concert,n._isFes=!!e.userFesDeck,n._voicePlayer=new me.default(n._concert.centerIdol),n._onEndConcert=e.onEndConcert,n._stageLayer=j.default.new(e.bg),n._turn=Z.default.new(n._concert.turn+1),n._judgeList=I.default.new(),n._playerIdolList=F.default.new(),n._skillSelectLayer=V.default.new(),n._passiveSkillList=N.default.new(),n._skillHistoryList=X.default.new(),n._skillCardHand=W.default.new({onSelect:n._selectSkillCard.bind(n)}),n._timingGaugeGroup=J.default.new(),n._speedButton=h.default.ToggleButton.new("speed_button_off.png","speed_button_on.png"),n._PauseDialog=n._isFes?he.default.FesPauseDialog:he.default.AuditionPauseDialog,n._memorySkillCard=null,n._standIdol=null,n._standSupportIdols={},n._appealPhaseLayer=v.default.new({centerIdol:n._concert.centerIdol,judgeList:n._judgeList,playerIdolList:n._playerIdolList}).on("retired",n._showConcertFailureCutIn,n).on("playVoice",function(e){n._voicePlayer.play(e)}).on("playAppealVoice",function(e){var t=e.voiceId,r=e.characterId;n._voicePlayer.play(t,r)}).on("playLinkVoice",function(e){n._voicePlayer.playLinkAppealVoices(e)});var o=n.fromData(c.default,{stageLayer:n._stageLayer,turn:n._turn,pauseButton:{class:h.default.DecideButton},speedButton:n._speedButton,judgeList:n._judgeList,playerIdolList:n._playerIdolList,skillSelectLayer:n._skillSelectLayer,timingGaugeGroup:n._timingGaugeGroup});return n._skillDetailList=G.default.new().addToAt(n,n._skillSelectLayer,d.default.SCREEN_CENTER.x,716),n._overlay=h.default.createDialogOverlay(.3).addToAt(n,n._timingGaugeGroup,0,0,{alpha:0}),n._music=new A.default(aoba.soundManager.playConcertMusic(e.musicPath)),n._music.pause(),n._speedChanger=new ne.default,n._speedButton.on("changed",function(){return n._speedChanger.change()}),n.on("removed",function(){return n._speedChanger.reset()}),n._pauseButton=o.pauseButton,n._pauseButton.on("tap",n._pauseGame,n),n.interactive=!0,n._timingGaugeGroup.on("showResult",function(e){n._voicePlayer.play(e)}),e.isTutorial&&(n._appealPhaseLayer.on("endLinkSkill",function(){n.emit("endLinkSkill")}),n.on("stopOnPerfect",function(){n._timingGaugeGroup.stopOnPerfect()}),n.on("stopMemoryRoulette",function(){n._memorySkillRoulette&&(n._memorySkillRoulette.stopOnGood(),n._memorySkillRoulette.once("stopOnGood",function(){n.emit("stopOnGood")}))})),n._startOverlay=h.default.graphics.rect(d.default.SCREEN_WIDTH,d.default.SCREEN_HEIGHT).addTo(n),n}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._standIdol&&(this._standIdol.destroy({children:!0}),this._standIdol=null),this._appealPhaseLayer&&(this._appealPhaseLayer.destroy({children:!0}),this._appealPhaseLayer=null),this._warinigFrame&&(this._warinigFrame.destroy({children:!0}),this._warinigFrame=null),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"pause",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pause",this).call(this),this.children.forEach(function(e){return e.pause()})}},{key:"resume",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resume",this).call(this),this.children.forEach(function(e){return e.resume()})}},{key:"start",value:function(){var e=this,t=this._concert.store,n=t.judges,r=t.rivals,i=t.centerIdol,a=t.otherIdols,o=t.memoryAppeal,s=this._concert.standby();this._stageLayer.addIdol(i),this._stageLayer.addSupportIdols(a),this._skillHistoryList.initSkillHistories(this._concert.usedSkills),aoba.soundManager.playSE(g.default.prepare),Promise.resolve().then(function(){return new Promise(function(t){aoba.Tween.new(e._startOverlay).to({alpha:0},480).call(function(){t(),e._startOverlay.destroy()})})}).then(function(){if(e._initJudgeList(n),e._initPlayerIdolList(r),e._updateStatusEffect(),e._initSkillSelectLayer(),e._concert.turn>1){var t=e._concert.checkConcertIsFinished();if(t.finished)return e._endConcert(t.isRetired),new Promise(function(e){})}return e._skillSelectLayer.slideIn(),e._judgeList.slideIn(),e._voicePlayer.play("concert_start_1"),e._playerIdolList.slideIn()}).then(function(){return e.emit("startConcert"),aoba.FrameTween.new(e).wait(1).promise()}).then(function(){return e._turn.slideIn(),e._initSkillCardHand(s.idol.activeSkills,o)}).then(function(){e._music.start(),e._stageLayer.startLive(),e._setUpTurn(s),e._standIdol=h.default.Spine.new(i.getSpinePath("stand_costume")),e._appealPhaseLayer.setCenterIdolSpine(e._standIdol)})}},{key:"_pauseGame",value:function(){this._music.pause();var e=this._concert.centerIdol,t=this._playerIdolList.findMyIdol().hp;this._PauseDialog.new({idols:this._concert.idols,centerIdol:e,mental:t,memoryAppealPoint:this._concert.memoryAppealPoint}).addTo(this).on("removed",this._resumeGame,this)}},{key:"_resumeGame",value:function(){this._music.resume()}},{key:"_setUpTurn",value:function(e){var t=this;return this._playerIdolList.showRankingIcons(),this._playerIdolList.showAttackResults(e.rivals),this._timingGaugeGroup.setUpShare(e.idol.appealMeters),this._showPassiveSkillCutIn(e.idol.passiveSkills).then(function(){return t._skillCardHand.updateLinkSkillState(t._concert.allSkills),t._memorySkillCard.updateAvailability(e.idol.enabledMemoryAppeal),e.idol.enabledMemoryAppeal&&!t._appealPhaseLayer.hasMemoryMovie&&t.once("touchend",function(){t._appealPhaseLayer.initiateMovie()}),t._memorySkillCard.increaseGaugeTo(e.idol.memoryAppealPoint)}).then(function(){t._overlay.remove(),t._judgeList.on("select",t._handleSelectJudge,t),t.emit("setUpTurn",t._concert.turn)})}},{key:"_handleSelectJudge",value:function(e){this.selectedCard&&!this.selectedCard.disabled&&this._judgeList.isArrowVisible&&(this._judgeList.setTargetJudge(e),this._judgeList.removeAllListeners(),this._voicePlayer.playSelectVoice(this.selectedCard),aoba.soundManager.playSE(g.default.selectJudgeTarget),this._startSkillGame(),this.emit("selectJudge"))}},{key:"_startSkillGame",value:function(){var e=this;this._prepareSkillGame().then(function(){aoba.FrameTween.fromData(e._overlay,m.stageLayer.showOverlay),(0,ce.default)().addTo(e);var t=1/e._speedChanger.speed;e.selectedCard.isMemoryAppeal?(e._showMemorySkillRoulette(.1),
aoba.FrameTween.new(e).wait(22).call(function(){dlog(!1,"HookMemoryAppeal");e._startMemorySkillRoulette()})):(e._timingGaugeGroup.appear(),aoba.FrameTween.new(e).wait(22).call(function(){dlog(!1,"HookAPPEAL");e._startTimingGauge(.01)}))})}},{key:"_playAppealPhase",value:function(e){var t=this;aoba.FrameTween.fromData(this._overlay,m.stageLayer.hideOverlay),this._startAppealPhase(e).then(function(){t.emit("endAppealPhase",t._concert.turn)}).then(function(){return aoba.Tween.new(t).wait(1).promise()}).then(function(){return t._endTurn()}).then(function(){t._updateStatusEffect();var e=t._concert.standby();return t._turn.updateTurn().then(function(){return t._skillCardHand.syncSkillCards(e.idol.activeSkills)}).then(function(){return t._setUpTurn(e)})})}},{key:"_updateStatusEffect",value:function(){this._playerIdolList.updateStatusEffectList(this._concert.playerIdolActors),this._judgeList.updateStatusEffectList(this._concert.judgeActors)}},{key:"_playActions",value:function(e){var t=this;return this._appealPhaseLayer.addTo(this).playActions(e).then(function(){t._appealPhaseLayer.destroyChildren(),t._appealPhaseLayer.remove()})}},{key:"_calcAppealResultActions",value:function(e){var t=this._judgeList.selectedJudge,n=this.selectedCard;n.disappear();var r=this._concert.findActiveSkill(n.skillId,n.idolId,n.isMemoryAppeal);return this._skillHistoryList.addSkillHistory(r),this._concert.appeal(r,t.id,e.id).actions}},{key:"_startTimingGauge",value:function(e){var t=this;this._timingGaugeGroup.playSlider(e).then(function(){t.once("touchstart",function(){t._timingGaugeGroup.stopSlider().then(function(e){t._timingGaugeGroup.disappear();var n=t._calcAppealResultActions(e);t._playAppealPhase(n),t.emit("startAppealPhase")})})})}},{key:"_showMemorySkillRoulette",value:function(e){return this._memorySkillRoulette=P.default.new(this._concert.centerIdol),this._memorySkillRoulette.addToAt(this,this._timingGaugeGroup),this._memorySkillRoulette.appear(e),this._memorySkillRoulette}},{key:"_startMemorySkillRoulette",value:function(){var e=this;this._memorySkillRoulette.start(),this.emit("startMemoryRoulette");var t=null,n=!1,r=function(){var t=e._memorySkillRoulette.judge();null!==t&&t.resultCallBack.call(e._memorySkillRoulette,t)},i=function r(){e.off("touchend",r),e.off("touchendoutside",r),e.off("touchcancel",r),t?e._playAppealPhase(t):n=!0};this._memorySkillRoulette.once("decideResult",function(t){t.isSuccess=true;var n=t.isSuccess?"concert_memory_appeal_success_1":"concert_memory_appeal_failure_1";dlog(!1,"decideResult:",n);e._voicePlayer.play(n)}),this._memorySkillRoulette.once("end",function(i){e.off("touchstart",r);i.isSuccess=true;var a=i.isSuccess?"perfect":"miss",o=e._timingGaugeGroup.findAppealMeterByCategory(a);dlog(!1,"end:",a);t=e._calcAppealResultActions(o),n&&(e._playAppealPhase(t),t=null)}),this._memorySkillRoulette.once("showFrameEnd",function(){e.once("touchstart",r),e.once("touchend",i),e.once("touchendoutside",i),e.once("touchcancel",i)})}},{key:"_endTurn",value:function(){var e=this._checkConcertIsFinished();return e.finished?(this._endConcert(e.isRetired),new Promise(function(e){})):(this._stageLayer.hideOverlay(),this._passiveSkillList.fadeOut(),this._playerIdolList.hideAttackOrders(),this._judgeList.hideAttackOrders(),this._playerIdolList.slideUp(),this._judgeList.slideUp(),this._skillSelectLayer.slideUp())}},{key:"_initJudgeList",value:function(e){var t=this;e.forEach(function(e){t._judgeList.addJudge(k.default.new(e))})}},{key:"_initPlayerIdolList",value:function(e){var t=this;this._playerIdolList.init(e.map(function(e){var n=R.default.new(e);return e.isPlayer&&(n.on("enterWarning",t._showWarning,t),n.on("leaveWarning",t._hideWarning,t)),n}))}},{key:"_initSkillSelectLayer",value:function(){this._skillSelectLayer.init({passiveSkillList:this._passiveSkillList,skillHistoryList:this._skillHistoryList,skillCardHand:this._skillCardHand,memorySkillCard:this._memorySkillCard})}},{key:"_initSkillCardHand",value:function(e,t){var n=e.map(function(e){return U.default.new(e)});return this._memorySkillCard=C.default.create(t,this._concert.centerIdol),this._skillCardHand.init(n,this._memorySkillCard)}},{key:"_prepareSkillGame",value:function(){return this._overlay.addToAt(this,this._timingGaugeGroup),this._playerIdolList.showAllAttackResults(),this._skillDetailList.disappear()}},{key:"_startAppealPhase",value:function(e){var t=this;return this._playerIdolList.hideAttackResults().then(function(){return t._playerIdolList.hideRankingIcons(),t._appealPhaseLayer.showAttackOrders(e).then(function(){return t._playerIdolList.reorder()}),new Promise(function(e){t.emit("showAppealStartText"),(0,le.default)().addTo(t).on("end",e)})}).then(function(){t._judgeList.hideTargetFrame()}).then(function(){return t._stageLayer.showOverlay(),t._playerIdolList.slideDown(),t._skillSelectLayer.slideDown(),t._judgeList.slideDown()}).then(function(){return t._playActions(e)})}},{key:"_showPassiveSkillCutIn",value:function(e){var t=this;if(this._concert.turn>=2&&e.length>0){var n=void 0,r=void 0,i=e.find(function(e){return e.rarity>=2});i?(n=i,r="concert_special_passive_skill_2"):(n=e[0],r="concert_special_passive_skill_1"),this._voicePlayer.play(r,n.idol.characterId)}return e.reduce(function(e,n){return e.then(function(){return t._passiveSkillList.playIconEffect(n),n.rarity>=2?oe.default.new(n.idol.getSpinePath("stand_costume"),n).addTo(t,0,350).play().then(function(e){e.destroy({children:!0})}):ie.default.new(n.idol.getImagePath("cut_in"),n).addTo(t,0,450).play().then(function(e){e.destroy({children:!0})})})},Promise.resolve())}},{key:"_selectSkillCard",value:function(e){var t=this;if(!this._switchingPromise){var n=!1;if(e===this.selectedCard)this._judgeList.hideTargetArrows(),this._skillCardHand.cancelCard(e),this._skillHistoryList.clearIconEffects(),this._switchingPromise=this._skillDetailList.hideContents();else{e.disabled?this._judgeList.hideTargetArrows():(n=!0,this._judgeList.hideTargetArrows()),this._skillHistoryList.clearIconEffects(),this._skillCardHand.selectCard(e);var r=this._concert.findActiveSkill(e.skillId,e.idolId,e.isMemoryAppeal);r.enabledLinkSkill&&this._skillHistoryList.lightUp(r.linkSkill.linkSkillCharacters),this._switchingPromise=this._skillDetailList.switchContents(r,e.enabledLinkSkill)}this._switchingPromise.then(function(){t._switchingPromise=null,n&&t._judgeList.showTargetArrows()}),this.emit("selectCard")}}},{key:"_showWarning",value:function(){this._warinigFrame||(this._warinigFrame=ee.default.new("warning_frame.png")),this._warinigFrame.playAndAddTo(this)}},{key:"_hideWarning",value:function(){this._warinigFrame&&this._warinigFrame.stopAndRemove()}},{key:"_showConcertFailureCutIn",value:function(){var e=this;this._music.stop(),this._hideWarning(),this._stageLayer.setFinishAnimation(),(0,de.default)(this._standIdol).addTo(this).on("middle",function(){e._voicePlayer.play("concert_mental_2")}).on("end",function(){e._endConcert(!0)})}},{key:"_checkConcertIsFinished",value:function(){return this._appealPhaseLayer.syncConcertData(this._concert.actors),this._concert.checkConcertIsFinished()}},{key:"_endConcert",value:function(e){delete this.update,e||this._voicePlayer.play("concert_finish");var t=this._concert.createResultRivals(),n=this._playerIdolList.findMyIdol().star;this._onEndConcert({rivals:t,isRetired:e,score:n})}},{key:"speedButton",get:function(){return this._speedButton}},{key:"pauseButton",get:function(){return this._pauseButton}},{key:"selectedCard",get:function(){return this._skillCardHand.selectedCard}}]),t}(aoba.Container);t.default=_e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"stageLayer",fullName:"stageLayer",pivot:{x:.5,y:.5},type:"container",x:568,y:320},{name:"turn",fullName:"turn",type:"container",x:0,y:0},{name:"pauseButton",fullName:"pauseButton",anchor:{x:.5,y:.5},type:"sprite",key:"pause_button.png",x:1098,y:38},{name:"speedButton",fullName:"speedButton",anchor:{x:.5,y:.5},
type:"sprite",key:null,x:1014,y:38},{name:"judgeList",fullName:"judgeList",type:"container",x:0,y:61},{name:"playerIdolList",fullName:"playerIdolList",type:"container",x:884,y:76},{name:"skillSelectLayer",fullName:"skillSelectLayer",type:"container",x:0,y:512},{name:"skillDetailList",fullName:"skillDetailList",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:452},{name:"timingGaugeGroup",fullName:"timingGaugeGroup",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:439}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(1),d=r(f),p=n(40),h=r(p),y=n(0),m=r(y),_=n(35),g=r(_),b=n(1057),v=r(b),w=n(1058),k=r(w),S=n(1059),I=r(S),E=n(1061),A=r(E),x=n(431),C=r(x),T=n(432),P=r(T),O=n(433),N=r(O),M={DAMAGE:"damage",BUFF:"buff",DEBUFF:"debuff",RECOVER:"recover"},R={LINK:"linkSkill",MEMORY:"memoryAppeal",SKILL:"normalSkill",NORMAL:"normalAttack"},D={IDOL:"idol",RIVAL:"rival",JUDGE:"judge"},F=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._judgeList=e.judgeList,n._playerIdolList=e.playerIdolList,n._standSupportIdols={},n._memorySkillMoviePath=""+d.default.env.ASSET_ROOT+e.centerIdol.getMoviePath("card_costume"),n._standIdol=null,n._movie=null,n}return s(t,e),l(t,[{key:"setCenterIdolSpine",value:function(e){this._standIdol=e}},{key:"showAttackOrders",value:function(e){var t=this;return aoba.soundManager.playSE(g.default.showAttackOrder),Promise.all(e.map(function(e,n){return t._findActorByAction(e).showAttackOrder(n+1)}))}},{key:"syncConcertData",value:function(e){var t=this;e.forEach(function(e){var n=t._findActorByAction(e);e.hp!==n.hp&&n.setGaugeValue(e.hp)})}},{key:"playActions",value:function(e){var t=this;return e.reduce(function(e,n){return e.then(function(){return t._playAction(n)})},Promise.resolve())}},{key:"initiateMovie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._memorySkillMoviePath;if(!e||e.length<=0)throw new Error('invalid video path: "'+e+'"');if(this._movie)throw new Error("movie is already initiated");return this._movie=m.default.MuteVideo.new(e),this._movie.pauseOnPlay()}},{key:"_findActorByAction",value:function(e){switch(e.role){case D.IDOL:return this.myPlayer;case D.RIVAL:return this._playerIdolList.findById(e.id);case D.JUDGE:return this._judgeList.findById(e.id);default:throw new Error("Unexpected action.role "+e.role)}}},{key:"_playAction",value:function(e){switch(e.role){case D.IDOL:return this._playIdolAction(e);case D.RIVAL:return this._playRivalAction(e);case D.JUDGE:return this._playJudgeAction(e);default:throw new Error("Unexpected action.role "+e.role)}}},{key:"_getOrCreateStandSupportIdol",value:function(e){var t=e.id;return this._standSupportIdols[t]||(this._standSupportIdols[t]=m.default.Spine.new(e.getSpinePath("stand_costume"))),this._standSupportIdols[t]}},{key:"_playIdolAction",value:function(e){var t=this,n=c.default.groupBy(e.targets,"actionType");return Object.keys(n).reduce(function(r,i){var a=n[i];switch(i){case R.LINK:return r.then(function(){return t._playIdolLinkSkillCutIn(e.skill,a)});case R.MEMORY:return r.then(function(){return t._playIdolMemorySkillCutIn(a)});case R.SKILL:case R.NORMAL:return r.then(function(){return t._playIdolSkillCutIn(e.skill,a,e.idol)});default:throw new Error("Unexpected actionType "+i)}},Promise.resolve()).then(function(){return t._onEndIdolAction(t.myPlayer,e.stars)})}},{key:"_playRivalAction",value:function(e){var t=this,n=this._playerIdolList.findById(e.rival.id),r=void 0;return r=e.isUsedMemoryAppeal?this._playRivalMemorySkillCutIn(e):this._playRivalNormalSkillEffect(e.targets,n),r.then(function(){return t._onEndIdolAction(n,e.stars)})}},{key:"_playJudgeAction",value:function(e){var t=this,n=e.id,r=e.normalAttackValue,a=e.isUsedSkill,o=e.targets,s=this._judgeList.findById(n),l=o.map(function(e){return t._playerIdolList.findRivalOrMyIdol(e.id)});return Promise.resolve().then(function(){return Promise.all(l.map(function(e){return e.goForward()}))}).then(function(){return s.showAttackComment(),Promise.all(l.map(function(e){return t._shootJudgeAttackParticle(s,e)}))}).then(function(){return Promise.all([s.act()].concat(i(o.map(function(e){var n=t._playerIdolList.findRivalOrMyIdol(e.id);return a?Promise.all(e.effects.map(function(e){return t._playJudgeSkillEffect(s,n,e)})):n.receiveDamage(r)}))))}).then(function(){return l.reduce(function(e,n){return n.isRetired?n.isPlayer?(t.emit("retired"),e.then(function(){return new Promise(function(e){})})):e.then(function(){return new Promise(function(e){(0,C.default)(n.character.getImagePath("active_skill_silhouette")).addTo(t).on("end",e)})}):e},Promise.resolve())}).then(function(){return Promise.all(l.map(function(e){return e.backFromForward()}))})}},{key:"_playRivalNormalSkillEffect",value:function(e,t){var n=this;return t.goForward().then(function(){return aoba.FrameTween.new(t).wait(5).call(function(){return t.backFromForward()}),Promise.all(e.map(function(e){var r=n._judgeList.findById(e.id);return n._shootRivalAttackParticle(t,r)}))}).then(function(){return Promise.all(e.map(function(e){return Promise.all(e.effects.map(function(t){return n._playJudgeDamageEffect(e,t)}))}))})}},{key:"_playRivalMemorySkillCutIn",value:function(e){var t=this,n=e.rival,r=e.skill,a=e.targets,o=I.default.new().addTo(this).play(r,n.character),s=a.map(function(e){var r=[],i=[];if(e.effects.forEach(function(e){e.effectType===M.DAMAGE?i.push(e):r.push(e)}),i.length>0){var a=i.reduce(function(e,t){return e+t.value},0),o=i.map(function(e){return e.data.attribute});r.push(Object.assign({},i[0],{value:a,attributes:o}))}return Promise.all(r.map(function(i,a){return aoba.FrameTween.new(t).wait(4*a).wait(4).call(function(){var o=t._playerIdolList.findById(n.id);return t._playPlayerIdolSkillEffect({playerIdol:o,target:e,effect:i,damageEffectCount:r.length,index:a})}).wait(30).promise()}))});return Promise.all([o].concat(i(s)))}},{key:"_onEndIdolAction",value:function(e,t){var n=this;return Promise.resolve().then(function(){return n._playBonusStars(t)}).then(function(){n.emit("endGainStars")}).then(function(){return n._judgeList.goAwayIfCompleted()})}},{key:"_playIdolSkillCutIn",value:function(e,t,n){var r=this,a=null,o=null;n.isFesIdol?a=n.isCenter?this._standIdol:this._getOrCreateStandSupportIdol(n):(a=this._standIdol,n.isCenter||(o=this._getOrCreateStandSupportIdol(n)));var s=A.default.new().addTo(this).play(e,a,o).then(function(e){a&&a.remove(),o&&o.remove(),e.destroy({children:!0})});this._playIdolSkillVoice(t,e.idol.characterId);var l=t.map(function(e){return Promise.all(e.effects.map(function(t,n){return aoba.FrameTween.new(r).wait(4*n).wait(10).call(function(){var i=e.effects.filter(function(e){return e.effectType===M.DAMAGE}).length;r._playPlayerIdolSkillEffect({playerIdol:r.myPlayer,target:e,effect:t,damageEffectCount:i,index:n,isMyPlayer:!0,hasSupportIdol:!!o})}).wait(60).promise()}))})
;return Promise.all([s].concat(i(l)))}},{key:"_playIdolSkillVoice",value:function(e,t){var n=this,r=[],i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=!0,f=!1,d=void 0;try{for(var p,h=u.effects[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var y=p.value;r.push(y.effectType)}}catch(e){f=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(f)throw d}}}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}if(r.includes(M.DAMAGE)){var m=e.some(function(e){return e.effects.some(function(t){var r=n._judgeList.findById(e.id);return t.value>=.1*r.maxHp})}),_=m?"concert_attack_2":"concert_attack_1";this.emit("playAppealVoice",{voiceId:_,characterId:t})}else r.includes(M.BUFF)?this.emit("playAppealVoice",{voiceId:"concert_buff",characterId:t}):r.includes(M.DEBUFF)&&this.emit("playAppealVoice",{voiceId:"concert_debuff",characterId:t})}},{key:"_playPlayerIdolSkillEffect",value:function(e){var t=this,n=e.playerIdol,r=e.target,i=e.effect,a=e.index,o=e.isMyPlayer,s=e.hasSupportIdol,l=this._judgeList.findById(r.id);switch(i.effectType){case M.DAMAGE:var u=o?N.default.shootIdolAttack:N.default.shootRivalMemoryAppeal;aoba.soundManager.playSE(g.default.showDamageText);var c=v.default.new(i.value),f=s?480:640,p=80*(1-r.effects.length)/2,y=d.default.SCREEN_CENTER.y+p+80*a,_=aoba.p(f,y);u(_,l.getGlobalPosition(),this).then(function(){c.destroy({children:!0}),t._playJudgeDamageEffect(r,i)}),c.addTo(this,_.x-28,_.y,{anchor:.5,scale:0}),c.appear();break;case M.BUFF:aoba.soundManager.playSE(g.default.showBuffEffect),n.addStatusEffect(i.data),m.default.playParticle(h.default.arrowUp,this,720,780,{scale:1.5});break;case M.DEBUFF:aoba.soundManager.playSE(g.default.showDebuffEffect),l.addStatusEffect(i.data);var b=l.getGlobalPosition();m.default.playParticle(h.default.arrowDown,this,b.x-40,b.y-100,{scale:.6});break;case M.RECOVER:aoba.soundManager.playSE(g.default.showRecoverEffect),n.recover(i.value),P.default.playIdolRecoverEffect().addTo(this);break;default:throw new Error("Unexpected effectType "+i.effectType)}}},{key:"_playIdolSpecialSkillEffect",value:function(e,t){var n=this.myPlayer,r=this._judgeList.findById(e.id);switch(t.effectType){case M.DAMAGE:return this._playJudgeDamageEffect(e,t,!0);case M.BUFF:aoba.soundManager.playSE(g.default.showBuffEffect);var i=n.getCenterGlobalPosition();return m.default.playParticle(h.default.idolBuff,this,i.x+100,i.y+10,{scale:.35}),n.addStatusEffect(t.data),aoba.FrameTween.new(this).wait(45).promise();case M.DEBUFF:aoba.soundManager.playSE(g.default.showDebuffEffect),r.addStatusEffect(t.data);var a=r.getGlobalPosition();return m.default.playParticle(h.default.arrowDown,this,a.x-40,a.y-120,{scale:.6}),aoba.FrameTween.new(this).wait(45).promise();case M.RECOVER:return aoba.soundManager.playSE(g.default.showRecoverEffect),n.recover(t.value),aoba.FrameTween.new(this).wait(45).promise();default:throw new Error("Unexpected effectType "+t.effectType)}}},{key:"_playJudgeSkillEffect",value:function(e,t,n){switch(n.effectType){case M.DAMAGE:return t.receiveDamage(n.value);case M.DEBUFF:var r=t.getCenterGlobalPosition();return m.default.playParticle(h.default.idolDebuff,this,r.x-100,r.y-60,{scale:.35}),t.addStatusEffect(n.data),Promise.resolve();case M.BUFF:var i=e.getGlobalPosition();return m.default.playParticle(h.default.arrowUp,this,i.x-40,i.y+60,{scale:.6}),e.addStatusEffect(n.data),Promise.resolve();case M.RECOVER:return Promise.resolve();default:throw new Error("Unexpected effectType "+n.effectType)}}},{key:"_playIdolSpecialSkillEffects",value:function(e){var t=this;return Promise.all(e.map(function(e){var n=[],r=[];if(e.effects.forEach(function(e){e.effectType===M.DAMAGE?r.push(e):n.push(e)}),r.length>0){var i=r.reduce(function(e,t){return e+t.value},0),a=r.map(function(e){return e.data.attribute});n.push(Object.assign({},r[0],{value:i,attributes:a}))}return Promise.all(n.map(function(n,r){return t._playIdolSpecialSkillEffect(e,n,r)}))}))}},{key:"_playJudgeDamageEffect",value:function(e,t,n){var r=this;return aoba.FrameTween.new(this).wait(6).call(function(){var i=v.default.new(t.value),a=r._judgeList.findById(e.id),o=!1;o=t.attributes?t.attributes.includes(a.attribute):t.data.attribute===a.attribute;var s=o||n;return a.receiveDamage(t.value,s),P.default.playJudgeDamageEffect(i,a,e.actionType,o,r)}).wait(10).promise()}},{key:"_playIdolLinkSkillCutIn",value:function(e,t){var n=this;aoba.soundManager.playSE(g.default.linkSkill);var r=e.linkSkill.linkSkillIdols,i=r.map(function(e){return e.getVoicePath("concert_link")});this.emit("playLinkVoice",i);var a=r.find(function(t){return t.idolId===e.idol.id}),o=r.filter(function(t){return t.idolId!==e.idol.id}),s=a.isCenter?this._standIdol:this._getOrCreateStandSupportIdol(a),l=o.map(function(e){return e.isCenter?n._standIdol:n._getOrCreateStandSupportIdol(e)}),u=k.default.new().addTo(this);return u.play(s,l).then(function(){return n._playIdolSpecialSkillEffects(t)}).then(function(){n.emit("endLinkSkill")}).then(function(){return aoba.Tween.new(n).wait(1).promise()}).then(function(){s.remove();var e=!0,t=!1,n=void 0;try{for(var r,i=l[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.remove()}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}u.destroy({children:!0})})}},{key:"_playIdolMemorySkillCutIn",value:function(e){var t=this;return new Promise(function(e){t.emit("playVoice","concert_memory_appeal_success_2"),aoba.soundManager.playSE(g.default.showMemoryCutIn),t._movie||t.initiateMovie(t._memorySkillMoviePath),t._movie.addTo(t),t._movie.show(),t._movie.resume(),t._movie.on("end",function(){t._movie.destroy(!0),t._movie=null,e()})}).then(function(){return t._playIdolSpecialSkillEffects(e)})}},{key:"_shootRivalAttackParticle",value:function(e,t){var n=e.getCenterGlobalPosition(),r=t.getGlobalPosition();return N.default.shootRivalAttack(n,r,this)}},{key:"_shootJudgeAttackParticle",value:function(e,t){var n=e.getGlobalPosition(),r=t.getCenterGlobalPosition();return N.default.shootJudgeAttack(n,r,this)}},{key:"_shootJudgeStarParticle",value:function(e,t){var n=e.getGlobalPosition(),r=t.getCenterGlobalPosition();return N.default.shootJudgeStar(n,r,this)}},{key:"_playBonusStars",value:function(e){var t=this;return e.reduce(function(e,n){return e.then(function(){return t._playBonusStar(n)})},Promise.resolve())}},{key:"_playBonusStar",value:function(e){var t=this,n=this._judgeList.findById(e.judgeId),r=this._playerIdolList.findRivalOrMyIdol(e.playerId);return r.goForward().then(function(){return n.showBonusComment(),n.giveBonus(e.starNum),n.showBonusEffect(e),t._shootJudgeStarParticle(n,r)}).then(function(){return r.isPlayer&&t.emit("playVoice","concert_last_appeal"),r.receiveBonus(e.starNum)}).then(function(){return r.backFromForward()})}},{key:"hasMemoryMovie",get:function(){return!!this._movie}},{key:"myPlayer",get:function(){var e=this;return this._myPlayer||(this._myPlayer=this._playerIdolList.findMyIdol(),this._myPlayer.on("playVoice",function(t){e.emit("playVoice",t)})),this._myPlayer}}]),t}(aoba.Container);t.default=F},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){
return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(36),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=.8,f=.64,d=45,p=36,h=1e3,y=function(e){function t(e){r(this,t);var n=c,a=d;e<h&&(n=f,a=p);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{imagePrefix:"damage_number_",originX:.5,interval:a,scaleX:n,scaleY:n}));return o.setNum(e),o}return a(t,e),o(t,[{key:"appear",value:function(){aoba.Tween.fromData(this,s.idolAttackDamageText.appear).promise()}},{key:"hit",value:function(e){return this.prefix="+",this.originX=1,this.setNum(this.number),this.setPosition(e.x,e.y),aoba.Tween.fromData(this,s.idolAttackDamageText.hit).promise()}}]),t}(u.default.ImageLabel);t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={2:{idolIndex:0,positions:[{imageNumber:"2",x:0,startY:640},{imageNumber:"3",x:230,startY:-640}]},3:{idolIndex:1,positions:[{imageNumber:"2",x:0,startY:640},{imageNumber:"3",x:230,startY:-640},{imageNumber:"2",x:460,startY:640}]},4:{idolIndex:2,positions:[{imageNumber:"2",x:0,startY:-640},{imageNumber:"3",x:230,startY:640},{imageNumber:"2",x:460,startY:-640},{imageNumber:"3",x:690,startY:640}]},5:{idolIndex:2,positions:[{imageNumber:"4",x:0,startY:-640},{imageNumber:"2",x:170,startY:640},{imageNumber:"1",x:400,startY:-640},{imageNumber:"2",x:650,startY:640},{imageNumber:"5",x:880,startY:-640}]}},c=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._idolGroup=aoba.Container.new(),e._text=aoba.Sprite.new("link_appeal_text.png").setPosition(l.default.SCREEN_CENTER.x,463).setProps({anchor:.5,scale:.9,alpha:0}),e}return a(t,e),o(t,[{key:"play",value:function(e,t){var n=this,r=u[t.length+1],i=[].concat(t);return i.splice(r.idolIndex,0,e),i.forEach(function(e,t){var i=r.positions[t],a=aoba.Sprite.new("link_skill_base_"+i.imageNumber+".png");a.addTo(n._idolGroup,i.x,i.startY),e.addTo(a,a.width/2,a.height/2+226),e.mask=aoba.Sprite.new("link_skill_base_"+i.imageNumber+".png"),e.mask.addTo(n._idolGroup,i.x+.03*a.width,0,{scale:aoba.p(.94,1)}),e.setAnimation(0,"skill3");var o=a.y>0?-1:1;aoba.Tween.new(a).by({y:206*o},66,"easeInQuart").by({y:434*o},264,"easeOutQuart")}),this._idolGroup.addTo(this,l.default.SCREEN_CENTER.x,0,{pivot:aoba.p(.5,0)}),this._text.addTo(this,l.default.SCREEN_CENTER.x,463,{anchor:.5,scale:.9,alpha:0}),new Promise(function(e){aoba.Tween.new(n._text).to({alpha:1,scaleX:1,scaleY:1},165).to({scaleX:1.1,scaleY:1.1},1980).call(function(){aoba.Tween.new(n).to({alpha:0},330).call(function(){i.forEach(function(e){e.mask=null,e.remove()}),e()})})})}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1060),u=r(l),c=n(430),f=r(c),d=n(36),p=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u.default));return e._silhouette=aoba.Sprite.new(),e.description.style.wordWrap=!0,e.description.style.wordWrapWidth=470,e.description.style.breakWords=!0,e}return o(t,e),s(t,[{key:"play",value:function(e,t){var n=this;return this.showSkillInfo(e),this.fadeInNameBase(),this.slideInIdols(t),this.slideInBase().then(function(){return n.destroy({children:!0})})}},{key:"slideInBase",value:function(){var e=this;return new Promise(function(t){aoba.Tween.fromData(e.base,d.rivalSkillCutIn.slideInBase).on("fadeOut",function(){return e.fadeOut().then(t)})})}},{key:"slideInIdols",value:function(e){var t=this._silhouette;t.texture=aoba.Texture.fromImage(e.getImagePath("active_skill_silhouette")),t.addTo(this.standIdolsLayer,t.width,0),aoba.Tween.fromData(t,d.rivalSkillCutIn.slideInIdol)}},{key:"showSkillInfo",value:function(e){this.description.text=e.comment}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"rival_active_skill_cutin_base.png",x:60,y:0},{children:[{name:"nameBase",fullName:"skillInfo/nameBase",type:"sprite",key:"rival_skill_name_base.png",x:0,y:0},{name:"description",fullName:"skillInfo/description",anchor:{x:1,y:.5},type:"text",text:"\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\r\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\r\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044\u3046\u3048\u304a\u3042\u3044",style:{fill:8289918,fontFamily:"UDKakugo_SmallPr6-B",fontSize:26},rotation:0,x:626,y:115}],name:"skillInfo",fullName:"skillInfo",type:"container",x:182,y:440}],name:"",fullName:"",type:"container",x:320,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1062),c=r(u),f=n(430),d=r(f),p=n(36),h={SINGLE:"skill1",TWO:"skill2"},y=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c.default));return e.name.style.fontSize=28,e}return s(t,e),l(t,[{key:"play",value:function(e,t,n){var r=this;return this.showSkillInfo(e),this.fadeInNameBase(),this.slideInIdols(t,n),this.slideInBase().then(function(){return r})}
},{key:"slideInBase",value:function(){var e=this;return new Promise(function(t){return aoba.Tween.fromData(e.base,p.playerSkillCutIn.slideInBase).on("fadeOut",function(){return e.fadeOut().then(t)})})}},{key:"slideInIdols",value:function(e,t){t?(this._slideInIdol(t,h.TWO,1240),this._slideInIdol(e,h.TWO,1540,3)):this._slideInIdol(e,h.SINGLE,1440)}},{key:"_slideInIdol",value:function(e,t,n,r){var a=[].concat(i(p.playerSkillCutIn.slideInIdol));e.setAnimation(0,t),e.addTo(this.standIdolsLayer,n,620),r&&a.unshift({wait:r}),aoba.Tween.fromData(e,a)}},{key:"showSkillInfo",value:function(e){this.name.text=e.name}}]),t}(d.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"player_active_skill_cutin_base.png",x:40,y:0},{children:[{name:"nameBase",fullName:"skillInfo/nameBase",anchor:{x:1,y:.5},type:"sprite",key:"player_skill_name_base.png",x:634,y:67},{name:"name",fullName:"skillInfo/name",anchor:{x:1,y:.5},type:"text",text:"\u30b9\u30ad\u30eb\u540d\u306f\u6700\u592720\u6587\u5b57\u3002\u53f3\u5bc4\u305b",style:{fill:16729856,fontFamily:"HummingStd-E",fontSize:28},rotation:0,x:618,y:99}],name:"skillInfo",fullName:"skillInfo",type:"container",x:163,y:484}],name:"",fullName:"",type:"container",x:339,y:0}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),a=r(i),o=n(0),s=r(o),l=function(){var t=aoba.Container.new(),n=s.default.playParticle(a.default.recoverSkill.wave,t,640,600);n.once("destroyed",function(){t.destroy({children:!0})});var r=aoba.FrameTween.new(n);e(2).times(function(){r=r.by({x:400},8,"easeInQuart").by({x:-400},8,"easeInQuart")}),r.call(function(){n.stopAndDestroy()}),s.default.playParticle(a.default.recoverSkill.note,t,640,600),s.default.playParticle(a.default.flashLine3,t,740,380),aoba.FrameTween.createBlank().wait(1).call(function(){s.default.playParticle(a.default.twinkle,t,780,340)});var i=aoba.Sprite.new("recover_skill_icon.png").addTo(t,820,480,{alpha:0,anchor:.5,scale:aoba.p(0,1.2)});return aoba.FrameTween.new(i).to({alpha:1,scaleX:1.4,scaleY:1.4},3).to({scaleX:0,scaleY:1.2},3).to({scaleX:1.4,scaleY:1.4},3).call(function(){var e=aoba.Sprite.new(i.texture).addTo(t,i.x,i.y,{alpha:0,anchor:.5,blendMode:aoba.BLEND_MODES.ADD});aoba.FrameTween.new(e).to({alpha:1,scaleX:1.5,scaleY:1.5},3).to({alpha:0,scaleX:2,scaleY:2},5),aoba.FrameTween.new(e).by({y:-22},9)}).wait(4).to({alpha:0},5),aoba.FrameTween.new(i).by({y:-88},9).by({y:-22},9),t};t.default=l}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={linkSkill:{image:"images/ui/concert/effects/judge_damaged.png",width:88,height:148},memoryAppeal:{image:"images/ui/concert/effects/judge_damaged.png",width:88,height:148},normalSkill:{image:"images/ui/concert/effects/judge_damaged.png",width:88,height:148},normalAttack:{image:"images/ui/concert/effects/judge_damaged.png",width:88,height:148}},i=function(e,t,n,i,a){var o=t.getDamageTextPosition();if(e.addTo(a),i){o.y+=30;var s=aoba.Sprite.new("damage_excellent.png").addToAt(a,e,o.x+123,o.y-48,{anchor:.5,scale:0});aoba.FrameTween.new(s).to({scaleX:1,scaleY:1},8,"easeOutBack").wait(6).to({alpha:0},10).call(function(){s.destroy({children:!0})})}e.hit(o).then(function(){return e.destroy({children:!0})});var l=r[n],u=t.getGlobalPosition();return aoba.FrameAnimation.new(l.image,l.width,l.height,{fps:30}).addTo(a,u.x,u.y,{anchor:.5,scale:2}).play()};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(4),c=r(u),f=n(1066),d=r(f),p=n(36),h=n(115),y=r(h),m=n(1067),_=r(m),g=n(1069),b=r(g),v=n(1070),w=r(v),k=n(1071),S=r(k),I=n(434),E=r(I),A=n(35),x=r(A),C={vocal:{base:"judge_image_vocal.png",appealBonus:"text_appeal_vocal.png"},dance:{base:"judge_image_dance.png",appealBonus:"text_appeal_dance.png"},visual:{base:"judge_image_visual.png",appealBonus:"text_appeal_visual.png"}},T=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=aoba.Container.new(),o=void 0===e.currentScore?0:e.score-e.currentScore,s=r.fromData(d.default,{image:{key:C[e.attribute].base},interestingGauge:y.default.new("interesting_gauge.png",{maxValue:e.score,value:o}),statusEffectList:E.default.new(),trend:_.default.new(e.order),targetArrow:{class:S.default}});r.addTo(n,r.width/2,r.height/2,{pivot:.5});var l=s.image,u=s.trend,c=s.interestingGauge,f=s.statusEffectList,p=s.targetArrow;return n._attackOrderX=80,n._attackOrder=aoba.Sprite.new().setPosition(n._attackOrderX,12).setProps({alpha:0}),n._comment=b.default.new(null,e.attribute).setPosition(l.x+104,l.y+56).setAnchor(0,.5),n._bonusEffect=w.default.new("text_star_bonus.png",C[e.attribute].appealBonus).setPosition(l.x+172,l.y+112).setAnchor(.5),n._positiveEffectRect=aoba.Graphics.new().beginFill(16777215).drawRoundedRect(l.x,l.y,l.width,l.height,12),n._attackEffectRect=aoba.Graphics.new().beginFill(16711680).drawRoundedRect(l.x,l.y,l.width,l.height,12),n._id=e.id,n._attribute=e.attribute,n._maxHp=e.score,n._actionComments=[e.actionComment,e.actionComment2],n._reactionComment=e.reactionComment,n._main=r,n._image=l,n._trend=u,n._interestingGauge=c,n._statusEffectList=f,n._targetArrow=p,n.interactive=!0,n._targetArrow.remove(),n._retainedContainers=[n._attackOrder,n._comment,n._bonusEffect,n._positiveEffectRect,n._attackEffectRect,n._targetArrow],n.once("added",function(){o===e.score&&n.hide()}),n}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){var e=!0,n=!1,r=void 0;try{for(var i,a=this._retainedContainers[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;o&&o.destroy({children:!0})}}catch(e){n=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"setGaugeValue",value:function(e){this._interestingGauge.setValue(this._maxHp-e)}},{key:"showTargetArrow",value:function(){this._targetArrow.parent||(this._targetArrow.addTo(this),this._targetArrow.playSwing(),this._trend&&this._trend.show())}},{key:"hideTargetArrow",value:function(){this._targetArrow.stopSwing(),this._targetArrow.remove()}},{key:"hideTrend",value:function(){this._trend&&this._trend.hide()}},{key:"goAway",value:function(){var e=this;return new Promise(function(t){aoba.Tween.new(e._main).to({scaleX:-1},165).wait(99).call(function(){aoba.Tween.new(e._main).by({x:-100},363,"easeInOutQuad")}).to({scaleX:0,scaleY:0,alpha:0},363).call(function(){e.hide(),t()})})}},{key:"addStatusEffect",value:function(e){var t=aoba.Sprite.new("skill_effects/icon/"+e.iconImage+".png");this._statusEffectList.addIcon(t)}},{key:"updateStatusEffectList",value:function(e){var t=this;this._statusEffectList.destroyChildren(),
this._statusEffects=[],e.forEach(function(e){t.addStatusEffect(e)})}},{key:"showAttackComment",value:function(){var e=this._actionComments.length,t=this._actionComments[Math.floor(Math.random()*e)];return this._showComment(b.default.TYPES.ATTACK,t)}},{key:"showBonusComment",value:function(){return this._showComment(b.default.TYPES.BONUS,this._reactionComment)}},{key:"_showComment",value:function(e,t){return this._comment.addTo(this._main),this._comment.play(e,t)}},{key:"showBonusEffect",value:function(e){return this._bonusEffect.addContent(e,this._main),this._bonusEffect.addTo(this._main),this._bonusEffect.play()}},{key:"giveBonus",value:function(){var e=this;aoba.soundManager.playSE(x.default.giveBonus1);var t=aoba.soundManager.playSE(x.default.giveBonus2,{loop:!0});this._positiveEffectRect.addTo(this._main);var n=aoba.Tween.new(this._positiveEffectRect);return(0,c.default)(3).times(function(){n.call(function(){e._positiveEffectRect.alpha=.43}).to({alpha:0},462)}),n.call(function(){t.stop(),e._positiveEffectRect.remove()}).promise()}},{key:"setAsTarget",value:function(){this._targetArrow.setAsTarget();var e=aoba.Texture.fromImage("judge_target_frame.png"),t=this._image.x+this._image.width/2,n=this._image.y+this._image.height/2;this._targetFrame=aoba.Sprite.new(e).addToAt(this,this._targetArrow,t,n,{anchor:.5});var r=aoba.Sprite.new(e).addToAt(this,this._targetArrow,t,n,{anchor:.5});aoba.Tween.fromData(r,p.judge.targetFrame).call(function(){return r.destroy()})}},{key:"hideTargetFrame",value:function(){this._targetFrame&&aoba.Tween.fromData(this._targetFrame,p.judge.hideAttackOrder),this._targetArrow.disappear()}},{key:"showAttackOrder",value:function(e){return this._attackOrder.texture=aoba.Texture.fromImage("attack_order_"+e+".png"),this._attackOrder.addTo(this),aoba.Tween.fromData(this._attackOrder,p.judge.showAttackOrder).promise()}},{key:"hideAttackOrder",value:function(){var e=this;return aoba.Tween.fromData(this._attackOrder,p.judge.hideAttackOrder).call(function(){e._attackOrder.remove(),e._attackOrder.x=e._attackOrderX}).promise()}},{key:"act",value:function(){var e=this;this._attackEffectRect.addTo(this._main);var t=aoba.FrameTween.new(this._attackEffectRect);return(0,c.default)(2).times(function(){t.call(function(){e._attackEffectRect.alpha=.43}).to({alpha:0},12)}),t.call(function(){return e._attackEffectRect.remove()}).promise()}},{key:"receiveDamage",value:function(e,t){var n=this;if(!this._playingSE){var r=t?x.default.idolSpecialAttack:x.default.idolNormalAttack;aoba.soundManager.playSE(r),this._playingSE=!0}this._positiveEffectRect.addTo(this._main),this._positiveEffectRect.alpha=.43,aoba.FrameTween.new(this._positiveEffectRect).to({alpha:0},10).call(function(){n._playingSE=!1,n._positiveEffectRect.remove()}),this._interestingGauge.increase(e)}},{key:"getDamageTextPosition",value:function(){var e=this.getGlobalPosition();return e.x+=54,e.y+=5,e}},{key:"id",get:function(){return this._id}},{key:"attribute",get:function(){return this._attribute}},{key:"maxHp",get:function(){return this._maxHp}},{key:"hp",get:function(){return this._interestingGauge.maxValue-this._interestingGauge.value}},{key:"completed",get:function(){return 1===this._interestingGauge.rate}}]),t}(aoba.Container);t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"image",fullName:"image",type:"sprite",key:"judge_image_vocal.png",x:9,y:16},{name:"interestingGaugeBase",fullName:"interestingGaugeBase",type:"sprite",key:"interesting_gauge_base.png",x:18,y:129},{name:"interestingGauge",fullName:"interestingGauge",type:"sprite",key:"interesting_gauge.png",x:18,y:129},{name:"statusEffectList",fullName:"statusEffectList",type:"container",x:20,y:104},{name:"targetArrow",fullName:"targetArrow",anchor:{x:.5,y:.5},type:"sprite",key:"judge_target_arrow.png",x:156,y:84},{name:"trend",fullName:"trend",type:"container",x:0,y:0}],name:"",fullName:"",type:"container",x:0,y:61}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(1068),c=r(u),f=3,d={1:{fill:16640578,value:2},2:{fill:15130863,value:1.5},3:{}},p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r={order:{key:"trend_order_"+e+".png"}},o=d[e];e&&e!==f?(r.bonusBase={key:"trend_bonus_base_"+e+".png"},r.bonusValue={text:l.default.t("judgeTrend.bonusValue",{value:o.value}),dx:2}):(r.bonusBase=null,r.bonusValue=null);var s=n.fromData(c.default,r),u=s.bonusValue;return u&&(u.style.fill=o.fill),n}return o(t,e),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"order",fullName:"order",type:"sprite",key:null,x:1,y:0},{name:"bonusBase",fullName:"bonusBase",type:"graphics",fill:0,alpha:1,width:60,height:18,shape:"roundedRect",round:9,x:0,y:40},{name:"bonusValue",fullName:"bonusValue",anchor:{x:.5,y:0},type:"text",text:"\u26052\u500d",style:{fill:16771328,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:28,y:41}],name:"",fullName:"",type:"container",x:0,y:61}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={fill:16777215,fontSize:16,fontFamily:"UDKakugo_SmallPr6-B",wordWrap:!0,wordWrapWidth:140,breakWords:!0},l={ATTACK:"attack",BONUS:"bonus"},u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._attribute=n,a._commentText=aoba.Text.new("",s).addTo(a,40,-12),a.scale.set(0),a}return a(t,e),o(t,[{key:"play",value:function(e,t){return this.texture=aoba.Texture.fromImage("judge_comment_"+e+"_"+this._attribute+".png"),this._commentText.text=t,aoba.FrameTween.new(this).to({scaleX:.95,scaleY:.95},4).to({scaleX:1,scaleY:1},31).to({alpha:0},7).call(this._reset,this).promise()}},{key:"_reset",value:function(){this.remove(),this.scale.set(0),this.alpha=1}}],[{key:"TYPES",get:function(){return l}}]),t}(aoba.Sprite);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={fontSize:28,fontFamily:"HummingStd-E",fill:16777215,strokeThickness:8},l={APPEAL_BONUS:"appealBonus",TOP:"top",FINISH:"finish",OVER:"over"},u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._normaltexture=a.texture,a._specialTexture=aoba.Texture.fromImage(n),a}return a(t,e),o(t,[{key:"play",value:function(){return this.scale.set(3.5),aoba.FrameTween.new(this).to({scaleX:1,scaleY:1},5,"easeInOutQuad"),aoba.FrameTween.new(this).to({alpha:1},6).wait(24).to({alpha:0},5).call(this._reset,this).promise()}},{key:"addContent",value:function(e,t){if(e.category===l.APPEAL_BONUS)this.texture=this._normaltexture,this.x=t.x+t.width+this.width/2-48,aoba.Sprite.new("concert_star_icon.png").addTo(this,this.width/2+14,4,{anchor:.5,scale:1.2}),aoba.Text.new("\xd7"+e.starNum,Object.assign({stroke:13643326},s)).addTo(this,(this.width+108)/2,4,{anchor:.5});else{this.texture=this._specialTexture;var n=aoba.Sprite.new("text_"+e.category+"_appeal.png");n.addTo(this,-(this.width+n.width)/2+12,-4,{anchor:aoba.p(.5,.5)}),this.x=t.x+t.width+(this.width+n.width)/2,aoba.Sprite.new("concert_star_icon.png").addTo(this,this.width/2+14,0,{anchor:.5,scale:1.2}),aoba.Text.new("\xd7"+e.starNum,Object.assign({stroke:13643326},s)).addTo(this,(this.width+108)/2,0,{anchor:.5})}}},{key:"_reset",value:function(){this.remove(),this.removeChildren(),this.alpha=1}}]),t}(aoba.Sprite);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(36),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.on("added",n._storeDefaultPosition,n),n}return a(t,e),o(t,[{key:"_storeDefaultPosition",value:function(){this._defaultX=this.x,this._selectedX=this.x-10}},{key:"playSwing",value:function(){this._swingTween=aoba.Tween.fromData(this,s.judge.moveArrow).loop()}},{key:"stopSwing",value:function(){this._swingTween&&this._swingTween.remove(),this.x=this._defaultX}},{key:"setAsTarget",value:function(){this.scale.set(1.1),this._swingTween&&this._swingTween.remove(),this.x=this._selectedX}},{key:"disappear",value:function(){return aoba.Tween.fromData(this,s.judge.hideAttackOrder).call(this._reset,this).promise()}},{key:"_reset",value:function(){this.alpha=1,this.scale.set(1),this.x=this._defaultX,this.remove()}}]),t}(aoba.Sprite);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(36),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._selectedJudge=null,e._isArrowVisible=!1,e}return a(t,e),o(t,[{key:"addJudge",value:function(e){var t=this;e.pivot.set(e.width/2,e.height/2);var n=this.children.length;e.addTo(this,e.width/2,e.height/2+148*n),e.on("tap",function(){return t.emit("select",e)})}},{key:"setTargetJudge",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.hideTrend(),o!==e&&o.hideTargetArrow()}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}e.setAsTarget(),this._selectedJudge=e}},{key:"goAwayIfCompleted",value:function(){this.children.forEach(function(e){e.completed&&e.goAway()})}},{key:"updateStatusEffectList",value:function(e){var t=this;e.forEach(function(e){t.findById(e.id).updateStatusEffectList(e.statusEffects)})}},{key:"showTargetArrows",value:function(){this._isArrowVisible=!0,this.children.forEach(function(e){return e.showTargetArrow()})}},{key:"hideTargetArrows",value:function(){this._isArrowVisible=!1,this.children.forEach(function(e){return e.hideTargetArrow()})}},{key:"hideAttackOrders",value:function(){this.children.forEach(function(e){return e.hideAttackOrder()})}},{key:"hideTargetFrame",value:function(){this.children.forEach(function(e){return e.hideTargetFrame()})}},{key:"slideIn",value:function(){return aoba.Tween.fromData(this,s.judgeList.slideIn).promise()}},{key:"slideDown",value:function(){return aoba.Tween.fromData(this,s.judgeList.slideDown).promise()}},{key:"slideUp",value:function(){return aoba.Tween.fromData(this,s.judgeList.slideUp).promise()}},{key:"findById",value:function(e){return this.children.find(function(t){return t.id===e})}},{key:"selectedJudge",get:function(){return this._selectedJudge}},{key:"completed",get:function(){return!this.children.some(function(e){return!e.completed})}},{key:"isArrowVisible",get:function(){return this._isArrowVisible}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this._sound=t}return i(e,[{key:"start",value:function(){aoba.Tween.new(this._sound.resume()).to({volume:.5},120)}},{key:"stop",value:function(){aoba.Tween.new(this._sound).to({volume:0},1600)}},{key:"pause",value:function(){this._sound.pause()}},{key:"resume",value:function(){var e=this._sound,t=e._currentTime,n=e._loopEnd;t>=n&&(this._sound._currentTime=t%n),this._sound.resume()}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(436),u=r(l),c=n(35),f=r(c),d=n(0),p=r(d),h=n(40),y=r(h),m=1e3,_=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._maxValue=n.maxValue||m,r._value=n.value||0,r._beforeValue=r._value,r._animSpeed=.005,r.mask=aoba.Graphics.new().beginFill(0).moveTo(0,0).arc(0,0,0,0,0).closePath().addTo(r),r._updateMaskWithAngle(2*Math.PI*r.valueRate),r}return o(t,e),s(t,[{key:"setValue",value:function(e){this._beforeValue=this._value,this._value=Math.max(Math.min(e,this._maxValue),0),this._updateMask()}},{key:"_updateMask",value:function(){var e=this,t=2*Math.PI*this.beforeValueRate,n=2*Math.PI*this.valueRate,r=n>t;this.update=function(i){t=r?Math.min(t+i*e._animSpeed,n):Math.max(t-i*e._animSpeed,n),e._updateMaskWithAngle(t),t===n&&(delete e.update,e.emit("endUpdate"))}}},{key:"_updateMaskWithAngle",value:function(e){var t=-90*aoba.DEG_TO_RAD;this.mask.clear().beginFill(0).moveTo(0,0).arc(0,0,this.radius,t,e+t).closePath()}},{key:"radius",get:function(){return this.width/2}},{key:"valueRate",get:function(){return this._value/this._maxValue}},{key:"beforeValueRate",get:function(){return this._beforeValue/this._maxValue}},{key:"isFull",get:function(){return this._value===this._maxValue}}]),t}(aoba.Sprite),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(u.default,{gauge:_.new("memory_skill_gauge.png",{value:e})}),o=r.gauge;return n._gauge=o,n}return o(t,e),s(t,[{key:"increaseTo",value:function(e){var t=this;if(this._gauge.isFull)return Promise.resolve();aoba.soundManager.playSE(f.default.increaseMemory);var n=p.default.playParticle(y.default.memoryAppealGauge.heart1,this,0,0);return this._gauge.setValue(e),aoba.FrameTween.new(this).to({scaleX:1.16,scaleY:1.16},6,"easeInOutQuad"),new Promise(function(e){t._gauge.once("endUpdate",function(){aoba.FrameTween.new(n.container).wait(6).to({alpha:0},6,"easeInOutQuad").call(function(){n.destroy()}),t._gauge.isFull?(aoba.FrameTween.new(t).to({scaleX:1.5,scaleY:1.5},3,"easeInOutQuad").wait(7).to({scaleX:1,scaleY:1},9,"easeInOutQuad").wait(3).call(e),t.emit("gaugeFull")):aoba.FrameTween.new(t).wait(6).to({scaleX:1,scaleY:1},6,"easeInOutQuad").call(e)})})}},{key:"consume",value:function(){return this._gauge.setValue(0)}},{key:"gauge",get:function(){return this._gauge}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(257),u=r(l),c=n(436),f=r(c),d=n(36),p=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fromData(f.default,{gauge:null}),e}return o(t,e),s(t,[{key:"increaseTo",value:function(e){}},{key:"consume",value:function(){}}]),t}(aoba.Container),h=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(u.default,{skillCardBase:{key:"skill_card_base.png"},skillCardIdol:{key:e},skillIcon:p.new()}),s=o.skillCardBase,l=o.skillCardIdol,c=o.skillIcon;return r._skillCardBase=s,r._memorySkillGroup=c,n||(r._memorySkillGroup.y+=112),r._selected=!1,r._skillId=0,r._idolId=0,r._isMemoryAppeal=!0,s.tint=6710886,l.tint=6710886,r}return o(t,e),s(t,[{key:"updateAvailability",value:function(){}},{key:"slideUp",value:function(){return aoba.Tween.fromData(this._memorySkillGroup,d.memorySkillCard.slideUp),aoba.Tween.fromData(this,d.memorySkillCard.slideUp)}},{key:"select",value:function(){}},{key:"updateLinkSkillState",value:function(){}},{key:"cancel",value:function(){}},{key:"increaseGaugeTo",value:function(){}},{key:"disabled",get:function(){return this._disabled}},{key:"selected",get:function(){return this._selected}},{key:"isMemoryAppeal",get:function(){return this._isMemoryAppeal}},{key:"skillId",get:function(){return this._skillId}},{key:"idolId",get:function(){return this._idolId}},{key:"memorySkillGroup",get:function(){return this._memorySkillGroup}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._iconList=aoba.Container.new().addTo(e),e._effectLayer=aoba.Container.new().addTo(e),e}return a(t,e),o(t,[{key:"playIconEffect",value:function(e){var t=this,n=aoba.Sprite.new(e.getImagePath()),r=.72*n.width/2+36*this._iconList.children.length,i=.72*n.height/2;return n.addTo(this._iconList,r,i,{anchor:.5,scale:0}),new Promise(function(e){aoba.FrameTween.new(n).to({scaleX:.72,scaleY:.72},5,"easeInOutQuad").to({scaleX:.792,scaleY:.792},2,"easeInOutQuad").call(function(){var e=aoba.Sprite.new(n.texture);e.addTo(t._effectLayer,r,i,{anchor:.5,blendMode:aoba.BLEND_MODES.ADD}),aoba.FrameTween.new(e).to({alpha:0,scaleX:1.44,scaleY:1.44},8).call(function(){return e.destroy()})}).to({scaleX:.72,scaleY:.72},4,"easeInOutQuad").wait(429).call(e)})}},{key:"fadeOut",value:function(){var e=this;return new Promise(function(t){return aoba.Tween.new(e).to({alpha:0},132).call(function(){e._iconList.destroyChildren(),e.alpha=1,t()})})}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(4),c=r(u),f=n(13),d=r(f),p=n(1078),h=r(p),y=n(434),m=r(y),_=n(36),g=n(3),b=r(g),v=n(40),w=r(v),k=n(0),S=r(k),I=n(438),E=r(I),A=n(35),x=r(A),C=n(402),T=r(C),P={normal:"text_timing_normal.png",good:"text_timing_good.png",perfect:"text_timing_perfect.png",miss:"text_timing_bad.png"},O=function(e){return d.default.pad(e,2,"0")},N=function(){var e=aoba.FrameAnimation.new("images/ui/concert/effects/player_idol.png",73,34,{fps:30,keep:!0});return e.setProps({visible:!1,scale:3.4,blendMode:aoba.BLEND_MODES.ADD}),e.on("end",function(){e.hide()}),e},M=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.id,o=e.character,s=e.name,l=e.mental,u=e.currentMental,c=e.currentStar,f=e.isPlayer;n._mental=void 0===u?l:u,n._maxMental=l,n._star=c||0,n._statusEffects=[];var d=void 0,p=void 0;f?(d="idol_base_player.png",p=o.getImagePath("concert_player_icon")):(d="idol_base_rival.png",p=o.getImagePath("concert_rival_icon"));var y=aoba.Text.new(O(n._star),{fontSize:22,fill:[16710310,16563510],stroke:2236962,strokeThickness:6,letterSpacing:4,fontStyle:"italic",fontWeight:"bold"});n._main=aoba.Container.new();var _={base:{key:d},idolImage:{key:p,dx:-16},producerName:{text:s},starCount:{instance:y,anchor:.5,dx:4,dy:0},mentalGroup:E.default.new(n._mental,n._maxMental),statusEffectList:m.default.new()},g=n._main.fromData(h.default,_);if(g.producerName.text=T.default.create(s,g.producerName.style,5*g.producerName.style.fontSize),f){var b=N().addTo(n._main,4,-24);aoba.FrameTween.new(n).call(function(){b.show(),b.play()}).wait(60).loop()}n._main.addTo(n,0,0),n._attackResultY=60,n._attackResult=aoba.Sprite.new(),n._attackResult.position.set(12,n._attackResultY),n._attackResult.setProps({scale:.4,anchor:aoba.p(1,.5),alpha:0}),n._attackOrderX=-26,n._attackOrder=aoba.Sprite.new().setPosition(n._attackOrderX,2).setProps({alpha:0}),window.att=n._attackOrder;var v=g.base,w=g.concertStarIcon,k=g.mentalGroup,S=g.statusEffectList,I=aoba.Sprite.new().setPosition(-14,26).setProps({anchor:aoba.p(.5,1),alpha:0});return n._id=r,n._character=o,n._isPlayer=f,n._base=v,n._mentalGroup=k,n._statusEffectList=S,n._starIcon=w,n._starCount=y,n._rankingIcon=I,n._retainedContainers=[n._attackResult,n._attackOrder,n._rankingIcon],n._mentalGroup.once("gaugeEmpty",n._retire,n),n.once("added",function(){if(n._mentalGroup.isWarning&&n.emit("enterWarning"),0===n._mental)n._addRetireOverlay().alpha=.7,n._addRetireText()}),n}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){var e=!0,n=!1,r=void 0;try{for(var i,a=this._retainedContainers[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;o&&o.destroy({children:!0})}}catch(e){n=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"goForward",value:function(){var e=this;return new Promise(function(t){return aoba.Tween.fromData(e._main,_.playerIdol.goForward).call(t)})}},{key:"backFromForward",value:function(){var e=this;return new Promise(function(t){return aoba.Tween.fromData(e._main,_.playerIdol.backFromForward).call(t)})}},{key:"receiveBonus",value:function(e){var t=this,n=aoba.Sprite.new(this._starIcon.texture).addTo(this._main,this._starIcon.x,this._starIcon.y+-40,{scale:1.2}),r=aoba.Text.new(this._star,this._starCount.style).addTo(this._main,this._starCount.x,this._starCount.y+-40,{scale:1.2});aoba.FrameTween.new(r).wait(6).by({y:-4},2).call(function(){t._star+=e,r.text=O(t._star),t._starCount.text=r.text}).by({y:4},2).wait(20).call(function(){n.destroy(),r.destroy()});var i=aoba.Sprite.new(this._base.texture).addTo(this._main,this._base.x,this._base.y,{blendMode:aoba.BLEND_MODES.ADD}),a=aoba.FrameTween.new(i);return(0,c.default)(3).times(function(){a.call(function(){i.alpha=.8}).to({alpha:0},10)}),S.default.playParticle(w.default.idolGainStar,this._main,0,30),aoba.FrameTween.createBlank().wait(1).call(function(){S.default.playParticle(w.default.twinkle,t._main,60,-20)}),a.call(function(){return i.destroy()}).promise()}},{key:"receiveDamage",value:function(e){var t=this;if(aoba.soundManager.playSE(x.default.idolReceiveDamage,{volume:.1}),this._isPlayer){var n=this._mentalGroup.isWarning;this._mentalGroup.decrease(e);var r=this._mentalGroup.isWarning,i=void 0;if(!n&&r)this.emit("enterWarning"),i="concert_mental_1";else i=e>=.2*this._maxMental?"concert_damage_2":"concert_damage_1";this.emit("playVoice",i)}else this._mentalGroup.decrease(e);aoba.FrameAnimation.new("images/ui/concert/effects/idol_damaged.png",105,31,{fps:30}).addTo(this._main,0,0,{scale:2.38}).play(),aoba.FrameAnimation.new("images/ui/concert/effects/idol_damaged_sad.png",32,32,{fps:30}).addTo(this._main,200,-32,{scale:2}).play();var a=aoba.FrameTween.new(this._main);return(0,c.default)(6).times(function(){a.by({x:-6},2).by({x:6},2)}),new Promise(function(e){return a.call(function(){return e(t)})})}},{key:"recover",value:function(e){var t=this._mentalGroup.isWarning;this._mentalGroup.increase(e);var n=this._mentalGroup.isWarning;t&&!n&&this.emit("leaveWarning"),aoba.soundManager.playSE(x.default.showRecoverEffect),aoba.FrameAnimation.new("images/ui/concert/effects/idol_recover.png",100,50,{fps:30}).addTo(this._main,this._main.width/2,this._main.height/2,{scale:3,blendMode:aoba.BLEND_MODES.ADDs}).play()}},{key:"setGaugeValue",value:function(e){this._mentalGroup.setValue(e)}},{key:"showRankingIcon",value:function(e){this._rankingIcon.texture=aoba.Texture.fromImage("concert_ranking_"+e+".png"),this._rankingIcon.addTo(this._main),aoba.FrameTween.new(this._rankingIcon).to({alpha:1},3)}},{key:"hideRankingIcon",value:function(){var e=this;aoba.FrameTween.new(this._rankingIcon).to({alpha:0},3).call(function(){return e._rankingIcon.remove()})}},{key:"showAttackOrder",value:function(e){var t=this;return this._order=e,this._attackOrder.texture=aoba.Texture.fromImage("attack_order_"+e+".png"),this._attackOrder.addTo(this._main),new Promise(function(e){return aoba.Tween.fromData(t._attackOrder,_.playerIdol.showAttackOrder).call(e)})}},{key:"showAttackResult",value:function(e){this._attackResult.texture=aoba.Texture.fromImage(P[e.result]),this._attackResult.addTo(this),e.isUsedMemoryAppeal&&(window.heart=aoba.Sprite.new("memory_skill_icon.png").addTo(this._attackResult,2.6*-this._attackResult.width,0,{anchor:.5})),aoba.Tween.fromData(this._attackResult,_.playerIdol.showAttackResult)}},{key:"hideAttackResult",value:function(){var e=this;return aoba.FrameTween.new(this._attackResult).to({alpha:0},7).call(function(){e._attackResult.y=e._attackResultY,e._attackResult.destroyChildren()}).promise()}},{key:"hideAttackOrder",value:function(){var e=this;return aoba.Tween.fromData(this._attackOrder,_.playerIdol.hideAttackOrder).call(function(){e._attackOrder.remove(),e._attackOrder.x=e._attackOrderX}).promise()}},{key:"addStatusEffect",value:function(e){if(!this._statusEffects.includes(e)){this._statusEffects.push(e);var t=aoba.Sprite.new("skill_effects/icon/"+e.iconImage+".png");this._statusEffectList.addIcon(t)}}},{key:"updateStatusEffectList",value:function(e){var t=this;this._statusEffectList.destroyChildren(),this._statusEffects=[],e.forEach(function(e){t.addStatusEffect(e)})}},{key:"getCenterGlobalPosition",value:function(){var e=this.getGlobalPosition();return e.x-=this.width/4,e.y+=this.height/2,e}},{key:"_retire",value:function(){var e=this._base.x+this._base.width/2,t=this._base.y+this._base.height/2
;aoba.Graphics.new().beginFill(0).drawRoundedRect(0,0,this._base.width,this._base.height,4).addTo(this._main,e,t,{pivot:.5,alpha:0});var n=this._addRetireOverlay();this._addRetireText(),aoba.FrameAnimation.new("images/ui/concert/effects/spark_impact_blue.png",160,160,{fps:30,blendMode:aoba.BLEND_MODES.ADD}).addTo(this._main,e,t,{anchor:.5,scale:2}).play(),aoba.FrameAnimation.new("images/ui/concert/effects/mental_break.png",125,51,{fps:30,blendMode:aoba.BLEND_MODES.ADD}).addTo(this._main,e,t,{anchor:.5,scale:2.8}).play().on("end",function(){aoba.FrameTween.new(n).to({alpha:.7},6)})}},{key:"_addRetireText",value:function(){var e=this._base.x+this._base.width/2,t=this._base.y+this._base.height/2;aoba.Text.new(b.default.t("concert.playerIdol.retire"),{fontSize:32,fontFamily:"HummingStd-E",fill:6692736,stroke:16777215,strokeThickness:12}).addTo(this._main,e,t,{anchor:.5})}},{key:"_addRetireOverlay",value:function(){var e=this._base.x+this._base.width/2,t=this._base.y+this._base.height/2;return aoba.Graphics.new().beginFill(0).drawRoundedRect(0,0,this._base.width,this._base.height,4).addTo(this._main,e,t,{pivot:.5,alpha:0})}},{key:"id",get:function(){return this._id}},{key:"character",get:function(){return this._character}},{key:"isPlayer",get:function(){return this._isPlayer}},{key:"hp",get:function(){return this._mentalGroup.value}},{key:"order",get:function(){return this._order}},{key:"star",get:function(){return this._star}},{key:"isRetired",get:function(){return this._mentalGroup.isRetired}}]),t}(aoba.Container);t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:null,x:0,y:0},{name:"idolImage",fullName:"idolImage",type:"sprite",key:null,x:152,y:5},{name:"concertStarIcon",fullName:"concertStarIcon",type:"sprite",key:"concert_star_icon.png",x:10,y:11},{name:"starCount",fullName:"starCount",type:"container",x:29,y:9},{name:"producerName",fullName:"producerName",type:"text",text:"\u3053\u3063\u3057\u30fc\u2026",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:83,y:25},{name:"mentalGroup",fullName:"mentalGroup",type:"container",x:10,y:40},{name:"statusEffectList",fullName:"statusEffectList",type:"container",x:166,y:1}],name:"",fullName:"",type:"container",x:884,y:286}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"icon",fullName:"icon",type:"sprite",key:"icon_status_mental.png",x:0,y:0},{name:"concertMentalGaugeBase",fullName:"concertMentalGaugeBase",type:"sprite",key:"concert_mental_gauge_base.png",x:27,y:3},{name:"gauge",fullName:"gauge",type:"sprite",key:"concert_mental_gauge.png",x:27,y:3},{name:"value",fullName:"value",anchor:{x:1,y:.5},type:"text",text:"248/999",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:158,y:17}],name:"",fullName:"",type:"container",x:894,y:326}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(36),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"init",value:function(e){var t=this;e.forEach(function(e){return t._addPlayerIdol(e)})}},{key:"hideAttackOrders",value:function(){this.children.forEach(function(e){return e.hideAttackOrder()})}},{key:"showAttackResults",value:function(e){var t=this;this._attackResultTweens=e.map(function(e){var n=t.children.find(function(t){return t.id===e.rivalId});return aoba.Tween.new(t).wait(3e3*Math.random()).call(function(){return n.showAttackResult(e)})})}},{key:"showAllAttackResults",value:function(){this._attackResultTweens.forEach(function(e){e.target&&e.update(3e3)}),this._attackResultTweens=[]}},{key:"showRankingIcons",value:function(){this.children.filter(function(e){return!e.isRetired}).sort(function(e,t){return t.star-e.star}).slice(0,3).forEach(function(e,t){e.showRankingIcon(t+1)})}},{key:"hideRankingIcons",value:function(){this.children.forEach(function(e){e.hideRankingIcon()})}},{key:"hideAttackResults",value:function(){return Promise.all(this.children.map(function(e){return e.hideAttackResult()}))}},{key:"updateStatusEffectList",value:function(e){var t=this;e.forEach(function(e){t.findRivalOrMyIdol(e.id).updateStatusEffectList(e.statusEffects)})}},{key:"reorder",value:function(){this.children.sort(function(e,t){return e.order-t.order}),this.children.forEach(function(e,t){aoba.Tween.new(e).to({y:72*t},165)})}},{key:"slideIn",value:function(){var e=this;return window.list=this,new Promise(function(t){return aoba.Tween.fromData(e,s.playerIdolList.slideIn).call(t)})}},{key:"slideDown",value:function(){var e=this;return new Promise(function(t){return aoba.Tween.fromData(e,s.playerIdolList.slideDown).call(t)})}},{key:"slideUp",value:function(){var e=this;return new Promise(function(t){return aoba.Tween.fromData(e,s.playerIdolList.slideUp).call(t)})}},{key:"findById",value:function(e){return this.children.find(function(t){return t.id===e})}},{key:"findMyIdol",value:function(){return this.children.find(function(e){return e.isPlayer})}},{key:"findRivalOrMyIdol",value:function(e){return this.findById(e)||this.findMyIdol()}},{key:"_addPlayerIdol",value:function(e){var t=this.children.length;e.addTo(this,0,72*t)}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1082),u=r(l),c=n(36),f=n(0),d=r(f),p={produceIdol:{x:0,y:140},supportIdols:[{x:-264,y:100},{x:-132,y:120},{x:132,y:120},{x:264,y:100}]},h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.fromData(u.default,{bg:e}),n._idols=aoba.Container.new().addTo(n),n._overlay=aoba.Graphics.new().beginFill(0).drawRect(0,0,n.width,n.height).addTo(n,0,0,{pivot:.5,alpha:0}),n.interactive=!0,n}return o(t,e),s(t,[{key:"showOverlay",value:function(){aoba.Tween.fromData(this._overlay,c.stageLayer.showOverlay)}},{key:"hideOverlay",value:function(){aoba.Tween.fromData(this._overlay,c.stageLayer.hideOverlay)}},{key:"setFinishAnimation",value:function(){this._idols.children.forEach(function(e){return e.setAnimation(0,"win")})}},{key:"addIdol",value:function(e){var t=p.produceIdol
;d.default.Spine.new(e.getSpinePath("cb_costume")).addTo(this._idols,t.x,t.y).setAnimation(0,"live_startup_01")}},{key:"addSupportIdols",value:function(e){var t=this;e.forEach(function(e,n){var r=p.supportIdols[n];d.default.Spine.new(e.getSpinePath("cb_costume")).addTo(t._idols,r.x,r.y).setAnimation(0,"live_startup_01")})}},{key:"startLive",value:function(){this._idols.children.forEach(function(e,t){var n=t%2==0?0:120;setTimeout(function(){e.setAnimation(0,"setin"),e.addAnimation(0,"live_dance_01",!0)},n)})}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:-568,y:-320},{name:"idols",fullName:"idols",type:"container",x:-320,y:-131}],name:"",fullName:"",pivot:{x:.5,y:.5},type:"container",x:568,y:320}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(439),u=r(l),c=n(440),f=r(c),d=n(36),p=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._current=null,e._next=null,e._switching=!1,e}return o(t,e),s(t,[{key:"switchContents",value:function(e){var t=this;this._switching=!0;var n=this._current?new Promise(function(e){return t._slideOutContent().on("switch",e)}):Promise.resolve(),r=[e],i=e.linkSkill;return i&&r.push(i),n.then(function(){return t._slideInContents(r)})}},{key:"hideContents",value:function(){var e=this;return new Promise(function(t){return e._slideOutContent().on("switch",t)})}},{key:"disappear",value:function(){return this._switching&&aoba.Tween.fromData(this._next,d.skillDetailList.disappear),aoba.Tween.fromData(this._next||this._current,d.skillDetailList.disappear).promise()}},{key:"_slideInContents",value:function(e){var t=this;return this._showContents(e),aoba.Tween.fromData(this._next,d.skillDetailList.slideIn).call(function(){t._swap(),t._switching=!1}).promise()}},{key:"_showContents",value:function(e){var t=this;this._next=aoba.Container.new().addTo(this),e.forEach(function(e,n){t._createSkillDetail(e).addTo(t._next,295*n,0)}),this._next.setPivot(this._next.width/2,this._next.height/2)}},{key:"_slideOutContent",value:function(){return aoba.Tween.fromData(this._current,d.skillDetailList.slideOut)}},{key:"_swap",value:function(){this._current&&this._current.destroy({children:!0}),this._current=this._next}},{key:"_createSkillDetail",value:function(e){return e.linkSkillCharacters?f.default.new(e):u.default.new(e)}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1085),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(36),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"init",value:function(e){this.fromData(l.default,{passiveSkillList:e.passiveSkillList,skillHistoryList:e.skillHistoryList,skillCardHand:e.skillCardHand,memorySkillCard:e.memorySkillCard})}},{key:"slideIn",value:function(){var e=this,t=this.y;return this.y+=this.height,new Promise(function(n){return aoba.Tween.fromData(e,u.skillSelectLayer.slideIn({y:t})).call(n)})}},{key:"slideDown",value:function(){var e=this;return aoba.Tween.fromData(this,u.skillSelectLayer.slideDown).call(function(){e.hide()}).promise()}},{key:"slideUp",value:function(){return this.show(),aoba.Tween.fromData(this,u.skillSelectLayer.slideUp).promise()}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"skillHistoryBase",fullName:"skillHistoryBase",type:"sprite",key:"skill_history_base.png",x:0,y:0},{name:"passiveSkillList",fullName:"passiveSkillList",type:"container",x:9,y:10},{name:"skillHistoryList",fullName:"skillHistoryList",type:"container",x:55,y:67},{name:"skillCardHand",fullName:"skillCardHand",type:"container",x:267,y:31}],name:"",fullName:"",type:"container",x:0,y:512}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(35),u=r(l),c=n(258),f=r(c),d=function(e){var t=aoba.Sprite.new("concert_light_circle.png").setProps({anchor:.5,scale:0,blendMode:aoba.BLEND_MODES.ADD}),n=2*e.scale;return aoba.FrameTween.new(t).to({scaleX:.9*n,scaleY:.9*n},5).to({scaleX:n,scaleY:n},14),aoba.FrameTween.new(t).wait(10).to({alpha:0},9).call(function(){t.destroy()}),t},p=function(){var e=aoba.Sprite.new("memory_gauge_overlay.png").setProps({anchor:1,scale:3.6,alpha:.5,blendMode:aoba.BLEND_MODES.ADD});return aoba.FrameTween.new(e).to({alpha:.4},3).wait(8).to({alpha:0},5),aoba.FrameTween.new(e).to({scaleX:6.5,scaleY:6.5},5).to({scaleX:7.4,scaleY:7.4},11).call(function(){e.destroy()}),e},h=function(){var e=aoba.Sprite.new("memory_gauge_overlay.png").setProps({anchor:1,scale:1.3,alpha:0,blendMode:aoba.BLEND_MODES.ADD});return aoba.FrameTween.new(e).to({alpha:.3},3).wait(8).to({alpha:0},5).wait(2).loop(),aoba.FrameTween.new(e).to({scaleX:4.22,scaleY:4.22},5).to({scaleX:5.12,scaleY:5.12},11).wait(2).set({scaleX:1.3,scaleY:1.3}).loop(),e},y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._onSelect=function(t){e.onSelect(t.target)},n._blankOrder=null,n}return o(t,e),s(t,[{key:"init",value:function(e,t){var n=this,r=e.reduce(function(e,t,r){return e.call(function(){return n.addSkillCard(t,r)}).wait(4)},aoba.FrameTween.new(this))
;return this._memorySkillCard=t,this._memorySkillCard.on("gaugeFull",this._createGaugeFullEffect,this),this._memorySkillCard.on("consume",this._destroyGaugeFullEffect,this),r.call(function(){return n.addMemorySkillCard(t)}).wait(10).promise()}},{key:"addSkillCard",value:function(e,t){var n=this;return t=t||this._blankOrder,e.addTo(this,204*t+e.width/2,e.baseHeight/2+86),e.on("touchstart",this._onSelect,this),e.on("removed",function(){n._blankOrder=t}),this.children.sort(function(e,t){return e.x-t.x}),e.slideUp()}},{key:"syncSkillCards",value:function(e){var t=this.currentSkills,n=e.find(function(e){return!t.find(function(t){return t.skillId===e.id&&t.idolId===e.idol.id})});return n?(aoba.soundManager.playSE(u.default.drawCard),this.addSkillCard(f.default.new(n))):Promise.resolve()}},{key:"addMemorySkillCard",value:function(e){e.addTo(this,612+e.width/2,e.height/8+118),e.on("touchstart",this._onSelect,this),e.slideUp()}},{key:"updateLinkSkillState",value:function(e){var t=this;e.forEach(function(e){var n=t.children.find(function(t){return t.skillId===e.id});n&&n.updateLinkSkillState(e.enabledLinkSkill)})}},{key:"cancelCard",value:function(e){aoba.soundManager.playSE(u.default.selectCard),e.cancel()}},{key:"selectCard",value:function(e){aoba.soundManager.playSE(u.default.selectCard),this.selectedCard&&this.selectedCard.cancel(),e.select()}},{key:"_createGaugeFullEffect",value:function(){var e=aoba.Container.new().addTo(this,this._memorySkillCard.x,this._memorySkillCard.y),t=this._memorySkillCard.skillGroupPosition;d({scale:1.1}).addTo(e,t.x,t.y);var n=aoba.p(130,64);aoba.FrameTween.new(e).wait(2).call(function(){d({scale:1.9}).addTo(e,t.x,t.y),p().addTo(e,n.x,n.y)}),aoba.FrameTween.new(e).wait(20).call(function(){h().addTo(e,n.x,n.y)}),this._memoryGaugeEffect=e}},{key:"_destroyGaugeFullEffect",value:function(){var e=this;this._memoryGaugeEffect&&this._hideGaugeFullEffect().then(function(){e._memoryGaugeEffect.destroy({children:!0}),e._memoryGaugeEffect=null})}},{key:"_showGaugeFullEffect",value:function(){return this._memoryGaugeEffect?(this._memoryGaugeEffect.alpha=0,aoba.FrameTween.new(this._memoryGaugeEffect).to({alpha:1},5).promise()):Promise.resolve()}},{key:"_hideGaugeFullEffect",value:function(){return this._memoryGaugeEffect?aoba.FrameTween.new(this._memoryGaugeEffect).to({alpha:0},5).promise():Promise.resolve()}},{key:"selectedCard",get:function(){return this.children.find(function(e){return e.selected})}},{key:"memorySkillCard",get:function(){return this._memorySkillCard}},{key:"currentSkills",get:function(){return this.children.map(function(e){return{skillId:e.skillId,idolId:e.idolId}})}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(40),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"initSkillHistories",value:function(e){var t=this;e.slice(-5).forEach(function(e,n){var r=e.isMemoryAppeal?.66:1,i=aoba.Sprite.new(e.imagePaths.icon),a=38*n+i.width*r/2,o=i.height*r/2;i.addTo(t,a,o,{scale:r,anchor:.5})})}},{key:"addSkillHistory",value:function(e){var t=this;if(this.children.length>=5){var n=this.children[0];aoba.FrameTween.new(n).by({x:-27,y:30,alpha:-1},10).call(function(){return n.destroy()}),this.children.forEach(function(e){aoba.FrameTween.new(e).by({x:-38},10,"easeInOutQuart")})}var r=Math.min(this.children.length,4),i=e.isMemoryAppeal?.66:1,a=aoba.Sprite.new(e.imagePaths.icon),o=38*r+a.width*i/2,s=a.height*i/2;u.default.playParticle(f.default.flashSpark4,this,o,s,{scale:.18,playAndDestroy:!0}),aoba.FrameTween.new(this).wait(5).call(function(){u.default.playParticle(f.default.flashLineRing,t,o,s,{scale:.18,playAndDestroy:!0})}),a.characterId=e.idol.characterId,a.addTo(this,o,s,{scale:0,anchor:.5}),aoba.FrameTween.new(a).wait(3).to({scaleX:1.1*i,scaleY:1.1*i},5,"easeInOutQuad").to({scaleX:1*i,scaleY:1*i},11,"easeInOutQuad");var l=aoba.Sprite.new(a.texture);l.addTo(this,o,s,{scale:0,anchor:.5,blendMode:aoba.BLEND_MODES.ADD}),aoba.FrameTween.new(l).wait(3).to({scaleX:1.1*i,scaleY:1.1*i},5,"easeInOutQuad").to({scaleX:1.5*i,scaleY:1.5*i},11,"easeInOutQuad").call(function(){l.destroy()}),aoba.FrameTween.new(l).wait(9).to({alpha:0},10).call(function(){l.destroy()})}},{key:"clearIconEffects",value:function(){this._iconEffects&&this._iconEffects.forEach(function(e){return e.destroy()})}},{key:"lightUp",value:function(e){var t=this;this._iconEffects=[],e.forEach(function(e){var n=t.children.find(function(t){return t.characterId===e.characterId});if(n){var r=aoba.Sprite.new(n.texture).addTo(n);r.anchor.set(n.anchor.x,n.anchor.y),r.blendMode=aoba.BLEND_MODES.ADD,aoba.Tween.new(r).to({alpha:0,scaleX:.9,scaleY:.9},900).to({alpha:.8,scaleX:1,scaleY:1},900).loop(),t._iconEffects.push(r)}})}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1089),c=r(u),f=n(36),d=n(1090),p=r(d),h=n(35),y=r(h),m=5,_={normal:{order:1,image:"text_timing_normal.png",se:"gaugeNormal",voice:"concert_meter_bad"},good:{order:2,image:"text_timing_good.png",se:"gaugeGood",voice:"concert_meter_good"},perfect:{order:3,image:"text_timing_perfect.png",se:"gaugePerfect",voice:"concert_meter_perfect"},miss:{order:4,image:"text_timing_bad.png",se:"gaugeBad",voice:"concert_meter_miss"}},g=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(c.default,{}),r=n.slider,i=n.gauges;return e._slider=r,e._gauges=i,e._default={alpha:e.alpha,slider:{x:e._slider.x,y:e._slider.y}},e._slider.y=-1400,e._gaugeInnerWitdh=e._gauges.width-m,e}return s(t,e),l(t,[{key:"appear",value:function(){return this.show(),aoba.Tween.fromData(this,f.timingGaugeGroup.appearGauge).promise()}},{key:"disappear",value:function(){var e=this;return aoba.Tween.fromData(this,f.timingGaugeGroup.disappear).call(function(){e._reset()}).promise()}},{key:"playSlider",value:function(e){var t=this;return this._appearSlider().then(function(){t._gaugeSE=aoba.soundManager.playSE(y.default.gaugeStart,{loop:!0
});var n=0,r=t._gaugeInnerWitdh;t._slider.update=function(i){var a=.32*i*e;n+=a,t._slider.x+=a,n>=r&&(t._slider.x=t._default.slider.x,n=0)}})}},{key:"stopSlider",value:function(){var e=this,t=this.stop();return this._gaugeSE&&(this._gaugeSE.stop(),this._gaugeSE=null),new Promise(function(n){e.showResult(t.category).then(function(){return n(t)})})}},{key:"stop",value:function(){return delete this._slider.update,aoba.FrameTween.new(this._slider).to({scaleY:2.08},1).to({scaleY:1},2,"easeInOutQuad"),this._getCurrentAppealMeter()}},{key:"showResult",value:function(e){var t=this,n=_[e];return aoba.soundManager.playSE(y.default[n.se]),this.emit("showResult",n.voice),new Promise(function(n){(0,p.default)(e).addTo(t,t._slider.x,8).on("end",n)})}},{key:"findAppealMeterByCategory",value:function(e){return this._appealMeters.find(function(t){return t.category===e})}},{key:"stopOnPerfect",value:function(){var e=this;this.update=function(){"perfect"===e._getCurrentAppealMeter().category&&(delete e._slider.update,delete e.update)}}},{key:"_appearSlider",value:function(){return this._slider.scale.set(15,13.2),aoba.FrameTween.new(this._slider).to({scaleX:4.7,scaleY:20.9,y:this._default.slider.y},3,"easeInOutQuad").to({scaleX:1.8,scaleY:8.3},4,"easeInOutQuad").to({scaleX:1,scaleY:1},4,"easeInOutQuad").wait(8).promise()}},{key:"_getCurrentAppealMeter",value:function(){var e=(this._slider.x-this._default.slider.x)/this._gaugeInnerWitdh*100,t=this._appealMeters,n=0,r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(n+=l.share,e<n)return l}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return t[t.length-1]}},{key:"_reset",value:function(){this.hide(),this.alpha=this._default.alpha,this._slider.x=this._default.slider.x,this._slider.y=-1400}},{key:"setUpShare",value:function(e){var t=this;e.forEach(function(e){e.order=_[e.category].order}),e.sort(function(e,t){return t.criticalRate-e.criticalRate}),this._appealMeters=e;var n=this._gaugeInnerWitdh,r=this._gauges.height;[].concat(i(this._gauges.children)).reverse().forEach(function(e,i){var a=t._appealMeters.slice(0,i+1).reduce(function(e,t){return e+t.share},0);e.mask&&e.mask.remove();var o=a<100?m/2:m;e.mask=aoba.Graphics.new().beginFill(0).drawRect(0,0,n*a/100+o,r).addTo(e)})}},{key:"appealMeters",get:function(){return this._appealMeters}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",anchor:{x:.5,y:.5},type:"sprite",key:"timing_gauge_base.png",x:0,y:0},{children:[{name:"gaugeMiss",fullName:"gauges/gaugeMiss",type:"sprite",key:"gauge_miss.png",x:0,y:0},{name:"gaugePerfect",fullName:"gauges/gaugePerfect",type:"sprite",key:"gauge_perfect.png",x:1,y:1},{name:"gaugeGood",fullName:"gauges/gaugeGood",type:"sprite",key:"gauge_good.png",x:1,y:1},{name:"gaugeNormal",fullName:"gauges/gaugeNormal",type:"sprite",key:"gauge_normal.png",x:1,y:1}],name:"gauges",fullName:"gauges",type:"container",x:-88,y:-9},{name:"slider",fullName:"slider",anchor:{x:.5,y:.5},type:"sprite",key:"timing_gauge_slider.png",x:-85,y:8}],name:"",fullName:"",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:439}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=r(i),o=n(40),s=r(o),l=function(e){return aoba.FrameTween.new(e).to({scaleY:13.18},4).to({scaleY:14.34,alpha:0},4)},u=function(e){return aoba.FrameTween.new(e).to({scaleX:1.25,scaleY:1.25,y:-159},4).to({scaleX:1.35,scaleY:1.35,y:-181},19)},c=function(e){return aoba.FrameTween.new(e).to({scaleX:1,scaleY:1,y:-120},4).to({scaleX:1.1,scaleY:1.1,y:-136},19)},f={normal:{textImage:"text_timing_normal.png",textMaskImage:"text_timing_normal_mask.png",createTextTween:c,particle:s.default.timingNormal,fireworks:[]},good:{textImage:"text_timing_good.png",textMaskImage:"text_timing_good_mask.png",createTextTween:c,particle:s.default.timingGood,fireworks:[null,{image:"images/ui/concert/effects/fireworks_yellow.png",x:92,y:-132},null]},perfect:{textImage:"text_timing_perfect.png",textMaskImage:"text_timing_perfect_mask.png",createTextTween:u,particle:s.default.timingPerfect,fireworks:[{image:"images/ui/concert/effects/fireworks_blue.png",x:-129,y:-179},{image:"images/ui/concert/effects/fireworks_yellow.png",x:0,y:-215},{image:"images/ui/concert/effects/fireworks_green.png",x:129,y:-179}]},miss:{textImage:"text_timing_bad.png",textMaskImage:null,createTextTween:c,particle:s.default.timingBad,fireworks:[]}},d=function(e){var t=aoba.Container.new(),n=aoba.Container.new().addTo(t),r=f[e],i=aoba.Sprite.new("timing_gauge_slider.png").addTo(t,0,0,{anchor:.5}),o=aoba.Sprite.new(i.texture).addTo(t,0,0,{anchor:.5,rotation:90*aoba.DEG_TO_RAD});return l(i),l(o),aoba.FrameAnimation.new("images/ui/concert/effects/spark_impact_yellow.png",120,120,{fps:30}).addTo(t,0,0,{anchor:.5,blendMode:aoba.BLEND_MODES.ADD,scale:3.5}).play(),aoba.FrameTween.new(t).wait(1).call(function(){if(r.particle.center){var e=r===f.bad?-91:0;a.default.playParticle(r.particle.center,t,0,e)}}).wait(1).call(function(){var e=a.default.playParticle(r.particle.top,t,0,0);aoba.FrameTween.new(e.container).wait(17).to({alpha:0},5)}).wait(1).call(function(){var e=aoba.Sprite.new(r.textImage).addTo(t,0,0,{anchor:.5,scale:0});r.createTextTween(e),r.textMaskImage&&(e.mask=aoba.Sprite.new(r.textMaskImage).addTo(t,0,0,{anchor:.5,scale:0}),r.createTextTween(e.mask),a.default.commonUiHelper.createGlossEffect().addTo(e,0,0,{scale:2})),aoba.FrameTween.new(e).wait(6).call(function(){t.emit("end")}).wait(11).to({alpha:0},6).call(function(){return t.destroy({children:!0})})}),r.fireworks.reduce(function(e,t){return t&&e.call(function(){aoba.FrameAnimation.new(t.image,120,120,{fps:30,blendMode:aoba.BLEND_MODES.ADD}).addTo(n,t.x,t.y,{anchor:.5,scale:2}).play()}),e.wait(2)},aoba.FrameTween.new(t).wait(11)),t};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1092),u=r(l),c=n(0),f=r(c),d=n(35),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._turn=e,n._turnValue=f.default.ImageLabel.new({imagePrefix:"turn_number_",zeroPaddingNumber:0,originX:.5}).setNum(n._turn),n.fromData(u.default,{turnValue:n._turnValue}),n.hide(),n}return o(t,e),s(t,[{key:"slideIn",value:function(){var e=this;return this.show(),new Promise(function(t){return aoba.Tween.fromData(e,[{type:"set",props:{x:e.x-e.width}},{type:"by",props:{x:e.width},frame:10,easing:"easeOutQuart"}]).call(t)})}},{key:"updateTurn",value:function(){return this._turn++,this._turnValue.setNum(this._turn),aoba.soundManager.playSE(p.default.turnStart),Promise.resolve()}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"concertTurnBase",fullName:"concertTurnBase",type:"sprite",key:"concert_turn_base.png",x:0,y:0},{name:"turnValue",fullName:"turnValue",pivot:{x:.5,y:.5},type:"container",x:122,y:23
}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.blendMode=aoba.BLEND_MODES.ADD,n.alpha=0,n.width=aoba.game.width,n.height=aoba.game.height,n}return a(t,e),o(t,[{key:"playAndAddTo",value:function(e){this.play(),this.addTo(e)}},{key:"play",value:function(){this._warinigTween=aoba.FrameTween.new(this).to({alpha:1},16).to({alpha:0},16).loop()}},{key:"stopAndRemove",value:function(){var e=this;this._warinigTween.remove(),aoba.FrameTween.new(this).to({alpha:0},16).call(function(){return e.remove()})}}]),t}(aoba.Sprite);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this._speed=1}return i(e,[{key:"change",value:function(){var e=this._speed;++this._speed>2&&(this._speed=1);var t=this._speed;this._setSpeed(e,t)}},{key:"reset",value:function(){var e=this._speed;this._speed++,this._speed=1;var t=this._speed;this._setSpeed(e,t)}},{key:"_setSpeed",value:function(e,t){var n=aoba.game._update.bind(aoba.game);aoba.game._update=function(r){n(r*t/e)}}},{key:"speed",get:function(){return this._speed}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createAndPlayReadyEffect=void 0;var i=n(0),a=r(i),o=n(19),s=r(o),l=t.createAndPlayReadyEffect=function(){var e=aoba.Container.new();return(0,s.default)({folderPath:"concert/ready"}).then(function(t){e.addChild(t),t.play();var n=t.find("txt")[0];n.mask=aoba.Sprite.new("text_ready_mask.png").addTo(n);var r=void 0;aoba.FrameTween.new(e).wait(4).call(function(){r=a.default.commonUiHelper.createGlossEffect().addTo(n,0,0)}),t.on("completed",function(){n.mask.destroy(),r&&r.destroy({children:!0}),t.destroy(!0),e.emit("end",e),e.destroy({children:!0})})}),e};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(0),d=r(f),p=n(3),h=r(p),y=n(1097),m=r(y),_=n(1098),g=r(_),b=n(1099),v=r(b),w=n(1100),k=r(w),S=n(1101),I=r(S),E=n(1102),A=r(E),x=n(1103),C=r(x),T=n(1104),P=r(T),O=n(438),N=r(O),M=n(161),R=r(M),D=n(253),F=r(D),B=n(258),j=r(B),L=n(435),U=r(L),H=n(439),G=r(H),z=n(440),V=r(z),K=c.default.asset.PARAMETER_ICONS,W=function(){var e=aoba.Container.new();return e.fromData(v.default,{icon:{key:"tsubasa_icon.png"},line:{instance:d.default.graphics.line(594),dy:-1}}),e},q=function(e,t){var n=aoba.Container.new();return n.fromData(I.default,{icon:{key:e},line:{instance:d.default.dotLine.create({type:d.default.dotLine.types.DOT_BLACK,width:102}),dx:1},value:{text:t}}),n},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=aoba.Container.new(),r=t.isHalf?429:858;return n.fromData(C.default,{base:{fill:10260384,width:r},text:{text:e,dy:2}}),n},Y=function(e,t){return e.reduce(function(e,n,r){var i=j.default.new(n);return i.addTo(e,i.width/2+220*r,i.baseHeight/2-12),i.on("tap",function(){t(n,i.getGlobalPosition())}),e},aoba.Container.new())},J=function(e,t,n){var r=aoba.Container.new();return r.fromData(A.default,{title:X(e),skillCardList:Y(t,n)}),r},Q=function(e,t,n){var r=aoba.Container.new();return r.fromData(A.default,{title:X(e,{isHalf:!0}),skillCardList:Y(t,n)}),r},Z=function(){var e=aoba.Container.new(),t=e.fromData(P.default,{line:{instance:d.default.graphics.line(890),dy:0},resumeButton:{class:d.default.DecideButton},tipsButton:{class:d.default.DecideButton}}),n=t.resumeButton,r=t.tipsButton;return n.once("tap",function(){e.emit("tapResumeButton")}),r.on("tap",function(){e.emit("tapTipsButton")}),e},$=function(e){return e.linkSkillCharacters?V.default.new(e):G.default.new(e)},ee=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._skillDetailContainer=aoba.Container.new().addTo(e),e._lastTapSkill=null,e}return s(t,e),l(t,[{key:"_showSkillDetailPanel",value:function(e,t){var n=this,r=[e],i=e.linkSkill;i&&r.push(i),this._hideSkillDetailPanel(),r.forEach(function(e,t){var r=$(e);r.addTo(n._skillDetailContainer,290*t,0),r.visible=!0,r.addTo(n._skillDetailContainer)}),this._skillDetailContainer.setPivot(this._skillDetailContainer.width/2,this._skillDetailContainer.height/2),t.y<200?this._skillDetailContainer.setPosition(t.x,t.y+190,0):this._skillDetailContainer.setPosition(t.x,t.y-120,0),this._lastTapSkill=e}},{key:"_hideSkillDetailPanel",value:function(){this._skillDetailContainer.destroy({children:!0}),this._skillDetailContainer=aoba.Container.new().addTo(this),this._lastTapSkill=null}},{key:"_onTapSkillCard",value:function(e,t){this._isLastTapSkill(e)?this._hideSkillDetailPanel():this._showSkillDetailPanel(e,t)}},{key:"_isLastTapSkill",value:function(e){return this._lastTapSkill===e}},{key:"_createCenterIdolLayoutContainer",value:function(e,t,n){var r=this,i=aoba.Container.new(),a=Object.assign({},e.memoryAppeal,{memoryAppealPoint:n},e),o=U.default.create(a,e,!0);return o.pivot.set(-o.width/2,-o.height/2),o.interactive=!0,o.on("tap",function(){r._onTapSkillCard(a,o.getGlobalPosition())}),i.fromData(k.default,{name:{text:e.name},mental:N.default.new(t,e.displayParams.mental),vocal:q(K.vocal,e.displayParams.vocal),dance:q(K.dance,e.displayParams.dance),visual:q(K.visual,e.displayParams.visual),memorySkillCard:o}),i}}]),t}(aoba.Container),te=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.idols,i=e.centerIdol,s=e.mental,l=e.memoryAppealPoint,u=r.filter(function(e){return!e.isCenter}),f=u.map(function(e){return e.activeSkill}),d=h.default.t("concert.pauseDialog.produceSkill"),p=h.default.t("concert.pauseDialog.supportSkill"),y=n.fromData(m.default,{overlay:(0,
R.default)(),concertPauseBase:{scale:2},titleGroup:W(),centerIdol:n._createCenterIdolLayoutContainer(i,s,l),produceIdolSkillContainer:J(d,i.activeSkills,n._onTapSkillCard.bind(n)),supportIdolSkillContainer:J(p,f,n._onTapSkillCard.bind(n)),buttonGroup:Z()}),_=y.overlay,g=y.buttonGroup;return g.once("tapResumeButton",function(){return n.destroy({children:!0})}),g.on("tapTipsButton",function(){F.default.loadAndAddTo(c.default.tips.concert,n)}),n._overlay=_,n}return s(t,e),t}(ee),ne={CENTER:"center",LEADER:"leader",VOCAL:"vocal",DANCE:"dance",VISUAL:"visual"},re=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.idols,s=e.centerIdol,l=e.mental,u=e.memoryAppealPoint,f=[].concat(i(r)).sort(function(e,t){var n=e.fesDeckMemberPosition.position,r=t.fesDeckMemberPosition.position;return r===ne.CENTER?1:n!==ne.CENTER&&r===ne.LEADER?1:0}),d=f.reduce(function(e,t,r){var i=t.fesDeckMemberPosition.position;return Q(h.default.t("fes.pauseSkillTitle."+i),t.activeSkills,n._onTapSkillCard.bind(n)).addTo(e,r%2*440,126*Math.floor(r/2)),e},aoba.Container.new()),p=n.fromData(g.default,{overlay:(0,R.default)(),fesPauseBase:{scale:2},titleGroup:{instance:W(),dy:3},centerIdol:n._createCenterIdolLayoutContainer(s,l,u),idolSkillContainer:d,buttonGroup:{instance:Z(),dy:1}}),y=p.overlay,m=p.buttonGroup;return m.once("tapResumeButton",function(){return n.destroy({children:!0})}),m.on("tapTipsButton",function(){F.default.loadAndAddTo(c.default.tips.concert,n)}),n._overlay=y,n}return s(t,e),t}(ee);t.default={AuditionPauseDialog:te,FesPauseDialog:re}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"overlay",fullName:"overlay",type:"container",x:0,y:0},{name:"concertPauseBase",fullName:"concertPauseBase",type:"sprite",key:"concert_pause_base.png",x:93,y:55},{name:"titleGroup",fullName:"titleGroup",type:"container",x:117,y:75},{name:"centerIdol",fullName:"centerIdol",type:"container",x:129,y:89},{name:"produceIdolSkillContainer",fullName:"produceIdolSkillContainer",type:"container",x:132,y:211},{name:"supportIdolSkillContainer",fullName:"supportIdolSkillContainer",type:"container",x:132,y:337},{name:"buttonGroup",fullName:"buttonGroup",type:"container",x:123,y:473}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"overlay",fullName:"overlay",type:"sprite",key:"overlay.png",x:0,y:0},{name:"fesPauseBase",fullName:"fesPauseBase",type:"sprite",key:"fes_pause_base.png",x:97,y:5},{name:"titleGroup",fullName:"titleGroup",type:"container",x:117,y:16},{name:"centerIdol",fullName:"centerIdol",type:"container",x:129,y:30},{name:"idolSkillContainer",fullName:"idolSkillContainer",type:"container",x:132,y:152},{name:"buttonGroup",fullName:"buttonGroup",type:"container",x:123,y:532}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"icon",fullName:"icon",type:"sprite",key:null,x:0,y:0},{name:"title",fullName:"title",type:"text",text:"\u30dd\u30fc\u30ba",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:46,y:17},{name:"line",fullName:"line",type:"container",x:3,y:50}],name:"",fullName:"",type:"container",x:117,y:75}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"name",fullName:"name",type:"text",text:"\u30a4\u30eb\u30df\u30cd\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30fc\u30ba\u3000\u6afb\u6728\u771f\u4e43\u3042\u3042\u3042",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:3,y:62},{name:"mental",fullName:"mental",type:"container",x:0,y:84},{name:"vocal",fullName:"vocal",type:"container",x:165,y:83},{name:"dance",fullName:"dance",type:"container",x:305,y:83},{name:"visual",fullName:"visual",type:"container",x:443,y:83},{name:"memorySkillCard",fullName:"memorySkillCard",type:"container",x:605,y:0}],name:"",fullName:"",type:"container",x:129,y:89}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"icon",fullName:"icon",type:"sprite",key:null,x:0,y:0},{name:"line",fullName:"line",type:"container",x:29,y:26},{name:"value",fullName:"value",anchor:{x:1,y:0},type:"text",text:"88,888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:131,y:5}],name:"",fullName:"",type:"container",x:294,y:172}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"title",fullName:"title",type:"container",x:0,y:0},{name:"skillCardList",fullName:"skillCardList",type:"container",x:0,y:28}],name:"",fullName:"",type:"container",x:132,y:211}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"graphics",fill:0,alpha:1,width:858,height:24,shape:"roundedRect",round:12,x:0,y:0},{name:"text",fullName:"text",type:"text",text:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30a2\u30a4\u30c9\u30eb\u6240\u6301\u30b9\u30ad\u30eb",style:{fill:16711422,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:17,y:12}],name:"",fullName:"",type:"container",x:132,y:211}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"line",fullName:"line",type:"container",x:0,y:0},{name:"resumeButton",fullName:"resumeButton",anchor:{x:.5,y:.5},type:"sprite",key:"resume_button.png",x:445,y:52},{name:"tipsButton",fullName:"tipsButton",anchor:{x:.5,y:.5},type:"sprite",key:"tips_button.png",x:763,y:52}],name:"",fullName:"",type:"container",x:123,y:473}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(20),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(t){r(this,e),this._idol=t}return i(e,[{key:"play",value:function(e,t){var n=o.default.createVoicePath("characters",t||this._idol.characterId,e);aoba.soundManager.playVoiceAsync(n,{volume:1.2})}},{key:"playSelectVoice",value:function(e){this.play(this._getSelectVoice(e))}},{key:"playLinkAppealVoices",value:function(e){e.forEach(function(e){aoba.soundManager.playVoiceAsync(e,{volume:1.2})})}},{key:"_getSelectVoice",value:function(e){var t=e.isMemoryAppeal,n=e.idolId;return t?"concert_memory_appeal_select":n!==this._idol.idolId?"concert_skil_select_2":"concert_skil_select_1"}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1107),s=r(o),l=n(1108),u=r(l),c=n(1109),f=r(c),d=n(242),p=r(d),h={IDOL:"idol",RIVAL:"rival",JUDGE:"judge"},y={APPEAL_BONUS:"appealBonus",TOP:"top",FINISH:"finish",OVER:"over"},m=!1,_=!1,g=function(e){var t=new Error("Invalid hash error");p.default.captureException(t,{extra:e})},b=function(){function e(t,n,r){var a=this;i(this,e),this._gameManager=new r(t),this._serverAction=n,this._turn=0,this._actors=[],this._usedSkills=[],this._memoryAppealPoint=0,this._store=new s.default({appealMeters:t.appealMeters,judges:t.judges,rivals:t.rivals,idols:t.idols,activeSkills:t.activeSkills}),this._actionFactory=new u.default(this._store),
this._store.memoryAppeal&&this._createMemoryAppealData(this._store.memoryAppeal);var o=t.appealRequests;if(o&&o.length>0){var l=o.map(function(e){a._turn++;var t=e.usedSkill,n=t.skillId,r=t.idolId,i=a._store.findActiveSkill(n.toString(),r.toString(),e.isUsedMemoryAppeal);return a._usedSkills.push(i),{standbyResult:a._gameManager.standby(a._turn),appealResult:a._gameManager.appeal(e)}});l.forEach(function(e){var t=a._createAppealViewResponse(e.appealResult);0===a._actors.length?a._actors=t.actors.map(function(e){return new f.default(e)}):t.actors.forEach(function(e){var t=a._findActorBy(e);t.updateParameter(e),t.updateStatusEffectsWithTurnIncrement()});var n=!0,r=!1,i=void 0;try{for(var o,s=t.actions[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,u=a._findActorBy(l),c=!0,d=!1,p=void 0;try{for(var h,y=l.targets[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var m=h.value,_=a._findActorBy(m),g=!0,b=!1,v=void 0;try{for(var w,k=m.effects[Symbol.iterator]();!(g=(w=k.next()).done);g=!0){var S=w.value;"buff"===S.effectType?u.addStatusEffect(S):"debuff"===S.effectType&&_.addStatusEffect(S)}}catch(e){b=!0,v=e}finally{try{!g&&k.return&&k.return()}finally{if(b)throw v}}}}catch(e){d=!0,p=e}finally{try{!c&&y.return&&y.return()}finally{if(d)throw p}}}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}});var c=l[l.length-1];if(c){var d=!0,p=!1,y=void 0;try{for(var m,_=c.appealResult.actors[Symbol.iterator]();!(d=(m=_.next()).done);d=!0){var g=m.value;switch(g.role){case h.IDOL:var b=this._store.rivals.find(function(e){return e.isPlayer});b.currentMental=g.hp,b.currentStar=g.star;break;case h.RIVAL:var v=this._store.findRival(g.id);v.currentMental=g.hp,v.currentStar=g.star;break;case h.JUDGE:this._store.findJudge(g.id).currentScore=g.hp}}}catch(e){p=!0,y=e}finally{try{!d&&_.return&&_.return()}finally{if(p)throw y}}}}}return a(e,[{key:"standby",value:function(){this._turn++;var e=this._turn,t=this._gameManager.standby(e);return this._serverAction.standby(e).then(function(n){n&&n.hash!==t.hash&&(m||(g({requestParams:e,serverResponse:n,clientResponse:t}),m=!0))}),this._createStandbyViewResponse(t)}},{key:"appeal",value:function(e,t,n){var r=this,i={isUsedMemoryAppeal:e.isMemoryAppeal,appealMeterId:n,selectedJudgeId:t,usedSkill:{skillId:e.id,idolId:e.idol.id}},a=this._gameManager.appeal(i);this._serverAction.appeal(i).then(function(e){e&&e.hash!==a.hash&&_&&(g({requestParams:i,serverResponse:e,clientResponse:a}),_=!0)}),this._usedSkills.push(e);var o=this._createAppealViewResponse(a);0===this._actors.length?this._actors=o.actors.map(function(e){return new f.default(e)}):o.actors.forEach(function(e){var t=r._findActorBy(e);t.updateParameter(e),t.updateStatusEffectsWithTurnIncrement()});var s=!0,l=!1,u=void 0;try{for(var c,d=o.actions[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value,h=this._findActorBy(p),y=!0,m=!1,b=void 0;try{for(var v,w=p.targets[Symbol.iterator]();!(y=(v=w.next()).done);y=!0){var k=v.value,S=this._findActorBy(k),I=!0,E=!1,A=void 0;try{for(var x,C=k.effects[Symbol.iterator]();!(I=(x=C.next()).done);I=!0){var T=x.value;"buff"===T.effectType?h.addStatusEffect(T):"debuff"===T.effectType&&S.addStatusEffect(T)}}catch(e){E=!0,A=e}finally{try{!I&&C.return&&C.return()}finally{if(E)throw A}}}}catch(e){m=!0,b=e}finally{try{!y&&w.return&&w.return()}finally{if(m)throw b}}}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}return o.actor=this._actors,o}},{key:"findActiveSkill",value:function(e,t,n){return n?this._store.memoryAppeal:this._store.findActiveSkill(e,t)}},{key:"checkConcertIsFinished",value:function(){var e=this._actors.find(function(e){return e.role===u.default.ACTOR_ROLES.IDOL}),t=this._actors.filter(function(e){return e.role===u.default.ACTOR_ROLES.RIVAL}),n=this._actors.filter(function(e){return e.role===u.default.ACTOR_ROLES.JUDGE});return 0===e.hp?{finished:!0,isRetired:!0}:t.some(function(e){return 0!==e.hp})&&n.some(function(e){return 0!==e.hp})?{finished:!1,isRetired:!1}:{finished:!0,isRetired:!1}}},{key:"createResultRivals",value:function(){for(var e=this._actors.filter(function(e){return e.role!==h.JUDGE}).map(function(e){return{id:e.id,score:e.star,isPlayer:e.role===h.IDOL}}).sort(function(e,t){return t.score-e.score}),t=0;t<e.length;t++){var n=e[t];if(0!==t){var r=e[t-1];r.score===n.score?n.order=r.order:n.order=t+1}else n.order=t+1}return e.filter(function(e){return!e.isPlayer}).map(function(e){return delete e.isPlayer,e})}},{key:"_findActorBy",value:function(e){return this._actors.find(function(t){return t.role===e.role&&(t.role===h.IDOL||t.id===e.id)})}},{key:"_createStandbyViewResponse",value:function(e){var t=this,n=Object.assign({},e),r=n.idol,i=n.rivals,a=this._store;return r.appealMeters=r.appealMeterIds.map(function(e){return a.findAppealMeter(e)}),r.activeSkills=r.activeSkills.map(function(e){return t._createActiveSkillData(e)}),r.passiveSkills=r.passiveSkills.map(function(e){return t._store.findPassiveSkill(e.passiveSkillId,e.idolId)}),i.forEach(function(e){e.result=a.findAppealMeter(e.appealMeterId).category}),this._store.updateLinkSkillState(r.activeSkills,r.enabledMemoryAppealLinkSkill),n}},{key:"_createAppealViewResponse",value:function(e){var t=this,n=Object.assign({},e);return this._checkFinishStars(n.actions,this._checkTopStars(n.actions)),n.actions=n.actions.filter(function(e){return e.role===h.JUDGE||!!e.isUsedMemoryAppeal||"0"!==e.usedSkillId}),n.actions=n.actions.map(function(e){return t._actionFactory.create(e)}),n}},{key:"_createActiveSkillData",value:function(e){var t=this._store.findActiveSkill(e.activeSkillId,e.idolId);t.enabledLinkSkill=e.enabledLinkSkill;var n=t.linkSkill;return n&&(n.linkSkillIdols=this._store.fetchIdolsByLinkSkill(n)),t}},{key:"_createMemoryAppealData",value:function(e){var t=e.linkSkill;t&&(t.linkSkillIdols=this._store.fetchIdolsByLinkSkill(t))}},{key:"_checkTopStars",value:function(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=s.stars;if(l)for(var u=0;u<l.length;u++){var c=l[u];c.playerId=s.id,c.category===y.TOP&&(t[c.judgeId]=l.splice(u,1)[0],u--)}}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return t}},{key:"_checkFinishStars",value:function(e,t){if(0!==Object.keys(t).length){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=s.stars;if(l)for(var u=0;u<l.length;u++){var c=l[u];c.category===y.FINISH&&t[c.judgeId]&&(l.splice(u+1,0,t[c.judgeId]),u++)}}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}}},{key:"store",get:function(){return this._store}},{key:"idols",get:function(){return this._store.idols}},{key:"centerIdol",get:function(){return this._store.centerIdol}},{key:"activeSkills",get:function(){return this._store.activeSkills}},{key:"allSkills",get:function(){return this._store.allSkills}},{key:"memoryAppeal",get:function(){return this._store.memoryAppeal}},{key:"memoryAppealPoint",get:function(){return this._memoryAppealPoint}},{key:"actors",get:function(){return this._actors}},{key:"playerIdolActors",get:function(){return this._actors.filter(function(e){return e.role!==h.JUDGE})}},{key:"judgeActors",get:function(){return this._actors.filter(function(e){return e.role===h.JUDGE})}},{key:"turn",get:function(){return this._turn}},{key:"usedSkills",get:function(){return this._usedSkills}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.appealMeters=t.appealMeters,this.judges=t.judges,
this.rivals=t.rivals,this.idols=t.idols,this.activeSkills=t.activeSkills,this.centerIdol=this.idols.find(function(e){return e.isCenter}),this.otherIdols=this.idols.filter(function(e){return!e.isCenter}),this.memoryAppeal=this.centerIdol.memoryAppeal,this.allSkills=this.activeSkills.slice(0),this.memoryAppeal&&this.allSkills.push(this.memoryAppeal)}return i(e,[{key:"findAppealMeter",value:function(e){return this.appealMeters.find(function(t){return t.id===e})}},{key:"findActiveSkill",value:function(e,t,n){return n?this.memoryAppeal:this.activeSkills.find(function(n){return n.id===e&&n.idol.id===t})}},{key:"findPassiveSkill",value:function(e,t){return this.findIdol(t).passiveSkills.find(function(t){return t.id===e})}},{key:"findIdol",value:function(e){return this.idols.find(function(t){return t.idolId===e})}},{key:"fetchIdolsByLinkSkill",value:function(e){var t=e.linkSkillCharacters.map(function(e){return e.characterId});return this._fetchIdolsByCharacterIds(t)}},{key:"findRival",value:function(e){return this.rivals.find(function(t){return t.id===e})}},{key:"findJudge",value:function(e){return this.judges.find(function(t){return t.id===e})}},{key:"updateLinkSkillState",value:function(e,t){var n=this;e.forEach(function(e){var t=n.activeSkills.find(function(t){return e.id===t.id});t&&t.linkSkill&&(t.linkSkill.enabledLinkSkill=e.enabledLinkSkill)}),this.memoryAppeal&&this.memoryAppeal.linkSkill&&(this.memoryAppeal.enabledLinkSkill=t,this.memoryAppeal.linkSkill.enabledLinkSkill=t)}},{key:"_fetchIdolsByCharacterIds",value:function(e){var t=this;return e.map(function(e){return t._findIdolByCharacterId(e)})}},{key:"_findIdolByCharacterId",value:function(e){return this.idols.find(function(t){return t.characterId===e})}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={IDOL:"idol",RIVAL:"rival",JUDGE:"judge"},o={LINK:"linkSkill",MEMORY:"memoryAppeal",SKILL:"normalSkill",NORMAL:"normalAttack"},s=function(){function e(t){r(this,e),this._store=t}return i(e,[{key:"create",value:function(e){switch(e.role){case a.IDOL:return this._createPlayerAction(e);case a.RIVAL:return this._createRivalAction(e);case a.JUDGE:return this._createJudgeAction(e);default:throw new Error("Unexpected appeal role")}}},{key:"_createPlayerAction",value:function(e){var t=this._store,n=e.usedSkillIdolId,r=t.findIdol(n),i=t.findActiveSkill(e.usedSkillId,n,e.isUsedMemoryAppeal);if(i){var a=i.linkSkill;e.isUsedLinkSkill&&(a.linkSkillIdols=this._store.fetchIdolsByLinkSkill(a));var s=!0,l=!1,u=void 0;try{for(var c,f=e.targets[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var d=c.value,p=d.actionType===o.LINK?a:i,h=!0,y=!1,m=void 0;try{for(var _,g=d.effects[Symbol.iterator]();!(h=(_=g.next()).done);h=!0)!function(){var e=_.value;e.data=p.skillEffects.find(function(t){return t.id===e.effectId})}()}catch(e){y=!0,m=e}finally{try{!h&&g.return&&g.return()}finally{if(y)throw m}}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}return Object.assign(e,{idol:r,skill:i})}},{key:"_createRivalAction",value:function(e){var t=this._store.findRival(e.id),n=e.isUsedMemoryAppeal?t.rivalMemoryAppeal:t.rivalSkills.find(function(t){return t.id===e.usedSkillId});if(n){var r=!0,i=!1,a=void 0;try{for(var o,s=e.targets[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=!0,c=!1,f=void 0;try{for(var d,p=l.effects[Symbol.iterator]();!(u=(d=p.next()).done);u=!0)!function(){var t=d.value,r=e.isUsedMemoryAppeal?n.rivalMemoryAppealEffects:n.rivalSkillEffects;t.data=r.find(function(e){return e.id===t.effectId})}()}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}return Object.assign(e,{rival:t,skill:n})}},{key:"_createJudgeAction",value:function(e){var t=this._store.findJudge(e.id),n=e.isUsedSkill?t.skill:null,r=!0,i=!1,a=void 0;try{for(var o,s=e.targets[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=!0,c=!1,f=void 0;try{for(var d,p=l.effects[Symbol.iterator]();!(u=(d=p.next()).done);u=!0)!function(){var e=d.value;e.data=n.skillEffects.find(function(t){return t.id===e.effectId})}()}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return Object.assign(e,{skill:n})}}],[{key:"ACTOR_ROLES",get:function(){return a}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this._role=t.role,this._id=t.id,this._hp=t.hp,this._star=t.star,this._isDead=t.isDead,this._statusEffects=[]}return i(e,[{key:"addStatusEffect",value:function(e){this._statusEffects.push({data:e.data,leftTurn:e.leftTurn})}},{key:"updateStatusEffectsWithTurnIncrement",value:function(){this._statusEffects.forEach(function(e){e.leftTurn--}),this._statusEffects=this._statusEffects.filter(function(e){return e.leftTurn>0})}},{key:"updateParameter",value:function(e){this._hp=e.hp,this._star=e.star,this._isDead=e.isDead}},{key:"role",get:function(){return this._role}},{key:"id",get:function(){return this._id}},{key:"hp",get:function(){return this._hp}},{key:"star",get:function(){return this._star}},{key:"isDead",get:function(){return this._isDead}},{key:"statusEffects",get:function(){return this._statusEffects.map(function(e){return e.data})}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"spotlight1",fullName:"spotlight1",type:"sprite",key:"spotlight_1.png",x:308,y:116},{name:"spotlight2",fullName:"spotlight2",type:"sprite",key:"spotlight_2.png",x:208,y:50},{name:"light1",fullName:"light1",type:"sprite",key:"light_1.png",x:140,y:0},{name:"light2",fullName:"light2",type:"sprite",key:"light_2.png",x:349,y:0},{name:"light3",fullName:"light3",type:"sprite",key:"light_3.png",x:660,y:0},{name:"light4",fullName:"light4",type:"sprite",key:"light_4.png",x:766,y:0},{name:"speakerLeft",fullName:"speakerLeft",anchor:{x:.5,y:.5},type:"sprite",key:"speaker_left.png",x:163,y:188},{name:"speakerRight",fullName:"speakerRight",anchor:{x:.5,y:.5},type:"sprite",key:"speaker_right.png",x:967,y:188},{name:"effectLeft",fullName:"effectLeft",type:"sprite",key:"effect_left.png",x:0,y:0},{name:"effectRight",fullName:"effectRight",type:"sprite",key:"effect_right.png",x:886,y:0}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(26),s=r(o),l=n(68),u=r(l);t.default=["images/ui/produce_deck/parts_deck_edit.json",{name:"deck_edit_deck_base.png",url:"images/ui/produce_deck/deck_edit_deck_base.png"},"images/ui/item/parts_content.json",{name:"bg_idol_select.jpg",url:a.default.bg.IDOL_SELECT},{name:"unit_platfom_kira",url:"particles/deck_edit/unit_platfom_kira/data.json"},{name:"unit_platfom_kira/particle.png",url:"particles/deck_edit/unit_platfom_kira/particle.png"}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}((0,u.default)(s.default.ready)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},c=n(4),f=r(c),d=n(1),p=r(d),h=n(9),y=r(h),m=n(3),_=r(m),g=n(0),b=r(g),v=n(446),w=r(v),k=n(1121),S=r(k),I=n(14),E=r(I),A=n(1123),x=r(A),C=n(1125),T=r(C),P=n(1127),O=r(P),N=n(450),M=r(N),R=n(451),D=r(R),F=n(420),B=r(F),j=n(174),L=r(j),U=n(262),H=r(U),G=n(447),z=r(G),V=n(7),K=r(V),W=n(32),q=r(W),X=n(21),Y=r(X),J=n(71),Q=r(J),Z={idle:"idle",busy:"busy"},$=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._store=e.store,n._back=e.back,n._startProduce=e.startProduce,n._goToItem=e.goToItem,n._mainLayer=aoba.Container.new().addTo(n),n._deckEditLayer=null,n._popLayer=aoba.Container.new().addTo(n),n._blocker=aoba.Graphics.new().beginFill(0).drawRect(0,0,p.default.SCREEN_WIDTH,p.default.SCREEN_HEIGHT).hide().addTo(n._popLayer),n._blocker.alpha=.5,n._blocker.interactive=!0,n._autoSelectPop=null,n._staminaRecoverPop=null,n._idolDetailLayer=null,n._start(),aoba.soundManager.playBGMAsync(p.default.bgm.deck),n}return o(t,e),l(t,[{key:"ezgPreDestroy",value:function(){this._deckEditLayer&&(this._deckEditLayer.destroy({children:!0}),this._deckEditLayer=null),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"_start",value:function(){this._startDeckEdit()}},{key:"_startDeckEdit",value:function(){this._mainLayer.removeChildren(),this._deckEditLayer||(this._deckEditLayer=w.default.new(),this._deckEditLayer.once("back",this._back,this),this._deckEditLayer.on("requestStartProduce",this._onRequestStartProduce,this),this._deckEditLayer.on("selectProduceIdol",this._onStartProduceIdolSelect,this),this._deckEditLayer.on("selectSupportIdol",this._onStartSupportIdolSelect,this),this._deckEditLayer.on("autoSelectSupportIdols",this._onAutoSelectSupportIdols,this),this._deckEditLayer.on("selectDeck",this._onSelectDeck,this),this._deckEditLayer.on("showIdolDetail",this._showIdolDetail,this),this._deckEditLayer.on("showSupportSkillBonus",this._showSupportSkillBonus,this),this._deckEditLayer.on("showProduceTips",this._showProduceTips,this),b.default.CommonPartsLayer.create({headerTitle:_.default.t("header.deckEdit"),tips:p.default.tips.produceReady}).addTo(this._deckEditLayer)),this._deckEditLayer.addTo(this._mainLayer),this._deckEditLayer.open(this._store.decks,this._store.targetDeckIndex),this._deckEditLayer.decisionButton.visible=this._store.isProduceEnabled,this._deckEditLayer.produceTipsButton.visible=this._store.isProduceEnabled,this._state=Z.idle}},{key:"_onRequestStartProduce",value:function(){this._state!==Z.busy&&(this._store.isAllMembersSelected()?this._store.hasEnoughStamina()?this._confirmStartProduce():this._openStaminaRecoverDialog():this._openMemberShortageDialog())}},{key:"_confirmStartProduce",value:function(){var e=this,t=this._store.userStamina.calcCurrentStamina(),n=T.default.new().addTo(this._popLayer);n.once("ok",function(){return e._startProduce()}),n.once("cancel",function(){return n.close()}),n.open(t,t-this._store.consumeStamina)}},{key:"_openStaminaRecoverDialog",value:function(){var e=this;this._showBlocker(0),Promise.all([D.default.get(),B.default.get()]).then(function(t){var n=s(t,2),r=n[0],i=n[1],a=i.filter(function(e){return e.recoveryItemType===Q.default.recoveryItem.types.produce});e._getItemResources(i).then(function(){e._staminaRecoverPop=O.default.new(a,r,e._store.consumeStamina).addTo(e._popLayer),e._staminaRecoverPop.on("goToItem",e._goToItem,e).on("recover",function(t){e._store.updateStamina(t),e._staminaRecoverPop.close()}).on("close",function(){return e._hideBlocker()})})})}},{key:"_getItemResources",value:function(e){var t=[];return e.forEach(function(e){t.push(e.getIconImagePath())}),(0,q.default)(t)}},{key:"_openMemberShortageDialog",value:function(){E.default.new({title:_.default.t("deck.title.confirm"),text:_.default.t("deck.memberShortageNotice"),type:"close"}).addTo(this._popLayer).open()}},{key:"_onStartProduceIdolSelect",value:function(){this._startIdolSelect(!0)}},{key:"_onStartSupportIdolSelect",value:function(e){this._store.targetSupportIdolIndex=e,this._startIdolSelect(!1,this._store.supportIdols)}},{key:"_onAutoSelectSupportIdols",value:function(){var e=this,t=x.default.new().once("ok",function(){t.interactiveChildren=!1,e._requestSupportIdols().then(function(){return e._store.autoSelectSupportIdols()}).then(function(){return e._requestUpdateDeck()}).then(function(){e._deckEditLayer.setDeck(e._store.targetDeck),t.close()})}).addTo(this._popLayer);t.open()}},{key:"_onSelectDeck",value:function(e){aoba.soundManager.playSE(K.default.ui.select,{volume:.5}),this._store.targetDeckIndex!==e&&(this._store.targetDeckIndex=e,this._deckEditLayer.setDeck(this._store.targetDeck),this._deckEditLayer.setDeckIndex(e))}},{key:"_startIdolSelect",value:function(e){this._store.isSelectProduceIdol=e,this._mainLayer.removeChildren(),S.default.new(e,this._store.targetDeck).on("back",this._onCompleteIdolSelect,this).on("selectIdol",this._onSelectIdol,this).on("showIdolDetail",this._showIdolDetail,this).addTo(this._mainLayer),this._state=Z.idle}},{key:"_onCompleteIdolSelect",value:function(){this._startDeckEdit()}},{key:"_onSelectIdol",value:function(e){this._state!==Z.busy&&(this._store.selectedIdol=e,this._store.isSelectProduceIdol?this._onSelectProduceIdol(e):this._onSelectSupportIdol(e))}},{key:"_onSelectProduceIdol",value:function(e){var t=this;if(this._state!==Z.busy){if(this._store.targetDeck.userIdol&&this._store.targetDeck.userIdol.id===e.id)return void this._onCompleteIdolSelect();if(this._store.isCharacterExistInDeck(e.idol.characterId)&&(!this._store.targetDeck.userIdol||this._store.targetDeck.userIdol.idol.characterId!==e.idol.characterId))return void this._openSameCharacterDialog();this._store.setSelectedIdol(e),this._state=Z.busy,this._requestUpdateDeck().then(function(){return t._onCompleteIdolSelect()})}}},{key:"_onSelectSupportIdol",value:function(e){var t=this;if(this._state!==Z.busy){var n=this._store.indexOfSupportIdol(e);if(n===this._store.targetSupportIdolIndex)return void this._onCompleteIdolSelect();if(-1===n&&this._store.isCharacterExistInDeck(e.supportIdol.characterId))return void this._openSameCharacterDialog();this._store.setSelectedIdol(e),this._state=Z.busy,this._requestUpdateDeck().then(function(){return t._onCompleteIdolSelect()})}}},{key:"_openSameCharacterDialog",value:function(){var e=this;E.default.new({title:_.default.t("deck.title.confirm"),text:_.default.t("deck.swapCharacterWarning"),type:"submit"
}).on("submit",function(){return e._onSwapIdol()}).addTo(this._popLayer).open()}},{key:"_onSwapIdol",value:function(){var e=this;this._state!==Z.busy&&(this._store.swapSelectedIdolWithSameCharacterMember(),this._state=Z.busy,this._requestUpdateDeck().then(function(){return e._onCompleteIdolSelect()}))}},{key:"_showBlocker",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this._blockerTween&&this._blockerTween.remove(),this._blocker.alpha=0,this._blockerTween=aoba.FrameTween.new(this._blocker).call(function(){e._blocker.show()}).to({alpha:t},10).call(function(){e._blockerTween=null})}},{key:"_hideBlocker",value:function(){var e=this;this._blockerTween&&this._blockerTween.remove(),this._blockerTween=aoba.FrameTween.new(this._blocker).to({alpha:0},10).call(function(){e._blocker.hide(),e._blockerTween=null})}},{key:"_requestSupportIdols",value:function(){var e=this;return this._store.supportIdols?Promise.resolve():L.default.getList().then(function(t){e._store.updateSupportIdols(t);var n=[];return t.forEach(function(e){n.push(e.getImagePath("icon"))}),(0,q.default)(n)})}},{key:"_requestUpdateDeck",value:function(){for(var e=this._store.targetDeck,n=e.userIdol?e.userIdol.id:0,r=f.default.pluck(e.userSupportIdols.filter(function(e){return e}),"id"),i=r.length;i<p.default.app.SUPPORT_IDOL_NUM;++i)r.push(0);return y.default.patch(z.default.route.updateDeck({id:e.id}),{userIdolId:n,userSupportIdolIds:r}).then(function(n){return(0,q.default)(t.getDecksResources([e]))})}},{key:"_showIdolDetail",value:function(e,t){var n=this;if(this._state!==Z.busy){var r=t?"userIdol":"userSupportIdol",i=H.default.find(function(e){return e.name===r}),a=this._state;this._state=Z.busy,Y.default.loadSceneAsync(i.detailSceneName,{additive:!0,asset:!0,request:!0,requestParams:e,showLoading:!1}).then(function(){n._state=a})}}},{key:"_showSupportSkillBonus",value:function(){M.default.new().addTo(this._popLayer).open(this._store.targetDeck.userSupportIdols)}},{key:"_showProduceTips",value:function(){var e=this;this.interactiveChildren=!1,b.default.TipsPage.loadAndAddTo(p.default.tips.produce,this._popLayer).then(function(){e.interactiveChildren=!0})}}],[{key:"getDecksResources",value:function(e){var t=[];return e.forEach(function(e){e.userIdol&&(t.push(e.userIdol.getImagePath("icon")),t.push(e.userIdol.getSpinePath("cb")),t.push(e.userIdol.getSpinePath("stand")),t.push(e.userIdol.getUnitImagePath("icon"))),e.userSupportIdols.forEach(function(e){e&&(t.push(e.getImagePath("icon")),t.push(e.getImagePath("concert_icon")),t.push(e.getSpinePath("cb")),t.push(e.getUnitImagePath("icon")),e.supportSkills.filter(function(e){return e.isTagBoost()}).forEach(function(e){t.push(e.getPlaceIconImagePath())}))})}),f.default.uniq(t)}}]),t}(aoba.Container);t.default=$},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg_deck.jpg",x:0,y:0},{name:"ui",fullName:"ui",visible:!1,type:"container",x:0,y:0}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"deck",fullName:"deck",visible:!1,type:"container",x:0,y:137},{name:"deckSelect",fullName:"deckSelect",visible:!1,type:"container",x:18,y:84},{name:"autoSelectButton",fullName:"autoSelectButton",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_auto_select_button.png",x:893,y:178},{name:"bounusButton",fullName:"bounusButton",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_bounus_button.png",x:1050,y:178},{name:"decisionButton",fullName:"decisionButton",anchor:{x:.5,y:.5},type:"sprite",key:"decision_button.png",x:1044,y:589},{name:"backButton",fullName:"backButton",anchor:{x:.5,y:.5},type:"sprite",key:"back_button.png",x:51,y:589},{name:"produceTipsButton",fullName:"produceTipsButton",anchor:{x:.5,y:.5},type:"sprite",key:"produce_tips_button.png",x:914,y:36}],name:"",fullName:"",visible:!1,type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(1116),f=r(c),d=n(1117),p=r(d),h=n(57),y=r(h),m=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{idolProduce:p.default.new(p.default.TYPE.PRODUCE_IDOL),idolSupport1:p.default.new(p.default.TYPE.SUPPORT_IDOL),idolSupport2:p.default.new(p.default.TYPE.SUPPORT_IDOL),idolSupport3:p.default.new(p.default.TYPE.SUPPORT_IDOL),idolSupport4:p.default.new(p.default.TYPE.SUPPORT_IDOL),idolSupport5:p.default.new(p.default.TYPE.GUEST_IDOL)});e._produceIdolImage=n.idolSpine,e._produceIdolSpineLayer=aoba.Container.new().hide(),e._produceIdolSpineLayer.position=e._produceIdolImage.position,e.addChildAt(e._produceIdolSpineLayer,e.getChildIndex(e._produceIdolImage)),e._produceIdolInfo=n.idolProduce.hide(),e._supportIdolInfos=[];for(var r=0;r<u.default.app.SUPPORT_IDOL_NUM;++r)e._supportIdolInfos.push(n["idolSupport"+(r+1)].hide());e._produceIdolInfo.setTouchEventToIdolIcon(function(){e._deck.userIdol&&e._deck.userIdol.id&&e.emit("holdDownIdol",e._deck.userIdol.id,!0)},function(){e.emit("produceIdol")});for(var o=0;o<u.default.app.SUPPORT_IDOL_NUM;++o)!function(t){var n=t;e._supportIdolInfos[t].setTouchEventToIdolIcon(function(){var t=e._deck.userSupportIdols[n];t&&t.id&&e.emit("holdDownIdol",t.id,!1)},function(){e.emit("supportIdol",n)})}(o);return e}return o(t,e),s(t,[{key:"open",value:function(e){this.setDeck(e),this.show()}},{key:"setDeck",value:function(e){var t=this;this._cancelIdolTween(),this._createIdolFadeOutTween(e).call(function(){t._setDeck(e),t._createIdolFadeInTween()})}},{key:"_createIdolFadeOutTween",value:function(e){if(this._deck&&this._deck.getUserDeckId()!==e.getUserDeckId()){this._createIdolTween(this._produceIdolSpineLayer).to({x:this._produceIdolImage.position.x+40,alpha:0},3),this._addIdolTweens(this._produceIdolInfo.createFadeOutTweens());for(var t=0;t<u.default.app.SUPPORT_IDOL_NUM;++t){var n=1+1*t;this._addIdolTweens(this._supportIdolInfos[t].createFadeOutTweens(n))}return this._createIdolTween(this).wait(3+1*u.default.app.SUPPORT_IDOL_NUM+2)}return this._createIdolTween(this)}},{key:"_setDeck",value:function(e){var t=this;this._deck=e,this.setProduceIdol(e.getUserIdol()),e.getUserSupportIdols().forEach(function(e,n){t.setSupportIdol(n,e)})}},{key:"_createIdolFadeInTween",value:function(){this._produceIdolSpineLayer.x=this._produceIdolImage.position.x-40,this._produceIdolSpineLayer.alpha=0,this._produceIdolSpineLayer.show(),this._createIdolTween(this._produceIdolSpineLayer).to({x:this._produceIdolImage.position.x,alpha:1},10),this._produceIdolInfo.show(),this._addIdolTweens(this._produceIdolInfo.createFadeInTweens());for(var e=0;e<u.default.app.SUPPORT_IDOL_NUM;++e){var t=5+3*e;this._supportIdolInfos[e].show(),this._addIdolTweens(this._supportIdolInfos[e].createFadeInTweens(t))}return this._createIdolTween(this).wait(5+3*u.default.app.SUPPORT_IDOL_NUM+5)}},{key:"_cancelIdolTween",value:function(){this._idolTweens&&this._idolTweens.forEach(function(e){return e.remove()}),this._idolTweens=[]}},{
key:"_createIdolTween",value:function(e){var t=aoba.FrameTween.new(e);return this._idolTweens.push(t),t}},{key:"_addIdolTweens",value:function(e){var t=this;e.forEach(function(e){return t._idolTweens.push(e)})}},{key:"setProduceIdol",value:function(e){if(this._produceIdolSpineLayer.removeChildren(),e&&e.id){var t=y.default.new(e.getSpinePath("stand")).addTo(this._produceIdolSpineLayer).play("wait",!0),n=this._produceIdolImage.toGlobal(aoba.p(0,0));t.y+=n.y-t.bounds.y}this._produceIdolInfo.setIdol(e)}},{key:"setSupportIdol",value:function(e,t){this._supportIdolInfos[e].setIdol(t)}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"deckEditDeckBase",fullName:"deckEditDeckBase",type:"sprite",key:"deck_edit_deck_base.png",x:0,y:0},{name:"idolSpine",fullName:"idolSpine",visible:!1,anchor:{x:.5,y:0},type:"sprite",key:"idol_icon_none.png",x:213,y:20},{name:"idolProduce",fullName:"idolProduce",type:"container",x:346,y:82},{name:"idolSupport1",fullName:"idolSupport1",type:"container",x:478,y:82},{name:"idolSupport2",fullName:"idolSupport2",type:"container",x:610,y:82},{name:"idolSupport3",fullName:"idolSupport3",type:"container",x:742,y:82},{name:"idolSupport4",fullName:"idolSupport4",type:"container",x:874,y:82},{name:"idolSupport5",fullName:"idolSupport5",type:"container",x:1006,y:82},{name:"guestTitle",fullName:"guestTitle",type:"sprite",key:"deck_edit_guest_title.png",x:997,y:69}],name:"",fullName:"",visible:!1,type:"container",x:0,y:137}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1118),u=r(l),c=n(98),f=r(c),d=n(57),p=r(d),h=n(7),y=r(h),m=n(23),_=r(m),g=n(19),b=r(g),v={PRODUCE_IDOL:"produce",SUPPORT_IDOL:"support",GUEST_IDOL:"guest"},w=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));t._type=e;var r=t.fromData(u.default,{plate:{key:"deck_edit_"+e+"_plate.png"}}),o=r.idol;t._idolIconBase=r.idolIcon,t._unitIcon=r.unitIcon.hide(),t._places=[r.place1.hide(),r.place2.hide()],t._places.forEach(function(e,t){e.icon=r["place"+(t+1)+"/placeIcon"],e.icon.setScale(39/64)});var s=r.plate,l=t.getChildIndex(o)+1,c=aoba.Container.new().addToAt(t,l,s.x,s.y),f=aoba.Container.new().addToAt(t,l,s.x,s.y);t._plateParticle=new _.default(["unit_platfom_kira/particle.png"],"unit_platfom_kira"),t._plateParticle.setScale(.372),t._plateParticle.setPosition(0,-20),f.addChild(t._plateParticle.container);var d=aoba.Container.new();return d.position=o.position,d.scale=aoba.p(.7,.7),t.addChildAt(d,t.getChildIndex(o)),t._idolImage=o,t._idolSpineLayer=d,(0,b.default)({folderPath:"deck_edit/plate_"+e}).then(function(e){t._plateAE=e,t._plateAE.position=aoba.p(-70,-94.5),t._plateAE.play(!0),c.addChild(t._plateAE),t._updatePlateAEState()}),t}return o(n,t),s(n,null,[{key:"TYPE",get:function(){return v}}]),s(n,[{key:"setTouchEventToIdolIcon",value:function(e,t){var n=this;this._idolIconBase.interactive=!0,this._idolIconBase.on("touchstart",function(){aoba.soundManager.playSE(y.default.ui.select,{volume:.5}),n._mouseTimer=setTimeout(function(){e&&e(),n._mouseTimer=null},500)},this),this._idolIconBase.on("touchend",function(){n._mouseTimer&&(clearTimeout(n._mouseTimer),t&&t())},this)}},{key:"createFadeOutTweens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return[aoba.FrameTween.new(this._idolSpineLayer).wait(e).to({x:this._idolImage.x+10},2),aoba.FrameTween.new(this).wait(e).to({alpha:0},2)]}},{key:"createFadeInTweens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._idolSpineLayer.x=this._idolImage.position.x,this.alpha=0,[aoba.FrameTween.new(this).wait(e).to({alpha:1},5)]}},{key:"setIdol",value:function(t){if(this._idol=t,this._idolSpineLayer.removeChildren(),this._idolIconBase.icon&&(this._idolIconBase.icon.remove(),this._idolIconBase.icon=null),this._unitIcon.hide(),this._places.forEach(function(e){return e.hide()}),this._plateParticle.stop(),t&&t.id){if(p.default.new(t.getSpinePath("cb")).setScale(.5).addTo(this._idolSpineLayer).setSkin("normal").play("wait",!0),this._idolIconBase.icon=f.default.new(t).addTo(this._idolIconBase),this._type!==v.GUEST_IDOL&&(this._unitIcon.texture=aoba.Texture.fromImage(t.getUnitImagePath("icon")),this._unitIcon.show()),this._type!==v.PRODUCE_IDOL)for(var n=e.uniq(t.acquiredSupportSkills.filter(function(e){return e.isTagBoost()}),!1,function(e){return e.producePlaceCategoryId}),r=Math.min(n.length,this._places.length),i=0;i<r;++i)this._places[i].icon.texture=aoba.Texture.fromImage(n[i].getPlaceIconImagePath()),this._places[i].show();this._plateParticle.play()}this._updatePlateAEState()}},{key:"_updatePlateAEState",value:function(){this._plateAE&&(this._plateAE.alpha=this._idol&&this._idol.id?1:0)}}]),n}(aoba.Container);t.default=w}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"plate",fullName:"plate",anchor:{x:.5,y:.5},type:"sprite",key:"idol_icon_none.png",x:48,y:277},{name:"idol",fullName:"idol",visible:!1,anchor:{x:.5,y:1},type:"sprite",key:"idol_icon_none.png",x:49,y:276},{children:[{name:"placeIcon",fullName:"place1/placeIcon",type:"sprite",key:"idol_icon_none.png",x:0,y:0},{name:"deckEditPlaceUpIcon",fullName:"place1/deckEditPlaceUpIcon",type:"sprite",key:"deck_edit_place_up_icon.png",x:26,y:20}],name:"place1",fullName:"place1",type:"container",x:71,y:264},{children:[{name:"placeIcon",fullName:"place2/placeIcon",type:"sprite",key:"idol_icon_none.png",x:0,y:0},{name:"deckEditPlaceUpIcon",fullName:"place2/deckEditPlaceUpIcon",type:"sprite",key:"deck_edit_place_up_icon.png",x:25,y:20}],name:"place2",fullName:"place2",type:"container",x:41,y:264},{name:"unitIcon",fullName:"unitIcon",type:"sprite",key:"idol_icon_none.png",x:67,y:98},{name:"idolIcon",fullName:"idolIcon",type:"sprite",key:"idol_icon_none.png",x:0,y:0}],name:"",fullName:"",type:"container",x:1006,y:219}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1120),u=r(l),c=n(447),f=r(c),d=n(7),p=r(d),h={align:"center",fill:0,fontFamily:"HummingStd-E",fontSize:16,stroke:16777215,strokeThickness:2},y={align:"center",
fill:16777215,fontFamily:"HummingStd-E",fontSize:16,stroke:11409760,strokeThickness:2},m=10,_=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(u.default);e._deckButtons=[],e._deckButtonTexts=[];for(var r=0;r<m;++r)!function(t){var r=n[f.default.objsIndex.deck({i:t})];r.interactive=!0,r.on("tap",function(){return e._onTapDeckButton(t)}),e._deckButtons.push(r),e._deckButtonTexts.push(n[f.default.objsIndex.deckText({i:t})])}(r);return e}return o(t,e),s(t,[{key:"open",value:function(e){this.setDeckIndex(e),this.show()}},{key:"setDeckIndex",value:function(e){for(var t=0;t<m;++t){var n=e===t;this._deckButtons[t].texture=this._getButtonTexture(t,n),this._deckButtonTexts[t].text=f.default.deckButtonMessage({deckIndex:t}),this._deckButtonTexts[t].style=n?y:h}}},{key:"_onTapDeckButton",value:function(e){aoba.soundManager.playSE(p.default.ui.select),this.emit("deck",e)}},{key:"_getButtonTexture",value:function(e,t){var n=void 0;return n=0===e?"left":e===m-1?"right":"center",aoba.Texture.fromImage("deck_edit_"+n+"_"+(t?"on":"off")+"_tab.png")}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"text",fullName:"deck1/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c81",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:0,y:0}],name:"deck1",fullName:"deck1",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_left_off_tab.png",x:55,y:22},{children:[{name:"text",fullName:"deck2/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c82",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck2",fullName:"deck2",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_center_off_tab.png",x:165,y:22},{children:[{name:"text",fullName:"deck3/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c83",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck3",fullName:"deck3",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_center_off_tab.png",x:275,y:22},{children:[{name:"text",fullName:"deck4/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c84",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck4",fullName:"deck4",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_center_off_tab.png",x:385,y:22},{children:[{name:"text",fullName:"deck5/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c85",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck5",fullName:"deck5",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_center_off_tab.png",x:495,y:22},{children:[{name:"text",fullName:"deck6/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c86",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck6",fullName:"deck6",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_center_off_tab.png",x:605,y:22},{children:[{name:"text",fullName:"deck7/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c87",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck7",fullName:"deck7",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_center_off_tab.png",x:715,y:22},{children:[{name:"text",fullName:"deck8/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c88",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck8",fullName:"deck8",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_center_off_tab.png",x:825,y:22},{children:[{name:"text",fullName:"deck9/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c89",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck9",fullName:"deck9",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_center_off_tab.png",x:935,y:22},{children:[{name:"text",fullName:"deck10/text",anchor:{x:.5,y:.5},type:"text",text:"\u30e6\u30cb\u30c3\u30c810",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:-1,y:0}],name:"deck10",fullName:"deck10",anchor:{x:.5,y:.5},type:"sprite",key:"deck_edit_right_off_tab.png",x:1045,y:22}],name:"",fullName:"",visible:!1,type:"container",x:18,y:84}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(0),f=r(c),d=n(21),p=r(d),h=n(175),y=r(h),m=n(137),_=r(m),g=n(176),b=r(g),v=n(177),w=r(v),k=n(178),S=r(k),I={produceIdol:{idolTypeNames:["userIdol"],headerTitleKey:"header.produceIdolSelect",getId:function(e){return e.id}},supportIdol:{idolTypeNames:["userSupportIdol"],headerTitleKey:"header.supportIdolSelect",getId:function(e){return e.supportIdol.id}}},E=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._isProduceIdol=e,r._selectIdolType=e?I.produceIdol:I.supportIdol;var o=[];e?n.userIdol&&o.push(r._selectIdolType.getId(n.userIdol)):n.userSupportIdols.forEach(function(e){e&&e.supportIdol&&o.push(r._selectIdolType.getId(e))}),r._deckIdolIds=o;var s=new _.default,l=function(e,t){r.emit("selectIdol",t)},c=function(e,t){e.detailKey&&p.default.loadSceneAsync(e.detailSceneName,{additive:!0,requestParams:t[e.detailKey],showLoading:!1})},d=b.default.new({onTapIdolIcon:l,onHoldIdolIcon:c});r._idolListContainer=d;var h=function(){return!1},m=w.default.create({idolTypeNames:r._selectIdolType.idolTypeNames,onSelectTab:function(e){S.default.switchIdolList({tabList:m,idolListContainer:d,idolType:e,store:s,checkIconIsDisabled:h}).then(function(){return r._onShowIdolList()})}});return r.fromData(y.default,{bg:f.default.MovingBg.new(),tabList:m,idolListContainer:d}),m.init(),r._createHeader(u.default.t(r._selectIdolType.headerTitleKey)),r}return o(t,e),s(t,[{key:"_onShowIdolList",value:function(){var e=this,t=this._idolListContainer.idols;this._idolListContainer.idolIcons.forEach(function(n,r){n.updateFormationBadge(e._deckIdolIds.includes(e._selectIdolType.getId(t[r])))})}},{key:"_createHeader",value:function(e){var t=this;this._commonParts&&this._commonParts.destroy({children:!0}),this._commonParts=f.default.CommonPartsLayer.create({headerTitle:e,onTapBackButton:function(){return t.emit("back")}}).addTo(this)}}]),t}(aoba.Container);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idolListContainerBase",fullName:"idolListContainerBase",type:"sprite",key:"idol_list_container_base.png",x:0,y:0},{name:"emptyNotice",fullName:"emptyNotice",visible:!1,type:"text",text:"\u7279\u8a13\u53ef\u80fd\u306a\u30a2\u30a4\u30c9\u30eb\u304c\u3044\u307e\u305b\u3093\u3002",style:{fill:5063497,fontFamily:"HummingStd-E",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:300,y:272},{name:"sortConditionButton",fullName:"sortConditionButton",type:"sprite",key:"sort_condition_button.png",x:605,y:16},{name:"sortOrderButton",fullName:"sortOrderButton",type:"sprite",key:"sort_order_button_asc.png",x:777,y:16}],name:"",fullName:"",type:"container",x:209,y:80}},function(e,t,n){"use strict"
;function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1124),l=r(s),u=n(14),c=r(u),f=n(3),d=r(f),p=function(e){function t(){var e;i(this,t);var n=aoba.Container.new();return n.fromData(l.default).message.style.align="center",e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{title:d.default.t("deck.autoSelectPopTitle"),container:n,buttons:[{image:"cancel_button.png",type:"close"},{image:"ok_button.png",callback:function(){return e.emit("ok")}}]}))}return o(t,e),t}(c.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"warning",fullName:"warning",type:"text",text:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30a2\u30a4\u30c9\u30eb\u306f\u5909\u66f4\u3055\u308c\u307e\u305b\u3093",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-163,y:83},{name:"message",fullName:"message",type:"text",text:"\u7dcf\u30a2\u30d4\u30fc\u30eb\u529b\u304c\u9ad8\u3044\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u3092\u512a\u5148\u3057\u3066\r\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u306e\u304a\u307e\u304b\u305b\u7de8\u6210\u3092\u884c\u3044\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-224,y:21},{name:"iconNoticeRed",fullName:"iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:-192,y:71}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:566,y:268}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1126),u=r(l),c=n(14),f=r(c),d=n(168),p=r(d),h=n(3),y=r(h),m=n(26),_=r(m),g=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=aoba.Container.new(),r=n.fromData(u.default);e._beforeStamina=r.beforeStamina,e._afterStamina=r.afterStamina;var o=[{image:"cancel_button.png",buttonClass:p.default,callback:function(){return e.emit("cancel")}},{image:"deck_edit_btn_start_produce.png",buttonClass:aoba.Button,callback:function(){aoba.soundManager.playSE(_.default.ready.start),e.emit("ok")}}];return e._dialog=new f.default({title:y.default.t("deck.title.startProducePop"),buttons:o,container:n}),e._dialog.on("closeEnd",function(){return e.emit("end")}),e._dialog.addTo(e),e}return o(t,e),s(t,[{key:"open",value:function(e,t){this._beforeStamina.text=e,this._afterStamina.text=t,this.show(),this._dialog.open()}},{key:"close",value:function(){this._dialog.close()}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"deckEditStartProduceInnerBase",fullName:"deckEditStartProduceInnerBase",type:"sprite",key:"deck_edit_start_produce_inner_base.png",x:-223,y:59},{name:"beforeStamina",fullName:"beforeStamina",anchor:{x:.5,y:.5},type:"text",text:"100",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-17,y:99},{name:"afterStamina",fullName:"afterStamina",anchor:{x:.5,y:.5},type:"text",text:"100",style:{fill:43007,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:103,y:99},{name:"deckEditStartProduceMessage1",fullName:"deckEditStartProduceMessage1",anchor:{x:0,y:0},type:"text",text:"\u30b9\u30bf\u30df\u30ca\u3092\u6d88\u8cbb\u3057\u3066\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3092\u958b\u59cb\u3057\u307e\u3059\u304b\uff1f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-228,y:0}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:567,y:239}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(14),f=r(c),d=n(71),p=r(d),h=n(449),y=r(h),m=n(1128),_=r(m),g=n(263),b=r(g),v=n(264),w=r(v),k=n(265),S=r(k),I=n(266),E=n(3),A=r(E),x={ready:0,busy:1},C=214,T=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=aoba.Container.new(),l=s.fromData(y.default),c=aoba.Container.new();return e.forEach(function(e,t){b.default.new(e).addTo(c,t*C,0).on("use",function(){o._onRequestUseItem(e,n)}).on("info",function(){o._showItemDetail(e)})}),c.addTo(l.itemListContent,0,0,{pivot:aoba.p(.5,0)}),o._staminaRecoverPop=f.default.new({size:"l",title:A.default.t("deck.title.staminaRecoverPop"),container:s,buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"to_item_button.png"}]}).on("submit",function(){return o.emit("goToItem")}).on("closeEnd",o._onStaminaRecoveryPopClose,o).addTo(o),o._addStaminaGauge(n.calcCurrentStamina()),o._blocker=aoba.Graphics.new().beginFill(0).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT).hide().addTo(o),o._blocker.alpha=.5,o._blocker.interactive=!0,o._popLayer=aoba.Container.new().addTo(o).hide(),o._state=x.ready,o._consumeStamina=r,o._staminaRecoverPop.open(),o}return o(t,e),s(t,[{key:"close",value:function(){this._staminaRecoverPop&&(this._staminaRecoverPop.close(),this._staminaRecoverPop=null)}},{key:"_onStaminaRecoveryPopClose",value:function(){this.emit("close"),this.destroy({children:!0})}},{key:"_showBlocker",value:function(){var e=this;this._blockerTween&&this._blockerTween.remove(),this._blocker.alpha=0,this._blockerTween=aoba.FrameTween.new(this._blocker).call(function(){e._blocker.show()}).to({alpha:.5},10).call(function(){e._blockerTween=null})}},{key:"_hideBlocker",value:function(){var e=this;this._blockerTween&&this._blockerTween.remove(),this._blockerTween=aoba.FrameTween.new(this._blocker).to({alpha:0},10).call(function(){e._blocker.hide(),e._blockerTween=null})}},{key:"_addStaminaGauge",value:function(e){var t=aoba.Container.new();t.fromData(_.default,{gauge:aoba.Gauge.new("deck_edit_gauge.png",{value:e,
maxValue:u.default.app.MAX_STAMINA}),stamina:{text:e},maxStamina:{text:u.default.app.MAX_STAMINA}}).staminaTitle.x-=10,t.addTo(this._staminaRecoverPop.top),t.x-=20,t.y-=30}},{key:"_showItemDetail",value:function(e){var t=this;this._showBlocker(),this._popLayer.show();var n=w.default.new(e).addTo(this._popLayer);n.on("closeEnd",function(){n.destroy({children:!0}),t._popLayer.hide(),t._hideBlocker()}),n.open()}},{key:"_showNoticePop",value:function(e){var t=this;this._showBlocker(),this._popLayer.show();var n=S.default.new(e).addTo(this._popLayer);n.on("closeEnd",function(){n.destroy({children:!0}),t._popLayer.hide(),t._hideBlocker()}),n.open()}},{key:"_calcConsumeItemNum",value:function(e,t){for(var n=p.default.recoveryItem.calcRecoveryValue(e,u.default.app.MAX_STAMINA),r=1;r<e.num&&!(t+n*r>=this._consumeStamina);)r+=1;return r}},{key:"_onRequestUseItem",value:function(e,t){var n=this;if(this._state===x.ready){var r=t.calcCurrentStamina();if(r<u.default.app.MAX_STAMINA){var i=this._calcConsumeItemNum(e,r);this._state=x.busy,(0,I.createUseRecoveryItemConfirmDialog)(e,r,i).on("submit",function(){return n._requestUseRecoveryItem(e,i,r)}).on("closeEnd",function(){n._state=x.ready}).addTo(this).open()}else this._showNoticePop(A.default.t("item.maxStamina"))}}},{key:"_requestUseRecoveryItem",value:function(e,t,n){var r=this,i=e.expireAt;if(i)if(i-Math.floor(Date.now()/1e3)<0)return this._showNoticePop(A.default.t("item.expiredItem")),Promise.resolve();return p.default.recoveryItem.requestUseItem(e,t).then(function(i){e.num-=t;var a=p.default.recoveryItem.calcRecoveryValue(e,e.recoveryItemType.maxValue),o=n+a*t;(0,I.createUseRecoveryItemResultDialog)(e,n,o,t).on("closeEnd",function(){return r.emit("recover",i.userStamina)}).addTo(r).open()}).catch(function(e){r._state=x.ready,r._showNoticePop(A.default.t("item.maxStamina"))})}}]),t}(aoba.Container);t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"staminaTitle",fullName:"staminaTitle",type:"text",text:"\u30b9\u30bf\u30df\u30ca",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:0,y:11},{name:"gaugeBase",fullName:"gaugeBase",type:"sprite",key:"deck_edit_gauge_base.png",x:76,y:0},{name:"gauge",fullName:"gauge",type:"sprite",key:"deck_edit_gauge.png",x:78,y:2},{name:"maxStamina",fullName:"maxStamina",anchor:{x:0,y:.5},type:"text",text:"200",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:137,y:11},{name:"slash",fullName:"slash",type:"text",text:"/",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},anchor:{x:0,y:.5},rotation:0,x:129,y:12},{name:"stamina",fullName:"stamina",anchor:{x:1,y:.5},type:"text",text:"20",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:129,y:11}],name:"",fullName:"",type:"container",x:712,y:61}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"itemListContentBase",fullName:"itemListContentBase",type:"sprite",key:"item_list_content_base.png",x:0,y:0},{name:"name",fullName:"name",anchor:{x:.5,y:.5},type:"text",text:"\u30ea\u30ab\u30d0\u30ea\u30fc\u30bd\u30fc\u30c0\u5c0f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:105,y:27},{name:"itemIcon",fullName:"itemIcon",anchor:{x:.5,y:.5},type:"sprite",key:"icon_money.png",x:106,y:134},{name:"expireDatetimeBase",fullName:"expireDatetimeBase",visible:!1,type:"sprite",key:"expire_datetime_base.png",x:31,y:57},{name:"expireDatetime",fullName:"expireDatetime",visible:!1,type:"text",text:"02/20 14:50\u307e\u3067",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:13},anchor:{x:0,y:.5},rotation:0,x:35,y:70},{name:"infoButton",fullName:"infoButton",anchor:{x:.5,y:.5},type:"sprite",key:"icon_info.png",x:177,y:71},{name:"textPurchasedCount",fullName:"textPurchasedCount",type:"text",text:"\u6240\u6301\u6570",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:31,y:233},{name:"num",fullName:"num",type:"text",text:"888888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:120,y:231},{name:"useButton",fullName:"useButton",anchor:{x:.5,y:.5},type:"sprite",key:"item_use_button.png",x:106,y:306},{name:"limitNum",fullName:"limitNum",anchor:{x:.5,y:.5},type:"text",text:"\u6700\u5927\u6240\u6301\u6570:999999",style:{fill:16726894,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:117,y:266},{name:"iconAttention",fullName:"iconAttention",type:"sprite",key:"icon_attention.png",x:19,y:257}],name:"",fullName:"",visible:!1,type:"container",x:227,y:96}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"itemDetailPopBase",fullName:"itemDetailPopBase",type:"sprite",key:"item_detail_pop_base.png",x:-285,y:-207},{name:"name",fullName:"name",anchor:{x:.5,y:.5},type:"text",text:"\u30ea\u30ab\u30d0\u30ea\u30fc\u30c9\u30ea\u30f3\u30af30",style:{fill:5329761,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-1,y:-165},{name:"description",fullName:"description",type:"text",text:"283\u30d7\u30ed\u7279\u88fd\u306e\u6804\u990a\u30c9\u30ea\u30f3\u30af\u3002\u75b2\u308c\u305f\u4f53\u304c\u4e00\u6c17\u306b\u56de\u5fa9\uff01\r\u30b9\u30bf\u30df\u30ca\u304c30\u56de\u5fa9\u3057\u307e\u3059\u3002",anchor:{x:.5,y:.5},style:{fill:5329761,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:400,breakWords:!0,align:"center"},rotation:0,x:0,y:68},{name:"closeButton",fullName:"closeButton",anchor:{x:.5,y:.5},type:"sprite",key:"close_button.png",x:0,y:147},{name:"itemIcon",fullName:"itemIcon",anchor:{x:.5,y:.5},type:"sprite",key:"icon_money.png",x:0,y:-43}],name:"",fullName:"",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:320}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"itemNoticePopBase",fullName:"itemNoticePopBase",type:"sprite",key:"item_notice_pop_base.png",x:-285,y:-137},{name:"comment",fullName:"comment",anchor:{x:.5,y:.5},type:"text",text:"\u671f\u9650\u3092\u904e\u304e\u305f\u305f\u3081\u3001\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093",style:{fill:5329761,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:0,y:-35},{name:"closeButton",fullName:"closeButton",anchor:{x:.5,y:.5},type:"sprite",key:"close_button.png",x:0,y:71}],name:"",fullName:"",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:320}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"commentBlack",fullName:"commentBlack",type:"text",text:"\u30a2\u30a4\u30c6\u30e0\u3092\u4f7f\u7528\u3059\u308b\u3068",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:-89,y:281},{name:"commentRed",fullName:"commentRed",type:"text",text:"\u81ea\u7136\u56de\u5fa9\u306e\u4e0a\u9650\u3092\u8d85\u3048\u3066\u56de\u5fa9\u3067\u304d\u307e\u3059",style:{fill:16199013,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:-152,y:306},{name:"iconNoticeRed",fullName:"iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:-115,y:270},{name:"useItemConfirmListBase",fullName:"useItemConfirmListBase",type:"sprite",key:"use_item_confirm_list_base.png",x:-238,y:163},{name:"afterValue",fullName:"afterValue",anchor:{x:.5,y:.5},type:"text",text:"5(\uff0b5)",style:{fill:16199013,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:128,y:224},{name:"itemNumArrow",fullName:"itemNumArrow",type:"sprite",key:"use_item_confirm_arrow_down.png",x:21,y:180},{name:"beforeValue",fullName:"beforeValue",anchor:{x:.5,y:.5},type:"text",text:"0",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:-44,y:225},{name:"valueTitle",fullName:"valueTitle",anchor:{x:.5,y:.5},type:"text",text:"\u53c2\u52a0\u6a29",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:-177,y:227
},{name:"afterItemNum",fullName:"afterItemNum",anchor:{x:.5,y:.5},type:"text",text:"9",style:{fill:43007,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:112,y:189},{name:"valueArrow",fullName:"valueArrow",type:"sprite",key:"use_item_confirm_arrow_up.png",x:21,y:215},{name:"beforeItemNum",fullName:"beforeItemNum",anchor:{x:.5,y:.5},type:"text",text:"10",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:-45,y:189},{name:"itemNumTitle",fullName:"itemNumTitle",anchor:{x:.5,y:.5},type:"text",text:"\u6240\u6301\u6570",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:-177,y:193},{name:"effect",fullName:"effect",anchor:{x:.5,y:.5},type:"text",text:"\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u3066\r\u53c2\u52a0\u6a29\u3092\u56de\u5fa9\u3057\u307e\u3059\u304b\uff1f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-1,y:21},{name:"name",fullName:"name",anchor:{x:.5,y:.5},type:"text",text:"\u30d5\u30a7\u30b9\u30a8\u30f3\u30c8\u30ea\u30fc\u30c1\u30b1\u30c3\u30c85",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:56,y:104},{name:"itemIcon",fullName:"itemIcon",anchor:{x:.5,y:.5},type:"sprite",key:"icon_money.png",x:-170,y:104}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:149}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"useItemConfirmListBase",fullName:"useItemConfirmListBase",type:"sprite",key:"use_item_confirm_list_base.png",x:-238,y:66},{name:"afterValue",fullName:"afterValue",anchor:{x:.5,y:.5},type:"text",text:"5(\uff0b5)",style:{fill:16199013,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:129,y:129},{name:"valueArrow",fullName:"valueArrow",type:"sprite",key:"use_item_confirm_arrow_up.png",x:22,y:120},{name:"beforeValue",fullName:"beforeValue",anchor:{x:.5,y:.5},type:"text",text:"0",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:-45,y:130},{name:"valueTitle",fullName:"valueTitle",anchor:{x:.5,y:.5},type:"text",text:"\u53c2\u52a0\u6a29",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:-177,y:130},{name:"afterItemNum",fullName:"afterItemNum",anchor:{x:.5,y:.5},type:"text",text:"9",style:{fill:43007,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:112,y:94},{name:"itemNumArrow",fullName:"itemNumArrow",type:"sprite",key:"use_item_confirm_arrow_down.png",x:22,y:85},{name:"beforeItemNum",fullName:"beforeItemNum",anchor:{x:.5,y:.5},type:"text",text:"10",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:-45,y:94},{name:"itemNumTitle",fullName:"itemNumTitle",anchor:{x:.5,y:.5},type:"text",text:"\u6240\u6301\u6570",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:-177,y:96},{name:"effect",fullName:"effect",anchor:{x:.5,y:.5},type:"text",text:"\u30d5\u30a7\u30b9\u30a8\u30f3\u30c8\u30ea\u30fc\u30c1\u30b1\u30c3\u30c85\u3092\u4f7f\u7528\u3057\u3066\r\u53c2\u52a0\u6a29\u30925\u56de\u5fa9\u3057\u307e\u3057\u305f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:5,y:22}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:222}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"scrollBase",fullName:"listBase/scrollBase",type:"container",x:658,y:0},{name:"supportSkillBonus",fullName:"listBase/supportSkillBonus",type:"container",x:0,y:9}],name:"listBase",fullName:"listBase",type:"container",x:-333,y:0}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:571,y:114}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1136),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=37,u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.fromData(s.default,{effectTypeIcon:{key:"support_skill_icon.png",scale:.33},skillName:{text:e.supportSkill.name},skillComment:{text:e.supportSkill.description}});a.skillComment.style.lineHeight=16;var o=a.idolIcon;return e.supportIdols.forEach(function(e,t){aoba.Sprite.new(e.getImagePath("concert_icon")).addTo(o,t*l,0)}),n.show(),n}return a(t,e),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"deckEditSupportSkillBonusBase",fullName:"deckEditSupportSkillBonusBase",type:"sprite",key:"deck_edit_support_skill_bonus_base.png",x:0,y:0},{name:"skillComment",fullName:"skillComment",type:"text",text:"\uff11\uff11\u79d2\u6bce\u3001\u9ad8\u78ba\u7387\u3067\u5c11\u3057\u306e\u9593\u3001PERFECT\u3067\u30e9\u30a4\u30d5\uff13\u56de\r\u5fa9\u4e00\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:397,breakWords:!0},rotation:0,x:16,y:57},{name:"skillName",fullName:"skillName",type:"text",text:"\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:54,y:23},{name:"idolTitle",fullName:"idolTitle",type:"text",text:"\u30b9\u30ad\u30eb\u6240\u6301\u30a2\u30a4\u30c9\u30eb",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:432,y:22},{name:"effectTypeIcon",fullName:"effectTypeIcon",type:"sprite",key:"icon_skill_s_buff.png",x:16,y:7},{name:"idolIcon",fullName:"idolIcon",type:"container",x:432,y:39}],name:"",fullName:"",type:"container",x:238,y:123}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.decks=e.decks,a.userStamina=e.userStamina,a.consumeStamina=e.consumeStamina,a.isProduceEnabled=n,a.produceIdols=null,a.supportIdols=null,a.targetDeckIndex=0,a.targetSupportIdolIndex=0,a.isSelectProduceIdol=!1,a.selectedIdol=null,a.sortCondition="id",a.isAscending=!0,a}return a(t,e),o(t,[{key:"isAllMembersSelected",value:function(){var e=this.targetDeck.userIdol;if(!e||0===e.id)return!1;for(var t=this.targetDeck.userSupportIdols,n=0;n<t.length;++n)if(!t[n]||0===t[n].id)return!1;return!0}},{key:"hasEnoughStamina",value:function(){return this.userStamina.calcCurrentStamina()>=this.consumeStamina}},{key:"autoSelectSupportIdols",
value:function(){var e=this,t=0;this.targetDeck.userIdol&&(t=this.targetDeck.userIdol.idol.characterId);var n=this.supportIdols.filter(function(e){return e.supportIdol.characterId!==t});n.sort(function(t,n){return e._calcSupportIdolValue(n)-e._calcSupportIdolValue(t)});for(var r=[],i=0;i<l.default.app.SUPPORT_IDOL_NUM;++i){var a=n.find(function(e){return r.every(function(t){return!t||t.supportIdol.characterId!==e.supportIdol.characterId})});r.push(a)}this.targetDeck.userSupportIdols=r}},{key:"_calcSupportIdolValue",value:function(e){return e.visualBonus+e.danceBonus+e.vocalBonus+e.mentalBonus}},{key:"isCharacterExistInDeck",value:function(e){if(this.targetDeck.userIdol&&this.targetDeck.userIdol.id&&this.targetDeck.userIdol.idol&&this.targetDeck.userIdol.idol.characterId===e)return!0;for(var t=this.targetDeck.userSupportIdols,n=0;n<t.length;++n)if(t[n]&&t[n].id&&t[n].supportIdol&&t[n].supportIdol.characterId===e)return!0;return!1}},{key:"removeCharacterFromDeck",value:function(e){this.targetDeck.userIdol&&this.targetDeck.userIdol.id&&this.targetDeck.userIdol.idol&&this.targetDeck.userIdol.idol.characterId===e&&(this.targetDeck.userIdol=null);for(var t=this.targetDeck.userSupportIdols,n=0;n<t.length;++n)t[n]&&t[n].id&&t[n].supportIdol&&t[n].supportIdol.characterId===e&&(t[n]=null)}},{key:"indexOfSupportIdol",value:function(e){for(var t=this.targetDeck.userSupportIdols,n=0;n<t.length;++n)if(t[n]&&t[n].id&&t[n].supportIdol&&t[n].supportIdol.id===e.supportIdol.id)return n;return-1}},{key:"sortIdol",value:function(e,t){var n=this;this.sortCondition=e,this.isAscending=t;var r=this._getSelectIdols();return r.sort(function(r,i){var a=n._getSelectIdolSortCondition(r,e),o=n._getSelectIdolSortCondition(i,e);return t?a-o:o-a}),r}},{key:"_getSelectIdols",value:function(){return this.isSelectProduceIdol?this.produceIdols:this.supportIdols}},{key:"_getSelectIdolSortCondition",value:function(e,t){if(this.isSelectProduceIdol)switch(t){default:case"id":return e.id;case"visual":return e.idol.visual;case"dance":return e.idol.dance;case"vocal":return e.idol.vocal;case"mental":return e.idol.mental;case"appeal":return e.idol.visual+e.idol.dance+e.idol.vocal+e.idol.mental}switch(t){default:case"id":return e.id;case"visual":return e.visualBonus;case"dance":return e.danceBonus;case"vocal":return e.vocalBonus;case"mental":return e.mentalBonus;case"appeal":return e.visualBonus+e.danceBonus+e.vocalBonus+e.mentalBonus}}},{key:"swapSelectedIdolWithSameCharacterMember",value:function(){var e=this.selectedIdol,t=this.isSelectProduceIdol?e.idol:e.supportIdol;this.removeCharacterFromDeck(t.characterId),this.setSelectedIdol(e)}},{key:"setSelectedIdol",value:function(e){if(this.isSelectProduceIdol)this.targetDeck.userIdol=e;else{var t=this.targetDeck.userSupportIdols,n=this.targetSupportIdolIndex,r=this.indexOfSupportIdol(e);-1!==r&&(t[r]=t[n]),t[n]=e}}},{key:"updateStamina",value:function(e){this.userStamina=e}},{key:"updateProduceIdols",value:function(e){this.produceIdols=e}},{key:"updateSupportIdols",value:function(e){this.supportIdols=e}},{key:"targetDeck",get:function(){return this.decks[this.targetDeckIndex]}}]),t}(aoba.utils.EventEmitter);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(452),u=r(l),c=n(5),f=r(c),d=n(109),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._showEvent(e),n}return o(t,e),s(t,[{key:"_showEvent",value:function(e){dlog(!1,"showEvent_2",e,this);var t=this,n=e.category+"/"+e.id+".json";return p.default.loadJsonAndResources(n).then(function(e){var n=p.default.createAdvPlayer(e);return n.addTo(t),p.default.playAdvPlayer(n)}).then(function(){})}}],[{key:"uiResources",get:function(){return u.default}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1140),c=r(u),f=n(12),d=r(f),p=n(3),h=r(p),y=n(0),m=r(y),_=n(5),g=r(_),b=n(177),v=r(b),w=n(175),k=r(w),S=n(176),I=r(S),E=n(178),A=r(E),x=n(1),C=r(x),T=n(137),P=r(T),O=n(21),N=r(O),M=["userIdol","userSupportIdol"],R=function(){return!1},D=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=new P.default,r=function(t,r,i){e.showLoadingLayer({transparent:!0}),Promise.all([t.serverAction.get(r.id),t.reserveServerAction.get(r.id)]).then(function(r){var a=s(r,2),o=a[0],l=a[1],u=t.serverAction;aoba.sceneManager.loadScene("evolution",{userIdol:o,userReserveIdol:l,serverAction:u},{additive:!0}),aoba.sceneManager.currentScene.on("end",function(r,a){e.hideLoadingLayer(),n.updateIdolList(t,r,a),n.setIdolDetail(t,r),e.emit("updateList",t),i.applyData(r),R(r)&&i.disable()})})},o=function(e,t){N.default.loadSceneAsync(e.detailSceneName,{additive:!0,requestParams:t.id})},l=I.default.new({onTapIdolIcon:r,onHoldIdolIcon:o}),u=v.default.create({idolTypeNames:M,onSelectTab:function(e){A.default.switchEvolutionIdolList({tabList:u,idolListContainer:l,idolType:e,store:n,checkIconIsDisabled:R})}});return e.fromData(k.default,{bg:m.default.MovingBg.new(),tabList:u,idolListContainer:l}),e.on("updateList",function(e){l.emptyIdols(),0===n.idolLists[e.name].length&&l.showEmptyNotice(),l.showIdols(n.idolLists[e.name],e,R)}),u.init(),m.default.CommonPartsLayer.create({headerTitle:h.default.t("header.evolutionIdolList"),tips:C.default.tips.evolution,firstTimeKey:m.default.CommonPartsLayer.getDisplayedListForFirstTime.evolution,onTapBackButton:function(){d.default.directTo("/idolPortal")}}).addTo(e),e}return o(t,e),l(t,null,[{key:"uiResources",get:function(){return c.default}}]),t}(g.default);t.default=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/training_and_evolution/parts.json","images/ui/evolution/parts.json",{
name:"idol_list_container_base.png",url:"images/ui/idol_list/idol_list_container_base.png"},"images/ui/idol_list/parts.json","images/ui/common/parts_skill_list.json","images/ui/common/parts_link_skill_dialog.json"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(1142),f=r(c),d=n(3),p=r(d),h=n(0),y=r(h),m=n(1143),_=r(m),g=n(456),b=r(g),v=n(5),w=r(v),k=n(457),S=r(k),I=n(1154),E=r(I),A=n(14),x=r(A),C=n(7),T=r(C),P=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=[e.userReserveIdol],o=n.fromData(f.default,{bg:y.default.MovingBg.new(),idolContainer:_.default.new(e.userIdol),consumableItemContainer:b.default.new(n._createConsumableItems(r)),evolutionButton:{class:y.default.DecideButton},clearButton:{class:y.default.CancelButton}});return o.clearButton.on("tap",n._resetItemNum,n),o.evolutionButton.on("tap",n._showConfirmationDialog,n),n._serverAction=e.serverAction,n._userIdol=e.userIdol,n._userReserveIdol=e.userReserveIdol,n._consumableItemContainer=o.consumableItemContainer,n._idolContainer=o.idolContainer,n._evolutionButton=o.evolutionButton,n._clearButton=o.clearButton,y.default.CommonPartsLayer.create({headerTitle:p.default.t("header.evolutionIdolList"),tips:u.default.tips.evolution,firstTimeKey:y.default.CommonPartsLayer.getDisplayedListForFirstTime.evolution,onTapBackButton:function(){n.emit("end",n._userIdol,n._userReserveIdol),aoba.sceneManager.popScene()}}).addTo(n),n._onChangeItemCount(),n}return o(t,e),s(t,[{key:"_createConsumableItems",value:function(e){var t=this,n=e.length;return e.map(function(e,r){var i=S.default.new({id:e.id,name:e.name,iconSprite:aoba.Sprite.new(e.getImagePath("icon")).setScale(1.01),num:e.num,shouldShowLine:r===n-1});return i.plusButton.on("tap",function(){t._plusItemNum(e)}),i.minusButton.on("tap",function(){t._minusItemNum(e)}),i.maxButton.on("tap",function(){t._maximizeItemNum(e)}),t._consumableItem=i,i})}},{key:"_showConfirmationDialog",value:function(){var e=this._userReserveIdol.getImagePath("icon"),t=this._userReserveIdol.selectedNum;(0,E.default)(e,t).addTo(this).on("submit",this._startEvolution,this).open()}},{key:"_showCompleteDialog",value:function(){aoba.soundManager.playSE(T.default.ui.popup),x.default.new({title:p.default.t("evolution.complete.title"),text:p.default.t("evolution.complete.comment"),type:"close"}).addTo(this).open()}},{key:"_resetItemNum",value:function(){this._userReserveIdol.selectedNum=0,this._onChangeItemCount()}},{key:"_plusItemNum",value:function(e){e.selectedNum>=e.num||this._userIdol.evolutionStage+e.selectedNum>=u.default.app.MAX_EVOLUTION_STAGE||(e.selectedNum++,this._onChangeItemCount(),this._setButtonsAvailable(this._userIdol.evolutionStage+e.selectedNum))}},{key:"_minusItemNum",value:function(e){0!==e.selectedNum&&(e.selectedNum--,this._onChangeItemCount())}},{key:"_maximizeItemNum",value:function(e){var t=u.default.app.MAX_EVOLUTION_STAGE-this._userIdol.evolutionStage;e.selectedNum=Math.min(e.num,t),this._onChangeItemCount(),this._setButtonsAvailable(this._userIdol.evolutionStage+e.selectedNum)}},{key:"_onChangeItemCount",value:function(){this._consumableItemContainer.updateSelectedNum([this._userReserveIdol]),this._idolContainer.updateWithAdditionalEvolutionStage(this._userReserveIdol.selectedNum);var e=this._userReserveIdol.selectedNum>0;this._evolutionButton.setAvailable(e),this._clearButton.setAvailable(e)}},{key:"_startEvolution",value:function(){var e=this,t=this._userReserveIdol.selectedNum;this._serverAction.evolve(this._userIdol.id,{num:t}).then(function(n){e._userReserveIdol.num-=t,e._userIdol=n,e._idolContainer.updateContent(n),e._consumableItemContainer.updatePossessionAndSelectedNum([e._userReserveIdol]),e._resetItemNum(),e._showCompleteDialog(),e._setButtonsAvailable(e._userIdol.evolutionStage)})}},{key:"_setButtonsAvailable",value:function(e){e<u.default.app.MAX_EVOLUTION_STAGE||(this._consumableItem.plusButton.setAvailable(!1),this._consumableItem.maxButton.setAvailable(!1))}}]),t}(w.default);t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"idolContainer",fullName:"idolContainer",type:"container",x:15,y:69},{name:"consumableItemContainer",fullName:"consumableItemContainer",type:"container",x:592,y:101},{name:"clearButton",fullName:"clearButton",anchor:{x:.5,y:.5},type:"sprite",key:"clear_button.png",x:872,y:589},{name:"evolutionButton",fullName:"evolutionButton",anchor:{x:.5,y:.5},type:"sprite",key:"evolution_button.png",x:1044,y:589}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(3),f=r(c),d=n(1144),p=r(d),h=n(98),y=r(h),m=n(1145),_=r(m),g=n(1147),b=r(g),v=n(22),w=r(v),k=n(24),S=r(k),I=n(453),E=r(I),A=n(1150),x=r(A),C=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.idol||e.supportIdol,o=r.skillPanels.filter(function(e){return e.evolutionStage>0});n._skillPanelListContainer=x.default.new(o,e.evolutionStage);var s=u.default.commonUiHelper.createScrollBarBase({width:6,height:272}),l=w.default.new({width:524,height:278,container:n._skillPanelListContainer,scrollBar:S.default.new({width:14}),scrollBarBase:s}),c={icon:y.default.new(e),nameBase:u.default.dotLine.create({width:415,type:u.default.dotLine.types.DOT_BLACK}),name:{text:e.name},evolutionStage:_.default.new(e.evolutionStage),levelGrowth:b.default.create(e.limitLevel),skillListBase:(0,E.default)(f.default.t("evolution.skillListTitle")),skillList:{instance:l,dy:4}},d=n.fromData(p.default,c);return n._data=e,n._idolIcon=d.icon,n._levelGrowth=d.levelGrowth,n._evolutionStage=d.evolutionStage,n._levelGrowth=d.levelGrowth,s.addTo(n,526,180),n}return o(t,e),s(t,[{key:"updateWithAdditionalEvolutionStage",value:function(e){var t=this._data.evolutionStage+e;this._levelGrowth.updateGrowth(e),this._evolutionStage.updateGrowth(t),this._skillPanelListContainer.updateGrowth(t)}},{key:"updateContent",value:function(e){this._evolutionStage.updateValue(e.evolutionStage),this._levelGrowth.updateValue(e.limitLevel),
this._skillPanelListContainer.updateValue(e.evolutionStage),this._idolIcon.applyData(e),this._data=e}}]),t}(aoba.Container);t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idolContainerBase",fullName:"idolContainerBase",type:"sprite",key:"idol_container_base.png",x:0,y:0},{name:"icon",fullName:"icon",type:"sprite",key:null,x:18,y:22},{name:"nameBase",fullName:"nameBase",type:"container",x:124,y:50},{name:"name",fullName:"name",type:"text",text:"\u30a4\u30eb\u30df\u30cd\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30fc\u30ba\u6afb\u6728\u771f\u4e43",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:128,y:32},{name:"evolutionStage",fullName:"evolutionStage",type:"container",x:124,y:68},{name:"levelGrowth",fullName:"levelGrowth",type:"container",x:381,y:68},{name:"skillListBase",fullName:"skillListBase",type:"container",x:18,y:132},{name:"skillList",fullName:"skillList",type:"container",x:19,y:172}],name:"",fullName:"",type:"container",x:15,y:69}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(1),f=r(c),d=n(1146),p=r(d),h=45,y={NORMAL:"evolution_stage_star.png",ADDITIONAL:"evolution_stage_star_estimate.png",MAX:"evolution_stage_star_max.png"},m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._value=e,n._stars=aoba.Container.new(),(0,u.default)(f.default.app.MAX_EVOLUTION_STAGE).times(function(e){aoba.Sprite.new().addTo(n._stars,e*h,0)}),n.fromData(p.default,{stars:{instance:n._stars,dy:-1}}),n._normalStarTexture=aoba.Texture.fromImage(y.NORMAL),n._maxStarTexture=aoba.Texture.fromImage(y.MAX),n._additionalStarTexture=aoba.Texture.fromImage(y.ADDITIONAL),n.updateValue(e),n}return o(t,e),s(t,[{key:"updateGrowth",value:function(e){var t=this;this._value!==f.default.app.MAX_EVOLUTION_STAGE&&this._stars.children.forEach(function(n,r){var i=r+1;t._value>=i?n.texture=t._normalStarTexture:n.texture=e>=i?t._additionalStarTexture:aoba.Texture.EMPTY})}},{key:"updateValue",value:function(e){var n=this;this._value=e;var r=this._value===f.default.app.MAX_EVOLUTION_STAGE?this._maxStarTexture:this._normalStarTexture;this._stars.children.forEach(function(e,i){var a=i+1;n._value>=a?e.texture=r:e.texture=t.emptyStarTexture})}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"evolutionStageBase",fullName:"evolutionStageBase",type:"sprite",key:"evolution_stage_base.png",x:0,y:0},{name:"stars",fullName:"stars",type:"container",x:54,y:4}],name:"",fullName:"",type:"container",x:139,y:137}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1148),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"updateGrowth",value:function(){}},{key:"updateValue",value:function(){}}]),t}(aoba.Container),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.fromData(l.default,{before:{text:e,dy:3},arrowIncrease:{visible:!1},after:{visible:!1,dy:3}});return n._value=e,n._before=a.before,n._after=a.after,n._arrow=a.arrowIncrease,n}return a(t,e),o(t,[{key:"updateGrowth",value:function(e){e>0?(this._after.text=this._value+5*e,this._after.show(),this._arrow.show()):(this._after.hide(),this._arrow.hide())}},{key:"updateValue",value:function(e){this._value=e,this._before.text=e,this._after.hide(),this._arrow.hide()}}],[{key:"create",value:function(e){return e?t.new(e):u.new()}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"levelGrowthBase",fullName:"levelGrowthBase",type:"sprite",key:"level_growth_base.png",x:0,y:0},{name:"before",fullName:"before",anchor:{x:1,y:.5},type:"text",text:"20",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:26},rotation:0,x:85,y:25},{name:"arrowIncrease",fullName:"arrowIncrease",type:"sprite",key:"arrow_increase.png",x:92,y:17},{name:"after",fullName:"after",anchor:{x:1,y:.5},type:"text",text:"40",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:26},rotation:0,x:151,y:25}],name:"",fullName:"",type:"container",x:396,y:137}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"trainingSkillListBase",fullName:"trainingSkillListBase",type:"sprite",key:"training_skill_list_base.png",x:0,y:0},{name:"skillListTitleIcon",fullName:"skillListTitleIcon",type:"sprite",key:"skill_list_title_icon.png",x:10,y:14},{name:"title",fullName:"title",anchor:{x:0,y:0},type:"text",text:"\u7fd2\u5f97\u3059\u308b\u30b5\u30dd\u30fc\u30c8\u30b9\u30ad\u30eb",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:30,y:12},{name:"line",fullName:"line",type:"container",x:11,y:41}],name:"",fullName:"",type:"container",x:31,y:199}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(81),u=r(l),c=n(454),f=r(c),d=n(77),p=r(d),h=100,y={NORMAL:6378597,ADDITIONAL:16463728},m=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.forEach(function(e,t){
var i=f.default.new(e,t,u.default.SKILL_TYPES.ACTIVE,n).addTo(r,0,h*t),a=i.linkSkillButton;if(a){var o=void 0;a.on("holdstart",function(){o=p.default.new(e.skill.linkSkill).addTo(r.parent,120,72)}),a.on("holdend",function(){o.destroy({children:!0})})}}),r._evolutionStage=n,r.updateValue(n),r}return o(t,e),s(t,[{key:"updateGrowth",value:function(e){var t=this;this.children.forEach(function(n){t._evolutionStage>=n.unLockEvolutionStage?(n.lockOverlay.hide(),n.changeTextColor(y.NORMAL)):e>=n.unLockEvolutionStage?(n.lockOverlay.hide(),n.changeTextColor(y.ADDITIONAL)):(n.lockOverlay.show(),n.changeTextColor(y.NORMAL))})}},{key:"updateValue",value:function(e){var t=this;this._evolutionStage=e,this.children.forEach(function(e){t._evolutionStage>=e.unLockEvolutionStage?e.lockOverlay.hide():e.lockOverlay.show(),e.changeTextColor(y.NORMAL)})}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"consumableItemContainerBase",fullName:"consumableItemContainerBase",type:"sprite",key:"consumable_item_container_base.png",x:0,y:0},{children:[{name:"silver",fullName:"list/silver",type:"container",x:0,y:142},{name:"bronze",fullName:"list/bronze",type:"container",x:0,y:0}],name:"list",fullName:"list",type:"container",x:20,y:20}],name:"",fullName:"",type:"container",x:592,y:101}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"icon",fullName:"icon",type:"container",x:0,y:0},{name:"name",fullName:"name",type:"text",text:"\u30b4\u30fc\u30eb\u30c9\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u30c1\u30b1\u30c3\u30c8",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:112,y:13},{name:"dotLine",fullName:"dotLine",type:"container",x:105,y:30},{name:"minusButton",fullName:"minusButton",anchor:{x:.5,y:.5},type:"sprite",key:"minus_button.png",x:137,y:69},{name:"itemUseCountBase",fullName:"itemUseCountBase",type:"sprite",key:"item_use_count_base.png",x:183,y:45},{name:"count",fullName:"count",anchor:{x:.5,y:.5},type:"text",text:"0",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:247,y:69},{name:"plusButton",fullName:"plusButton",anchor:{x:.5,y:.5},type:"sprite",key:"plus_button.png",x:354,y:69},{name:"maxButton",fullName:"maxButton",anchor:{x:.5,y:.5},type:"sprite",key:"max_button.png",x:426,y:69}],name:"",fullName:"",type:"container",x:612,y:406}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"image",fullName:"image",type:"sprite",key:null,x:0,y:0},{name:"countBase",fullName:"countBase",anchor:{x:1,y:1},type:"sprite",key:null,x:97,y:97},{name:"count",fullName:"count",anchor:{x:1,y:.5},type:"text",text:"\xd799999",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:93,y:86}],name:"",fullName:"",type:"container",x:612,y:406}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=r(i),o=n(458),s=r(o),l=n(14),u=r(l),c=n(267),f=r(c),d=function(e,t){var n=a.default.t("evolution.confirm.title"),r=aoba.Container.new(),i=aoba.Container.new();f.default.new({iconSprite:aoba.Sprite.new(e),num:t}).addTo(i,116*i.children.length,0,{pivot:aoba.p(.5,0)});var o=r.fromData(s.default,{comment:{text:a.default.t("evolution.confirm.comment")},items:i}),l=o.comment;l.style.align="center",l.anchor.set(.5),l.x=r.width/2,l.x-=8*(i.children.length-1),i.x=r.width/2,i.x-=72*(i.children.length-1),r.pivot.set(r.width/2,0);var c=[{type:"close",image:"cancel_button.png"},{type:"submit",image:"evolution_start_button.png"}];return u.default.new({title:n,buttons:c,container:r})};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(12),f=r(c),d=n(135),p=r(d),h=n(256),y=r(h),m=n(429),_=r(m),g=n(39),b=r(g),v=n(111),w=r(v),k=n(83),S=r(k),I=n(136),E=r(I),A=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createConcertGame(e,E.default.fes,S.default.createFes()),n}return s(t,e),u(t,[{key:"goToResult",value:function(e){b.default.fes.finish(Object.assign({isRetired:e.isRetired})).then(function(e){var t=w.default.createWhite();f.default.directTo("/fesResult",{request:!1,sceneParams:e,transition:t})})}}],[{key:"request",value:function(){return Promise.all([b.default.fes.resume(),b.default.earthUser.get()]).then(function(e){var t=l(e,2),n=t[0],r=t[1];return Object.assign(n,{nickname:r.nickname})})}},{key:"getContentResources",value:function(e){var t=["concert_player_icon"],n=["concert_card","concert_icon","cut_in","memory_roulette_bad","memory_roulette_good"],r=["cb_costume","stand_costume"],i=["concert_rival_icon","active_skill_silhouette"];return(0,_.default)(e,{centerIdolImageList:t,idolImageList:n,idolSpineList:r,rivalImageList:i})}},{key:"uiResources",get:function(){return[].concat(i(y.default),[S.default.IMAGES.FES.bg])}}]),t}(p.default);t.default=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(7),u=r(l),c=n(21),f=r(c),d=n(5),p=r(d),h=n(459),y=r(h),m=n(1157),_=r(m),g=n(1174),b=r(g),v=n(137),w=r(v),k=n(1181),S=r(k),I=n(248),E=r(I),A=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.userFesDeck,o=e.deckCalculator;return n._userFesDeck=r,n._deckCalculator=o,n._idolListStore=new w.default,(0,y.default)().addTo(n),n._fesDeckLayer=n._createFesDeckLayer().addTo(n),n._fesIdolSelectLayer=b.default.new({idolListStore:n._idolListStore,deckCalculator:n._deckCalculator,userFesDeck:n._userFesDeck,
onTapBackButton:n._switchToFesDeckLayer.bind(n),onChangeMember:n._updateFesDeck.bind(n),onLongPressIdolIcon:n._showIdolDetail.bind(n)}).addTo(n),n._switchToFesDeckLayer(),n}return o(t,e),s(t,[{key:"_switchToIdolSelectLayer",value:function(e){aoba.soundManager.playSE(u.default.ui.decide),this._fesDeckLayer.hide(),this._fesIdolSelectLayer.userFesDeck=this._userFesDeck,this._fesIdolSelectLayer.show(),this._fesIdolSelectLayer.setOriginDeckMember(e),this._fesIdolSelectLayer.showIdolList()}},{key:"_showIdolDetail",value:function(e,t){var n=this;return new Promise(function(r){f.default.loadSceneAsync("fesIdolDetail",{additive:!0,asset:!0,request:!0,requestParams:{idolId:e,characterId:t},sceneParams:{prevScene:"fesDeck"},showLoading:!1}).then(function(e){e.once("trade",function(){return n._reloadIdolList()}),r()})})}},{key:"_switchToFesDeckLayer",value:function(){this._fesIdolSelectLayer.hide(),this._fesDeckLayer.show()}},{key:"_reloadIdolList",value:function(){this._fesIdolSelectLayer.showIdolList(!1)}},{key:"_exitScene",value:function(){this.emit("backToTop",this._userFesDeck),aoba.sceneManager.popScene()}},{key:"_updateActiveSkills",value:function(e,t){E.default.updateActiveSkills(e,t).then(function(){})}},{key:"_updateFesDeck",value:function(e,t){var n=this,r=this._userFesDeck.getUserFesIdolIds(),i=r.findIndex(function(e){return e===t.userFesIdol.id});r[r.findIndex(function(t){return t===e.userFesIdol.id})]=t.userFesIdol.id,void 0!==i&&(r[i]=e.userFesIdol.id),S.default.update(this._userFesDeck.id,r).then(function(e){S.default.getList().then(function(t){n._userFesDeck=t[0],n._userFesDeck.parameter=n._deckCalculator.createParameterWithRank(e.userFesDeckParameter),n._deckCalculator.applyBonusesTo(n._userFesDeck),n._rebuildFesDeckLayer(),n._switchToFesDeckLayer()})})}},{key:"_createFesDeckLayer",value:function(){return _.default.new({userFesDeck:this._userFesDeck,onSelectDeckMember:this._switchToIdolSelectLayer.bind(this),onLongPressDeckMember:this._showIdolDetail.bind(this),onTapBackButton:this._exitScene.bind(this),onUpdateActiveSkill:this._updateActiveSkills.bind(this)})}},{key:"_rebuildFesDeckLayer",value:function(){this._fesDeckLayer.destroy({children:!0}),this._fesDeckLayer=this._createFesDeckLayer().addTo(this)}}]),t}(p.default);t.default=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1),c=r(u),f=n(3),d=r(f),p=n(1158),h=r(p),y=n(179),m=r(y),_=n(461),g=r(_),b=n(462),v=r(b),w=n(1168),k=r(w),S=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.userFesDeck,o=e.onTapBackButton,s=e.onSelectDeckMember,u=e.onLongPressDeckMember,f=e.onUpdateActiveSkill,p=function(e){k.default.new(e).addTo(n).once("submit",function(t){f(e.userFesIdol.id,t);var r=n._deckMembers.find(function(t){return t.memberNumber===e.memberNumber});e.updateActiveSkills(t),r.updateActiveSkills(t)})},y=r.userFesDeckMembers.map(function(e){var t=e.userFesIdol;return m.default.new(e,{onSelectDeckMember:function(){return s(e)},onLongPressDeckMember:function(){return u(t.id,t.characterId)},onTapSkillChangeButton:p})});l.default.graphics.rect(c.default.SCREEN_WIDTH,c.default.SCREEN_HEIGHT,{fill:16777215,alpha:.3}).addTo(n),n.fromData(h.default,{fesDeckBase:null,deckMemberList:g.default.new({deckMembers:y}),deckStatus:v.default.new(r)});var _=l.default.CommonPartsLayer.new().addTo(n);return _.addHeader(d.default.t("fes.fesDeck.title")),_.addBackButton(o),n._deckMembers=y,n}return o(t,e),t}(aoba.Container);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"fesDeckBase",fullName:"fesDeckBase",type:"graphics",fill:0,alpha:1,width:1136,height:432,shape:"rect",x:0,y:72},{name:"deckMemberList",fullName:"deckMemberList",type:"container",x:13,y:92},{name:"deckStatus",fullName:"deckStatus",type:"container",x:107,y:515}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"card",fullName:"card",type:"sprite",key:"card.png",x:0,y:12},{name:"roleIcon",fullName:"roleIcon",type:"sprite",key:"role_icon.png",x:75,y:0},{name:"rankIcon",fullName:"rankIcon",anchor:{x:.5,y:.5},type:"sprite",key:"rank_icon.png",x:26,y:38},{name:"unitIcon",fullName:"unitIcon",anchor:{x:.5,y:.5},type:"sprite",key:"unit_icon.png",x:30,y:89},{name:"deckMemberStatus",fullName:"deckMemberStatus",type:"container",x:9,y:244}],name:"",fullName:"",type:"container",x:13,y:93}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(0),f=r(c),d=n(1161),p=r(d),h=n(1162),y=r(h),m=n(460),_=r(m),g=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=n.showMemoryAppealIcon,s=n.onTapSkillChangeButton,l={vocal:y.default.createVocal(e),dance:y.default.createDance(e),visual:y.default.createVisual(e),mental:y.default.createMental(e),activeSkillList:aoba.Container.new(),memoryAppealLevel:o?_.default.new(1).setScale(.8):null,skillChangeButton:s?{class:f.default.DecideButton}:null},u=r.fromData(p.default,l);return s&&u.skillChangeButton.on("tap",function(){return s(e)}),r._activeSkillList=u.activeSkillList,r._skillChangeButton=u.skillChangeButton,r.updateActiveSkills(e.userFesIdol.activeSkills.filter(function(e){return e.isSelected})),r}return o(t,e),s(t,[{key:"updateActiveSkills",value:function(e){var t=this;this._activeSkillList.removeChildren();(0,u.default)(2).times(function(n){var r=e[n],i=void 0;r?(i=aoba.Sprite.new(r.getImagePath()),i.setScale(.56)):i=aoba.Sprite.new("skill_none.png"),i.addTo(t._activeSkillList,45*n,0)})}},{key:"skillChangeButton",get:function(){return this._skillChangeButton}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"deckMemberStatusBase",fullName:"deckMemberStatusBase",type:"sprite",key:"deck_member_status_base.png",x:0,y:0},{name:"vocal",fullName:"vocal",type:"container",x:7,y:23},{name:"dance",fullName:"dance",type:"container",x:98,y:23},{name:"visual",fullName:"visual",type:"container",x:7,y:54},{name:"mental",fullName:"mental",type:"container",x:98,y:54},{name:"activeSkillList",fullName:"activeSkillList",type:"container",x:9,y:86},{name:"skillChangeButton",fullName:"skillChangeButton",anchor:{x:.5,y:.5},type:"sprite",key:"skill_change_button.png",
x:141,y:106},{name:"memoryAppealLevel",fullName:"memoryAppealLevel",type:"container",x:135,y:86}],name:"",fullName:"",type:"container",x:22,y:337}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1163),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={VOCAL:{key:"vocal",iconImage:"icon_status_vocal.png"},DANCE:{key:"dance",iconImage:"icon_status_dance.png"},VISUAL:{key:"visual",iconImage:"icon_status_visual.png"},MENTAL:{key:"mental",iconImage:"icon_status_mental.png"}},c=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=o.fromData(l.default,{icon:{key:e.iconImage},value:{text:n.toLocaleString()}});return s.value.style.fill=a,s.value.style.stroke=16777215,s.value.style.strokeThickness=4,s.value.x-=8,o}return a(t,e),o(t,null,[{key:"createVocal",value:function(e){return t._create(u.VOCAL,e)}},{key:"createDance",value:function(e){return t._create(u.DANCE,e)}},{key:"createVisual",value:function(e){return t._create(u.VISUAL,e)}},{key:"createMental",value:function(e){return t._create(u.MENTAL,e)}},{key:"_create",value:function(e,n){var r=n[e.key],i=this._getTextColor(n,e.key);return t.new(e,r,i)}},{key:"_getTextColor",value:function(e,t){return e.hasPositionBonus(t)?16463471:e.hasFixedUnitBonus?9924637:6378341}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"icon",fullName:"icon",anchor:{x:.5,y:.5},type:"sprite",key:"icon.png",x:13,y:14},{name:"value",fullName:"value",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:93,y:14}],name:"",fullName:"",type:"container",x:29,y:360}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"icon",fullName:"icon",type:"sprite",key:"icon_memory_appeal.png",x:0,y:0},{name:"text",fullName:"text",anchor:{x:.5,y:.5},type:"text",text:"Lv.1",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:32,y:24}],name:"",fullName:"",type:"container",x:221,y:564}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"totalPowerBase",fullName:"totalPowerBase",type:"sprite",key:"total_power_base.png",x:0,y:0},{name:"label",fullName:"label",type:"text",text:"Total :",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:116,y:27},{name:"value",fullName:"value",anchor:{x:1,y:.5},type:"text",text:"9,999,999",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:323,y:27},{name:"deckRank",fullName:"deckRank",type:"container",x:6,y:4},{name:"memoryAppealLevel",fullName:"memoryAppealLevel",type:"container",x:114,y:49},{name:"vocal",fullName:"vocal",type:"container",x:187,y:61},{name:"dance",fullName:"dance",type:"container",x:349,y:60},{name:"visual",fullName:"visual",type:"container",x:504,y:59},{name:"mental",fullName:"mental",type:"container",x:666,y:60}],name:"",fullName:"",type:"container",x:107,y:515}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1167),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={VOCAL:{iconImage:"icon_status_vocal.png"},DANCE:{iconImage:"icon_status_dance.png"},VISUAL:{iconImage:"icon_status_visual.png"},MENTAL:{iconImage:"icon_status_mental.png"}},c={S:"icon_status_rank_s_s.png",A:"icon_status_rank_s_a.png",B:"icon_status_rank_s_b.png",C:"icon_status_rank_s_c.png",D:"icon_status_rank_s_d.png",E:"icon_status_rank_s_e.png",F:"icon_status_rank_s_f.png"},f=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.fromData(l.default,{statusIcon:{key:e.iconImage},rankIcon:{key:c[n.rank],scale:1.1},value:{text:n.value.toLocaleString()}}),a}return a(t,e),o(t,null,[{key:"createVocal",value:function(e){return t.new(u.VOCAL,e)}},{key:"createDance",value:function(e){return t.new(u.DANCE,e)}},{key:"createVisual",value:function(e){return t.new(u.VISUAL,e)}},{key:"createMental",value:function(e){return t.new(u.MENTAL,e)}}]),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"parameterBaseLine",fullName:"parameterBaseLine",type:"sprite",key:"parameter_base_line.png",x:32,y:28},{name:"statusIcon",fullName:"statusIcon",anchor:{x:.5,y:.5},type:"sprite",key:"status_icon.png",x:15,y:15},{name:"rankIcon",fullName:"rankIcon",anchor:{x:.5,y:.5},type:"sprite",key:"rank_icon.png",x:45,y:13},{name:"slash",fullName:"slash",type:"text",text:"/",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:61,y:15},{name:"value",fullName:"value",anchor:{x:1,y:.5},type:"text",text:"49,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:151,y:16}],name:"",fullName:"",type:"container",x:294,y:576}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(7),u=r(l),c=n(1169),f=r(c),d=n(0),p=r(d),h=n(1170),y=r(h),m=n(179),_=r(m),g=n(1172),b=r(g),v=function(e){e?(this.tint=16777215,this.interactive=!0):(this.tint=10066329,this.interactive=!1)},w=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._deckMemberData=e,n._selectedActiveSkillIds=n._activeSkills.filter(function(e){return e.isSelected}).map(function(e){
return e.id});var r=n.fromData(f.default,{overlay:{alpha:.6,interactive:!0},base:{fill:16777215,interactive:!0},deckMember:_.default.new(e,{hideRoleIcon:!0,showMemoryAppealIcon:!0}),skillSelectCount:b.default.new(n._selectedActiveSkillIds.length),activeSkillList:y.default.new(n._activeSkills,n._handleSkillChange.bind(n)),saveButton:{class:p.default.DecideButton}});return r.deckMember.y-=12,r.overlay.once("tap",function(){return n.destroy({children:!0})}),r.saveButton.once("tap",function(){n.emit("submit",n._selectedActiveSkillIds),n.destroy({children:!0})}),n._deckMember=r.deckMember,n._skillSelectCount=r.skillSelectCount,n._activeSkillList=r.activeSkillList,n._saveButton=r.saveButton,n._activeSkillList.updateCheckBoxes(n._selectedActiveSkillIds),n._saveButton.updateAvailability=v,n}return o(t,e),s(t,[{key:"_handleSkillChange",value:function(e){var t=this._selectedActiveSkillIds,n=t.indexOf(e);if(-1===n){if(t.length>=y.default.SELECTED_SKILL_COUNT)return;t.push(e),aoba.soundManager.playSE(u.default.ui.decide)}else t.splice(n,1),aoba.soundManager.playSE(u.default.ui.cancel);this._deckMember.updateActiveSkills(this._selectedActiveSkillIds),this._skillSelectCount.updateCount(t.length),this._activeSkillList.updateCheckBoxes(t),this._saveButton.updateAvailability(t.length===y.default.SELECTED_SKILL_COUNT)}},{key:"_activeSkills",get:function(){return this._deckMemberData.userFesIdol.activeSkills}}]),t}(aoba.Container);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"overlay",fullName:"overlay",type:"graphics",fill:0,alpha:1,width:1136,height:640,shape:"rect",x:0,y:0},{name:"base",fullName:"base",type:"graphics",fill:0,alpha:1,width:756,height:610,shape:"roundedRect",round:10,x:190,y:15},{name:"deckMember",fullName:"deckMember",type:"container",x:213,y:35},{name:"skillSelectCount",fullName:"skillSelectCount",type:"container",x:214,y:417},{name:"activeSkillList",fullName:"activeSkillList",type:"container",x:429,y:35},{name:"saveButton",fullName:"saveButton",anchor:{x:.5,y:.5},type:"sprite",key:"save_button.png",x:568,y:574}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1171),u=r(l),c=n(77),f=r(c),d=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.forEach(function(e,t){var i=u.default.new(e,n).addTo(r,0,122*t),a=i.linkSkillButton;if(a){var o=void 0;a.on("holdstart",function(){o=f.default.new(e.linkSkill).addTo(r,40,122*t)}),a.on("holdend",function(){o.destroy({children:!0})})}}),r}return o(t,e),s(t,[{key:"updateCheckBoxes",value:function(e){var n=e.length===t.SELECTED_SKILL_COUNT,r=!0,i=!1,a=void 0;try{for(var o,s=this.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;e.includes(l.skillId)?(l.checkOn(),l.enable()):(l.checkOff(),n?l.disable():l.enable())}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}}],[{key:"SELECTED_SKILL_COUNT",get:function(){return 2}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(463),u=r(l),c=n(118),f=r(c),d={true:{baseImage:"active_skill_select_base_on.png",checkBoxImage:"skill_select_check_box_on.png"},false:{baseImage:"active_skill_select_base.png",checkBoxImage:"skill_select_check_box.png"}},p=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=d[!0===e.isSelected],s=r.fromData(u.default,{base:{key:o.baseImage},effectTypeIcon:{instance:aoba.Sprite.new(e.getImagePath()),scale:.5,dx:-4,dy:-4},name:{text:e.name},linkSkillButton:e.linkSkill?{class:f.default}:null,comment:{text:e.comment},checkBox:{key:o.checkBoxImage,interactive:!0}});return r._skillId=e.id,r._base=s.base,r._checkBox=s.checkBox,r._linkSkillButton=s.linkSkillButton,s.checkBox.on("tap",function(){return n(e.id)}),r}return o(t,e),s(t,[{key:"checkOn",value:function(){this._updateState(!0)}},{key:"checkOff",value:function(){this._updateState(!1)}},{key:"disable",value:function(){this._checkBox.tint=11184810,this._checkBox.interactive=!1}},{key:"enable",value:function(){this._checkBox.tint=16777215,this._checkBox.interactive=!0}},{key:"_updateState",value:function(e){var t=d[!0===e];this._base.texture=aoba.Texture.fromImage(t.baseImage),this._checkBox.texture=aoba.Texture.fromImage(t.checkBoxImage)}},{key:"skillId",get:function(){return this._skillId}},{key:"linkSkillButton",get:function(){return this._linkSkillButton}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1173),u=r(l),c=n(3),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(u.default,{description:{text:f.default.t("fes.skillChange.description")}});return r.description.style.align="center",r.value.y+=6,r.maxValue.y+=6,n._value=r.value,n.updateCount(e),n}return o(t,e),s(t,[{key:"updateCount",value:function(e){this._value.text=e}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"descriptionBase",fullName:"descriptionBase",type:"sprite",key:"description_base.png",x:0,y:0},{name:"description",fullName:"description",anchor:{x:.5,y:0},
type:"text",text:"\u30e9\u30a4\u30d6\u30b9\u30ad\u30eb\u3092\r\uff12\u3064\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:103,y:10},{name:"value",fullName:"value",anchor:{x:.5,y:.5},type:"text",text:"2",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:28},rotation:0,x:74,y:69},{name:"maxValue",fullName:"maxValue",type:"text",text:"/ 2",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:97,y:69}],name:"",fullName:"",type:"container",x:214,y:417}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1175),u=r(l),c=n(464),f=r(c),d=n(3),p=r(d),h=n(0),y=r(h),m=n(1176),_=r(m),g=n(39),b=r(g),v=n(1177),w=r(v),k=n(246),S=r(k),I=n(32),E=r(I),A={serverAction:b.default.userFesIdol,detailKey:"id"},x=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.idolListStore,o=e.deckCalculator,s=e.userFesDeck,l=e.onTapBackButton,c=e.onChangeMember,f=e.onLongPressIdolIcon;n.userFesDeck=s;var d=_.default.new({onLongPressIdolIcon:f,onTapIdolIcon:function(e){return n._showConfirmationDialog(e,o,c)}});n.fromData(u.default,{idolListContainer:d}),n._idolListStore=r,n._idolListContainer=d;var p=y.default.CommonPartsLayer.new().addTo(n);return n._header=p.addHeader(""),p.addBackButton(l),n}return o(t,e),s(t,[{key:"setOriginDeckMember",value:function(e){this._beforeDeckMember=e;var t=f.default.fesPositionName({position:e.fesDeckMemberPosition.position});this._header.text.text=p.default.t("fes.fesIdolSelect.title",{positionName:t})}},{key:"showIdolList",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._idolListStore.fetchIdolsAndResources(A,t).then(function(t){e._idolListContainer.showIdols(t,A,function(){},e.userFesDeck.getUserFesIdolIds())})}},{key:"_showConfirmationDialog",value:function(e,t,n){var r=this,i=this.userFesDeck.findMemberByUserFesIdolId(e.id);if(!i&&this.userFesDeck.includesCharacter(e)&&!e.equalCharacterTo(this._beforeDeckMember.userFesIdol))return new Promise(function(e){y.default.Dialog.new({size:"simple",text:p.default.t("fes.fesIdolSelect.sameCharacterWarning"),type:"close"}).addTo(r).on("closeEnd",e).open()});var a={deckRank:Object.assign({},this.userFesDeck.deckRank),totalParameter:this.userFesDeck.calcTotalParameters()},o=this._beforeDeckMember,s=new S.default(this.userFesDeck),l=s.setMember(e,o.fesDeckMemberPosition);i&&(o=s.setMember(o.userFesIdol,i.fesDeckMemberPosition)),t.applyBonusesTo(s);var u={deckRank:Object.assign({},s.deckRank),totalParameter:s.calcTotalParameters()},c=[e.getImagePath("fes_card_s"),e.getUnitImagePath("icon")];return new Promise(function(e){(0,E.default)(c).then(function(){(0,w.default)({beforeDeckMember:o,afterDeckMember:l,beforeDeckParams:a,afterDeckParams:u}).addTo(r).on("submit",function(){n(o,l),e()}).on("closeEnd",e).open()})})}}]),t}(aoba.Container);t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"fesIdolListBase",fullName:"fesIdolListBase",type:"sprite",key:"fes_idol_list_base.png",x:0,y:0},{name:"idolListContainer",fullName:"idolListContainer",type:"container",x:209,y:80}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(7),u=r(l),c=n(98),f=r(c),d=n(24),p=r(d),h=n(116),y=r(h),m=n(22),_=r(m),g={x:20,y:28,width:860,height:508},b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return aoba.Sprite.new("fes_idol_list_container_base.png").addTo(n),n._scrollRect=aoba.Container.new(),n._onTapIdolIcon=e.onTapIdolIcon,n._onLongPressIdolIcon=e.onLongPressIdolIcon,n._isStatusBusy=!1,n}return o(t,e),s(t,[{key:"showIdols",value:function(e,t,n,r){var i=this;this._scrollRect.destroy({children:!0});var a=aoba.Container.new();e.forEach(function(e,t){var o=t%7,s=Math.floor(t/7),l=f.default.new(e).addTo(a,8+123*o,8+123*s);n&&n(e)&&l.disable(),i._onTapIdolIcon&&l.on("tap",function(){i._isStatusBusy||(i._isStatusBusy=!0,aoba.soundManager.playSE(u.default.ui.decide),i._onTapIdolIcon(e,l).then(function(){i._isStatusBusy=!1}))}),i._onLongPressIdolIcon&&l.on("longPress",function(){i._isStatusBusy||(i._isStatusBusy=!0,aoba.soundManager.playSE(u.default.ui.decide),i._onLongPressIdolIcon(e.id,e.characterId).then(function(){i._isStatusBusy=!1}))}),l.updateFormationBadge(r.includes(e.id))}),aoba.Graphics.new().beginFill(16777215,.01).drawRect(0,0,8,8).addTo(a);var o=p.default.new({width:16});this._scrollBarBase=y.default.new({width:8,height:508}),this._scrollRect=_.default.new({width:g.width,height:g.height,container:a,scrollBar:o,scrollBarBase:this._scrollBarBase}).addTo(this,g.x,g.y),this._scrollBarBase.addTo(this,890,20)}}]),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=aoba.Container.new(),n=e.beforeDeckMember,r=e.afterDeckMember,i=e.beforeDeckParams,o=e.afterDeckParams,l=o.totalParameter-i.totalParameter,c={hideRoleIcon:!0,showMemoryAppealIcon:!0};t.fromData(a.default,{deckMemberBefore:{instance:f.default.new(n,c),dy:-14},deckMemberAfter:{instance:f.default.new(r,c),dy:-14},deckStatusBefore:(0,p.default)(i),deckStatusAfter:(0,p.default)(o),totalPowerDiff:{text:"("+_.default.getNumberStringWithSign(l)+")"}}).totalPowerDiff.style.fill=l<=0?y.default.DECREASE_FONT_COLOR:y.default.INCREASE_FONT_COLOR,t.pivot.x=t.width/2;var d=n.fesDeckMemberPosition.position,h=s.default.fesPositionName({position:d}),m=y.default.Dialog.new({title:u.default.t("fes.fesIdolSelect.confirmationTitle",{positionName:h}),buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"change_button.png"}],height:400,container:t});return m.main.y-=20,m.buttons.y+=8,m};var i=n(1178),a=r(i),o=n(464),s=r(o),l=n(3),u=r(l),c=n(179),f=r(c),d=n(1179),p=r(d),h=n(0),y=r(h),m=n(97),_=r(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"deckMemberBefore",fullName:"deckMemberBefore",type:"container",x:0,y:0},{
name:"deckMemberAfter",fullName:"deckMemberAfter",type:"container",x:250,y:0},{name:"deckStatusBefore",fullName:"deckStatusBefore",type:"container",x:6,y:378},{name:"deckStatusAfter",fullName:"deckStatusAfter",type:"container",x:257,y:378},{name:"totalPowerDiff",fullName:"totalPowerDiff",anchor:{x:1,y:.5},type:"text",text:"(+1,200)",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:450,y:425},{name:"fesIdolSwitchArrow",fullName:"fesIdolSwitchArrow",type:"sprite",key:"fes_idol_switch_arrow.png",x:192,y:157}],name:"",fullName:"",type:"container",x:339,y:93}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=aoba.Container.new();return t.fromData(a.default,{deckRank:s.default.new(e.deckRank).setScale(.56),totalPower:{text:e.totalParameter.toLocaleString()}}),t};var i=n(1180),a=r(i),o=n(239),s=r(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"fesIdolRankLine",fullName:"fesIdolRankLine",type:"sprite",key:"fes_idol_rank_line.png",x:62,y:31},{name:"deckRank",fullName:"deckRank",type:"container",x:0,y:0},{name:"totalPower",fullName:"totalPower",anchor:{x:1,y:.5},type:"text",text:"11,250",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:24},rotation:0,x:196,y:16}],name:"",fullName:"",type:"container",x:345,y:471}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=r(i),o=n(245),s=r(o),l=n(246),u=r(l),c=n(70),f=r(c);t.default={getList:function(){return a.default.get("userFesDecks").then(function(e){var t=e.body;return t[0]=new u.default(t[0]),t[0].userFesDeckMembers.forEach(function(e){aoba.utils.setPrototypeOf(e.userFesIdol,s.default),e.userFesIdol.activeSkills.forEach(function(e){f.default.setActiveSkillMixin(e)})}),Promise.resolve(t)})},update:function(e,t){return a.default.patch("userFesDecks/"+e,{userFesIdolIds:t}).then(function(e){return e.body})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(1183),d=r(f),p=n(1),h=r(p),y=n(3),m=r(y),_=n(12),g=r(_),b=n(5),v=r(b),w=n(461),k=r(w),S=n(1184),I=r(S),E=n(1185),A=r(E),x=n(179),C=r(x),T=n(1186),P=r(T),O=n(1190),N=r(O),M=n(462),R=r(M),D=n(459),F=r(D),B=n(1192),j=r(B),L=n(1196),U=r(L),H=n(1197),G=r(H),z=n(410),V=r(z),K=n(39),W=r(K),q=n(20),X=r(q),Y=n(1198),J=r(Y),Q=n(244),Z=r(Q),$=n(71),ee=r($),te=n(180),ne=r(te),re=n(32),ie=r(re),ae=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.fesTopResponse,o=e.user,s=r.fesSeason,l=r.fesTrendBanner,u=r.userFesDeckParameter,f=r.fesDeckRanks,d=r.fesDeckAppealRanks,p=r.userFesTicket,y=r.isPlaying,_=r.moneyBonus,b=new V.default({fesSeason:s,fesDeckRanks:f,fesDeckAppealRanks:d}),v=b.applyBonusesTo(r.userFesDeck);v.parameter=b.createParameterWithRank(u);var w=new G.default(p),S=v.userFesDeckMembers.map(function(e){return C.default.new(e,{hideStatus:!0})}),E=null;l&&(E=(0,U.default)(l),l.announce&&(E.interactive=!0,E.on("tap",function(){var e=ne.default.Types.get()[l.announce.announceType];Z.default.new(l.announce,e).addTo(n)})));var A=n.fromData(I.default,{bg:(0,F.default)(),money:N.default.createMoney(o.getMoney().toLocaleString()),jewel:N.default.createJewel(o.getJewel().toLocaleString()),fesTrendBanner:E,fesDeckBase:null,deckMemberList:k.default.new({deckMembers:S}),deckStatus:R.default.new(v),shopButton:{class:c.default.DecideButton},fesDeckButton:{class:c.default.DecideButton},fesStartButton:j.default.new("fes_start_button.png",w),infoButton:null}),x=A.deckMemberList,T=A.deckStatus,P=A.shopButton,O=A.fesDeckButton,M=A.fesStartButton;return P.on("tap",function(){g.default.directTo("/shop",{sceneParams:{fromPath:"/fesTop"}})}),O.on("tap",n._pushFesDeckScene,n),M.on("tap",function(){return n._showDifficultySelect(s,w,_)}),n._commonPartsLayer=c.default.CommonPartsLayer.create({headerTitle:m.default.t("fes.fesTop.title"),tips:h.default.tips.fes,onTapBackButton:function(){g.default.directTo("/home")},hasGlobalMenu:!1}).addTo(n),n._deckCalculator=b,n._userFesDeck=v,n._deckMemberList=x,n._deckStatus=T,aoba.soundManager.playBGMAsync(h.default.bgm.fes),y&&n._showFesResumeDialog(),n}return o(t,e),l(t,[{key:"_pushFesDeckScene",value:function(){var e=this;d.default.sceneController.loadScene("fesDeck",{additive:!0,sceneParams:{userFesDeck:this._userFesDeck,deckCalculator:this._deckCalculator}}).then(function(t){t.once("backToTop",function(t){return e._updateUserFesDeck(t)})})}},{key:"_showDifficultySelect",value:function(e,t,n){var r=this;this._difficultySelect=(0,P.default)({difficulties:e.difficulties,ticketRecuperator:t,moneyBonus:n,onTapDifficultyButton:function(e){return r._startFesConcert(e,t)}}).addTo(this)}},{key:"_showFesResumeDialog",value:function(){c.default.Dialog.new({title:m.default.t("fes.resumeDialog.title"),text:m.default.t("fes.resumeDialog.text"),buttons:[{type:"submit",image:"terminate_cancel_button.png",buttonClass:c.default.DecideButton},{type:"close",image:"resume_button.png",buttonClass:c.default.DecideButton}],height:100,marginTop:40}).on("submit",this._showFesTerminateDialog,this).on("closeEnd",function(){g.default.directTo("/fesConcert")}).addTo(this).open()}},{key:"_showFesTerminateDialog",value:function(){var e=aoba.Container.new(),t={align:"center",fill:5063497,fontFamily:"HummingStd-E",fontSize:20},n={NORMAL:5063497,WARNING:16199013};aoba.Text.new(m.default.t("fes.terminateDialog.text"),Object.assign({},t,{fill:n.NORMAL})).addTo(e,0,0,{anchor:.5}),window.icon=aoba.Sprite.new("icon_notice_red.png").addTo(e,-152,59,{anchor:.5}),window.warning=aoba.Text.new(m.default.t("fes.terminateDialog.textWarning"),Object.assign({},t,{fill:n.WARNING})).addTo(e,8,60,{anchor:.5}),c.default.Dialog.new({title:m.default.t("fes.terminateDialog.title"),container:e,buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"terminate_ok_button.png"}],height:120,marginTop:40}).on("submit",this._retire,this).on("closeEnd",this._showFesResumeDialog,this).addTo(this).open()}},{key:"_startFesConcert",value:function(e,t){var n=this;0===t.count?this._openTicketRecoverDialog(t):function(){n._difficultySelect.interactiveChildren=!1,W.default.fes.ready(e).then(function(){Promise.all([W.default.fes.start(),W.default.earthUser.get()]).then(function(e){var t=s(e,2),n=t[0],r=t[1],i=Object.assign(n,{nickname:r.nickname});g.default.directTo("/fesConcert",{request:!1,sceneParams:i})})})}()}},{key:"_openTicketRecoverDialog",value:function(e){var t=this;W.default.userRecoveryItem.get().then(function(n){
t._getItemResources(n).then(function(){var r=n.filter(function(e){return e.recoveryItemType===ee.default.recoveryItem.types.fes}),i=J.default.new(r,e).addTo(t);i.on("goToItem",function(){g.default.directTo("/item")}).on("recover",function(){i.close()})})})}},{key:"_getItemResources",value:function(e){var t=[];return e.forEach(function(e){t.push(e.getIconImagePath())}),(0,ie.default)(t)}},{key:"_updateUserFesDeck",value:function(e){this._userFesDeck=e,this._rebuildDeckMemberList(e),this._rebuildDeckStatus(e)}},{key:"_rebuildDeckStatus",value:function(e){this._deckStatus.destroy({children:!0}),this._deckStatus=R.default.new(e).addToAt(this,this._commonPartsLayer)}},{key:"_rebuildDeckMemberList",value:function(e){var t=aoba.p(this._deckMemberList.x,this._deckMemberList.y);this._deckMemberList.destroy({children:!0});var n=e.userFesDeckMembers.map(function(e){return C.default.new(e,{hideStatus:!0})});this._deckMemberList=k.default.new({deckMembers:n}).addToAt(this,this._commonPartsLayer,t.x,t.y)}},{key:"_retire",value:function(){var e=this;W.default.fes.retire().then(function(){e._isPlaying=!1,g.default.directTo("/fesTop")})}}],[{key:"request",value:function(){return Promise.all([W.default.fes.top(),W.default.user.get()]).then(function(e){var t=s(e,2);return{fesTopResponse:t[0],user:t[1]}})}},{key:"getContentResources",value:function(e){var t=[],n=e.fesTopResponse;n.userFesDeck.userFesDeckMembers.forEach(function(e){t.push(e.userFesIdol.getImagePath("fes_card_s")),t.push(e.userFesIdol.getUnitImagePath("icon"))});var r=n.fesTrendBanner;return r&&(r.imagePath=X.default.createAdminImagePath("fes_trend_banners",r.id,"banner"),t.push(r.imagePath)),t}},{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(h.default.bgm.fes)]}},{key:"uiResources",get:function(){return A.default}}]),t}(v.default);t.default=ae},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(465),a=r(i),o=n(9),s=r(o),l=n(12),u=r(l),c=n(21),f=r(c);t.default={auth:a.default,request:s.default,router:u.default,sceneController:f.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"money",fullName:"money",type:"container",x:387,y:8},{name:"jewel",fullName:"jewel",type:"container",x:597,y:8},{name:"fesDeckBase",fullName:"fesDeckBase",type:"graphics",fill:0,alpha:1,width:1136,height:432,shape:"rect",x:0,y:72},{name:"deckMemberList",fullName:"deckMemberList",type:"container",x:13,y:92},{name:"deckStatus",fullName:"deckStatus",type:"container",x:107,y:515},{name:"shopButton",fullName:"shopButton",anchor:{x:.5,y:.5},type:"sprite",key:"shop_button.png",x:538,y:537},{name:"fesDeckButton",fullName:"fesDeckButton",anchor:{x:.5,y:.5},type:"sprite",key:"fes_deck_button.png",x:700,y:537},{name:"fesStartButton",fullName:"fesStartButton",pivot:{x:.5,y:.5},type:"container",x:1052,y:559},{name:"infoButton",fullName:"infoButton",anchor:{x:.5,y:.5},type:"sprite",key:"info_button.png",x:342,y:34},{name:"fesTrendBanner",fullName:"fesTrendBanner",type:"container",x:870,y:8}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=["images/ui/common/parts_link_skill_dialog.json","images/ui/fes/parts.json","images/ui/fes/fes_role_icons.json","images/ui/fes/effects/button_shine.png","particles/fes/top_bg/particle.png","particles/fes/top_bg/data.json",i.default.bg.FES,"images/content/active_skills/icon.json","images/ui/item/parts_content.json"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=r(i),o=n(1187),s=r(o),l=n(1188),u=r(l),c=n(0),f=r(c),d=n(268),p=r(d),h=function(e,t,n){var r=f.default.DecideButton.new("difficulty_button_"+e+".png");r.setPosition(r.width/2+362*t,r.height/2);var i=aoba.FrameAnimation.new("images/ui/fes/effects/button_shine.png",150,150,{fps:30,blendMode:aoba.BLEND_MODES.ADD,keep:!0}).addTo(r).setScale(2.8).setAnchor(.5);if(aoba.FrameTween.new(r).wait(20).call(function(){return i.play()}).wait(80).loop(),n>100){var a=aoba.Sprite.new("campaign_label.png").addTo(r,48,-180);a.mask=aoba.Sprite.new("campaign_label_mask.png").addTo(r,42,-186),aoba.FrameTween.new(a).wait(20).call(function(){return f.default.commonUiHelper.createGlossEffect().addTo(a,0,0,{scale:aoba.p(.5)})}).wait(80).loop()}return r.once("tap",function(){var e=aoba.Sprite.new(r.texture).addTo(r,0,0,{anchor:.5,blendMode:aoba.BLEND_MODES.ADD});aoba.FrameTween.new(e).to({alpha:.9},9).to({alpha:0},11)}),r.hitArea=new aoba.Circle(0,0,155),r},y=function(e){var t=aoba.Container.new();return t.fromData(u.default,{commentValue:{text:a.default.t("common.sheet",{num:e})}}),t},m=function(e){e.alpha=0,aoba.FrameTween.new(e).to({alpha:1},3),aoba.FrameTween.new(e).from({scaleX:1.2,scaleY:1.2},6,"easeInOutQuad")},_=function(e){e.show(),e.x+=420,aoba.FrameTween.new(e).by({x:-273},1).by({x:-147},6,"easeOutQuart")},g=function(e){e.show(),e.x+=420,aoba.FrameTween.new(e).by({x:-273},1).by({x:-147},6,"easeOutQuart").call(function(){aoba.FrameTween.new(e).to({scaleX:1.02,scaleY:1.02},19,"easeInOutQuad").to({scaleX:1,scaleY:1},19,"easeInOutQuad").loop()})},b=function(e){e.show(),e.alpha=0,aoba.FrameTween.new(e).to({alpha:1},4)};t.default=function(e){var t=aoba.Container.new(),n=t.fromData(s.default,{overlay:{alpha:.8,interactive:!0},consumeComment:y(1),fesTicket:p.default.new(e.ticketRecuperator)}),r=n.fesTicket,i=n.consumeComment,a=n.commentTitle,o=n.difficultyButtons,l=n.overlay;a.style.stroke=0,a.style.strokeThickness=8;var u=!0,c=!1,d=void 0;try{for(var v,w=e.difficulties[Symbol.iterator]();!(u=(v=w.next()).done);u=!0)!function(){var t=v.value;h(t.difficulty,o.children.length,e.moneyBonus).addTo(o).on("tap",function(){e.onTapDifficultyButton(t.id)})}()}catch(e){c=!0,d=e}finally{try{!u&&w.return&&w.return()}finally{if(c)throw d}}return o.setPivotAndAdjustPosition(o.width/2,o.height/2),l.show(),l.alpha=0,aoba.FrameTween.new(t).call(function(){return m(o)}).wait(3).call(function(){_(r),g(i),b(a)}).wait(3).call(function(){l.alpha=.8}).wait(1).call(function(){}),f.default.CommonPartsLayer.new().addBackButton(function(){t.destroy({children:!0})}).addTo(t),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"overlay",fullName:"overlay",visible:!1,type:"graphics",fill:0,alpha:1,width:1215,height:757,shape:"rect",x:0,y:0},{name:"consumeComment",fullName:"consumeComment",visible:!1,pivot:{x:.5,y:.5},type:"container",x:924,y:551},{name:"fesTicket",fullName:"fesTicket",visible:!1,type:"container",x:1004,y:588},{name:"commentTitle",fullName:"commentTitle",visible:!1,type:"text",text:"\u30d5\u30a7\u30b9\u30ea\u30cf\u30fc\u30b5\u30eb\u306e\u96e3\u6613\u5ea6\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:36},anchor:{x:0,y:.5},rotation:0,x:184,y:100},{name:"difficultyButtons",fullName:"difficultyButtons",type:"container",x:21,y:148}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"fesTicketConsumeBase",fullName:"fesTicketConsumeBase",type:"sprite",key:"fes_ticket_consume_base.png",x:-203,y:-35},{name:"commentBase",fullName:"commentBase",type:"text",text:"\u30d5\u30a7\u30b9\u30c1\u30b1\u30c3\u30c8\u3092\u3000\u3000\u6d88\u8cbb\u3057\u307e\u3059",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:-176,y:-8},{name:"commentValue",fullName:"commentValue",type:"text",text:"1\u679a",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:19,y:-8}],name:"",fullName:"",visible:!1,pivot:{x:.5,y:.5},
type:"container",x:924,y:551}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"fesTicketBase",fullName:"fesTicketBase",type:"sprite",key:"fes_ticket_base.png",x:0,y:0},{name:"icons",fullName:"icons",type:"container",x:31,y:4},{name:"overflow",fullName:"overflow",anchor:{x:.5,y:.5},type:"text",text:"+0",style:{fill:13341924,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:80,y:10}],name:"",fullName:"",type:"container",x:1004,y:588}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1191),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={MONEY:{iconImage:"money_icon.png"},JEWEL:{iconImage:"jewel_icon.png"}},c=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.fromData(l.default,{icon:{key:e.iconImage},value:{text:n}}),a}return a(t,e),o(t,null,[{key:"createMoney",value:function(e){return t.new(u.MONEY,e)}},{key:"createJewel",value:function(e){return t.new(u.JEWEL,e)}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"propertyBase",fullName:"propertyBase",type:"sprite",key:"property_base.png",x:0,y:0},{name:"value",fullName:"value",anchor:{x:1,y:.5},type:"text",text:"8,888,888",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:172,y:22},{name:"icon",fullName:"icon",anchor:{x:.5,y:.5},type:"sprite",key:"money_icon.png",x:25,y:21}],name:"",fullName:"",type:"container",x:387,y:8}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1193),c=r(u),f=n(1194),d=r(f),p=n(268),h=r(p),y=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.fromData(c.default,{fesTicket:h.default.new(n),ticketRecoverCountdown:d.default.new(n)});var o=aoba.FrameAnimation.new("images/ui/fes/effects/button_shine.png",150,150,{fps:30,blendMode:aoba.BLEND_MODES.ADD,keep:!0}).addTo(r).setScale(1.2).setAnchor(.5);return aoba.Tween.new(r).wait(1e3).call(function(){return o.play()}).wait(2e3).loop(),r}return o(t,e),t}(l.default.DecideButton);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"fesTicket",fullName:"fesTicket",type:"container",x:-48,y:29},{name:"ticketRecoverCountdown",fullName:"ticketRecoverCountdown",type:"container",x:-43,y:52}],name:"",fullName:"",pivot:{x:.5,y:.5},type:"container",x:1052,y:559}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1195),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=t%60,i=function(e){return e.toString().padStart(2,"0")};return i(n)+":"+i(r)},c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.fromData(l.default),o=a.remaining,s=a.recoverTime;return o.style.stroke=3355443,o.style.strokeThickness=4,s.style.stroke=3355443,s.style.strokeThickness=4,n._recoverTime=s,e.isFull()&&n.hide(),n._ticketRecuperator=e,n._ticketRecuperator.on("full",n.hide,n),n._ticketRecuperator.on("consume",n.show,n),n}return a(t,e),o(t,[{key:"update",value:function(){this._recoverTime.text=u(this._ticketRecuperator.remainingTime)}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"remaining",fullName:"remaining",type:"text",text:"\u3042\u3068",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},anchor:{x:0,y:.5},rotation:0,x:0,y:11},{name:"recoverTime",fullName:"recoverTime",type:"text",text:"30:00",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},anchor:{x:0,y:.5},rotation:0,x:33,y:11}],name:"",fullName:"",type:"container",x:1009,y:611}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=aoba.Sprite.new(e.imagePath),n=aoba.Text.new(e.text,{fill:16777215,fontSize:16,fontFamily:"UDKakugo_SmallPr6-B"}).addTo(t,158,46,{anchor:.5});return window.tex=n,t};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=l.default.app.MAX_FES_TICKET,c=1e3*l.default.app.FES_TICKET_RECOVER_INTERVAL,f=function(e){var t=1e3*e.recoveryTime,n={count:u,exceed:e.exceedTickets,remainingTime:c};if(e.exceedTickets>0)return n.count=u,n;var r=Date.now();if(t<r)return n.count=u,n;var i=Math.ceil((t-r)/c);return n.count=u-i,n.remainingTime=(t-r)%c,n},d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.setUserFesTicket(e),n._countDown(),n}return a(t,e),o(t,[{key:"setUserFesTicket",value:function(e){var t=f(e);this._count=t.count,
this._exceed=t.exceed,this._remainingTime=t.remainingTime,this._lastTime=Date.now(),this.emit("update",this)}},{key:"_activate",value:function(){this._lastTime=Date.now()}},{key:"_countDown",value:function(){if(this._timeoutId=setTimeout(this._countDown.bind(this),500),!this.isFull()){var e=Date.now();this._remainingTime-=e-this._lastTime,this._lastTime=e,this._remainingTime>0||(this._count++,this.isFull()?(this._remainingTime=c,this.emit("full",this)):this._remainingTime+=c,this.emit("recover",this))}}},{key:"consume",value:function(){this._exceed>0?(this._exceed--,this.emit("consumeExceed",this)):(this._count--,this._activate(),this.emit("consumeCount",this)),this.emit("consume",this)}},{key:"destroy",value:function(){clearTimeout(this._timeoutId)}},{key:"isFull",value:function(){return this._count===u}},{key:"count",get:function(){return this._count}},{key:"exceed",get:function(){return this._exceed}},{key:"remainingTime",get:function(){return this._remainingTime}}]),t}(aoba.utils.EventEmitter);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(14),f=r(c),d=n(71),p=r(d),h=n(449),y=r(h),m=n(1199),_=r(m),g=n(268),b=r(g),v=n(263),w=r(v),k=n(264),S=r(k),I=n(265),E=r(I),A=n(266),x=n(3),C=r(x),T={ready:0,busy:1},P=214,O=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._ticketRecuperator=n;var o=aoba.Container.new(),s=o.fromData(y.default),l=aoba.Container.new();return e.forEach(function(e,t){w.default.new(e).addTo(l,t*P,0).on("use",function(){r._onRequestUseItem(e)}).on("info",function(){r._showItemDetail(e)})}),l.addTo(s.itemListContent,0,0,{pivot:aoba.p(.5,0)}),r._recoverPop=f.default.new({size:"l",title:C.default.t("item.fesTicketRecoverPop.title"),container:o,buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"to_item_button.png"}]}).on("submit",function(){return r.emit("goToItem")}).on("closeEnd",r._onRecoveryPopClose,r).addTo(r),r._addFesTicketUI(n),r._blocker=aoba.Graphics.new().beginFill(0).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT).hide().addTo(r),r._blocker.alpha=.5,r._blocker.interactive=!0,r._popLayer=aoba.Container.new().addTo(r).hide(),r._state=T.ready,r._recoverPop.open(),r}return o(t,e),s(t,[{key:"close",value:function(){this._recoverPop&&(this._recoverPop.close(),this._recoverPop=null)}},{key:"_onRecoveryPopClose",value:function(){this.emit("close"),this.destroy({children:!0})}},{key:"_showBlocker",value:function(){var e=this;this._blockerTween&&this._blockerTween.remove(),this._blocker.alpha=0,this._blockerTween=aoba.FrameTween.new(this._blocker).call(function(){e._blocker.show()}).to({alpha:.5},10).call(function(){e._blockerTween=null})}},{key:"_hideBlocker",value:function(){var e=this;this._blockerTween&&this._blockerTween.remove(),this._blockerTween=aoba.FrameTween.new(this._blocker).to({alpha:0},10).call(function(){e._blocker.hide(),e._blockerTween=null})}},{key:"_addFesTicketUI",value:function(e){var t=aoba.Container.new().addTo(this._recoverPop.top),n=t.fromData(_.default,{fesTicket:b.default.new(e)});t.x-=20,t.y-=35;var r=n.fesTicket;r.x+=5,r.y-=2}},{key:"_showItemDetail",value:function(e){var t=this;this._showBlocker(),this._popLayer.show();var n=S.default.new(e).addTo(this._popLayer);n.on("closeEnd",function(){n.destroy({children:!0}),t._popLayer.hide(),t._hideBlocker()}),n.open()}},{key:"_showNoticePop",value:function(e){var t=this;this._showBlocker(),this._popLayer.show();var n=E.default.new(e).addTo(this._popLayer);n.on("closeEnd",function(){n.destroy({children:!0}),t._popLayer.hide(),t._hideBlocker()}),n.open()}},{key:"_onRequestUseItem",value:function(e){var t=this;if(this._state===T.ready){var n=this._ticketRecuperator.count;n<u.default.app.MAX_FES_TICKET?(this._state=T.busy,(0,A.createUseRecoveryItemConfirmDialog)(e,n).on("submit",function(){return t._requestUseRecoveryItem(e,1,n)}).on("closeEnd",function(){t._state=T.ready}).addTo(this).open()):this._showNoticePop(C.default.t("item.maxFesTicket"))}}},{key:"_requestUseRecoveryItem",value:function(e,t,n){var r=this,i=e.expireAt;if(i)if(i-Math.floor(Date.now()/1e3)<0)return this._showNoticePop(C.default.t("item.expiredItem")),Promise.resolve();return p.default.recoveryItem.requestUseItem(e).then(function(i){e.num-=t,r._ticketRecuperator.setUserFesTicket(i.userFesTicket);var a=p.default.recoveryItem.calcRecoveryValue(e,e.recoveryItemType.maxValue),o=n+a*t;(0,A.createUseRecoveryItemResultDialog)(e,n,o,t).on("closeEnd",function(){return r.emit("recover",r._ticketRecuperator)}).addTo(r).open()}).catch(function(e){r._state=T.ready,r._showNoticePop(C.default.t("item.maxFesTicket"))})}}]),t}(aoba.Container);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"title",fullName:"title",type:"text",text:"\u53c2\u52a0\u6a29",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:0,y:10},{name:"fesTicket",fullName:"fesTicket",type:"container",x:58,y:0}],name:"",fullName:"",type:"container",x:749,y:62}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=r(l),c=n(0),f=r(c),d=n(1),p=r(d),h=n(1201),y=r(h),m=n(5),_=r(m),g=n(1202),b=r(g),v=n(1203),w=r(v),k=n(1205),S=r(k),I=n(251),E=r(I),A=function(e){aoba.FrameTween.new(e).to({alpha:0},10)},x=function(e){e.y-=100,aoba.FrameTween.new(e).by({y:100},14,"easeOutCubic")},C=function(e){e.setScale(1.1),aoba.FrameTween.new(e).to({scaleX:1,scaleY:1},6,"easeInCirc")},T=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(y.default,{bg:E.default.new(),scoreContainer:S.default.new(e),idolsContainer:w.default.new(e.userFesDeck.userFesDeckMembers),okButton:{class:f.default.DecideButton}}),o=r.scoreContainer,s=r.idolsContainer;r.okButton.once("tap",function(){return u.default.directTo("/fesTop")}),aoba.soundManager.playBGMAsync(p.default.bgm.fesResult);var l=aoba.Graphics.new().beginFill(16777215).drawRect(0,0,p.default.SCREEN_WIDTH,p.default.SCREEN_HEIGHT).addTo(n);return aoba.FrameTween.new(n).wait(5).call(function(){A(l),x(o),C(s)}),n}return o(t,e),s(t,null,[{
key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(p.default.bgm.fesResult)]}},{key:"getContentResources",value:function(e){var t=[];return e.userFesDeck.userFesDeckMembers.forEach(function(e){t.push(e.userFesIdol.getCardImagePath()),t.push(e.userFesIdol.getIconImagePath()),t.push(e.userFesIdol.getImagePath("name")),t.push(e.userFesIdol.getUnitImagePath("icon"))}),t}},{key:"uiResources",get:function(){return b.default}}]),t}(_.default);t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"container",x:0,y:0},{name:"title",fullName:"title",type:"sprite",key:"fes_result_title.png",x:374,y:29},{name:"scoreContainer",fullName:"scoreContainer",type:"container",x:50,y:99},{name:"idolsContainer",fullName:"idolsContainer",pivot:{x:.5,y:.5},type:"container",x:825,y:316},{name:"okButton",fullName:"okButton",anchor:{x:.5,y:.5},type:"sprite",key:"ok_button.png",x:1046,y:589}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(466),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=["images/ui/fes_result/parts.json",{name:"fireworks_yellow.png",url:"images/ui/fes_result/effects/fireworks_yellow.png"}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(i.default)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1204),f=r(c),d=n(467),p=r(d),h=n(98),y=r(h),m=function(e,t){aoba.FrameTween.new(e).wait(14).call(function(){return u.default.commonUiHelper.createGlossEffect().addTo(e,0,0,{scale:aoba.p(t)})})},_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.find(function(e){return"center"===e.fesDeckMemberPosition.position}),o=e.filter(function(e){return"center"!==e.fesDeckMemberPosition.position}),s=p.default.new({userFesIdol:r.userFesIdol,rarity:r.userFesIdol.rarity,type:"fes_card"}).setScale(.46);m(s,3);var l=aoba.Container.new();return o.forEach(function(e,t){var r=y.default.new(e.userFesIdol,!0).addTo(l,106*t,0),i=n._getIconDimensions(r);r.mask=n._createMask(i).addTo(l,106*t,0),m(r,.5)}),n.fromData(f.default,{centerCard:s,otherIdolIcons:l}),n}return o(t,e),s(t,[{key:"_createMask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return aoba.Graphics.new().beginFill(0).drawRect(0,0,e.width,e.height)}},{key:"_getIconDimensions",value:function(e){return{width:e.width,height:e.height}}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"centerCard",fullName:"centerCard",type:"container",x:-262,y:-202},{name:"otherIdolIcons",fullName:"otherIdolIcons",type:"container",x:-208,y:113}],name:"",fullName:"",pivot:{x:.5,y:.5},type:"container",x:825,y:316}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1206),f=r(c),d=n(466),p=r(d),h=n(3),y=r(h),m=function(e){return e<=3?aoba.Sprite.new("fes_result_order_"+e+".png"):aoba.Text.new(y.default.t("fes.orderText",{order:e}),{fill:6378341,fontFamily:"HummingStd-E",fontSize:24})},_=function(e){return e<3?p.default.topRank:p.default.normalRank},g=function(e,t){e.x+=100,aoba.FrameTween.new(e).wait(3*t).by({x:-100,alpha:1},7,"easeOutCirc")},b=function(e,t){e.setScale(1.25),aoba.FrameTween.new(e).wait(2*t).to({scaleX:1,scaleY:1,alpha:1},6)},v=function(e,t){e.setScale(2.5),aoba.FrameTween.new(e).wait(10*t).to({scaleX:1,scaleY:1,alpha:1},10,"easeInOutCubic")},w=function(e,t){aoba.FrameTween.new(e).wait(10*t).call(function(){e.alpha=1}).to({scaleX:1.3,scaleY:1.3,alpha:0},5)},k=function(e){aoba.FrameTween.new(e).call(function(){aoba.FrameAnimation.new("fireworks_yellow.png",120,120,{fps:30}).setScale(1.8).addTo(e,0,0,{anchor:.5}).play()})},S=function(e){aoba.FrameTween.new(e).call(function(){return u.default.commonUiHelper.createGlossEffect().addTo(e,0,0,{scale:aoba.p(.25)})}).wait(60).loop()},I=function(e,t){e.setScale(1.25),aoba.FrameTween.new(e).to({scaleX:1,scaleY:1,alpha:1},6).call(function(){aoba.FrameTween.new(e).to({scaleX:.2,scaleY:1.8},5+t).to({scaleX:1.5,scaleY:.2},5+t).loop()})},E=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},A=function(e){return e.toLocaleString()+"pt"},x=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.difficulty,o=e.userFesConcert,s=e.fesScoreBonus,l=e.difficultyBonus,u=e.userMoney,c=e.totalScore,d=y.default.t("fes.fesTop.title"),h=o.money,g=u.amount,b=g-h,v=s.starBonus*o.star;n._objs=n.fromData(f.default,{title:{text:d},order:m(o.order),star:{text:o.star},difficulty:{text:E(r)},orderPoint:{text:A(s.orderBonus)},starPoint:{text:A(v)},activityPoint:{text:A(o.evaluationScore)},difficultyBonus:{text:"x "+l/100},totalPoint:{text:A(c)},gainMoney:{text:h.toLocaleString()},possessionMoney:{text:b.toLocaleString()}});var w=n._objs.possessionMoney,S=(n._objs.newRecordIcon,e.moneyBonus>100),I=n._objs.campaignLabel;S||I.hide();var x=n._objs.totalPoint;return aoba.FrameTween.new(n).wait(20).call(function(){n._createScaleOutObjects(),n._addGlowStarEffect(),aoba.soundManager.playSE(_(o.order))}).wait(2).call(function(){n._createSlideLeftObjects(),aoba.soundManager.playSE(p.default.scores)}).wait(10).call(function(){return n._createScaleInObjects()}).wait(8).call(function(){return k(x)}).wait(2).call(function(){}).wait(13).call(function(){S&&n._addShineEffect(I,"campaign_label"),n._countUpMoney(w,b,g)}),n}return o(t,e),s(t,[{key:"_countUpMoney",value:function(e,t,n){var r=this;aoba.FrameTween.new(this).call(function(){r._countUpSE=aoba.soundManager.playSE(p.default.countUp)}).chain(u.default.commonUiHelper.createCountUpTween({textUI:e,startNumber:t,endNumber:n,addNumber:(n-t)/15})).call(function(){return r._countUpSE.pause()})}},{key:"_createSlideLeftObjects",value:function(){var e=[];e.push(this._objs.orderPoint),e.push(this._objs.starPoint),e.push(this._objs.activityPoint),e.push(this._objs.difficultyBonus),e.forEach(function(e,t){g(e,t)})}},{
key:"_createScaleOutObjects",value:function(){var e=[];e.push(this._objs.order),e.push(this._objs.star),e.push(this._objs.difficulty),e.forEach(function(e,t){b(e,t)})}},{key:"_createScaleInObjects",value:function(){var e=this,t=[];t.push(this._objs.totalPoint),t.push(this._objs.gainMoney),t.forEach(function(t,n){var r=t.x-t.width/2;t.x=r,t.setAnchor(.5);var i=aoba.Sprite.new(t.texture).addTo(e,r,t.y,{anchor:.5,alpha:0});aoba.FrameTween.new(e).call(function(){return v(t,n)}).wait(10).call(function(){return w(i,n)})})}},{key:"_addGlowStarEffect",value:function(){this._objs.glowStars.children.forEach(function(e,t){I(e,t)})}},{key:"_addShineEffect",value:function(e,t){e.mask=aoba.Sprite.new(t+"_mask.png").addTo(e,0,0,{anchor:.5}),S(e)}}]),t}(aoba.Container);t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"scoreContainerBase",fullName:"scoreContainerBase",type:"sprite",key:"score_container_base.png",x:0,y:0},{name:"title",fullName:"title",type:"text",text:"\u30d5\u30a7\u30b9\u30ea\u30cf\u30fc\u30b5\u30eb",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:32},anchor:{x:0,y:.5},rotation:0,x:113,y:44},{name:"order",fullName:"order",alpha:0,anchor:{x:.5,y:.5},type:"sprite",key:"fes_result_order_1.png",x:191,y:124},{name:"orderPoint",fullName:"orderPoint",alpha:0,anchor:{x:1,y:.5},type:"text",text:"8,888pt",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:438,y:126},{name:"star",fullName:"star",alpha:0,anchor:{x:.5,y:.5},type:"text",text:"20",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:193,y:165},{name:"starPoint",fullName:"starPoint",alpha:0,anchor:{x:1,y:.5},type:"text",text:"8,000pt",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:438,y:168},{name:"activityPoint",fullName:"activityPoint",alpha:0,anchor:{x:1,y:.5},type:"text",text:"24,500pt",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:438,y:211},{name:"difficulty",fullName:"difficulty",alpha:0,anchor:{x:.5,y:.5},type:"text",text:"Easy",style:{fill:4303656,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:192,y:253},{name:"difficultyBonus",fullName:"difficultyBonus",alpha:0,type:"text",text:"\xd70.5",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:376,y:251},{name:"newRecordIcon",fullName:"newRecordIcon",alpha:0,anchor:{x:.5,y:.5},type:"sprite",key:"new_record_icon.png",x:394,y:282},{name:"totalPoint",fullName:"totalPoint",alpha:0,anchor:{x:1,y:.5},type:"text",text:"65,662pt",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:32},rotation:0,x:438,y:309},{name:"gainMoney",fullName:"gainMoney",alpha:0,anchor:{x:1,y:.5},type:"text",text:"1,656",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:32},rotation:0,x:438,y:385},{name:"possessionMoney",fullName:"possessionMoney",anchor:{x:1,y:.5},type:"text",text:"51,656",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:440,y:430},{name:"campaignLabel",fullName:"campaignLabel",anchor:{x:.5,y:.5},type:"sprite",key:"campaign_label.png",x:31,y:369},{children:[{name:"glow1",fullName:"glowStars/glow1",alpha:0,anchor:{x:.5,y:.5},type:"sprite",key:"glow_1.png",x:10,y:28},{name:"glow2",fullName:"glowStars/glow2",alpha:0,anchor:{x:.5,y:.5},type:"sprite",key:"glow_2.png",x:56,y:20},{name:"glow3",fullName:"glowStars/glow3",alpha:0,anchor:{x:.5,y:.5},type:"sprite",key:"glow_3.png",x:52,y:10},{name:"glow4",fullName:"glowStars/glow4",alpha:0,anchor:{x:.5,y:.5},type:"sprite",key:"glow_4.png",x:61,y:30},{name:"glow5",fullName:"glowStars/glow5",alpha:0,anchor:{x:.5,y:.5},type:"sprite",key:"glow_5.png",x:3,y:19}],name:"glowStars",fullName:"glowStars",type:"container",x:161,y:104}],name:"",fullName:"",type:"container",x:50,y:99}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),f=r(c),d=n(5),p=r(d),h=n(1208),y=r(h),m=n(183),_=r(m),g=n(184),b=r(g),v=n(3),w=r(v),k=n(248),S=r(k),I=n(0),E=r(I),A=n(1222),x=r(A),C=n(1223),T=r(C),P=n(12),O=r(P),N=n(98),M=r(N),R=n(14),D=r(R),F=n(247),B=r(F),j=n(1),L=r(j),U=n(185),H=r(U),G=function(e){function t(e){var n=e.userFesIdol,r=e.character,i=e.prevScene;a(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s._idolDetailLayer=aoba.Container.new().addTo(s),E.default.CommonPartsLayer.create({headerTitle:w.default.t("idolDetail.headerTitle.fes"),tips:L.default.tips.fesIdolDetail,firstTimeKey:E.default.CommonPartsLayer.getDisplayedListForFirstTime.fesIdolDetail,onTapBackButton:function(){aoba.sceneManager.popScene()}}).on("openGlobalMenu",function(){s._idolDetail.resetTab()}).on("openTips",function(){s._idolDetail.resetTab()}).addTo(s),s._zoomCardLayer=aoba.Container.new().addTo(s),s._dialogLayer=aoba.Container.new().addTo(s),s._prevScene=i,s._idolDetailLayer.fromData(b.default,{bg:E.default.MovingBg.new(),"idolDetailBase/idolName/unitIcon":{key:n.getUnitImagePath("icon")},"idolDetailBase/idolName/idolName":{text:n.idol.name},"idolDetailBase/cardImage":_.default.new(n,"fes",s._zoomCardLayer),"idolDetailBase/copyright":{text:n.idol.copyrightInfo,dy:2}}),s._canTrade=n.canTrade,s._userFesIdol=n,s._idolDetail=y.default.new(n,r).addTo(s._idolDetailLayer).on("tapTradeButton",s._showTradeDialog,s).on("closeEnd",s._exit,s),s}return s(t,e),u(t,[{key:"_showTradeDialog",value:function(){var e=this;return this._canTrade?B.default.get().then(function(t){e._showTradeConfirmDialog(t)}):this._showCanNotTradeDialog()}},{key:"_showCanNotTradeDialog",value:function(){D.default.new({size:"simple",text:w.default.t("idolDetail.canNotTradeDialog.comment"),buttons:[{type:"close",image:"close_button.png"}]}).addTo(this._dialogLayer).open()}},{key:"_showTradeConfirmDialog",value:function(e){var t=this,n=aoba.Container.new();n.fromData(x.default,{"idol/idolIcon":M.default.new(this._userFesIdol),"idol/idolName":{text:this._userFesIdol.idol.name},"money/totalMoney":{text:e.userMoney.amount},"money/addition":{text:w.default.t("idolDetail.tradeConfirmDialog.addition",{num:this._userFesIdol.tradeMoney})}})["notice/comment"].style.align="center",D.default.new({title:w.default.t("idolDetail.tradeConfirmDialog.title"),container:n,buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"transfers_button.png"}]}).addTo(this._dialogLayer).on("submit",function(){S.default.trade(t._userFesIdol.id).then(function(n){var r=n.body.amount-e.userMoney.amount;t._showTradeResultDialog(r)})}).open()}},{key:"_showTradeResultDialog",value:function(e){var t=this,n=aoba.Container.new()
;n.fromData(T.default,{idolName:{text:w.default.t("idolDetail.tradeResultDialog.idolName",{idolName:this._userFesIdol.idol.name})},moneyText:{text:w.default.t("idolDetail.tradeResultDialog.money",{money:e})}}),D.default.new({title:w.default.t("idolDetail.tradeResultDialog.title"),container:n,buttons:[{type:"close",image:"close_button.png"}]}).addTo(this._dialogLayer).on("closeEnd",function(){"fesDeck"===t._prevScene&&t.emit("trade"),t._exit(),"idolList"===t._prevScene&&O.default.directTo("/idolList",{transition:E.default.TransitionFadeLayer.createWhite({duration:80})})}).open()}},{key:"_exit",value:function(){aoba.sceneManager.popScene()}}],[{key:"request",value:function(e){return Promise.all([S.default.get(e.idolId),S.default.getCharacter(e.characterId)]).then(function(e){var t=l(e,2);return{userFesIdol:t[0],character:t[1]}})}},{key:"getContentResources",value:function(e){var t=e.userFesIdol,n=[];return n.push(t.getCardImagePath()),n.push(t.getImagePath("name")),n.push(t.getImagePath("sign")),n.push(t.getImagePath("fes_icon")),n.push(t.getUnitImagePath("logo")),n.push(t.getUnitImagePath("icon")),t.userFesSupportIdols.forEach(function(e){n.push(e.iconPath)}),n.push(t.idolIconPath),n.push(t.scenarioBannerPath),f.default.uniq(n)}},{key:"uiResources",get:function(){return[].concat(i(H.default.common),i(H.default.fesIdol))}}]),t}(p.default);t.default=G},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1209),u=r(l),c=n(1210),f=r(c),d=n(181),p=r(d),h=n(270),y=r(h),m=n(1219),_=r(m),g=n(182),b=r(g),v=n(3),w=r(v),k=n(7),S=r(k),I=n(0),E=r(I),A=n(13),x=r(A),C=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.memoryAppeal,s=e.idol.character,l=r.fromData(u.default,{parameter:f.default.new(e,o),skill:p.default.new(e,"skill_learned"),memoryAppeal:y.default.new(o),produceDeck:_.default.new(e),profile:b.default.new(s,e.getUnitImagePath("logo")),"totalFan/idolName":{text:w.default.t("idolDetail.totalFan.idolName",s)},"totalFan/fan":{text:w.default.t("idolDetail.totalFan.fan",{fan:x.default.numberFormat(n.fan)})},transfersButton:{class:E.default.DecideButton}});r._showTab=l.skill,l.memoryAppeal.hide(),l.produceDeck.hide(),l.profile.hide(),l.tabs.children.forEach(function(e){e.interactive=!0,e.on("tap",function(){aoba.soundManager.playSE(S.default.ui.select),r._changeTab(e)})});var c=l.transfersButton;if(c.on("tap",function(){r.emit("tapTradeButton")}),!e.canTrade){var d=new aoba.filters.ColorMatrixFilter;d.brightness(.6,!0),c.filters=[d]}return r._objs=l,r}return o(t,e),s(t,[{key:"_changeTab",value:function(e){var t=e.name.slice(0,-3),n=this._objs[""+t];this._showTab.hide(),this.resetTab(),n.show(),this._showTab=n}},{key:"resetTab",value:function(){this._showTab.reset&&this._showTab.reset()}}]),t}(aoba.Container);t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"memoryAppealOff",fullName:"tabs/memoryAppealOff",type:"sprite",key:"memory_appeal_off.png",x:128,y:0},{name:"produceDeckOff",fullName:"tabs/produceDeckOff",type:"sprite",key:"produce_deck_off.png",x:256,y:0},{name:"skillOff",fullName:"tabs/skillOff",type:"sprite",key:"skill_learned_off.png",x:0,y:0},{name:"profileOff",fullName:"tabs/profileOff",type:"sprite",key:"profile_off.png",x:384,y:0}],name:"tabs",fullName:"tabs",type:"container",x:560,y:0},{children:[{name:"fesIdolDetailTotalFanBase",fullName:"totalFan/fesIdolDetailTotalFanBase",type:"sprite",key:"fes_idol_detail_total_fan_base.png",x:0,y:0},{name:"idolName",fullName:"totalFan/idolName",type:"text",text:"\u3010\u6afb\u6728\u771f\u4e43\u3011\u7d2f\u8a08\u30d5\u30a1\u30f3\u4eba\u6570",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:17,y:32},{name:"fan",fullName:"totalFan/fan",anchor:{x:1,y:.5},type:"text",text:"999,999,999,999,999,999\u4eba",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:22},rotation:0,x:816,y:33}],name:"totalFan",fullName:"totalFan",type:"container",x:77,y:478},{name:"parameter",fullName:"parameter",type:"container",x:0,y:374},{name:"skill",fullName:"skill",type:"container",x:553,y:0},{name:"memoryAppeal",fullName:"memoryAppeal",type:"container",x:553,y:0},{name:"produceDeck",fullName:"produceDeck",type:"container",x:566,y:0},{name:"profile",fullName:"profile",type:"container",x:568,y:0},{name:"transfersButton",fullName:"transfersButton",anchor:{x:.5,y:.5},type:"sprite",key:"transfers_button.png",x:1005,y:508}],name:"",fullName:"",type:"container",x:39,y:81}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1211),l=r(s),u=n(468),c=r(u),f=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.idol,s={};return["vocal","dance","visual","mental"].forEach(function(t){s[t+"/iconStatusRank"]={key:(0,c.default)(t,e[t],o.idolParameterRanks)},s[t+"/score"]={text:e[t]},s[t+"/plusScore"]={visible:!1}}),s.iconMemoryLevel={key:"icon_memory_Lv"+n.level+".png"},r.fromData(l.default,s),r}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"iconMemoryLevel",fullName:"iconMemoryLevel",anchor:{x:.5,y:.5},type:"sprite",key:"icon_memory_level.png",x:32,y:30},{children:[{name:"iconStatusVocal",fullName:"vocal/iconStatusVocal",type:"sprite",key:"icon_status_vocal.png",x:0,y:1},{name:"fesStatusLine",fullName:"vocal/fesStatusLine",type:"sprite",key:"fes_status_line.png",x:26,y:26},{name:"score",fullName:"vocal/score",anchor:{x:.5,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:121,y:15},{name:"A",fullName:"vocal/A",type:"text",text:"A",style:{fill:16777215,fontFamily:"HummingStd-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:29,y:13},{name:"iconStatusRank",fullName:"vocal/iconStatusRank",anchor:{x:.5,y:.5},type:"sprite",key:"A.png",x:41,y:13}],name:"vocal",fullName:"vocal",type:"container",x:82,y:0},{children:[{name:"fesStatusLine",fullName:"dance/fesStatusLine",type:"sprite",key:"fes_status_line.png",x:27,y:26},{name:"score",fullName:"dance/score",anchor:{x:.5,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:123,y:15},{name:"iconStatusRank",fullName:"dance/iconStatusRank",anchor:{x:.5,y:.5},type:"sprite",key:"B.png",x:40,y:13},{name:"iconStatusDance",
fullName:"dance/iconStatusDance",type:"sprite",key:"icon_status_dance.png",x:0,y:1}],name:"dance",fullName:"dance",type:"container",x:312,y:0},{children:[{name:"iconStatusVisual",fullName:"visual/iconStatusVisual",type:"sprite",key:"icon_status_visual.png",x:0,y:1},{name:"fesStatusLine",fullName:"visual/fesStatusLine",type:"sprite",key:"fes_status_line.png",x:27,y:26},{name:"score",fullName:"visual/score",anchor:{x:.5,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:122,y:15},{name:"iconStatusRank",fullName:"visual/iconStatusRank",anchor:{x:.5,y:.5},type:"sprite",key:"C.png",x:41,y:13}],name:"visual",fullName:"visual",type:"container",x:82,y:33},{children:[{name:"iconStatusMental",fullName:"mental/iconStatusMental",type:"sprite",key:"icon_status_mental.png",x:0,y:1},{name:"fesStatusLine",fullName:"mental/fesStatusLine",type:"sprite",key:"fes_status_line.png",x:28,y:26},{name:"score",fullName:"mental/score",anchor:{x:.5,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:124,y:15},{name:"iconStatusRank",fullName:"mental/iconStatusRank",anchor:{x:.5,y:.5},type:"sprite",key:"D.png",x:40,y:13}],name:"mental",fullName:"mental",type:"container",x:312,y:33}],name:"",fullName:"",type:"container",x:39,y:455}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"skillOn",fullName:"skillOn",type:"sprite",key:"skill_learned_on.png",x:7,y:0},{name:"skillLists",fullName:"skillLists",type:"container",x:0,y:56}],name:"",fullName:"",type:"container",x:592,y:81}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"skillDetailTitle",fullName:"skillDetailTitle",type:"sprite",key:"title_live_skill.png",x:77,y:0},{name:"skillDetail",fullName:"skillDetail",type:"container",x:0,y:39}],name:"",fullName:"",type:"container",x:592,y:137}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(455),l=r(s),u=n(3),c=r(u),f=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=void 0===e.evolutionStage?e:e.skill,s=o.name,u=o.description,f=o.supportSkillLevel,d=r.fromData(l.default,{effectTypeIcon:{key:"support_skill_icon.png",scale:.5,dx:-4,dy:-4},linkButton:{visible:!1},lock:{visible:!1},skillName:{text:s},skillLevel:{text:c.default.t("idolDetail.skill.level",{level:f}),visible:!0},skillComment:{text:u},idolDetailSkillInBase:{alpha:n%2==0?1:0}});return d.skillComment.style.lineHeight=16,d.skillComment.style.wordWrap=!0,d.skillComment.style.wordWrapWidth=432,d.skillComment.style.breakWords=!0,r}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(81),f=r(c),d=n(470),p=r(d),h=n(269),y=r(h),m=n(22),_=r(m),g=n(24),b=r(g),v=n(77),w=r(v),k={WIDTH:525.99,HEIGHT:398},S=function(e){function t(e){var n=e.skillPanels,r=e.evolutionStage;i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=[],l=[],u=[];n.forEach(function(e){switch(e.skillCategory){case"active":s.push(e);break;case"passive":l.push(e);break;default:u.push(e)}});var c=o.fromData(p.default,{noSkillMessage:{visible:!s&&!l}});o._linkSkillLayer=aoba.Container.new().addTo(o),o._linkAppealDetails={};var d=c.skillList;return s.length>0&&y.default.new(s,f.default.SKILL_TYPES.ACTIVE,r).on("tapLinkButton",function(e,t){o._showLinkSkill(e.linkButton,e.linkSkill,t,d.y)}).on("releaseLinkButton",function(e){o._deleteLinkSkill(e)}).addTo(d,0,0),l.length>0&&y.default.new(l,f.default.SKILL_TYPES.PASSIVE,r).addTo(d,0,d.height+20),u.length>0&&y.default.new(u,f.default.SKILL_TYPES.OTHER,r).addTo(d,0,d.height+20),o.height>k.HEIGHT&&o._createScrollRect(c.scrollBar,d),o}return o(t,e),s(t,[{key:"reset",value:function(){var e=this;return Object.keys(this._linkAppealDetails).forEach(function(t){e._linkAppealDetails[t]&&(e._linkAppealDetails[t].destroy(),e._linkAppealDetails[t]=null)}),this}},{key:"_createScrollRect",value:function(e,t){var n=e,r=u.default.commonUiHelper.createScrollBarBase({width:8,height:k.HEIGHT});this._scrollRect=_.default.new({width:k.WIDTH,height:k.HEIGHT,container:t,scrollBar:b.default.new({width:18}),scrollBarBase:r}).addToAt(this,n,0,0),r.addTo(n,0,0)}},{key:"_showLinkSkill",value:function(e,t,n,r){this._deleteLinkSkill(t),this._linkAppealDetails[t.id]=w.default.new(t).addTo(this._linkSkillLayer,125,100*n-70+r,{visible:!0})}},{key:"_deleteLinkSkill",value:function(e){this._linkAppealDetails[e.id]&&(this._linkAppealDetails[e.id].destroy({children:!0}),this._linkAppealDetails[e.id]=null)}}]),t}(aoba.Container);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"memoryAppealOn",fullName:"memoryAppealOn",type:"sprite",key:"memory_appeal_on.png",x:135,y:0},{children:[{name:"expandLayer",fullName:"list/expandLayer",visible:!1,type:"graphics",fill:0,alpha:1,width:526,height:398,shape:"rect",x:0,y:0},{name:"memoryAppealLevel",fullName:"list/memoryAppealLevel",type:"container",x:0,y:0}],name:"list",fullName:"list",type:"container",x:0,y:56},{name:"scrollBar",fullName:"scrollBar",type:"container",x:507,y:56}],name:"",fullName:"",type:"container",x:592,y:81}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1218),u=r(l),c=n(118),f=r(c),d={CURRENT:{COMMENT:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,lineHeight:16,wordWrap:!0,wordWrapWidth:402,breakWords:!0},TITLE:{fill:6378341,
fontFamily:"UDKakugo_SmallPr6-B",fontSize:18}},OTHER:{COMMENT:{fill:11117484,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,lineHeight:16,wordWrap:!0,wordWrapWidth:402,breakWords:!0},TITLE:{fill:11117484,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18}}},p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=e.level,l=e.name,c=e.comment,p=e.linkSkill,h=r?d.CURRENT:d.OTHER,y=o.fromData(u.default,{iconMemoryLevel:{key:"icon_memory_Lv"+s+".png"},effectTypeIcon:{key:""},skillName:{text:l,style:h.TITLE,dx:-41},skillComment:{text:c,style:h.COMMENT},linkButton:{class:f.default,visible:void 0!==p},idolDetailSkillInBase:{alpha:n%2==0?1:0}});return o._linkButton=y.linkButton,p&&o._setLinkButtonEvent(p),o}return o(t,e),s(t,[{key:"_setLinkButtonEvent",value:function(e){var t=this;this._linkButton.on("holdstart",function(){t.emit("tapLinkButton",t._linkButton,e)}),this._linkButton.on("holdend",function(){t.emit("releaseLinkButton",e)})}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idolDetailSkillInBase",fullName:"idolDetailSkillInBase",type:"sprite",key:"idol_detail_skill_in_base.png",x:0,y:0},{name:"skillComment",fullName:"skillComment",anchor:{x:0,y:0},type:"text",text:"\uff11\uff11\u79d2\u6bce\u3001\u9ad8\u78ba\u7387\u3067\u5c11\u3057\u306e\u9593\u3001PERFECT\u3067\u30e9\u30a4\u30d5\uff13\u56de\r\u5fa9\u4e00\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:85,y:56},{name:"skillName",fullName:"skillName",type:"text",text:"\u30b7\u30e3\u30a4\u30cb\u30f3\u30b0\u30a6\u30a3\u30f3\u30b0",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:126,y:22},{name:"idolDetailMemoryTabLine",fullName:"idolDetailMemoryTabLine",type:"sprite",key:"idol_detail_memory_tab_line.png",x:86,y:44},{name:"effectTypeIcon",fullName:"effectTypeIcon",anchor:{x:.5,y:.5},type:"sprite",key:"icon_skill_s_buff.png",x:104,y:22},{name:"iconMemoryLevel",fullName:"iconMemoryLevel",anchor:{x:.5,y:.5},type:"sprite",key:"icon_memory_Lv1.png",x:45,y:50},{name:"linkButton",fullName:"linkButton",anchor:{x:.5,y:.5},type:"sprite",key:"btn_LINK.png",x:460,y:22}],name:"",fullName:"",type:"container",x:592,y:137}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1220),l=r(s),u=n(3),c=r(u),f=n(13),d=r(f),p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.scenarioBannerPath,o=e.userFesSupportIdols,s=e.fan,u=e.rank,f=e.idolIconPath,p=o.pop(),h={"scenario/scenarioBanner":{key:r},"lastFan/lastFan":{text:c.default.t("idolDetail.produceDeck.lastFan",{fan:d.default.numberFormat(s)})},iconIdolRank:{key:"icon_idol_rank_"+u.toLowerCase()+".png",scale:.45},produceIdol:{key:f},"guestIdol/guestIcon":{key:p.iconPath}};return o.forEach(function(e,t){h["supportIdol/supportIdol"+(t+1)]={key:aoba.Texture.fromImage(e.iconPath)}}),n.fromData(l.default,h),n}return o(t,e),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"lastFanLine",fullName:"lastFan/lastFanLine",type:"sprite",key:"last_fan_line.png",x:0,y:60},{name:"lastFanTitle",fullName:"lastFan/lastFanTitle",type:"sprite",key:"last_fan_title.png",x:0,y:0},{name:"lastFan",fullName:"lastFan/lastFan",type:"text",text:"888,888,888\u4eba",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:4,y:44}],name:"lastFan",fullName:"lastFan",type:"container",x:0,y:74},{name:"iconIdolRank",fullName:"iconIdolRank",anchor:{x:.5,y:.5},type:"sprite",key:"icon_idol_rank_s.png",x:349,y:99},{name:"produceIdol",fullName:"produceIdol",type:"sprite",key:"produce_idol.png",x:400,y:56},{children:[{name:"scenarioTitle",fullName:"scenario/scenarioTitle",type:"sprite",key:"scenario_title.png",x:0,y:0},{name:"scenarioBanner",fullName:"scenario/scenarioBanner",type:"sprite",key:"scenario_banner.png",x:2,y:30}],name:"scenario",fullName:"scenario",type:"container",x:0,y:167},{children:[{name:"supportidolTitle",fullName:"supportIdol/supportidolTitle",type:"sprite",key:"supportidol_title.png",x:0,y:0},{name:"supportIdol1",fullName:"supportIdol/supportIdol1",type:"sprite",key:"support_idol_1.png",x:0,y:31},{name:"supportIdol2",fullName:"supportIdol/supportIdol2",type:"sprite",key:"support_idol_2.png",x:101,y:31},{name:"supportIdol3",fullName:"supportIdol/supportIdol3",type:"sprite",key:"support_idol_3.png",x:202,y:31},{name:"supportIdol4",fullName:"supportIdol/supportIdol4",type:"sprite",key:"support_idol_4.png",x:302,y:31}],name:"supportIdol",fullName:"supportIdol",type:"container",x:0,y:312},{children:[{name:"guestTitle",fullName:"guestIdol/guestTitle",type:"sprite",key:"guest_title.png",x:0,y:0},{name:"guestIcon",fullName:"guestIdol/guestIcon",type:"sprite",key:"guest_icon.png",x:0,y:31}],name:"guestIdol",fullName:"guestIdol",type:"container",x:403,y:312},{name:"produceDeckOn",fullName:"produceDeckOn",type:"sprite",key:"produce_deck_on.png",x:250,y:0}],name:"",fullName:"",type:"container",x:605,y:81}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"profileTitleBase",fullName:"nameKana/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileNameDotLine",fullName:"nameKana/profileNameDotLine",type:"sprite",key:"profile_name_dot_line.png",x:1,y:49},{name:"text",fullName:"nameKana/text",type:"text",text:"\u3055\u304f\u3089\u304e\u3000\u307e\u306e",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:2,y:39},{name:"nameKanaTitle",fullName:"nameKana/nameKanaTitle",type:"text",text:"\u306a\u307e\u3048",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:19,y:12}],name:"nameKana",fullName:"nameKana",type:"container",x:0,y:56},{children:[{name:"profileTitleBase",fullName:"unit/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileNameDotLine",fullName:"unit/profileNameDotLine",type:"sprite",key:"profile_name_dot_line.png",x:1,y:51},{name:"text",fullName:"unit/text",type:"text",text:"illumination STARS",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:2,y:41},{name:"unitTitle",fullName:"unit/unitTitle",type:"text",text:"\u30e6\u30cb\u30c3\u30c8",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:11,y:13}],name:"unit",fullName:"unit",type:"container",x:0,y:115},{children:[{name:"profileTitleBase",fullName:"height/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileMiddleDotLine",fullName:"height/profileMiddleDotLine",type:"sprite",key:"profile_middle_dot_line.png",x:80,y:22},{name:"text",fullName:"height/text",type:"text",text:"156cm",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:90,y:12},{name:"heightTitle",
fullName:"height/heightTitle",type:"text",text:"\u8eab\u9577",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:26,y:13}],name:"height",fullName:"height",type:"container",x:0,y:246},{children:[{name:"profileTitleBase",fullName:"figure/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileMiddleDotLine",fullName:"figure/profileMiddleDotLine",type:"sprite",key:"profile_middle_dot_line.png",x:80,y:22},{name:"text",fullName:"figure/text",type:"text",text:"86/58/88",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:12},{name:"figureTitle",fullName:"figure/figureTitle",type:"text",text:"\u30b9\u30ea\u30fc\u30b5\u30a4\u30ba",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:3,y:12}],name:"figure",fullName:"figure",type:"container",x:0,y:281},{children:[{name:"profileTitleBase",fullName:"place/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileLongDotLine",fullName:"place/profileLongDotLine",type:"sprite",key:"profile_long_dot_line.png",x:80,y:22},{name:"text",fullName:"place/text",type:"text",text:"\u6771\u4eac",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:12},{name:"placeTitle",fullName:"place/placeTitle",type:"text",text:"\u51fa\u8eab\u5730",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:19,y:13}],name:"place",fullName:"place",type:"container",x:0,y:317},{children:[{name:"profileTitleBase",fullName:"hobby/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileLongDotLine",fullName:"hobby/profileLongDotLine",type:"sprite",key:"profile_long_dot_line.png",x:79,y:22},{name:"text",fullName:"hobby/text",type:"text",text:"\u304a\u51fa\u304b\u3051\u3001\u516c\u5712\u3067\u65e5\u5411\u307c\u3063\u3053",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:89,y:12},{name:"hobbyTitle",fullName:"hobby/hobbyTitle",type:"text",text:"\u8da3\u5473",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:26,y:13}],name:"hobby",fullName:"hobby",type:"container",x:0,y:352},{children:[{name:"profileTitleBase",fullName:"specialty/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileLongDotLine",fullName:"specialty/profileLongDotLine",type:"sprite",key:"profile_long_dot_line.png",x:79,y:22},{name:"text",fullName:"specialty/text",type:"text",text:"\u9ce5\u306b\u597d\u304b\u308c\u308b",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:12},{name:"specialtyTitle",fullName:"specialty/specialtyTitle",type:"text",text:"\u7279\u6280",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:26,y:13}],name:"specialty",fullName:"specialty",type:"container",x:0,y:387},{children:[{name:"profileTitleBase",fullName:"cv/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileLongDotLine",fullName:"cv/profileLongDotLine",type:"sprite",key:"profile_long_dot_line.png",x:79,y:22},{name:"text",fullName:"cv/text",type:"text",text:"????",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:12},{name:"cvTitle",fullName:"cv/cvTitle",type:"text",text:"CV.",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:27,y:13}],name:"cv",fullName:"cv",type:"container",x:0,y:422},{children:[{name:"profileTitleBase",fullName:"age/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileMiddleDotLine",fullName:"age/profileMiddleDotLine",type:"sprite",key:"profile_middle_dot_line.png",x:80,y:22},{name:"text",fullName:"age/text",type:"text",text:"17\u6b73",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:90,y:12},{name:"ageTitle",fullName:"age/ageTitle",type:"text",text:"\u5e74\u9f62",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:26,y:13}],name:"age",fullName:"age",type:"container",x:0,y:176},{children:[{name:"profileTitleBase",fullName:"birthday/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileMiddleDotLine",fullName:"birthday/profileMiddleDotLine",type:"sprite",key:"profile_middle_dot_line.png",x:80,y:22},{name:"text",fullName:"birthday/text",type:"text",text:"4\u670825\u65e5",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:12},{name:"birthdayTitle",fullName:"birthday/birthdayTitle",type:"text",text:"\u8a95\u751f\u65e5",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:19,y:13}],name:"birthday",fullName:"birthday",type:"container",x:0,y:211},{children:[{name:"profileTitleBase",fullName:"weight/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileMiddleDotLine",fullName:"weight/profileMiddleDotLine",type:"sprite",key:"profile_middle_dot_line.png",x:80,y:22},{name:"text",fullName:"weight/text",type:"text",text:"48kg",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:14},{name:"weightTitle",fullName:"weight/weightTitle",type:"text",text:"\u4f53\u91cd",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:26,y:13}],name:"weight",fullName:"weight",type:"container",x:254,y:246},{children:[{name:"profileTitleBase",fullName:"bloodType/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileMiddleDotLine",fullName:"bloodType/profileMiddleDotLine",type:"sprite",key:"profile_middle_dot_line.png",x:80,y:22},{name:"text",fullName:"bloodType/text",type:"text",text:"A\u578b",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:11},{name:"bloodTypeTitle",fullName:"bloodType/bloodTypeTitle",type:"text",text:"\u8840\u6db2\u578b",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:18,y:13}],name:"bloodType",fullName:"bloodType",type:"container",x:254,y:176},{children:[{name:"profileTitleBase",fullName:"starSign/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileMiddleDotLine",fullName:"starSign/profileMiddleDotLine",type:"sprite",key:"profile_middle_dot_line.png",x:80,y:22},{name:"text",fullName:"starSign/text",type:"text",text:"\u7261\u725b\u5ea7",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:11},{name:"starSignTitle",fullName:"starSign/starSignTitle",type:"text",text:"\u661f\u5ea7",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:26,y:13}],name:"starSign",fullName:"starSign",type:"container",x:254,y:211},{children:[{name:"profileTitleBase",fullName:"arm/profileTitleBase",type:"sprite",key:"profile_title_base.png",x:0,y:0},{name:"profileMiddleDotLine",fullName:"arm/profileMiddleDotLine",type:"sprite",key:"profile_middle_dot_line.png",x:80,y:22},{name:"text",fullName:"arm/text",type:"text",text:"\u53f3",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:88,y:11},{name:"armTitle",fullName:"arm/armTitle",type:"text",text:"\u5229\u304d\u624b",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:19,y:13}],name:"arm",fullName:"arm",type:"container",x:254,y:281},{children:[{name:"unitLogoBase",fullName:"unitLogo/unitLogoBase",type:"sprite",key:"unit_logo_base.png",x:0,y:0},{name:"unitLogo",fullName:"unitLogo/unitLogo",anchor:{x:.5,y:.5},type:"sprite",key:"unit_logo.png",x:109,y:58}],name:"unitLogo",fullName:"unitLogo",type:"container",x:284,
y:56},{name:"profileOn",fullName:"profileOn",type:"sprite",key:"profile_on.png",x:376,y:0}],name:"",fullName:"",type:"container",x:607,y:81}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"comment",fullName:"notice/comment",anchor:{x:.5,y:.5},type:"text",text:"\u3053\u306e\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u3068\u306f\u304a\u5225\u308c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\r\u3000\u79fb\u7c4d\u3092\u78ba\u5b9a\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:209,y:20}],name:"notice",fullName:"notice",type:"container",x:-208,y:0},{children:[{name:"idolIcon",fullName:"idol/idolIcon",type:"sprite",key:"idol_icon.png",x:0,y:0},{name:"idolName",fullName:"idol/idolName",anchor:{x:.5,y:.5},type:"text",text:"\u3053\u3053\u306b\u306f\u30ad\u30e3\u30e9\u540d\uff0b\u4e8c\u3064\u540d\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:281,y:48}],name:"idol",fullName:"idol",type:"container",x:-227,y:70},{children:[{name:"transferMoneyTitleBase",fullName:"money/transferMoneyTitleBase",type:"sprite",key:"transfer_money_title_base.png",x:0,y:0},{name:"transferMoneyLine",fullName:"money/transferMoneyLine",type:"sprite",key:"transfer_money_line.png",x:125,y:24},{name:"tradeMoneyTitle",fullName:"money/tradeMoneyTitle",type:"text",text:"\u79fb\u7c4d\u5f8c\u30de\u30cb\u30fc",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:12,y:14},{name:"totalMoney",fullName:"money/totalMoney",anchor:{x:.5,y:.5},type:"text",text:"300000",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:224,y:12},{name:"addition",fullName:"money/addition",anchor:{x:.5,y:.5},type:"text",text:"+200",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:317,y:12},{name:"parenthesesStart",fullName:"money/parenthesesStart",type:"text",text:"(",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:281,y:12},{name:"parenthesesEnd",fullName:"money/parenthesesEnd",type:"text",text:")",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:351,y:12}],name:"money",fullName:"money",type:"container",x:-198,y:201}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:563,y:182}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"comment3",fullName:"comment3",type:"text",text:"\u3092\u7372\u5f97\u3057\u307e\u3057\u305f",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:52,y:57},{name:"comment2",fullName:"comment2",type:"text",text:"\u306e\u79fb\u7c4d\u306b\u3088\u308a",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-189,y:57},{name:"idolName",fullName:"idolName",anchor:{x:.5,y:.5},type:"text",text:"[\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042]",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:0,y:33},{name:"comment1",fullName:"comment1",type:"text",text:"\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-67,y:9},{name:"moneyText",fullName:"moneyText",anchor:{x:.5,y:.5},type:"text",text:"300\u30de\u30cb\u30fc",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:-8,y:56}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:254}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(452),u=r(l),c=n(5),f=r(c),d=n(109),p=r(d),h=function(e){return e.category+"/"+e.id+".json"},y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._onEnd=e.onEnd,n.showLoadingLayer(),n._showEvent(e),n}return o(t,e),s(t,[{key:"_showEvent",value:function(e){dlog(!1,"showEvent_\u6d3b\u52a8\u5267\u60c5",e,this);var t=this,n=h(e);return p.default.loadJsonAndResources(n).then(function(e){var n=p.default.createAdvPlayer(e);return n.addTo(t),p.default.playAdvPlayer(n)}).then(function(){t._onEnd()})}}],[{key:"uiResources",get:function(){return u.default}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),f=r(c),d=n(1),p=r(d),h=n(5),y=r(h),m=n(1226),_=r(m),g=n(273),b=r(g),v=n(39),w=r(v),k=n(12),S=r(k),I=n(274),E=r(I),A=function(e){function t(e){var n=e.user,r=e.userGashaTickets,i=e.gashaGroups,s=e.moneyPower,l=e.isTutorial;a(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.forEach(function(e){e.isGashaTicketGroup()&&e.gashas.forEach(function(e){e.userGashaTicket=r.find(function(t){return t.gashaTicket.id===e.currencyId})})}),aoba.soundManager.playBGMAsync(p.default.bgm.gasha),u._showGashaTop(n.getJewel(),r,i,s,l),u}return s(t,e),u(t,[{key:"onEnter",value:function(){localStorage.setItem("gashaPageOpenTime",Date.now())}},{key:"_showGashaTop",value:function(e,t,n,r,i){_.default.new(e,t,n,r,i).addTo(this).once("tapDrawGashaButton",this._drawGashaAndShowGashaResult,this).once("redrawGasha",this._redrawGashaAndShowGashaResult,this)}},{key:"_drawGashaAndShowGashaResult",value:function(e){this._fadeInLoadingWarning(),this.showLoadingLayer();var t=e.gasha,n=e.usePoint;w.default.gasha.draw(t,n).then(function(e){S.default.directTo("/gashaResult",{request:!1,showLoading:!1,sceneParams:{idols:e.idols,gasha:t}})})
}},{key:"_redrawGashaAndShowGashaResult",value:function(e){this._fadeInLoadingWarning(),this.showLoadingLayer();var t=e.gashaId;w.default.gasha.redraw(t).then(function(e){S.default.directTo("/redrawGashaResult",{request:!1,showLoading:!1,sceneParams:{idols:e.idols,gashaId:t}})})}},{key:"_fadeInLoadingWarning",value:function(){E.default.new().addTo(this).fadeIn()}}],[{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(p.default.bgm.gasha)]}},{key:"request",value:function(){return Promise.all([w.default.user.get(),w.default.userGashaTicket.getList(),w.default.gashaGroup.getList(),w.default.earthUser.getMoneyPower()]).then(function(e){var t=l(e,4);return{user:t[0],userGashaTickets:t[1],gashaGroups:t[2],moneyPower:t[3]}})}},{key:"getContentResources",value:function(e){var t=e.gashaGroups,n=e.userGashaTickets,r=[];return t.forEach(function(e){"gasha_ticket.png"!==e.getTitleImagePath()&&r.push(e.getTitleImagePath()),r.push(e.getBgImagePath()),e.gashaDetailBanners&&e.gashaDetailBanners.forEach(function(t){r.push(e.getBannerImagePath(t.image))})}),n.forEach(function(e){var t=e.gashaTicket;r.push(t.getIconImage()),r.push(t.getSmallIconImage()),r.push(t.getTicketBorderIconImage())}),[].concat(i(f.default.uniq(r)),i(_.default.resources))}},{key:"uiResources",get:function(){return b.default}}]),t}(y.default);t.default=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(13),c=r(u),f=n(1),d=r(f),p=n(0),h=r(p),y=n(12),m=r(y),_=n(97),g=r(_),b=n(3),v=r(b),w=n(21),k=r(w),S=n(1227),I=r(S),E=n(1228),A=r(E),x=n(1232),C=r(x),T=n(1234),P=r(T),O=n(1240),N=r(O),M=n(1242),R=r(M),D=n(472),F=r(D),B=n(1245),j=r(B),L=n(1247),U=r(L),H=n(1249),G=r(H),z=n(24),V=r(z),K=n(22),W=r(K),q=n(23),X=r(q),Y=n(262),J=r(Y),Q=n(1252),Z=r(Q),$=n(272),ee=r($),te=n(112),ne=r(te),re=n(1255),ie=r(re),ae=n(32),oe=r(ae),se=n(56),le=r(se),ue=n(76),ce=r(ue),fe=n(113),de=r(fe),pe=n(1256),he=r(pe),ye=["circle_hollow.png","white.png"],me={x:0,y:85,width:875,height:440},_e={free:N.default,bana_coin:P.default,gasha_ticket:R.default},ge=["1021","1011","1001","1022","1012","1023","1013","2001","3001"],be=function(e){function t(e,n,r,o,s){i(this,t);var l=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.sort(function(e,t){var n=ge.indexOf(e.id),r=ge.indexOf(t.id);return-1===n||-1===r?0:n-r}),l._currentGashaTicketIndex=0,l._jewels=e,l._tickets=n,l._gashaGroups=r,l._moneyPower={banaCoin:o.coin,enzaPoint:o.point};var u=l.fromData(I.default,{header:null,"body/bg":aoba.Sprite.new("bg.jpg"),"body/gashaList":A.default.new(r),"body/ui/ui/regulationsButton":{class:h.default.DecideButton},"body/ui/ui/provideRateButton":{class:h.default.DecideButton},backButton:null});h.default.CommonPartsLayer.create({headerTitle:v.default.t("header.gasha"),tips:d.default.tips.gasha,firstTimeKey:s?null:h.default.CommonPartsLayer.getDisplayedListForFirstTime.gasha,onTapBackButton:function(){m.default.directTo("/home")}}).addTo(l),l._bg=u["body/bg"],l._popLayer=u.pop,l._uiLayer=u["body/ui/ui"],l._bannerLayer=u["body/ui/banner"],l._expireDateTime=u["body/ui/expireDatetime"],l._uiBaseLayer=u["body/ui/ui/base"],l._gashaTicketList=u["body/ui/ticketGashaList"],l._gashaTicketBase=u["body/ui/ticketGashaList/list"],l._emptyNotice=u["body/ui/ticketGashaList/base/emptyNotice"],l._gashaTicket=u["body/ui/ticketGashaList/list/ticketGasha"],l._scrollBarBase=u["body/ui/ticketGashaList/scroll/ticketGashaScrollBase"];var c=u["body/gashaList"],f=u["body/ui/ui/regulationsButton"],p=u["body/ui/ui/provideRateButton"];return c.on("changed",l._selectGashaGroup,l),f.on("tap",function(){return h.default.platform.showSpecifiedCommercialTransactions()}),p.on("tap",function(){return l._showDetailPop()}),l._selectGashaGroup(0),l._isStateBusy=!1,l}return o(t,e),l(t,[{key:"_addBgEffect",value:function(e){if(this._bg.destroyChildren(),"1022"===e)he.default.new().addTo(this._bg);else{var t=new X.default(ye,"gasha_top_particle_standard");this._bg.addChild(t.container),t.setPosition(d.default.SCREEN_CENTER.x,d.default.SCREEN_CENTER.y),t.play()}}},{key:"_updateCurrencyData",value:function(e){this._gashaCurrencyType=e,this._userCurrency=this._getCurrency()}},{key:"_getCurrency",value:function(){var e=void 0;switch(this._gashaCurrencyType){case"jewel":e=this._jewels;break;case"bana_coin":e=this._moneyPower&&"-"!==this._moneyPower.enzaPoint?this._moneyPower.banaCoin+this._moneyPower.enzaPoint:0;break;case"gasha_ticket":var t=this._gashaGroup.gashas[this._currentGashaTicketIndex];e=this._getTicketCount(t.currencyId)}return e}},{key:"_getTicketCount",value:function(e){var t=this._tickets.find(function(t){return t.gashaTicket.id===e});return t?t.num:0}},{key:"_selectGashaGroup",value:function(e){this._gashaGroup=this._gashaGroups[e];var t="gasha_ticket"===this._gashaGroup.name;this._currencyType=this._gashaGroup.initialCurrencyType,this._bg.texture=aoba.Texture.fromImage(this._gashaGroup.getBgImagePath()),this._updateCurrencyData(Z.default[this._currencyType]),t?this._showTicketGasha():(this._showUiBase(),this._updateExpireDateTime(),this._showEventBanner()),this._addBgEffect(this._gashaGroup.id)}},{key:"_updateExpireDateTime",value:function(){this._expireDateTime.text=v.default.t("gasha.closeAt",{closeAt:(0,le.default)(1e3*this._gashaGroup.closeAt,"yyyy/mm/dd HH:MM")}),this._expireDateTime.visible=this._gashaGroup.isExpire}},{key:"_showEventBanner",value:function(){(this._bannerLayer.removeChildren(),this._uiLayer.show(),this._bannerLayer.show(),this._gashaTicketList.hide(),this._gashaGroup.gashaDetailBanners.length)&&C.default.new(this._gashaGroup).addTo(this._bannerLayer).on("tapInfoButton",this._goToIdolDetail,this)}},{key:"_showUiBase",value:function(){this._uiBaseLayer.destroyChildren();var e={gashas:this._gashaGroup.gashas,currencyType:this._currencyType,currency:this._userCurrency,jewel:this._jewels,moneyPower:this._moneyPower},t=_e[this._gashaCurrencyType],n=t.new(e).addTo(this._uiBaseLayer);n.on("goToShop",this._goToShop,this),n.on("showCheckPop",this._showCheckPop,this),n.on("redrawGasha",this._redrawGasha,this),n.on("changeGashaCurrencyType",this._updateCurrencyData,this),"bana_coin"===this._gashaCurrencyType&&n.init()}},{key:"_showTicketGasha",value:function(){var e=this,t=this._gashaGroup.gashas;this._uiLayer.hide(),this._bannerLayer.hide(),this._gashaTicketList.show(),this._createGashaTicketScroll();var n=0;t.forEach(function(t,r){if(0!==t.userGashaTicket.num){var i=j.default.new(t).addTo(e._gashaTicket,e._gashaTicket.x,120*n);i.on("showLimitPop",e._showLimitPop,e),i.on("tapGashaButton",function(){e._currentGashaTicketIndex=r,e._showCheckPop(t)},e),i.on("showDetailPop",e._showDetailPop,e),n++}}),
n>0&&this._emptyNotice.hide()}},{key:"_createGashaTicketScroll",value:function(){W.default.new({width:me.width,height:me.height,container:this._gashaTicketBase,scrollBar:V.default.new({width:16}),scrollBarBase:this._scrollBarBase}).addTo(this._gashaTicketList,me.x,me.y)}},{key:"_showLimitPop",value:function(e,t){this._poplayer=U.default.new(e,t).addTo(this)}},{key:"_showCheckPop",value:function(e){var t=this;this._gasha=e,this._userCurrency=this._getCurrency();var n="bana_coin"===this._gashaCurrencyType?ee.default:F.default,r={price:e.price,moneyPower:this._moneyPower,description:v.default.t("gasha.popBanaCoinDesc",e),gasha:e,currency:this._userCurrency,currencyType:this._gashaCurrencyType,jewel:this._jewels,gashaTicketName:e.userGashaTicket?e.userGashaTicket.gashaTicket.name:null};this._poplayer=n.new(r).addTo(this),this._poplayer.on("tapUseButton",function(e){t.emit("tapDrawGashaButton",{gasha:t._gasha,gashaCurrencyType:t._gashaCurrencyType,usePoint:e})}),this._poplayer.on("tapCancelButton",this._removeCheckPop,this)}},{key:"_removeCheckPop",value:function(){this._currentGashaTicketIndex=0,this._poplayer.destroy({children:!0})}},{key:"_redrawGasha",value:function(e){e&&(this._gasha=e),this.emit("redrawGasha",{gashaId:e.id})}},{key:"_showDetailPop",value:function(e){var t=this._gashaGroup.getProbabilityType();e||(e=this._gashaGroup.gashaRates),this._poplayer=G.default.new(e,t).addTo(this)}},{key:"_goToShop",value:function(e){var t=e.goToBanacoinShop,n=void 0===t||t;k.default.loadSceneAsync("shop",{additive:!0,asset:!0,showLoading:!0,sceneParams:{showBanaCoinTab:n}})}},{key:"_goToIdolDetail",value:function(e){var t=this;if(!this._isStateBusy){this._isStateBusy=!0;var n=this._gashaGroup.gashaDetailBanners,r=n[e].link;if("shop"===r)return void this._goToShop({goToBanacoinShop:!1});var i=c.default.words(r,"/"),a=s(i,2),o=a[0],l=a[1],u=g.default.snakeToCamel(o),f=J.default.find(function(e){return e.name===u});switch(f.name){case"idol":f.serverAction.get(l).then(function(e){var n=ie.default.createDefaultMockUserIdol(e);aoba.utils.setPrototypeOf(n,ce.default),(0,oe.default)([n.getImagePath("fes_card")]);var r={userIdol:n};t._showIdolDetail(f.detailSceneName,r)});break;case"supportIdol":Promise.all([f.serverAction.get(l),(0,ne.default)("/config/support_idol_exps.json").then(function(e){return e.body})]).then(function(e){var n=s(e,2),r=n[0],i=n[1],a=ie.default.createDefaultMockUserSupportIdol(r,i);aoba.utils.setPrototypeOf(a,de.default);var o={userSupportIdol:a,supportIdolExps:i};t._showIdolDetail(f.detailSceneName,o)})}}}},{key:"_showIdolDetail",value:function(e,t){var n=this;t.isEvolutionAndTrainingVisible=!1,t.isDefaultStatus=!0,k.default.loadSceneAsync(e,{request:!1,additive:!0,sceneParams:t}).then(function(){n._isStateBusy=!1})}}],[{key:"resources",get:function(){return he.default.resources}}]),t}(aoba.Container);t.default=be},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"bg",fullName:"body/bg",type:"container",x:0,y:0},{children:[{children:[{name:"banaCoinBase",fullName:"body/ui/ui/base",type:"container",x:0,y:0},{name:"provideRateButton",fullName:"body/ui/ui/provideRateButton",anchor:{x:.5,y:.5},type:"sprite",key:"provide_rate_button.png",x:382,y:317},{name:"regulationsButton",fullName:"body/ui/ui/regulationsButton",anchor:{x:.5,y:.5},type:"sprite",key:"regulations_button.png",x:161,y:317}],name:"ui",fullName:"body/ui/ui",type:"container",x:445,y:229},{children:[{name:"imageBanner",fullName:"body/ui/banner/imageBanner",type:"container",x:485,y:33},{name:"carouselBanner",fullName:"body/ui/banner/carouselBanner",type:"container",x:0,y:0}],name:"banner",fullName:"body/ui/banner",type:"container",x:15,y:-14},{children:[{children:[{name:"ticketGashaListBase",fullName:"body/ui/ticketGashaList/base/ticketGashaListBase",type:"sprite",key:"ticket_gasha_list_base.png",x:0,y:0},{name:"title",fullName:"body/ui/ticketGashaList/base/title",type:"text",text:"\u6240\u6301\u30c1\u30b1\u30c3\u30c8\u4e00\u89a7",style:{fill:5063497,fontFamily:"HummingStd-E",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:48,y:42},{name:"diamondL",fullName:"body/ui/ticketGashaList/base/diamondL",type:"sprite",key:"diamond_l.png",x:18,y:31},{name:"emptyNotice",fullName:"body/ui/ticketGashaList/base/emptyNotice",type:"text",text:"\u30a2\u30a4\u30c6\u30e0\u304c\u3042\u308a\u307e\u305b\u3093\u3002",style:{fill:6378598,fontFamily:"HummingStd-E",fontSize:24},anchor:{x:.5,y:.5},rotation:0,x:456,y:282}],name:"base",fullName:"body/ui/ticketGashaList/base",type:"container",x:0,y:0},{children:[{name:"ticketGashaScrollBase",fullName:"body/ui/ticketGashaList/scroll/ticketGashaScrollBase",type:"sprite",key:"ticket_gasha_scroll_base.png",x:5,y:17}],name:"scroll",fullName:"body/ui/ticketGashaList/scroll",type:"container",x:886,y:79},{children:[{name:"ticketGasha",fullName:"body/ui/ticketGashaList/list/ticketGasha",type:"container",x:0,y:0}],name:"list",fullName:"body/ui/ticketGashaList/list",type:"container",x:20,y:79}],name:"ticketGashaList",fullName:"body/ui/ticketGashaList",visible:!1,type:"container",x:0,y:17},{name:"expireDatetime",fullName:"body/ui/expireDatetime",anchor:{x:.5,y:.5},type:"text",text:"\u958b\u50ac\u671f\u9650 02/20 14:50\u307e\u3067",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:218,y:546}],name:"ui",fullName:"body/ui",type:"container",x:209,y:63},{name:"gashaList",fullName:"body/gashaList",type:"container",x:0,y:0}],name:"body",fullName:"body",type:"container",x:0,y:0},{name:"header",fullName:"header",type:"container",x:0,y:7},{name:"pop",fullName:"pop",type:"container",x:0,y:0},{name:"backButton",fullName:"backButton",type:"container",x:51,y:589}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1229),u=r(l),c=n(1230),f=r(c),d=n(22),p=r(d),h=190,y=116,m=4,_=function(t){function n(t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=r.fromData(u.default);r._selectTapBase=o["gashaLabels/gashaLabelSelectBase"],r._selectTapBaseY=r._selectTapBase.y;var s=o["gashaLabels/gashaLabelNode"],l=[];if(t.forEach(function(e,t){var n=f.default.new(t,e.getTitleImagePath()).addTo(s,0,y*t);l.push(n)}),l.forEach(function(e){e.on("tap",r._switchActivity,r)}),l[0].select(),r._labels=l,r._gashaLabels=o.gashaLabels,r._arrow=o.gashaListArrow,r._needsScroll=t.length>m,r._needsScroll){var c=r.getChildIndex(r._gashaLabels);r._scrollRect=p.default.new({width:h,height:aoba.game.height,container:r._gashaLabels}).addToAt(r,c),aoba.FrameTween.new(r._arrow).by({y:12},15,"easeInOutSine").by({y:-12},15,"easeInOutSine").loop()}r._arrow.visible=r._needsScroll;var d=o["gashaLabels/gashaLabelBaseNode"],_=Math.max(t.length,m)+1;return e(_).times(function(e){aoba.Sprite.new("gasha_label_base.png").addTo(d,0,y*e)}),r}return o(n,t),s(n,[{key:"_switchActivity",value:function(e){var t=this._labels.find(function(e){return e.selected}),n=e.target;t.actionType!==n.actionType&&(t.cancel(),n.select(),this._moveSelectTapBase(n.actionType),
this.emit("changed",n.actionType))}},{key:"_moveSelectTapBase",value:function(e){aoba.FrameTween.new(this._selectTapBase).to({y:this._selectTapBaseY+y*e},10,"easeOutQuart")}},{key:"ezgUpdate",value:function(){this._updateArrow()}},{key:"_updateArrow",value:function(){this._needsScroll&&(this._arrow.visible=this._gashaLabels.y!==this._scrollRect.containerBottomY)}}]),n}(aoba.Container);t.default=_}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"gashaLabelBaseNode",fullName:"gashaLabels/gashaLabelBaseNode",type:"container",x:0,y:86},{name:"gashaLabelSelectBase",fullName:"gashaLabels/gashaLabelSelectBase",type:"sprite",key:"gasha_label_select_base.png",x:0,y:86},{children:[{name:"gashaLabel",fullName:"gashaLabels/gashaLabelNode/gashaLabel",type:"container",x:0,y:0}],name:"gashaLabelNode",fullName:"gashaLabels/gashaLabelNode",type:"container",x:6,y:109},{name:"gashaListTopBase",fullName:"gashaLabels/gashaListTopBase",type:"sprite",key:"gasha_list_top_base.png",x:0,y:0}],name:"gashaLabels",fullName:"gashaLabels",type:"container",x:0,y:0},{name:"gashaListMaskTop",fullName:"gashaListMaskTop",type:"sprite",key:"gasha_list_mask_top.png",x:0,y:0},{name:"gashaListMaskBottom",fullName:"gashaListMaskBottom",type:"sprite",key:"gasha_list_mask_bottom.png",x:0,y:531},{name:"gashaListArrow",fullName:"gashaListArrow",anchor:{x:.5,y:.5},type:"sprite",key:"gasha_list_arrow.png",x:151,y:560}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1231),u=r(l),c=n(7),f=r(c),d=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._selected=!1,r._actionType=e,r.fromData(u.default,{label:{key:n}}),aoba.Graphics.new().beginFill(0,0).drawRect(0,0,185,115).addTo(r,-10,-15),r.interactive=!0,r.on("tap",function(){return aoba.soundManager.playSE(f.default.ui.select)}),r}return o(t,e),s(t,[{key:"select",value:function(){this._selected=!0}},{key:"cancel",value:function(){this._selected=!1}},{key:"actionType",get:function(){return this._actionType}},{key:"selected",get:function(){return this._selected}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"label",fullName:"label",anchor:{x:.5,y:.5},type:"sprite",key:"gasha_ticket.png",x:82,y:38}],name:"",fullName:"",type:"container",x:6,y:109}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1233),f=r(c),d=n(237),p=r(d),h=n(238),y=r(h),m=385,_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default,{leftArrow:{class:u.default.SelectButton},rightArrow:{class:u.default.SelectButton},"innerBannerLayer/contentList":{class:y.default}}),o=r.innerBannerLayer;return n._gashaGroup=e,n._gashaDetailBanners=e.gashaDetailBanners,n._maxIndex=n._gashaDetailBanners.length-1,n._contentList=r["innerBannerLayer/contentList"],n._arrowPrev=r.leftArrow,n._arrowNext=r.rightArrow,n._indicatorLayer=r.indicator,n._listAddIndex=1,o.mask=aoba.Graphics.new().beginFill(0).drawRect(0,0,m,220).addTo(o,0,0,{alpha:.5}),n._contentList.setPosition(0,0),n._contentList.maxDistance=m*n._maxIndex,n._gashaDetailBanners.forEach(function(e,t){var r=n._gashaGroup.getBannerImagePath(e.image),i=aoba.Sprite.new(r).addTo(n._contentList,t*m);i.hitArea=new aoba.Rectangle(9,37,366,120),i.interactive=!0,i.on("tap",function(){return n.emit("tapInfoButton",t)})}),n.interactive=!0,n._contentList.on("endSwipe",n._moveWithSwipe,n),n._arrowPrev.on("tap",n._backward,n),n._arrowNext.on("tap",n._forward,n),n.on("touchstart",n._onTouchStart,n),n.on("touchmove",n._onTouchMove,n),n.on("touchend",n._onTouchEnd,n),n.on("touchendoutside",n._onTouchEnd,n),n.on("added",n._enableArrowTweens,n),n._init(),n}return o(t,e),s(t,[{key:"_init",value:function(){this._index=0,this._createIndicator(),this._setArrowsVisible(),this._moveContentList(!1),this._updateIndicator()}},{key:"_enableArrowTweens",value:function(){aoba.FrameTween.new(this._arrowPrev).by({x:-12},15,"easeInOutSine").by({x:12},15,"easeInOutSine").loop(),aoba.FrameTween.new(this._arrowNext).by({x:12},15,"easeInOutSine").by({x:-12},15,"easeInOutSine").loop()}},{key:"_moveWithSwipe",value:function(e){if(0!==e){var t=Math.ceil(Math.abs(e)/m);this._listAddIndex=Math.min(t,this._maxIndex),e>0?this._backward():this._forward(),this._listAddIndex=1}}},{key:"_forward",value:function(){this._isMaxIndex||(this._index+=this._listAddIndex,this._setArrowsVisible(),this._moveContentList(),this._updateIndicator())}},{key:"_backward",value:function(){this._isMinIndex||(this._index-=this._listAddIndex,this._setArrowsVisible(),this._moveContentList(),this._updateIndicator())}},{key:"_updateIndicator",value:function(){this._indicator.moveTo(this._index)}},{key:"_moveContentList",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._tween&&this._tween.remove();var n=-this._index*m;t?this._tween=aoba.FrameTween.new(this._contentList).to({x:n},12,"easeOutExpo").call(function(){e._tween=null}):this._contentList.x=n}},{key:"_setArrowsVisible",value:function(){this._arrowPrev.visible=0!==this._index,this._arrowNext.visible=this._index!==this._maxIndex}},{key:"_createIndicator",value:function(){this._indicator=p.default.new(this._gashaDetailBanners.length),this._indicator.addTo(this,this._indicatorLayer.x-12*this._maxIndex,this._indicatorLayer.y)}},{key:"_onTouchEnd",value:function(e){this._contentList.emit("touchend",e)}},{key:"_isMaxIndex",get:function(){return this._index===this._maxIndex}},{key:"_isMinIndex",get:function(){return 0===this._index}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bannerBase",fullName:"bannerBase",type:"sprite",key:"banner_base.png",x:468,y:28},{children:[{name:"contentList",fullName:"innerBannerLayer/contentList",type:"container",x:0,y:0}],name:"innerBannerLayer",fullName:"innerBannerLayer",type:"container",x:480,y:0},{name:"leftArrow",fullName:"leftArrow",anchor:{x:.5,y:.5},
type:"sprite",key:"left_arrow.png",x:460,y:98},{name:"rightArrow",fullName:"rightArrow",anchor:{x:.5,y:.5},type:"sprite",key:"right_arrow.png",x:882,y:98},{name:"indicator",fullName:"indicator",type:"container",x:642,y:160}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(471),f=r(c),d=n(1236),p=r(d),h=n(1239),y=r(h),m=n(67),_=r(m),g={fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20,stroke:4602954,strokeThickness:5},b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!(e.moneyPower||n._gashaCurrencyType&&"bana_coin"!==n._gashaCurrencyType))return a(n);n._banaCoin=e.moneyPower?e.moneyPower.banaCoin:"-",n._enzaPoint=e.moneyPower?e.moneyPower.enzaPoint:"-",n._jewel=e.jewel;var r=n._createTabList(),o=n.fromData(y.default,{tab:r,"gashaTab/buyButton":{class:u.default.DecideButton,interactive:"-"!==n._banaCoin},"gashaTab/myInfo/regular/price":{style:g},"gashaTab/myInfo/enza/price":{style:g}});if(n._gashas=e.gashas,n._tabList=r,n._gashaTab=o.gashaTab,n._gashaButtonLayer=o.gashaButton,n._regularPrice=o["gashaTab/myInfo/regular/price"],n._regularIcon=o["gashaTab/myInfo/regular/myInfoIcon"],n._regularText=o["gashaTab/myInfo/regular/text"],n._enzaInfo=o["gashaTab/myInfo/enza"],n._enzaPrice=o["gashaTab/myInfo/enza/price"],n._buyButton=o["gashaTab/buyButton"],!n._buyButton.interactive){var s=new aoba.filters.ColorMatrixFilter;s.brightness(.6,!0),n._buyButton.filters=[s]}return n._gashaTabY=n._gashaTab.y,n._regularPriceX=n._regularPrice.x,n._buyButton.on("tap",function(){_.default.jumpTo.chargeBanacoin(location.toString())}),n}return o(t,e),s(t,[{key:"init",value:function(){this._tabList.init()}},{key:"_createTabList",value:function(){var e=this;return p.default.create({onSelectTab:function(t){e._gashaCurrencyType=t.name,e.emit("changeGashaCurrencyType",e._gashaCurrencyType),e._showButtons(e._gashaCurrencyType),e._adjustBaseView()}})}},{key:"_adjustBaseView",value:function(){this._regularPrice.text="bana_coin"===this._gashaCurrencyType?this._banaCoin:this._jewel,this._regularIcon.texture=aoba.Texture.fromImage(this._gashaCurrencyType+"_icon.png"),this._regularText.texture=aoba.Texture.fromImage("text_"+this._gashaCurrencyType+".png"),this._regularIcon.show(),"bana_coin"===this._gashaCurrencyType?(this._regularPrice.x=this._regularPriceX,this._gashaTab.y=this._gashaTabY,this._enzaPrice.text=this._enzaPoint,this._buyButton.show(),this._enzaInfo.show()):(this._regularPrice.x+=89,this._gashaTab.y+=15,this._buyButton.hide(),this._enzaInfo.hide())}},{key:"_showButtons",value:function(){var e=this;this._gashaButtonLayer.children.forEach(function(e){e.removeAllListeners()}),aoba.Tween.new(this._gashaButtonLayer).to({x:300,alpha:0},200,"easeInOutBack").call(function(){e._gashaButtonLayer.removeChildren();var t=e._gashas.filter(function(t){return t.currencyType===e._gashaCurrencyType}),n=8+70*(3-t.length);t.forEach(function(t,r){var i=f.default.new(t,e._gashaCurrencyType).addTo(e._gashaButtonLayer,n+150*r,0);if(e._needGrayFilter(t)){var a=new aoba.filters.ColorMatrixFilter;a.brightness(.6,!0),i.filters=[a],i.disable()}i.on("tapGashaButton",e._showCheckPop,e)})}).to({x:0,alpha:1},200,"easeInOutBack")}},{key:"_needGrayFilter",value:function(e){return!!e.canDraw&&("bana_coin"===this._gashaCurrencyType?"-"===this._banaCoin:this._jewel<e.price)}},{key:"_showCheckPop",value:function(e){this.emit("showCheckPop",e)}}]),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"gashaButton",fullName:"gashaButton",anchor:{x:.5,y:.5},type:"sprite",key:"gasha_button.png",x:86,y:88},{name:"limitedText",fullName:"limitedText",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"limited_text.png",x:84,y:57},{children:[{name:"numBase",fullName:"money/numBase",anchor:{x:.5,y:.5},type:"sprite",key:"num_base.png",x:64,y:15},{name:"gashaIcon",fullName:"money/gashaIcon",type:"container",x:0,y:0},{name:"amount",fullName:"money/amount",anchor:{x:.5,y:.5},type:"text",text:"2500",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:64,y:16}],name:"money",fullName:"money",type:"container",x:25,y:95},{name:"description",fullName:"description",anchor:{x:.5,y:.5},type:"sprite",x:84,y:76},{name:"ssrFixTicketBalloon",fullName:"ssrFixTicketBalloon",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"ssr_fix_ticket_balloon.png",x:86,y:38},{name:"srTicketBalloon",fullName:"srTicketBalloon",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"sr_ticket_balloon.png",x:78,y:30},{name:"drawFinished",fullName:"drawFinished",visible:!1,type:"sprite",key:"done.png",x:7,y:14}],name:"",fullName:"",type:"container",x:965,y:402}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1237),s=r(o),l=n(261),u=r(l),c=n(1238),f=r(c),d=function(){function e(){i(this,e)}return a(e,null,[{key:"create",value:function(e){var t=s.default.new();return f.default.forEach(function(n){var r=u.default.new(n.buttonNames.off,{image:n.buttonNames.off,imageOn:n.buttonNames.on,onSelect:function(){e.onSelectTab(n)}});t.addTab(r)}),t}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"addTab",value:function(e){e.on("tap",this._selectTab.bind(this)),e.addTo(this,200*this.children.length,0)}},{key:"init",value:function(){var e=this.children[0];this._selectTab({target:e})}},{key:"disableAll",value:function(){this.children.forEach(function(e){e.interactive=!1})}},{key:"enableAll",value:function(){this.children.forEach(function(e){e.interactive=!0})}},{key:"_selectTab",value:function(e){var t=this.children.find(function(e){
return e.selected});t&&t.cancel(),e.target.select()}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"jewel",buttonNames:{on:"jewel_on.png",off:"jewel_off.png"}},{name:"bana_coin",buttonNames:{on:"bana_coin_on.png",off:"bana_coin_off.png"}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{children:[{children:[{name:"price",fullName:"gashaTab/myInfo/regular/price",anchor:{x:1,y:1},type:"text",text:"200000",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:330,y:36},{name:"myInfoIcon",fullName:"gashaTab/myInfo/regular/myInfoIcon",anchor:{x:.5,y:.5},type:"sprite",key:"bana_coin_icon.png",x:21,y:22},{name:"text",fullName:"gashaTab/myInfo/regular/text",type:"sprite",key:"text_bana_coin.png",x:40,y:10}],name:"regular",fullName:"gashaTab/myInfo/regular",type:"container",x:0,y:0},{children:[{name:"price",fullName:"gashaTab/myInfo/enza/price",anchor:{x:1,y:1},type:"text",text:"0",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:329,y:32},{name:"icon",fullName:"gashaTab/myInfo/enza/icon",type:"sprite",key:"enza_icon.png",x:3,y:0},{name:"text",fullName:"gashaTab/myInfo/enza/text",type:"sprite",key:"text_enza.png",x:39,y:6},{name:"baseLine",fullName:"gashaTab/baseLine2",type:"sprite",key:"base_line.png",x:17,y:36}],name:"enza",fullName:"gashaTab/myInfo/enza",type:"container",x:1,y:46}],name:"myInfo",fullName:"gashaTab/myInfo",type:"container",x:0,y:0},{name:"baseLine",fullName:"gashaTab/baseLine1",type:"sprite",key:"base_line.png",x:17,y:41},{name:"buyButton",fullName:"gashaTab/buyButton",anchor:{x:.5,y:.5},type:"sprite",key:"buy_button.png",x:378,y:19}],name:"gashaTab",fullName:"gashaTab",type:"container",x:25,y:37},{name:"gashaButton",fullName:"gashaButton",type:"container",x:0,y:112},{name:"tab",fullName:"tab",type:"container",x:40,y:-40}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1241),c=r(u),f=n(3),d=r(f),p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(c.default,{gashaButton:{class:l.default.DecideButton},"notice/txtNotice":{text:d.default.t("gasha.redrawGashaNotice")}});return r["notice/txtNotice"].style.align="center",r["notice/txtNotice"].style.stroke=16777215,r["notice/txtNotice"].style.strokeThickness=3,r.gashaButton.on("tap",function(){n.emit("redrawGasha",e.gashas[0])}),n}return o(t,e),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"redrawText",fullName:"gashaButton/redrawText",anchor:{x:.5,y:.5},type:"sprite",key:"free_ten_times_draw.png",x:-1,y:-11},{name:"firstLimitedIcon",fullName:"gashaButton/firstLimitedIcon",anchor:{x:.5,y:.5},type:"sprite",key:"first_limited_icon.png",x:2,y:-81}],name:"gashaButton",fullName:"gashaButton",anchor:{x:.5,y:.5},type:"sprite",key:"limited_button.png",x:377,y:89},{children:[{name:"txtNotice",fullName:"notice/txtNotice",type:"text",text:"\u3000\u78ba\u5b9a\u3059\u308b\u307e\u3067\u4f55\u5ea6\u3067\u3082\r\u5f15\u304d\u76f4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:0,y:58},{name:"iconNoticeRed",fullName:"notice/iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:106,y:0}],name:"notice",fullName:"notice",type:"container",x:29,y:46}],name:"",fullName:"",type:"container",x:15,y:120}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(471),f=r(c),d=n(1243),p=r(d),h={fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20,stroke:4602954,strokeThickness:5},y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._gashas=e.gashas,n._userCurrency=e.currency;var r=n.fromData(p.default,{"gashaTab/shopButton":{class:u.default.DecideButton},"gashaTab/myInfo/price":{text:n._userCurrency,style:h},"gashaTab/myInfo/myInfoIcon":{key:n._gashas[0].userGashaTicket.gashaTicket.getIconImage()},"gashaTab/saleIcon":{visible:!1}});n._gashaButtonLayer=r.gashaButton;var o=r["gashaTab/shopButton"];if("-"===e.moneyPower.banaCoin){var s=new aoba.filters.ColorMatrixFilter;s.brightness(.6,!0),o.filters=[s],o.interactive=!1}return o.on("tap",function(){return n.emit("goToShop",{})}),n._showButtons(),n}return o(t,e),s(t,[{key:"_showButtons",value:function(){var e=this,t=this._gashaButtonLayer.x;aoba.Tween.new(this._gashaButtonLayer).to({x:t+300,alpha:0},200,"easeInOutBack").call(function(){e._gashaButtonLayer.removeChildren();var t=8+70*(3-e._gashas.length);e._gashas.forEach(function(n,r){var i=f.default.new(n).addTo(e._gashaButtonLayer,t+150*r,0);if(n.canDraw&&e._userCurrency<n.price){var a=new aoba.filters.ColorMatrixFilter;a.brightness(.6,!0),i.filters=[a],i.disable()}i.on("tapGashaButton",e._showCheckPop,e)})}).to({x:t,alpha:1},200,"easeInOutBack")}},{key:"_showCheckPop",value:function(e){this.emit("showCheckPop",e)}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{children:[{name:"price",fullName:"gashaTab/myInfo/price",type:"text",text:"200000",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:1,y:.5},rotation:0,x:330,y:25},{name:"myInfoIcon",fullName:"gashaTab/myInfo/myInfoIcon",anchor:{x:.5,y:.5},type:"sprite",x:31,y:24},{name:"text",fullName:"gashaTab/myInfo/text",type:"sprite",key:"text_gasha_ticket.png",x:55,y:10}],name:"myInfo",fullName:"gashaTab/myInfo",type:"container",x:0,y:12},{name:"shopButton",fullName:"gashaTab/shopButton",anchor:{x:.5,y:.5},type:"sprite",key:"shop_button.png",x:378,y:31},{name:"saleIcon",fullName:"gashaTab/saleIcon",type:"sprite",key:"sale_icon.png",x:407,y:0}],name:"gashaTab",fullName:"gashaTab",type:"container",x:25,y:0},{children:[{name:"10Button",fullName:"gashaButton/10Button",type:"container",x:311,y:0}],name:"gashaButton",fullName:"gashaButton",type:"container",x:0,y:62}],name:"",fullName:"",type:"container",x:0,y:48}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"checkInner",fullName:"checkLayer/list/checkInner",type:"sprite",key:"check_inner.png",x:0,y:82},{children:[{
name:"dottedLine",fullName:"checkLayer/list/inner/dottedLine",type:"sprite",key:"dotted_line.png",x:149,y:22},{name:"base",fullName:"checkLayer/list/inner/base",type:"sprite",key:"base_ticket.png",x:0,y:0},{name:"before",fullName:"checkLayer/list/inner/before",anchor:{x:1,y:1},type:"text",text:"\uff17",style:{fill:5063497,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:254,y:23},{name:"after",fullName:"checkLayer/list/inner/after",type:"text",text:"\uff16",style:{fill:3506147,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:308,y:9},{name:"staminaArrow",fullName:"checkLayer/list/inner/staminaArrow",type:"sprite",key:"use_item_confirm_arrow_up.png",x:271,y:1}],name:"inner",fullName:"checkLayer/list/inner",type:"container",x:23,y:114},{name:"description",fullName:"checkLayer/list/description",anchor:{x:.5,y:.5},type:"text",text:"SR\u4ee5\u4e0a\u78ba\u5b9a\u30c1\u30b1\u30c3\u30c8\u3092\u6d88\u8cbb\u3057\u3066\r\u30ac\u30b7\u30e3\u30921\u56de\u5f15\u304d\u307e\u3059\u3002\r\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20,wordWrap:!0,wordWrapWidth:290,breakWords:!1},rotation:0,x:222,y:32}],name:"list",fullName:"checkLayer/list",type:"container",x:-225,y:0}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1246),c=r(u),f=n(3),d=r(f),p=n(56),h=r(p),y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=d.default.t("gasha.noExpire"),o=e.userGashaTicket,s=e.gashaRates,u=e.userGashaTicket.gashaTicket,f=e.userGashaTicket.num;e.isExpire&&(r=d.default.t("gasha.closeAt",{closeAt:(0,h.default)(1e3*u.closeAt,"yyyy/mm/dd HH:MM")}));var p=n.fromData(c.default,{infoButton:l.default.DecideButton.new("info_circle_button.png"),btnConsume:{class:l.default.DecideButton},provideRateButton:{class:l.default.DecideButton},quantity:{text:d.default.t("gasha.ticketGashaCount",{count:f})},iconBorder:{key:u.getTicketBorderIconImage(),scale:.65},title:{text:u.name},datetime:{text:r}}),y=p.infoButton,m=p.btnConsume,_=p.provideRateButton;if(aoba.Graphics.new().beginFill(0,0).drawRect(-48,-48,96,96).addTo(y),!f){var g=new aoba.filters.ColorMatrixFilter;g.brightness(.6,!0),m.filters=[g],m.interactive=!1}return y.on("tap",function(){n.emit("showLimitPop",o,r)}),m.on("tap",function(){n.emit("tapGashaButton",e)}),_.on("tap",function(){n.emit("showDetailPop",s)}),n}return o(t,e),t}(aoba.Sprite);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"ticketGashaBase",fullName:"ticketGashaBase",type:"sprite",key:"ticket_gasha_base.png",x:0,y:0},{name:"iconBorder",fullName:"iconBorder",type:"sprite",x:7,y:6},{name:"quantityBase",fullName:"quantityBase",type:"sprite",key:"quantity_base.png",x:26,y:82},{name:"quantity",fullName:"quantity",anchor:{x:1,y:1},type:"text",text:"\xd78888",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},rotation:0,x:100,y:103},{name:"title",fullName:"title",type:"text",text:"SR\u4ee5\u4e0a\u78ba\u5b9a\u30c1\u30b1\u30c3\u30c8",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:120,y:41},{name:"baseDeadline",fullName:"baseDeadline",type:"sprite",key:"base_deadline.png",x:116,y:77},{name:"datetime",fullName:"datetime",type:"text",text:"2018\u5e7412\u670831\u65e5\u307e\u3067",style:{fill:16199013,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:197,y:91},{name:"infoButton",fullName:"infoButton",anchor:{x:.5,y:.5},type:"sprite",key:"info_button.png",x:97,y:19},{name:"provideRateButton",fullName:"provideRateButton",anchor:{x:.5,y:.5},type:"sprite",key:"provide_rate_button.png",x:582,y:41},{name:"btnConsume",fullName:"btnConsume",anchor:{x:.5,y:.5},type:"sprite",key:"consume_button.png",x:755,y:56}],name:"",fullName:"",type:"container",x:229,y:159}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1248),c=r(u),f=n(14),d=r(f),p=n(3),h=r(p),y=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=aoba.Container.new(),s=e.gashaTicket;return o.fromData(c.default,{title:{text:s.name},description:{text:s.comment},itemIcon:{key:s.getTicketBorderIconImage()},datetime:{text:h.default.t("gasha.expireAt",{datetimeText:n})},dottedLine:l.default.dotLine.create({width:512,type:l.default.dotLine.types.DOT_BLACK})}).description.style.align="center",d.default.new({size:"simple",container:o,buttons:[{type:"close",image:"close_button.png"}]}).addTo(r).open(),r}return o(t,e),t}(aoba.Sprite);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"title",fullName:"title",anchor:{x:.5,y:.5},type:"text",text:"SR\u4ee5\u4e0a\u78ba\u5b9a\u30c1\u30b1\u30c3\u30c8",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},rotation:0,x:1,y:0},{name:"dottedLine",fullName:"dottedLine",type:"container",x:-255,y:26},{name:"itemIcon",fullName:"itemIcon",type:"sprite",x:-73,y:51},{name:"description",fullName:"description",anchor:{x:.5,y:.5},type:"text",text:"SR\u4ee5\u4e0a\u306e\u30a2\u30a4\u30c9\u30eb\u3092\u7372\u5f97\u3067\u304d\u307e\u3059",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20,wordWrap:!0,wordWrapWidth:274,breakWords:!1},rotation:0,x:0,y:223},{name:"datetime",fullName:"datetime",anchor:{x:.5,y:.5},type:"text",text:"\u4f7f\u7528\u671f\u9650\uff1a2018\u5e7412\u670831\u65e5\u307e\u3067",style:{fill:16199013,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:1,y:248}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}
}(),l=n(13),u=r(l),c=n(1),f=r(c),d=n(7),p=r(d),h=n(3),y=r(h),m=n(1250),_=r(m),g=n(24),b=r(g),v=n(22),w=r(v),k=n(14),S=r(k),I=n(1251),E=r(I),A={x:202,y:88,width:640,height:424},x={align:"center",list01lineHeight:24,header:{fill:"white",fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},column:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14}},C={idol:"idol",supportIdol:"support_idol"},T=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._rates=e,r._probabilityType=n,r._tabTypes=[],r._tabTypes.push(E.default[n]),r._hasDrawTenGasha()&&r._tabTypes.push(E.default.sr_up);var o=aoba.Container.new();r._objs=o.fromData(_.default);var s=r._objs["infoLayer/inner/list01/description"];r._list02Description=r._objs["infoLayer/inner/list02/description"],r._probabilityDescription=r._objs["infoLayer/inner/description"],r._updateScrollRect(),r._updateDescAlignment(s,x.list01lineHeight);var l=[];return Object.keys(r._tabTypes).forEach(function(e,t){var n=r._tabTypes[e].name;l[t]=aoba.Button.new(n+"_button_on.png").addTo(r._objs["infoLayer/tap"],74,35+85*t,{anchor:.5}),l[t].on("tap",function(t){var n=t.muteSound,i=void 0!==n&&n,a=r._tabTypes[e].times;i||aoba.soundManager.playSE(p.default.ui.select),r._updateProbabilityDescription(a),r._updateIdolRates(a),r._updateScrollRect(),r._updateSubtitleText(r._tabTypes[e].name),Object.keys(r._tabTypes).forEach(function(t,n){var i=r._tabTypes[t].name,a=e===t?i+"_button_on.png":i+"_button_off.png";l[n].texture=aoba.Texture.fromImage(a)})})}),S.default.new({size:"l",title:y.default.t("gasha.detailPopHeader"),height:400,container:o,buttons:[{type:"close",image:"close_button.png"}]}).addTo(r).open(),l[0].emit("tap",{muteSound:!0}),r}return o(t,e),s(t,[{key:"_updateSubtitleText",value:function(e){e=u.default.camelize(e),this._objs["infoLayer/inner/subtitles/main"].text=y.default.t("gasha."+e+"Subtitle"),this._objs["infoLayer/inner/subtitles/idols"].text=y.default.t("gasha."+e+"SubtitleIdol")}},{key:"_hasDrawTenGasha",value:function(){return this._rates.some(function(e){return 10===e.times})}},{key:"_updateProbabilityDescription",value:function(e){this._probabilityDescription.text=y.default.t("gasha.probabilityDescription.one"),0===e&&this._hasDrawTenGasha()&&(this._probabilityDescription.text=y.default.t("gasha.probabilityDescription.ten"))}},{key:"_updateScrollRect",value:function(){this._scrollRect&&this._scrollRect.destroy(),this._scrollBar&&this._scrollBar.destroy();var e=this._objs["infoLayer/inner"],t=this._objs["infoLayer/scroll/gashaInfoScrollBase"];this._scrollBar=b.default.new({width:16}),this._scrollRect=w.default.new({width:A.width,height:A.height,container:e,scrollBar:this._scrollBar,scrollBarBase:t}).addTo(this._objs.infoLayer,A.x,A.y)}},{key:"_updateIdolRates",value:function(e){var t=this,n=this._rates.filter(function(t){return t.times===e});Object.keys(C).forEach(function(e){var r=n.find(function(t){return t.rarity===f.default.app.RARITIES.SSR&&t.contentType===C[e]}).rate.toFixed(3),i=n.find(function(t){return t.rarity===f.default.app.RARITIES.SR&&t.contentType===C[e]}).rate.toFixed(3),a=n.find(function(t){return t.rarity===f.default.app.RARITIES.R&&t.contentType===C[e]}).rate.toFixed(3);t._objs["infoLayer/inner/list01/description/"+e+"Rate"].text=y.default.t("gasha."+e+"Rate",{ssrRate:r,srRate:i,rRate:a})}),this._getRateInfo(n),this._probabilityDescription.y=this._columnY+210}},{key:"_getRateInfo",value:function(e){var t=this;this._list02Description.removeChildren(),this._columnY=0,e.forEach(function(e){if(0!==e.rate){var n=t._getRarityText(e.rarity),r="idol"===e.contentType?y.default.t("gasha.produce"):y.default.t("gasha.support");t._insertHeaderData(y.default.t("gasha.rateDescription",{rarity:n,idolType:r,count:e.contents.length})),e.contents.forEach(function(e){0!==e.rate&&t._insertColumnData(e.contentName,y.default.t("gasha.detailPercentage",{rate:e.rate.toFixed(3)}))})}})}},{key:"_getRarityText",value:function(e){switch(e){case f.default.app.RARITIES.SSR:return y.default.t("gasha.ssrText");case f.default.app.RARITIES.SR:return y.default.t("gasha.srText");case f.default.app.RARITIES.R:return y.default.t("gasha.rText");default:throw new Error("Unexpected rarity")}}},{key:"_insertHeaderData",value:function(e){this._columnY+=25;var t=aoba.Sprite.new("listbox_02_header.png").addTo(this._list02Description,0,this._columnY);aoba.Text.new(e,x.header).addTo(t,180,5,{anchor:aoba.p(.5,0)})}},{key:"_insertColumnData",value:function(e,t){this._columnY+=25;var n=aoba.Sprite.new("listbox_02_column.png").addTo(this._list02Description,0,this._columnY);aoba.Text.new(e,x.column).addTo(n,180,5,{anchor:aoba.p(.5,0)}),aoba.Text.new(t,x.column).addTo(n,465,5,{anchor:aoba.p(.5,0)})}},{key:"_updateDescAlignment",value:function(e,t){e.children.forEach(function(e){e.style.align=x.align,e.style.lineHeight=t})}}]),t}(aoba.Container);t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{children:[{name:"gashaInfoInner",fullName:"infoLayer/base/gashaInfoInner",type:"sprite",key:"gasha_info_inner.png",x:191,y:76}],name:"base",fullName:"infoLayer/base",type:"container",x:0,y:1},{children:[{name:"description",fullName:"infoLayer/inner/description",type:"text",text:"\u30fb10\u9023\u30ac\u30b7\u30e3\u306e\u3046\u30611\u56de\u306fSR\u4ee5\u4e0a\u306e\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u307e\u305f\u306f\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u304c\u51fa\u73fe\u3057\u307e\u3059\u3002\r\u63d0\u4f9b\u5272\u5408\u306f\u300cSR\u4ee5\u4e0a\u78ba\u5b9a\u300d\u4e00\u89a7\u306b\u6e96\u3058\u307e\u3059\u3002\r\u30fb\u305d\u308c\u305e\u308c\u306e\u63d0\u4f9b\u5272\u5408\u306f\u5c11\u6570\u7b2c4\u4f4d\u3092\u56db\u6368\u4e94\u5165\u3057\u3066\u8868\u793a\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u5408\u8a08\u5024\u304c100%\u306b\r\u306a\u3089\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u672c\u30ac\u30b7\u30e3\u304b\u3089\u306f\u91cd\u8907\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u304c\u51fa\u73fe\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u958b\u50ac\u671f\u9593\u306f\u4e88\u544a\u306a\u304f\u5909\u66f4\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\r\u30fb\u30a4\u30d9\u30f3\u30c8\u30ac\u30b7\u30e3\u3067\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u306f\u958b\u50ac\u671f\u9593\u7d42\u4e86\u5f8c\u3001\u30d7\u30e9\u30c1\u30ca\u30ac\u30b7\u30e3\u304b\u3089\r\u767b\u5834\u3057\u307e\u3059\u3002\r\u30fb\u672c\u30ac\u30b7\u30e3\u306b\u767b\u5834\u3059\u308b\u30a2\u30a4\u30c9\u30eb\u304c\u4fdd\u6709\u3059\u308b\u30b9\u30ad\u30eb\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3001\u30a4\u30e9\u30b9\u30c8\u306a\u3069\u306e\r\u30b3\u30f3\u30c6\u30f3\u30c4\u306f\u5909\u66f4\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:0},rotation:0,x:0,y:79},{children:[{name:"listbox01",fullName:"infoLayer/inner/list01/listbox01",type:"sprite",key:"listbox_01.png",x:0,y:0},{name:"titleProduceIdol",fullName:"infoLayer/inner/list01/titleProduceIdol",type:"text",text:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30a2\u30a4\u30c9\u30eb",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:67,y:18},{name:"titleSupportIdol",fullName:"infoLayer/inner/list01/titleSupportIdol",type:"text",text:"\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:372,y:18},{children:[{name:"idol",fullName:"infoLayer/inner/list01/description/idol",type:"text",text:"SSR\rSR\rR",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14,wordWrap:!0,wordWrapWidth:27,breakWords:!1},rotation:0,x:0,y:0},{name:"idolRate",fullName:"infoLayer/inner/list01/description/idolRate",type:"text",text:"3%\r20%\r100%",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14,wordWrap:!0,wordWrapWidth:40,
breakWords:!1},rotation:0,x:135,y:0},{name:"supportIdol",fullName:"infoLayer/inner/list01/description/supportIdol",type:"text",text:"SSR\rSR\rR",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14,wordWrap:!0,wordWrapWidth:27,breakWords:!1},rotation:0,x:287,y:0},{name:"supportIdolRate",fullName:"infoLayer/inner/list01/description/supportIdolRate",type:"text",text:"3%\r20%\r100%",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14,wordWrap:!0,wordWrapWidth:40,breakWords:!1},rotation:0,x:421,y:0}],name:"description",fullName:"infoLayer/inner/list01/description",type:"container",x:20,y:36}],name:"list01",fullName:"infoLayer/inner/list01",type:"container",x:2,y:33},{children:[{name:"description",fullName:"infoLayer/inner/list02/description",type:"container",x:0,y:0}],name:"list02",fullName:"infoLayer/inner/list02",type:"container",x:2,y:163},{children:[{name:"main",fullName:"infoLayer/inner/subtitles/main",type:"text",text:"\u30d7\u30e9\u30c1\u30ca\u30ac\u30b7\u30e3\u63d0\u4f9b\u5272\u5408",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:19,y:9},{name:"diamondS",fullName:"infoLayer/inner/subtitles/diamondS",type:"sprite",key:"diamond_s.png",x:2,y:3},{name:"dottedLineL",fullName:"infoLayer/inner/subtitles/dottedLineL",type:"sprite",key:"dotted_line_l.png",x:0,y:24},{name:"idols",fullName:"infoLayer/inner/subtitles/idols",type:"text",text:"\u30d7\u30e9\u30c1\u30ca\u30ac\u30b7\u30e3\u306e\u63d0\u4f9b\u30a2\u30a4\u30c9\u30eb\u4e00\u89a7",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:19,y:162},{name:"diamondS",fullName:"infoLayer/inner/subtitles/diamondS",type:"sprite",key:"diamond_s.png",x:2,y:156},{name:"dottedLineL",fullName:"infoLayer/inner/subtitles/dottedLineL",type:"sprite",key:"dotted_line_l.png",x:0,y:177}],name:"subtitles",fullName:"infoLayer/inner/subtitles",type:"container",x:0,y:2}],name:"inner",fullName:"infoLayer/inner",type:"container",x:0,y:88},{name:"tap",fullName:"infoLayer/tap",type:"container",x:24,y:85},{children:[{name:"gashaInfoScrollBase",fullName:"infoLayer/scroll/gashaInfoScrollBase",type:"sprite",key:"gasha_info_scroll_base.png",x:5,y:17}],name:"scroll",fullName:"infoLayer/scroll",type:"container",x:853,y:76}],name:"infoLayer",fullName:"infoLayer",type:"container",x:-452,y:-103}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={normal:0,ten:10};t.default={platinum:{name:"normal_gasha",times:r.normal},ssr_fix_ticket:{name:"ssr_fix",times:r.normal},gasha_ticket:{name:"gasha_ticket",times:r.normal},sr_up:{name:"sr_up",times:r.ten}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={none:"free",bana_coin:"bana_coin",jewel:"jewel",gasha_ticket:"gasha_ticket",draw_10_ticket:"gasha_ticket",sr_ticket:"gasha_ticket",ssr_fix_ticket:"gasha_ticket"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"useBanaCoinInnerBase",fullName:"inner/useBanaCoinInnerBase",type:"sprite",key:"use_bana_coin_inner_base.png",x:0,y:0},{name:"useBanaCoinInnerDottedLine",fullName:"inner/useBanaCoinInnerDottedLine",type:"sprite",key:"use_bana_coin_inner_dotted_line.png",x:170,y:40},{name:"useBanaCoinInnerDottedLine",fullName:"inner/useBanaCoinInnerDottedLine",type:"sprite",key:"use_bana_coin_inner_dotted_line.png",x:170,y:72},{name:"baseEnza",fullName:"inner/baseEnza",type:"sprite",key:"base_enza.png",x:22,y:50},{name:"baseBanaCoin",fullName:"inner/baseBanaCoin",type:"sprite",key:"base_bana_coin.png",x:22,y:18},{name:"banaCoinBefore",fullName:"inner/banaCoinBefore",anchor:{x:.5,y:.5},type:"text",text:"2500",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:230,y:29},{name:"banaCoinAfter",fullName:"inner/banaCoinAfter",anchor:{x:.5,y:.5},type:"text",text:"1500",style:{fill:39915,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:375,y:29},{name:"useBanaCoinArrowUp",fullName:"inner/useBanaCoinArrowUp",type:"sprite",key:"use_bana_coin_arrow_up.png",x:294,y:19},{name:"enzaBefore",fullName:"inner/enzaBefore",anchor:{x:.5,y:.5},type:"text",text:"2500",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:230,y:61},{name:"enzaAfter",fullName:"inner/enzaAfter",anchor:{x:.5,y:.5},type:"text",text:"1500",style:{fill:39915,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:375,y:61},{name:"useBanaCoinArrowUp",fullName:"inner/useBanaCoinArrowUp",type:"sprite",key:"use_bana_coin_arrow_up.png",x:294,y:51}],name:"inner",fullName:"inner",type:"container",x:-223,y:62},{children:[{name:"txtNotice",fullName:"notice/txtNotice",anchor:{x:.5,y:.5},type:"text",text:"\u30d0\u30ca\u30b3\u30a4\u30f3\u304c\u4e0d\u8db3\u3057\u3066\u3044\u307e\u3059",style:{fill:16199013,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:146,y:13},{name:"iconNoticeRed",fullName:"notice/iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:0,y:0}],name:"notice",fullName:"notice",visible:!1,type:"container",x:-133,y:193},{name:"checkDescription",fullName:"checkDescription",anchor:{x:.5,y:.5},type:"text",text:"\u30dd\u30a4\u30f3\u30c8\u3092\u5229\u7528\u3059\u308b",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:141,y:158},{name:"checkIconBase",fullName:"checkIconBase",type:"sprite",key:"check_icon_base.png",x:42,y:144},{name:"checkIcon",fullName:"checkIcon",type:"sprite",key:"check_icon.png",x:44,y:143},{name:"description",fullName:"description",anchor:{x:.5,y:.5},type:"text",text:"\u30d0\u30ca\u30b3\u30a4\u30f3\u3067\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u3092100\u500b\u8cfc\u5165\u3057\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20,wordWrap:!0,wordWrapWidth:450,breakWords:!0},rotation:0,x:-5,y:10},{name:"merchandise",fullName:"merchandise",anchor:{x:.5,y:.5},type:"text",text:"\r\u30ea\u30ab\u30d0\u30ea\u30fc\u30bd\u30fc\u30c0MAX\u300013\u500b\u30d1\u30c3\u30af",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-1,y:36}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:569,y:211}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"policyButton",fullName:"policyButton",anchor:{x:.5,y:.5},type:"sprite",key:"policy_button.png",x:267,y:19}],name:"",fullName:"",type:"container",x:409,y:125}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={createDefaultMockUserIdol:function(e){return{evolutionStage:0,userProduceEventHistories:[],idol:e}},createDefaultMockUserSupportIdol:function(e,t){var n={evolutionStage:0,level:1,limitLevel:e.levelLimits.find(function(e){return 0===e.evolutionStage}).limitLevel,nextLevelExp:t.find(function(e){return 2===e.level}).total_exp,userProduceEventHistories:[],supportSkills:e.supportSkills.filter(function(e){return e.level<=1}),supportIdol:e};return["Vocal","Dance","Visual","Mental"].forEach(function(t){n[t.toLowerCase()+"Bonus"]=e["default"+t+"Bonus"]}),n}};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){
return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(282),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u="images/content/gasha/effect/1022/gears_body_styled.png",c="particles/my_page/MyPage_twinkle_side/particle.png",f="particles/my_page/MyPage_twinkle_side/data.json",d="particles/my_page/MyPage_twinkle_orb/data.json",p=["ssr_flare_blue_1.png","ssr_flare_green_1.png","ssr_flare_orange_1.png","ssr_flare_pink_1.png"],h=[{x:1079,y:80,scale:1.98,rotationSpeed:10},{x:916,y:18,scale:1.54,rotationSpeed:-10},{x:70,y:562,scale:3,rotationSpeed:10}],y=[{images:p,data:d,x:-190},{images:p,data:d,x:1030},{images:[c],data:f,x:-190},{images:[c],data:f,x:1030}],m=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return h.forEach(function(t){var n=t.x,r=t.y,i=t.scale,a=t.rotationSpeed;aoba.Sprite.new(u).addTo(e,n,r,{anchor:.5,scale:i,blendMode:aoba.BLEND_MODES.ADD}).ezgUpdate=function(e){this.rotation+=aoba.DEG_TO_RAD*a*(e/1e3)}}),y.forEach(function(t){var n=t.images,r=t.data,i=t.x;(0,l.default)({images:n,data:r},e,i,0)}),e}return a(t,e),o(t,null,[{key:"resources",get:function(){return[u,f,c,"particles/my_page/MyPage_twinkle_orb/images.json",d]}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"gashaLoadingWarningBase",fullName:"gashaLoadingWarningBase",type:"sprite",key:"gasha_loading_warning_base.png",x:0,y:0},{name:"icon",fullName:"icon",type:"sprite",key:null,x:263,y:61},{name:"content",fullName:"content",type:"text",text:"\u8aad\u307f\u8fbc\u307f\u306b\u6642\u9593\u304c\u639b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u3001\r\u30ea\u30ed\u30fc\u30c9\u306f\u304a\u63a7\u3048\u304f\u3060\u3055\u3044\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:40,y:153}],name:"",fullName:"",type:"container",x:284,y:197}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=[{name:"gacha_stand_appear_sr",url:"particles/gasha/gacha_stand_appear_sr/data.json"},{name:"gacha_stand_sr",url:"particles/gasha/gacha_stand_sr/data.json"},{name:"gacha_twinkle_sr",url:"particles/gasha/gacha_twinkle_sr/data.json"},{name:"char_back_twinkle_ssr",url:"particles/gasha/char_back_twinkle_ssr/data.json"},{name:"gacha_sign_twinkle_ssr",url:"particles/gasha/gacha_sign_twinkle_ssr/data.json"},{name:"gacha_stand_appear_ssr",url:"particles/gasha/gacha_stand_appear_ssr/data.json"},{name:"gacha_stand_ssr",url:"particles/gasha/gacha_stand_ssr/data.json"},{name:"gacha_twinkle_ssr",url:"particles/gasha/gacha_twinkle_ssr/data.json"},{name:"gasha_support_r_back_twinkle",url:"particles/gasha/gasha_support_r_back_twinkle/data.json"},{name:"gasha_support_sr_ssr_back_twinkle",url:"particles/gasha/gasha_support_sr_ssr_back_twinkle/data.json"},{name:"gasha_support_ssr_radial_line",url:"particles/gasha/gasha_support_ssr_radial_line/data.json"},{name:"gasha_twinkle_name",url:"particles/gasha/gasha_twinkle_name/data.json"},{name:"gasha_twinkle_side_sr",url:"particles/gasha/gasha_twinkle_side_sr/data.json"},{name:"radial_twinkle_r",url:"particles/gasha/radial_twinkle_r/data.json"},"particles/gasha/images_animation.json","sounds/bgm/"+i.default.bgm.gashaDraw+".m4a",{name:"se0090",url:"sounds/se/gasha/0090.m4a"},{name:"se0084",url:"sounds/se/gasha/0084.m4a"},{name:"se0085",url:"sounds/se/gasha/0085.m4a"},{name:"se0091",url:"sounds/se/gasha/0091.m4a"},{name:"se0087",url:"sounds/se/gasha/0087.m4a"},{name:"se0078",url:"sounds/se/gasha/0078.m4a"},{name:"se0079",url:"sounds/se/gasha/0079.m4a"},{name:"se0092",url:"sounds/se/gasha/0092.m4a"},{name:"se0086",url:"sounds/se/gasha/0086.m4a"},{name:"se0082",url:"sounds/se/gasha/0082.m4a"},{name:"se0083",url:"sounds/se/gasha/0083.m4a"},{name:"se0081",url:"sounds/se/gasha/0081.m4a"},{name:"se0080",url:"sounds/se/gasha/0080.m4a"},{name:"se0178",url:"sounds/se/gasha/0178.m4a"},{name:"se0179",url:"sounds/se/gasha/0179.m4a"},{name:"se0180",url:"sounds/se/gasha/0180.m4a"},{name:"se0177",url:"sounds/se/gasha/0177.m4a"},{name:"se0176",url:"sounds/se/gasha/0176.m4a"},{name:"se0072",url:"sounds/se/gasha/0072.m4a"},{name:"se0071",url:"sounds/se/gasha/0071.m4a"},{name:"se0075",url:"sounds/se/gasha/0075.m4a"},{name:"se0088",url:"sounds/se/gasha/0088.m4a"},{name:"se0077",url:"sounds/se/gasha/0077.m4a"},{name:"se0076",url:"sounds/se/gasha/0076.m4a"},{name:"se0089",url:"sounds/se/gasha/0089.m4a"}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1260),s=r(o),l=n(1261),u=r(l),c=n(1262),f=r(c),d=n(1263),p=r(d),h=n(1),y=r(h),m=function(){function e(){i(this,e)}return a(e,null,[{key:"create",value:function(e,t){if("idol"===e.contentType)switch(e.rarity){default:case y.default.app.RARITIES.R:return new s.default(e,t);case y.default.app.RARITIES.SR:return new u.default(e,t);case y.default.app.RARITIES.SSR:return new f.default(e,t)}return new p.default(e,t)}}]),e}();t.default=m},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(186),c=r(u),f=n(57),d=r(f),p=n(23),h=r(p),y=n(58),m=r(y),_=n(0),g=r(_),b=n(19),v=r(b),w={FRONT_AE:0,BACK_AE:1},k=Object.keys(w).length,S={spot_light_result_r:PIXI.BLEND_MODES.ADD,spot_light_anime_r_sr_ssr:PIXI.BLEND_MODES.ADD,flare_parts_5_anime_all:PIXI.BLEND_MODES.ADD,char_white_out_center_r:PIXI.BLEND_MODES.ADD,rotation_flash_anime_r:PIXI.BLEND_MODES.ADD,title_appear_eff:PIXI.BLEND_MODES.ADD,title_flash2:PIXI.BLEND_MODES.SCREEN,"frame_r.png":PIXI.BLEND_MODES.ADD,white_plane_5:PIXI.BLEND_MODES.ADD,back_flash:PIXI.BLEND_MODES.ADD,radial_back_anime_sr_all:PIXI.BLEND_MODES.SCREEN,twinkle_r:PIXI.BLEND_MODES.ADD,new_anime_ADD:PIXI.BLEND_MODES.ADD,icon_Pidol_body_ADD:PIXI.BLEND_MODES.ADD,"loof_light_1_1.png":PIXI.BLEND_MODES.SCREEN,rod_light_over_all_anime_r:PIXI.BLEND_MODES.ADD,light_flares_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_3_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_2_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_1_anime_loop:PIXI.BLEND_MODES.ADD,"monitor_back_screen_lightx2.png":PIXI.BLEND_MODES.SCREEN,wing_right_r:PIXI.BLEND_MODES.SCREEN,wing_left_r:PIXI.BLEND_MODES.SCREEN,various_spot_light_anime_loop:PIXI.BLEND_MODES.SCREEN,gate_flash_anime:PIXI.BLEND_MODES.SCREEN,char_back_light_common:PIXI.BLEND_MODES.ADD,"light_ground_common_2_1.png":PIXI.BLEND_MODES.SCREEN,
stairs_light_left_anime_1:PIXI.BLEND_MODES.ADD,stairs_light_left_1:PIXI.BLEND_MODES.SCREEN,light_stairs_right_anime_1:PIXI.BLEND_MODES.ADD,stairs_light_right_1:PIXI.BLEND_MODES.SCREEN,AdjumentLayers_SCREEN:PIXI.BLEND_MODES.SCREEN,light_ground_anime_loop:PIXI.BLEND_MODES.ADD,light_ground:PIXI.BLEND_MODES.SCREEN,back_front_light:PIXI.BLEND_MODES.SCREEN,ladder_light_ADD:PIXI.BLEND_MODES.ADD,"cartain_top_MULTIPLY_r_1.png":PIXI.BLEND_MODES.MULTIPLY,rainbow_wall_loop:PIXI.BLEND_MODES.ADD,"loof_screen_new.png":PIXI.BLEND_MODES.SCREEN},I="produce_r_appear_front",E=["char_3.png"],A={radial_twinkle_r:["gacha_twinkle_r.png"],gasha_twinkle_name:["glow_1_common.png"]},x={};x.produce_r_start=[],x.produce_r_start_short=[],x[I]=[{id:"radial_twinkle_r",delay:0,props:{x:660,y:455},parent:"Radial_Twinkle_R_pixi_replace.mov"},{id:"gasha_twinkle_name",delay:0,props:{x:299,y:130},parent:"Gasha_Twinkle_Name.mov"}];var C={};C.produce_r_start=[{id:"se0071",delay:0},{id:"se0072",delay:61},{id:"se0176",delay:63},{id:"se0076",delay:134}],C.produce_r_start_short=[{id:"se0077",delay:0},{id:"se0076",delay:6}],C[I]=[{id:"se0078",delay:20},{id:"se0079",delay:64}];var T=function(e,t,n,r){var i=aoba.Container.new(),a=g.default.Spine.new(e.getSpinePath(t));return a.tint=0,a.setSkin(n),a.setAnimation(0,r),a.update(0),a.scale=aoba.p(231/a.height),a.addTo(i,81,231,{anchor:aoba.p(.5,1)}),i.spine=a,i},P=function(e){var t=aoba.Container.new();return aoba.Sprite.new(e.getImagePath("name")).addTo(t),t},O=function(t){function n(e,t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));r._layers=new Array(k);for(var o=k-1;o>=0;--o)r._layers[o]=aoba.Container.new().addTo(r._effectLayer);return r}return o(n,t),s(n,[{key:"ezgPreDestroy",value:function(){this._layers=null,this._destroyIdolSpine(),this._destroyIdolParticle(),this._destroyIdolBGEffect(),l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"_createIdolEffect",value:function(e,t){var n=this;return this._createIdolAE(e,t).then(function(){n._createIdolSpine(e),n._createIdolParticle(),n._createIdolBGEffect()})}},{key:"_createIdolAE",value:function(t,n){var r=this;this._startAEName=n?"produce_r_start_short":"produce_r_start";var i={};e.each(S,function(e,t){i[t]={blendMode:e}}),i.char_r_1_replace={image:T(t,"cb_gasha","normal","jump")},t.isNew||(i["new_icon_common.png"]={image:aoba.Sprite.new()}),E.forEach(function(e){i[e]||(i[e]={}),i[e].isDisused=!0});var a=new PIXI.AEDataInterceptor(i);return[{aeName:this._startAEName,depth:w.BACK_AE},{aeName:I,depth:w.FRONT_AE},{aeName:"produce_r_appear_back",depth:w.BACK_AE}].reduce(function(e,t){return e.then(function(){return(0,v.default)({folderPath:"gasha",interceptor:a,fileName:t.aeName+".json"}).then(function(e){e.alpha=0,r._layers[t.depth].addChild(e),r._aeTable[t.aeName]=e})})},Promise.resolve()).then(function(){P(t).addTo(r._findAELayer("name_r_replace"))})}},{key:"_createIdolSpine",value:function(e){this._standSpine=d.default.new(e.getSpinePath("stand_gasha")).addTo(this._findAELayer("tachie_r_replace"),449,768).setScale(1.4),this._standSpine.setAnimation(0,"smile2"),this._standSpine.update(0),this._appearCB=T(e,"cb_gasha","normal","jump").addTo(this._findAELayer("char_r_black_replace"),40.5,130.6-124.5),this._jumpCB=T(e,"cb_gasha","normal","jump").addTo(this._findAELayer("char_r_jump_spine_replace"),81,149.5),this._poseCB=T(e,"cb_gasha","reverse","photo_ok").addTo(this._findAELayer("char_r_pose_spine_replace"),81,0)}},{key:"_destroyIdolSpine",value:function(){this._standSpine.remove(),this._standSpine=null,this._appearCB.remove(),this._appearCB=null,this._jumpCB.remove(),this._jumpCB=null,this._poseCB.remove(),this._poseCB=null}},{key:"_createIdolParticle",value:function(){var t=this;this._particlesOfAE={},e.each(x,function(e,n){var r=[];e.forEach(function(e){var i=m.default.new(new h.default(A[e.id],e.id));if(void 0!==e.depth)i.addTo(t._layers[e.depth]);else if(void 0!==e.parent){var a=t._findAELayer(e.parent,n);a&&i.addTo(a)}i.conf=e,r.push(i)}),t._particlesOfAE[n]=r})}},{key:"_destroyIdolParticle",value:function(){e.each(this._particlesOfAE,function(e){e.forEach(function(e){e.destroy({children:!0})})}),this._particlesOfAE=null}},{key:"_createIdolBGEffect",value:function(){var e=new aoba.filters.BlurFilter;e.blur=0,this._layers[w.BACK_AE].filters=[e],this._bgEffect=e}},{key:"_destroyIdolBGEffect",value:function(){this._bgEffect=null}},{key:"_playIdolEffect",value:function(){var e=this;this._playStartEffect().then(function(){return e._playAppearEffect()}).then(function(){return e.emit("completed")})}},{key:"_playStartEffect",value:function(){var e=this;return new Promise(function(t){e._setSkipListener(t),e._aeTable[e._startAEName].alpha=1,e._aeTable[e._startAEName].on("completed",t),e._aeTable[e._startAEName].play(),e._playIdolParticle(e._startAEName),e._playIdolSE(e._startAEName)}).then(function(){e._aeTable[e._startAEName].alpha=0,e._aeTable[e._startAEName].pause(),e._cancelEffectTweens()})}},{key:"_playAppearEffect",value:function(){var t=this;return new Promise(function(n){t._createEffectTween(t).wait(3).call(function(){return t._setSkipListener(n)}),[I,"produce_r_appear_back"].forEach(function(e){t._aeTable[e].alpha=1,t._aeTable[e].play(),t._playIdolParticle(e),t._playIdolSE(e)}),t._createEffectTween(t._jumpCB).wait(26).call(function(){t._jumpCB.spine.play("jump")}),t._createEffectTween(t._poseCB).wait(53).call(function(){t._poseCB.spine.tint=16777215,t._poseCB.spine.play("photo_ok")}),t._createEffectTween(t).wait(150).call(n);var r=t._createEffectTween(t).wait(33);e(25).times(function(e){r.wait(1).call(function(){t._bgEffect.blur=8*(e+1)/25})})}).then(function(){[I,"produce_r_appear_back"].forEach(function(e){t._seekAE(t._aeTable[e],450)}),t._jumpCB.visible=!1,t._poseCB.visible=!0,t._poseCB.spine.tint=16777215,t._poseCB.spine.play("photo_ok"),t._poseCB.spine.update(97e3/30),t._bgEffect.blur=8,t._cancelEffectTweens()})}},{key:"_playIdolParticle",value:function(e){this._playParticles(this._particlesOfAE[e])}},{key:"_playIdolSE",value:function(e){this._playSEs(C[e])}},{key:"ezgUpdate",value:function(e){this._jumpCB&&this._jumpCB.worldVisible&&this._jumpCB.spine.update(e),this._poseCB&&this._poseCB.worldVisible&&this._poseCB.spine.update(e)}}]),n}(c.default);t.default=O}).call(t,n(4))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(186),c=r(u),f=n(57),d=r(f),p=n(23),h=r(p),y=n(58),m=r(y),_=n(19),g=r(_),b={IDOL_FRONT_AE:0,IDOL_FRONT_PARTICLE:1,IDOL_SPINE:2,IDOL_BACK_PARTICLE:3,IDOL_BACK_AE:4,BG:5},v=Object.keys(b).length,w={white_plane_5:PIXI.BLEND_MODES.ADD,white_out_center_sr_support:PIXI.BLEND_MODES.ADD,spot_light_result_sr:PIXI.BLEND_MODES.ADD,spot_light_anime_r_sr_ssr:PIXI.BLEND_MODES.ADD,tornado_all:PIXI.BLEND_MODES.ADD,flare_parts_5_anime_all:PIXI.BLEND_MODES.ADD,
title_appear_eff:PIXI.BLEND_MODES.ADD,title_flash2:PIXI.BLEND_MODES.SCREEN,"frame_sr.png":PIXI.BLEND_MODES.ADD,white_plane_13:PIXI.BLEND_MODES.ADD,back_flash:PIXI.BLEND_MODES.ADD,explode_particle_root:PIXI.BLEND_MODES.ADD,flash_anime:PIXI.BLEND_MODES.ADD,radial_back_anime_sr_all:PIXI.BLEND_MODES.SCREEN,twinkle_sr:PIXI.BLEND_MODES.ADD,new_anime_ADD:PIXI.BLEND_MODES.ADD,name_appear_star_sr_all:PIXI.BLEND_MODES.SCREEN,name_sr_appear_line_effect:PIXI.BLEND_MODES.ADD,twinkle_sr_ssr_ugc_all_over:PIXI.BLEND_MODES.ADD,icon_Pidol_body_ADD:PIXI.BLEND_MODES.ADD,"loof_light_1_1.png":PIXI.BLEND_MODES.SCREEN,rod_light_over_all_anime_sr:PIXI.BLEND_MODES.ADD,light_flares_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_3_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_2_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_1_anime_loop:PIXI.BLEND_MODES.ADD,"monitor_back_screen_lightx2.png":PIXI.BLEND_MODES.SCREEN,various_spot_light_anime_loop:PIXI.BLEND_MODES.SCREEN,gate_flash_anime:PIXI.BLEND_MODES.SCREEN,char_back_light_common:PIXI.BLEND_MODES.ADD,"light_ground_common_2_1.png":PIXI.BLEND_MODES.SCREEN,stairs_light_left_anime_1:PIXI.BLEND_MODES.ADD,stairs_light_left_1:PIXI.BLEND_MODES.SCREEN,light_stairs_right_anime_1:PIXI.BLEND_MODES.ADD,stairs_light_right_1:PIXI.BLEND_MODES.SCREEN,"AdjumentLayers_SCREEN_x4.png":PIXI.BLEND_MODES.SCREEN,light_ground_anime_loop:PIXI.BLEND_MODES.ADD,light_ground:PIXI.BLEND_MODES.SCREEN,back_front_light:PIXI.BLEND_MODES.SCREEN,wing_right_mask_anime_sr_SCREEN:PIXI.BLEND_MODES.SCREEN,wing_right_body_sr_SCREEN:PIXI.BLEND_MODES.SCREEN,hane_sr_body_2_SCREEN_1:PIXI.BLEND_MODES.SCREEN,hane_sr_body_2_SCREEN_2:PIXI.BLEND_MODES.SCREEN,wing_left_mask_anime_sr_SCREEN:PIXI.BLEND_MODES.SCREEN,wing_left_body_sr_SCREEN:PIXI.BLEND_MODES.SCREEN,ladder_light_ADD:PIXI.BLEND_MODES.ADD,"cartain_top_sr_MULTIPLY_1.png":PIXI.BLEND_MODES.MULTIPLY,rainbow_wall_loop:PIXI.BLEND_MODES.ADD,"loof_screen_new.png":PIXI.BLEND_MODES.SCREEN},k="produce_sr_start",S="produce_sr_appear_front",I=["char_sr_3_replace","char_sr_2_replace"],E=["char_3.png"],A={gacha_stand_appear_sr:["sr_curtain_twinkle.png","title_appear_eff_1.png"],gacha_stand_sr:["sr_curtain_twinkle.png"],gasha_twinkle_name:["glow_1_common.png"],gacha_twinkle_sr:["sr_curtain_twinkle.png"],gasha_twinkle_side_sr:["glow_1_common.png"]},x={};x[k]=[{id:"gacha_twinkle_sr",delay:0,props:{x:491,y:386},parent:"Gasha_Twinkle_SR_pixi_replace.mov"}],x.produce_sr_start_short=[{id:"gacha_twinkle_sr",delay:0,props:{x:491,y:386},parent:"Gasha_Twinkle_SR_pixi_replace.mov"}],x[S]=[{id:"gasha_twinkle_name",delay:0,props:{x:299,y:130},parent:"Gasha_Twinkle_Name.mov"},{id:"gacha_stand_appear_sr",delay:238,props:{x:648,y:320},depth:b.IDOL_FRONT_PARTICLE},{id:"gacha_stand_sr",delay:238,props:{x:576,y:280},depth:b.IDOL_BACK_PARTICLE}],x.produce_sr_appear_back=[{id:"gacha_twinkle_sr",delay:0,props:{x:491,y:386},parent:"Gasha_Twinkle_SR_pixi_replace.mov"},{id:"gasha_twinkle_side_sr",delay:0,props:{x:244,y:459},parent:"Gasha_Twinkle_Side_SR.mov_1"},{id:"gasha_twinkle_side_sr",delay:0,props:{x:244,y:459},parent:"Gasha_Twinkle_Side_SR.mov_2"}];var C={};C[k]=[{id:"se0071",delay:0},{id:"se0072",delay:61},{id:"se0176",delay:65},{id:"se0076",delay:141}],C.produce_sr_start_short=[{id:"se0077",delay:0},{id:"se0076",delay:6}],C[S]=[{id:"se0080",delay:25},{id:"se0081",delay:36},{id:"se0083",delay:43},{id:"se0178",delay:236}];var T=function(e){var t=aoba.Container.new(),n=aoba.Sprite.new(e.getImagePath("gasha_silhouette_black"));return n.scale=aoba.p(231/n.height),n.addTo(t,81,231,{anchor:aoba.p(.5,1)}),t},P=function(e){var t=aoba.Container.new();return aoba.Sprite.new(e.getImagePath("name")).addTo(t),t},O=function(t){function n(e,t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));r._layers=new Array(v);for(var o=v-1;o>=0;--o)r._layers[o]=aoba.Container.new().addTo(r._effectLayer);return r}return o(n,t),s(n,[{key:"ezgPreDestroy",value:function(){this._layers=null,this._destroyIdolSpine(),this._destroyIdolParticle(),this._destroyIdolCard(),l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"_createIdolEffect",value:function(e,t){var n=this;return this._createIdolAE(e,t).then(function(){n._createIdolSpine(e),n._createIdolParticle(),n._createIdolCard(e)})}},{key:"_createIdolAE",value:function(t,n){var r=this;this._startAEName=n?"produce_sr_start_short":k;var i={};e.each(w,function(e,t){i[t]={blendMode:e}}),I.forEach(function(e){i[e]={image:T(t)}}),t.isNew||(i["new_icon_common.png"]={image:aoba.Sprite.new()}),E.forEach(function(e){i[e]||(i[e]={}),i[e].isDisused=!0});var a=new PIXI.AEDataInterceptor(i);return[{aeName:this._startAEName,depth:b.BG},{aeName:"produce_sr_appear_back",depth:b.IDOL_BACK_AE},{aeName:S,depth:b.IDOL_FRONT_AE}].reduce(function(e,t){return e.then(function(){return(0,g.default)({folderPath:"gasha",interceptor:a,fileName:t.aeName+".json"}).then(function(e){e.alpha=0,r._layers[t.depth].addChild(e),r._aeTable[t.aeName]=e})})},Promise.resolve()).then(function(){P(t).addTo(r._findAELayer("name_sr_replace"))})}},{key:"_createIdolSpine",value:function(e){this._standSpine=d.default.new(e.getSpinePath("stand_gasha")).addTo(this._layers[b.IDOL_SPINE],568,568,{alpha:0}),this._standSpine.setAnimation(0,"smile2"),this._standSpine.update(0)}},{key:"_destroyIdolSpine",value:function(){this._standSpine.remove(),this._standSpine=null}},{key:"_createIdolParticle",value:function(){var t=this;this._particlesOfAE={},e.each(x,function(e,n){var r=[];e.forEach(function(e){var i=m.default.new(new h.default(A[e.id],e.id));if(void 0!==e.depth)i.addTo(t._layers[e.depth]);else if(void 0!==e.parent){var a=t._findAELayer(e.parent,n);a&&i.addTo(a)}i.conf=e,r.push(i)}),t._particlesOfAE[n]=r})}},{key:"_destroyIdolParticle",value:function(){e.each(this._particlesOfAE,function(e){e.forEach(function(e){e.destroy({children:!0})})}),this._particlesOfAE=null}},{key:"_createIdolCard",value:function(e){var t=aoba.Sprite.new(e.getImagePath("card")),n=aoba.Sprite.new(e.getImagePath("card")).addTo(t),r=new aoba.filters.BlurFilter;r.blur=0,n.filters=[r],t.addTo(this._findAELayer("image_sr_replace")),this._card=t,this._cardBlurFilter=r}},{key:"_destroyIdolCard",value:function(){this._card=null,this._cardBlurFilter=null}},{key:"_playIdolEffect",value:function(){var e=this;this._playStartEffect().then(function(){return e._playAppearEffect()}).then(function(){return e.emit("completed")})}},{key:"_playStartEffect",value:function(){var e=this;return new Promise(function(t){e._setSkipListener(t),e._aeTable[e._startAEName].alpha=1,e._aeTable[e._startAEName].on("completed",t),e._aeTable[e._startAEName].play(),e._playIdolParticle(e._startAEName),e._playIdolSE(e._startAEName)}).then(function(){e._aeTable[e._startAEName].alpha=0,e._aeTable[e._startAEName].pause(),e._cancelEffectTweens()})}},{key:"_playAppearEffect",value:function(){var t=this;return new Promise(function(n){t._createEffectTween(t).wait(3).call(function(){return t._setSkipListener(n)}),t._createEffectTween(t).wait(425).call(n),[S,"produce_sr_appear_back"].forEach(function(e){t._aeTable[e].alpha=1,t._aeTable[e].play(),t._playIdolParticle(e),t._playIdolSE(e)}),t._createEffectTween(t._standSpine).wait(238).to({alpha:1},10).wait(67).call(function(){return t._standSpine.play("smile2")});var r=aoba.FrameTween.new(t).wait(225);e(10).times(function(e){r.wait(1).call(function(){t._cardBlurFilter.blur=8*(e+1)/10})})}).then(function(){[S,"produce_sr_appear_back"].forEach(function(e){t._seekAE(t._aeTable[e],725)}),t._cancelEffectTweens(),t._standSpine.alpha=1,t._standSpine.play("smile2"),t._standSpine.update(4e3),t._cardBlurFilter.blur=8})}},{key:"_playIdolParticle",value:function(e){this._playParticles(this._particlesOfAE[e])}},{key:"_playIdolSE",value:function(e){this._playSEs(C[e])}}]),n}(c.default);t.default=O}).call(t,n(4))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(186),c=r(u),f=n(0),d=r(f),p=n(57),h=r(p),y=n(23),m=r(y),_=n(58),g=r(_),b=n(19),v=r(b),w=n(1),k=r(w),S={MIDDLE_FRONT_AE:0,BOTTOM_AE:1,IDOL_SPINE_FRONT_PARTICLE:2,IDOL_SPINE:3,IDOL_SPINE_BACK_PARTICLE:4,IDOL_VIDEO:5,MIDDLE_MIDDLE_AE:6,IDOL_BG:7,MIDDLE_BACK_AE:8,TOP_AE:9},I=Object.keys(S).length,E={spot_light_result_ssr:PIXI.BLEND_MODES.ADD,spot_light_anime_r_sr_ssr:PIXI.BLEND_MODES.ADD,flare_parts_5_anime_all:PIXI.BLEND_MODES.ADD,title_appear_eff:PIXI.BLEND_MODES.ADD,title_flash2:PIXI.BLEND_MODES.SCREEN,back_flash:PIXI.BLEND_MODES.ADD,"frame_ssr.png":PIXI.BLEND_MODES.ADD,white_plane_13:PIXI.BLEND_MODES.ADD,ssr_char_text_anime:PIXI.BLEND_MODES.ADD,white_plane_5:PIXI.BLEND_MODES.ADD,radial_back_anime_sr_all:PIXI.BLEND_MODES.SCREEN,name_ssr_appear_line_effect:PIXI.BLEND_MODES.ADD,new_anime_ADD:PIXI.BLEND_MODES.ADD,sign_twinkle_ssr:PIXI.BLEND_MODES.ADD,twinkle_ssr:PIXI.BLEND_MODES.ADD,icon_Pidol_body_ADD:PIXI.BLEND_MODES.ADD,"loof_light_1_1.png":PIXI.BLEND_MODES.SCREEN,rod_light_over_all_anime_ssr:PIXI.BLEND_MODES.ADD,light_flares_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_3_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_2_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_1_anime_loop:PIXI.BLEND_MODES.ADD,"monitor_back_screen_lightx2.png":PIXI.BLEND_MODES.SCREEN,various_spot_light_anime_loop:PIXI.BLEND_MODES.SCREEN,gate_flash_anime:PIXI.BLEND_MODES.SCREEN,char_back_light_common:PIXI.BLEND_MODES.ADD,"light_ground_common_2_1.png":PIXI.BLEND_MODES.SCREEN,stairs_light_left_anime_1:PIXI.BLEND_MODES.ADD,stairs_light_left_1:PIXI.BLEND_MODES.SCREEN,light_stairs_right_anime_1:PIXI.BLEND_MODES.ADD,stairs_light_right_1:PIXI.BLEND_MODES.SCREEN,"AdjumentLayers_SCREEN_x4.png":PIXI.BLEND_MODES.SCREEN,light_ground_anime_loop:PIXI.BLEND_MODES.ADD,light_ground:PIXI.BLEND_MODES.SCREEN,back_front_light:PIXI.BLEND_MODES.SCREEN,wing_right_mask_anime_ssr_SCREEN:PIXI.BLEND_MODES.SCREEN,wing_right_body_ssr_SCREEN:PIXI.BLEND_MODES.SCREEN,spot_light_body_ssr_pt1_SCREEN:PIXI.BLEND_MODES.SCREEN,hane_ssr_body_2_SCREEN_1:PIXI.BLEND_MODES.SCREEN,hane_ssr_body_2_SCREEN_2:PIXI.BLEND_MODES.SCREEN,wing_left_mask_anime_ssr_SCREEN_1:PIXI.BLEND_MODES.SCREEN,wing_left_body_ssr_SCREEN_2:PIXI.BLEND_MODES.SCREEN,spot_light_body_ssr_pt1_SCREEN_1:PIXI.BLEND_MODES.SCREEN,"hane_ssr_body_2.png_SCREEN_2":PIXI.BLEND_MODES.SCREEN,hane_ssr_body_2_SCREEN_3:PIXI.BLEND_MODES.SCREEN,ladder_light_ADD:PIXI.BLEND_MODES.ADD,"cartain_top_ssr_MULTIPLY_1.png":PIXI.BLEND_MODES.MULTIPLY,rainbow_wall_loop:PIXI.BLEND_MODES.ADD,"loof_screen_new.png":PIXI.BLEND_MODES.SCREEN},A="produce_ssr_top",x="produce_ssr_top_short",C="produce_ssr_middle_front",T="produce_ssr_middle_back",P="produce_ssr_bottom",O=["sign_ssr.png","char_1.png"],N=[{layer:"sign_ssr_ADD.png",blendMode:PIXI.BLEND_MODES.ADD},{layer:"sign_ssr.png",blendMode:PIXI.BLEND_MODES.NORMAL}],M={char_back_twinkle_ssr:["ssr_curtain_twinkle_1.png","ssr_curtain_twinkle_2.png","ssr_curtain_twinkle_3.png","ssr_curtain_twinkle_4.png"],gacha_sign_twinkle_ssr:["ssr_curtain_twinkle_1.png","ssr_curtain_twinkle_2.png","ssr_curtain_twinkle_3.png","ssr_curtain_twinkle_4.png"],gacha_stand_appear_ssr:["spot_light_anime_rainbow_1_00011.png","spot_light_anime_rainbow_2_00025.png","spot_light_anime_rainbow_3_00011.png","ssr_curtain_twinkle_1.png","ssr_curtain_twinkle_2.png","ssr_curtain_twinkle_3.png","ssr_curtain_twinkle_4.png"],gacha_stand_ssr:["ssr_curtain_twinkle_1.png","ssr_curtain_twinkle_2.png","ssr_curtain_twinkle_3.png","ssr_curtain_twinkle_4.png"],gacha_twinkle_ssr:["ssr_curtain_twinkle_1.png","ssr_curtain_twinkle_2.png","ssr_curtain_twinkle_3.png","ssr_curtain_twinkle_4.png"],gasha_twinkle_name:["glow_1_common.png"]},R={};R[A]=[{id:"gacha_twinkle_ssr",delay:0,props:{x:451,y:325},parent:"Gasha_Twinkle_SSR_pixi_replace.mov"}],R[x]=[{id:"gacha_twinkle_ssr",delay:0,props:{x:451,y:325},parent:"Gasha_Twinkle_SSR_pixi_replace.mov"}],R[C]=[{id:"char_back_twinkle_ssr",delay:0,duration:90,props:{x:790,y:490},parent:"Char_Back_Twinkle_pixi_replace.mov"}],R[T]=[{id:"gacha_twinkle_ssr",delay:0,props:{x:451,y:325},parent:"Gasha_Twinkle_SSR_pixi_replace.mov"}],R[P]=[{id:"gasha_twinkle_name",delay:0,props:{x:299,y:130},parent:"Gasha_Twinkle_Name.mov"},{id:"gacha_sign_twinkle_ssr",delay:0,props:{x:576,y:360},parent:"Gasha_Sign_Twinkle_SSR.mov_move"},{id:"gacha_stand_appear_ssr",delay:110,props:{x:568,y:312},depth:S.IDOL_SPINE_FRONT_PARTICLE},{id:"gacha_stand_ssr",delay:121,props:{x:572,y:338},depth:S.IDOL_SPINE_BACK_PARTICLE}];var D={};D[A]=[{id:"se0071",delay:0},{id:"se0072",delay:61},{id:"se0176",delay:63},{id:"se0076",delay:141}],D[x]=[{id:"se0077",delay:0},{id:"se0076",delay:6}],D[C]=[{id:"se0087",delay:8},{id:"se0088",delay:104},{id:"se0089",delay:180},{id:"se0092",delay:243}],D[P]=[{id:"se0090",delay:0},{id:"se0091",delay:18},{id:"se0178",delay:110}];var F={};F[A]=[],F[x]=[],F[C]=[{id:"gasha",delay:109}],F[P]=[];var B={1:16759510,2:1328004,3:16769042,4:16272557,5:11028219,6:24647,7:3903940,8:14283519,9:15025692,10:16333712,11:16762370,12:9028587,13:9496167,14:16073333,15:15162348,16:16448250},j=function(e){var t=aoba.Container.new(),n=aoba.Sprite.new(e.getImagePath("gasha_silhouette_black"));return n.scale=aoba.p(225/n.height),n.addTo(t,46.5,225,{anchor:aoba.p(.5,1)}),t},L=function(e){var t=aoba.Container.new();return aoba.Sprite.new(e.getImagePath("name")).addTo(t),t},U=function(e,t){var n=aoba.Container.new();return aoba.Sprite.new(e.getImagePath("sign")).addTo(n,10,-55,{blendMode:t}),n},H=function(t){function n(e,t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));r._layers=new Array(I);for(var o=I-1;o>=0;--o)r._layers[o]=aoba.Container.new().addTo(r._effectLayer);return r}return o(n,t),s(n,[{key:"ezgPreDestroy",value:function(){this._layers=null,this._destroyIdolMovie(),this._destroyIdolBG(),this._destroyIdolSpine(),this._destroyIdolParticle(),l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"_createIdolEffect",value:function(e,t){var n=this;return this._createIdolAE(e,t).then(function(){n._createIdolBG(e),n._createIdolSpine(e),n._createIdolParticle()})}},{key:"_createIdolAE",value:function(t,n){var r=this;this._topAEName=n?x:A;var i={};e.each(E,function(e,t){i[t]={blendMode:e}}),i.char_ssr_1_replace={image:j(t)};var a=aoba.Text.new(t.getComment(),{fill:16777215,fontSize:30,fontFamily:"UDKakugo_SmallPr6-B",align:"center"});a.x=-a.width/2,i.idol_comment={text:a},N.forEach(function(e){i[e.layer]={image:U(t,e.blendMode)}}),t.isNew||(i["new_icon_common.png"]={image:aoba.Sprite.new()}),O.forEach(function(e){i[e]||(i[e]={}),i[e].isDisused=!0});var o=new PIXI.AEDataInterceptor(i);return[{name:this._topAEName,depth:S.TOP_AE},{name:T,depth:S.MIDDLE_BACK_AE},{name:"produce_ssr_middle_middle",depth:S.MIDDLE_MIDDLE_AE},{name:C,depth:S.MIDDLE_FRONT_AE},{name:P,depth:S.BOTTOM_AE}].reduce(function(e,t){
return e.then(function(){return(0,v.default)({folderPath:"gasha",interceptor:o,fileName:t.name+".json"}).then(function(e){e.alpha=0,r._layers[t.depth].addChild(e),r._aeTable[t.name]=e})})},Promise.resolve()).then(function(){L(t).addTo(r._findAELayer("name_ssr_replace"))})}},{key:"initIdolMovie",value:function(){this._idolVideo=d.default.MuteVideo.new(""+k.default.env.ASSET_ROOT+this._idol.getMoviePath("card")).addTo(this._layers[S.IDOL_VIDEO],0,0,{visible:!1}),this._idolVideo.video.currentTime=0;var e=new aoba.filters.BlurFilter;return e.blur=0,this._idolVideo.filters=[e],this._idolVideoBlurFilter=e,this._idolVideo.pauseOnPlay()}},{key:"_destroyIdolMovie",value:function(){this._idolVideo.destroy({children:!0}),this._idolVideo=null}},{key:"_createIdolBG",value:function(e){this._idolBG=aoba.Graphics.new().beginFill(B[e.characterId]).drawRect(0,0,aoba.game.width,aoba.game.height).addTo(this._layers[S.IDOL_BG],0,0,{alpha:0})}},{key:"_destroyIdolBG",value:function(){this._idolBG.destroy({children:!0}),this._idolBG=null}},{key:"_createIdolSpine",value:function(e){this._standSpine=h.default.new(e.getSpinePath("stand_gasha")),this._standSpine.setAnimation(0,"wait"),this._standSpine.update(0)}},{key:"_destroyIdolSpine",value:function(){this._standSpine.remove(),this._standSpine=null}},{key:"_createIdolParticle",value:function(){var t=this;this._particlesOfAE={},e.each(R,function(e,n){var r=[];e.forEach(function(e){var i=g.default.new(new m.default(M[e.id],e.id));if(void 0!==e.depth)i.addTo(t._layers[e.depth]);else if(void 0!==e.parent){var a=t._findAELayer(e.parent,n);a&&i.addTo(a)}i.conf=e,r.push(i)}),t._particlesOfAE[n]=r})}},{key:"_destroyIdolParticle",value:function(){e.each(this._particlesOfAE,function(e){e.forEach(function(e){e.destroy({children:!0})})}),this._particlesOfAE=null}},{key:"_playIdolEffect",value:function(e){var t=this;this._playTopEffect(e).then(function(){return t._playMiddleEffect(e)}).then(function(){return t._playBottomEffect(e)}).then(function(){return t.emit("completed")})}},{key:"_playTopEffect",value:function(e){var t=this;return new Promise(function(n){t._setSkipListener(n),t._aeTable[t._topAEName].alpha=1,t._aeTable[t._topAEName].on("completed",n),t._aeTable[t._topAEName].play(),t._playIdolParticle(t._topAEName),t._playIdolSE(t._topAEName),t._playIdolVoice(t._topAEName,e)}).then(function(){t._aeTable[t._topAEName].removeAllListeners("completed"),t._aeTable[t._topAEName].alpha=0,t._aeTable[t._topAEName].pause(),t._cancelEffectTweens()})}},{key:"_playMiddleEffect",value:function(e){var t=this;return this._standSpine.addTo(this._findAELayer("char_ssr_spine_replace"),568,1700).setScale(2.5),new Promise(function(n){t._createEffectTween(t).wait(3).call(function(){return t._setSkipListener(n)}),[C,"produce_ssr_middle_middle",T].forEach(function(n){t._aeTable[n].alpha=1,t._aeTable[n].play(),t._aeTable[n].once("completed",function(){t._aeTable[n].alpha=0}),t._playIdolParticle(n),t._playIdolSE(n),t._playIdolVoice(n,e)}),t._createEffectTween(t._idolBG).wait(19).to({alpha:1},1),t._bgmVolume=aoba.soundManager.bgm.volume,t._createEffectTween(aoba.soundManager.bgm).wait(104).to({volume:.25*t._bgmVolume},10),t._createEffectTween(aoba.soundManager.bgm).wait(286).to({volume:t._bgmVolume},10);var r=Math.floor(1e3*t._idolVideo.video.duration/30);t._createEffectTween(t._idolVideo).wait(243).call(function(){t._idolVideo.show(),t._idolVideo.resume()}).wait(Math.max(r-30,0)).call(n)}).then(function(){t._idolBG.alpha=1,t._cancelEffectTweens()}).then(function(){t._idolVideo.alpha=1,[C,"produce_ssr_middle_middle",T].forEach(function(e){t._aeTable[e].alpha=0,t._aeTable[e].pause()}),aoba.soundManager.bgm.volume=t._bgmVolume})}},{key:"_playBottomEffect",value:function(t){var n=this;return this._standSpine.addTo(this._layers[S.IDOL_SPINE],568,568,{alpha:0}).setScale(1),new Promise(function(r){n._createEffectTween(n).wait(3).call(function(){return n._setSkipListener(r)}),n._createEffectTween(n).wait(335).call(r),n._aeTable[P].alpha=1,n._aeTable[P].play(),n._playIdolParticle(P),n._playIdolSE(P),n._playIdolVoice(P,t),n._createEffectTween(n._standSpine).wait(115).call(function(){return n._standSpine.play("wait")}).to({alpha:1},10).wait(30).call(function(){return n._standSpine.play("smile1")});var i=n._createEffectTween(n).wait(121);e(10).times(function(e){i.wait(1).call(function(){n._idolVideoBlurFilter.blur=8*(e+1)/10})})}).then(function(){n._seekAE(n._aeTable[P],975),n._cancelEffectTweens(),n._standSpine.alpha=1,n._standSpine.play("smile1"),n._standSpine.update(19e4/30),n._idolVideoBlurFilter.blur=8})}},{key:"_playIdolParticle",value:function(e){this._playParticles(this._particlesOfAE[e])}},{key:"_playIdolSE",value:function(e){this._playSEs(D[e])}},{key:"_playIdolVoice",value:function(e){this._playVoice(F[e])}}]),n}(c.default);t.default=H}).call(t,n(4))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(186),c=r(u),f=n(1264),d=r(f),p=n(19),h=r(p),y=n(23),m=r(y),_=n(58),g=r(_),b={new_anime_ADD:PIXI.BLEND_MODES.ADD,white:PIXI.BLEND_MODES.ADD,white_out_center_r_support:PIXI.BLEND_MODES.ADD,rotation_flash_anime_r:PIXI.BLEND_MODES.ADD,support_flash_r:PIXI.BLEND_MODES.ADD,flare_parts_3_anime_all_loop:PIXI.BLEND_MODES.ADD,spot_light_mutiply:PIXI.BLEND_MODES.MULTIPLY,flare_parts_5_anime_all:PIXI.BLEND_MODES.ADD,title_appear_eff:PIXI.BLEND_MODES.ADD,title_flash2:PIXI.BLEND_MODES.SCREEN,spot_light_result_support_r:PIXI.BLEND_MODES.ADD,back_flash:PIXI.BLEND_MODES.ADD,"frame_r.png":PIXI.BLEND_MODES.ADD,white_plane_13:PIXI.BLEND_MODES.ADD,"loof_light_1_1.png":PIXI.BLEND_MODES.SCREEN,rod_light_over_all_anime_r:PIXI.BLEND_MODES.SCREEN,spot_light_rainbow_3_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_2_anime_loop:PIXI.BLEND_MODES.ADD,spot_light_rainbow_1_anime_loop:PIXI.BLEND_MODES.ADD,"monitor_back_screen_lightx2.png":PIXI.BLEND_MODES.SCREEN,wing_right_r:PIXI.BLEND_MODES.SCREEN,wing_left_r:PIXI.BLEND_MODES.SCREEN,various_spot_light_anime_loop:PIXI.BLEND_MODES.SCREEN,gate_flash_anime:PIXI.BLEND_MODES.SCREEN,"light_ground_common_2_1.png":PIXI.BLEND_MODES.SCREEN,stairs_light_left_anime_1:PIXI.BLEND_MODES.ADD,stairs_light_left_1:PIXI.BLEND_MODES.SCREEN,light_stairs_right_anime_1:PIXI.BLEND_MODES.ADD,stairs_light_right_1:PIXI.BLEND_MODES.SCREEN,"AdjumentLayers_SCREEN_x4.png":PIXI.BLEND_MODES.SCREEN,light_ground_anime_loop:PIXI.BLEND_MODES.ADD,light_ground:PIXI.BLEND_MODES.SCREEN,ladder_light_ADD:PIXI.BLEND_MODES.ADD,"cartain_top_MULTIPLY_r_1.png":PIXI.BLEND_MODES.MULTIPLY,rainbow_wall_loop:PIXI.BLEND_MODES.ADD,"loof_screen_new.png":PIXI.BLEND_MODES.SCREEN,white_out_center_sr_support:PIXI.BLEND_MODES.ADD,rotation_flash_anime_sr:PIXI.BLEND_MODES.ADD,support_flash_sr:PIXI.BLEND_MODES.ADD,spot_light_result_support_sr:PIXI.BLEND_MODES.ADD,"frame_sr.png":PIXI.BLEND_MODES.ADD,flash_anime:PIXI.BLEND_MODES.ADD,
support_card_glow_sr:PIXI.BLEND_MODES.SCREEN,rod_light_over_all_anime_sr:PIXI.BLEND_MODES.ADD,wing_right_mask_anime_sr_SCREEN:PIXI.BLEND_MODES.SCREEN,wing_right_body_sr_SCREEN:PIXI.BLEND_MODES.SCREEN,wing_left_mask_anime_sr_SCREEN:PIXI.BLEND_MODES.SCREEN,wing_left_body_sr_SCREEN:PIXI.BLEND_MODES.SCREEN,"eff04.png":PIXI.BLEND_MODES.ADD,white_out_center_support_ssr:PIXI.BLEND_MODES.ADD,support_flash_ssr:PIXI.BLEND_MODES.ADD,rotation_flash_anime_ssr_anime:PIXI.BLEND_MODES.ADD,rotation_flash_anime_ssr_1:PIXI.BLEND_MODES.ADD,rotation_flash_anime_ssr_2:PIXI.BLEND_MODES.ADD,ssr_support_flash_back_anime_2:PIXI.BLEND_MODES.ADD,spot_light_result_support_ssr:PIXI.BLEND_MODES.ADD,"frame_ssr.png":PIXI.BLEND_MODES.ADD,support_card_glow_ssr:PIXI.BLEND_MODES.ADD,rod_light_over_all_anime_ssr:PIXI.BLEND_MODES.ADD,light_flares_anime_loop:PIXI.BLEND_MODES.SCREEN,wing_right_mask_anime_ssr_SCREEN:PIXI.BLEND_MODES.SCREEN,wing_right_body_ssr_SCREEN:PIXI.BLEND_MODES.SCREEN,wing_left_mask_anime_ssr_SCREEN_1:PIXI.BLEND_MODES.SCREEN,wing_left_body_ssr_SCREEN_2:PIXI.BLEND_MODES.SCREEN},v=[{id:"se0077",delay:0},{id:"se0076",delay:6}],w={2:[{id:"se0071",delay:0},{id:"se0072",delay:61},{id:"se0076",delay:91}],3:[{id:"se0071",delay:0},{id:"se0072",delay:61},{id:"se0076",delay:94}],4:[{id:"se0071",delay:0},{id:"se0072",delay:61},{id:"se0076",delay:94}]},k={2:[{id:"se0075",delay:13},{id:"se0084",delay:49}],3:[{id:"se0075",delay:13},{id:"se0179",delay:37}],4:[{id:"se0075",delay:19},{id:"se0085",delay:37}]},S={gasha_support_r_back_twinkle:["flare_parts_3_1.png"],gasha_support_sr_ssr_back_twinkle:["flare_parts_3_1.png"],gasha_support_ssr_radial_line:["gacha_twinkle_r.png","ssr_support_flash_body.png"]},I={2:[{id:"gasha_support_r_back_twinkle",delay:34,props:{x:572,y:388},parent:"Gacha_support_R_Back_Twinkle.mov"}],3:[{id:"gasha_support_sr_ssr_back_twinkle",delay:34,props:{x:626,y:400},parent:"Gasha_support_SR_SSR_Back_Twinkle.mov"}],4:[{id:"gasha_support_ssr_radial_line",delay:34,props:{x:663,y:447},parent:"Gasha_Support_SSR_Radial_line.mov"},{id:"gasha_support_sr_ssr_back_twinkle",delay:34,props:{x:626,y:400},parent:"Gasha_support_SR_SSR_Back_Twinkle.mov"}]},E={2:258,3:261,4:258},A={2:355,3:358,4:355},x=function(t){function n(e,t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._aeLayer=aoba.Container.new().addTo(r._effectLayer),r}return o(n,t),l(n,null,[{key:"createStartAEName",value:function(e,t){return"support_"+c.default.getNameOfRarity(e.rarity)+"_start"+(t?"_short":"")}},{key:"createAppearAEName",value:function(e){return"support_"+c.default.getNameOfRarity(e.rarity)+"_appear"}},{key:"createGashaCardName",value:function(e){return"s_idol_"+c.default.getNameOfRarity(e.rarity)+"_replace.png"}}]),l(n,[{key:"ezgPreDestroy",value:function(){this._aeLayer=null,s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"_createIdolEffect",value:function(e,t){var n=this;return this._createIdolAE(e,t).then(function(){n._startSEConfs=t?v:w[e.rarity],n._createIdolParticle(e)})}},{key:"_createIdolAE",value:function(t,r){var i=this;this._startAEName=n.createStartAEName(t,r),this._appearAEName=n.createAppearAEName(t);var a={};e.each(b,function(e,t){a[t]={blendMode:e}}),a[n.createGashaCardName(t)]={image:d.default.new(t).setScale(.461),isDisused:!0},t.isNew||(a["new_icon_common.png"]={image:aoba.Sprite.new()});var o=new PIXI.AEDataInterceptor(a);return[this._startAEName,this._appearAEName].reduce(function(e,t){return e.then(function(){return(0,h.default)({folderPath:"gasha",interceptor:o,fileName:t+".json"}).then(function(e){e.alpha=0,i._aeLayer.addChild(e),i._aeTable[t]=e})})},Promise.resolve())}},{key:"_createIdolParticle",value:function(e){var t=this;this._appearParticles=[];var n=I[e.rarity];n&&n.forEach(function(e){var n=g.default.new(new m.default(S[e.id],e.id)),r=t._findAELayer(e.parent,t._appearAEName);r&&n.addTo(r),n.conf=e,t._appearParticles.push(n)})}},{key:"_playIdolEffect",value:function(e){var t=this;this._playStartEffect(e).then(function(){return t._playAppearEffect(e)}).then(function(){return t.emit("completed")})}},{key:"_playStartEffect",value:function(){var e=this;return new Promise(function(t){e._setSkipListener(t),e._aeTable[e._startAEName].alpha=1,e._aeTable[e._startAEName].on("completed",t),e._aeTable[e._startAEName].play(),e._playSEs(e._startSEConfs)}).then(function(){e._aeTable[e._startAEName].alpha=0,e._aeTable[e._startAEName].pause(),e._cancelEffectTweens()})}},{key:"_playAppearEffect",value:function(e){var t=this,n=E[e.rarity],r=A[e.rarity];return new Promise(function(i){t._createEffectTween(t).wait(3).call(function(){return t._setSkipListener(i)}),t._aeTable[t._appearAEName].alpha=1,t._aeTable[t._appearAEName].play(),t._createEffectTween(t).wait(r-n).call(i),t._playSEs(k[e.rarity]),t._playParticles(t._appearParticles)}).then(function(){t._seekAE(t._aeTable[t._appearAEName],r),t._cancelEffectTweens()})}}]),n}(c.default);t.default=x}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.getImagePath("card"))),a=aoba.Sprite.new("idol_card_frame_"+e.rarity+".png").addTo(n,-4,-4,{scale:2.18});n.mask=aoba.Graphics.new().beginFill(0).drawRoundedRect(0,0,a.width-10,a.height-10).addTo(n);var o="idol"===e.contentType?"icon_idol_p.png":"icon_idol_s.png";return aoba.Sprite.new(o).addTo(a,2,2,{scale:.48}),aoba.Sprite.new(e.getImagePath("name")).addTo(a,300,184,{scale:.48}),n._frame=a,n}return a(t,e),o(t,[{key:"hideFrame",value:function(){this._frame.hide()}},{key:"showFrame",value:function(){this._frame.show()}}]),t}(aoba.Sprite);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=n(19),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"setup",value:function(){var e=this,t=new PIXI.AEDataInterceptor({touch_ADD:{
blendMode:PIXI.BLEND_MODES.ADD}});return(0,u.default)({folderPath:"gasha",fileName:"next_tap_loop.json",interceptor:t}).then(function(t){t.alpha=0,t.position=aoba.p(269,458),e.addChild(t),e._tapToNextAE=t})}},{key:"listAETextureCacheIds",value:function(){return this._tapToNextAETextureCacheIds||(this._tapToNextAETextureCacheIds=this._tapToNextAE.assets.map(function(e){if(e.texture&&e.texture.textureCacheIds&&e.texture.textureCacheIds.length)return e.texture.textureCacheIds[0]}).filter(function(e){return!!e})),this._tapToNextAETextureCacheIds}},{key:"show",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this._tapToNextAE.alpha=1,this._tapToNextAE.play(!0)}},{key:"hide",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hide",this).call(this),this._tapToNextAE.alpha=0,this._tapToNextAE.stop()}}]),t}(aoba.Container);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),f=r(c),d=n(1),p=r(d),h=n(5),y=r(h),m=n(273),_=r(m),g=n(39),b=r(g),v=n(473),w=r(v),k=n(275),S=r(k),I=n(472),E=r(I),A=n(272),x=r(A),C=n(12),T=r(C),P=n(3),O=r(P),N=n(21),M=r(N),R=n(274),D=r(R),F=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.idols,i=e.gasha;return Promise.all([new Promise(function(e){S.default.new({idols:r}).addTo(n).once("removed",e)}),n._judgeCanRetry(i)]).then(function(e){var t=e[1];aoba.soundManager.playBGMAsync(p.default.bgm.gasha),n._createGashaResult(r,t).addTo(n)}),n}return s(t,e),u(t,[{key:"_getUserCurrency",value:function(e,t){var n=this;switch(e){case"jewel":return b.default.user.get().then(function(e){return e.getJewel()});case"bana_coin":return b.default.earthUser.getMoneyPower().then(function(e){return n._moneyPower={banaCoin:e.coin,enzaPoint:e.point},n._moneyPower&&"-"!==n._moneyPower.enzaPoint?n._moneyPower.banaCoin+n._moneyPower.enzaPoint:0});case"gasha_ticket":return b.default.userGashaTicket.getList().then(function(e){var r=e.find(function(e){return e.gashaTicket.id===t});return n._userGashaTicket=r,r?r.num:0});default:return null}}},{key:"_judgeCanRetry",value:function(e){var t=this;return Promise.all([b.default.gashaGroup.get(e.gashaGroupId),this._getUserCurrency(e.currencyType,e.currencyId)]).then(function(n){var r=l(n,2),i=r[0],a=r[1];return t._userCurrencyNum=a,t._gashaGroup=i,t._gasha=i.gashas.find(function(t){return t.id===e.id}),!!t._gasha.canDraw&&("bana_coin"===t._gasha.currencyType||t._gasha.price<=a)})}},{key:"_createGashaResult",value:function(e,t){var n=w.default.new(e,t);return n.on("tapOkButton",function(){localStorage.removeItem("lastDrewIdols"),localStorage.removeItem("lastDrewGasha"),T.default.directTo("/gasha")}),n.on("tapRetryButton",this._showCheckPop,this),n}},{key:"_showCheckPop",value:function(){var e=this,t=this._gasha,n=void 0;n="bana_coin"===t.currencyType?x.default.new(this._setBanaCoinPopParam(t)):E.default.new(this._setCheckPopParam(t)),n.addTo(this),n.on("tapUseButton",function(n){e._drawGashaAndShowGashaResult({gasha:t,shouldUsePoint:n})}),n.on("tapCancelButton",function(){n.destroy({children:!0})})}},{key:"_setBanaCoinPopParam",value:function(e){return{price:e.price,description:O.default.t("gasha.popBanaCoinDesc",e),moneyPower:this._moneyPower}}},{key:"_setCheckPopParam",value:function(e){return{price:e.price,gasha:e,currency:this._userCurrencyNum,currencyType:e.currencyType,gashaTicketName:this._userGashaTicket?this._userGashaTicket.gashaTicket.name:null}}},{key:"_drawGashaAndShowGashaResult",value:function(e){this.showLoadingLayer(),D.default.new().addTo(this).fadeIn();var t=e.gasha,n=e.shouldUsePoint;b.default.gasha.draw(t,n).then(function(e){M.default.loadSceneAsync("gashaResult",{request:!1,showLoading:!1,sceneParams:{idols:e.idols,gasha:t}})})}}],[{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(p.default.bgm.gasha)]}},{key:"request",value:function(){return b.default.gasha.checkDrawResult()}},{key:"getContentResources",value:function(e){var t=[];return e.idols.forEach(function(e){t.push(e.getImagePath("icon"))}),f.default.uniq(t)}},{key:"getResourceList",value:function(e){return[].concat(i(t.uiResources),i(t.getContentResources(e)),i(S.default.getResourceList(e)))}},{key:"uiResources",get:function(){return _.default}}]),t}(y.default);t.default=F},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"resultBg",fullName:"result/resultBg",type:"container",x:0,y:0},{children:[{name:"windowBase",fullName:"result/window/windowBase",type:"sprite",key:"window_base.png",x:0,y:0},{children:[{name:"idolIcon",fullName:"result/window/idol/idolIcon",type:"sprite",x:1,y:2},{name:"idolIconBorder",fullName:"result/window/idol/idolIconBorder",type:"sprite",x:0,y:1}],name:"idol",fullName:"result/window/idol",type:"container",x:47,y:27}],name:"window",fullName:"result/window",type:"container",x:164,y:128},{name:"messageTop",fullName:"result/messageTop",type:"text",text:"\u30a2\u30a4\u30c9\u30eb\u304c\u52a0\u5165\u3057\u307e\u3057\u305f\u3002",style:{fill:5853003,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:-1.33226762955019e-15,x:473,y:102},{name:"messageBottom",fullName:"result/messageBottom",type:"text",text:"\u7372\u5f97\u6e08\u307f\u30a2\u30a4\u30c9\u30eb\u306f\u63a7\u5ba4\u306b\u9001\u3089\u308c\u307e\u3057\u305f\u3002",style:{fill:5853003,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:-1.33226762955019e-15,x:400,y:495},{children:[{name:"retry",fullName:"result/btn/retry",anchor:{x:.5,y:.5},type:"sprite",key:"retry_button.png",x:75,y:40},{name:"OK",fullName:"result/btn/OK",type:"container",x:242,y:40}],name:"btn",fullName:"result/btn",type:"container",x:428,y:537},{name:"newIcon",fullName:"result/newIcon",type:"sprite",x:120,y:9}],name:"result",fullName:"result",type:"container",x:0,y:0},{name:"header",fullName:"header",type:"container",x:0,y:7}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),s=n(34),l=r(s),u=n(68),c=r(u),f=n(283),d=r(f);t.default=[o.default.bg.HOME].concat(i(d.default.resources),["images/ui/mission/parts_mission_achievement.json","images/ui/login_bonus/parts.json",{name:"staff_balloon.png",url:"images/event/text_frame/003.png"},{
name:"effect_stamp_stars.png",url:"images/ui/login_bonus/effect_stamp_stars.png"},{name:"effect_pop_stars.png",url:"images/ui/login_bonus/effect_pop_stars.png"},{name:"bg_loginBonus.jpg",url:o.default.bg.LOGIN_BONUS},{name:"hosya_kira_eff_02",url:"particles/login_bonus/hosya_kira_eff_02/hosya_kira_eff_02.json"},{name:"light_flare_closs_y.png",url:"particles/login_bonus/hosya_kira_eff_02/_images/light_flare_closs_y.png"},{name:"wing_wipe_01",url:"particles/login_bonus/wing_wipe_01/wing_wipe_01.json"},{name:"wing.png",url:"particles/login_bonus/wing_wipe_01/_images/wing.png"},"spine/sub_characters/stand/staff/data.json"],i((0,c.default)(l.default.loginBonus)))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s="color_circle_rainbow.png",l="color_circle_yellow.png",u={RAINBOW_IMAGE:s,YELLOW_IMAGE:l},c=[{x:43,y:0},{x:1136,y:0},{x:-10,y:320},{x:1140,y:320},{x:43,y:640},{x:326,y:660},{x:510,y:630},{x:804,y:680},{x:1136,y:640}],f=function(e){function t(e){if(r(this,t),![s,l].includes(e))throw new Error("Invalid argument key: "+e);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return c.forEach(function(t){var r=aoba.Sprite.new(e).addTo(n,t.x,t.y,{anchor:.5,alpha:0});r.blendMode=aoba.BLEND_MODES.ADD;var i=Math.floor(1101*Math.random())+100;aoba.Tween.new(r).wait(i).to({scaleX:2,scaleY:2,alpha:.2},2e3,"linear").to({scaleX:2.4,scaleY:2.4,alpha:0},2e3,"linear").wait(100).to({scaleX:1,scaleY:1},10).loop()}),n}return a(t,e),o(t,null,[{key:"resources",get:function(){return["images/ui/my_page/color_circles.json"]}},{key:"KEYS",get:function(){return u}}]),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1271),u=r(l),c=n(398),f=r(c),d=n(1272),p=r(d),h=n(1275),y=r(h),m=n(7),_=r(m),g=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=o.fromData(u.default,{"uiLayer/commonMenu":f.default.new(),"uiLayer/idolUi":p.default.new(n.idols),bg:y.default.new()});return o._uiLayer=s.uiLayer,o._menu=s["uiLayer/commonMenu"],o._menu.setInfo(e,n,r),o._idolUi=s["uiLayer/idolUi"],o._idolUi.on("changeIdol",function(e){return o._setIdol(e)}),o._idolUi.on("fullScreen",function(){return o._toggleUIVisible()}),o._bg=s.bg,o._bg.on("tap",function(){aoba.soundManager.playSE(_.default.ui.decide),o._onTapBg()}),o._setIdol(n.idols[0]),o}return o(t,e),s(t,[{key:"onPause",value:function(){this._idolUi.closeBalloon()}},{key:"onResume",value:function(){this._idolUi.openBalloon()}},{key:"_setIdol",value:function(e){this._bg.setIdol(e),this._idolUi.playRandomIdolComment()}},{key:"_toggleUIVisible",value:function(){this._uiLayer.visible=!this._uiLayer.visible}},{key:"_isUIVisible",value:function(){return this._uiLayer.visible}},{key:"_onTapBg",value:function(){this._isUIVisible()?this._idolUi.playRandomIdolComment():this._toggleUIVisible()}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"container",x:0,y:0},{children:[{name:"idolUi",fullName:"uiLayer/idolUi",type:"container",x:4,y:148},{name:"globalMenu",fullName:"uiLayer/globalMenu",type:"container",x:0,y:0},{name:"commonMenu",fullName:"uiLayer/commonMenu",type:"container",x:0,y:0}],name:"uiLayer",fullName:"uiLayer",type:"container",x:0,y:0},{name:"produceResumePop",fullName:"produceResumePop",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:320},{name:"produceRetirePopContent",fullName:"produceRetirePopContent",pivot:{x:.5,y:0},type:"container",x:569,y:237},{name:"maintenancePop",fullName:"maintenancePop",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:320}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1273),f=r(c),d=n(276),p=r(d),h=n(1274),y=r(h),m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._idols=e,n._idolIndex=0;var r=n.fromData(f.default,{idolBalloon:p.default.new(y.default),charaChangeButton:{class:u.default.DecideButton},fullScreenButton:{class:u.default.DecideButton}});return n._idolBalloon=r.idolBalloon.show(),n._charaChangeButton=r.charaChangeButton,n._charaChangeButton.on("tap",function(){return n._changeIdol()}),n._fullScreenButton=r.fullScreenButton,n._fullScreenButton.on("tap",function(){return n.emit("fullScreen")}),n}return o(t,e),s(t,[{key:"playRandomIdolComment",value:function(){var e=this.currentIdol.comments;if(0===e.length)return void this._idolBalloon.hide();var t=e[Math.floor(e.length*Math.random())];this._idolBalloon.show(),this._idolBalloon.open(this.currentIdol.firstName,t.comment,t.voice&&this.currentIdol.getVoicePath(t.voice))}},{key:"openBalloon",value:function(){this.playRandomIdolComment()}},{key:"closeBalloon",value:function(){this._idolBalloon.close()}},{key:"_changeIdol",value:function(){this._idolIndex=(this._idolIndex+1)%this._idols.length,this.emit("changeIdol",this.currentIdol)}},{key:"currentIdol",get:function(){return this._idols[this._idolIndex]}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"fullScreenButton",fullName:"fullScreenButton",anchor:{x:.5,y:.5},type:"sprite",key:"full_screen_button.png",x:1092,y:32},{name:"charaChangeButton",fullName:"charaChangeButton",
anchor:{x:.5,y:.5},type:"sprite",key:"chara_change_button.png",x:1092,y:112},{name:"idolBalloon",fullName:"idolBalloon",visible:!1,pivot:{x:1,y:.5},type:"container",x:329,y:288}],name:"",fullName:"",type:"container",x:4,y:148}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"myPageIdolBalloonBase",fullName:"myPageIdolBalloonBase",type:"sprite",key:"my_page_idol_balloon_base.png",x:-329,y:-58},{name:"comment",fullName:"comment",anchor:{x:0,y:0},type:"text",text:"\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\r\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba16pt\u4e00\u884c14\u6587\u5b57\u5165\u308a\u307e\u3059\u5b57\u5165\u308a\u307e\u3059\u5b57\u5165\u308a\u307e\u3059\u5b57\u5165\u308a\u307e\u3059\u3059\u3059",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:286,breakWords:!0},rotation:0,x:-319,y:-48},{name:"idolName",fullName:"idolName",type:"text",text:"\u6afb\u6728 \u771f\u4e43",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-319,y:31}],name:"",fullName:"",visible:!1,pivot:{x:1,y:.5},type:"container",x:333,y:436}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(1276),f=r(c),d=n(283),p=r(d),h=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{homeCard:{key:"idol_icon_none.png",visible:!1},bg:{key:u.default.bg.HOME,interactive:!0}});return e._homeCard=n.homeCard,e._bg=n.bg,e._bg.on("tap",function(){return e.emit("tap")}),e._bgMask=aoba.Sprite.new("white_grad.png").addTo(e._bg),e._bgMask.blendMode=aoba.BLEND_MODES.ADD,e._bgMask.width=e._bg.width,e._bgMask.height=430,e._bgMask.hide(),e._bgParticles=p.default.new().addTo(e),e}return o(t,e),s(t,[{key:"setIdol",value:function(e){if(this._bgParticles.destroyParticles(),this._bgParticles.playByRarity(e.rarity),this._bgMask.hide(),e.hasHomeCard())return this._homeCard.texture=aoba.Texture.fromImage(e.getImagePath("home_card")),this._homeCard.visible=!0,this._bg.texture=aoba.Texture.fromImage(u.default.bg.HOME),void this._bgMask.show();this._homeCard.visible=!1,this._bg.texture=aoba.Texture.fromImage(e.getImagePath("card"))}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"001.jpg",x:0,y:0},{name:"homeCard",fullName:"homeCard",anchor:{x:.5,y:1},type:"sprite",key:"home_card.png",x:580,y:640}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(5),d=r(f),p=n(183),h=r(p),y=n(184),m=r(y),_=n(1278),g=r(_),b=n(477),v=r(b),w=n(3),k=r(w),S=n(418),I=r(S),E=n(0),A=r(E),x=n(1),C=r(x),T=n(185),P=r(T),O=function(e){function t(e){var n=e.userIdol,r=e.isEvolutionAndTrainingVisible,i=void 0===r||r,s=e.isDefaultStatus,l=void 0!==s&&s;a(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u._idolDetailLayer=aoba.Container.new().addTo(u),A.default.CommonPartsLayer.create({headerTitle:k.default.t("idolDetail.headerTitle.produce"),tips:C.default.tips.idolDetail,firstTimeKey:A.default.CommonPartsLayer.getDisplayedListForFirstTime.idolDetail,onTapBackButton:function(){aoba.sceneManager.popScene()}}).on("openGlobalMenu",function(){u._idolDetail.resetTab()}).on("openTips",function(){u._idolDetail.resetTab()}).addTo(u),u._zoomCardLayer=aoba.Container.new().addTo(u);var c=aoba.Container.new().addTo(u),f=aoba.Container.new().addTo(u),d=u._idolDetailLayer.fromData(m.default,{bg:A.default.MovingBg.new(),"idolDetailBase/idolName/unitIcon":{key:n.getUnitImagePath("icon")},"idolDetailBase/idolName/idolName":{text:n.name},"idolDetailBase/cardImage":h.default.new(n,"produce",u._zoomCardLayer),"idolDetailBase/copyright":{text:n.idol.copyrightInfo,dy:2}});return u._idolDetail=g.default.new(n,i,l).addTo(u._idolDetailLayer).on("tapEventDetailButton",function(e){v.default.new(e,c,f,n)}).on("tapCardSwitchButton",function(){d["idolDetailBase/cardImage"].switchCardImage()}).on("closeEnd",u._exit,u),u}return s(t,e),l(t,[{key:"_exit",value:function(){aoba.sceneManager.popScene()}}],[{key:"request",value:function(e){return I.default.get(e).then(function(e){return Promise.resolve({userIdol:e})})}},{key:"getContentResources",value:function(e){var t=e.userIdol,n=[];n.push(t.getImagePath("card")),n.push(t.getImagePath("sign")),n.push(t.getImagePath("name")),n.push(t.getUnitImagePath("logo")),n.push(t.getUnitImagePath("icon"));var r=t.produceAfterEvents;return 0!==r.length&&r.forEach(function(e){e.mission&&e.mission.missionRewards.forEach(function(e){["jewel","money","title"].includes(e.contentType)||n.push(e.getIconImagePath())})}),c.default.uniq(n)}},{key:"uiResources",get:function(){return[].concat(i(P.default.common),i(P.default.produceIdol))}}]),t}(d.default);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(475),u=r(l),c=n(476),f=r(c),d=n(181),p=r(d),h=n(270),y=r(h),m=n(277),_=r(m),g=n(182),b=r(g),v=n(7),w=r(v),k=n(0),S=r(k),I=n(12),E=r(I),A=n(3),x=r(A),C=function(e){
function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=e.evolutionStage,l=e.memoryAppeal,c=e.idolParameterRanks,d=e.skillPanels,h=e.memoryAppeals,m=e.produceIdolEvents,g=e.produceAfterEvents,v=e.character,k=o.fromData(u.default,{parameter:f.default.new(e.parameter,s,c,!1),"tabs/skillOff":{key:"skill_panel_off.png"},skill:p.default.new({skillPanels:d,evolutionStage:s},"skill_panel"),memoryAppeal:y.default.new(l,h),event:_.default.new(e.userProduceEventHistories,m,g),profile:b.default.new(v,e.getUnitImagePath("logo")),evolutionButton:{class:S.default.DecideButton,visible:n},"fromGashaNotice/text":{text:x.default.t("idolDetail.fromGashaNotice"),dx:3},fromGashaNotice:{visible:r},cardSwitchButton:{class:S.default.DecideButton,visible:r,dx:-12,dy:5}});return k["fromGashaNotice/text"].style.stroke=16777215,k["fromGashaNotice/text"].style.strokeThickness=5,k.event.on("tapDetailButton",function(e){o.emit("tapEventDetailButton",e)}),k.evolutionButton.on("tap",function(){o.emit("closeEnd"),E.default.directTo("/evolution",{transition:S.default.TransitionFadeLayer.createWhite({duration:80})})}),k.cardSwitchButton.on("tap",function(){o.emit("tapCardSwitchButton")}),o._showTab=k.skill,k.memoryAppeal.hide(),k.event.hide(),k.profile.hide(),k.tabs.children.forEach(function(e){e.interactive=!0,e.on("tap",function(){aoba.soundManager.playSE(w.default.ui.select),o._changeTab(e)})}),o._objs=k,o}return o(t,e),s(t,[{key:"_changeTab",value:function(e){var t=e.name.slice(0,-3),n=this._objs[""+t];this._showTab.hide(),this.resetTab(),n.show(),this._showTab=n}},{key:"resetTab",value:function(){this._showTab.reset&&this._showTab.reset()}}]),t}(aoba.Container);t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"iconStatusVocal",fullName:"vocal/iconStatusVocal",type:"sprite",key:"icon_status_vocal.png",x:0,y:1},{name:"idolDetailStatusLine",fullName:"vocal/idolDetailStatusLine",type:"sprite",key:"idol_detail_status_line.png",x:28,y:26},{name:"number",fullName:"vocal/number",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:132,y:15},{name:"iconStatusRank",fullName:"vocal/iconStatusRank",anchor:{x:.5,y:.5},type:"sprite",key:"A.png",x:40,y:13}],name:"vocal",fullName:"vocal",type:"container",x:0,y:53},{children:[{name:"iconStatusDance",fullName:"dance/iconStatusDance",type:"sprite",key:"icon_status_dance.png",x:0,y:1},{name:"idolDetailStatusLine",fullName:"dance/idolDetailStatusLine",type:"sprite",key:"idol_detail_status_line.png",x:27,y:26},{name:"number",fullName:"dance/number",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:127,y:15},{name:"iconStatusRank",fullName:"dance/iconStatusRank",anchor:{x:.5,y:.5},type:"sprite",key:"B.png",x:40,y:13}],name:"dance",fullName:"dance",type:"container",x:134,y:53},{children:[{name:"iconStatusVisual",fullName:"visual/iconStatusVisual",type:"sprite",key:"icon_status_visual.png",x:0,y:1},{name:"idolDetailStatusLine",fullName:"visual/idolDetailStatusLine",type:"sprite",key:"idol_detail_status_line.png",x:24,y:26},{name:"number",fullName:"visual/number",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:131,y:15},{name:"iconStatusRank",fullName:"visual/iconStatusRank",anchor:{x:.5,y:.5},type:"sprite",key:"C.png",x:41,y:13}],name:"visual",fullName:"visual",type:"container",x:269,y:53},{children:[{name:"iconStatusMental",fullName:"mental/iconStatusMental",type:"sprite",key:"icon_status_mental.png",x:0,y:1},{name:"idolDetailStatusLine",fullName:"mental/idolDetailStatusLine",type:"sprite",key:"idol_detail_status_line.png",x:28,y:26},{name:"number",fullName:"mental/number",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:131,y:15},{name:"iconStatusRank",fullName:"mental/iconStatusRank",anchor:{x:.5,y:.5},type:"sprite",key:"D.png",x:40,y:13}],name:"mental",fullName:"mental",type:"container",x:403,y:53},{children:[{children:[{name:"limitBreakStarBase",fullName:"limitBreak/base/limitBreakStarBase",type:"sprite",key:"limit_break_star_base.png",x:0,y:0},{name:"limitBreakStarBase",fullName:"limitBreak/base/limitBreakStarBase",type:"sprite",key:"limit_break_star_base.png",x:36,y:0},{name:"limitBreakStarBase",fullName:"limitBreak/base/limitBreakStarBase",type:"sprite",key:"limit_break_star_base.png",x:72,y:0},{name:"limitBreakStarBase",fullName:"limitBreak/base/limitBreakStarBase",type:"sprite",key:"limit_break_star_base.png",x:108,y:0}],name:"base",fullName:"limitBreak/base",type:"container",x:50,y:3},{name:"limitBreakLine",fullName:"limitBreak/limitBreakLine",type:"sprite",key:"limit_break_line.png",x:40,y:38},{name:"idolDetailLimitBreakTitle",fullName:"limitBreak/idolDetailLimitBreakTitle",type:"sprite",key:"idol_detail_limit_break_title.png",x:0,y:0}],name:"limitBreak",fullName:"limitBreak",type:"container",x:3,y:0},{children:[{name:"fanStatusLine",fullName:"fan/fanStatusLine",type:"sprite",key:"fan_status_line.png",x:26,y:25},{name:"iconStatusFan",fullName:"fan/iconStatusFan",type:"sprite",key:"icon_status_fan.png",x:0,y:0},{name:"score",fullName:"fan/score",visible:!1,anchor:{x:1,y:.5},type:"text",text:"99,999,999",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:142,y:14},{name:"noScoreText",fullName:"fan/noScoreText",type:"text",text:"\u30fc\u30fc\u30fc\u30fc",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:59,y:12},{name:"fanUnit",fullName:"fan/fanUnit",type:"text",text:"\u4eba",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},visible:!1,anchor:{x:0,y:.5},rotation:0,x:142,y:14}],name:"fan",fullName:"fan",type:"container",x:378,y:10},{children:[{name:"statusSpLine",fullName:"skillPoint/statusSpLine",type:"sprite",key:"status_sp_line.png",x:26,y:25},{name:"iconStatusSp",fullName:"skillPoint/iconStatusSp",type:"sprite",key:"icon_status_sp.png",x:0,y:0},{name:"score",fullName:"skillPoint/score",visible:!1,anchor:{x:1,y:.5},type:"text",text:"9,999",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:148,y:14},{name:"noScoreText",fullName:"skillPoint/noScoreText",type:"text",text:"\u30fc\u30fc\u30fc\u30fc",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:58,y:13}],name:"skillPoint",fullName:"skillPoint",type:"container",x:217,y:10}],name:"",fullName:"",type:"container",x:29,y:443}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"specialEvent",fullName:"list/specialEvent",type:"container",x:0,y:0},{name:"normalEvent",fullName:"list/normalEvent",type:"container",x:0,y:54}],name:"list",fullName:"list",type:"container",x:0,y:56},{name:"noEventMessage",fullName:"noEventMessage",visible:!1,type:"text",text:"\u30a4\u30d9\u30f3\u30c8\u306f\u3042\u308a\u307e\u305b\u3093",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:148,y:231},{name:"eventOn",fullName:"eventOn",type:"sprite",key:"event_on.png",x:248,y:0},{name:"scrollBar",fullName:"scrollBar",type:"container",x:492,y:56}],name:"",fullName:"",type:"container",x:607,y:81}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,
configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1282),l=r(s),u=n(3),c=r(u),f={true:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},false:{fill:11117484,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18}},d=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.fromData(l.default,{eventTitle:{text:n?e.title:c.default.t("idolDetail.event.neverReadEventTitle"),style:f[n]}}),r}return o(t,e),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"normalEventInnerBase",fullName:"normalEventInnerBase",type:"sprite",key:"normal_event_inner_base.png",x:0,y:0},{name:"eventTitle",fullName:"eventTitle",type:"text",text:"\u6210\u9577\u3067\u6765\u3066\u308b\u30fb\u30fb\u30fb\uff1f",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:11,y:24}],name:"",fullName:"",type:"container",x:607,y:191}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1284),l=r(s),u=n(0),c=r(u),f=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(l.default,{eventTitle:{text:e.title},detailButton:{class:c.default.DecideButton}});if(o.eventTitle.style.stroke=16734720,o.eventTitle.style.strokeThickness=5,!n){var s=new aoba.filters.ColorMatrixFilter;s.brightness(.6,!0),o.eventTitle.filters=[s],o.spEventInnerBase.filters=[s]}return o.detailButton.on("tap",function(){r.emit("tapDetailButton",{event:e,hasRead:n})}),r}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"spEventInnerBase",fullName:"spEventInnerBase",type:"sprite",key:"sp_event_inner_base.png",x:0,y:0},{name:"eventTitle",fullName:"eventTitle",type:"text",text:"\u81ea\u7136\u306a\u7b11\u9854\u306e\u5973\u306e\u5b50",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:50,y:26},{name:"detailButton",fullName:"detailButton",anchor:{x:.5,y:.5},type:"sprite",key:"btn_detail.png",x:443,y:25}],name:"",fullName:"",type:"container",x:607,y:137}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"eventConditionInnerBase",fullName:"event/eventConditionInnerBase",type:"sprite",key:"event_condition_inner_base.png",x:0,y:10},{name:"eventConditionText",fullName:"event/eventConditionText",type:"text",text:"\u30fb\u30a2\u30a4\u30c9\u30eb\u30e9\u30f3\u30afS\u9054\u6210\r\u30fb\u30a2\u30a4\u30c9\u30eb\u30a4\u30d9\u30f3\u30c8\u300c\u305d\u306e\u307e\u307e\u3067\u3044\u3044\u304b\u3089\u300d\u767a\u751f",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:19,y:55},{name:"eventConditionTitle",fullName:"event/eventConditionTitle",type:"sprite",key:"event_condition_title.png",x:5,y:0}],name:"event",fullName:"event",type:"container",x:-232,y:0},{children:[{name:"eventRewardInnerBase",fullName:"eventReward/eventRewardInnerBase",type:"sprite",key:"event_reward_inner_base.png",x:0,y:11},{name:"rewardDetail",fullName:"eventReward/rewardDetail",type:"container",x:18,y:42},{name:"noRewardMessage",fullName:"eventReward/noRewardMessage",visible:!1,type:"text",text:"\u5831\u916c\u306f\u3042\u308a\u307e\u305b\u3093",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:165,y:89},{name:"eventRewardTitle",fullName:"eventReward/eventRewardTitle",type:"sprite",key:"event_reward_title.png",x:1,y:0}],name:"eventReward",fullName:"eventReward",type:"container",x:-228,y:98}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:567,y:164}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=r(l),c=n(3),f=r(c),d=n(0),p=r(d),h=n(21),y=r(h),m=n(175),_=r(m),g=n(445),b=r(g),v=n(5),w=r(v),k=n(137),S=r(k),I=n(176),E=r(I),A=n(177),x=r(A),C=n(178),T=r(C),P=n(1),O=r(P),N=["fesIdol","userIdol","userSupportIdol","userReserveIdol","userReserveSupportIdol"],M=function(){return!1},R=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=new S.default,r=function(e,t){if(e.detailKey){var n=void 0;n="fesIdol"===e.name?{requestParams:{idolId:t[e.detailKey],characterId:t.characterId},sceneParams:{prevScene:"idolList"}}:{requestParams:t[e.detailKey]};var r=Object.assign({},n,{additive:!0});y.default.loadSceneAsync(e.detailSceneName,r)}},o=E.default.new({onTapIdolIcon:r}),s=x.default.create({idolTypeNames:N,onSelectTab:function(e){T.default.switchIdolList({tabList:s,idolListContainer:o,idolType:e,store:n,checkIconIsDisabled:M})}});return e.fromData(_.default,{bg:p.default.MovingBg.new(),tabList:s,idolListContainer:o}),s.init(),p.default.CommonPartsLayer.create({headerTitle:f.default.t("header.idolList"),tips:O.default.tips.reserveIdol,firstTimeKey:p.default.CommonPartsLayer.getDisplayedListForFirstTime.reserveIdol,onTapBackButton:function(){u.default.directTo("/idolPortal")}}).addTo(e),e}return o(t,e),s(t,null,[{key:"uiResources",get:function(){return b.default}}]),t}(w.default);t.default=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(12),f=r(c),d=n(3),p=r(d),h=n(1288),y=r(h),m=n(0),_=r(m),g=n(187),b=r(g),v=n(276),w=r(v),k=n(1290),S=r(k),I=n(1291),E=r(I),A=n(5),x=r(A),C={btnPortalUnit:"/unit",btnPortalTraining:"/training",btnPortalSpecialTraining:"/evolution",
btnPortalIdolList:"/idolList"},T=function(){var e=Math.floor(6*Math.random());return{comment:p.default.t("idolPortal.staffComment"+(e+1)),voice:"hazuki_idol_page_"+(e+1)}},P=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));aoba.soundManager.playBGMAsync(u.default.bgm.home);var n=e.fromData(E.default,{bg:{key:u.default.bg.IDOL_PORTAL},btnPortalUnit:{class:_.default.DecideButton},btnPortalTraining:{class:_.default.DecideButton},btnPortalSpecialTraining:{class:_.default.DecideButton},btnPortalIdolList:{class:_.default.DecideButton},trainingCampaignLabel:{destroy:!0},staff:b.default.new({animate:!0,hasBalloon:!1}),staffBalloon:w.default.new(S.default)}),r=n.staff,o=n.staffBalloon,s=function(){var e=T();o.open(p.default.t("common.staff"),e.comment),r.open(e)};return o.setPivotAndAdjustPosition(o.width/2,o.height/2),r.setSpinePosition(960-r.x,640-r.y),s(),r.interactive=!0,r.on("tap",s),Object.keys(C).forEach(function(e){var t=C[e];n[e].on("tap",function(){f.default.directTo(t,{transition:_.default.TransitionFadeLayer.createWhite({duration:80})})})}),e.addHeader(p.default.t("header.idolPortal")),e.addBackButton(function(){f.default.directTo("/home",{transition:_.default.TransitionFadeLayer.createWhite({duration:80})})}),e.addGlobalMenuButton(),e}return o(t,e),s(t,null,[{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(u.default.bgm.home)]}},{key:"uiResources",get:function(){return y.default}}]),t}(x.default);t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=[i.default.bg.IDOL_PORTAL,"images/ui/idol_portal/parts.json","spine/sub_characters/stand/staff/data.json"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"staff",fullName:"staff",type:"container",x:550,y:570},{children:[{name:"staffBalloon",fullName:"staffBalloon/staffBalloon",type:"sprite",key:"staff_balloon.png",x:100,y:0},{name:"comment",fullName:"staffBalloon/comment",anchor:{x:0,y:0},type:"text",text:"",style:{fill:5063497,fontFamily:"HummingStd-B",fontSize:24},rotation:0,x:22,y:49}],name:"staffBalloon",fullName:"staffBalloon",visible:!1,type:"container",x:152,y:421}],name:"",fullName:"",type:"container",x:39,y:66}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idolPortalStaffBalloonBase",fullName:"idolPortalStaffBalloonBase",type:"sprite",key:"idol_portal_staff_balloon_base.png",x:0,y:0},{name:"comment",fullName:"comment",anchor:{x:0,y:0},type:"text",text:"\u30a2\u30a4\u30c9\u30eb\u306e\u80b2\u6210\u3082\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u306e\u5927\u4e8b\u306a\u304a\u4ed5\u4e8b\u3067\u3059\u3088\uff5e",style:{fill:5063497,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:223,breakWords:!0},rotation:0,x:15,y:30},{name:"idolName",fullName:"idolName",type:"text",text:"\u306f\u3065\u304d",style:{fill:5063497,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:15,y:118}],name:"",fullName:"",type:"container",x:864,y:485}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:null,x:0,y:0},{name:"idolPortalWhiteboard",fullName:"idolPortalWhiteboard",type:"sprite",key:"idol_portal_whiteboard.png",x:0,y:68},{name:"btnPortalUnit",fullName:"btnPortalUnit",anchor:{x:.5,y:.5},type:"sprite",key:"btn_portal_unit.png",x:228,y:189},{name:"btnPortalIdolList",fullName:"btnPortalIdolList",anchor:{x:.5,y:.5},type:"sprite",key:"btn_portal_idol_list.png",x:577,y:189},{name:"btnPortalTraining",fullName:"btnPortalTraining",anchor:{x:.5,y:.5},type:"sprite",key:"btn_portal_training.png",x:228,y:411},{name:"btnPortalSpecialTraining",fullName:"btnPortalSpecialTraining",anchor:{x:.5,y:.5},type:"sprite",key:"btn_portal_special_training.png",x:577,y:411},{name:"trainingCampaignLabel",fullName:"trainingCampaignLabel",type:"sprite",key:"training_campaign_label.png",x:63,y:331},{name:"staff",fullName:"staff",type:"container",x:729,y:82},{name:"staffBalloon",fullName:"staffBalloon",type:"container",x:864,y:485}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(12),f=r(c),d=n(1293),p=r(d),h=n(5),y=r(h),m=n(71),_=r(m),g=n(1294),b=r(g),v=n(266),w=n(451),k=r(w),S=n(416),I=r(S),E=n(3),A=r(E),x=n(32),C=r(x),T=_.default.recoveryItem,P={ready:0,busy:1},O=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._init(),e}return o(t,e),s(t,[{key:"_init",value:function(){var e=this;this._mainLayer=b.default.new(T).addTo(this),this._mainLayer.on("showItemList",function(t){e._onRequestItems(t)}),this._mainLayer.on("useItem",function(t){e._onRequestUseItem(t)}),this._state=P.ready,Promise.all([this._requestUserStamina(),this._requestUserFesTicket(),this._onRequestItems(T)]).then(function(){e._mainLayer.open(),e.addHeader(A.default.t("item.headerTitle")),e.addBackButton(function(){e._close()}),e.addGlobalMenuButton()})}},{key:"_close",value:function(){this._state===P.ready&&(this._state=P.busy,this._mainLayer.on("end",function(){return f.default.directTo("/home")}),this._mainLayer.close())}},{key:"_requestUserStamina",value:function(){var e=this;return k.default.get().then(function(t){e._stamina=t})}},{key:"_requestUserFesTicket",value:function(){var e=this;return I.default.get().then(function(t){var n=t.userFesTicket;e._fesTicket=n})}},{key:"_onRequestItems",value:function(e){var t=this;return this._state===P.ready?(this._state=P.busy,e.requestItems().then(function(e){var t=e.map(function(e){return e.getIconImagePath()});return(0,C.default)(t).then(function(){return Promise.resolve(e)})}).then(function(n){t._itemCategory=e,t._items=n.filter(function(e){return t._isItemAvailable(e)}),t._mainLayer.setItems(t._itemCategory,t._items),t._state=P.ready})):Promise.resolve()}},{key:"_onRequestUseItem",value:function(e){var t=this;if(this._state===P.ready)if(e.itemCategory===_.default.recoveryItem){var n=this._calcCurrentValue(e.recoveryItemType);n<e.recoveryItemType.maxValue?(this._state=P.busy,(0,v.createUseRecoveryItemConfirmDialog)(e,n).on("submit",function(){return t._requestUseRecoveryItem(e)}).on("closeEnd",function(){t._state=P.ready}).addTo(this).open()):this._showMaxValueNoticePop(e.recoveryItemType)}else e.itemCategory===_.default.enhancementItem?this._goToTraining():e.itemCategory===_.default.gashaTicket&&this._goToGasha(_.default.gashaTicket.getGashaId(e))}},{key:"_requestUseRecoveryItem",value:function(e){var t=this,n=this._calcCurrentValue(e.recoveryItemType);return _.default.recoveryItem.requestUseItem(e).then(function(r){var i=r.userStamina,a=r.userFesTicket;i&&(t._stamina=i),a&&(t._fesTicket=a);var o=_.default.recoveryItem.calcRecoveryValue(e,e.recoveryItemType.maxValue),s=n+o;if(e.num-=1,e.num<=0){var l=u.default.findIndex(t._items,function(t){return t.id===e.id})
;t._items.splice(l,1)}return new Promise(function(r){(0,v.createUseRecoveryItemResultDialog)(e,n,s).on("closeEnd",r).addTo(t).open()}).then(function(){t._mainLayer.setItems(t._itemCategory,t._items),t._state=P.ready})}).catch(function(n){return t._showMaxValueNoticePop(e.recoveryItemType),t._state=P.ready,Promise.resolve()})}},{key:"_calcCurrentValue",value:function(e){return e===_.default.recoveryItem.types.produce?this._stamina.calcCurrentStamina():this._fesTicket.calcCurrentTicket()}},{key:"_showMaxValueNoticePop",value:function(e){this._mainLayer.showNoticePop(A.default.t(e.maxValueNoticeTextId))}},{key:"_isItemAvailable",value:function(e){return e&&e.num>0&&(!e.getExpireDate()||e.getExpireDate()>new Date)}},{key:"_goToTraining",value:function(){f.default.directTo("/training")}},{key:"_goToGasha",value:function(e){f.default.directTo("/gasha",{sceneParams:{gashaId:e}})}}],[{key:"uiResources",get:function(){return p.default}}]),t}(y.default);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/item/parts.json","images/ui/item/parts_content.json",{name:"item_list_base.png",url:"images/ui/item/item_list_base.png"}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(1295),f=r(c),d=n(1296),p=r(d),h=n(71),y=r(h),m=n(0),_=r(m),g=n(1297),b=r(g),v=n(1299),w=r(v),k=n(264),S=r(k),I=n(265),E=r(I),A=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default,{bg:_.default.MovingBg.new(),ui:aoba.Container.new()});n._uiLayer=r.ui;var o=n._uiLayer.fromData(p.default,{tab:b.default.new(e),itemList:w.default.new()});return n._tab=o.tab.show(),n._itemList=o.itemList.show(),n._popLayer=aoba.Container.new().addTo(n).hide(),aoba.Graphics.new().beginFill(0,.5).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT).addTo(n._popLayer,0,0,{interactive:!0}),n._tab.on("recoveryItem",function(){n.emit("showItemList",y.default.recoveryItem)}),n._tab.on("enhancementItem",function(){n.emit("showItemList",y.default.enhancementItem)}),n._tab.on("gashaTicket",function(){n.emit("showItemList",y.default.gashaTicket)}),n._itemList.on("useItem",function(e){n.emit("useItem",e)}),n._itemList.on("showItemDetail",function(e){n._showItemDetail(e)}),n}return o(t,e),s(t,[{key:"open",value:function(){this._uiLayer.alpha=0,aoba.FrameTween.new(this._uiLayer).to({alpha:1},15,"easeOutQuad"),this._uiLayer.show(),this.show()}},{key:"close",value:function(){var e=this;aoba.FrameTween.new(this._uiLayer).to({alpha:0},10).call(function(){e.emit("end")})}},{key:"setItems",value:function(e,t){this._tab.setItemCategory(e),e===this._itemCategory?this._itemList.updateItems(t):this._itemList.open(t),this._itemCategory=e}},{key:"_showItemDetail",value:function(e){var t=this;this._popLayer.show();var n=S.default.new(e).addTo(this._popLayer);n.on("closeEnd",function(){n.destroy({children:!0}),t._popLayer.hide()}),n.open()}},{key:"showNoticePop",value:function(e){var t=this;this._popLayer.show();var n=E.default.new(e).addTo(this._popLayer);n.on("closeEnd",function(){n.destroy({children:!0}),t._popLayer.hide()}),n.open()}}]),t}(aoba.Container);t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"ui",fullName:"ui",visible:!1,type:"container",x:0,y:0}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"tab",fullName:"tab",visible:!1,type:"container",x:0,y:0},{name:"itemList",fullName:"itemList",visible:!1,type:"container",x:209,y:80},{name:"popLayer",fullName:"popLayer",type:"container",x:0,y:0},{name:"useItemConfirmPop",fullName:"useItemConfirmPop",visible:!1,type:"container",x:307,y:38},{name:"useItemResultPop",fullName:"useItemResultPop",visible:!1,type:"container",x:307,y:118},{name:"itemDetailPop",fullName:"itemDetailPop",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:320},{name:"noticePop",fullName:"noticePop",visible:!1,pivot:{x:.5,y:.5},type:"container",x:568,y:320}],name:"",fullName:"",visible:!1,type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(0),f=r(c),d=n(1298),p=r(d),h=n(71),y=r(h),m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(p.default,{consumablesButton:{class:f.default.SelectButton},consumablesButtonSelected:{interactive:!0,visible:!1},trainingTicketButton:{class:f.default.SelectButton},trainingTicketButtonSelected:{interactive:!0,visible:!1},gashaTicketButton:{class:f.default.SelectButton},gashaTicketButtonSelected:{interactive:!0,visible:!1}});return n._consumablesButton=r.consumablesButton,n._trainingTicketButton=r.trainingTicketButton,n._gashaTicketButton=r.gashaTicketButton,n._buttonSelectedSpriteOfItemCategoryKey={},n._buttonSelectedSpriteOfItemCategoryKey[y.default.recoveryItem.key]=r.consumablesButtonSelected,n._buttonSelectedSpriteOfItemCategoryKey[y.default.enhancementItem.key]=r.trainingTicketButtonSelected,n._buttonSelectedSpriteOfItemCategoryKey[y.default.gashaTicket.key]=r.gashaTicketButtonSelected,n._consumablesButton.on("tap",function(){n.emit("recoveryItem")}),n._trainingTicketButton.on("tap",function(){n.emit("enhancementItem")}),n._gashaTicketButton.on("tap",function(){n.emit("gashaTicket")}),n.setItemCategory(e),n}return o(t,e),s(t,[{key:"setItemCategory",value:function(e){u.default.each(this._buttonSelectedSpriteOfItemCategoryKey,function(t,n){t.visible=n===e.key})}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"tabBase",fullName:"tabBase",type:"sprite",key:"tab_base.png",x:0,y:0},{name:"gashaTicketButton",fullName:"gashaTicketButton",anchor:{x:.5,y:.5},type:"sprite",key:"gasha_ticket_button.png",x:90,y:302},{name:"gashaTicketButtonSelected",fullName:"gashaTicketButtonSelected",anchor:{x:.5,y:.5},type:"sprite",key:"gasha_ticket_button_selected.png",x:90,y:302},{name:"trainingTicketButton",fullName:"trainingTicketButton",anchor:{x:.5,y:.5
},type:"sprite",key:"training_ticket_button.png",x:90,y:208},{name:"trainingTicketButtonSelected",fullName:"trainingTicketButtonSelected",anchor:{x:.5,y:.5},type:"sprite",key:"training_ticket_button_selected.png",x:90,y:208},{name:"consumablesButton",fullName:"consumablesButton",anchor:{x:.5,y:.5},type:"sprite",key:"consumables_button.png",x:90,y:115},{name:"consumablesButtonSelected",fullName:"consumablesButtonSelected",anchor:{x:.5,y:.5},type:"sprite",key:"consumables_button_selected.png",x:90,y:115}],name:"",fullName:"",visible:!1,type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1300),u=r(l),c=n(1301),f=r(c),d=n(263),p=r(d),h=n(3),y=r(h),m=856,_=500,g=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(u.default,{itemListContent:aoba.Container.new()});e._scrollLayer=n.itemListContent.show(),e._scrollLayer.on("touchstart",e._onTouchStart,e).on("touchmove",e._onTouchMove,e).on("touchend",e._onTouchEnd,e).on("touchendoutside",e._onTouchEnd,e),e._scrollLayer.interactive=!0,e._scrollLayer.mask=aoba.Graphics.new().beginFill(0).drawRect(e._scrollLayer.x,e._scrollLayer.y,m,_).addTo(e);var r=n.itemListBtnScroll.hide();return e._scrollBarBase=n.itemListScrollBase,e._scrollBar=f.default.new(e._scrollBarBase.width,e._scrollBarBase.height,r.width).addTo(e,e._scrollBarBase.x,e._scrollBarBase.y).on("scrolled",e._onScrolled,e),e._emptyNotice=n.emptyNotice.hide(),e._emptyNotice.text=y.default.t("item.noItem"),e}return o(t,e),s(t,[{key:"open",value:function(e){this._scrollLayer.removeChildren(),this._setItems(e,!1),this.show()}},{key:"updateItems",value:function(e){this._setItems(e,!0)}},{key:"_setItems",value:function(e,t){this._items=e;var n=0;this._contentsLayer&&(t&&(n=this._contentsLayer.y),this._contentsLayer.destroy({children:!0})),e&&0!==e.length?(this._emptyNotice.hide(),this._contentsLayer=this._createItemListLayer(e),n=Math.max(this._scrollLayer.mask.height-this._contentsLayer.height,n),n=Math.min(0,n),this._contentsLayer.addTo(this._scrollLayer,0,n),this._scrollBar.setContentsInfo(this._contentsLayer.y,this._contentsLayer.height,this._scrollLayer.mask.y,this._scrollLayer.mask.height),this._scrollBar.setConteinerY(n),this._scrollBarBase.visible=this._scrollBar.visible):(this._emptyNotice.show(),this._scrollBar.hide(),this._scrollBarBase.hide())}},{key:"_onTouchStart",value:function(e){this._isTouch=!0,this._touchStartContentsLayerY=this._contentsLayer.y,this._touchStartY=e.data.getLocalPosition(this._scrollLayer).y}},{key:"_onTouchMove",value:function(e){if(this._isTouch){var t=e.data.getLocalPosition(this._scrollLayer).y,n=t-this._touchStartY;if(this._isScrolling||Math.abs(n)>10){this._isScrolling=!0;var r=this._contentsLayer,i=this._touchStartContentsLayerY+n;i=Math.max(i,_-r.height),i=Math.min(i,0),this._onScrolled(i),this._scrollBar.setConteinerY(i)}}}},{key:"_onTouchEnd",value:function(){this._isScrolling=!1,this._isTouch=!1}},{key:"_onScrolled",value:function(e){this._contentsLayer.y=e}},{key:"_createItemListLayer",value:function(e){for(var t=this,n=aoba.Container.new(),r=0;r<e.length;++r)!function(r){var i=Math.floor(r/4),a=r%4,o=e[r];p.default.new(o).addTo(n,214*a,352*i).on("use",function(){t._isScrolling||t.emit("useItem",o)}).on("info",function(){t._isScrolling||t.emit("showItemDetail",o)})}(r);var i=aoba.Graphics.new().beginFill(0).drawRect(0,0,n.width,n.height);return i.alpha=0,n.addChildAt(i,0),n}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"itemListBase",fullName:"itemListBase",type:"sprite",key:"item_list_base.png",x:0,y:0},{name:"itemListScrollBase",fullName:"itemListScrollBase",type:"sprite",key:"item_list_scroll_base.png",x:879,y:16},{name:"itemListBtnScroll",fullName:"itemListBtnScroll",type:"sprite",key:"item_list_btn_scroll.png",x:875,y:11},{name:"emptyNotice",fullName:"emptyNotice",visible:!1,type:"text",text:"\u30a2\u30a4\u30c6\u30e0\u304c\u3042\u308a\u307e\u305b\u3093\u3002",style:{fill:5063497,fontFamily:"HummingStd-E",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:333,y:272},{name:"itemListContent",fullName:"itemListContent",visible:!1,type:"container",x:18,y:16}],name:"",fullName:"",visible:!1,type:"container",x:209,y:80}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._cursorWidth=a,o.interactive=!0,aoba.Graphics.new().beginFill(0).drawRect(0,0,e,n).addTo(o,0,0,{alpha:0}),o._cursor=aoba.Container.new().addTo(o),o.on("touchstart",o._onTouchStart).on("touchmove",o._onTouchMove).on("touchend",o._onTouchEnd).on("touchendoutside",o._onTouchEnd),o}return a(t,e),o(t,[{key:"setContentsInfo",value:function(e,t,n,r){this._containerHeight=t,this._maskY=n,this._maskHeight=r;var i=t>r;this.visible=i,this.interactive=i,i&&(this._updateCursorSize(t,r),this.setConteinerY(e))}},{key:"setConteinerY",value:function(e){var t=this.height*(this._maskY-e)/this._containerHeight;t=Math.min(t,this.height-this._cursor.height),t=Math.max(t,0),this._cursor.y=t}},{key:"_updateCursorSize",value:function(e,t){this._cursor&&this._cursor.removeChildren();var n=this.height*t/e;aoba.Graphics.new().beginFill(0).drawRoundedRect(0,0,this._cursorWidth,n,4).beginFill(16777215).drawRoundedRect(1,1,this._cursorWidth-2,n-2,4).addTo(this._cursor,0,0)}},{key:"_onTouchStart",value:function(e){this._isTouched=!0,this._scrollTo(e.data.getLocalPosition(this).y)}},{key:"_onTouchMove",value:function(e){this._isTouched&&this._scrollTo(e.data.getLocalPosition(this).y)}},{key:"_onTouchEnd",value:function(){this._isTouched=!1}},{key:"_scrollTo",value:function(e){var t=e-this._cursor.height/2;t=Math.min(t,this.height-this._cursor.height),t=Math.max(t,0),this._cursor.y=t,this.emit("scrolled",this._maskY-this._containerHeight*t/this.height)}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}
function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showLoadingLayer(),e}return a(t,e),t}(s.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(1304),p=r(d),h=n(1308),y=r(h),m=n(23),_=r(m),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.loginBonuses,o=r.normalLoginBonus,s=r.totalLoginBonuses,l=r.specialLoginBonuses,c=r.totalLoginDays;return n._specialLoginBonuses=l,n._normalLayer=p.default.new(o,s,c).once("end",n._showSpecialLoginBonuses,n).addTo(n),n._specialLoginBonusLayer=aoba.Container.new().addTo(n),n._whiteLayer=aoba.Graphics.new().beginFill(16777215).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT).addTo(n,0,0,{alpha:0,blendMode:aoba.BLEND_MODES.ADD}),n._particleLayer=aoba.Container.new().addTo(n,0,0,{scale:2,alpha:0}),n._blackLayer=aoba.Graphics.new().beginFill(0).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT).addTo(n,0,0,{alpha:0}),n}return o(t,e),s(t,[{key:"_showSpecialLoginBonuses",value:function(){var e=this,t=Promise.resolve();t=this._specialLoginBonuses.reduce(function(t,n){return t.then(function(){return e._showSpecialLoginBonus(n)})},t),t.then(function(){return e._endLoginBonus()})}},{key:"_showSpecialLoginBonus",value:function(e){var t=this;return new Promise(function(n){t._showWingParticles(),aoba.FrameTween.new(t._whiteLayer).wait(16).to({alpha:1},40).call(function(){y.default.new(e).once("end",n).addTo(t._specialLoginBonusLayer)}).to({alpha:0},15)})}},{key:"_showWingParticles",value:function(){var e=["wing.png"],t=new _.default(e,"wing_wipe_01");t.setPosition(568,500),t.play(),this._particleLayer.addChild(t.container),aoba.FrameTween.new(this._particleLayer).to({alpha:1},10).wait(36).to({alpha:0},10)}},{key:"_endLoginBonus",value:function(){aoba.FrameTween.new(this._blackLayer).wait(12).to({alpha:1},10).call(function(){aoba.sceneManager.popScene()})}}]),t}(f.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1305),f=r(c),d=n(187),p=r(d),h=n(3),y=r(h),m=n(1306),_=r(m),g=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._normalLoginBonus=e,o._totalLoginBonuses=n,o._totalLoginDays=r,o._isSeventhDate=7===e.sheetNum;var s=o.fromData(f.default,{skipButton:{class:u.default.DecideButton},screen:_.default.new(e,n,r)});o._staff=p.default.new({animate:!0}).addTo(o),o._staff.hide(),o._staff.setSpinePosition(950,675),o._staff.setSpineScale(1.2),o._screen=s.screen,o._nextBonusDate=Math.min.apply(null,o._totalLoginBonuses.map(function(e){return e.sheetNum}));var l=o._normalLoginBonus.loginBonus.sheets.find(function(e){return e.sheetNum===o._normalLoginBonus.sheetNum}),c=o._screen.todayIcon;return o._startLoginBonus(l.rewards,c),o.interactive=!0,s.skipButton.once("tap",function(){o.emit("end"),o.pause(),o._staff.stopVoice(),o._staff.pause()}),o}return o(t,e),s(t,[{key:"_startLoginBonus",value:function(e,t){var n=this;return Promise.resolve().then(function(){return n._showObjects()}).then(function(){return n._approachScreen()}).then(function(){return u.default.commonUiHelper.createStampEffect(t,t.width/2,t.height/2)}).then(function(){return n._showReceivePop(e)}).then(function(){return n._showTomorrowLoginBonus()})}},{key:"_showObjects",value:function(){var e=this;return new Promise(function(t){e._staff.show(),aoba.FrameTween.new(e._staff).from({x:887},14).call(function(){e._staff.showBalloon(),e._staff.open({comment:y.default.t("loginBonus.clerkComment.greeting"),voice:"hazuki_login_1",animation:"smile2"})}),aoba.FrameTween.new(e._screen).from({x:-710},14).wait(66).call(t)})}},{key:"_approachScreen",value:function(){var e=this;return new Promise(function(t){aoba.FrameTween.new(e._staff).to({x:e._staff.x+100},13),aoba.FrameTween.new(e).to({x:0,y:0,scaleX:1.35,scaleY:1.35},13).call(t)})}},{key:"_showReceivePop",value:function(e){var t=this;return new Promise(function(n){u.default.receiveRewardDialogFactory.create(e).addTo(t.parent).on("submit",n).open()})}},{key:"_showTomorrowLoginBonus",value:function(){var e=this,t=new Promise(function(t){aoba.FrameTween.new(e._staff).to({x:e._staff.x-100},10),aoba.FrameTween.new(e).to({x:0,y:0,scaleX:1,scaleY:1},10).wait(6).call(t)});return t=t.then(function(){return e._staff.open({comment:y.default.t("loginBonus.clerkComment.nextBonus"),voice:"hazuki_login_2",animation:"smile3"})}),this._isSeventhDate&&(t=t.then(function(){return e._updateNewScreen()})),t=t.then(function(){return e._screen.flashTomorrowLoginBonusIcon()}).then(function(){return e._screen.updateAccumulatedTotal(e._totalLoginDays,e._nextBonusDate)}).then(function(){return e._showTotalLoginBonus()}).then(function(){e.emit("end")})}},{key:"_updateNewScreen",value:function(){var e=this;return new Promise(function(t){var n=_.default.new(e._normalLoginBonus,e._totalLoginBonuses,e._totalLoginDays,!0).addToAt(e,e.getChildIndex(e._screen),e._screen.x,e._screen.y);aoba.FrameTween.new(e._screen).to({x:-1e3},12),aoba.FrameTween.new(n).from({x:1500},12).call(t),e._screen=n})}},{key:"_showTotalLoginBonus",value:function(){var e=this,t=Promise.resolve();0===Math.max(0,this._nextBonusDate-this._totalLoginDays)&&(t=t.then(function(){return e._screen.flashTotalLoginBonusIcon()}),this._totalLoginBonuses.filter(function(t){return t.sheetNum<=e._totalLoginDays}).forEach(function(n){t=t.then(function(){return e._staff.open({comment:y.default.t("loginBonus.clerkComment.totalBonus",{totalLoginDays:n.sheetNum}),animation:"smile1"})}),t=t.then(function(){return e._showReceivePop(n.rewards)})}));return t}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgLoginBonus",fullName:"bgLoginBonus",type:"sprite",key:"bg_loginBonus.jpg",x:0,y:0},{name:"screen",fullName:"screen",type:"container",x:19,y:44},{name:"staff",fullName:"staff",type:"container",x:207,y:82},{name:"skipButton",fullName:"skipButton",anchor:{x:.5,y:.5},type:"sprite",key:"skip_button.png",x:1085,y:51}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1307),u=r(l),c=n(3),f=r(c),d=n(376),p=r(d),h=n(23),y=r(h),m=n(134),_=r(m),g=function(e){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),l={};e.loginBonus.sheets.forEach(function(e,t){l["item/bonus"+t]={key:null}});for(var c=1;c<=4;c++)l["accumulatedTotal/comments/comment"+c]=f.default.t("loginBonus.accumulatedTotal.comment"+c);l["accumulatedTotal/bonusEx"]={key:null};var d=s.fromData(u.default,l);s._normalLoginBonus=e,s._totalLoginBonuses=n,s._items=d.item,s._totalLoginObjects=d.accumulatedTotal,s._totalLoginIconBase=d["accumulatedTotal/bonusEx"];var p=[];return p.remainingDates=d["accumulatedTotal/comments/remainingDate"],p.nextBonusDate=d["accumulatedTotal/comments/nextBonusDate"],p.totalLoginDates=d["accumulatedTotal/comments/totalLoginDate"],p.comments=d["accumulatedTotal/comments"].children.slice(0,4),s._totalLoginComment=p,s._rewardIcons=s._setRewardIcons(e,o),s._setAccumulatedTotal(n,r),s}return o(t,e),s(t,[{key:"_setRewardIcons",value:function(e,t){var n=this,r=[];return e.loginBonus.sheets.forEach(function(i,a){var o=e.loginBonus.sheets[a],s=_.default.new(o.rewards[0],{isLabelVisible:!0}).addTo(n._items,102*a,0);r.push(s),t||e.sheetNum>o.sheetNum&&aoba.Sprite.new("icon_stamp.png").addTo(s,s.width/2,s.height/2,{anchor:.5,scale:1})}),r}},{key:"_setAccumulatedTotal",value:function(e,t){if(0===e.length)return void this._totalLoginObjects.hide();var n=Math.min.apply(null,e.map(function(e){return e.sheetNum})),r=t-1;this._beforeRemainingDates=Math.max(0,n-r);var i=e.find(function(e){return e.sheetNum===n});this._totalLoginComment.totalLoginDates.text=r,this._totalLoginComment.nextBonusDate.text=n,this._totalLoginComment.remainingDates.text=this._beforeRemainingDates,this._adjustAccumulatedTotalCommentPositions(),this._totalLoginIcon=_.default.new(i.rewards[0],{isLabelVisible:!0},"center").addTo(this._totalLoginIconBase,0,0,{anchor:.5})}},{key:"_adjustAccumulatedTotalCommentPositions",value:function(){this._totalLoginComment.comments[1].x=this._totalLoginComment.totalLoginDates.x+this._totalLoginComment.totalLoginDates.width,this._totalLoginComment.comments[2].x=this._totalLoginComment.nextBonusDate.x+this._totalLoginComment.nextBonusDate.width,this._totalLoginComment.remainingDates.x=this._totalLoginComment.comments[2].x+this._totalLoginComment.comments[2].width,this._totalLoginComment.comments[3].x=this._totalLoginComment.remainingDates.x+this._totalLoginComment.remainingDates.width}},{key:"flashTomorrowLoginBonusIcon",value:function(){var e=this;return new Promise(function(t){var n=e._normalLoginBonus.sheetNum<=6?e._rewardIcons[e._normalLoginBonus.sheetNum]:e._rewardIcons[0],r=aoba.Sprite.new("next_frame.png").addTo(n,n.width/2,n.height/2,{anchor:.5,scale:1});aoba.Tween.new(r).from({alpha:0},500).from({alpha:0},500).from({alpha:0},500).call(t)})}},{key:"updateAccumulatedTotal",value:function(e,t){var n=this,r=Math.max(0,t-e);return Promise.resolve().then(function(){return n._showUpdateNumberEffect("totalLoginDates",e)}).then(function(){return n._showUpdateNumberEffect("remainingDates",r)})}},{key:"_showUpdateNumberEffect",value:function(e,t){this._totalLoginComment[e].text=t,this._adjustAccumulatedTotalCommentPositions();var n=this._totalLoginComment[e];return new Promise(function(e){var t=aoba.Sprite.new("bright_ring.png").addTo(n,n.width/2,0,{anchor:.5,scale:0});aoba.Tween.new(n).to({y:n.y-5},100).to({y:n.y},200),aoba.FrameTween.new(t).call(function(){aoba.FrameAnimation.new("effect_pop_stars.png",40,24).addTo(n,n.width/2,0,{anchor:.5,scale:2.75}).play()}).to({scaleX:.28,scaleY:.28},4).to({scaleX:.4,scaleY:.4,alpha:0},12).call(e)})}},{key:"flashTotalLoginBonusIcon",value:function(){var e=this;return new Promise(function(t){aoba.soundManager.playSE(p.default.totalLoginBonus),aoba.FrameTween.new(e._totalLoginIcon).to({scaleX:1.3,scaleY:1.3},10).wait(88).to({scaleX:1,scaleY:1},10);var n=["light_flare_closs_y.png"],r=new y.default(n,"hosya_kira_eff_02");r.setPosition(0,0),r.play(),e._iconParticleLayer=aoba.Container.new().addTo(e._totalLoginIcon,0,0,{anchor:.5,scale:1}),e._iconParticleLayer.addChild(r.container);var i=e._totalLoginObjects,a=aoba.Sprite.new("glare.png").addToAt(i,i.getChildIndex(e._totalLoginIconBase),e._totalLoginIconBase.x,e._totalLoginIconBase.y,{anchor:.5,scale:0,blendMode:aoba.BLEND_MODES.ADD});aoba.FrameTween.new(a).to({scaleX:2.8,scaleY:2.8},5).to({rotation:-160*aoba.DEG_TO_RAD},93).to({rotation:-180*aoba.DEG_TO_RAD,alpha:0},10).call(t);var o=aoba.Sprite.new("bright_ring.png").addTo(e._totalLoginIcon,0,0,{anchor:.5,scale:0,blendMode:aoba.BLEND_MODES.MULTIPLY});aoba.FrameTween.new(o).to({scaleX:.6,scaleY:.6},5).to({scaleX:1,scaleY:1,alpha:0},14)})}},{key:"todayIcon",get:function(){return this._rewardIcons[this._normalLoginBonus.sheetNum-1]}}]),t}(aoba.Sprite);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"loginBonusBase",fullName:"loginBonusBase",type:"sprite",key:"login_bonus_base.png",x:0,y:0},{name:"item",fullName:"item",type:"container",x:43,y:160},{children:[{children:[{name:"comment",fullName:"accumulatedTotal/comments/comment",anchor:{x:0,y:.5},type:"text",text:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u5c31\u4efb\u304b\u3089",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:0,y:9},{name:"comment2",fullName:"accumulatedTotal/comments/comment2",anchor:{x:0,y:.5},type:"text",text:"\u65e5\u7d4c\u904e",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:245,y:9},{name:"comment3",fullName:"accumulatedTotal/comments/comment3",anchor:{x:0,y:.5},type:"text",text:"\u65e5\u8a18\u5ff5\u307e\u3067\u3042\u3068",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:86,y:31},{name:"comment4",fullName:"accumulatedTotal/comments/comment4",anchor:{x:0,y:.5},type:"text",text:"\u65e5",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:245,y:31},{name:"totalLoginDate",fullName:"accumulatedTotal/comments/totalLoginDate",anchor:{x:0,y:.5},type:"text",text:"123",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:201,y:9},{name:"nextBonusDate",fullName:"accumulatedTotal/comments/nextBonusDate",anchor:{x:0,y:.5},type:"text",text:"150",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:43,y:31},{name:"remainingDate",fullName:"accumulatedTotal/comments/remainingDate",anchor:{x:0,y:.5},type:"text",text:"27",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},rotation:0,x:215,y:31
}],name:"comments",fullName:"accumulatedTotal/comments",type:"container",x:29,y:25},{name:"iconNoticeRed",fullName:"accumulatedTotal/iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:0,y:23},{name:"bonusEx",fullName:"accumulatedTotal/bonusEx",anchor:{x:.5,y:.5},type:"sprite",key:"icon_jewel.png",x:383,y:44}],name:"accumulatedTotal",fullName:"accumulatedTotal",type:"container",x:183,y:301}],name:"",fullName:"",type:"container",x:19,y:44}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(0),f=r(c),d=n(1309),p=r(d),h=n(478),y=r(h),m=n(134),_=r(m),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(p.default,{skipButton:{class:f.default.DecideButton},bgSpecial:{key:e.bgPath},"item/startPosition":{key:null}});n._startPosition=r["item/startPosition"],n._itemList=r.item,n._specialLoginBonus=e,n._setRewardIcons();var o=e.loginBonus.sheets.find(function(t){return t.sheetNum===e.sheetNum}),s=n._itemList.children[e.sheetNum];return n._startSpecialLoginBonus(o.rewards,s),n.interactive=!0,r.skipButton.once("tap",function(){n.emit("end"),n.pause(),n._voiceSound&&n._voiceSound.stop()}),n}return o(t,e),s(t,[{key:"_setRewardIcons",value:function(){var e=this,t=this._specialLoginBonus.loginBonus.sheets,n=t.length,r=n%2==1?n:n/2;this._startPosition.x-=102*Math.floor(r/2),t.forEach(function(t,n){var i=_.default.new(t.rewards[0],{isLabelVisible:!0},"center").addTo(e._itemList,e._startPosition.x+n%r*102,e._startPosition.y+102*Math.floor(n/r),{anchor:.5});e._specialLoginBonus.sheetNum>t.sheetNum&&aoba.Sprite.new("icon_stamp.png").addTo(i,0,0,{anchor:.5,scale:1})})}},{key:"_showReceivePop",value:function(e){var t=this;f.default.receiveRewardDialogFactory.create(e).addTo(this.parent).on("submit",function(){t.emit("end")}).open()}},{key:"_startSpecialLoginBonus",value:function(e,t){var n=this;return Promise.resolve().then(function(){return n._showObjects()}).then(function(){return f.default.commonUiHelper.createStampEffect(t)}).then(function(){return n._showReceivePop(e)})}},{key:"_showObjects",value:function(){var e=this,t=aoba.Graphics.new().beginFill(16777215).drawRect(0,0,u.default.SCREEN_WIDTH,u.default.SCREEN_HEIGHT).addTo(this,0,0,{alpha:1,blendMode:aoba.BLEND_MODES.ADD});return new Promise(function(n){aoba.soundManager.playVoiceAsync(y.default.getVoicePath("hazuki_special_login")).then(function(t){e._voiceSound=t}),aoba.Tween.new(t).to({alpha:0},500),aoba.Tween.new(e).from({x:-100,y:-100,scaleX:1.2,scaleY:1.2},1e3).call(n)})}}]),t}(aoba.Container);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgSpecial",fullName:"bgSpecial",type:"sprite",key:"bg_special.jpg",x:0,y:0},{children:[{name:"startPosition",fullName:"item/startPosition",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"startPosition.png",x:345,y:46}],name:"item",fullName:"item",type:"container",x:58,y:336},{name:"skipButton",fullName:"skipButton",anchor:{x:.5,y:.5},type:"sprite",key:"skip_button.png",x:1085,y:51}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=n(1),c=r(u),f=n(465),d=r(f),p=n(3),h=r(p),y=n(5),m=r(y),_=n(24),g=r(_),b=n(22),v=r(b),w=1e3,k=Math.ceil(w/8),S=Math.floor(c.default.SCREEN_HEIGHT/8),I=120,E=c.default.SCREEN_WIDTH,A=S*k,x=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._loginSceneBg=aoba.Graphics.new().beginFill(15658734).drawRect(0,0,E,A).addTo(e),aoba.Text.new(h.default.t("common.login"),{fontSize:32,fill:2236962}).addTo(e,c.default.SCREEN_CENTER.x,40,{anchor:.5}),e._scrollBarBase=aoba.Graphics.new().beginFill(0).drawRect(0,0,10,c.default.SCREEN_HEIGHT).addTo(e,E-10,0),e._scrollBar=g.default.new({width:16}).addTo(e,E-10,0);var n=aoba.Container.new();return(0,l.default)(w).times(function(e){var t=e+1,r=e/8|0,i=e%8,a=aoba.Graphics.new().beginFill(6710886).drawRoundedRect(0,0,120,60,4).setInteractive(!0).addTo(n,16+140*i,80*r).on("tap",function(){d.default.login(t),location.href=location.origin});aoba.Text.new(t,{fill:16777215,fontSize:24}).addTo(a,4,4)}),e._scrollRect=v.default.new({width:c.default.SCREEN_WIDTH,height:c.default.SCREEN_HEIGHT-I,container:n,scrollBar:e._scrollBar,scrollBarBase:e._scrollBarBase}).addTo(e,0,I),e}return o(t,e),t}(m.default);t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(0),f=r(c),d=n(12),p=r(d),h=n(5),y=r(h),m=n(1312),_=r(m),g=n(1313),b=r(g),v=n(1317),w=r(v),k=n(1322),S=r(k),I=n(1325),E=r(I),A=n(14),x=r(A),C=n(249),T=r(C),P=n(3),O=r(P),N=n(1327),M=r(N),R=n(169),D=r(R),F=n(1),B=r(F),j={ALL:"all",UNACHIEVED:"unachieved",ACHIEVED:"achieved"},L=B.default.app.MISSION_TYPES,U=B.default.app.MISSION_STATUS,H={enhancement:"/training",evolve:"/evolution",fes:"/fesTop",gasha:"/gasha",produce:"/produceReady"},G={ready:0,busy:1},z=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));aoba.soundManager.playBGMAsync(B.default.bgm.home),n._missions=e.missions,n._missionType=L.DAILY,n._produceData=e.produceData,n._selectProduce=D.default.new(),Object.values(L).forEach(function(e){var t=n._missions[e+"UserMissions"];t&&0!==t.length&&(t.remainingTimeText=n._setTimeText(t,e))});var r=n.fromData(_.default,{bgMission:f.default.MovingBg.new(),tab:b.default.new(n._missions)});return n._objs=r,n._popLayer=aoba.Container.new().addTo(n),n._main=r.main,n._badges={},n._tab=r.tab,n._changeMissionType(L.DAILY),
f.default.CommonPartsLayer.create({headerTitle:O.default.t("mission.headerTitle"),tips:B.default.tips.mission,firstTimeKey:f.default.CommonPartsLayer.getDisplayedListForFirstTime.mission,onTapBackButton:function(){p.default.directTo(e.fromPath||"/home")}}).addTo(n),n._tab.on("tapTabButton",function(e){n._changeMissionType(e)}),n._state=G.ready,n}return o(t,e),s(t,[{key:"_changeMissionType",value:function(e){this._missionType=e,this._tab.changeTabs(e),this._createMain(e,j.ALL)}},{key:"_createMain",value:function(e,t){this._main&&this._main.removeChildren();var n=w.default.new(this._missions[e+"UserMissions"],e,t).on("tapMissionDetailButton",this._showMissionDetail,this).on("tapReceiveButton",this._showReceiveReward,this).addTo(this._main,0,0);e===L.NORMAL&&n.on("tapSortButton",this._showPopSort,this)}},{key:"_setTimeText",value:function(e,t){var n=e[0].endedAt,r=e[0].mission.expireAt,i=Math.floor((new Date).getTime()/1e3);switch(t){case L.NORMAL:case L.SPECIAL:return O.default.t("mission.noLimit");case L.DAILY:return this._getRemainingDailyText(n-i);case L.PREVIOUS_EVENT:return this._getRemainingWeeklyText(r-i);default:return this._getRemainingWeeklyText(n-i)}}},{key:"_getRemainingDailyText",value:function(e){var t=Math.floor(e/60),n=Math.floor(t/60),r=t%60;return O.default.t("mission.remainingDaily",{hours:n,minutes:r})}},{key:"_getRemainingWeeklyText",value:function(e){var t=Math.floor(e/3600),n=Math.floor(t/24),r=t%24;return O.default.t("mission.remainingWeekly",{days:n,hours:r})}},{key:"_showMissionDetail",value:function(e){var t=this,n=e.missionType,r=e.selectedMission,i=e.remainingText,a=e.missionText;if(this._state!==G.busy){this._state=G.busy;var o=n===L.PREVIOUS_EVENT?"none":r.mission.transitionDestination,s=S.default.new(n,r,i,a);x.default.new({title:O.default.t("mission.popMissionDetail"),container:s,buttons:s.setButtons(o)}).addTo(this).on("submit",function(){t._state=G.ready,"produce"===o?t._selectProduce.onSelectProduce(t._produceData,t):t._transitionDestination(o)}).on("closeEnd",function(){t._state=G.ready}).open()}}},{key:"_showReceiveReward",value:function(e){var t=this,n=e.selectedMission,r=e.missionObject;this._state!==G.busy&&(this._state=G.busy,T.default.receiveReward(n.id).then(function(e){e&&(t._updateMissionStatus(n.id),f.default.receiveRewardDialogFactory.create(e.mission.missionRewards).addTo(t).on("submit",function(){t._state=G.ready,r.changeIcon()}).open())}))}},{key:"_updateMissionStatus",value:function(e){var t=0;this._missions[this._missionType+"UserMissions"].forEach(function(n){n.id===e&&(n.status=U.RECEIVED),n.status===U.CLEARED&&++t}),this._tab.updateBadge(this._missionType,t)}},{key:"_transitionDestination",value:function(e){p.default.directTo(H[e])}},{key:"_showPopSort",value:function(){var e=this;if(this._state!==G.busy){this._state=G.busy;var t=E.default.new();x.default.new({title:O.default.t("mission.popSort"),container:t,buttons:[{type:"submit",image:"decision_button.png"}],height:200,isCenter:!0}).addTo(this).on("submit",function(){e._state=G.ready,e._createMain(L.NORMAL,t.getSortType())}).open()}}}],[{key:"request",value:function(){return Promise.all([T.default.getList()]).then(function(e){return{missions:e[0]}})}},{key:"getContentResources",value:function(e){var t=[];return Object.values(e.missions).forEach(function(e){Object.values(e).forEach(function(e){e.mission.missionRewards.forEach(function(e){["jewel","money","title","game_event_point"].includes(e.contentType)||t.push(e.getIconImagePath())})})}),u.default.uniq(t)}},{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(B.default.bgm.home)]}},{key:"uiResources",get:function(){return M.default}}]),t}(y.default);t.default=z},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgMission",fullName:"bgMission",type:"sprite",key:"bg_mission.jpg",x:0,y:0},{name:"tab",fullName:"tab",type:"container",x:0,y:0},{name:"main",fullName:"main",type:"container",x:209,y:80},{name:"mainSort",fullName:"mainSort",type:"container",x:209,y:80}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1314),u=r(l),c=n(1),f=r(c),d=n(1315),p=r(d),h=["daily","weekly","normal","special","event","previousEvent"],y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._tabs={};var r=n.fromData(u.default);return h.forEach(function(t){var i=e[t+"UserMissions"];if(i&&0!==i.length){var a=i.filter(function(e){return e.status===f.default.app.MISSION_STATUS.CLEARED}),o=Object.keys(n._tabs).length;n._tabs[t]=p.default.new(t,i.remainingTimeText,a.length).addTo(r.tabButton,0,76*o),n._tabs[t].on("tapTabButton",function(){n.emit("tapTabButton",t)})}}),n}return o(t,e),s(t,[{key:"changeTabs",value:function(e){var t=this;Object.keys(this._tabs).forEach(function(n){var r=e===n?"on":"off";t._tabs[n].updateButtonImage(r)})}},{key:"updateBadge",value:function(e,t){this._tabs[e].updateBadgeNum(t)}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"tabBase",fullName:"tabBase",type:"sprite",key:"tab_base.png",x:0,y:0},{name:"tabButton",fullName:"tabButton",type:"container",x:16,y:74}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1316),u=r(l),c=n(0),f=r(c),d=n(167),p=r(d),h={daily:{on:"daily_button_on.png",off:"daily_button_off.png",remainingTextVisible:!0},weekly:{on:"weekly_button_on.png",off:"weekly_button_off.png",remainingTextVisible:!0},normal:{on:"normal_button_on.png",off:"normal_button_off.png",remainingTextVisible:!1},special:{on:"special_button_on.png",off:"special_button_off.png",remainingTextVisible:!1},event:{on:"event_button_on.png",off:"event_button_off.png",remainingTextVisible:!0},previousEvent:{on:"previous_event_button_on.png",off:"previous_event_button_off.png",remainingTextVisible:!1}},y=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._type=e,o._tab=h[e];var s=o.fromData(u.default,{tabButton:{class:f.default.SelectButton,
key:o._tab.off},remainingTime:{visible:o._tab.remainingTextVisible},"remainingTime/remainingText":{text:n},badge:p.default.new()});return o._badge=s.badge,o._badge.setNum(r),o._button=s.tabButton,o._button.on("tap",function(){o.emit("tapTabButton")}),o}return o(t,e),s(t,[{key:"updateButtonImage",value:function(e){this._button.texture=aoba.Texture.fromImage(this._tab[e])}},{key:"updateBadgeNum",value:function(e){this._badge.setNum(e)}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"tabButton",fullName:"tabButton",anchor:{x:.5,y:.5},type:"sprite",key:"daily_button_on.png",x:74,y:36},{children:[{name:"remainingText",fullName:"remainingTime/remainingText",anchor:{x:.5,y:.5},type:"text",text:"\u3042\u306823\u6642\u959350\u5206",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:69,y:10}],name:"remainingBase",fullName:"remainingTime",type:"sprite",key:"remaining_base.png",x:6,y:38},{name:"badge",fullName:"badge",visible:!1,type:"container",x:126,y:0}],name:"",fullName:"",type:"container",x:16,y:74}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1318),f=r(c),d=n(1320),p=r(d),h=n(1321),y=r(h),m=n(7),_=r(m),g=n(3),b=r(g),v=n(22),w=r(v),k=n(24),S=r(k),I=n(1),E=r(I),A={ALL:"all",UNACHIEVED:"unachieved",ACHIEVED:"achieved"},x={NORMAL:{mask:437,scrollBar:414},OTHER:{mask:512,scrollBar:490}},C=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=E.default.app.MISSION_TYPES,l=E.default.app.MISSION_STATUS,c=n===s.NORMAL?y.default:p.default,f=o.fromData(c);e.sort(function(e,t){return e.mission.sort-t.mission.sort}),o._progressMissions=[],o._clearedMissions=[],o._receivedMissions=[],e.forEach(function(e){e.status===l.CLEARED?o._clearedMissions.push(e):e.status===l.PROGRESS?o._progressMissions.push(e):o._receivedMissions.push(e)}),f["missionCount/missionCountText"].text=b.default.t("mission.missionCountMessage",{clearedMissionLen:o._clearedMissions.length+o._receivedMissions.length,missionLen:e.length}),o._list=f["listBase/list"],o._missions=e;var d=o._concatMissions(r);o._createMissions(d,n);var h=void 0;n===s.NORMAL?(f["sort/sortButton"].texture=aoba.Texture.fromImage("sort_"+r+"_button.png"),f["sort/sortButton"].interactive=!0,f["sort/sortButton"].on("tap",function(){aoba.soundManager.playSE(_.default.ui.decide),o.emit("tapSortButton")}),h=x.NORMAL):h=x.OTHER;var m=f.scrollBar,g=u.default.commonUiHelper.createScrollBarBase({width:8,height:h.scrollBar});return w.default.new({width:870,height:h.mask,container:o._list,scrollBar:S.default.new({width:18}),scrollBarBase:g}).addTo(f.listBase,o._list.x,0),g.addTo(m,0,0),o}return o(t,e),s(t,[{key:"_concatMissions",value:function(e){switch(e){case A.UNACHIEVED:return this._progressMissions;case A.ACHIEVED:return this._clearedMissions.concat(this._receivedMissions);case A.ALL:default:return this._clearedMissions.concat(this._progressMissions,this._receivedMissions)}}},{key:"_createMissions",value:function(e,t){var n=this;e.forEach(function(e,r){var i=f.default.new(e,n._missions.remainingTimeText,t).addTo(n._list,0,123*r);["tapReceiveButton","tapMissionDetailButton"].forEach(function(e){i.on(e,function(t){n.emit(e,t)})})})}}]),t}(aoba.Container);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1319),u=r(l),c=n(134),f=r(c),d=n(7),p=r(d),h=n(3),y=r(h),m=n(1),_=r(m),g=_.default.app.MISSION_TYPES,b=_.default.app.MISSION_STATUS,v=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._mission=e,o._remainingTimeText=n,o._missionType=r;var s=e.mission.missionRewards;return o._objs=o.fromData(u.default,{reward:f.default.new(s[0],{isLabelVisible:!0}),mission:{text:e.mission.comment},gaugeMission:aoba.Gauge.new("gauge_mission.png",{value:e.progress,maxValue:e.progressMax}),gaugeNumber:{text:y.default.t("mission.gaugeNumberMessage",{progress:e.progress,progressMax:e.progressMax})},baseDeadline:{key:"previousEvent"===r?"base_reward_deadline.png":"base_mission_deadline.png"},remainingTime:{text:n}}),o._missionType===g.SPECIAL&&(o._objs.baseMission.texture=aoba.Texture.fromImage("base_mission_sp.png")),o._setButtonOrStamp(e.status),o}return o(t,e),s(t,[{key:"changeIcon",value:function(){var e=this._objs.buttonOrStamp;e.removeChildren(),e.texture=aoba.Texture.fromImage("icon_stamp.png"),e.setScale=1.5,e.hide(),aoba.Tween.new(e).wait(200).call(function(){aoba.soundManager.playSE(p.default.ui.stamp),e.show()}).to({scaleX:1.2,scaleY:1.2,alpha:1},400).call(function(){aoba.FrameAnimation.new("effect_stamp_stars.png",80,72).addTo(e,0,0,{anchor:.5,scale:2.75}).play()}).to({scaleX:1,scaleY:1},200,"easeOutElastic")}},{key:"_setButtonOrStamp",value:function(e){var t=this,n=this._objs.buttonOrStamp;if(e===b.RECEIVED)n.texture=aoba.Texture.fromImage("icon_stamp.png");else{var r={selectedMission:this._mission},i=void 0,a=void 0;if(e===b.CLEARED)i="receive_button.png",a="tapReceiveButton",r.missionObject=this;else{i="detail_button.png",a="tapMissionDetailButton";var o=this._mission.mission.comment;r.remainingText=this._remainingTimeText,r.missionText=o,r.missionType=this._missionType}n=aoba.Button.fromFrame(i).addTo(n,0,0,{anchor:.5}),n.on("tap",function(){aoba.soundManager.playSE(p.default.ui.decide),t.emit(a,r)})}}}]),t}(aoba.Sprite);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"baseMission",fullName:"baseMission",type:"sprite",key:"base_mission.png",x:0,y:0},{name:"reward",fullName:"reward",type:"container",x:7,y:7},{name:"mission",fullName:"mission",anchor:{x:0,y:.5},type:"text",text:"\u4e00\u884c\u3067\u7d42\u308f\u308b\u5834\u5408\u306f\u4e2d\u592e\u306b\u914d\u7f6e\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20,wordWrap:!0,wordWrapWidth:560,breakWords:!0},rotation:0,x:113,y:37},{name:"buttonOrStamp",fullName:"buttonOrStamp",anchor:{x:.5,y:.5},type:"sprite",key:"detail_button.png",x:755,y:56
},{name:"gaugeMissionBase",fullName:"gaugeMissionBase",type:"sprite",key:"gauge_mission_base.png",x:199,y:77},{name:"gaugeMission",fullName:"gaugeMission",type:"sprite",key:"gauge_mission.png",x:200,y:78},{name:"gaugeNumber",fullName:"gaugeNumber",anchor:{x:.5,y:.5},type:"text",text:"1/1",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:319,y:92},{name:"baseAchievement",fullName:"baseAchievement",type:"sprite",key:"base_achievement.png",x:118,y:77},{name:"baseDeadline",fullName:"baseDeadline",type:"sprite",key:"base_deadline.png",x:463,y:77},{name:"remainingTime",fullName:"remainingTime",type:"text",text:"\u3042\u306831\u65e524\u6642\u9593",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:545,y:92}],name:"",fullName:"",type:"container",x:229,y:170}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"baseMain",fullName:"baseMain",type:"sprite",key:"base_main.png",x:0,y:0},{name:"scrollBar",fullName:"scrollBar",type:"container",x:892,y:17},{children:[{children:[{name:"itemList",fullName:"listBase/list/itemList",type:"container",x:1,y:0}],name:"list",fullName:"listBase/list",type:"container",x:4,y:0}],name:"listBase",fullName:"listBase",type:"container",x:15,y:16},{children:[{name:"baseMissionCount",fullName:"missionCount/baseMissionCount",type:"sprite",key:"base_mission_count.png",x:0,y:0},{name:"missionCountText",fullName:"missionCount/missionCountText",type:"text",text:"0/0",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:1,y:.5},rotation:0,x:237,y:26}],name:"missionCount",fullName:"missionCount",type:"container",x:668,y:500}],name:"",fullName:"",type:"container",x:209,y:80}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"baseMain",fullName:"baseMain",type:"sprite",key:"base_main.png",x:0,y:0},{name:"mainSortLine",fullName:"mainSortLine",type:"sprite",key:"main_sort_line.png",x:18,y:69},{name:"scrollBar",fullName:"scrollBar",type:"container",x:892,y:91},{children:[{name:"sortButton",fullName:"sort/sortButton",anchor:{x:.5,y:.5},type:"sprite",key:"sort_all_button.png",x:74,y:19}],name:"sort",fullName:"sort",type:"container",x:746,y:16},{children:[{name:"list",fullName:"listBase/list",type:"container",x:4,y:0}],name:"listBase",fullName:"listBase",type:"container",x:15,y:90},{children:[{name:"baseMissionCount",fullName:"missionCount/baseMissionCount",type:"sprite",key:"base_mission_count.png",x:0,y:0},{name:"missionCountText",fullName:"missionCount/missionCountText",type:"text",text:"0/0",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:1,y:.5},rotation:0,x:237,y:26}],name:"missionCount",fullName:"missionCount",type:"container",x:668,y:500}],name:"",fullName:"",type:"container",x:196,y:80}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1323),f=r(c),d=n(1324),p=r(d),h=n(252),y=r(h),m=n(22),_=r(m),g=n(24),b=r(g),v=n(3),w=r(v),k={enhancement:"to_training_button.png",evolve:"to_special_training_button.png",fes:"to_fes_button.png",gasha:"to_gasha_button.png",produce:"to_produce_button.png"},S=107,I=function(e){function t(e,n,r,o){i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),l=n.mission.missionRewards,c=l.length>1?p.default:f.default,d=s.fromData(c,{comment:{text:o},gaugeMission:aoba.Gauge.new("gauge_mission.png",{value:n.progress,maxValue:n.progressMax}),gaugeNumber:{text:w.default.t("mission.gaugeNumberMessage",{progress:n.progress,progressMax:n.progressMax})},baseDeadline:{key:"base_mission_deadline.png"},remainingTime:{text:"previousEvent"===e?w.default.t("mission.expiredMission"):r}}),h=d["listBase/list"],m=d.listBase,g=c===f.default?0:h.y;if(l.forEach(function(e,t){y.default.new(e).addTo(h,0,S*t+g)}),c===f.default)return a(s);aoba.Graphics.new().beginFill(0).drawRect(0,0,0,S*l.length+30).addTo(h,0,0,{alpha:0});var v=d.scrollBar,k=u.default.commonUiHelper.createScrollBarBase({width:8,height:247});return _.default.new({width:440,height:258,container:h,scrollBar:b.default.new({width:18}),scrollBarBase:k}).addToAt(s,d.baseCompensation,m.x,m.y),k.addTo(v,0,0),s}return o(t,e),s(t,[{key:"setButtons",value:function(e){return"none"===e?[{type:"close",image:"cancel_button.png"}]:[{type:"close",image:"cancel_button.png"},{type:"submit",image:k[e]}]}}]),t}(aoba.Container);t.default=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"comment",fullName:"comment",anchor:{x:0,y:0},type:"text",text:"\u300c\u653e\u8ab2\u5f8c\u30af\u30e9\u30a4\u30de\u30c3\u30af\u30b9\u30ac\u30fc\u30eb\u30ba\u300d\u306e\u30e1\u30f3\u30d0\u30fc\u3092\r\u5168\u54e1\u5165\u308c\u3066\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3092\u958b\u59cb\u3057\u3088\u3046",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:351,breakWords:!0},rotation:0,x:-136,y:4},{name:"baseDetail",fullName:"baseDetail",type:"sprite",key:"base_detail.png",x:-227,y:0},{name:"gaugeMissionBase",fullName:"gaugeMissionBase",type:"sprite",key:"gauge_mission_base.png",x:-136,y:53},{name:"gaugeMission",fullName:"gaugeMission",type:"sprite",key:"gauge_mission.png",x:-135,y:54},{name:"gaugeNumber",fullName:"gaugeNumber",anchor:{x:.5,y:.5},type:"text",text:"1/1",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:-16,y:66},{name:"baseAchievement",fullName:"baseAchievement",type:"sprite",key:"base_achievement.png",x:-227,y:53},{name:"baseDeadline",fullName:"baseDeadline",type:"sprite",key:"base_deadline.png",x:-227,y:94},{name:"remainingTime",fullName:"remainingTime",type:"text",text:"\u3042\u306831\u65e524\u6642\u9593",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-136,y:106},{children:[{name:"list",fullName:"listBase/list",type:"container",x:18,y:31}],name:"innerBase",fullName:"listBase",type:"sprite",key:"pop_inner_base.png",x:-229,y:144},{name:"baseCompensation",fullName:"baseCompensation",type:"sprite",key:"base_compensation.png",x:-227,y:133}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:148}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"comment",fullName:"comment",anchor:{x:0,y:0},type:"text",text:"\u300c\u653e\u8ab2\u5f8c\u30af\u30e9\u30a4\u30de\u30c3\u30af\u30b9\u30ac\u30fc\u30eb\u30ba\u300d\u306e\u30e1\u30f3\u30d0\u30fc\u3092\r\u5168\u54e1\u5165\u308c\u3066\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3092\u958b\u59cb\u3057\u3088\u3046",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:351,breakWords:!0},rotation:0,x:-136,y:4},{name:"baseDetail",fullName:"baseDetail",type:"sprite",key:"base_detail.png",x:-227,y:0},{name:"gaugeMissionBase",fullName:"gaugeMissionBase",type:"sprite",key:"gauge_mission_base.png",x:-136,y:53},{name:"gaugeMission",fullName:"gaugeMission",type:"sprite",key:"gauge_mission.png",x:-135,y:54},{name:"gaugeNumber",fullName:"gaugeNumber",anchor:{
x:.5,y:.5},type:"text",text:"1/1",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:-16,y:66},{name:"baseAchievement",fullName:"baseAchievement",type:"sprite",key:"base_achievement.png",x:-227,y:53},{name:"baseDeadline",fullName:"baseDeadline",type:"sprite",key:"base_deadline.png",x:-227,y:94},{name:"remainingTime",fullName:"remainingTime",type:"text",text:"\u3042\u306831\u65e524\u6642\u9593",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-136,y:106},{children:[{name:"list",fullName:"listBase/list",type:"container",x:18,y:31}],name:"innerBaseL",fullName:"listBase",type:"sprite",key:"pop_inner_base_l.png",x:-229,y:144},{name:"scrollBar",fullName:"scrollBar",type:"container",x:211,y:150},{name:"baseCompensation",fullName:"baseCompensation",type:"sprite",key:"base_compensation.png",x:-228,y:133}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:105}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1326),f=r(c),d=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{allButton:{class:u.default.DecideButton},unachievedButton:{class:u.default.DecideButton},achievedButton:{class:u.default.DecideButton}});return e._buttons=e.children,Object.values(e._buttons).forEach(function(t){t.selected=!1,t.on("tap",function(){e._changeButton(t)})}),n.allButton.selected=!0,e}return o(t,e),s(t,[{key:"getSortType",value:function(){return Object.values(this._buttons).find(function(e){return!0===e.selected}).name.slice(0,-6)}},{key:"_changeButton",value:function(e){Object.values(this._buttons).forEach(function(t){var n=t.name.slice(0,-6),r=void 0;t===e?(r=n+"_button_on.png",t.selected=!0):(r=n+"_button_off.png",t.selected=!1),t.texture=aoba.Texture.fromImage(r)})}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"allButton",fullName:"allButton",anchor:{x:.5,y:.5},type:"sprite",key:"all_button_on.png",x:-161,y:0},{name:"unachievedButton",fullName:"unachievedButton",anchor:{x:.5,y:.5},type:"sprite",key:"unachieved_button_off.png",x:0,y:0},{name:"achievedButton",fullName:"achievedButton",anchor:{x:.5,y:.5},type:"sprite",key:"achieved_button_off.png",x:162,y:0}],name:"",fullName:"",pivot:{x:.5,y:0},anchor:{x:0,y:.5},type:"container",x:568,y:315}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/mission/parts.json",{name:"effect_stamp_stars.png",url:"images/ui/login_bonus/effect_stamp_stars.png"}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(5),f=r(c),d=n(1329),p=r(d),h=n(99),y=r(h),m=n(249),_=r(m),g=n(1330),b=r(g),v=n(21),w=r(v),k=n(22),S=r(k),I=n(24),E=r(I),A=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=y.default.new().addTo(n);n._userMissions=e.userMissions,n._produceData=e.produceData;var o=n.fromData(p.default,{popBaseL:{key:"pop_base_m2.png"},btnOk:u.default.DecideButton.new("ok_button.png"),btnToMission:{class:u.default.DecideButton}}),s=o.btnOk,l=o.btnToMission;n._completedMissions=o["in/completedMissions"];var c=u.default.commonUiHelper.createScrollBarBase({width:6,height:222}).addTo(n,789,218);return S.default.new({width:435,height:220,container:n._completedMissions,scrollBar:E.default.new({width:6}),scrollBarBase:c}).addTo(n,331,218),l.on("tap",function(){n._reportFinish(),n._goToMission(),aoba.sceneManager.popScene()}),s.on("tap",function(){r.hideSpotLightCallback(function(){n._reportFinish(),aoba.sceneManager.popScene()})}),n._showCompletedMissions(),n}return o(t,e),s(t,[{key:"_goToMission",value:function(){w.default.loadSceneAsync("mission",{additive:!0,asset:!0,showLoading:!1,sceneParams:{produceData:this._produceData}})}},{key:"_reportFinish",value:function(){var e=[];this._userMissions.forEach(function(t){e.push(t.id)}),_.default.reportFinish({userMissionIds:e})}},{key:"_showCompletedMissions",value:function(){var e=this;this._userMissions.forEach(function(t,n){b.default.new(t).addTo(e._completedMissions,0,61*n)})}}]),t}(f.default);t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"popBaseL",fullName:"popBaseL",type:"sprite",key:"pop_base_l.png",x:307,y:62},{name:"title",fullName:"title",type:"text",text:"\u30df\u30c3\u30b7\u30e7\u30f3\u9054\u6210",style:{fill:5329761,fontFamily:"HummingStd-E",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:357,y:99},{name:"description",fullName:"description",type:"text",text:"\u4ee5\u4e0b\u306e\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u9054\u6210\u3057\u307e\u3057\u305f\u3002\r\u30df\u30c3\u30b7\u30e7\u30f3\u30da\u30fc\u30b8\u3067\u4ee5\u4e0b\u306e\u5831\u916c\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u3087\u3046\u3002",style:{fill:5329761,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:342,y:165},{children:[{name:"produceInnerBase",fullName:"in/produceInnerBase",type:"sprite",key:"produce_inner_base.png",x:0,y:0},{name:"completedMissions",fullName:"in/completedMissions",type:"container",x:13,y:25}],name:"in",fullName:"in",type:"container",x:328,y:203},{name:"btnToMission",fullName:"btnToMission",anchor:{x:.5,y:.5},type:"sprite",key:"btn_to_mission.png",x:660,y:516},{name:"btnOk",fullName:"btnOk",type:"container",x:476,y:517}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0})
;var s=n(1331),l=r(s),u=n(3),c=r(u),f=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.mission.title,o=n.fromData(l.default,{missionText:{text:c.default.t("mission.completedMissionMessage",{title:r})}}),s=o.missionText;return s.style.wordWrap=!0,s.style.wordWrapWidth=400,s.style.breakWords=!0,n}return o(t,e),t}(aoba.Sprite);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"missionText",fullName:"missionText",type:"text",text:"\u3010\u30c7\u30a4\u30ea\u30fc\u3011\u899a\u9192\u306e\u8a13\u7df4\u5834\u30921\u56de\u30af\u30ea\u30a2\u3057\u3088\u3046",style:{fill:5329761,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:9,y:23},{name:"dotLine",fullName:"dotLine",type:"sprite",key:"dot_line.png",x:1,y:49}],name:"",fullName:"",type:"container",x:341,y:228}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(12),l=r(s),u=n(3),c=r(u),f=n(5),d=r(f),p=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));aoba.Text.new(c.default.t("error.pageNotFound"),{fill:16777215,fontSize:24,fontFamily:"UDKakugo_SmallPr6-M"}).addTo(e,0,0);var n=aoba.Graphics.new().beginFill(6710886).drawRoundedRect(0,0,120,60,10).addTo(e,40,540,{interactive:!0}).once("tap",function(){l.default.directTo("/"),e.destroy({children:!0})});return aoba.Text.new("TOP",{fill:16777215,fontSize:32}).addTo(n,n.width/2,n.height/2,{anchor:.5}),e}return o(t,e),t}(d.default);t.default=p},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(31),u=r(l),c=n(3),f=r(c),d=n(0),p=r(d),h=n(5),y=r(h),m=n(1334),_=r(m),g=n(1335),b=r(g),v=n(1340),w=r(v),k=n(244),S=r(k),I=n(99),E=r(I),A=n(408),x=r(A),C=n(32),T=r(C),P=n(356),O=r(P),N=n(67),M=r(N),R=n(42),D=r(R),F={UPDATE:"update",EVENT:"event",PROBLEM:"problem"},B={};B[F.UPDATE]=["update","event","gasha","campaign","maintenance"],B[F.EVENT]=["event","gasha","campaign"],B[F.PROBLEM]=["problem","maintenance"];var j=function(t){function n(){i(this,n);var e=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));e._announceType="update",e._offset=-1;var t=E.default.new().addTo(e),r=e.fromData(_.default,{inquiryButton:{class:p.default.DecideButton},"bg/bg":p.default.MovingBg.new(),tab:w.default.new(Object.values(F)),main:b.default.new()});return p.default.CommonPartsLayer.create({headerTitle:f.default.t("header.notice"),onTapBackButton:function(){e.emit("close"),t.hideSpotLightCallback(function(){aoba.sceneManager.popScene()})}}).addTo(e),r.inquiryButton.on("tap",function(){D.default.PF_URI&&M.default.ui.showInquiryDialog()}),e._popLayer=aoba.Container.new().addTo(e),e._tab=r.tab,e._main=r.main,e._tab.on("getAnnounces",e._getAnnounces,e),e._main.on("showAnnounceDetail",e._showAnnounceDetail,e),e._main.on("showMoreAnnounce",e._getAnnounces,e),e._getAnnounces(e._announceType,0),localStorage.setItem("TimeOfLastNotification",Date.now()),e}return o(n,t),s(n,[{key:"_getAnnounces",value:function(e,t){var r=this;if(!(this._announceType===e&&this._offset>=t)){var i=B[e];x.default.getList({filter:i,limit:10,offset:t}).then(function(i){r._announceType=e,r._offset=t,(0,T.default)(n.getContentResources(i.announceList)).then(function(){r._main.showAnnounces(i,e),r._tab.emit("setBtn",e)})})}}},{key:"_showAnnounceDetail",value:function(e,t){S.default.new(e,t).addTo(this._popLayer)}}],[{key:"getContentResources",value:function(t){var n=[];return t.forEach(function(e){e.image&&(n.push({name:u.default.join(e.image,"listBanner"),url:u.default.join(e.image,"listBanner.png")}),e.isPickup&&n.push({name:u.default.join(e.image,"pickupBanner"),url:u.default.join(e.image,"pickupBanner.png")}))}),e.uniq(n)}},{key:"uiResources",get:function(){return O.default}}]),n}(y.default);t.default=j}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"bg",fullName:"bg/bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"tabBase",fullName:"bg/tabBase",type:"sprite",key:"tab_base.png",x:0,y:0}],name:"bg",fullName:"bg",type:"container",x:0,y:0},{name:"tab",fullName:"tab",type:"container",x:16,y:71},{name:"main",fullName:"main",type:"container",x:209,y:80},{name:"inquiryButton",fullName:"inquiryButton",anchor:{x:.5,y:.5},type:"sprite",key:"inquiry_button.png",x:968,y:41}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1336),u=r(l),c=n(24),f=r(c),d=n(22),p=r(d),h=n(1337),y=r(h),m=n(1339),_=r(m),g=n(180),b=r(g),v=n(0),w=r(v),k={x:12,y:19,width:860,height:502},S=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(u.default),r=n.scroll;return e._scrollBarBase=w.default.commonUiHelper.createScrollBarBase({width:8,height:513}).addTo(r),e._scrollBar=f.default.new({width:16}),e._list=aoba.Container.new(),e._count=0,e._announceType="",e}return o(t,e),s(t,[{key:"showAnnounces",value:function(e,t){var n=this;if(this._list.removeChildren(),e){var r=0;if(b.default.TypeChecker.isUpdate(t)){var i=e.announceList.filter(function(e){return!!e.isPickup});i.length>0&&(i.sort(function(e,t){return t.priority===e.priority?t.openAt-e.openAt:t.priority-e.priority}),_.default.new(i[0]).setPosition(424,80).on("tapAnnounce",this._showAnnounceDetail,this).addTo(this._list),r=168)}e.announceList.forEach(function(e){var t=y.default.new(e).setPosition(0,r).on("tapAnnounce",n._showAnnounceDetail,n).addTo(n._list);r+=8+(t.isSmallBase()?92:112)}),
this._announceType!==t&&(this._count=0,this._announceType=t),this._count+=e.announceList.length,e.allAnnouncesCount-this._count>0&&(this._showMoreButton=aoba.Button.new("notice_btn_more.png").addTo(this._list,0,0,{anchor:.5}).on("tap",function(){n.emit("showMoreAnnounce",n._announceType,n._count)}),this._showMoreButton.x=424,this._showMoreButton.y=r+40),this._scrollRect&&this._scrollRect.destroy({children:!1}),this._scrollRect=this._createScrollRect(),this._list.height=r}}},{key:"_showAnnounceDetail",value:function(e,t){this.emit("showAnnounceDetail",e,t)}},{key:"_createScrollRect",value:function(){return p.default.new({width:k.width,height:k.height,container:this._list,scrollBar:this._scrollBar,scrollBarBase:this._scrollBarBase}).addTo(this,k.x,k.y)}}]),t}(aoba.Container);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"mainBase",fullName:"mainBase",type:"sprite",key:"main_base.png",x:0,y:0},{name:"scroll",fullName:"scroll",type:"container",x:887,y:16},{name:"list",fullName:"list",type:"container",x:12,y:19}],name:"",fullName:"",type:"container",x:209,y:80}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(56),u=r(l),c=n(1338),f=r(c),d=n(7),p=r(d),h=n(180),y=r(h),m=570,_=780,g=50,b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=y.default.Types.get()[e.announceType],o=n.fromData(f.default,{typeText:{text:r},newBadge:{visible:!1},bannerEvent:{key:e.image?aoba.loader.resources[e.image+"/listBanner"].texture:null},text:{text:e.title},limitDate:e.openAt?{text:(0,u.default)(1e3*e.openAt,"yyyy/mm/dd HH:MM")}:{visible:!1}});return n._banner=o.banner,n._text=o.text,n._text.style._wordWrap=!0,n._text.style._breakWords=!0,n._text.style._wordWrapWidth=e.image?m:_,n._text.visible=null!==e.title,!e.image&&n._text.height<g?(n._isSmallBase=!0,o.listBase.texture=aoba.Texture.fromImage("list_s_base.png")):n._isSmallBase=!1,n.interactive=!0,n.on("tap",function(){aoba.soundManager.playSE(p.default.ui.decide),n.emit("tapAnnounce",e,r)}),n}return o(t,e),s(t,[{key:"isSmallBase",value:function(){return this._isSmallBase}}]),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"listBase",fullName:"listBase",type:"sprite",key:"list_l_base.png",x:0,y:0},{name:"typeText",fullName:"typeText",type:"text",text:"\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:33,y:18},{name:"newBadge",fullName:"newBadge",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_badge_new.png",x:395,y:15},{name:"text",fullName:"text",anchor:{x:0,y:0},type:"text",text:"\u30ea\u30ea\u30fc\u30b9\u8a18\u5ff5\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u958b\u50ac\u306b\u3064\u3044\u3066\u3002\u6700\u592728\u6587\u5b57\u5165\u308a\u307e\u3059",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:19,y:46},{name:"bannerEvent",fullName:"bannerEvent",type:"sprite",key:"banner_event.png",x:595,y:11},{name:"limitDate",fullName:"limitDate",type:"text",text:"2018/02/26 14:50",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:179,y:17}],name:"",fullName:"",type:"container",x:229,y:492}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),l=r(s),u=n(180),c=r(u),f=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return aoba.Sprite.new(e.image+"/pickupBanner").setAnchor(.5,.5).addTo(n),n.interactive=!0,n.on("tap",function(){aoba.soundManager.playSE(l.default.ui.decide),n.emit("tapAnnounce",e,c.default.Types.get()[e.announceType])}),n}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1341),c=r(u),f=function(e){return""+e[0].toUpperCase()+e.substring(1)},d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(c.default,{btnUpdate:{class:l.default.SelectButton},btnEvent:{class:l.default.SelectButton},btnProblem:{class:l.default.SelectButton}});return e.forEach(function(e){r["btn"+f(e)].on("tap",function(){n.emit("getAnnounces",e,0)})}),n.on("setBtn",function(t){e.forEach(function(e){var n=t===e?"btn_"+e+"_on.png":"btn_"+e+"_off.png";r["btn"+f(e)].texture=aoba.Texture.fromImage(n.toLowerCase())})}),n}return o(t,e),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"btnUpdate",fullName:"btnUpdate",anchor:{x:.5,y:.5},type:"sprite",key:"btn_update_on.png",x:74,y:35},{name:"btnEvent",fullName:"btnEvent",anchor:{x:.5,y:.5},type:"sprite",key:"btn_event_off.png",x:74,y:128},{name:"btnProblem",fullName:"btnProblem",anchor:{x:.5,y:.5},type:"sprite",key:"btn_problem_off.png",x:74,y:222}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),
!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(12),d=r(f),p=n(0),h=r(p),y=n(5),m=r(y),_=n(1343),g=r(_),b=n(1344),v=r(b),w=n(1349),k=r(w),S=n(3),I=r(S),E=n(106),A=r(E),x=n(278),C=r(x),T=n(1350),P=r(T),O=n(1351),N=r(O),M=n(1352),R=r(M),D=n(1353),F=r(D),B=n(14),j=r(B),L=n(32),U=r(L),H=n(1354),G=r(H),z={present:.85,history:1},V=function(e){function t(e){var n=e.presents,r=e.history;i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=o.fromData(g.default,{"bg/bg":h.default.MovingBg.new(),"tab/unreceivedButton":{class:h.default.SelectButton},"tab/receivedButton":{class:h.default.SelectButton}}),l=s["tab/unreceivedButton"],u=s["tab/receivedButton"];return o._objPresent=s.mainUnreceived,o._objHistory=s.mainReceived,o._baseMain=s.baseMain,o._messageContainer=aoba.Container.new().addTo(o),o._makeMain(n,r),o._showPresents(),o._baseMain.scaleY=z.present,o.addHeader(I.default.t("present.headerTitle")),o.addBackButton(function(){d.default.directTo("/home")}),o.addGlobalMenuButton(),o._setEvents(l,u),o}return o(t,e),l(t,[{key:"_setEvents",value:function(e,t){var n=this;t.on("tap",function(){n._baseMain.scaleY=z.history,t.texture=aoba.Texture.fromImage("received_button_on.png"),e.texture=aoba.Texture.fromImage("unreceived_button_off.png"),n._showHistory()}),e.on("tap",function(){n._baseMain.scaleY=z.present,t.texture=aoba.Texture.fromImage("received_button_off.png"),e.texture=aoba.Texture.fromImage("unreceived_button_on.png"),n._showPresents()})}},{key:"_makeMain",value:function(e,t){this._presentMain&&this._presentMain.destroy({children:!0}),this._historyMain&&this._historyMain.destroy({children:!0}),this._noPresentMessage=0===e.allPresentsCount?this._makeNoPresentMessage("present"):null,this._noHistoryMessage=0===t.allPresentsCount?this._makeNoPresentMessage("history"):null,this._presentMain=v.default.new(e,!1).on("tapAllReceiveButton",this._showConfirmPop,this).on("tapReceiveButton",this._receivePresent,this).on("tapShowMorePresentsButton",this._showMorePresents,this),this._historyMain=v.default.new(t,!0).on("tapShowMoreHistoryButton",this._showMoreHistory,this)}},{key:"_makeNoPresentMessage",value:function(e){return aoba.Text.new(I.default.t("present.noPresent."+e),{fill:6378341,fontFamily:"HummingStd-E",fontSize:26}).addTo(this._messageContainer,this._baseMain.x+this._baseMain.width/2,this._baseMain.y+this._baseMain.height*z[e]/2,{anchor:.5,visible:!1})}},{key:"_showPresents",value:function(){this._noPresentMessage&&this._noPresentMessage.show(),this._noHistoryMessage&&this._noHistoryMessage.hide(),this._objHistory.removeChildren(),this._presentMain.addTo(this._objPresent,0,0)}},{key:"_showMorePresents",value:function(e){var n=this;k.default.getList({limit:20,offset:e}).then(function(e){(0,U.default)(t.getResourceList({presents:e})).then(function(){n._presentMain.makePresents(e)})})}},{key:"_showHistory",value:function(){this._noPresentMessage&&this._noPresentMessage.hide(),this._noHistoryMessage&&this._noHistoryMessage.show(),this._objPresent.removeChildren(),this._historyMain.addTo(this._objHistory,0,0)}},{key:"_showMoreHistory",value:function(e){var n=this;k.default.getHistories({limit:20,offset:e}).then(function(e){(0,U.default)(t.getResourceList({history:e})).then(function(){n._historyMain.makePresents(e)})})}},{key:"_receivePresent",value:function(e){var t=this;this._presentMain.interactiveChildren=!1,k.default.receive(e.id).then(function(n){var r=n.isMaxed,i=n.receivedPresent;if(r)return void t._showAlertPop(I.default.t("present.receive.maxMessage"));var a=i.Num,o=i.Type,s=o===A.default.CONTENT_TYPE.MONEY||o===A.default.CONTENT_TYPE.JEWEL?I.default.t(o):i.Name,l=aoba.Container.new(),u=l.fromData(P.default,{message:I.default.t("present.receive.message"),presentIcon:{key:e.iconPath},itemNameNum:{text:I.default.t("present.receive.itemNameNum",{Name:s,Num:a})}});["idol","support_idol"].includes(i.Type)||u.presentIcon.scale.set(.65),j.default.new({title:I.default.t("present.receive.title"),container:l,buttons:[{type:"submit",image:"ok_button.png"}]}).addTo(t).on("submit",function(){t._updatePresents(),t._presentMain.interactiveChildren=!0}).open()})}},{key:"_updatePresents",value:function(){var e=this;t.request().then(function(t){var n=t.presents,r=t.history;e._makeMain(n,r),e._showPresents()})}},{key:"_showConfirmPop",value:function(){var e=this;j.default.new({title:I.default.t("present.receiveAllConfirm.title"),text:I.default.t("present.receiveAllConfirm.text"),type:"submit"}).addTo(this).on("submit",function(){e._receiveAllPresents()}).open()}},{key:"_receiveAllPresents",value:function(){var e=this;this._presentMain.interactiveChildren=!1,k.default.receiveAll().then(function(t){0===t.bundleReceivedPresents.length?e._showAlertPop(I.default.t("present.receiveAll.noPresentMessage")):e._showReceiveAllPop(t),e._presentMain.interactiveChildren=!0})}},{key:"_showAlertPop",value:function(e){var t=aoba.Container.new();t.fromData(F.default,{alertPresent:{text:e}}),j.default.new({title:I.default.t("present.receiveAll.title"),container:t,buttons:[{type:"submit",image:"ok_button.png"}],height:200,isCenter:!0}).addTo(this).open()}},{key:"_showReceiveAllPop",value:function(e){var t=this,n=e.isMaxed,r=e.bundleReceivedPresents,i=aoba.Container.new(),a=[];r.forEach(function(e){a.push({type:C.default.receiveAll.typeNames({type:e.Type}),num:e.Num})});var o=c.default.groupBy(a,"type"),s="";if(Object.keys(o).forEach(function(e){var t=0;o[e].forEach(function(e){t+=e.num}),s+=I.default.t("present.receiveAll.itemNameNum",{type:e,num:t})}),i.fromData(N.default,{message:{text:I.default.t("present.receiveAll.message")},"list/presentName":{text:s}})["list/presentName"].style.align="center",n){var l=aoba.Container.new();l.fromData(R.default,{alertPresent:{text:I.default.t("present.receiveAll.maxMessage")}}),l.addTo(i,0,i.height)}j.default.new({title:I.default.t("present.receiveAll.title"),container:i,buttons:[{type:"submit",image:"ok_button.png"}]}).addTo(this).on("submit",function(){t._updatePresents()}).open()}}],[{key:"request",value:function(){return Promise.all([k.default.getList({limit:100}),k.default.getHistories({limit:100})]).then(function(e){var t=s(e,2);return{presents:t[0],history:t[1]}})}},{key:"getContentResources",value:function(e){var t=[];return Object.values(e).forEach(function(e){e.presentList.forEach(function(e){["jewel","money"].includes(e.contentType)||t.push(e.iconPath)})}),c.default.uniq(t)}},{key:"uiResources",get:function(){return G.default}}]),t}(m.default);t.default=V},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"bg",fullName:"bg/bg",type:"sprite",key:"bg.jpg",x:0,y:0}],name:"bg",fullName:"bg",type:"container",x:0,y:0},{children:[{name:"tabBase",fullName:"tab/tabBase",type:"sprite",key:"tab_base.png",x:0,y:0},{name:"receivedButton",fullName:"tab/receivedButton",anchor:{x:.5,y:.5},type:"sprite",key:"received_button_off.png",x:90,y:208},{name:"unreceivedButton",fullName:"tab/unreceivedButton",anchor:{x:.5,y:.5},type:"sprite",key:"unreceived_button_on.png",x:90,y:115}],name:"tab",fullName:"tab",type:"container",x:0,y:0},{name:"baseMain",fullName:"baseMain",type:"sprite",key:"base_main.png",x:209,y:80},{name:"mainUnreceived",fullName:"mainUnreceived",type:"container",x:209,y:80},{name:"mainReceived",fullName:"mainReceived",type:"container",x:209,y:80}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}
function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1345),f=r(c),d=n(1346),p=r(d),h=n(3),y=r(h),m=n(278),_=r(m),g=n(22),b=r(g),v=n(24),w=r(v),k=n(1347),S=r(k),I={SMALL:406,LARGE:486},E={SMALL:428,LARGE:508},A=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._isHistory=n,r._count=0;var o=n?p.default:f.default,s=r.fromData(o,{btnAllReceive:u.default.DecideButton.new("all_receive_button.png"),"presentCount/countTitle":{text:_.default.main.count.title(n)},"presentCount/count":{text:e.allPresentsCount},"presentCount/unit":{text:y.default.t("present.main.count.unit")},"noticePresent/alertPresent":{text:y.default.t("present.main.notice")}});r._list=s.list;var l=s.scrollBase,c=s.btnAllReceive;c&&c.on("tap",function(){r.emit("tapAllReceiveButton")});var d=n?"LARGE":"SMALL",h=u.default.commonUiHelper.createScrollBarBase({width:8,height:I[d]});return b.default.new({width:885,height:E[d],container:r._list,scrollBar:w.default.new({width:18}),scrollBarBase:h}).addToAt(r,s.presentCount,0,l.y),h.addTo(l,0,0),0===e.allPresentsCount&&c&&(c.tint=8947848,c.interactive=!1),r.makePresents(e),r}return o(t,e),s(t,[{key:"makePresents",value:function(e){var t=this;if(this._moreButton&&this._moreButton.destroy({children:!0}),e.presentList.forEach(function(e,n){S.default.new(e,t._isHistory).on("tapReceiveButton",function(){t.emit("tapReceiveButton",e)}).addTo(t._list,0,123*(n+t._count))}),this._count+=e.presentList.length,!(e.allPresentsCount-this._count<=0)){var n=this._isHistory?"tapShowMoreHistoryButton":"tapShowMorePresentsButton";this._moreButton=aoba.Button.new("btn_more.png").addTo(this._list,0,0,{anchor:.5}).on("tap",function(){t.emit(n,t._count)}),this._moreButton.x=this._moreButton.width/2,this._moreButton.y=123*this._count+this._moreButton.height/2}}}]),t}(aoba.Container);t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"scrollBase",fullName:"scrollBase",type:"container",x:891,y:16},{children:[{name:"present",fullName:"list/present",type:"container",x:1,y:0}],name:"list",fullName:"list",type:"container",x:18,y:16},{children:[{name:"infoBase",fullName:"noticePresent/infoBase",type:"sprite",key:"info_base.png",x:0,y:0},{name:"iconNotice",fullName:"noticePresent/iconNotice",type:"sprite",key:"icon_notice.png",x:13,y:22},{name:"alertPresent",fullName:"noticePresent/alertPresent",type:"text",text:"\u671f\u9650\u304c\u5207\u308c\u305f\u30d7\u30ec\u30bc\u30f3\u30c8\u306f\u81ea\u52d5\u7684\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3002\r\u307e\u305f\u3001\u4e00\u5ea6\u306b\u53d7\u3051\u53d6\u308c\u308b\u30d7\u30ec\u30bc\u30f3\u30c8\u306f100\u4ef6\u307e\u3067\u3067\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:54,y:36}],name:"noticePresent",fullName:"noticePresent",type:"container",x:0,y:474},{children:[{name:"basePresentCount",fullName:"presentCount/basePresentCount",type:"sprite",key:"base_present_count.png",x:0,y:0},{name:"countTitle",fullName:"presentCount/countTitle",type:"text",text:"\u672a\u53d7\u53d6\u30d7\u30ec\u30bc\u30f3\u30c8",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:24,y:24},{name:"count",fullName:"presentCount/count",anchor:{x:1,y:.5},type:"text",text:"1000",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:212,y:24},{name:"unit",fullName:"presentCount/unit",type:"text",text:"\u4ef6",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:214,y:24}],name:"presentCount",fullName:"presentCount",type:"container",x:667,y:420},{name:"btnAllReceive",fullName:"btnAllReceive",anchor:{x:.5,y:.5},type:"sprite",key:"btn_all_receive.png",x:837,y:509}],name:"",fullName:"",type:"container",x:209,y:80}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"scrollBase",fullName:"scrollBase",type:"container",x:891,y:16},{name:"list",fullName:"list",type:"container",x:18,y:16},{children:[{name:"basePresentCount",fullName:"presentCount/basePresentCount",type:"sprite",key:"base_present_count.png",x:0,y:0},{name:"countTitle",fullName:"presentCount/countTitle",type:"text",text:"\u53d7\u53d6\u6e08\u30d7\u30ec\u30bc\u30f3\u30c8",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:24,y:24},{name:"count",fullName:"presentCount/count",anchor:{x:1,y:.5},type:"text",text:"1000",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:212,y:24},{name:"unit",fullName:"presentCount/unit",type:"text",text:"\u4ef6",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:214,y:24}],name:"presentCount",fullName:"presentCount",type:"container",x:668,y:500}],name:"",fullName:"",type:"container",x:209,y:80}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1348),c=r(u),f=n(278),d=r(f),p=n(3),h=r(p),y=n(134),m=r(y),_=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.name,s=e.num,u=e.contentType,f=e.note,p=e.expireAt,y=e.createdAt,_=e.acquiredAt,g=r.fromData(c.default,{"item/presentIcon":["idol","support_idol"].includes(u)?{key:e.iconPath}:m.default.new(e,{isLabelVisible:!0}),presentTitle:{text:h.default.t("present.present.title",{name:o,num:s})},presentDetail:{text:f},acquireDate:{text:n?d.default.present.createdTime(_):d.default.present.createdTime(y)},limitDate:{text:n?d.default.present.receivedTime(y):d.default.present.expireTime(p)},btnReceive:l.default.DecideButton.new("receive_button.png")}),b=g.btnReceive;return n?(g.baseLimitDate.texture=aoba.Texture.fromImage("base_received_date.png"),b.hide()):b.on("tap",function(){r.emit("tapReceiveButton",e)}),r}return o(t,e),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"basePresent",fullName:"basePresent",type:"sprite",key:"base_present.png",x:0,y:0},{name:"baseAcquireDate",fullName:"baseAcquireDate",type:"sprite",key:"base_acquire_date.png",x:123,y:85},{name:"baseLimitDate",fullName:"baseLimitDate",type:"sprite",key:"base_limit_date.png",x:400,y:85},{children:[{name:"presentIcon",fullName:"item/presentIcon",type:"sprite",key:"icon_jewel.png",x:0,y:0}],name:"item",fullName:"item",type:"container",x:14,y:10},{name:"presentTitle",fullName:"presentTitle",
type:"text",text:"\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb \xd7 2250",style:{fill:2067659,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:125,y:17},{name:"presentDetail",fullName:"presentDetail",type:"text",text:"\u30ea\u30ea\u30fc\u30b9\u8a18\u5ff5\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u30d7\u30ec\u30bc\u30f3\u30c8\u3067\u3059",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:125,y:50},{name:"acquireDate",fullName:"acquireDate",type:"text",text:"2018/02/20 14:50",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:210,y:98},{name:"limitDate",fullName:"limitDate",type:"text",text:"2018/02/26 14:50\u307e\u3067",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:486,y:98},{name:"btnReceive",fullName:"btnReceive",anchor:{x:.5,y:.5},type:"sprite",key:"btn_receive.png",x:772,y:58}],name:"",fullName:"",type:"container",x:228,y:96}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(409),s=r(o),l=n(9),u=r(l),c=n(76),f=r(c),d=n(113),p=r(d),h=n(96),y=r(h);t.default={getList:function(e){var t=s.default.stringify(e);return u.default.get("userPresents?"+t).then(this._getPresentsResponse)},getHistories:function(e){var t=s.default.stringify(e);return u.default.get("userPresentHistories?"+t).then(this._getPresentsResponse)},receive:function(e){return u.default.post("userPresents/"+e+"/actions/receive").then(function(e){var t=e.body;return Promise.resolve(t)})},receiveAll:function(){return u.default.post("userPresents/actions/receive").then(function(e){var t=e.body;return Promise.resolve(t)})},_getPresentsResponse:function(e){var t=e.body,n=[],r=Number(e.headers["x-total-count"]);return 0===r?Promise.resolve({presentList:n,allPresentsCount:r}):(n=t.map(function(e){var t=e;if(e.contentType===a.default.asset.CONTENT_TYPE.PRODUCER_IDOL){var n={idol:e.content};aoba.utils.setPrototypeOf(n,f.default),t.name=e.content.name,t.iconPath=n.getImagePath("icon")}else if(e.contentType===a.default.asset.CONTENT_TYPE.SUPPORT_IDOL){var r={supportIdol:e.content};aoba.utils.setPrototypeOf(r,p.default),t.name=e.content.name,t.iconPath=r.getImagePath("icon")}else aoba.utils.setPrototypeOf(e,y.default),t.name=e.getName(),t.iconPath=e.getIconImagePath();return t}),Promise.resolve({presentList:n,allPresentsCount:r}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"message",fullName:"message",anchor:{x:.5,y:.5},type:"text",text:"\u4ee5\u4e0b\u306e\u30d7\u30ec\u30bc\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u305f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:0,y:10},{name:"innerBasePresentDetail",fullName:"innerBasePresentDetail",type:"sprite",key:"inner_base_present_detail.png",x:-245,y:43},{name:"presentIcon",fullName:"presentIcon",type:"sprite",key:"present_icon.png",x:-230,y:68},{name:"itemNameNum",fullName:"itemNameNum",type:"text",text:"\u3010\u91d1\u8272\u306e\u5143\u6c17\u3044\u3063\u3071\u3044\u30ac\u30fc\u30eb\u3011\u516b\u5bae\u3081\u3050\u308b\uff58\uff11",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-128,y:117}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:207}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"message",fullName:"message",type:"text",text:"\u4ee5\u4e0b\u306e\u30d7\u30ec\u30bc\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308a\u307e\u3057\u305f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-159,y:10},{name:"innerBasePresentList",fullName:"innerBasePresentList",type:"sprite",key:"inner_base_presentList.png",x:-231,y:36},{children:[{name:"presentName",fullName:"list/presentName",anchor:{x:.5,y:.5},type:"text",text:"\u30fb\u30d0\u30ca\u30b3\u30a4\u30f3\xd7500\r\u30fbSR\u5712\u7530\u667a\u4ee3\u5b50\xd71\r\u30fb\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb \xd7 50",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:94,y:30}],name:"list",fullName:"list",type:"container",x:-103,y:90}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:202}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"iconNotice",fullName:"iconNotice",type:"sprite",key:"icon_notice.png",x:-194,y:0},{name:"alertPresent",fullName:"alertPresent",type:"text",text:"\u6240\u6301\u67a0\u3092\u8d85\u3048\u3066\u3044\u308b\u305f\u3081\u53d7\u3051\u53d6\u308c\u307e\u305b\u3093",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-164,y:14}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:319}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"iconNotice",fullName:"iconNotice",type:"sprite",key:"icon_notice.png",x:-194,y:-13},{name:"alertPresent",fullName:"alertPresent",type:"text",text:"\u6240\u6301\u67a0\u3092\u8d85\u3048\u3066\u3044\u308b\u305f\u3081\u53d7\u3051\u53d6\u308c\u307e\u305b\u3093",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-164,y:1}],name:"",fullName:"",pivot:{x:.5,y:0},anchor:{x:0,y:.5},type:"container",x:568,y:332}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/present_box/parts.json"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(34),s=r(o),l=n(83),u=r(l),c=n(68),f=r(c);t.default={common:["images/ui/produce_countdown/parts.json",{name:"effect_countdown_calender.png",url:"images/ui/produce_countdown/effect_countdown_calender.png"},{name:"night_blur.jpg",url:"images/ui/produce_countdown/night_blur.jpg"},{name:"morning_blur.jpg",url:"images/ui/produce_countdown/morning_blur.jpg"},{name:"sad_particle.png",url:"images/ui/produce_action/sad_particle.png"},{name:"failure_back",url:"particles/produce_activity/result_back/data_failure.json"},{name:"success_back",url:"particles/produce_activity/result_back/data_success.json"},{name:"catastrophe_back",url:"particles/produce_activity/result_back/data_catastrophe.json"},{name:"perfect_back",url:"particles/produce_activity/result_back/data_perfect.json"},{name:"catastrophe_back_2",url:"particles/produce_activity/catastrophe_back_2/data.json"},{name:"flash_spark_01",url:"particles/produce_idol_rank/flash_spark_01/data.json"},{name:"flash_spark_02",url:"particles/common/flash_spark_02/data.json"},{name:"flash_spark_05",url:"particles/produce_activity/flash_spark_05/data.json"},{name:"bg_cloud",url:"particles/produce_activity/bg_cloud/data.json"},{name:"lesson_fail",url:"particles/produce_activity/lesson_fail/data.json"},{name:"lesson_success",url:"particles/produce_activity/lesson_success/data.json"},{name:"lesson_perfect_radial_line",url:"particles/produce_activity/lesson_perfect_radial_line/data.json"},{name:"exellent_horizontal_line_1",url:"particles/produce_activity/exellent_horizontal_line_1/data.json"},{name:"exellent_horizontal_line_common",url:"particles/produce_activity/exellent_horizontal_line_common/data.json"},{name:"exellent_perfect_horizontal_line_1",url:"particles/produce_activity/exellent_perfect_horizontal_line_1/data.json"},{name:"exellent_perfect_star_line_1",url:"particles/produce_activity/exellent_perfect_star_line_1/data.json"},{name:"exellent_star_line_1",url:"particles/produce_activity/exellent_star_line_1/data.json"},{name:"exellent_star_particle_common",url:"particles/produce_activity/exellent_star_particle_common/data.json"},{name:"exellent_tag_explode_common",url:"particles/produce_activity/exellent_tag_explode_common/data.json"},{name:"exellent_tag_radial_paticle_common",
url:"particles/produce_activity/exellent_tag_radial_paticle_common/data.json"},{name:"exellent_text_appear_explode_common",url:"particles/produce_activity/exellent_text_appear_explode_common/data.json"},{name:"hosya_kira_eff",url:"particles/produce_idol_rank/hosya_kira_eff/data.json"},{name:"star_bg_eff",url:"particles/produce_idol_rank/star_bg_eff/data.json"},{name:"result_back/circle_3.png",url:"particles/produce_activity/result_back/_images/circle_3.png"},{name:"result_back/glow_circle_1.png",url:"particles/produce_activity/result_back/_images/glow_circle_1.png"},{name:"result_back/star_1.png",url:"particles/produce_activity/result_back/_images/star_1.png"},{name:"happy_flower_eff",url:"particles/produce_activity/happy_flower_eff/data.json"},{name:"confetti_back",url:"particles/concert_result/confetti/back.json"},{name:"confetti_front",url:"particles/concert_result/confetti/front.json"},{name:"confetti_middle",url:"particles/concert_result/confetti/middle.json"},"particles/produce_idol_rank/flash_spark_01/images.json","particles/produce_idol_rank/hosya_kira_eff/images.json","particles/common/flash_spark_02/images.json","particles/produce_activity/catastrophe_back_2/images.json","particles/produce_activity/flash_spark_05/images.json","particles/produce_activity/bg_cloud/images.json","particles/produce_activity/lesson_fail/images.json","particles/produce_activity/lesson_success/images.json","particles/produce_activity/lesson_perfect_radial_line/images.json","particles/produce_activity/images_excellent.json","particles/produce_activity/lesson_level_up/image.png","particles/produce_activity/lesson_level_up/data.json","particles/produce_activity/happy_flower_eff/images.json","particles/concert_result/confetti/images.json","images/ui/produce_common/parts_header.json","images/ui/produce_common/parts_pyramid.json",{name:"transition_page_turn_bar.png",url:"images/ui/common/transition_page_turn_bar.png"},{name:"commu_result_perfect_bg.png",url:"images/ui/produce_common/commu_result_perfect_bg.png"},"images/ui/produce_top/parts.json",a.default.bg.HOME,"images/ui/produce_action/parts.json","images/ui/produce_action/parts_effect.json","images/ui/concert/parts_bg.json","images/content/produce_place_categories/accessory/00005/chair.png","images/content/produce_place_categories/accessory/00005/personal_chair.png","images/content/produce_place_categories/accessory/00005/mixer.png",a.default.bg.PRODUCE_ACTION,{name:"base_place_level_up.png",url:"images/ui/produce_action/base_place_level_up.png"},"images/ui/produce_event/parts_event.json","images/ui/produce_event/parts_promise.json","images/event/select_frame/001.png","images/event/select_frame/002.png","images/event/select_frame/003.png","images/event/text_frame/001.png","images/event/text_frame/002.png","images/event/text_frame/003.png","images/event/text_frame/004.png","images/event/text_frame/005.png","images/event/text_frame/006.png","images/event/text_frame/007.png","images/ui/concert_result/parts_status.json","images/ui/produce_trend/parts.json","images/ui/produce_deck/parts_deck_edit.json",{name:"deck_edit_deck_base.png",url:"images/ui/produce_deck/deck_edit_deck_base.png"},{name:"unit_platfom_kira",url:"particles/deck_edit/unit_platfom_kira/data.json"},{name:"unit_platfom_kira/particle.png",url:"particles/deck_edit/unit_platfom_kira/particle.png"},"spine/sub_characters/cb/staff/data.json"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}((0,f.default)(s.default.produce))),commu:["images/ui/produce_commu/parts_commu.json","particles/produce_commu/result_good/emitter.json","particles/produce_commu/result_good/images.json","particles/produce_commu/result_perfect/emitter.json","particles/produce_commu/result_perfect/images.json","particles/produce_commu/memory_up/images.json",{name:"arrow_idle",url:"particles/produce_commu/memory_up/arrow_idle.json"},{name:"max_back_side_idle",url:"particles/produce_commu/memory_up/max_back_side_idle.json"},{name:"max_icon_idle",url:"particles/produce_commu/memory_up/max_icon_idle.json"},{name:"title_appear",url:"particles/produce_commu/memory_up/title_appear.json"},{name:"title_idle",url:"particles/produce_commu/memory_up/title_idle.json"},{name:"commu_result_good_bg.png",url:"images/ui/produce_commu/commu_result_good_bg.png"},{name:"commu_result_normal_bg.png",url:"images/ui/produce_commu/commu_result_normal_bg.png"},{name:"countdown_alert.png",url:"images/ui/produce_commu/countdown_alert.png"},{name:"bg_memory_level_up_gradation.png",url:"images/ui/produce_commu/bg_memory_level_up_gradation.png"},"sounds/bgm/"+a.default.bgm.produce.answerCountdown+a.default.asset.SOUND_EXTENSION],idolRank:[a.default.bg.PRODUCE_IDOL_RANK,"images/ui/common/parts_effect.json",{name:"staff_balloon.png",url:"images/event/text_frame/003.png"},"images/ui/produce_idol_rank/parts_idol_rank.json","images/ui/produce_idol_rank/parts_rank_up.json",{name:"color_base.jpg",url:"images/ui/produce_idol_rank/color_base.jpg"},{name:"shine.png",url:"images/ui/produce_idol_rank/shine.png"},"spine/sub_characters/stand/staff/data.json"],getMainSpecificResources:function(e){var t=[],n=e.userProduceIdol,r=e.userProduceSupportIdols;if(n&&(t.push(n.getImagePath("icon")),t.push(n.getSpinePath("cb")),t.push(n.getSpinePath("stand"))),r&&r.forEach(function(e){t.push(e.getImagePath("icon")),t.push(e.getImagePath("icon_circle")),t.push(e.getImagePath("icon_circle_l")),t.push(e.getSpinePath("cb"))}),e.places){var i=[1,2];e.places.filter(function(e){return i.includes(e.actionType)}).forEach(function(e){t.push(e.getCategoryImagePath("bg")),t.push(e.getCategoryImagePath("icon")),t.push(e.getCategoryImagePath("level_up_title"))})}if(e.produceAuditions&&e.produceAuditions.forEach(function(e){t.push(e.bannerImagepath)}),e.supportSkills){var a=e.supportSkills.map(function(e){return e.supportIdolId});a.length>=1&&r.forEach(function(e){a.includes(e.supportIdolId)&&t.push(e.getSpinePath("stand"))})}return t.push(u.default.IMAGES.AUDITION_SELECT.bg),t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},c=n(1),f=r(c),d=n(12),p=r(d),h=n(3),y=r(h),m=n(1357),_=r(m),g=n(1369),b=r(g),v=n(1374),w=r(v),k=n(446),S=r(k),I=n(450),E=r(I),A=n(1440),x=r(A),C=n(21),T=r(C),P=n(1451),O=r(P),N=n(0),M=r(N),R=n(14),D=r(R),F=function(e){return[].concat(s(e.produceEvents),[e.produceCommunicationPromiseResult]).filter(function(e){return e&&e.id})},B=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._store=e.store,n._produceAction=e.produceAction,n._endWeek=e.endWeek,n._goToAudition=e.goToAudition,n._goToConcert=e.goToConcert,n._topLayer=null,n._actionLayer=null,
n._header=b.default.new(e.store),n._tipsButton=null,n._deckLayer=null,n._store.on("updateParameter",function(e){n._header.updateParameter(e)}),n.on("added",function(){n._playBGM()}),n.on("added",n.showTop,n),n}return o(t,e),l(t,[{key:"ezgPreDestroy",value:function(){this._actionLayer&&(this._actionLayer.destroy({children:!0}),this._actionLayer=null),this._topLayer&&(this._topLayer.destroy({children:!0}),this._topLayer=null),this._deckLayer&&(this._deckLayer.destroy({children:!0}),this._deckLayer=null),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"showTop",value:function(){this.removeChildren(),this._getOrCreateTopLayer().addTo(this).open(),this._header.addTo(this),this._rebuildTipsButton(f.default.tips.produceTop).addTo(this)}},{key:"showAction",value:function(){this.removeChildren(),this._getOrCreateActionLayer().addTo(this),this._header.addTo(this),this._rebuildTipsButton(f.default.tips.produceAction).addTo(this)}},{key:"showDeck",value:function(e){this._produceDeck=e,this.removeChildren(),this._getOrCreateDeckLayer().addTo(this).openToShowProduceDeck(e),this._header.remove(),this._tipsButton.remove()}},{key:"showTrend",value:function(){this._createTrendLayer().addTo(this)}},{key:"showSkillBoard",value:function(){var e=this;this.interactiveChildren=!1,this._produceAction.getSkillPanels().then(function(t){var n=Object.assign({},t,{produceAction:e._produceAction,releasedSkills:e._store.releasedSkills,onUpdateSkillParams:e._onBackFromSkillBoard.bind(e)});T.default.loadSceneAsync("skillBoard",{additive:!0,request:!1,sceneParams:n,showLoading:!1}).then(function(){e.interactiveChildren=!0})})}},{key:"_rebuildTipsButton",value:function(e){return this._tipsButton&&this._tipsButton.destroy({children:!0}),this._tipsButton=M.default.CommonPartsLayer.create({tips:e,hasGlobalMenu:!1}),this._tipsButton}},{key:"_onBackFromSkillBoard",value:function(e){this.emit("backFromSkillBoard"),this._playBGM(),this._topLayer.enable();var t=e.userProduceIdol;if(t){var n=t.skillPoint,r=t.limitVocal,i=t.limitDance,a=t.limitVisual,o=t.limitMental;this._store.userProduceIdol.skillPoint=n,this._store.userProduceIdol.limitVocal=r,this._store.userProduceIdol.limitDance=i,this._store.userProduceIdol.limitVisual=a,this._store.userProduceIdol.limitMental=o,this._actionLayer&&(this._actionLayer.updateParameterSkillPoint(n),this._actionLayer.updateParameterLimitValues({limitVocal:r,limitDance:i,limitVisual:a,limitMental:o}))}}},{key:"_showBackToHomeConfirmationDialog",value:function(){D.default.new({title:y.default.t("produceTop.homeConfirmPop.title"),text:y.default.t("produceTop.homeConfirmPop.message"),buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"produce_top_btn_back_to_home.png"}]}).on("submit",function(){return p.default.directTo("/home")}).addTo(this).open()}},{key:"_playBGM",value:function(){var e=this._store.isConcertWeek?f.default.bgm.produce.homeConcertWeek:f.default.bgm.produce.home;aoba.soundManager.playBGMAsync(e)}},{key:"_getOrCreateTopLayer",value:function(){var e=this;return this._topLayer?this._topLayer:(this._topLayer=_.default.new(this._store,this._produceAction.act).on("goToAction",this.showAction,this).on("goToConcert",this._goToConcert,this).on("goToReflection",this.showSkillBoard,this).on("goToTrend",this.showTrend,this).on("startRestCommu",function(){e._tipsButton.hide()}).on("tapHomeButton",this._showBackToHomeConfirmationDialog,this).on("goToUnit",this.showDeck,this).on("end",function(t){e._endWeek(F(t))}),this._topLayer)}},{key:"_getOrCreateActionLayer",value:function(){var e=this;return this._actionLayer?this._actionLayer:(this._actionLayer=w.default.new({store:this._store,actServerAction:this._produceAction.act,onTapSupportSkillButton:this._showSupportSkillsDialog.bind(this),onTapSkillBoardButton:this.showSkillBoard.bind(this)}).on("add",this._showStaminaGaugeEffect,this).on("removed",this._hideStaminaGaugeEffect,this).on("back",this.showTop,this).on("startLesson",function(){e._tipsButton.hide()}).on("goToAudition",this._goToAudition,this).on("end",function(t){e._endWeek(F(t))}),this._actionLayer)}},{key:"_getOrCreateDeckLayer",value:function(){return this._deckLayer||(this._deckLayer=S.default.new(y.default.t("header.produceDeckInformation")).on("selectProduceIdol",this._selectProduceIdol,this).on("selectSupportIdol",this._selectSupportIdol,this).on("showSupportSkillBonus",this._showSupportSkillBonus,this).on("back",this.showTop,this)),this._deckLayer}},{key:"_createTrendLayer",value:function(){return x.default.new(this._store)}},{key:"_selectProduceIdol",value:function(){T.default.loadSceneAsync("produceIdolDetail",{additive:!0,asset:!0,request:!0,requestParams:this._store.produceIdol.id})}},{key:"_selectSupportIdol",value:function(e){T.default.loadSceneAsync("supportIdolDetail",{additive:!0,asset:!0,request:!0,requestParams:this._store.supportIdols[e].userSupportIdol.id,sceneParams:{isEvolutionAndTrainingVisible:!1}})}},{key:"_showSupportSkillBonus",value:function(){E.default.new().addTo(this).open(this._produceDeck.userSupportIdols)}},{key:"_showSupportSkillsDialog",value:function(e){var t=M.default.Dialog.new({size:"m",title:y.default.t("produceMain.supportSkillsDialogTitle"),type:"close",container:O.default.new(e)}).addTo(this);t.open(),t.main.y-=12,t.buttons.y-=8}},{key:"_showStaminaGaugeEffect",value:function(){this._store.isStaminaSupportEnabled()&&(this._isStaminaSupportEffectPlayed?this._header.resumeStaminaSupportEffect():(this._header.playStaminaSupportEffect(),this._isStaminaSupportEffectPlayed=!0))}},{key:"_hideStaminaGaugeEffect",value:function(){this._store.isStaminaSupportEnabled()&&this._header.suspendStaminaSupportEffect()}},{key:"lessonTab",get:function(){return this._actionLayer.lessonTab}},{key:"workTab",get:function(){return this._actionLayer.workTab}},{key:"auditionTab",get:function(){return this._actionLayer.auditionTab}}]),t}(aoba.Container);t.default=B},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(3),d=r(f),p=n(0),h=r(p),y=n(1358),m=r(y),_=n(1359),g=r(_),b=n(1360),v=r(b),w=n(426),k=r(w),S=n(1362),I=r(S),E=n(1364),A=r(E),x=n(276),C=r(x),T=n(1366),P=r(T),O=n(1367),N=r(O),M=n(117),R=r(M),D=n(99),F=r(D),B=n(38),j=r(B),L=n(32),U=r(L),H=n(1368),G=r(H),z=n(109),V=r(z),K=n(255),W=r(K),q=n(26),X=r(q),Y="9",J={producer:{textFrame:"images/event/text_frame/002.png"},idol:{textFrame:"images/event/text_frame/001.png"}},Q=function(t){function n(e,t){a(this,n);var r=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),i=e.produceIdol,s=e.isConcertWeek,l=e.userProduceSupportIdols,u=e.produceTrendCombination,f=e.topCharacterReaction,p=e.seasonNum,y=e.remainSeasonWeek,_=e.hasReleasedSkills,b=e.promisePlaceCategoryId;r._store=e,r._produceIdol=i,r._isConcertWeek=s,r._topCharacterReaction=f,r._isSkillUnlocked=_,r._actAction=t;var w=!s&&l.some(function(e){return e.canPartnerLesson});r._uiLayer=aoba.Container.new()
;var S=r.fromData(m.default,{ui:r._uiLayer,idol:k.default.new(i.getSpinePath("stand"),r._topCharacterReaction.isTouched),bg:{key:c.default.bg.HOME}});r._eventLayer=aoba.Container.new().addTo(r),r._popLayer=aoba.Container.new().addTo(r);var E=r._uiLayer.fromData(g.default,{deadline:s?null:v.default.new(p,y),btnProduce:I.default.new(y,s,w),btnRest:A.default.new(s),btnReflection:{class:h.default.DecideButton},btnTrend:{class:h.default.DecideButton},btnHome:{class:h.default.DecideButton},btnUnit:{class:h.default.DecideButton},produceTopDesk:{interactive:!0},idolBalloon:C.default.new(P.default)}),x=h.default.commonUiHelper.createHeader(d.default.t("header.produceTop")).addTo(r._uiLayer);x.x-=g.default.x,x.y-=g.default.y,r._idolSpine=S.idol,r._idolSpine.playAnimation("wait"),r._produceButton=E.btnProduce,r._restButton=E.btnRest,r._reflectionButton=E.btnReflection,r._trendButton=E.btnTrend,r._homeButton=E.btnHome,r._unitButton=E.btnUnit,r._producePromiseIcon=E.iconPromiseProduce.hide(),r._restPromiseIcon=E.iconPromiseRest.hide(),r._skillUnlockIcon=E.iconSkillUnlock.hide(),r._trend=E["btnTrend/trend"],r._idolBalloon=E.idolBalloon.hide(),r._idolController=new N.default(r._store,r._idolSpine,r._idolBalloon),r._produceButton.name="produceButton",r._reflectionButton.name="reflectionButton",r._produceButton.on("tap",r._onProduce,r),r._restButton.on("tap",r._onRest,r);var T=b>0,O=T&&b!==Y;T&&r._showPromiseIcon(O?r._producePromiseIcon:r._restPromiseIcon),r._isSkillUnlocked&&r._showSkillUnlockIcon();var M=G.default.shortenTrend(u.first),R=G.default.shortenTrend(u.second),D=G.default.shortenTrend(u.third);return r._trend.texture=aoba.Texture.fromImage("produce_top_trend_"+M+"_"+R+"_"+D+".png"),r._reflectionButton.on("tap",r._onReflection,r),r._trendButton.on("tap",function(){r.emit("goToTrend")}),r._homeButton.on("tap",function(){r.emit("tapHomeButton")}),r._unitButton.on("tap",r._onUnit,r),r._spotlight=F.default.new(!1).addTo(r._popLayer),r.on("removed",r._onRemoved,r),r}return s(n,t),l(n,[{key:"open",value:function(){this._setIsBusy(!1),this._idolController.reset()}},{key:"enable",value:function(){this._setIsBusy(!1)}},{key:"ezgUpdate",value:function(e){this._isBusy()||this._idolController.ezgUpdate(e)}},{key:"_onRemoved",value:function(){this._idolController.stopIdolReaction()}},{key:"_onProduce",value:function(){this._isConcertWeek?this._startConcert():this.emit("goToAction")}},{key:"_startConcert",value:function(){this._setIsBusy(!0),this.emit("goToConcert")}},{key:"_onRest",value:function(){var e=this;this.emit("startRestCommu"),this._idolController.stopIdolReaction(),this._setIsBusy(!0),this._actAction(Y).then(function(t){var n=t.lessonResult,r=t.supportSkills;Promise.resolve().then(function(){return e._playRestEvent(n)}).then(function(){return e._playRestBoostEvent(n,r)}).then(function(){aoba.soundManager.playSE(X.default.activity.staminaRecover),e._store.updateParameter(n),aoba.FrameTween.new(e).wait(30).call(function(){return e.emit("end",t)})})})}},{key:"_playRestEvent",value:function(e){return this._playSimpleTracks(e.produceRestComments)}},{key:"_playRestBoostEvent",value:function(e,t){var n=this,r=t.find(function(e){return e.isRestBoost()});return r?this._playSupportSkillCutIn(r).then(function(){return n._playRestBoostCommentEvent(e)}):Promise.resolve()}},{key:"_playSupportSkillCutIn",value:function(e){var t=this;return new Promise(function(n){W.default.new(e).addTo(t).on("end",n)})}},{key:"_playRestBoostCommentEvent",value:function(e){var t=e.produceRestBoostIdolComment,n=e.produceRestBoostSupportIdolComment;if(t&&n){var r=[n,t];return this._playSimpleTracks(r)}return Promise.resolve()}},{key:"_playEvent",value:function(e){var t=new R.default({event:e,userProduceIdol:this._produceIdol}).addTo(this._eventLayer);return t.preload().then(function(e){return t.play(e)})}},{key:"_playSimpleTracks",value:function(e){var t=this,n=this._convertToTracks(e);return this._loadTracksResources(n).then(function(){return t._uiLayer.hide(),t._idolSpine.hide(),t._eventLayer.removeChildren(),V.default.createAndPlayAdvPlayer(n,t._eventLayer)})}},{key:"_onReflection",value:function(){this._isSkillUnlocked=!1,this._setIsBusy(!0),this._hideSkillUnlockIcon(),this.emit("goToReflection")}},{key:"_onUnit",value:function(){var e=this;this._setIsBusy(!0),j.default.getUnit().then(function(t){var n=[],r=t.getUserIdol();n.push(r.getImagePath("icon")),n.push(r.getSpinePath("stand")),n.push(r.getUnitImagePath("icon")),t.getUserSupportIdols().forEach(function(e){n.push(e.getImagePath("icon")),n.push(e.getImagePath("concert_icon")),n.push(e.getUnitImagePath("icon")),e.supportSkills.filter(function(e){return e.isTagBoost()}).forEach(function(e){n.push(e.getPlaceIconImagePath())}),n.push(e.getSpinePath("cb"))}),(0,U.default)(n).then(function(){e.emit("goToUnit",t)})})}},{key:"_setIsBusy",value:function(e){this._uiLayer.interactiveChildren=!e}},{key:"_isBusy",value:function(){return!this._uiLayer.interactiveChildren}},{key:"_showPromiseIcon",value:function(e){e.show(),aoba.FrameTween.new(e).to({scaleX:1.25,scaleY:1.25},15,"easeOutQuad").to({scaleX:1,scaleY:1},15,"easeInQuad").loop();var t=aoba.Sprite.new("icon_promise_l.png").addTo(this._uiLayer,e.x,e.y,{anchor:.5,blendMode:aoba.BLEND_MODES.ADD});aoba.FrameTween.new(t).to({scaleX:1.25,scaleY:1.25},15,"easeOutQuad").to({scaleX:1.375,scaleY:1.375,alpha:0},15).call(function(){t.destroy()})}},{key:"_showSkillUnlockIcon",value:function(){this._skillUnlockIcon.show(),aoba.FrameTween.new(this._skillUnlockIcon).to({scaleX:1.25,scaleY:1.25},15,"easeOutQuad").to({scaleX:1,scaleY:1},15,"easeInQuad").loop(),this._skillUnlockEffect=aoba.Sprite.new("produce_top_icon_skill_unlock.png").addTo(this._uiLayer,this._skillUnlockIcon.x,this._skillUnlockIcon.y,{anchor:.5,alpha:0,blendMode:aoba.BLEND_MODES.ADD}),aoba.FrameTween.new(this._skillUnlockEffect).to({scaleX:1.375,scaleY:1.375,alpha:.25},15,"easeOutQuad").to({scaleX:1,scaleY:1,alpha:0},15,"easeInQuad").loop()}},{key:"_hideSkillUnlockIcon",value:function(){this._skillUnlockIcon.hide(),this._skillUnlockEffect&&(this._skillUnlockEffect.destroy({children:!0}),this._skillUnlockEffect=null)}},{key:"_showBlocker",value:function(){this._spotlight.showSpotLight()}},{key:"_hideBlocker",value:function(){this._spotlight.hideSpotLight()}},{key:"_convertToTracks",value:function(t){var n=this,r={1:[{x:568,y:640,order:0}],2:[{x:310,y:640,order:0},{x:796,y:640,order:1}]},i=t.map(function(e){return e.speaker===d.default.t("speaker.producer")?e.textFrame=J.producer.textFrame:e.textFrame=J.idol.textFrame,e.voice&&(e.voice=n._getCharacterVoicePath(e.characterId,e.voice)),e.charLabel=e.characterId,e.charAnim1=e.animation1,e.charAnim2=e.animation2,e.charAnim3=e.animation3,e.charLipAnim=e.lip,e.text=e.comment,e.textCtrl="p",e}),a=e.uniq(i,!1,function(e){return e.charLabel}),o=r[a.length];return a.forEach(function(e,t){i.unshift({charLabel:e.charLabel,charSpine:n._getCharacterSpinePath(e.characterId,"stand"),charPosition:o[t],charAnim1:"wait"})}),i}},{key:"_findIdolByCharacter",value:function(e){return[this._produceIdol].concat(i(this._store.supportIdols)).find(function(t){return t.characterId===e})}},{key:"_getCharacterSpinePath",value:function(e,t){return this._findIdolByCharacter(e).getSpinePath(t)}},{key:"_getCharacterVoicePath",value:function(e,t){return this._findIdolByCharacter(e).getVoicePath(t)}},{key:"_loadTracksResources",value:function(t){return(0,U.default)(e.pluck(t,"voice").filter(function(e){return e}))}}]),n}(aoba.Container);t.default=Q}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"idol",fullName:"idol",pivot:{x:.5,y:1},type:"container",x:568,y:640},{name:"ui",fullName:"ui",type:"container",x:0,y:0}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"produceTopDesk",
fullName:"produceTopDesk",type:"sprite",key:"produce_top_desk.png",x:0,y:543},{name:"btnProduce",fullName:"btnProduce",type:"container",x:0,y:376},{name:"btnRest",fullName:"btnRest",type:"container",x:296,y:479},{name:"btnReflection",fullName:"btnReflection",anchor:{x:.5,y:.5},type:"sprite",key:"produce_top_btn_reflection.png",x:762,y:593},{children:[{name:"trend",fullName:"btnTrend/trend",type:"sprite",key:"produce_top_trend_da_vi_vo.png",x:-96,y:-90}],name:"btnTrend",fullName:"btnTrend",anchor:{x:.5,y:.5},type:"sprite",key:"produce_top_btn_trend.png",x:1006,y:515},{name:"iconPromiseProduce",fullName:"iconPromiseProduce",anchor:{x:.5,y:.5},type:"sprite",key:"icon_promise_l.png",x:54,y:438},{name:"iconPromiseRest",fullName:"iconPromiseRest",anchor:{x:.5,y:.5},type:"sprite",key:"icon_promise_l.png",x:395,y:499},{name:"iconSkillUnlock",fullName:"iconSkillUnlock",anchor:{x:.5,y:.5},type:"sprite",key:"produce_top_icon_skill_unlock.png",x:705,y:591},{name:"btnHome",fullName:"btnHome",anchor:{x:.5,y:.5},type:"sprite",key:"produce_top_btn_home.png",x:62,y:133},{name:"btnUnit",fullName:"btnUnit",anchor:{x:.5,y:.5},type:"sprite",key:"produce_top_btn_unit.png",x:63,y:249},{name:"idolBalloon",fullName:"idolBalloon",visible:!1,pivot:{x:0,y:.5},type:"container",x:750,y:279},{name:"deadline",fullName:"deadline",visible:!1,type:"container",x:196,y:212}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1361),u=r(l),c=n(3),f=r(c),d=3,p=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n<=d&&(r.fromData(u.default,{season:{text:f.default.t("produceTop.deadline.season",{seasonNum:e})},deadlineWeek:aoba.Sprite.new("deadline_week_"+n+".png")}),r._play()),r}return o(t,e),s(t,[{key:"_play",value:function(){var e=this;aoba.FrameTween.new(this).call(function(){e.show()}).from({alpha:0,x:this.x+90},12).to({x:this.x-15},40).to({alpha:0,x:this.x-120},10).call(function(){e.emit("end")})}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"deadlineBase",fullName:"deadlineBase",type:"sprite",key:"deadline_base.png",x:0,y:0},{name:"deadlineWeek",fullName:"deadlineWeek",type:"container",x:359,y:35},{name:"deadlineSeason",fullName:"deadlineSeason",type:"sprite",key:"deadline_season.png",x:115,y:32},{name:"season",fullName:"season",type:"text",text:"\u30b7\u30fc\u30ba\u30f34",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:40},anchor:{x:0,y:.5},rotation:0,x:139,y:67}],name:"",fullName:"",visible:!1,type:"container",x:196,y:212}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1363),l=r(s),u=n(0),c=r(u),f=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s="produce";return n&&(s=1===e?"final":"semi_final"),o.fromData(l.default,{btn:{class:c.default.DecideButton},"btn/text":{key:"produce_top_btn_text_"+s+".png"},"btn/excellent":{visible:r},"btn/tag":{visible:n},"btn/tag/final":{visible:"final"===s},"btn/tag/semiFinal":{visible:"semi_final"===s}}).btn.on("tap",function(){return o.emit("tap")}),o}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{children:[{name:"semiFinal",fullName:"btn/tag/semiFinal",type:"sprite",key:"produce_top_btn_tag_semi_final.png",x:20,y:40},{name:"final",fullName:"btn/tag/final",type:"sprite",key:"produce_top_btn_tag_final.png",x:15,y:35}],name:"tag",fullName:"btn/tag",type:"sprite",key:"produce_top_btn_tag.png",x:-45,y:-79},{name:"excellent",fullName:"btn/excellent",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"produce_top_btn_excellent.png",x:11,y:-8},{name:"text",fullName:"btn/text",anchor:{x:.5,y:1},type:"sprite",key:"produce_top_btn_text_final.png",x:19,y:122}],name:"btn",fullName:"btn",anchor:{x:.5,y:.5},type:"sprite",key:"produce_top_btn_produce.png",x:131,y:138}],name:"",fullName:"",type:"container",x:2,y:376}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1365),l=r(s),u=n(0),c=r(u),f=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=!e,o=r?{class:c.default.DecideButton,key:"produce_top_btn_rest.png"}:{key:"produce_top_btn_rest_disabled.png"},s=n.fromData(l.default,{btn:o,"btn/text":{visible:r}});return r&&s.btn.on("tap",function(){return n.emit("tap")}),n}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"text",fullName:"btn/text",type:"sprite",key:"produce_top_btn_text_rest.png",x:-18,y:15}],name:"btn",fullName:"btn",anchor:{x:.5,y:.5},type:"sprite",key:"produce_top_btn_rest.png",x:69,y:75}],name:"",fullName:"",type:"container",x:296,y:479}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"produceTopIdolBalloonBase",fullName:"produceTopIdolBalloonBase",type:"sprite",key:"produce_top_idol_balloon_base.png",x:0,y:-64},{name:"comment",fullName:"comment",anchor:{x:0,y:0},type:"text",text:"\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\r\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba16pt\r\u4e00\u884c14\u6587\u5b57\u5165\u308a\u307e\u3059",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:223,breakWords:!0},rotation:0,x:26,y:-53},{name:"idolName",fullName:"idolName",type:"text",text:"\u6afb\u6728 \u771f\u4e43",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:25,y:39}],name:"",fullName:"",visible:!1,pivot:{x:0,y:.5},type:"container",x:750,y:279}},function(e,t,n){
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(38),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s={move:0,wait:1,touch:2,touchEx:3,releaseSkill:4},l=function(){function e(t,n,i){r(this,e);var a=t.produceIdol,o=t.topCharacterReaction,s=t.hasReleasedSkills;this._store=t,this._idol=a,this._idolSpine=n,this._idolBalloon=i,this._idolName=a.firstName,this._idolReaction=o,this._isSkillUnlocked=s,this._idolSpine.on("tap",this._onTapIdolSpine,this),this._timeMessageTimer=0}return i(e,[{key:"reset",value:function(){this._isFirstReactionPlayed=!1,this._isTimeIdolReactionPlayed=!1,this._timeMessageTimer=0,this._stopIdolAnimation()}},{key:"ezgUpdate",value:function(e){!this._idolSpine.isTouched&&this._idolSpine.isBeingTouched?this._onTouchIdol():this._isIdolReactionPlaying()||(this._isFirstReactionPlayed?this._updateTimeMessage(e):this._playFirstIdolReaction())}},{key:"playIdolAnimation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._idolSpine.playAnimation(e,n,r,function(){t._isIdolReactionPlaying()||t._onIdolReactionFinished()})}},{key:"stopIdolReaction",value:function(){this._stopIdolAnimation(),this._stopIdolVoice(),this._hideIdolMessage()}},{key:"_onTapIdolSpine",value:function(e){this._idolSpine.onTap(e.data.global)}},{key:"_onTouchIdol",value:function(){this._idolSpine.isTouched=!0;var e=this._getIdolReaction(this._idolSpine.isBustTouched?s.touchEx:s.touch);this._requestIdolTouch(e.id),this.stopIdolReaction(),this._playIdolReaction(e)}},{key:"_requestIdolTouch",value:function(e){var t=this;o.default.touchIdol(e).then(function(e){var n=e.userProduceIdol.tensionLevel-t._store.userProduceIdol.tensionLevel;n&&t._store.updateParameter({tensionLevel:n})})}},{key:"_updateTimeMessage",value:function(e){this._isTimeIdolReactionPlayed||(this._timeMessageTimer+=e,this._timeMessageTimer>=1e4&&this._playTimeIdolReaction())}},{key:"_playFirstIdolReaction",value:function(){this._isFirstReactionPlayed=!0,this._playIdolReaction(this._getIdolReaction(this._isSkillUnlocked?s.releaseSkill:s.move))}},{key:"_playTimeIdolReaction",value:function(){this._isTimeIdolReactionPlayed=!0,this._playIdolReaction(this._getIdolReaction(s.wait))}},{key:"_playIdolReaction",value:function(e){e&&(this.playIdolAnimation(e.animation1,e.animation2,e.animation3),e.voice&&this._playIdolVoice(e.voice,e.lip),this._showIdolMessage(e.comment))}},{key:"_onIdolReactionFinished",value:function(){this._idolBalloon.close()}},{key:"_getIdolReaction",value:function(e){var t=null;switch(e){case s.move:t=this._idolReaction.moveReactions;break;default:case s.wait:t=this._idolReaction.waitReactions;break;case s.touch:t=this._idolReaction.touchReactions;break;case s.touchEx:t=this._idolReaction.touchExReactions;break;case s.releaseSkill:t=this._idolReaction.skillReleasedReactions}return t?t[Math.floor(Math.random()*t.length)]:null}},{key:"_stopIdolAnimation",value:function(){this._idolSpine.stopAnimation()}},{key:"_playIdolVoice",value:function(e,t){var n=this;this._isVoicePlaying=!0;var r=this._idol.getVoicePath(e);aoba.soundManager.playVoiceAsync(r).then(function(e){n._voiceSound=e,n._idolSpine.playLipAnimation(t,e.duration,function(){n._voiceSound=null,n._isVoicePlaying=!1,n._isIdolReactionPlaying()||n._onIdolReactionFinished()})})}},{key:"_stopIdolVoice",value:function(){this._voiceSound&&(this._voiceSound.stop(),this._voiceSound=null),this._isVoicePlaying=!1,this._idolSpine.stopLipAnimation()}},{key:"_showIdolMessage",value:function(e){this._idolBalloon.open(this._idolName,e)}},{key:"_hideIdolMessage",value:function(){this._idolBalloon.close()}},{key:"_isIdolReactionPlaying",value:function(){return this._isVoicePlaying}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={visual:"vi",dance:"da",vocal:"vo"};t.default={shortenTrend:function(e){return r[e]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),f=r(c),d=n(0),p=r(d),h=n(1370),y=r(h),m=n(1373),_=r(m),g=function(e){return aoba.Texture.fromImage("icon_tension_s_"+e+".png")},b=function(e){return p.default.Gauge.new("produce_stamina_gauge.png",{value:e,maxValue:u.default.app.MAX_STAMINA})},v=function(e){return aoba.Texture.fromImage("text_memory_appeal_level_"+e+".png")},w=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.userProduceIdol,o=e.remainSeasonWeek,s=e.isConcertWeek,l=e.seasonNum,u=s?f.default.t("produceHeader.concertSeason"):f.default.t("produceHeader.produceSeason",{seasonNum:l}),c=n.fromData(_.default,{season:{text:u},weekContent:y.default.new(o,s),staminaGauge:b(r.stamina),tensionIcon:{key:g(r.tensionLevel)},memoryAppealLevel:{key:v(r.memoryAppealLevel)}}),d=c.memoryAppealLevel,p=c.staminaGauge,h=c.tensionIcon;return n._staminaGauge=p,n._tensionIcon=h,n._memoryAppealLevel=d,n._staminaGauge.anchor.set(.5),n._staminaGauge.x+=n._staminaGauge.width/2,n._staminaGauge.y+=n._staminaGauge.height/2,n._createStaminaFlashTween(r.stamina),n}return o(t,e),s(t,[{key:"updateParameter",value:function(e){this._removeStaminaSupportTween(),void 0!==e.stamina&&(e.stamina>=50&&this._removeStaminaFlashTween(),this._staminaGauge.setValue(e.stamina)),e.tensionLevel&&(this._tensionIcon.texture=g(e.tensionLevel)),e.memoryAppealLevel&&(this._memoryAppealLevel.texture=v(e.memoryAppealLevel))}},{key:"playStaminaSupportEffect",value:function(){this._removeStaminaSupportTween(),this._createStaminaSupportAllEffectTween()}},{key:"resumeStaminaSupportEffect",value:function(){this._removeStaminaSupportTween(),this._createStaminaSupportLoopEffectTween()}},{key:"suspendStaminaSupportEffect",value:function(){this._removeStaminaSupportTween()}},{key:"_createStaminaSupportAllEffectTween",value:function(){var e=this;this._staminaGaugeTween=aoba.Tween.new(this._staminaGauge).wait(500).to({scaleX:1.2,scaleY:1.2},800,"easeOutBounce").call(function(){return e._createStaminaSupportLoopEffectTween()}).wait(1e3).call(function(){return e._normalizeStaminaSize()}),this._staminaOnceEffect=aoba.Gauge.new("produce_stamina_gauge.png",{value:this._stamina,maxValue:u.default.app.MAX_STAMINA}).addTo(this._staminaGauge,0,0,{anchor:.5,alpha:0}),this._staminaOnceEffectTween=aoba.Tween.new(this._staminaOnceEffect).wait(500).call(function(){e._staminaOnceEffect.alpha=1}).to({scaleX:2,scaleY:2,alpha:0},300)}},{key:"_createStaminaSupportLoopEffectTween",value:function(){this._staminaLoopEffect=aoba.Gauge.new("produce_stamina_gauge.png",{value:this._stamina,maxValue:u.default.app.MAX_STAMINA}).addTo(this._staminaGauge,0,0,{anchor:.5,alpha:0,scale:this._staminaGauge.scale});var e=new aoba.filters.ColorMatrixFilter
;e.brightness(3,!0),this._staminaLoopEffect.filters=[e],this._staminaLoopEffectTween=aoba.Tween.new(this._staminaLoopEffect).to({alpha:.5},800).to({alpha:0},800).loop()}},{key:"_removeStaminaSupportTween",value:function(){this._staminaGaugeTween&&(this._staminaGaugeTween.remove(),this._staminaGaugeTween=null,this._staminaGauge.scale.set(1),this._staminaOnceEffectTween.remove(),this._staminaOnceEffectTween=null,this._staminaOnceEffect.remove(),this._staminaOnceEffect=null),this._staminaLoopEffectTween&&(this._staminaLoopEffectTween.remove(),this._staminaLoopEffectTween=null,this._staminaLoopEffect.remove(),this._staminaLoopEffect=null)}},{key:"_normalizeStaminaSize",value:function(){aoba.Tween.new(this._staminaGauge).to({scaleX:1,scaleY:1},800,"easeOutBounce"),aoba.Tween.new(this._staminaLoopEffect).to({scaleX:1,scaleY:1},800,"easeOutBounce")}},{key:"_createStaminaFlashTween",value:function(e){var t=Math.ceil(4*(u.default.app.MAX_STAMINA/2-e)/(u.default.app.MAX_STAMINA/2));if(!(t<=0)){var n=this._staminaGauge.x,r=this._staminaGauge.y;this._staminaFlashEffect=aoba.Sprite.new("produce_stamina_gauge_red.png").addTo(this,n,r,{anchor:.5,alpha:0}),this._staminaFlashEffect2=aoba.Sprite.new("produce_stamina_gauge_red.png").addTo(this,n,r,{anchor:.5,blendMode:aoba.BLEND_MODES.ADD}),this._staminaFlashEffectTween=aoba.FrameTween.new(this._staminaFlashEffect).to({alpha:1},30/(t+1)).to({alpha:0},30/(t+1)).loop()}}},{key:"_removeStaminaFlashTween",value:function(){this._staminaFlashEffect&&this._staminaFlashEffect.destroy({children:!0}),this._staminaFlashEffect2&&this._staminaFlashEffect2.destroy({children:!0}),this._staminaFlashEffectTween&&this._staminaFlashEffectTween.remove()}}]),t}(aoba.Container);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1371),l=r(s),u=n(1372),c=r(u),f=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n){var o=r.fromData(c.default,{textValue:{key:"text_live_final_"+e+".png"}});o.textLiveNext.y+=4,o.textValue.y+=4}else r.fromData(l.default,{textValue:{key:"text_week_"+e+".png"}});return r}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"textWeekRemaining",fullName:"textWeekRemaining",type:"sprite",key:"text_week_remaining.png",x:0,y:22},{name:"textValue",fullName:"textValue",anchor:{x:.5,y:.5},type:"sprite",key:"text_week_8.png",x:87,y:24},{name:"textWeek",fullName:"textWeek",type:"sprite",key:"text_week.png",x:115,y:18}],name:"",fullName:"",type:"container",x:687,y:15}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"textLiveNext",fullName:"textLiveNext",type:"sprite",key:"text_live_next.png",x:0,y:19},{name:"textValue",fullName:"textValue",anchor:{x:.5,y:.5},type:"sprite",key:"text_semi_final.png",x:104,y:21}],name:"",fullName:"",type:"container",x:687,y:18}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"produceHeaderBase",fullName:"produceHeaderBase",type:"sprite",key:"produce_header_base.png",x:0,y:0},{name:"season",fullName:"season",anchor:{x:.5,y:.5},type:"text",text:"\u30b7\u30fc\u30ba\u30f3 1",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:16},rotation:0,x:51,y:13},{name:"weekContent",fullName:"weekContent",type:"container",x:49,y:8},{name:"staminaGauge",fullName:"staminaGauge",type:"sprite",key:"produce_stamina_gauge.png",x:252,y:9},{name:"tensionIcon",fullName:"tensionIcon",type:"sprite",key:null,x:290,y:30},{name:"memoryAppealLevel",fullName:"memoryAppealLevel",type:"sprite",key:null,x:447,y:31}],name:"",fullName:"",type:"container",x:638,y:7}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},c=n(3),f=r(c),d=n(1375),p=r(d),h=n(0),y=r(h),m=n(1376),_=r(m),g=n(1382),b=r(g),v=n(1405),w=r(v),k=n(1416),S=r(k),I=n(1438),E=r(I),A=n(83),x=r(A),C=n(241),T=r(C),P=n(255),O=r(P),N=n(1439),M=r(N),R={LESSON:1,WORK:2,AUDITION:4},D=["trouble_guard","tension_boost","stamina_support"],F=function(t){function n(t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));r._actServerAction=t.actServerAction,r._store=t.store;var o=r._store,s=o.userProduceIdol,l=o.userProduceSupportIdols,u=o.places,c=o.supportSkills,d=o.produceAuditions,h=o.produceTrendCombination,m=e.groupBy(u,"actionType"),g=m[R.LESSON]||[],v=m[R.WORK]||[],k=w.default.new({userProduceIdol:s,getParameterRank:r._store.getParameterRank.bind(r._store)}),S=new b.default({predictionParams:{appeal:r._store.getPredictionAppeal(),mental:s.mental},lessonPlaces:g,workPlaces:v,auditions:d,trends:h,parameterList:k}),I=_.default.new({lessonPlaces:g,workPlaces:v,auditions:d,onSelectLesson:function(){r._switchActionSelect(S.getOrCreateLessonSelect(R.LESSON))},onSelectWork:function(){r._switchActionSelect(S.getOrCreateWorkSelect(R.WORK))},onSelecAudition:function(){r._switchActionSelect(S.getOrCreateAuditionSelect(R.AUDITION))}}),A=r.fromData(p.default,{bg:aoba.Container.new(),actionTypeTabList:I,controlButton:{class:E.default},decisionButton:{class:y.default.DecideButton}}),x=A.bg,C=A.actionTypeTabListBase,T=A.actionSelect,P=A.controlButton,O=A.decisionButton;r._bg=x,r._lessonAndWorkBg=(0,M.default)(),r._actionTypeTabListBase=C,r._actionTypeTabList=I,r._actionSelect=T,r._parameterList=k,r._controlButton=P,r._decisionButton=O,r._userProduceIdol=s,r._userProduceSupportIdols=l,r._places=u,r._actionSelectFactory=S,r._decisionButton.name="decisionButton";var N=c.filter(function(e){var t=e.supportSkillEffect;return t&&D.includes(t.effectType)});P.setControls({skillBoard:{texture:aoba.Texture.fromImage("skill_board_button.png"),callback:t.onTapSkillBoardButton},supportSkill:{
texture:aoba.Texture.fromImage("support_skill_button.png"),callback:function(){t.onTapSupportSkillButton(N)}}}),P.changeControl("supportSkill"),N.length<=0&&(r._isNoDisplaySuppotSkill=!0,P.disable()),y.default.CommonPartsLayer.create({headerTitle:f.default.t("header.produceActivity"),onTapBackButton:function(){r.emit("back")}}).addTo(r),O.once("tap",r._decideAction,r),I.init(),r.interactiveChildren=!1;var F=setTimeout(function(){r._playSupportSkillCutIns(c).then(function(){r.interactiveChildren=!0})},20);return r.on("removed",function(){clearTimeout(F)}),r}return o(n,t),l(n,[{key:"ezgPreDestroy",value:function(){this._lessonAndWorkBg&&this._lessonAndWorkBg.destroy({children:!0}),this._auditionBg&&this._auditionBg.destroy({children:!0}),this._actionSelectFactory.destroy(),u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"updateParameterSkillPoint",value:function(e){this._parameterList.updateSkillPoint(e)}},{key:"updateParameterLimitValues",value:function(e){this._parameterList.updateLimitValues(e)}},{key:"_switchActionSelect",value:function(e){if(e!==this._actionSelect){if(e.actionType===R.AUDITION){var t=this._getOrCreateAuditionBg();t.parent||(this._bg.removeChildren(),t.addTo(this._bg),this._controlButton.changeControl("skillBoard"),this._controlButton.enable())}else{var n=this._lessonAndWorkBg;n.parent||(this._bg.removeChildren(),n.addTo(this._bg),this._controlButton.changeControl("supportSkill"),this._isNoDisplaySuppotSkill&&this._controlButton.disable())}e.setPosition(this._actionSelect.x,this._actionSelect.y),e.addToAt(this,this._actionSelect),this._actionSelect.remove(),this._actionSelect=e}}},{key:"_getOrCreateAuditionBg",value:function(){return this._auditionBg||(this._auditionBg=x.default.createAuditionSelect()),this._auditionBg}},{key:"_decideAction",value:function(){this.interactiveChildren=!1,this._actionSelect.actionType===R.AUDITION?this.emit("goToAudition",{auditionId:this._actionSelect.selectedId}):(this._actLesson(this._actionSelect.selectedId),this.emit("decideAction"))}},{key:"_actLesson",value:function(e){var t=this;this.emit("startLesson"),Promise.all([this._actServerAction(e),this._playLessonStartEffect()]).then(function(n){var r=s(n,1),i=r[0],a=i.lessonResult,o=i.result,l=i.isPlaceLevelUp,u=a.produceActCutinComment,c=a.produceActIdolComment,f=a.produceActSupportIdolComments;u.voicePath=t._userProduceIdol.getVoicePath(u.voice),c.voicePath=t._userProduceIdol.getVoicePath(c.voice),f.forEach(function(e){var n=t._userProduceSupportIdols.find(function(t){return t.characterId===e.characterId});e.voicePath=n.getVoicePath(e.voice)});var d=t._places.find(function(t){return t.producePlaceCategoryId===e}),p=t._store.getRankUpParameters(t._userProduceIdol,a);S.default.new().addTo(t).on("middle",function(){t._store.updateParameter(a)}).play({placeStage:t._actionSelect.selectedPlaceStage,parameterList:t._parameterList,userProduceIdol:t._userProduceIdol,userProduceSupportIdols:t._userProduceSupportIdols,place:d,lessonResult:a,result:o,rankUpParams:p,isPlaceLevelUp:l}).then(function(){t.emit("end",i)})})}},{key:"_playLessonStartEffect",value:function(){return aoba.Tween.new(this._actionTypeTabListBase).to({x:-240},240,"easeInBack"),aoba.Tween.new(this._actionTypeTabList).to({x:-240},240,"easeInBack"),aoba.Tween.new(this._decisionButton).to({y:aoba.game.height+this._decisionButton.height/2},240,"easeInBack"),aoba.Tween.new(this._controlButton).to({y:aoba.game.height+this._controlButton.height/2},240,"easeInBack").promise()}},{key:"_playSupportSkillCutIns",value:function(e){var t=this,n=[T.default.staminaSupport,T.default.tensionBoost,T.default.troubleGuard];return e.reduce(function(e,r){return n.includes(r.effectType)?e.then(function(){return t._playSupportSkillCutIn(r)}):e},Promise.resolve())}},{key:"_playSupportSkillCutIn",value:function(e){var t=this;return new Promise(function(n){O.default.new(e).addTo(t).on("end",n)})}}]),n}(aoba.Container);t.default=F}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"container",x:0,y:0},{name:"actionSelect",fullName:"actionSelect",type:"container",x:279,y:85},{name:"actionTypeTabListBase",fullName:"actionTypeTabListBase",type:"sprite",key:"action_type_tab_list_base.png",x:0,y:0},{name:"actionTypeTabList",fullName:"actionTypeTabList",type:"container",x:0,y:85},{name:"controlButton",fullName:"controlButton",anchor:{x:.5,y:.5},type:"sprite",key:"support_skill_button.png",x:874,y:589},{name:"decisionButton",fullName:"decisionButton",anchor:{x:.5,y:.5},type:"sprite",key:"decision_button.png",x:1046,y:589}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(7),u=r(l),c=n(1377),f=r(c),d=n(1378),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=p.default.createLesson({places:e.lessonPlaces,onSelect:e.onSelectLesson}),o=p.default.createWork({places:e.workPlaces,onSelect:e.onSelectWork}),s=p.default.createAudition({auditions:e.auditions,onSelect:e.onSelecAudition});[r,o,s].forEach(function(e){e.on("touchstart",n._selectTab,n)});var l=n.fromData(f.default,{lesson:r,work:o,audition:s}),u=l.lesson,c=l.work,d=l.audition;return u.name="lessonTab",c.name="workTab",d.name="auditionTab",n}return o(t,e),s(t,[{key:"init",value:function(){var e=this.children,t=e[0];this._selectTab(t,!1)}},{key:"disableAll",value:function(){this.children.forEach(function(e){e.interactive=!1})}},{key:"enableAll",value:function(){this.children.forEach(function(e){e.interactive=!0})}},{key:"_selectTab",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.children.find(function(e){return e.selected});e!==n&&(n&&n.cancel(),t&&aoba.soundManager.playSE(u.default.ui.select),e.select())}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"lesson",fullName:"lesson",type:"container",x:0,y:0},{name:"work",fullName:"work",type:"container",x:0,y:149},{name:"audition",fullName:"audition",type:"container",x:0,y:299}],name:"",fullName:"",type:"container",x:0,y:85}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),
Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1379),u=r(l),c=n(1380),f=r(c),d={lesson:{labelOff:"off_lesson.png",labelOn:"on_lesson.png"},work:{labelOff:"off_work.png",labelOn:"on_work.png"},audition:{labelOff:"off_audition.png",labelOn:"on_audition.png"}},p=function(e){var t=aoba.Container.new();return e.forEach(function(e){e.supportIdols.forEach(function(e){var n=t.children.length;f.default.new(e).addTo(t,40*n,0)})}),t},h=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=n.places,s=n.auditions,l={labelOff:{key:e.labelOff},labelOn:{key:e.labelOn}};o&&o.some(function(e){return e.canPartnerLesson})||(l.partnerLessonLabel=null),o&&o.some(function(e){return e.isPromised})||(l.promiseIcon=null),o&&(l.supportIdolIconList=p(o)),s&&s.some(function(e){return e.isSpecial})||(l.specialAuditionUnlock=null);var c=r.fromData(u.default,l);return r._selected=!1,r._labelOff=c.labelOff,r._labelOn=c.labelOn,r._onSelect=n.onSelect,aoba.Sprite.new(c.labelOn.texture).addTo(r,0,0,{alpha:0,interactive:!0}).on("touchstart",function(){return r.emit("touchstart",r)}).on("tap",function(){return r.emit("tap",r)}),r}return o(t,e),s(t,[{key:"select",value:function(){this._selected=!0,this._labelOff.hide(),this._labelOn.show(),this._onSelect()}},{key:"cancel",value:function(){this._selected=!1,this._labelOff.show(),this._labelOn.hide()}},{key:"selected",get:function(){return this._selected}}],[{key:"createLesson",value:function(e){return t.new(d.lesson,e)}},{key:"createWork",value:function(e){return t.new(d.work,e)}},{key:"createAudition",value:function(e){return t.new(d.audition,e)}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"labelOff",fullName:"labelOff",type:"sprite",key:null,x:11,y:46},{name:"labelOn",fullName:"labelOn",visible:!1,type:"sprite",key:null,x:0,y:0},{name:"partnerLessonLabel",fullName:"partnerLessonLabel",type:"sprite",key:"partner_lesson_label.png",x:27,y:20},{name:"specialAuditionUnlock",fullName:"specialAuditionUnlock",type:"sprite",key:"special_audition_unlock.png",x:4,y:17},{name:"promiseIcon",fullName:"promiseIcon",type:"sprite",key:"promise_icon_s.png",x:0,y:64},{name:"supportIdolIconList",fullName:"supportIdolIconList",type:"container",x:10,y:100}],name:"",fullName:"",type:"container",x:0,y:85}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1381),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=.6,u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=e.canPartnerLesson?"frame_mini_excellent.png":"frame_mini.png";return n.fromData(s.default,{frameMini:{key:a},idolChara:{key:e.getImagePath("icon_circle")}}).idolChara.scale.set(l),n}return a(t,e),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"frameBg",fullName:"frameBg",type:"sprite",key:"frame_bg.png",x:4,y:4},{name:"idolChara",fullName:"idolChara",anchor:{x:.5,y:.5},type:"sprite",key:"mano.png",x:20,y:21},{name:"frameMini",fullName:"frameMini",type:"sprite",key:"frame_mini.png",x:0,y:0}],name:"",fullName:"",type:"container",x:10,y:155}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1383),s=r(o),l=n(1388),u=r(l),c=function(){function e(t){i(this,e),this._store={},this._predictionParams=t.predictionParams,this._lessonPlaces=t.lessonPlaces,this._workPlaces=t.workPlaces,this._auditions=t.auditions,this._trends=t.trends,this._parameterList=t.parameterList}return a(e,[{key:"getOrCreateLessonSelect",value:function(e){return this._store.lesson||(this._store.lesson=u.default.new("action_select_base_lesson.png",{actionType:e,places:this._lessonPlaces,parameterList:this._parameterList})),this._store.lesson}},{key:"getOrCreateWorkSelect",value:function(e){return this._store.work||(this._store.work=u.default.new("action_select_base_work.png",{actionType:e,places:this._workPlaces,parameterList:this._parameterList})),this._store.work}},{key:"getOrCreateAuditionSelect",value:function(e){return this._store.audition||(this._store.audition=s.default.new("action_select_base_audition.png",{actionType:e,predictionParams:this._predictionParams,auditions:this._auditions,trends:[this._trends.first,this._trends.second,this._trends.third],parameterList:this._parameterList})),this._store.audition}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Object.values(this._store)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.destroy({children:!0})}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(1384),f=r(c),d=n(480),p=r(d),h=n(1386),y=r(h),m=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=n.actionType,s=n.predictionParams,l=n.auditions,u=n.trends,c=n.parameterList,d=l.map(function(e){return y.default.new({audition:e,predictionParams:s})}),h=p.default.new(d,{x:36,y:0,intervalX:750,onChange:r._handleChangeContent.bind(r)}),m=aoba.Container.new();return u.forEach(function(e,t){aoba.Sprite.new("trend_icon_"+e+".png").addTo(m,98*t)}),r.fromData(f.default,{base:{key:e},trendList:m,actionListCarousel:h,parameterList:c}),r._actionType=o,r._auditions=l,r._actionListCarousel=h,r._parameterList=c,r.on("added",r._handleAdded,r),r}return o(t,e),s(t,[{key:"_handleChangeContent",value:function(e){var t=this._auditions.find(function(t){return t.id===e});this._updateParameterListIncreaseValues(t)}},{key:"_handleAdded",value:function(){this._actionListCarousel.reset(),this._parameterList.addTo(this)}},{key:"_updateParameterListIncreaseValues",value:function(e){var t=u.default.t("produceAction.auditionParameterUp"),n=Object.assign({},e,{vocal:t,dance:t,visual:t,mental:t,skillPoint:t});this._parameterList.switchIncreaseValues(n,!0)}},{key:"actionType",get:function(){return this._actionType}},{
key:"selectedId",get:function(){return this._actionListCarousel.currentContent.id}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"action_select_base_audition.png",x:0,y:0},{name:"actionListCarousel",fullName:"actionListCarousel",type:"container",x:28,y:76},{name:"trendList",fullName:"trendList",type:"container",x:505,y:22},{name:"parameterList",fullName:"parameterList",type:"container",x:17,y:350}],name:"",fullName:"",type:"container",x:279,y:85}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"contentList",fullName:"contentList",type:"container",x:7,y:7},{name:"indicator",fullName:"indicator",type:"container",x:331,y:253},{name:"arrowPrev",fullName:"arrowPrev",anchor:{x:.5,y:.5},type:"sprite",key:"arrow_prev.png",x:27,y:144},{name:"arrowNext",fullName:"arrowNext",anchor:{x:.5,y:.5},type:"sprite",key:"arrow_next.png",x:715,y:144}],name:"",fullName:"",type:"container",x:307,y:161}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(0),f=r(c),d=n(1387),p=r(d),h=n(3),y=r(h),m=20,_=function(e){function t(e){var n=e.audition,r=e.predictionParams;i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._audition=n,o.fromData(p.default,{banner:{key:n.bannerImagepath},condition:{text:y.default.t("produceAction.auditionCondition",{rank:n.requiredIdolRank})},difficultyValue:{text:n.difficulty},difficultyGauge:f.default.Gauge.new("difficulty_gauge.png",{value:n.difficulty,maxValue:m}),rivalEstimateAppeal:{text:u.default.numberFormat(n.rivalPredictionAppeal)},rivalMental:{text:u.default.numberFormat(n.rivalPredictionMental)},deckEstimateAppeal:{text:u.default.numberFormat(r.appeal)},deckMental:{text:u.default.numberFormat(r.mental)}}),o}return o(t,e),s(t,[{key:"id",get:function(){return this._audition.id}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"auditionContentBase",fullName:"auditionContentBase",type:"sprite",key:"audition_content_base.png",x:0,y:0},{name:"banner",fullName:"banner",type:"sprite",key:null,x:26,y:18},{name:"rivalEstimateAppeal",fullName:"rivalEstimateAppeal",anchor:{x:1,y:0},type:"text",text:"99,999",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:415,y:188},{name:"rivalMental",fullName:"rivalMental",anchor:{x:1,y:0},type:"text",text:"99,999",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:627,y:188},{name:"deckEstimateAppeal",fullName:"deckEstimateAppeal",anchor:{x:1,y:0},type:"text",text:"99,999",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:415,y:223},{name:"deckMental",fullName:"deckMental",anchor:{x:1,y:0},type:"text",text:"99,999",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:627,y:223},{name:"condition",fullName:"condition",anchor:{x:.5,y:.5},type:"text",text:"\u30a2\u30a4\u30c9\u30eb\u30e9\u30f3\u30afC\u4ee5\u4e0a",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:520,y:69},{name:"difficultyValue",fullName:"difficultyValue",anchor:{x:.5,y:.5},type:"text",text:"5",style:{fill:16711422,fontFamily:"HummingStd-E",fontSize:22},rotation:0,x:489,y:108},{name:"difficultyGauge",fullName:"difficultyGauge",type:"sprite",key:"difficulty_gauge.png",x:401,y:108}],name:"",fullName:"",type:"container",x:341,y:161}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1389),u=r(l),c=n(480),f=r(c),d=n(1390),p=r(d),h=n(1394),y=r(h),m=n(1399),_=r(m),g=n(1400),b=r(g),v=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=n.actionType,s=n.places,l=n.parameterList,c=p.default.new(),d=s.map(function(e){return y.default.new(e)}),h=f.default.new(d,{x:-312,y:-40,intervalX:780,onChange:r._handleChangeContent.bind(r)});return r.fromData(u.default,{base:{key:e},actionListCarousel:h,parameterList:l,placeInformation:c}),r._actionType=o,r._places=s,r._actionListCarousel=h,r._parameterList=l,r._placeInformation=c,r._leftSupportIdolIconContainer=_.default.new().addTo(r,-64,0),r._rightSupportIdolIconContainer=_.default.new().addTo(r,788,0),r.on("added",r._handleAdded,r),r}return o(t,e),s(t,[{key:"_handleChangeContent",value:function(e){var t=this._places.findIndex(function(t){return t.id===e}),n=this._places[t];this._placeInformation.applyData(n),this._updateParameterListIncreaseValues(n),this._switchSideIdolIcons(t),this._actionListCarousel.currentContent.placeSupportIdols()}},{key:"_handleAdded",value:function(){this._actionListCarousel.reset(),this._parameterList.addTo(this),this._leftSupportIdolIconContainer.alpha=0,this._rightSupportIdolIconContainer.alpha=0}},{key:"_updateParameterListIncreaseValues",value:function(e){var t=e.supportIdols.some(function(e){return e.canPartnerLesson});this._parameterList.switchIncreaseValues(e,t)}},{key:"_switchSideIdolIcons",value:function(e){var t=this._places[e-1],n=this._createSideIcons(t,b.default.SIDES.LEFT);this._leftSupportIdolIconContainer.switchIcons(n);var r=this._places[e+1],i=this._createSideIcons(r,b.default.SIDES.RIGHT);this._rightSupportIdolIconContainer.switchIcons(i)}},{key:"_createSideIcons",value:function(e,t){return(e?e.supportIdols:[]).map(function(e){return b.default.new(e,t)})}},{key:"actionType",get:function(){return this._actionType}},{key:"selectedId",get:function(){return this._actionListCarousel.currentContent.placeCategoryId}},{key:"selectedPlaceStage",get:function(){return this._actionListCarousel.currentContent.placeStage}}]),t}(aoba.Container);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"action_select_base_lesson.png",x:0,y:0},{name:"actionListCarousel",fullName:"actionListCarousel",type:"container",x:28,y:76},{name:"parameterList",fullName:"parameterList",type:"container",x:17,y:350},{name:"placeInformation",fullName:"placeInformation",type:"container",x:18,y:12}],name:"",fullName:"",
type:"container",x:279,y:85}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1391),u=r(l),c=n(1392),f=r(c),d=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(u.default,{troubleRate:f.default.new()});return e._icon=n.icon,e._name=n.name,e._level=n.level,e._promiseIcon=n.promiseIcon,e._troubleRate=n.troubleRate,e}return o(t,e),s(t,[{key:"applyData",value:function(e){this._icon.texture=aoba.Texture.fromImage(e.getCategoryImagePath("icon")),this._name.text=e.name,this._level.texture=aoba.Texture.fromImage("place_level_"+e.level+".png"),this._promiseIcon.visible=e.isPromised,this._troubleRate.setValue(e.troubleRate)}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"troubleRate",fullName:"troubleRate",pivot:{x:.5,y:.5},type:"container",x:671,y:73},{name:"icon",fullName:"icon",type:"sprite",key:null,x:0,y:3},{name:"level",fullName:"level",type:"sprite",key:null,x:502,y:0},{name:"promiseIcon",fullName:"promiseIcon",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"promise_icon_l.png",x:111,y:118},{name:"name",fullName:"name",type:"text",text:"\u30c8\u30fc\u30af\u30a4\u30d9\u30f3\u30c8\u306b\u51fa\u6f14",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:85,y:21}],name:"",fullName:"",type:"container",x:297,y:97}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1393),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(l.default,{rate:{text:20}});return e._rate=n.rate,e}return a(t,e),o(t,[{key:"setValue",value:function(e){this._rate.text=e}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"troubleRateBase",fullName:"troubleRateBase",type:"sprite",key:"trouble_rate_base.png",x:-65,y:-65},{name:"rate",fullName:"rate",anchor:{x:.5,y:.5},type:"text",text:"30",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:35},rotation:0,x:-8,y:16}],name:"",fullName:"",pivot:{x:.5,y:.5},type:"container",x:968,y:170}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1395),u=r(l),c=n(481),f=r(c),d=n(1396),p=r(d),h=n(1397),y=r(h),m="4",_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._id=e.id,n._placeCategoryId=e.producePlaceCategoryId,n._supportIdols=e.supportIdols;var r=e.producePlaceCategoryId===m?p.default:f.default,o=n.fromData(u.default,{bgPlace:r.new(e)});return n._supportIdolSpines=null,n._placeStage=o.bgPlace,n}return o(t,e),s(t,[{key:"placeSupportIdols",value:function(){this._supportIdolSpines||(this._supportIdolSpines=this._supportIdols.map(function(e){return y.default.new(e)}),this._placeStage.placeIdols(this._supportIdolSpines))}},{key:"id",get:function(){return this._id}},{key:"placeCategoryId",get:function(){return this._placeCategoryId}},{key:"supportIdols",get:function(){return this._supportIdolSpines}},{key:"placeStage",get:function(){return this._placeStage}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bgPlace",fullName:"bgPlace",anchor:{x:.5,y:.5},type:"sprite",key:"bg_place.png",x:684,y:187}],name:"",fullName:"",type:"container",x:0,y:69}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(57),u=r(l),c=n(481),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._chairLayer=aoba.Container.new().addTo(n),n._frontIdolLayer=aoba.Container.new().addTo(n),n._subCharacterLayer=aoba.Container.new().addTo(n),n._stageAccessoryLayer=aoba.Container.new().addTo(n),u.default.new("spine/sub_characters/cb/staff/data.json").setSkin("normal").play("radio",!0).addTo(n._subCharacterLayer,70,130),aoba.Sprite.new("images/content/produce_place_categories/accessory/00005/chair.png").addTo(n._chairLayer,115,13),aoba.Sprite.new("images/content/produce_place_categories/accessory/00005/mixer.png").addTo(n._stageAccessoryLayer,-50,22),aoba.Sprite.new("images/content/produce_place_categories/accessory/00005/personal_chair.png").addTo(n._stageAccessoryLayer,-383,-50),n}return o(t,e),s(t,[{key:"_placeIdol",value:function(e,t){
var n=this._positions[t],r=n.x-this.width/2/.6,i=n.y-this.height/2/.6;t<2?e.addTo(this._frontIdolLayer,r,i):e.addTo(this._idolLayer,r,i),e.playWaitAnimation(this.placeCategoryId,t),this._idols.push(e)}},{key:"_actStaff",value:function(e){var t=this._subCharacterLayer.children[0],n=e?"radio_ng":"radio_ok";t.setAnimation(0,n)}},{key:"actSubCharacters",value:function(e){var t=this;this._frontIdolLayer.children.forEach(function(n){return t._actSubCharacter(n,e)}),this._actStaff(e)}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(482),u=r(l),c=n(57),f=r(c),d={1:[{skin:"normal",wait:"vocal_wait",ok:"vocal_ok",ng:"ng"},{skin:"normal",wait:"vocal_wait",ok:"vocal_ok",ng:"ng"},{skin:"normal",wait:"tour",ok:"ok",ng:"ng"},{skin:"normal",wait:"tour",ok:"ok",ng:"ng"},{skin:"normal",wait:"tour",ok:"ok",ng:"ng"}],2:[{skin:"normal_j",wait:"dance_wait",ok:"dance_ok",ng:"ng"},{skin:"normal_j",wait:"dance_wait",ok:"dance_ok",ng:"ng"},{skin:"normal_j",wait:"tour",ok:"ok",ng:"ng"},{skin:"normal_j",wait:"tour",ok:"ok",ng:"ng"},{skin:"normal_j",wait:"tour",ok:"ok",ng:"ng"}],3:[{skin:"normal",wait:"visual_wait",ok:"visual_ok",ng:"ng"},{skin:"normal",wait:"visual_wait",ok:"visual_ok",ng:"ng"},{skin:"normal",wait:"tour_down",ok:"ok_down",ng:"ng_down"},{skin:"reverse",wait:"tour_down",ok:"ok_down",ng:"ng_down"},{skin:"normal",wait:"tour_down",ok:"ok_down",ng:"ng_down"}],4:[{skin:"normal",wait:"radio_wait",ok:"radio_ok",ng:"ng_down"},{skin:"normal",wait:"tour_down",ok:"ok_down",ng:"ng_down"},{skin:"normal",wait:"tour",ok:"ok",ng:"ng"},{skin:"normal",wait:"tour_down",ok:"ok_down",ng:"ng_down"},{skin:"normal",wait:"tour_down",ok:"ok_down",ng:"ng_down"}],5:[{skin:"reverse",wait:"radio_wait",ok:"radio_ok",ng:"ng_down"},{skin:"normal",wait:"talk_wait",ok:"talk_ok_02",ng:"ng"},{skin:"normal",wait:"tour",ok:"tour",ng:"ng"},{skin:"normal",wait:"tour_down",ok:"tour_down",ng:"ng_down"},{skin:"normal",wait:"tour_down",ok:"tour_down",ng:"ng_down"}],6:[{skin:"normal",wait:"photo_wait",ok:"photo_ok_01",ng:"ng"},{skin:"reverse",wait:"photo_wait",ok:"photo_ok_02",ng:"ng"},{skin:"normal",wait:"tour",ok:"ok",ng:"tour"},{skin:"normal",wait:"tour",ok:"ok",ng:"tour"},{skin:"normal",wait:"tour",ok:"ok",ng:"tour"}]},p=.5,h=1.7,y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._waitAnimationName=null,n._characterLayer=aoba.Container.new().addTo(n),n._uiLayer=aoba.Container.new().addTo(n),n._notice=aoba.Sprite.fromFrame("icon_notice_balloon.png").addTo(n._uiLayer,-6,-350,{visible:!1}),n._setSupportCard(e),n._spine=f.default.new(e.getSpinePath("cb")).addTo(n._characterLayer).setScale(p),n._gage=u.default.new(e.friendshipPoint,e.canPartnerLesson).addTo(n._uiLayer,-40,-258,{scale:h}),e.canPartnerLesson&&(aoba.Sprite.fromFrame("badge_excellent.png").addTo(n._uiLayer,-90,-324,{scale:h}),aoba.Sprite.fromFrame("effect.png").addTo(n._uiLayer,-80,-250,{scale:h})),n}return o(t,e),s(t,[{key:"_setSupportCard",value:function(e){this._data=e,this._notice.visible=this._data.hasProduceSkillEvent}},{key:"playWaitAnimation",value:function(e,t){this._waitAnimationName=d[e][t].wait,this._spine.setSkin(d[e][t].skin),this._spine.setAnimation(0,this._waitAnimationName,!0),this._order=t,this._spine.update(Math.random())}},{key:"act",value:function(e,t){var n=d[e][this._order],r=t?n.ng:n.ok;this._spine.setAnimation(0,r,!1,{mixing:!0}),aoba.Tween.new(this._uiLayer).to({alpha:0},200)}},{key:"producePlaceCategoryId",get:function(){return this._data.producePlaceCategoryId}},{key:"friendshipPoint",get:function(){return this._data.friendshipPoint}},{key:"spine",get:function(){return this._spine}},{key:"order",get:function(){return this._order}},{key:"characterId",get:function(){return this._data.characterId}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"friendshipGageBase",fullName:"friendshipGageBase",type:"sprite",key:"friendship_gage_base.png",x:0,y:0},{name:"friendshipGage",fullName:"friendshipGage",type:"sprite",key:"friendship_gage_25.png",x:2,y:2},{name:"friendshipGageLine",fullName:"friendshipGageLine",type:"sprite",key:"friendship_gage_line.png",x:14,y:3}],name:"",fullName:"",type:"container",x:27,y:118}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=[180,100,260,20,340],l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"switchIcons",value:function(e){var t=this;return this._currentPromise?this._currentPromise.then(function(){return t.switchIcons(e)}):(this._currentPromise=aoba.FrameTween.new(this).to({alpha:0},3).call(function(){t._destroyAndAddIcons(e)}).to({alpha:1},3).call(function(){t._currentPromise=null}).promise(),this._currentPromise)}},{key:"_destroyAndAddIcons",value:function(e){var t=this;this.destroyChildren(),e.forEach(function(e,n){return e.addTo(t,0,s[n])})}}]),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1401),u=r(l),c=n(1402),f=r(c),d=n(1403),p=r(d),h=n(1404),y=r(h),m=n(482),_=r(m),g={RIGHT:{normalFrameImage:"icon_chara_frame_right.png",partnerFrameImage:"icon_chara_frame_right_excellent.png",normalLayout:f.default,partnerLayout:y.default},LEFT:{
normalFrameImage:"icon_chara_frame_left.png",partnerFrameImage:"icon_chara_frame_left_excellent.png",normalLayout:u.default,partnerLayout:p.default}},b=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=void 0,s=void 0;return e.canPartnerLesson?(o=n.partnerLayout,s=n.partnerFrameImage):(o=n.normalLayout,s=n.normalFrameImage),r.fromData(o,{"iconChara/iconCharaFrame":{key:s},"iconChara/iconChara":{key:e.getImagePath("icon_circle")},friendshipGage:_.default.new(e.friendshipPoint,e.canPartnerLesson)}),r}return o(t,e),s(t,null,[{key:"SIDES",get:function(){return g}}]),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"iconCharaBase",fullName:"iconChara/iconCharaBase",type:"sprite",key:"icon_chara_base.png",x:12,y:5},{name:"iconChara",fullName:"iconChara/iconChara",anchor:{x:.5,y:.5},type:"sprite",key:"kaho.png",x:38,y:31},{name:"iconCharaFrame",fullName:"iconChara/iconCharaFrame",type:"sprite",key:"icon_chara_frame_left.png",x:0,y:0}],name:"iconChara",fullName:"iconChara",type:"container",x:0,y:0},{name:"friendshipGage",fullName:"friendshipGage",type:"container",x:12,y:56}],name:"",fullName:"",type:"container",x:226,y:265}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"iconCharaBase",fullName:"iconChara/iconCharaBase",type:"sprite",key:"icon_chara_base.png",x:6,y:5},{name:"iconChara",fullName:"iconChara/iconChara",anchor:{x:.5,y:.5},type:"sprite",key:"kaho.png",x:32,y:31},{name:"iconCharaFrame",fullName:"iconChara/iconCharaFrame",type:"sprite",key:"icon_chara_frame_right.png",x:0,y:0}],name:"iconChara",fullName:"iconChara",type:"container",x:0,y:0},{name:"friendshipGage",fullName:"friendshipGage",type:"container",x:6,y:56}],name:"",fullName:"",type:"container",x:1064,y:265}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"iconCharaBase",fullName:"iconChara/iconCharaBase",type:"sprite",key:"icon_chara_base.png",x:12,y:8},{name:"iconChara",fullName:"iconChara/iconChara",anchor:{x:.5,y:.5},type:"sprite",key:"mano.png",x:38,y:34},{name:"iconCharaFrame",fullName:"iconChara/iconCharaFrame",type:"sprite",key:"icon_chara_frame_excellent.png",x:0,y:0}],name:"iconChara",fullName:"iconChara",type:"container",x:4,y:5},{children:[{name:"outExcellent",fullName:"friendshipGage/outExcellent",type:"sprite",key:"out_excellent.png",x:0,y:0},{name:"inExcellent",fullName:"friendshipGage/inExcellent",type:"sprite",key:"in_excellent.png",x:2,y:2},{name:"line",fullName:"friendshipGage/line",type:"sprite",key:"line.png",x:10,y:3}],name:"friendshipGage",fullName:"friendshipGage",type:"container",x:15,y:63}],name:"",fullName:"",type:"container",x:223,y:96}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"iconCharaBase",fullName:"iconChara/iconCharaBase",type:"sprite",key:"icon_chara_base.png",x:13,y:10},{name:"iconChara",fullName:"iconChara/iconChara",anchor:{x:.5,y:.5},type:"sprite",key:"mano.png",x:39,y:36},{name:"iconCharaFrame",fullName:"iconChara/iconCharaFrame",type:"sprite",key:"icon_chara_frame_right_excellent.png",x:0,y:0}],name:"iconChara",fullName:"iconChara",type:"container",x:0,y:0},{name:"friendshipGage",fullName:"friendshipGage",type:"container",x:12,y:60}],name:"",fullName:"",type:"container",x:1058,y:99}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1406),u=r(l),c=n(1407),f=r(c),d={VOCAL:"vocal",DANCE:"dance",VISUAL:"visual",MENTAL:"mental",SKILL_POINT:"skillPoint",FAN:"fan"},p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.getParameterRank,o=e.userProduceIdol,s=o.vocal,l=o.dance,c=o.visual,p=o.mental,h=o.skillPoint,y=o.fan,m=o.limitVocal,_=o.limitDance,g=o.limitVisual,b=o.limitMental;aoba.Graphics.new().beginFill(16777215).drawRoundedRect(-4,48,772,60,12).addTo(n,0,0);var v=n.fromData(u.default,{vocal:f.default.createVocal(s,m,r("vocal",s)),dance:f.default.createDance(l,_,r("dance",l)),visual:f.default.createVisual(c,g,r("visual",c)),mental:f.default.createMental(p,b,r("mental",p)),skillPoint:f.default.createSkillPoint(h),fan:f.default.createFan(y)});return n[d.VOCAL]=v.vocal,n[d.DANCE]=v.dance,n[d.VISUAL]=v.visual,n[d.MENTAL]=v.mental,n[d.SKILL_POINT]=v.skillPoint,n[d.FAN]=v.fan,n}return o(t,e),s(t,[{key:"updateSkillPoint",value:function(e){this[d.SKILL_POINT].updateValue(e)}},{key:"updateLimitValues",value:function(e){this.vocal.updateLimitValue(e.limitVocal),this.dance.updateLimitValue(e.limitDance),this.visual.updateLimitValue(e.limitVisual),this.mental.updateLimitValue(e.limitMental)}},{key:"switchIncreaseValues",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=Object.values(d)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=this[s];if(!l.isMaxValue){var u=e[s];l.switchIncreaseValue(u,t)}}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"hideIncreaseValues",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Object.values(d)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)this[r.value].hideIncreaseValue()}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"playIncreaseParameterEffects",value:function(e,t){var n=this,r=[],i=!0,a=!1,o=void 0;try{for(var s,l=Object.values(d)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)(function(){var i=s.value,a=n[i];if(a.isMaxValue)return"continue";var o=e[i];if(void 0===o||0===o)return"continue";r.push(function(){return a.showUpIncreaseValue(o,t)})})()}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}r.reduce(function(e,t){return e.call(t).wait(3)},aoba.FrameTween.new(this))}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"parameterListBase",fullName:"parameterListBase",type:"sprite",key:"parameter_list_base.png",x:37,y:72},{name:"vocal",fullName:"vocal",type:"container",x:0,y:0},{name:"dance",fullName:"dance",type:"container",x:119,y:0},{name:"visual",fullName:"visual",type:"container",x:239,y:0},{name:"mental",fullName:"mental",type:"container",x:358,y:0},{name:"skillPoint",fullName:"skillPoint",type:"container",x:478,y:0},{name:"fan",fullName:"fan",type:"container",x:579,y:0}],name:"",fullName:"",type:"container",x:296,y:435}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}
}(),o=n(1408),s=r(o),l=n(1409),u=r(l),c=n(1410),f=r(c),d=n(1411),p=r(d),h=n(1412),y=r(h),m=n(1413),_=r(m),g=n(1414),b=r(g),v=n(483),w=r(v),k=n(1415),S=r(k),I={VOCAL:{iconImage:"icon_status_vocal.png"},DANCE:{iconImage:"icon_status_dance.png"},VISUAL:{iconImage:"icon_status_visual.png"},MENTAL:{iconImage:"icon_status_mental.png"}},E=function(){function e(){i(this,e)}return a(e,null,[{key:"createVocal",value:function(t,n,r){return e.createIdolParameter(I.VOCAL.iconImage,t,n,r)}},{key:"createDance",value:function(t,n,r){return e.createIdolParameter(I.DANCE.iconImage,t,n,r)}},{key:"createVisual",value:function(t,n,r){return e.createIdolParameter(I.VISUAL.iconImage,t,n,r)}},{key:"createMental",value:function(t,n,r){return e.createIdolParameter(I.MENTAL.iconImage,t,n,r)}},{key:"createIdolParameter",value:function(e,t,n,r){return S.default.new({parameterIconImage:e,value:t,limitValue:n,rank:r,layout:s.default,increaseParameterLayout:p.default,increaseParameterPartnerLayout:y.default})}},{key:"createSkillPoint",value:function(e){return w.default.new({parameterIconImage:"icon_status_sp.png",value:e,layout:u.default,increaseParameterLayout:p.default,increaseParameterPartnerLayout:y.default})}},{key:"createFan",value:function(e){return w.default.new({parameterIconImage:"icon_status_fan.png",value:e,layout:f.default,increaseParameterLayout:_.default,increaseParameterPartnerLayout:b.default})}}]),e}();t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"parameterIcon",fullName:"parameterIcon",type:"sprite",key:null,x:6,y:62},{name:"statusRankIcon",fullName:"statusRankIcon",type:"sprite",key:null,x:37,y:64},{name:"value",fullName:"value",anchor:{x:1,y:0},type:"text",text:"8888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:117,y:67},{name:"increaseParameter",fullName:"increaseParameter",pivot:{x:.5,y:1},type:"container",x:58,y:65},{name:"increaseParameterPartner",fullName:"increaseParameterPartner",pivot:{x:.5,y:1},type:"container",x:60,y:68},{name:"maxBadge",fullName:"maxBadge",type:"sprite",key:"parameter_max_badge.png",x:59,y:84}],name:"",fullName:"",type:"container",x:296,y:435}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"parameterIcon",fullName:"parameterIcon",type:"sprite",key:null,x:6,y:62},{name:"value",fullName:"value",anchor:{x:1,y:0},type:"text",text:"1000",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:92,y:67},{name:"increaseParameter",fullName:"increaseParameter",pivot:{x:.5,y:1},type:"container",x:57,y:65},{name:"increaseParameterPartner",fullName:"increaseParameterPartner",pivot:{x:.5,y:1},type:"container",x:60,y:68}],name:"",fullName:"",type:"container",x:774,y:435}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"parameterIcon",fullName:"parameterIcon",type:"sprite",key:null,x:0,y:64},{name:"value",fullName:"value",anchor:{x:1,y:0},type:"text",text:"888,888,888\u4eba",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:176,y:66},{name:"increaseParameter",fullName:"increaseParameter",pivot:{x:.5,y:1},type:"container",x:101,y:65},{name:"increaseParameterPartner",fullName:"increaseParameterPartner",pivot:{x:.5,y:1},type:"container",x:105,y:68}],name:"",fullName:"",type:"container",x:875,y:435}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"increaseParameterBase",fullName:"increaseParameterBase",type:"sprite",key:"increase_parameter_base.png",x:-53,y:-55},{name:"value",fullName:"value",anchor:{x:.5,y:.5},type:"text",text:"+2000",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:0,y:-33}],name:"",fullName:"",pivot:{x:.5,y:1},type:"container",x:354,y:500}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"increaseParameterPartnerBase",fullName:"increaseParameterPartnerBase",type:"sprite",key:"increase_parameter_partner_base.png",x:-60,y:-68},{name:"value",fullName:"value",anchor:{x:.5,y:.5},type:"text",text:"+3000",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-3,y:-39}],name:"",fullName:"",pivot:{x:.5,y:1},type:"container",x:356,y:503}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"increaseFanBase",fullName:"increaseFanBase",type:"sprite",key:"increase_fan_base.png",x:-73,y:-55},{name:"value",fullName:"value",anchor:{x:.5,y:.5},type:"text",text:"+30000",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-1,y:-33}],name:"",fullName:"",pivot:{x:.5,y:1},type:"container",x:976,y:500}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"increaseFanPartnerBase",fullName:"increaseFanPartnerBase",type:"sprite",key:"increase_fan_partner_base.png",x:-89,y:-68},{name:"value",fullName:"value",anchor:{x:.5,y:.5},type:"text",text:"+3000000",style:{fill:16777215,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:0,y:-39}],name:"",fullName:"",pivot:{x:.5,y:1},type:"container",x:980,y:503}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(483),f=r(c),d=n(484),p=r(d),h=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createFromDataParams",value:function(e){var t=e.parameterIconImage,n=e.value,r=e.limitValue,i=e.rank,a=e.increaseParameterLayout,o=e.increaseParameterPartnerLayout;return this._limitValue=r,{parameterIcon:{key:t},statusRankIcon:{key:u.default.asset.ICON_KEY_OF_STATUS_RANK[i]},value:{text:n},maxBadge:{visible:this.isMaxValue,dy:2},increaseParameter:p.default.new(a),increaseParameterPartner:p.default.new(o)}}},{key:"updateLimitValue",value:function(e){this._limitValue=e,this._maxBadge.visible=this.isMaxValue}},{key:"isMaxValue",get:function(){return this._value===this._limitValue}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}
}(),l=n(1),u=r(l),c=n(0),f=r(c),d=n(1417),p=r(d),h=n(1422),y=r(h),m=n(1423),_=r(m),g=n(1427),b=r(g),v=n(1429),w=r(v),k=n(1435),S=r(k),I=n(361),E=r(I),A=n(1436),x=r(A),C=n(1437),T=r(C),P={success:{key:"success",isTrouble:!1,frontEffectClass:S.default,backEffectDataName:"perfect_back"},normal:{key:"normal",isTrouble:!1,frontEffectClass:E.default,backEffectDataName:"success_back"},failure:{key:"failure",isTrouble:!0,frontEffectClass:x.default,backEffectDataName:"failure_back"},critical:{key:"critical",isTrouble:!0,frontEffectClass:T.default,backEffectDataName:"catastrophe_back"}},O=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._overlay=aoba.Graphics.new().beginFill(0,.5).drawRect(0,0,aoba.game.width,aoba.game.height).addTo(e),e}return o(t,e),s(t,[{key:"play",value:function(e){var t=this,n=e.placeStage,r=e.userProduceIdol,i=e.lessonResult,a=e.place,o=e.result,s=i.produceActIdolComment,l=i.produceActCutinComment,u=i.produceActSupportIdolComments,c=P[o];this._fadeInOverlay();var f=r.getSpinePath("cb");return Promise.resolve().then(function(){return t._playCutIn({actionResult:c,produceActCutinComment:l,idolSpinePath:f,place:a})}).then(function(){return t._focusPlaceStage(n,f)}).then(function(){return t.emit("middle")}).then(function(){return Promise.all([n.playLessonResult(c.isTrouble,s,u),t._playEffects(Object.assign(e,{isTrouble:c.isTrouble,backEffectDataName:c.backEffectDataName}))])})}},{key:"_fadeInOverlay",value:function(){aoba.Tween.new(this._overlay).from({alpha:0},250,"easeInQuart")}},{key:"_playCutIn",value:function(e){var t=this;return new Promise(function(n){(0,w.default)(e).addTo(t).on("end",n)})}},{key:"_focusPlaceStage",value:function(e,t){return e.placeProduceIdol(y.default.new(t)),e.remove(),e.addTo(this,679,308),aoba.Tween.new(e).to({x:u.default.SCREEN_WIDTH/2,y:u.default.SCREEN_HEIGHT/2-48,scaleX:.9,scaleY:.9},300).promise()}},{key:"_playEffects",value:function(e){var t=e.parameterList,n=e.isTrouble,r=e.lessonResult,i=e.isPlaceLevelUp,a=e.rankUpParams,o=e.place,s=e.userProduceSupportIdols,l=e.backEffectDataName;return this._playParameterListEffect(t,r),n?this._showBundledFailureEffects(r,{backEffectDataName:l}):this._showBundledSuccessEffects(r,{place:o,rankUpParams:a,isPlaceLevelUp:i,userProduceSupportIdols:s,backEffectDataName:l})}},{key:"_playParameterListEffect",value:function(e,t){var n=this;aoba.FrameTween.new(e).to({alpha:0},3).call(function(){e.hideIncreaseValues(),e.addTo(n,200,480),aoba.FrameTween.new(e).to({alpha:1},3).wait(3).call(function(){e.playIncreaseParameterEffects(t)})})}},{key:"_showBundledSuccessEffects",value:function(e,t){var n=this,r=t.place,i=t.rankUpParams,a=t.isPlaceLevelUp,o=t.userProduceSupportIdols,s=t.backEffectDataName;this._playLessonResultBGEffect({dataName:s,positionY:u.default.SCREEN_HEIGHT-100});var l=[];return i.length>=1&&l.push(function(){return n._showStatusRankUpEffect(i)}),Object.keys(e.friendshipPoint).length>=1&&l.push(function(){return n._showFriendShipUpEffect(e.friendshipPoint,o)}),a&&l.push(function(){return n._showStageLevelUpEffect(r)}),l.reduce(function(e,t){return e.then(t)},Promise.resolve())}},{key:"_showBundledFailureEffects",value:function(e,t){return this._playLessonResultBGEffect({dataName:t.backEffectDataName,positionY:0}),Promise.resolve()}},{key:"_playLessonResultBGEffect",value:function(e){var t=Object.keys(aoba.loader.resources).filter(function(e){return e.startsWith("result_back/")}),n=new f.default.ParticleSystem(t,e.dataName);n.setPosition(0,e.positionY),n.play({startTime:1e4}),this._overlay.addChild(n.container)}},{key:"_showFriendShipUpEffect",value:function(e,t){return p.default.new().addTo(this).play(e,t)}},{key:"_showStatusRankUpEffect",value:function(e){return _.default.new().addTo(this).showEffect(e)}},{key:"_showStageLevelUpEffect",value:function(e){return b.default.new(e).addTo(this,0,0).showEffect()}}]),t}(aoba.Container);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(1418),d=r(f),p=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._largeIdolIconLayer=aoba.Container.new().addTo(e),e._largeIcons=[],e}return s(t,e),l(t,[{key:"play",value:function(e,t){var n=this,r=Object.keys(e),a=t.filter(function(e){return r.includes(e.supportIdolId)}).map(function(t,r){return n._createLargeIdolIcon(t,r,e[t.supportIdolId])});this._largeIdolIconLayer.x=(c.default.SCREEN_WIDTH-this._largeIdolIconLayer.width)/2,this._largeIdolIconLayer.alpha=0;var o=new Promise(function(e){aoba.FrameTween.new(n._largeIdolIconLayer).from({x:n._largeIdolIconLayer.x+221},6,"easeOutQuart"),aoba.FrameTween.new(n._largeIdolIconLayer).to({alpha:1},10).wait(50).call(e).to({alpha:0},10)});return Promise.all([o].concat(i(a)))}},{key:"_createLargeIdolIcon",value:function(e,t,n){var r=Math.floor(139-58.266),i=aoba.p(.83);return d.default.new(e,t,n).addTo(this._largeIdolIconLayer,148*t,r,{scale:i}).showEffect()}}]),t}(aoba.Container);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1419),c=r(u),f=n(1420),d=r(f),p=n(19),h=r(p),y=1,m=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._index=n;var s=e.canPartnerLesson,l=e.friendshipPoint;return o._uiLayer=aoba.Container.new().addTo(o),o._objs=o._uiLayer.fromData(c.default,{iconChara:{scale:y},"iconChara/idolImage":{key:e.getImagePath("icon_circle_l")},friendshipGageL:d.default.new({friendshipPoint:l,isExcellent:s,increasePoint:r})}),o._uiLayer.position=aoba.p(0,0),o._uiLayer.scale=aoba.p(.78),o._objs["iconChara/idolImage"].scale.set(y),s&&(o._objs.iconChara.texture=aoba.Texture.fromImage("friendship_chara_base_excellent.png"),
o._objs["iconChara/friendshipCharaFrameIn"].texture=aoba.Texture.fromImage("friendship_chara_frame_in_excellent.png"),o._objs["iconChara/friendshipCharaFrameOut"].texture=aoba.Texture.fromImage("friendship_chara_frame_out_excellent.png")),o._gage=o._objs.friendshipGageL,(0,h.default)({folderPath:"produce_action/level_up_grow_anim_loop"}).then(function(e){o._levelUpGrowAE=e,o._levelUpGrowAE.visible=!1,o.addChild(o._levelUpGrowAE)}),o}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._levelUpGrowAE&&this._levelUpGrowAE.destroy(!0),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"showEffect",value:function(){var e=this;return new Promise(function(t){e.show(),aoba.FrameTween.new(e).wait(34).call(t),aoba.FrameTween.new(e).wait(10).call(function(){e._playIcon()}).call(function(){e._gage.updateGageEffect()}),aoba.FrameTween.new(e).wait(30).call(function(){e._showLevelUpGrow()}),aoba.FrameTween.new(e).wait(34).call(function(){e._showLevelUpArrow()})})}},{key:"_playIcon",value:function(){var e=this._objs.iconChara;e.show(),aoba.FrameTween.new(e).to({scaleY:.88*y},10,"easeInOutQuart").to({scaleY:1.1*y},5,"easeInOutQuart").to({scaleY:.88*y},5,"easeInOutQuart").to({scaleY:1.06*y},4,"easeInOutQuart").to({scaleY:1*y},4,"easeInOutQuart"),aoba.FrameTween.new(e).wait(10).to({y:e.y-46},5,"easeOutQuart").to({y:e.y},5,"easeInQuart")}},{key:"_showLevelUpArrow",value:function(){var e=aoba.Sprite.fromImage("activity_result_status_rank_up_arrow.png").addTo(this,0,109,{anchor:aoba.p(.5)});aoba.FrameTween.new(e).from({y:e.y+35},26).loop(),aoba.FrameTween.new(e).to({alpha:1},6).wait(8).to({alpha:0},7).wait(5).loop()}},{key:"_showLevelUpGrow",value:function(){this._levelUpGrowAE&&(this._levelUpGrowAE.visible=!0,this._levelUpGrowAE.position=aoba.p(-60,-60),this._levelUpGrowAE.play(!0))}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"friendshipCharaFrameIn",fullName:"iconChara/friendshipCharaFrameIn",anchor:{x:.5,y:1},type:"sprite",key:"friendship_chara_frame_in.png",x:0,y:0},{name:"idolImage",fullName:"iconChara/idolImage",anchor:{x:.5,y:1},type:"sprite",key:"idol_image.png",x:0,y:0},{name:"friendshipCharaFrameOut",fullName:"iconChara/friendshipCharaFrameOut",anchor:{x:.5,y:1},type:"sprite",key:"friendship_chara_frame_out.png",x:0,y:0}],name:"iconChara",fullName:"iconChara",anchor:{x:.5,y:1},type:"sprite",key:"friendship_chara_base.png",x:90,y:181},{name:"friendshipGageL",fullName:"friendshipGageL",type:"container",x:15,y:157}],name:"",fullName:"",visible:!1,type:"container",x:113,y:22}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1421),u=r(l),c=n(115),f=r(c),d=n(26),p=r(d),h=1,y=100,m=function(e){function t(e){var n=e.friendshipPoint,r=e.isExcellent,o=e.increasePoint;i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));s._increasePoint=o,s._friendshipPoint=n;var l=s._calculatePoint(s._friendshipPoint),c=r?"friendship_gage_base_excellent_l.png":"friendship_gage_base_l.png",d="friendship_gage_"+l+"_l.png",p={x:h,y:h},m=s.fromData(u.default,{friendshipGageLine:{scale:h},friendshipGageBase:{key:c,scale:h},friendshipGageL:f.default.new(d,{value:s._friendshipPoint,maxValue:y,speed:1}).setProps({scale:p})});return s._gage=m.friendshipGageL,s}return o(t,e),s(t,[{key:"_calculatePoint",value:function(e){return[25,50,75,100].find(function(t){return e<=t})}},{key:"updateGageEffect",value:function(){var e=this._friendshipPoint+this._increasePoint,t=this._calculatePoint(this._friendshipPoint),n=this._calculatePoint(e);if(this._gage.setValue(e),t!==n){var r="friendship_gage_"+n+"_l.png";this._gage.texture=aoba.Texture.fromFrame(r)}this._increasePoint&&aoba.soundManager.playSE(p.default.activity.friendshipPointUp)}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"friendshipGageBase",fullName:"friendshipGageBase",type:"sprite",key:"friendship_gage_base_l.png",x:0,y:0},{name:"friendshipGageL",fullName:"friendshipGageL",type:"sprite",key:"friendship_gage_25_l.png",x:6,y:6},{name:"friendshipGageLine",fullName:"friendshipGageLine",type:"sprite",key:"friendship_gage_line_l.png",x:39,y:5}],name:"",fullName:"",type:"container",x:128,y:179}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},c=n(69),f=r(c),d=n(57),p=r(d),h=n(19),y=r(h),m=n(23),_=r(m),g=n(58),b=r(g),v={success:["twinkle00.png","twinkle01.png","twinkle02.png","twinkle03.png"],fail:["circle.png","line.png","particle.png"],happy_flower_eff:["blue.png","pink.png","purple.png","yellow.png"]},w=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.scale.set(.5),n._headBone=n.findBone("eyebrow");var r=[{folderPath:"produce_action/sweat_eff_scatter"},{folderPath:"produce_action/success_ring_eff",blendMode:aoba.BLEND_MODES.ADD}].map(function(e){return(0,y.default)(e)});return Promise.all(r).then(function(e){var t=s(e,2),r=t[0],i=t[1];n._sweatAE=r,n._ringAE=i}),n}return o(t,e),l(t,[{key:"ezgPreDestroy",value:function(){this._sweatAE&&this._sweatAE.destroy(!0),this._ringAE&&this._ringAE.destroy(!0),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"setSkinWithPlaceCategoryId",value:function(e){this.setSkin(f.default.placeCategories[e].idolSpine.skin)}},{key:"actLesson",value:function(e,t){
var n=this,r=f.default.placeCategories[e].idolSpine.animation,i=t?r+"_ng":r+"_ok";return this.setAnimation(0,i),setTimeout(function(){n._lessonEffect(t)},1e3),new Promise(function(e){n.state.addListener({complete:e})})}},{key:"_lessonEffect",value:function(e){var t=this.x-130,n=this.y-380;if(e){var r=new _.default(v.fail,"lesson_fail");r.setPosition(t+70,n+180),r.play(),this.parent.addChild(r.container),this._headAnimation=aoba.FrameAnimation.new("sad_particle.png",64,64,{fps:30,loop:!0}).addTo(this.parent,0,0),this._headAnimation.play(),aoba.FrameTween.new(this._headAnimation).wait(30).to({alpha:0},10),this._sweatAE&&(this._sweatAE.x=this.x-180,this._sweatAE.y=this.y-180-190,this.parent.addChild(this._sweatAE),this._sweatAE.play())}else{var i=new _.default(v.success,"lesson_success");i.setPosition(t+70,n+260),i.play(),this.parent.addChild(i.container);var a=b.default.new(new _.default(v.happy_flower_eff,"happy_flower_eff"));a.setPosition(t+130,n+200),a.play(),this.parent.addChild(a),aoba.FrameTween.new(a).by({rotation:90*aoba.DEG_TO_RAD},63).loop(),this._ringAE&&(this._ringAE.x=this.x-257,this._ringAE.y=this.y-281-180,this.parent.addChild(this._ringAE),this._ringAE.play())}}},{key:"ezgUpdate",value:function(e){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgUpdate",this).call(this,e),this._headBone&&this._headAnimation){var n=this._headBone.localToWorld(aoba.p(0,0));this._headAnimation.x=this.x+n.x*this.scaleX+16,this._headAnimation.y=this.y+n.y*this.scaleY-48}}}]),t}(p.default);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1424),u=r(l),c=n(1425),f=r(c),d=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(u.default,{statusRankUp:{visible:!0}}),r=n.title,o=n.statusRankUp;return o.x=r.width/2,e._title=r,e._statusRankUpLayer=o,e}return o(t,e),s(t,[{key:"showEffect",value:function(e){var t=this;return new Promise(function(n){t._createRankUpEffect(e);t.alpha=0,t.show(),aoba.FrameTween.new(t).wait(36).wait(28).call(n),aoba.FrameTween.new(t).to({alpha:1},10).wait(30).wait(28).to({alpha:0},10),aoba.FrameTween.new(t).from({x:t.x+221},6,"easeOutQuart"),t._title.scale=aoba.p(1),aoba.FrameTween.new(t._title).to({scaleX:1.04,scaleY:1.04},20,"easeOutQuart").to({scaleX:1,scaleY:1},20,"easeInQuart").loop()})}},{key:"_createRankUpEffect",value:function(e){var t=aoba.Container.new().addTo(this._statusRankUpLayer);e.forEach(function(e,n){var r=f.default.new(e.name,e.beforeRank,e.afterRank).addTo(t,149*n,0);aoba.FrameTween.new(r).wait(36).call(function(){r.play()}),aoba.FrameTween.new(r).wait(36).wait(12).call(function(){r.showArrow()})}),t.x=-t.width/2}}]),t}(aoba.Container);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"statusRankUp",fullName:"statusRankUp",visible:!1,type:"container",x:0,y:62},{name:"title",fullName:"title",anchor:{x:.5,y:.5},type:"sprite",key:"activity_result_status_rank_up_title.png",x:143,y:26}],name:"",fullName:"",visible:!1,type:"container",x:397,y:27}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(0),c=r(u),f=n(1426),d=r(f),p=n(19),h=r(p),y=n(26),m=r(y),_=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o._afterRank=r;var s=o.fromData(d.default,{iconStatusXl:{key:o._getStatusIconKey(e)},iconStatusRankL:{key:o._getStatusRankIconKey(n)}});o._statusRankIcon=s.iconStatusRankL,o._statusRankIconY=o._statusRankIcon.y,o._arrow=s.arrow,o._arrow.alpha=0;var l=[{folderPath:"produce_action/level_up_grow_anim_loop"}];"S"===r&&l.push({folderPath:"produce_action/flash_anim",blendMode:aoba.BLEND_MODES.ADD});var u=l.map(function(e){return(0,h.default)(e)});return Promise.all(u).then(function(e){o._levelUpGrowAE=e[0],o._levelUpGrowAE.visible=!1,o.addChild(o._levelUpGrowAE),e.length>=2&&(o._sRankAE=e[1],o._sRankAE.visible=!1,o.addChildAt(o._sRankAE,o._statusRankIcon))}),o}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._levelUpGrowAE&&this._levelUpGrowAE.destroy(!0),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"play",value:function(){var e=this;aoba.FrameTween.new(this._statusRankIcon).to({scaleX:0},6).call(function(){e._statusRankIcon.texture=aoba.Texture.fromImage(e._getStatusRankIconKey(e._afterRank)),e._showRankGloss()}).to({scaleX:1},6).call(function(){return aoba.soundManager.playSE(m.default.activity.statusRankUp)}),aoba.FrameTween.new(this._statusRankIcon).to({y:this._statusRankIconY-32},6,"easeOutQuart").to({y:this._statusRankIconY},6,"easeInQuart"),aoba.FrameTween.new(this._statusRankIcon).wait(12).call(function(){return e._showLevelUpEffect()})}},{key:"showArrow",value:function(){var e=this;this._arrow.alpha=0,aoba.FrameTween.new(this).wait(2).call(function(){aoba.FrameTween.new(e._arrow).from({y:e._arrow.y+34.9},26).loop(),aoba.FrameTween.new(e._arrow).to({alpha:1},6).wait(8).to({alpha:0},7).wait(5).loop()})}},{key:"_getStatusRankIconKey",value:function(e){return"icon_status_rank_l_"+e.toLowerCase()+".png"}},{key:"_getStatusRankIconMaskKey",value:function(e){return"icon_status_rank_l_mask_"+e.toLowerCase()+".png"}},{key:"_getStatusIconKey",value:function(e){return"icon_status_xl_"+e.toLowerCase()+".png"}},{key:"_showLevelUpEffect",value:function(){if(this._levelUpGrowAE&&(this._levelUpGrowAE.visible=!0,this._levelUpGrowAE.position=aoba.p(this._statusRankIcon.x-128,this._statusRankIcon.y-128),this._levelUpGrowAE.play(!0)),this._sRankAE){this._sRankAE.visible=!0;var e=aoba.p(.26);this._sRankAE.scale=e,this._sRankAE.position=aoba.p(this._statusRankIcon.x-568*e.x,this._statusRankIcon.y-320*e.y),this._sRankAE.play(!0)}}},{key:"_showRankGloss",value:function(){this._statusRankIcon.mask=aoba.Sprite.new(this._getStatusRankIconMaskKey(this._afterRank)).addTo(this._statusRankIcon,0,0,{anchor:aoba.p(.5)}),
c.default.commonUiHelper.createGlossEffect().addTo(this._statusRankIcon,0,0,{anchor:aoba.p(.5),scale:aoba.p(.25)})}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"iconStatusXl",fullName:"iconStatusXl",type:"sprite",key:"icon_status_xl_vocal.png",x:32,y:18},{name:"arrow",fullName:"arrow",anchor:{x:.5,y:.5},type:"sprite",key:"activity_result_status_rank_up_arrow.png",x:106,y:75},{name:"iconStatusRankL",fullName:"iconStatusRankL",anchor:{x:.5,y:.5},type:"sprite",key:"icon_status_rank_l_a.png",x:149,y:55}],name:"",fullName:"",visible:!1,type:"container",x:397,y:175}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1428),u=r(l),c=n(26),f=r(c),d=n(23),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=1===e.actionType?"lesson":"work";return n._objs=n.fromData(u.default,{"level/levelTitle":{key:"level_title_"+r+".png"},"level/levelNumber":{key:"place_level_effect_"+e.level+".png"},placeName:{key:e.getCategoryImagePath("level_up_title")}}),n._objs.radiatedLight.setScale(3),n._nextLevel=e.level+1,n}return o(t,e),s(t,[{key:"showEffect",value:function(){var e=this;return new Promise(function(t){aoba.Tween.new(e).call(function(){e._showBase()}).wait(300).call(function(){e._showLessonName()}).wait(300).call(function(){e._showBeforeLevel()}).wait(300).call(function(){e._showAfterLevel(e._nextLevel)}).call(function(){e._showRadiatedLight()}).wait(400).call(function(){e._showLevelUpArrow()}).wait(1400).call(t)})}},{key:"_showBase",value:function(){var e=this;aoba.soundManager.playSE(f.default.activity.stageLevelUp),aoba.Tween.new(this._objs.basePlaceLevelUp).call(function(){e._objs.basePlaceLevelUp.show()}).from({scaleY:0},300)}},{key:"_showLessonName",value:function(){var e=this._objs.placeName;aoba.Tween.new(e).call(function(){e.show()}).from({x:e.x+200,alpha:0},300)}},{key:"_showBeforeLevel",value:function(){var e=this._objs.level;e.anchor=.5,aoba.Tween.new(e).call(function(){e.show()}).from({scaleX:0,scaleY:0,alpha:0},300,"easeOutBack")}},{key:"_showAfterLevel",value:function(e){var t=new p.default(["particles/produce_activity/lesson_level_up/image.png"],"particles/produce_activity/lesson_level_up/data.json");t.setPosition(847,365),t.play(),this.addChild(t.container);var n=this._objs["level/levelNumber"];n.texture=aoba.Texture.fromImage("place_level_effect_"+e+".png"),n.x+=5,n.setScale(2.5),aoba.Tween.new(n).to({scaleX:1,scaleY:1},300)}},{key:"_showLevelUpArrow",value:function(){var e=aoba.Sprite.fromImage("activity_result_status_rank_up_arrow.png").addTo(this._objs["level/levelNumber"],-30,0,{scale:1,alpha:0,anchor:aoba.p(.5)});aoba.FrameTween.new(e).from({y:e.y+35},26).loop(),aoba.FrameTween.new(e).to({alpha:1},6).wait(8).to({alpha:0},7).wait(5).loop()}},{key:"_showRadiatedLight",value:function(){var e=this;aoba.FrameTween.new(this._objs.radiatedLight).call(function(){e._objs.radiatedLight.show()}).to({alpha:1},8).to({alpha:0},8)}},{key:"fadeOut",value:function(){return Promise.resolve()}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"basePlaceLevelUp",fullName:"basePlaceLevelUp",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"base_place_level_up.png",x:539,y:366},{name:"radiatedLight",fullName:"radiatedLight",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"radiated_light.png",x:832,y:352},{children:[{name:"levelTitle",fullName:"level/levelTitle",type:"sprite",key:" level_title_lesson.png",x:-70,y:-22},{name:"levelNumber",fullName:"level/levelNumber",anchor:{x:.5,y:.5},type:"sprite",key:"place_level_effect_1.png",x:37,y:0}],name:"level",fullName:"level",visible:!1,type:"container",x:803,y:366},{name:"placeName",fullName:"placeName",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"00001.png",x:491,y:367}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(69),a=r(i),o=n(0),s=r(o),l=n(1430),u=r(l),c=n(1434),f=r(c),d=function(t){var n=t.actionResult,r=t.produceActCutinComment,i=t.idolSpinePath,o=t.place,l=n.key,c=n.isTrouble,d=n.frontEffectClass,p=s.default.Spine.new(i),h=a.default.placeCategories[o.producePlaceCategoryId].idolSpine;if(p.setSkin(h.cutInIdolSkin),c)return u.default.new({result:l,isTrouble:c,idolSpine:p,comment:r,frontEffectClass:d});var y=o.supportIdols.filter(function(e){return e.canPartnerLesson});if(y.length){var m=e.max(y,function(e){return e.friendshipPoint}),_=s.default.Spine.new(m.getSpinePath("cb"));return _.setSkin(h.cutInSupportIdolSkin),f.default.new({result:l,idolSpine:p,supportIdolSpine:_,frontEffectClass:d})}return u.default.new({result:l,isTrouble:c,idolSpine:p,comment:r,frontEffectClass:d})};t.default=d}).call(t,n(4))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1431),c=r(u),f=n(1432),d=r(f),p=n(1433),h=r(p),y=n(19),m=r(y),_=n(26),g=r(_),b=n(23),v=r(b),w=n(58),k=r(w),S={flash_spark_05:["star_1_y.png","star_1.png"],lesson_perfect_radial_line:["yellow_line_2.png"],catastrophe_back_2:["a1.png","c2.png","c3.png","c4.png","c5.png","e1.png","t1.png","t2.png"]},I={success:{layout:c.default,aePath:"produce_action/lesson_perfect_cutin",particleConfs:[{id:"flash_spark_05",delay:11,props:{x:300,y:246},parent:"flash_spark_05.mov"},{id:"lesson_perfect_radial_line",delay:10,props:{x:560,y:447},parent:"com_eff01_back_perfect_radial_line_pixi_replace.mov_1"},{id:"lesson_perfect_radial_line",delay:10,props:{x:560,y:447},parent:"com_eff01_back_perfect_radial_line_pixi_replace.mov_2"}],se:g.default.activity.result.cutIn.success,idolPosition:aoba.p(0,0),balloonPosition:aoba.p(56.7,211)},normal:{layout:c.default,aePath:"produce_action/lesson_success_cutin",particleConfs:[{id:"flash_spark_05",delay:11,props:{x:460,y:300}}],
se:g.default.activity.result.cutIn.normal,idolPosition:aoba.p(0,0),balloonPosition:aoba.p(56.7,211)},failure:{layout:d.default,aePath:"produce_action/lesson_failure_cutin",particleConfs:[],se:g.default.activity.result.cutIn.failure,idolPosition:aoba.p(0,-80),balloonPosition:aoba.p(100,280)},critical:{layout:d.default,aePath:"produce_action/lesson_catastrophe_cut_in",particleConfs:[{id:"catastrophe_back_2",delay:12,props:{x:692,y:472},parent:"com_eff01_back_catastrophe_2_pixi_replace.mov_1"},{id:"catastrophe_back_2",delay:12,props:{x:692,y:472},parent:"com_eff01_back_catastrophe_2_pixi_replace.mov_2"}],se:g.default.activity.result.cutIn.critical,idolPosition:aoba.p(0,-80),balloonPosition:aoba.p(100,280)}},E=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),r=e.result,o=e.isTrouble,s=e.idolSpine,l=e.comment,u=e.frontEffectClass;return t._effectConf=I[r],t._voicePath=l.voicePath,t.hide(),t._aeLayer=aoba.Container.new().addTo(t),t._frontEffectLayer=aoba.Container.new().addTo(t),t._loadAE(o,s,l).then(function(){t._loadParticle(),u.new().addTo(t._frontEffectLayer),t._play()}),t}return o(n,t),s(n,[{key:"ezgPreDestroy",value:function(){this._destroyParticle(),this._destroyAE(),l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"_loadAE",value:function(e,t,n){var r=this,i=this._effectConf,a=i.layout,o=i.idolPosition,s=i.balloonPosition,l=i.aePath;this._effectIdol=h.default.new(t,e),this._effectIdol.position=o;var u=aoba.Container.new(),c=u.fromData(a,{"balloon/comment":{text:n.comment}}),f=c.balloon;f.position=s,this._balloon=f;var d=new PIXI.AEDataInterceptor({"mano_happy_2.png":{image:this._effectIdol,isDisused:!0},"mano_error_2.png":{image:this._effectIdol,isDisused:!0},speech_bubble:{image:f},speech_buble:{image:f},"speech_bubble1.png":{isDisused:!0},"speech_bubble.png":{isDisused:!0},"particle_orange_2.png":{blendMode:PIXI.BLEND_MODES.ADD},cut_in_base_perfect_mask_anime_ADD:{blendMode:PIXI.BLEND_MODES.ADD}});return(0,m.default)({folderPath:l,interceptor:d}).then(function(e){r._aeLayer.addChild(e),r._ae=e})}},{key:"_destroyAE",value:function(){this._effectIdol.destroy({children:!0}),this._effectIdol=null,this._balloon.destroy({children:!0}),this._balloon=null,this._ae.destroy(!0),this._ae=null}},{key:"_loadParticle",value:function(){var e=this,t=[];this._effectConf.particleConfs.forEach(function(n){var r=k.default.new(new v.default(S[n.id],n.id));r.conf=n;var i=e;n.parent&&(i=e._findAELayer(n.parent)),r.addTo(i),t.push(r)}),this._particles=t}},{key:"_destroyParticle",value:function(){this._particles.forEach(function(e){e.destroy({children:!0})}),this._particles=null}},{key:"_findAELayer",value:function(e){var t=this._ae.find(e);if(1===t.length)return t[0]}},{key:"_play",value:function(){var e=this;aoba.soundManager.playSE(this._effectConf.se),this.show(),aoba.FrameTween.new(this).wait(40).call(function(){return e.emit("end")}),this._ae.play(),this._playParticles(this._particles),this._playVoice()}},{key:"_playParticles",value:function(t){t.forEach(function(t){t.conf.props&&e.each(t.conf.props,function(e,n){t[n]=e}),aoba.FrameTween.new(t).wait(t.conf.delay).call(function(){t.play(),t.conf.duration&&aoba.FrameTween.new(t).wait(t.conf.duration).to({alpha:0},3),t.conf.tween&&aoba.FrameTween.fromData(t,t.conf.tween)})})}},{key:"_playVoice",value:function(){var e=this;aoba.FrameTween.new(this).wait(9).call(function(){aoba.soundManager.playVoiceAsync(e._voicePath)})}}]),n}(aoba.Container);t.default=E}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"comment",fullName:"balloon/comment",anchor:{x:.5,y:.5},type:"text",text:"\u3084\u3063\u305f",style:{fill:5063497,fontFamily:"UDKakugo_SmallPr6-B",fontSize:31},rotation:-.0218451312137,x:97,y:-93}],name:"balloon",fullName:"balloon",anchor:{x:.2,y:.9},type:"sprite",key:"activity_success_cut_in_balloon.png",x:561,y:354}],name:"",fullName:"",visible:!1,type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"comment",fullName:"balloon/comment",anchor:{x:.5,y:.5},type:"text",text:"\u306f\u308f\u308f\u3063!",style:{fill:5063497,fontFamily:"UDKakugo_SmallPr6-B",fontSize:31},rotation:-.0218451312137,x:152,y:-116}],name:"balloon",fullName:"balloon",anchor:{x:.2,y:.9},type:"sprite",key:"activity_failure_cut_in_balloon.png",x:475,y:363}],name:"",fullName:"",visible:!1,type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=246/.35,s=442/.35,l=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.setAnimation(0,n?"dance_ng":"photo_ok"),e.update(90*Math.floor(1e3/30));var l=s/e.height;return e.scale=aoba.p(-l,l),e.addTo(a,o/2,s),a}return a(t,e),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(19),c=r(u),f=n(26),d=r(f),p=n(23),h=r(p),y=n(58),m=r(y),_={success:"perfect_excellent_lesson",normal:"excellent_lesson"},g={exellent_horizontal_line_1:["excellent_pink_line_2.png","excellent_star_1.png"],exellent_horizontal_line_common:["excellent_horizontal_line_1.png"],exellent_perfect_horizontal_line_1:["excellent_horizontal_line_perfect_1.png","excellent_star_perfect_1.png"],exellent_perfect_star_line_1:["excellent_perfect_star_line.png"],exellent_star_line_1:["excellent_star_line.png"],exellent_star_particle_common:["excellent_star_common_1.png"],exellent_tag_explode_common:["excellent_twinkle.png","excellent_star_common_1.png"],exellent_tag_radial_paticle_common:["excellent_twinkle.png","excellent_star_common_1.png"],exellent_text_appear_explode_common:["excellent_star_common_1.png"]},b={success:[{id:"exellent_tag_explode_common",delay:45,props:{x:571,y:457},parent:"Exellent_Tag_Explode_Common_pixi_replace.mov"},{id:"exellent_text_appear_explode_common",delay:31,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_1"},{id:"exellent_text_appear_explode_common",delay:32,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_2"},{id:"exellent_text_appear_explode_common",delay:35,
props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_3"},{id:"exellent_text_appear_explode_common",delay:31,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_4"},{id:"exellent_text_appear_explode_common",delay:32,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_5"},{id:"exellent_text_appear_explode_common",delay:35,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_6"},{id:"exellent_text_appear_explode_common",delay:38,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_7"},{id:"exellent_text_appear_explode_common",delay:42,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_8"},{id:"exellent_horizontal_line_common",delay:33,duration:38,props:{x:654,y:187,alpha:.4},parent:"Exellent_Horizontal_Line_Common_pixi_replace.mov_1"},{id:"exellent_horizontal_line_common",delay:33,duration:38,props:{x:654,y:187,alpha:.4},parent:"Exellent_Horizontal_Line_Common_pixi_replace.mov_2"},{id:"exellent_perfect_star_line_1",delay:33,duration:38,props:{x:759,y:45},parent:"Exellent_Star_Line_pixi_replace.mov_1"},{id:"exellent_perfect_star_line_1",delay:33,duration:38,props:{x:759,y:45},parent:"Exellent_Star_Line_pixi_replace.mov_2"},{id:"exellent_star_particle_common",delay:0,duration:27,props:{x:482,y:381},parent:"Exellent_Star_Particle_Common_pixi_replace.mov"},{id:"exellent_tag_radial_paticle_common",delay:45,duration:26,props:{x:418,y:419},parent:"Exellent_Tag_Radial_Paticle_Common_pixi_replace.mov"},{id:"exellent_perfect_horizontal_line_1",delay:5,duration:76,props:{x:920,y:472},parent:"Exellent_Perfect_Horizontal_Line_1_pixi_replace.mov"}],normal:[{id:"exellent_tag_explode_common",delay:45,props:{x:571,y:457},parent:"Exellent_Tag_Explode_Common_pixi_replace.mov"},{id:"exellent_text_appear_explode_common",delay:31,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_1"},{id:"exellent_text_appear_explode_common",delay:32,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_2"},{id:"exellent_text_appear_explode_common",delay:33,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_3"},{id:"exellent_text_appear_explode_common",delay:35,props:{x:486,y:350},parent:"Exellent_Text_Appear_Explode_Common_pixi_replace.mov_4"},{id:"exellent_horizontal_line_common",delay:33,duration:38,props:{x:654,y:187,alpha:.4},parent:"Exellent_Horizontal_Line_Common_pixi_replace.mov_1"},{id:"exellent_horizontal_line_common",delay:33,duration:38,props:{x:654,y:187,alpha:.4},parent:"Exellent_Horizontal_Line_Common_pixi_replace.mov_2"},{id:"exellent_star_line_1",delay:33,duration:38,props:{x:734,y:50},parent:"Exellent_Star_Line_1_pixi_replace.mov_1"},{id:"exellent_star_line_1",delay:33,duration:38,props:{x:734,y:50},parent:"Exellent_Star_Line_1_pixi_replace.mov_2"},{id:"exellent_tag_radial_paticle_common",delay:45,duration:26,props:{x:418,y:419},parent:"Exellent_Tag_Radial_Paticle_Common_pixi_replace.mov"},{id:"exellent_star_particle_common",delay:0,duration:27,props:{x:482,y:381},parent:"Exellent_Star_Particle_Common_pixi_replace.mov"},{id:"exellent_horizontal_line_1",delay:5,duration:76,props:{x:920,y:472},parent:"Exellent_Horizontal_Line_1_pixi_replace.mov"}]},v={normal:d.default.activity.result.cutIn.excellent,success:d.default.activity.result.cutIn.perfectExcellent},w=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),r=e.result,o=e.idolSpine,s=e.supportIdolSpine,l=e.frontEffectClass;return t._se=v[r],t._frontEffect=l.new().addTo(t),t._frontEffect.alpha=0,t._aeLayer=aoba.Container.new().addTo(t),t._createAE(r,o,s).then(function(){t._createParticle(r),t._play()}),t}return o(n,t),s(n,[{key:"ezgPreDestroy",value:function(){this._destroyParticle(),this._destroyAE(),l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ezgPreDestroy",this).call(this)}},{key:"_createAE",value:function(e,t,n){var r=this,i=_[e];this._idol=aoba.Container.new(),t.setAnimation(0,"touch"),t.update(0),t.scale=aoba.p(-1,1),t.addTo(this._idol,123,442),this._supportIdol=aoba.Container.new(),n.setAnimation(0,"touch"),n.update(0),n.scale=aoba.p(1,1),n.addTo(this._supportIdol,123,442);var a=new PIXI.AEDataInterceptor({"mano.png":{image:this._idol,isDisused:!0},"meguru.png":{image:this._supportIdol,isDisused:!0},Excellent_char_back_common:{blendMode:aoba.BLEND_MODES.ADD},line_maru_excellent_lesson:{blendMode:aoba.BLEND_MODES.ADD},excellent_line_body_1:{blendMode:aoba.BLEND_MODES.ADD},excellent_lesson_text_appear_particle:{blendMode:aoba.BLEND_MODES.ADD},exellent_star_line_tail:{blendMode:aoba.BLEND_MODES.ADD},star_exellent_lesson_add:{blendMode:aoba.BLEND_MODES.ADD},line_maru_perfect_excellent:{blendMode:aoba.BLEND_MODES.ADD},perfect_excellent_line_body_1:{blendMode:aoba.BLEND_MODES.ADD},perfect_excellent_lesson_text_appear_particle:{blendMode:aoba.BLEND_MODES.ADD},perfect_exellent_star_line_tail:{blendMode:aoba.BLEND_MODES.ADD},star_add:{blendMode:aoba.BLEND_MODES.ADD}});return(0,c.default)({folderPath:"produce_action/"+i,interceptor:a}).then(function(e){r._aeLayer.addChild(e),r._ae=e})}},{key:"_destroyAE",value:function(){this._idol.destroy({children:!0}),this._idol=null,this._supportIdol.destroy({children:!0}),this._supportIdol=null,this._ae.destroy(!0),this._ae=null}},{key:"_createParticle",value:function(e){var t=this;this._particleConfs=b[e],this._particles=[],this._particleConfs.forEach(function(e){var n=m.default.new(new h.default(g[e.id],e.id)),r=t._findAELayer(e.parent);r&&n.addTo(r),t._particles.push(n)})}},{key:"_destroyParticle",value:function(){this._particles.forEach(function(e){e.destroy({children:!0})}),this._particles=null}},{key:"_findAELayer",value:function(e){var t=this._ae.find(e);if(1===t.length)return t[0]}},{key:"_play",value:function(){var e=this;aoba.soundManager.playSE(this._se),this._frontEffect.alpha=0,aoba.FrameTween.new(this._frontEffect).wait(29).to({alpha:1},6),this._playParticle(),this._ae.play(),this._ae.on("completed",function(){return e.emit("end")}),this.show()}},{key:"_playParticle",value:function(){var t=this;this._particleConfs.forEach(function(n,r){var i=t._particles[r];n.props&&e.each(n.props,function(e,t){i[t]=e}),aoba.FrameTween.new(i).wait(n.delay).call(function(){i.play(),n.duration&&aoba.FrameTween.new(i).wait(n.duration).to({alpha:0},3),n.tween&&aoba.FrameTween.fromData(i,n.tween)})})}}]),n}(aoba.Container);t.default=w}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return(0,s.default)({folderPath:"common/com_eff01_front_perfect"}).then(function(t){e.addChild(t),t.play()}),e}return a(t,e),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return(0,s.default)({folderPath:"common/com_eff01_front_failure"}).then(function(t){e.addChild(t),t.play()}),e}return a(t,e),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return(0,s.default)({folderPath:"common/com_eff01_front_catastrophe"}).then(function(t){e.addChild(t),t.play()}),e}return a(t,e),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._controls={},n._controlName=null,n}return a(t,e),o(t,[{key:"setControls",value:function(e){this._controls=e,this._originY=this.y}},{key:"changeControl",value:function(e){var t=this;if(this._controlName===e)return Promise.resolve();var n=this._controls[this._controlName];this._controlName=e;var r=this._controls[e];return aoba.FrameTween.new(this).to({y:this._originY+this.height,alpha:0},3,"easeOutQuad").call(function(){t.texture=r.texture,n&&t.off("tap",n.callback),t.on("tap",r.callback)}).to({y:this._originY,alpha:1},3,"easeOutQuad").promise()}}]),t}(l.default.DecideButton);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=new l.default.ParticleSystem(u,"bg_cloud");return e.setPosition(-30,aoba.game.height+300),e.play(),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=aoba.Sprite.new(o.default.bg.PRODUCE_ACTION);return e.on("added",function(){aoba.Tween.new(e).wait(1e3).call(function(){e.addChild(i().container)}).call(function(){if(e.children.length>2){var t=e.children[0];e.removeChild(t),t.destroy()}}).wait(28980).loop()}),e};var a=n(1),o=r(a),s=n(0),l=r(s),u=["bg_cloud_01.png","bg_cloud_02.png","bg_cloud_03.png"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1441),c=r(u),f=n(99),d=r(f),p=n(1442),h=r(p),y=n(1446),m=r(y),_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=d.default.new().addTo(n),o=n.fromData(c.default,{backButton:l.default.CancelButton.new("back_button.png"),innerTrend:h.default.new(e),idolRank:m.default.new(e)}),s=o.backButton,u=function(){r.hideSpotLightCallback(function(){n.destroy({children:!0})})};return r.interactive=!0,r.on("tap",u),s.on("tap",u),n}return o(t,e),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"trendBase",fullName:"trendBase",type:"sprite",key:"trend_base.png",x:113,y:48},{name:"innerTrend",fullName:"innerTrend",type:"container",x:135,y:121},{name:"idolRank",fullName:"idolRank",type:"container",x:607,y:114},{name:"backButton",fullName:"backButton",type:"container",x:50,y:587}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1443),u=r(l),c=n(76),f=r(c),d=n(131),p=r(d),h=n(1444),y=r(h),m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._trendCombinations=e.produceTrendCombination,n._prevTrendCombinations=e.prevProduceTrendCombination;var r=e.userProduceIdol.userIdol,o=e.userProduceIdol;aoba.utils.setPrototypeOf(r,f.default),aoba.utils.setPrototypeOf(o,p.default);var s=n.fromData(u.default,{pinkNoticeIcon:{key:"icon_notice_red.png"},vocalIcon:{key:"icon_status_vocal.png"},danceIcon:{key:"icon_status_dance.png"},visualIcon:{key:"icon_status_visual.png"},idolIcon:aoba.Sprite.new(r.getIconImagePath()),txtIdolName:{text:o.name},txtVocalNum:{text:o.vocal},txtDanceNum:{text:o.dance},txtVisualNum:{text:o.visual}});return s.txtIdolName.style.fontSize=14,n._rankings=s.rankings,n._createTrendRankings(),n}return o(t,e),s(t,[{key:"_createTrendRankings",value:function(){var e=this;this._getRankInfo().forEach(function(t,n){y.default.new(t).addTo(e._rankings,0,0+53*n)})}},{key:"_getRankInfo",value:function(){var e=this,t=[];return Object.values(this._trendCombinations).forEach(function(n,r){Object.values(e._prevTrendCombinations).forEach(function(i,a){n===i&&t.push({name:n,currRank:r+1,prevRank:a+1,arrow:e._getArrow(r,a)})})}),t}},{key:"_getArrow",value:function(e,t){return t===e?"parallel":t<e?"down":"up"}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"innerTrendBase",fullName:"innerTrendBase",type:"sprite",key:"inner_trend_base.png",x:0,y:0},{
name:"txtBonusCondition",fullName:"txtBonusCondition",type:"text",text:"\u6d41\u884c\u9806\u4f4d\u304c\u9ad8\u3044\u30b8\u30e3\u30f3\u30eb\u306f\u3001\u305d\u306e\u30b8\u30e3\u30f3\u30eb\r\u62c5\u5f53\u5be9\u67fb\u54e1\u304b\u3089\u306e\u7372\u5f97\u30b9\u30bf\u30fc\u304c\u5897\u52a0\u3057\u307e\u3059\u3002",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:54,y:259},{name:"pinkNoticeIcon",fullName:"pinkNoticeIcon",type:"sprite",key:"pink_notice_icon.png",x:30,y:234},{name:"innerStatusBase",fullName:"innerStatusBase",type:"sprite",key:"inner_status_base.png",x:0,y:336},{name:"idolIcon",fullName:"idolIcon",anchor:{x:.5,y:.5},type:"sprite",key:"idol_icon.png",x:59,y:395},{name:"txtIdolName",fullName:"txtIdolName",type:"text",text:"\u6842\u6728\u771f\u4e43",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:115,y:361},{name:"vocalIcon",fullName:"vocalIcon",type:"sprite",key:"vocal_icon.png",x:115,y:385},{name:"danceIcon",fullName:"danceIcon",type:"sprite",key:"dance_icon.png",x:205,y:385},{name:"visualIcon",fullName:"visualIcon",type:"sprite",key:"visual_icon.png",x:295,y:385},{name:"txtVocalNum",fullName:"txtVocalNum",anchor:{x:1,y:1},type:"text",text:"1500",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:199,y:412},{name:"txtDanceNum",fullName:"txtDanceNum",anchor:{x:1,y:1},type:"text",text:"1500",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:289,y:412},{name:"txtVisualNum",fullName:"txtVisualNum",anchor:{x:1,y:1},type:"text",text:"1500",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:377,y:412},{children:[{name:"rank",fullName:"rankings/rank",type:"container",x:0,y:0}],name:"rankings",fullName:"rankings",type:"container",x:14,y:26}],name:"",fullName:"",type:"container",x:135,y:121}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1445),l=r(s),u=n(3),c=r(u),f=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.fromData(l.default,{historyBase:{key:e.name+"_base.png"},rankMedalIcon:{key:e.currRank+"_medal_icon.png"},textHistory:{text:c.default.t("trend.historyText",{rank:e.prevRank})},historyArrow:{key:e.arrow+"_icon.png"}}),n}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"historyBase",fullName:"historyBase",type:"sprite",key:"vocal_base.png",x:8,y:1},{name:"textHistory",fullName:"textHistory",type:"text",text:"\u5148\u9031\uff12\u4f4d",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:14},anchor:{x:0,y:.5},rotation:0,x:299,y:25},{name:"historyArrow",fullName:"historyArrow",anchor:{x:.5,y:.5},type:"sprite",key:"up_icon.png",x:372,y:20},{name:"rankMedalIcon",fullName:"rankMedalIcon",anchor:{x:.5,y:.5},type:"sprite",key:"1_medal_icon.png",x:24,y:25}],name:"",fullName:"",type:"container",x:149,y:147}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1447),u=r(l),c=n(485),f=r(c),d=n(3),p=r(d),h=n(1450),y=r(h),m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._params=e,n._targetRank=e.targetRank,n._idolRanks=e.idolRanks,n._fanCount=e.produceIdol.fan;var r=n._getFansUntilTargetRank(),o=0===r?"-":p.default.t("trend.txtNextFan",{count:r}),s={fans:e.produceIdol.fan,rank:e.produceIdol.rank,idolRanks:e.idolRanks},l=n.fromData(u.default,{pyramid:f.default.new(s,!1),rankIcon:{key:"icon_idol_rank_"+n._targetRank.toLowerCase()+".png",scale:.4},txtFan:{text:p.default.t("trend.txtFan",{count:n._fanCount})},txtNextFan:{text:o}});return 0!==r&&l.pyramid.addChild(y.default.new(n._targetRank)),n}return o(t,e),s(t,[{key:"_getFansUntilTargetRank",value:function(){var e=this,t=this._idolRanks.find(function(t){return t.rank===e._targetRank}).requiredFan;return t<=this._fanCount?0:t-this._fanCount}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"titleSeasonGoal",fullName:"titleSeasonGoal",type:"sprite",key:"title_season_goal.png",x:3,y:30},{name:"rankIcon",fullName:"rankIcon",anchor:{x:.5,y:.5},type:"sprite",key:"D.png",x:411,y:28},{name:"titleFan",fullName:"titleFan",type:"sprite",key:"title_fan.png",x:0,y:393},{name:"txtFan",fullName:"txtFan",anchor:{x:1,y:1},type:"text",text:"3697\u4eba",style:{fill:37139,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:459,y:418},{name:"titleNextFan",fullName:"titleNextFan",type:"sprite",key:"title_next_fan.png",x:0,y:427},{name:"txtNextFan",fullName:"txtNextFan",anchor:{x:1,y:1},type:"text",text:"\u3042\u3068\u30001602\u4eba",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:458,y:452},{name:"pyramid",fullName:"pyramid",type:"container",x:56,y:92}],name:"",fullName:"",type:"container",x:607,y:114}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"pyramidBase",fullName:"pyramidBase",type:"sprite",key:"pyramid_base.png",x:0,y:0},{children:[{name:"pyramidTop",fullName:"topLayer/pyramidTop",type:"sprite",key:"pyramid_top.png",x:0,y:0},{name:"pyramidFText",fullName:"topLayer/pyramidFText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_f_text.png",x:156,y:240},{name:"pyramidEText",fullName:"topLayer/pyramidEText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_e_text.png",x:156,y:204},{name:"pyramidDText",fullName:"topLayer/pyramidDText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_d_text.png",x:157,y:168},{name:"pyramidCText",fullName:"topLayer/pyramidCText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_c_text.png",x:155,y:132},{name:"pyramidBText",fullName:"topLayer/pyramidBText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_b_text.png",x:156,y:96},{name:"pyramidAText",fullName:"topLayer/pyramidAText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_a_text.png",x:154,y:59},{name:"pyramidSText",fullName:"topLayer/pyramidSText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_s_text.png",x:156,y:27}],name:"topLayer",fullName:"topLayer",type:"container",x:3,y:4}],name:"",fullName:"",type:"container",x:663,y:186}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"pyramidBase",fullName:"pyramidBase",type:"sprite",key:"pyramid_base.png",x:0,y:7},{children:[{name:"pyramidTop",
fullName:"topLayer/pyramidTop",type:"sprite",key:"pyramid_top.png",x:0,y:0},{name:"pyramidFText",fullName:"topLayer/pyramidFText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_f_text.png",x:156,y:240},{name:"pyramidEText",fullName:"topLayer/pyramidEText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_e_text.png",x:156,y:204},{name:"pyramidDText",fullName:"topLayer/pyramidDText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_d_text.png",x:157,y:168},{name:"pyramidCText",fullName:"topLayer/pyramidCText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_c_text.png",x:155,y:132},{name:"pyramidBText",fullName:"topLayer/pyramidBText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_b_text.png",x:156,y:96},{name:"pyramidAText",fullName:"topLayer/pyramidAText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_a_text.png",x:154,y:59},{name:"pyramidSText",fullName:"topLayer/pyramidSText",anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_s_text.png",x:156,y:27}],name:"topLayer",fullName:"topLayer",type:"container",x:3,y:11}],name:"",fullName:"",type:"container",x:391,y:210}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=405,s={S:-8,A:35,B:71,C:107,D:143,E:178},l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._layer=aoba.Container.new().addTo(n);var a=e.toLowerCase()+"_line.png";return aoba.Sprite.new(a).addTo(n._layer,o,s[e],{anchor:{x:1,y:0}}),n}return a(t,e),t}(aoba.Container);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1452),l=r(s),u=n(20),c=r(u),f=n(0),d=r(f),p=function(e){var t=e.supportIdolId,n=e.name,r=e.description,i=aoba.Container.new();return i.fromData(l.default,{supportIdolIcon:{key:c.default.createImagePath("support_idols","icon",t)},skillTypeIcon:{key:"support_skill_icon.png",scale:.33,dy:4},name:{text:n},description:{text:r}}).name.style.fontSize=18,i},h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=aoba.Container.new();e.forEach(function(e,t){p(e).addTo(r,0,104*t)});var o=d.default.commonUiHelper.createScrollBarBase({width:6,height:360});return d.default.ScrollRect.new({width:640,height:360,container:r,scrollBar:d.default.ScrollBar.new({width:16}),scrollBarBase:o}).addTo(n,0,0),o.addTo(n,640,0),n.pivot.set(n.width/2,0),n}return o(t,e),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"support_skill_list_item_base.png",x:110,y:0},{name:"supportIdolIcon",fullName:"supportIdolIcon",type:"sprite",key:null,x:0,y:2},{name:"supportSkillContentLine",fullName:"supportSkillContentLine",type:"sprite",key:"support_skill_content_line.png",x:137,y:45},{name:"skillTypeIcon",fullName:"skillTypeIcon",type:"sprite",key:null,x:126,y:7},{name:"name",fullName:"name",anchor:{x:0,y:0},type:"text",text:"\u30b9\u30ad\u30eb\u540d",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:164,y:14},{name:"description",fullName:"description",type:"text",text:"\u30b9\u30ad\u30eb\u8aac\u660e\u30b9\u30ad\u30eb\u8aac\u660e\u30b9\u30ad\u30eb\u8aac\u660e\u30b9\u30ad\u30eb\u8aac\u660e\u30b9\u30ad\u30eb\u8aac\u660e\u30b9\u30ad\u30eb\u8aac",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:466,breakWords:!0},rotation:0,x:127,y:57}],name:"",fullName:"",type:"container",x:259,y:123}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"countDownBg",fullName:"countDownBg",type:"sprite",key:"morning_blur.jpg",x:0,y:0},{children:[{name:"band",fullName:"band/band",visible:!1,type:"graphics",fill:0,alpha:1,width:1136,height:134,shape:"rect",x:0,y:22},{name:"season",fullName:"band/season",visible:!1,type:"text",text:"\u30b7\u30fc\u30ba\u30f3\uff11\u7d42\u4e86\u307e\u3067",style:{fill:6118749,fontFamily:"HummingStd-E",fontSize:35},anchor:{x:0,y:.5},rotation:0,x:301,y:116},{name:"week",fullName:"band/week",visible:!1,type:"text",text:"\u9031",style:{fill:6118749,fontFamily:"HummingStd-E",fontSize:35},anchor:{x:0,y:.5},rotation:0,x:795,y:118},{children:[{name:"weekNumber",fullName:"band/calender/weekNumber",anchor:{x:.5,y:.5},type:"text",text:"10",style:{fill:4539717,fontFamily:"HummingStd-E",fontSize:82},rotation:.19411438020637,x:85,y:108}],name:"calenderImage",fullName:"band/calender",visible:!1,type:"sprite",key:"calender_image.png",x:625,y:0},{name:"morning",fullName:"band/morning",type:"container",x:301,y:36},{name:"night",fullName:"band/night",type:"container",x:303,y:36}],name:"band",fullName:"band",type:"container",x:0,y:231}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"hour",fullName:"hour",visible:!1,type:"sprite",key:"am0900.png",x:98,y:8},{name:"star",fullName:"star",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"sun.png",x:42,y:18},{name:"timeText",fullName:"timeText",visible:!1,type:"sprite",key:"morning_text.png",x:0,y:41}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"hour",fullName:"hour",visible:!1,type:"sprite",key:"pm1000.png",x:98,y:8},{name:"star",fullName:"star",visible:!1,type:"sprite",key:"moon.png",x:28,y:0},{name:"timeText",fullName:"timeText",visible:!1,type:"sprite",key:"night_text.png",x:0,y:10}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"container",x:0,y:0},{name:"staff",fullName:"staff",type:"container",x:39,y:66},{name:"btnNext",fullName:"btnNext",visible:!1,type:"container",x:1028,y:587},{name:"btnSkip",fullName:"btnSkip",visible:!1,type:"container",x:1028,y:587},{name:"btnOk",fullName:"btnOk",type:"container",x:1028,y:587},{name:"screen",fullName:"screen",visible:!1,type:"container",x:0,y:0},{name:"pyramidEffect",fullName:"pyramidEffect",type:"container",x:0,y:0},{name:"badNotice",fullName:"badNotice",visible:!1,type:"container",x:0,y:271},{name:"goodNotice",fullName:"goodNotice",visible:!1,type:"container",x:0,y:271}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1458),u=r(l),c=n(26),f=r(c),d=function(e){var t=new aoba.filters.ColorMatrixFilter;t.greyscale(1,!0),e.filters=[t],e.alpha=.5,e.show(),aoba.FrameTween.new(e).wait(4).to({alpha:0},12)},p=function(e){aoba.FrameTween.new(e).from({x:-1500},17)},h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(u.default);return n._pyramidBase=r["pyramidRank/pyramid"+e+"Base"],n._pyramidLight=r["pyramidLight/"+e.toLowerCase()+"Line"],n._pyramidLight&&(n._pyramidMask=aoba.Graphics.new().beginFill(0).drawRect(0,0,1e3,800),n._pyramidLight.mask=n._pyramidMask.addTo(n._pyramidLight,-50,0,{rotation:-45*aoba.DEG_TO_RAD})),n}return o(t,e),s(t,[{key:"show",value:function(){aoba.soundManager.playSE(f.default.idolRank.rankUpEffect),d(this._pyramidBase),this._pyramidLight&&(this._pyramidLight.show(),p(this._pyramidMask))}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"pyramidFBase",fullName:"pyramidRank/pyramidFBase",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_f_base.png",x:156,y:240},{name:"pyramidEBase",fullName:"pyramidRank/pyramidEBase",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_e_base.png",x:156,y:204},{name:"pyramidDBase",fullName:"pyramidRank/pyramidDBase",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_d_base.png",x:156,y:165},{name:"pyramidCBase",fullName:"pyramidRank/pyramidCBase",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_c_base.png",x:156,y:132},{name:"pyramidBBase",fullName:"pyramidRank/pyramidBBase",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_b_base.png",x:156,y:96},{name:"pyramidABase",fullName:"pyramidRank/pyramidABase",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_a_base.png",x:156,y:60},{name:"pyramidSBase",fullName:"pyramidRank/pyramidSBase",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"pyramid_s_base.png",x:156,y:21}],name:"pyramidRank",fullName:"pyramidRank",type:"container",x:394,y:228},{children:[{name:"eLine",fullName:"pyramidLight/eLine",visible:!1,type:"sprite",key:"e_line.png",x:0,y:185},{name:"dLine",fullName:"pyramidLight/dLine",visible:!1,type:"sprite",key:"d_line.png",x:22,y:150},{name:"cLine",fullName:"pyramidLight/cLine",visible:!1,type:"sprite",key:"c_line.png",x:44,y:114},{name:"bLine",fullName:"pyramidLight/bLine",visible:!1,type:"sprite",key:"b_line.png",x:66,y:78},{name:"aLine",fullName:"pyramidLight/aLine",visible:!1,type:"sprite",key:"a_line.png",x:88,y:42},{name:"sLine",fullName:"pyramidLight/sLine",visible:!1,type:"sprite",key:"s_line.png",x:110,y:0}],name:"pyramidLight",fullName:"pyramidLight",type:"container",x:404,y:217}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(485),u=r(l),c=n(1460),f=r(c),d=n(34),p=r(d),h=n(3),y=r(h),m=function(e){e.show(),aoba.FrameTween.new(e).to({y:e.y-20,alpha:0},15,"easeOutQuad")},_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.setInteractive(!0),n._params=e,n._fans=n._params.fans,n._rank=n._params.rank,n._idolRanks=n._params.idolRanks,n._previousRank=n._params.previousRank,n._targetRank=n._params.targetRank,n._previousFans=n._params.previousFans,n._targetRankRequiredFans=n._idolRanks.find(function(e){return e.rank===n._targetRank}).requiredFan,n._targetRankFans=n._getFansUntilTargetRank(),n._initialTargetRankFans=n._getInitialFansUntilTargetRank();var r=0===n._initialTargetRankFans?"-":y.default.t("idolRank.txtNextFan",{count:n._initialTargetRankFans}),o=n.fromData(f.default,{txtFan:{text:y.default.t("idolRank.txtFan",{count:n._previousFans})},txtNextFan:{text:r},titleSeasonGoal:{visible:!!n._targetRank},rankIcon:n._targetRank?{key:"icon_idol_rank_"+n._targetRank.toLowerCase()+".png",scale:.4,visible:!0}:{visible:!1},pyramid:u.default.new(e,!0)});return n._textFan=o.txtFan,n._txtNextFan=o.txtNextFan,n._upArrow=o.upArrow,n._pyramid=o.pyramid,n.on("removed",n._clearCountUp,n),n}return o(t,e),s(t,[{key:"_getInitialFansUntilTargetRank",value:function(){return this._targetRankRequiredFans<=this._previousFans?0:this._targetRankRequiredFans-this._previousFans}},{key:"_getFansUntilTargetRank",value:function(){return this._targetRankRequiredFans<=this._fans?0:this._targetRankRequiredFans-this._fans}},{key:"_clearCountUp",value:function(){var e=this;this._countUpSE&&aoba.FrameTween.new(this._countUpSE).to({volume:0},10).call(function(){e._countUpSE.pause()}),this._counter&&clearInterval(this._counter)}},{key:"countUpFans",value:function(e){var t=this,n=this._initialTargetRankFans,r=this._previousFans,i=this._fans,a=Math.max(1,Math.ceil((i-r)/60));if(r===i)return void e();this._callback=e,this.once("tap",function(){aoba.soundManager.playSE(p.default.common.ui.decide),t.skipCount()}),m(this._upArrow),this._pyramid.increaseFans(),this._countUpSE=aoba.soundManager.playSE(p.default.produce.idolRank.fanCountUp),this._counter=setInterval(function(){t._textFan.text=y.default.t("idolRank.txtFan",{count:r}),t._txtNextFan.text=0===n?"-":y.default.t("idolRank.txtNextFan",{count:n}),r===i&&(t._clearCountUp(),e()),r=Math.min(i,r+a),n=Math.max(t._targetRankFans,n-a)},33)}},{key:"skipCount",value:function(){this._counter&&(this._clearCountUp(),this._textFan.text=y.default.t("idolRank.txtFan",{count:this._fans}),this._txtNextFan.text=0===this._targetRankFans?"-":y.default.t("idolRank.txtNextFan",{count:this._targetRankFans}),this._callback())}}]),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idolRankBase",fullName:"idolRankBase",type:"sprite",key:"idol_rank_base.png",x:299,y:78},{name:"titleSeasonGoal",fullName:"titleSeasonGoal",type:"sprite",key:"title_season_goal.png",x:335,y:171},{name:"rankIcon",fullName:"rankIcon",anchor:{x:.5,y:.5},type:"sprite",key:"D.png",x:743,y:169},{name:"titleFan",fullName:"titleFan",type:"sprite",key:"title_fan.png",x:331,y:506},{name:"txtFan",fullName:"txtFan",anchor:{x:1,y:1},type:"text",text:"3697\u4eba",style:{fill:37139,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:790,y:526},{name:"upArrow",fullName:"upArrow",visible:!1,type:"sprite",key:"up_arrow.png",x:790,y:506},{name:"titleNextFan",fullName:"titleNextFan",type:"sprite",key:"title_next_fan.png",x:331,y:540},{name:"txtNextFan",fullName:"txtNextFan",anchor:{x:1,y:1},type:"text",text:"\u3042\u3068\u30001602\u4eba",style:{fill:6378341,
fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:789,y:560},{name:"pyramid",fullName:"pyramid",type:"container",x:391,y:217}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1200,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aoba.BLEND_MODES.NORMAL;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._turnSpeed=n,o._effect=aoba.Sprite.new(e).setScale(0).addTo(o,l.default.SCREEN_CENTER.x,l.default.SCREEN_CENTER.y,{anchor:.5,alpha:0,blendMode:a}),o}return a(t,e),o(t,[{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scaleX?t.scaleX:1,r=t.scaleY?t.scaleY:1,i=t.alpha?t.alpha:1,a=t.wait?t.wait:0;aoba.FrameTween.new(this._effect).wait(a).to({scaleX:n,scaleY:r,alpha:i},12,"easeOutCirc").wait(71).call(function(){return e.destroy({children:!0})})}},{key:"fadeOut",value:function(){aoba.FrameTween.new(this._effect).to({scaleX:1,scaleY:1,alpha:1},5).wait(56).to({alpha:0},10,"easeOutQuad")}},{key:"ezgUpdate",value:function(e){this._effect.rotation+=e/this._turnSpeed}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(1),d=r(f),p=n(241),h=r(p),y={};y[h.default.troubleGuard]=function(e,t){var n=0;t.forEach(function(t){n+=t.calcTroubleRateVariation(e.troubleRate)}),e.troubleRateVariation=Math.max(n,-e.troubleRate)},y[h.default.tensionBoost]=function(e,t){t.filter(function(t){return e.supportIdols.find(function(e){return e.supportIdolId===t.supportIdolId})}).forEach(function(t){var n=t.getTargetParam();e.boostedParams.includes(n)||e.boostedParams.push(n)})};var m=function(e,t){e.stamina=Math.min(Math.max(e.stamina+t,d.default.app.MIN_STAMINA),d.default.app.MAX_STAMINA)},_=function(e,t){e.tensionLevel=Math.min(Math.max(e.tensionLevel+t,d.default.app.MIN_TENSION),d.default.app.MAX_TENSION)},g=function(e,t){e.memoryAppeal.level+=t},b=function(e,t){return e.sort(function(e,t){return t.value-e.value}).find(function(e){return t>=e.value}).rank},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.concertResult=e.concertResult,n.isAfterConcert=e.isAfterConcert,n.fan=e.fan,n.idolRanks=e.idolRanks,n.isConcertWeek=e.isConcertWeek,n.hasReleasedSkills=e.hasReleasedSkills,n.lessonResult=e.lessonResult,n.prevProduceTrendCombination=e.prevProduceTrendCombination,n.promisePlaceCategoryId=e.promisePlaceCategoryId,n.produceAuditions=e.produceAuditions,n.produceCommunication=e.produceCommunication,n.produceCommunicationPromise=e.produceCommunicationPromise,n.produceCommunicationPromiseResult=e.produceCommunicationPromiseResult,n.produceEvents=e.produceEvents||[],n.places=e.places,n.produceTrendCombination=e.produceTrendCombination,n.releasedSkills=e.releasedSkills,n.remainSeasonWeek=e.remainSeasonWeek,n.seasonNum=e.seasonNum,n.shouldStartEnding=e.shouldStartEnding,n.shouldStartNextWeek=e.shouldStartNextWeek,n.statusRanks=e.statusRanks,n.supportSkills=e.supportSkills,n.targetRank=e.targetRank,n.topCharacterReaction=e.topCharacterReaction,n.userProduceIdol=e.userProduceIdol,n.userProduceSupportIdols=e.userProduceSupportIdols,n.promisePlaceCategoryId=0,n.produceIdol=n.userProduceIdol,n.supportIdols=n.userProduceSupportIdols,n}return s(t,e),l(t,[{key:"updatePlaces",value:function(e){this.places=e}},{key:"updatePlacesWithSupportIdols",value:function(e){var t=this.places,n=this.userProduceSupportIdols,r=this.supportSkills,i=c.default.groupBy(r,function(e){return e.effectType});t.forEach(function(t){t.isPromised=t.producePlaceCategoryId===e,t.supportIdols=n.filter(function(e){return e.producePlaceCategoryId===t.producePlaceCategoryId}),t.troubleRateVariation=0,t.boostedParams=[],c.default.each(y,function(e,n){var r=i[n];r&&e(t,r)})})}},{key:"updateParameter",value:function(e){var t=e.stamina,n=e.tensionLevel,r=e.memoryAppealLevel,i={};t&&(m(this.userProduceIdol,t),i.stamina=this.userProduceIdol.stamina),n&&(_(this.userProduceIdol,n),i.tensionLevel=this.userProduceIdol.tensionLevel),r&&(g(this.userProduceIdol,r),i.memoryAppealLevel=this.userProduceIdol.memoryAppealLevel),this.emit("updateParameter",i)}},{key:"isStaminaSupportEnabled",value:function(){return this.supportSkills.some(function(e){return e.isStaminaSupport()})}},{key:"getParameterRank",value:function(e,t){var n=this.statusRanks.filter(function(t){return t.category===e});return b(n,t)}},{key:"getRankUpParameters",value:function(e,t){var n=[],r=c.default.groupBy(this.statusRanks,"category");return Object.keys(r).forEach(function(i){var a=r[i],o=e[i],s=t[i],l=o+s,u=b(a,o),c=b(a,l);c!==u&&n.push({name:i,beforeRank:u,afterRank:c})}),n}},{key:"getPredictionAppeal",value:function(){var e=this.userProduceIdol.getTotalAppeal(),t=this.userProduceSupportIdols.reduce(function(e,t){return e+Math.floor(t.getTotalAppeal()/2)},0);return Math.floor((2*e+t/2)/3)}},{key:"morningEvents",get:function(){return[].concat(i(this.produceEvents),[this.produceCommunication,this.produceCommunicationPromise]).filter(function(e){return e&&e.id})}},{key:"eveningEvents",get:function(){return[].concat(i(this.produceEvents),[this.produceCommunicationPromiseResult]).filter(function(e){return e&&e.id})}}]),t}(aoba.utils.EventEmitter);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(135),c=r(u),f=n(256),d=r(f),p=n(38),h=r(p),y=n(83),m=r(y),_=n(136),g=r(_),b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._produceAction=h.default,n.createConcertGame(e,g.default.concert,m.default.createConcert()),n}return s(t,e),l(t,[{key:"_requestFinishConcert",value:function(e){return h.default.concertFinish({produceConcertRivals:e.rivals,isRetired:e.isRetired})}}],[{key:"uiResources",get:function(){return[].concat(i(d.default),[m.default.IMAGES.CONCERT.bg])}}]),t}(c.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(135),c=r(u),f=n(38),d=r(f),p=n(83),h=r(p),y=n(136),m=r(y),_=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._produceAction=d.default,n.createConcertGame(e,m.default.audition,h.default.createAudition(e.produceAudition.difficulty)),n._auditionId=e.produceAudition.id,n}return s(t,e),l(t,[{key:"_requestFinishConcert",value:function(e){return d.default.auditionFinish({auditionId:this._auditionId,produceConcertRivals:e.rivals,isRetired:e.isRetired})}}],[{key:"getContentResources",value:function(e){return[].concat(i(c.default.getContentResources(e)),[h.default.IMAGES.AUDITION(e.produceAudition.difficulty).bg])}}]),t}(c.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(12),f=r(c),d=n(5),p=r(d),h=n(1466),y=r(h),m=n(1494),_=r(m),g=n(38),b=r(g),v=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._params=e,n._start(),n}return o(t,e),s(t,[{key:"onEnter",value:function(){this._endingLayer&&this._endingLayer.onEnterScene()}},{key:"_start",value:function(){var e=this;Promise.resolve().then(function(){return e._startEnding()}).then(function(){return e._finishCurrentIdolProduce()})}},{key:"_startEnding",value:function(){var e=this;return new Promise(function(t){e._endingLayer=y.default.new(e._params).addTo(e).on("end",t)})}},{key:"_finishCurrentIdolProduce",value:function(){return Promise.resolve().then(function(){f.default.directTo("/home")})}}],[{key:"request",value:function(){return b.default._finish().then(function(e){return Object.assign({},e,{produceAction:{result:function(){return b.default._result()}}})})}},{key:"getContentResources",value:function(e){function t(e){e.linkSkillCharacters.forEach(function(e){n.push(e.iconPath)})}var n=[];return n.push(e.produceIdol.getImagePath("card")),n.push(e.produceIdol.getImagePath("fes_card")),n.push(e.produceIdol.getImagePath("name")),n.push(e.produceIdol.getImagePath("icon")),e.supportIdols.forEach(function(e){n.push(e.getImagePath("icon"))}),e.produceIdol.activeSkills.forEach(function(e){e.linkSkill&&t(e.linkSkill)}),u.default.uniq(n)}},{key:"uiResources",get:function(){return _.default}}]),t}(p.default);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1467),f=r(c),d=n(117),p=r(d),h=n(187),y=r(h),m=n(162),_=r(m),g=n(7),b=r(g),v=n(21),w=r(v),k=n(111),S=r(k),I=n(108),E=r(I),A=n(38),x=r(A),C=n(1468),T=r(C),P=n(488),O=r(P),N=n(1476),M=r(N),R=n(1477),D=r(R),F=n(1479),B=r(F),j=n(1489),L=r(j),U=n(3),H=r(U),G=n(1),z=r(G),V=n(14),K=r(V),W=n(96),q=r(W),X=n(1491),Y=r(X),J=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._produceAction=e.produceAction||x.default,n._endingParams=e;var r=e.produceIdol.userIdol.idol.rarity===z.default.app.RARITIES.SSR?M.default:O.default,o=n.fromData(f.default,{endingMovingBg:L.default.new(),ceoReport:T.default.new(e),fesIdolBirth:B.default.new(e.produceIdol,e.supportIdols),fesIdolResult:r.new(e.produceIdol)});return n._ceoReport=o.ceoReport,n._fesIdolBirth=o.fesIdolBirth,n._fesIdolResult=o.fesIdolResult,n._headerLayer=aoba.Container.new().addTo(n),n._userProduceIdol=e.produceIdol,n._eventLayer=aoba.Container.new().addTo(n),n._transitionLayer=aoba.Container.new().addTo(n),n._transition=E.default.new().addTo(n._transitionLayer),n._blocker=aoba.Graphics.new().beginFill(0).drawRect(0,0,z.default.SCREEN_WIDTH,z.default.SCREEN_HEIGHT).hide(),n._blocker.alpha=.5,n._blocker.interactive=!0,n.on("added",n._onAdded,n),n._fesIdolBirth.on("confirmFesIdolBirth",n._confirmFesIdolBirth,n),n._fesIdolBirth.on("goToReflection",n._goToReflection,n),n}return o(t,e),s(t,[{key:"onEnterScene",value:function(){this._isEndingEventCompleted&&aoba.soundManager.playBGMAsync(z.default.bgm.produce.ending)}},{key:"_onAdded",value:function(){this._start()}},{key:"_start",value:function(){var e=this;this._hideViewUntilShowSomething(),Promise.resolve().then(function(){return e._showEndingEvent()}).then(function(){return e._showProducerEvaluation()}).then(function(){return e._showFesIdolEvaluation()}).then(function(){return e._showFesIdolResult()
}).then(function(){return e._showRewardDialog()}).then(function(){return e._hasAfterStory()?e._showAfterStory():e._showStaff()}).then(function(){e.emit("end"),e.destroy({children:!0})})}},{key:"_hideViewUntilShowSomething",value:function(){var e=this;this._transition.prepareForDisappearing(),this.once("showSomething",function(){e._transition.disappear()})}},{key:"_showEndingEvent",value:function(){var e=this;return this._showEvents(this._endingParams.produceConcertEvents).then(function(){return e._isEndingEventCompleted=!0,aoba.soundManager.playBGMAsync(z.default.bgm.produce.ending),Promise.resolve()})}},{key:"_showProducerEvaluation",value:function(){var e=this;return new Promise(function(t){var n=e._createHeader(H.default.t("ending.headerTitle.endingCEOReport"));e._whiteLayer=aoba.Graphics.new().beginFill(16777215).drawRect(0,0,aoba.game.width,aoba.game.height).addTo(e),aoba.FrameTween.new(e._whiteLayer).to({alpha:0},10),e._ceoReport.open(),e._ceoReport.on("end",function(){n.destroy({children:!0}),t()}),e.emit("showSomething")})}},{key:"_showFesIdolEvaluation",value:function(){var e=this;return new Promise(function(t){e._header=e._createHeader(H.default.t("ending.headerTitle.fesIdolBirth")),e._fesIdolBirth.open(),e.on("endFesIdolEvaluation",t)})}},{key:"_goToReflection",value:function(){var e=this;this.interactiveChildren=!1,this._produceAction.getSkillPanels().then(function(t){var n=Object.assign({},t,{produceAction:e._produceAction,onUpdateSkillParams:e._onUpdateSkillParams.bind(e)});w.default.loadSceneAsync("skillBoard",{additive:!0,asset:!0,request:!1,sceneParams:n,showLoading:!1}).then(function(){e.interactiveChildren=!0})})}},{key:"_onUpdateSkillParams",value:function(e){var t=e.userProduceIdol;this._endingParams.produceIdol.skillPoint=t.skillPoint,this._fesIdolBirth.updateProfile(t)}},{key:"_confirmFesIdolBirth",value:function(){var e=this;this._fesIdolCheckPop=D.default.new().addTo(this),this._fesIdolCheckPop.open(this._endingParams.produceIdol.skillPoint),this._fesIdolCheckPop.on("submit",function(){e._birthFesIdol()})}},{key:"_birthFesIdol",value:function(){var e=this;this.interactiveChildren=!1,Promise.all([this._produceAction.result(),this._fesIdolResult.initMovie()]).then(function(t){var n=t[0];e._resultParams=n,e._resultParams.resultReward.rewards.forEach(function(e){aoba.utils.setPrototypeOf(e,q.default)}),e.emit("endFesIdolEvaluation"),e.interactiveChildren=!0})}},{key:"_showFesIdolResult",value:function(){var e=this;return new Promise(function(t){e._header.hide();var n=e._resultParams.fesIdolRanks,r=e._getIndexOfFesIdolRankMast(e._resultParams.fesIdolRank),i=n[r],a=r+1<n.length?n[r+1]:null,o=a?a.rank:i.rank,s=1;if(a&&a.requiredPoint>i.requiredPoint){var l=e._resultParams.fesIdolPoint-i.requiredPoint,u=a.requiredPoint-i.requiredPoint;s=l/u}S.default.createBlack().addTo(e).play().then(function(){e._fesIdolBirth.hide(),e._fesIdolResult.open(e._endingParams.produceIdol,e._resultParams.fesIdolRank,o,s),e._fesIdolResult.on("end",t)})})}},{key:"_getIndexOfFesIdolRankMast",value:function(e){for(var t=this._resultParams.fesIdolRanks,n=0;n<t.length;++n)if(t[n].rank===e)return n;return-1}},{key:"_showRewardDialog",value:function(){var e=this,t=this._resultParams.resultReward,n=t.isItemMaxed,r=t.rewards,i="";return r.forEach(function(e,t){i+=H.default.t("ending.fesIdolRewardPop.itemNameNum",{type:e.getName(),num:e.num}),r.length-1!==t&&(i+="\r")}),new Promise(function(t){K.default.new({title:H.default.t("ending.fesIdolRewardPop.title"),container:Y.default.new(n,i),buttons:[{type:"submit",image:"ok_button.png"}]}).addTo(e).on("submit",t).open()})}},{key:"_hasAfterStory",value:function(){return this._resultParams.produceAfterEvent}},{key:"_showAfterStory",value:function(){var e=this;return S.default.createBlack().addTo(this).play().then(function(){return e._showEvents([e._resultParams.produceAfterEvent])})}},{key:"_showStaff",value:function(){var e=this,t=aoba.Graphics.new().beginFill(0).drawRect(0,0,z.default.SCREEN_WIDTH,z.default.SCREEN_HEIGHT).addTo(this,0,0,{alpha:0});return t.interactive=!0,Promise.resolve().then(function(){return new Promise(function(t){e._header.hide(),e._fesIdolBirth.hide(),e._fesIdolResult.close(),e._fesIdolResult.on("end",t)})}).then(function(){return new Promise(function(t){var n=e._resultParams.produceStaffEndingComments;n&&n.length>0?S.default.createBlack().addTo(e).play().then(function(){e._staff=y.default.new({hasBg:!0}).addTo(e,39,66),e._staff.showBalloon(),e._staff.on("end",t),e._staff.open(n[0])}):t()})}).then(function(){return new Promise(function(e){t.on("tap",function(){aoba.soundManager.playSE(b.default.ui.decide),e()})})})}},{key:"_showEvents",value:function(e){var t=this;return e.forEach(function(e){e.eventCategory=_.default.concertEvent}),e.reduce(function(e,n){return e.then(function(){return t._showEvent(n)})},Promise.resolve()).then(function(){t._eventLayer.removeChildren(),Promise.resolve()})}},{key:"_showEvent",value:function(e){dlog(!1,"showEvent_fales",e,this);var t=this,n=new p.default({event:e,userProduceIdol:this._endingParams.produceIdol}).addTo(this._eventLayer);return n.preload().then(function(e){return t.emit("showSomething"),n.play(e)})}},{key:"_createHeader",value:function(e){var t=u.default.commonUiHelper.createHeader(e).addTo(this._headerLayer);return t.x-=f.default.x?f.default.x:0,t.y-=f.default.y?f.default.y:0,t}}]),t}(aoba.Container);t.default=J},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"endingMovingBg",fullName:"endingMovingBg",type:"container",x:0,y:0},{name:"fesIdolResult",fullName:"fesIdolResult",visible:!1,type:"container",x:0,y:0},{name:"fesIdolBirth",fullName:"fesIdolBirth",visible:!1,type:"container",x:0,y:7},{name:"ceoReport",fullName:"ceoReport",visible:!1,type:"container",x:0,y:0}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(0),f=r(c),d=n(1469),p=r(d),h=n(279),y=r(h),m=n(3),_=r(m),g=n(34),b=r(g),v=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.produceIdol,o=e.memoryPoint,s=e.skillPointsFromMemoryPoint,l=e.fan,c=e.skillPointsFromFan,d=e.idolTotalFan,h=n.fromData(p.default,{bg:{key:u.default.bg.PRESIDENT_REPORT},"report/idolIcon":{key:r.getImagePath("icon"),scale:.75},"report/idolName":{text:r.userIdol.name},"presidentBalloon/comment":{text:_.default.t("ending.presidentComment")},"report/memoryPoint/memoryPoint":{text:y.default.memoryPoint(o)},"report/memoryPoint/spFromMemoryPoint":{text:s,alpha:0},"report/memoryPoint/spFromMemoryPointEffect":{text:s,alpha:1},"report/lastFan/lastFan":{text:y.default.lastFan(l)},"report/lastFan/spFromLastFan":{text:c,alpha:0},"report/lastFan/spFromLastFanEffect":{text:c,alpha:1},"report/totalFan/characterName":{text:y.default.totalFan.idolName(r.userIdol.idol.character.name)},"report/totalFan/totalFan":{text:y.default.totalFan.fan(d-l)},"report/totalFan/totalFanUnit":{dy:4},btnNext:{class:f.default.DecideButton}});return h["presidentBalloon/comment"].style.lineHeight=18,
n._nextButton=h.btnNext,n._nextButton.on("tap",n._close,n),n._fan=e.fan,n._totalFan=e.idolTotalFan,n._objs=h,n}return o(t,e),s(t,[{key:"open",value:function(){var e=this;this.show(),aoba.FrameTween.new(this).call(function(){e.show()}).call(function(){e._showReport(e._objs.report),e._showPresident(e._objs.president)}).wait(6).call(function(){e._showPresidentBalloon(e._objs.presidentBalloon)}),aoba.FrameTween.new(this).wait(11).call(function(){e._showReportEffect()})}},{key:"_showReport",value:function(e){aoba.FrameTween.new(e).call(function(){e.show()}).from({alpha:0},4),aoba.FrameTween.new(e).call(function(){e.show()}).from({y:e.y-96},15,"easeOutCirc")}},{key:"_showPresident",value:function(e){aoba.FrameTween.new(e).call(function(){e.show()}).from({x:e.x+550},15,"easeOutCirc")}},{key:"_showPresidentBalloon",value:function(e){aoba.FrameTween.new(e).call(function(){e.show()}).from({scaleX:0,scaleY:0},8,"easeOutBack")}},{key:"_showReportEffect",value:function(){var e=this;aoba.FrameTween.new(this).call(function(){e._showReportPoints(e._objs["report/memoryPoint/memoryPoint"],e._objs["report/memoryPoint/spFromMemoryPoint"],e._objs["report/memoryPoint/spFromMemoryPointEffect"])}).wait(6).call(function(){e._showReportPoints(e._objs["report/lastFan/lastFan"],e._objs["report/lastFan/spFromLastFan"],e._objs["report/lastFan/spFromLastFanEffect"])}),aoba.FrameTween.new(this).wait(20).call(function(){e._countUpSE=aoba.soundManager.playSE(b.default.ending.ceoReportTotalFan)}).chain(f.default.commonUiHelper.createCountUpTween({textUI:this._objs["report/totalFan/totalFan"],startNumber:this._totalFan-this._fan,endNumber:this._totalFan,addNumber:Math.ceil(this._fan/20),isFormatted:!0})).call(function(){e._countUpSE.pause(),e._showNextButton()})}},{key:"_showReportPoints",value:function(e,t,n){var r=this;aoba.FrameTween.new(e).call(function(){e.show()}).from({scaleX:1.34,scaleY:1.34},6),aoba.FrameTween.new(e).from({alpha:0},2),aoba.FrameTween.new(this).wait(1).call(function(){r._showReportSP(t)}),aoba.FrameTween.new(this).wait(8).call(function(){r._showReportSPEffect(n)})}},{key:"_showReportSP",value:function(e){aoba.FrameTween.new(e).call(function(){e.show()}).from({scaleX:2.14,scaleY:2.14},10,"easeOutCirc"),aoba.FrameTween.new(e).to({alpha:1},3)}},{key:"_showReportSPEffect",value:function(e){aoba.FrameTween.new(e).call(function(){aoba.soundManager.playSE(b.default.ending.ceoReportSP),e.show()}).to({scaleX:1.28,scaleY:1.28,alpha:0},5)}},{key:"_showNextButton",value:function(){var e=this;aoba.FrameTween.new(this._objs.btnNext).wait(10).call(function(){e._objs.btnNext.show()}).from({x:this._objs.btnNext.x+184},5,"easeInOutCirc")}},{key:"_close",value:function(){var e=this;aoba.FrameTween.new(this).to({alpha:0},15).call(function(){e.hide(),e.emit("end")})}}]),t}(aoba.Container);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"president",fullName:"president",visible:!1,type:"sprite",key:"ending_president.png",x:581,y:0},{children:[{name:"produceEvaluationBase",fullName:"report/produceEvaluationBase",type:"sprite",key:"ending_produce_evaluation_base.png",x:0,y:0},{name:"idolName",fullName:"report/idolName",type:"text",text:"\u3010\u30b7\u30e3\u30a4\u30cb\u30fc\u30ab\u30e9\u30fc\u30ba\u3011\u6afb\u6728\u771f\u4e43\u6afb\u6728\u771f\u4e43\u6afb",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:138,y:161},{name:"idolIcon",fullName:"report/idolIcon",type:"sprite",key:"idol_icon.png",x:51,y:124},{children:[{name:"endingCeoReportArrow",fullName:"report/memoryPoint/endingCeoReportArrow",type:"sprite",key:"ending_ceo_report_arrow.png",x:152,y:0},{name:"achievedTitle",fullName:"report/memoryPoint/achievedTitle",type:"text",text:"\u7372\u5f97",style:{fill:16741120,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:195,y:14},{name:"iconStatusSp",fullName:"report/memoryPoint/iconStatusSp",type:"sprite",key:"icon_status_sp.png",x:237,y:1},{name:"memoryPoint",fullName:"report/memoryPoint/memoryPoint",visible:!1,anchor:{x:.5,y:.5},type:"text",text:"999,999,999",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:72,y:16},{name:"spFromMemoryPoint",fullName:"report/memoryPoint/spFromMemoryPoint",visible:!1,anchor:{x:.5,y:.5},type:"text",text:"300",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:28},rotation:0,x:305,y:15},{name:"spFromMemoryPointEffect",fullName:"report/memoryPoint/spFromMemoryPointEffect",visible:!1,anchor:{x:.5,y:.5},type:"text",text:"300",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:28},rotation:0,x:305,y:15}],name:"memoryPoint",fullName:"report/memoryPoint",type:"container",x:197,y:217},{children:[{name:"lastFan",fullName:"report/lastFan/lastFan",visible:!1,anchor:{x:.5,y:.5},type:"text",text:"999,999,999",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:72,y:15},{name:"endingCeoReportArrow",fullName:"report/lastFan/endingCeoReportArrow",type:"sprite",key:"ending_ceo_report_arrow.png",x:152,y:0},{name:"achievedTitle",fullName:"report/lastFan/achievedTitle",type:"text",text:"\u7372\u5f97",style:{fill:16741120,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:195,y:14},{name:"iconStatusSp",fullName:"report/lastFan/iconStatusSp",type:"sprite",key:"icon_status_sp.png",x:237,y:1},{name:"spFromLastFan",fullName:"report/lastFan/spFromLastFan",visible:!1,anchor:{x:.5,y:.5},type:"text",text:"999",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:28},rotation:0,x:305,y:13},{name:"spFromLastFanEffect",fullName:"report/lastFan/spFromLastFanEffect",visible:!1,anchor:{x:.5,y:.5},type:"text",text:"999",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:28},rotation:0,x:305,y:13}],name:"lastFan",fullName:"report/lastFan",type:"container",x:197,y:276},{children:[{name:"characterName",fullName:"report/totalFan/characterName",type:"text",text:"\u3010\u6afb\u6728\u771f\u4e43\u3011\u7d2f\u8a08\u30d5\u30a1\u30f3\u4eba\u6570",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:0,y:10},{name:"totalFan",fullName:"report/totalFan/totalFan",anchor:{x:1,y:.5},type:"text",text:"99,999,999,999,999",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:28},rotation:0,x:446,y:63},{name:"totalFanUnit",fullName:"report/totalFan/totalFanUnit",type:"text",text:"\u4eba",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:28},anchor:{x:0,y:.5},rotation:0,x:449,y:60}],name:"totalFan",fullName:"report/totalFan",type:"container",x:58,y:349}],name:"report",fullName:"report",visible:!1,type:"container",x:35,y:83},{children:[{name:"presidentBalloonBase",fullName:"presidentBalloon/presidentBalloonBase",type:"sprite",key:"ending_president_balloon_base.png",x:0,y:0},{name:"comment",fullName:"presidentBalloon/comment",anchor:{x:0,y:0},type:"text",text:"\u3054\u82e6\u52b4\u3060\u3063\u305f\u306a\r\u6b21\u56de\u3082\u9811\u5f35\u3063\u3066\u3082\u3089\u3046\u305e\uff01\r\u671f\u5f85\u3057\u3066\u3044\u308b\u304b\u3089\u306a",style:{fill:5063497,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:14,y:30},{name:"name",fullName:"presidentBalloon/name",type:"text",text:"\u793e\u9577",style:{fill:5063497,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:14,y:119}],name:"presidentBalloon",fullName:"presidentBalloon",visible:!1,type:"container",x:864,y:398},{name:"btnNext",fullName:"btnNext",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"next_button.png",x:1046,y:588}],name:"",fullName:"",visible:!1,type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}
function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1471),u=r(l),c=n(1472),f=r(c),d=n(279),p=r(d),h=n(23),y=r(h),m=n(1474),_=r(m),g=n(34),b=r(g),v=n(165),w=r(v),k=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(u.default,{graph:f.default.new(),"icons/endingTotalEvaluationGlow":{scale:.9}});return e._idolRankIcon=n["icons/idolRankLIcon"],e._title=n.endingTotalEvaluationTitle,e._brightRing=n["icons/endingTotalEvaluationGlow"],e._graph=n.graph,e._icons=n.icons,e._graph.hide(),e.hide(),e._title.mask=aoba.Sprite.fromImage("evaluation_logo_mask.png").addTo(e._title),e}return o(t,e),s(t,[{key:"open",value:function(e,t,n,r){var i=this;this._idolRankIcon.texture=aoba.Texture.fromImage(p.default.image.idolRankIcon({idolRank:e})),this._idolRankIcon.mask="E"===e||"F"===e?aoba.Sprite.fromImage("icon_rank_e_f.png").addTo(this._idolRankIcon,0,0,{anchor:.5,scale:1.167}):aoba.Sprite.fromImage("icon_rank_d_c_b_a_s.png").addTo(this._idolRankIcon,0,0,{anchor:.5,scale:1.167}),aoba.FrameTween.new(this).call(function(){i.show()}).from({alpha:0,y:this.y-30},17).call(function(){w.default.createGlossEffect().addTo(i._title,0,0,{anchor:aoba.p(.5)}),w.default.createGlossEffect().addTo(i._idolRankIcon,0,0,{anchor:aoba.p(.5)}),i._showFesIdolRankStars(e)}),aoba.FrameTween.new(this._idolRankIcon).wait(15).call(function(){i._icons.show(),i._idolRankIcon.show()}).to({alpha:1},3),aoba.FrameTween.new(this._idolRankIcon).wait(15).from({scaleX:1.84,scaleY:1.84},16,"easeOutBounce"),aoba.FrameTween.new(this._brightRing).wait(20).from({scaleX:.72,scaleY:.72,alpha:0},6),aoba.FrameTween.new(this._graph).wait(23).call(function(){i._graph.open(e,t)}).from({x:this._graph.x-133,alpha:0},13).call(function(){e!==t&&(i._graph.playProgressGauge(n),i._graph.on("endProgressGauge",function(){})),aoba.soundManager.playVoiceAsync(r)}),this._brightRing.update=function(e){this.rotation+=.1*e/1e3}}},{key:"_showFesIdolRankStars",value:function(e){var t=b.default.ending.fesIdolRankIcon;aoba.soundManager.playSE(t);var n=new y.default(_.default.flash_spark_02,"flash_spark_02");n.setPosition(this._idolRankIcon.x,this._idolRankIcon.y),this._icons.addChild(n.container),n.play()}},{key:"close",value:function(){var e=this;aoba.FrameTween.new(this).to({alpha:0},10).call(function(){e.hide()})}}]),t}(aoba.Container);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"graph",fullName:"graph",type:"container",x:0,y:340},{children:[{name:"endingTotalEvaluationGlow",fullName:"icons/endingTotalEvaluationGlow",anchor:{x:.5,y:.5},type:"sprite",key:"ending_total_evaluation_glow.png",x:143,y:143},{name:"idolRankLIcon",fullName:"icons/idolRankLIcon",anchor:{x:.5,y:.5},type:"sprite",key:"icon_fes_idol_rank_l_s.png",x:135,y:135}],name:"icons",fullName:"icons",visible:!1,type:"container",x:98,y:75},{name:"endingTotalEvaluationTitle",fullName:"endingTotalEvaluationTitle",type:"sprite",key:"ending_total_evaluation_title.png",x:46,y:0}],name:"",fullName:"",visible:!1,type:"container",x:52,y:102}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1473),u=r(l),c=n(279),f=r(c),d=n(34),p=r(d),h=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(u.default);return e._rankIconCurrent=n.rankIconCurrent,e._rankIconNext=n.rankIconNext,e._baseGauge=n.gauge0,e._gaugeLayer=aoba.Container.new().addTo(e),e}return o(t,e),s(t,[{key:"open",value:function(e,t){e!==t?(this._rankIconCurrent.texture=this._getGraphIdolRankTexture(e),this._rankIconNext.texture=this._getGraphIdolRankTexture(t),this.show()):this.hide()}},{key:"playProgressGauge",value:function(e){var t=this;Promise.resolve().then(function(){return new Promise(function(n){return t._updateGauge(e,n)})}).then(function(){t.emit("endProgressGauge")})}},{key:"_getGraphIdolRankTexture",value:function(e){return aoba.Texture.fromImage(f.default.image.endingGraphRankIcon({idolRank:e}))}},{key:"_updateGauge",value:function(e,t){var n=this;this._gaugeLayer.removeChildren();for(var r=Math.floor(10*e),i=0;i<r;++i)!function(e){var t=aoba.Sprite.new(n._baseGauge.texture).addTo(n._gaugeLayer,n._baseGauge.x+33*e,n._baseGauge.y,{anchor:.5}).hide(),r=aoba.Sprite.fromImage("ending_rank_marker_shine.png").addTo(t,0,0,{scale:.68,anchor:.5,blendMode:aoba.BLEND_MODES.ADD}),i=aoba.Sprite.fromImage("ending_rank_marker_line.png").addTo(t,0,0,{scale:.8,anchor:.5,blendMode:aoba.BLEND_MODES.ADD});aoba.FrameTween.new(t).wait(8*e).call(function(){aoba.soundManager.playSE(p.default.ending.graph),t.show()}),aoba.FrameTween.new(r).wait(8*e).to({scaleX:.78,scaleY:.78,alpha:.04},10),aoba.FrameTween.new(i).wait(8*e).to({scaleX:1.24,scaleY:1.24},5).to({scaleX:1.6,scaleY:1.6,alpha:0},5)}(i);aoba.FrameTween.new(this).wait(10+2*r).call(t)}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"endingGraphBg",fullName:"endingGraphBg",type:"sprite",key:"ending_graph_bg.png",x:0,y:1},{name:"gauge0",fullName:"gauge0",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"ending_graph_gauge.png",x:79,y:29},{name:"rankIconCurrent",fullName:"rankIconCurrent",anchor:{x:.5,y:.5},type:"sprite",key:"icon_fes_idol_rank_l_s.png",x:33,y:26},{name:"rankIconNext",fullName:"rankIconNext",anchor:{x:.5,y:.5},type:"sprite",key:"icon_fes_idol_rank_l_s.png",x:431,y:26}],name:"",fullName:"",type:"container",x:52,y:442}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={flash_spark_02:["light_cross_flare_blue.png","light_cross_flare_purple.png"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={create:function(e,t,n){var r={produce_idol_card:{image:t},fes_idol_card:{image:n},fes_idol_card_light:{image:this._createWhiteGraphic(),blendMode:PIXI.BLEND_MODES.ADD},produce_idol_card_light:{image:this._createWhiteGraphic(),blendMode:PIXI.BLEND_MODES.ADD},"boke_eff_1.png":{blendMode:PIXI.BLEND_MODES.ADD}};return new PIXI.AEDataInterceptor(Object.assign(r,this._getRarityParam(e)))},_getRarityParam:function(e){switch(e){case i.default.app.RARITIES.R:return{"fes_idol_birth_R_glow_1.png":{blendMode:PIXI.BLEND_MODES.ADD},"FlashLight_R_1.png":{blendMode:PIXI.BLEND_MODES.ADD}};case i.default.app.RARITIES.SR:return{"fes_idol_birth_SR_glow_1.png":{blendMode:PIXI.BLEND_MODES.ADD},"FlashLight_SR_1.png":{
blendMode:PIXI.BLEND_MODES.ADD}};case i.default.app.RARITIES.SSR:return{"fes_idol_birth_SSR_glow_1.png":{blendMode:PIXI.BLEND_MODES.ADD},"FlashLight_SSR_01_1.png":{blendMode:PIXI.BLEND_MODES.ADD},"FlashLight_SSR_02_1.png":{blendMode:PIXI.BLEND_MODES.ADD},produce_idol_card_light_2:{image:this._createWhiteGraphic(),blendMode:PIXI.BLEND_MODES.ADD}};default:return null}},_createWhiteGraphic:function(){var e=aoba.Container.new();return aoba.Sprite.fromImage("idol_card_frame_eff_w.png").addTo(e,-30,-15,{scale:3}),e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(42),u=r(l),c=n(0),f=r(c),d=n(488),p=r(d),h=n(165),y=r(h),m=n(34),_=r(m),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._moviePath=""+u.default.ASSET_ROOT+e.getMoviePath("card_costume"),n}return o(t,e),s(t,[{key:"initMovie",value:function(){return this._video=f.default.MuteVideo.new(this._moviePath),this._video.pauseOnPlay()}},{key:"_showAnimation",value:function(){var e=this;return this._createAnimation("fes_idol_birth",this._rarity+"_01_data.json",this._interceptor,{isBright:!1,isLastAnimation:!1}).then(function(t){return e._showFirstHalfAnimation(t)}).then(function(){return e._showFesIdolMovie()}).then(function(){return e._createAnimation("fes_idol_birth",e._rarity+"_02_data.json",e._interceptor,{isBright:!0,isLastAnimation:!0})}).then(function(t){return e._showLastHalfAnimation(t)}).then(function(){return Promise.resolve()})}},{key:"_showFirstHalfAnimation",value:function(e){var t=this;return new Promise(function(n){t.show(),t._blackPlate.show(),aoba.FrameTween.new(t._blackPlate).call(function(){t._uiLayer.show(),t._bgEffectLayer.show(),e.play()}).wait(7).call(function(){aoba.soundManager.playSE(_.default.ending["effectStart"+t._rarity]),t._showImpactSpark()}).wait(21).call(function(){t._showShootingStars()}).wait(37).call(n)})}},{key:"_showFesIdolMovie",value:function(){var e=this;return aoba.FrameAnimation.new("images/ui/produce_ending/fes_idol_birth_crush_w.png",102,102,{fps:30}).addTo(this._uiEffectLayer,0,0,{scale:aoba.p(11.14,6.27),blendMode:aoba.BLEND_MODES.ADD}).play(),this._video.addTo(this._uiLayer,0,0,{visible:!1}),this._video.show().resume(),new Promise(function(t){e._video.on("end",t)})}},{key:"_showLastHalfAnimation",value:function(e){var t=this;return e.play(),new Promise(function(e){aoba.soundManager.playSE(_.default.ending.glossEffectSSR),aoba.FrameTween.new(t._blackPlate).wait(17).call(function(){t._showShootingStars(),t._video.hide(),t._video.destroy(!0)}).wait(37).call(function(){y.default.createGlossEffect().addTo(t._fesIdolCardLight,0,0,{anchor:aoba.p(.5),scale:aoba.p(2.2)})}).wait(51).to({alpha:0},17).call(e)})}}]),t}(p.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1478),c=r(u),f=n(14),d=r(f),p=n(3),h=r(p),y={align:"center"},m=function(e){function t(){i(this,t);var e=h.default.t("ending.fesIdolCheckPop.title"),n=[];n.push({type:"close",image:"cancel_button.png"}),n.push({type:"submit",image:"ending_btn_fes_idol_decide.png"});var r=aoba.Container.new(),o=r.fromData(c.default,{endingFesIdolCheckMessage:{text:h.default.t("ending.fesIdolCheckPop.comment")},endingFesIdolCheckWarning:{text:h.default.t("ending.fesIdolCheckPop.warning")},sp:{layout:y}});o.endingFesIdolCheckMessage.style.align="center";var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{title:e,buttons:n,container:r}));return s._sp=o.sp,s}return o(t,e),s(t,[{key:"open",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._sp.text=""+e,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,n)}}]),t}(d.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"endingFesIdolCheckSpTitleBase",fullName:"endingFesIdolCheckSpTitleBase",type:"sprite",key:"ending_fes_idol_check_sp_title_base.png",x:-126,y:84},{name:"endingFesIdolCheckLineSp",fullName:"endingFesIdolCheckLineSp",type:"sprite",key:"ending_fes_idol_check_line_sp.png",x:-55,y:106},{name:"endingFesIdolCheckSpTitle",fullName:"endingFesIdolCheckSpTitle",type:"text",text:"\u6240\u6301SP",style:{fill:16711422,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-114,y:96},{name:"sp",fullName:"sp",anchor:{x:.5,y:.5},type:"text",text:"240034",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:85,y:93},{name:"endingFesIdolCheckMessage",fullName:"endingFesIdolCheckMessage",type:"text",text:"\u30d5\u30a7\u30b9\u30a2\u30a4\u30c9\u30eb\u3092\u8a95\u751f\u3092\u884c\u3044\u307e\u3059\u3002\r\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:-137,y:20},{name:"endingFesIdolCheckWarning",fullName:"endingFesIdolCheckWarning",type:"text",text:"\u6b8b\u308a\u306e\u6240\u6301SP\u306f\u5931\u308f\u308c\u307e\u3059\u3002",style:{fill:16199013,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:-97,y:141},{name:"iconNoticeRed",fullName:"iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:-123,y:130}],name:"",fullName:"",visible:!1,pivot:{x:.5,y:0},type:"container",x:575,y:235}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{
value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1480),u=r(l),c=n(1481),f=r(c),d=n(489),p=r(d),h=n(0),y=r(h),m=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(u.default,{endingMovingBg:null,idols:f.default.new(e,n),profile:(0,p.default)(e),btnDecide:{class:y.default.DecideButton},btnLookBack:{class:y.default.DecideButton,key:"skill_board_button.png"}});return o.idols.open(),o.idols.showProduceIdolCard(),r._profile=o.profile,o.btnLookBack.on("tap",function(){return r.emit("goToReflection")}),o.btnDecide.on("tap",function(){return r.emit("confirmFesIdolBirth")}),r}return o(t,e),s(t,[{key:"open",value:function(){this.show()}},{key:"updateProfile",value:function(e){this._profile.removeChildren(),(0,p.default)(e).addTo(this._profile,0,0)}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"endingMovingBg",fullName:"endingMovingBg",type:"container",x:0,y:0},{name:"profile",fullName:"profile",type:"container",x:18,y:68},{name:"idols",fullName:"idols",type:"container",x:593,y:100},{name:"btnDecide",fullName:"btnDecide",anchor:{x:.5,y:.5},type:"sprite",key:"ending_btn_fes_idol_decide.png",x:1046,y:589},{name:"btnLookBack",fullName:"btnLookBack",anchor:{x:.5,y:.5},type:"sprite",key:"ending_btn_look_back.png",x:874,y:589}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(1482),f=r(c),d=n(271),p=r(d),h=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._produceIdol=e,r._supportIdols=n;var o=[];o.idolCard=p.default.new({idol:r._produceIdol.userIdol,idolType:"produce",rarity:r._produceIdol.userIdol.rarity});for(var s=n.length,l=0;l<u.default.app.SUPPORT_IDOL_NUM;++l){var c={};l<s?(c.key=n[l].getImagePath("icon"),c.visible=!0):(c.key="idol_icon_none.png",c.visible=!1),o["idolSupport"+l]=c}var d=r.fromData(f.default,o);return r._produceIdolCard=d.idolCard,r._produceIdolCard.scale.set(.4612),r}return o(t,e),s(t,[{key:"open",value:function(){this.show()}},{key:"showProduceIdolCard",value:function(){this._setSpriteTexture(this._produceIdolCard,aoba.Texture.fromImage(this._produceIdol.getImagePath("card")))}},{key:"_setSpriteTexture",value:function(e,t){if(e.texture){var n=e.texture.frame.width/t.frame.width;e.scaleX*=n,e.scaleY*=n}e.texture=t}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idolSupport4",fullName:"idolSupport4",type:"sprite",key:"idol_support_4.png",x:430,y:317},{name:"idolSupport3",fullName:"idolSupport3",type:"sprite",key:"idol_support_3.png",x:323,y:317},{name:"idolSupport2",fullName:"idolSupport2",type:"sprite",key:"idol_support_2.png",x:215,y:317},{name:"idolSupport1",fullName:"idolSupport1",type:"sprite",key:"idol_support_1.png",x:108,y:317},{name:"idolSupport0",fullName:"idolSupport0",type:"sprite",key:"idol_support_0.png",x:0,y:317},{name:"idolCard",fullName:"idolCard",type:"sprite",key:"idol_card.png",x:0,y:0}],name:"",fullName:"",visible:!1,type:"container",x:593,y:100}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"simpleIdolDetailBase",fullName:"simpleIdolDetailBase",type:"sprite",key:"simple_idol_detail_base.png",x:0,y:0},{name:"idolIcon",fullName:"idolIcon",type:"sprite",key:null,x:31,y:14},{name:"parameterList",fullName:"parameterList",type:"container",x:135,y:9},{name:"acquiredSkillList",fullName:"acquiredSkillList",type:"container",x:15,y:130}],name:"",fullName:"",type:"container",x:290,y:36}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),l=r(s),u=n(1),c=r(u),f=n(1485),d=r(f),p=n(1486),h=r(p),y=n(1487),m=r(y),_=n(1488),g=r(_),b=c.default.asset,v=b.PARAMETER_ICONS,w=b.IDOL_RANK_ICONS,k=b.ICON_KEY_OF_STATUS_RANK,S=function(e){var t=aoba.Container.new();return t.fromData(h.default,{statusIcon:{key:e.statusIcon},statusRankIcon:{key:k[e.rank],dx:2,dy:1},value:{text:e.value+" / "+e.limitValue,dy:2}}),t},I=function(e){var t=aoba.Container.new();return t.fromData(m.default,{statusIcon:{key:v.sp},value:{text:e.value}}),t},E=function(e){var t=aoba.Container.new();return t.fromData(g.default,{statusIcon:{key:v.fan},value:{text:l.default.numberFormat(e.value)},idolRankIcon:{key:w[e.rank],scale:.267}}),t},A=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.fromData(d.default,{sp:I({value:e.skillPoint}),fan:E({value:e.fan,rank:e.rank}),vocal:S({value:e.vocal,limitValue:e.limitVocal,statusIcon:v.vocal,rank:e.getParameterRank("vocal")}),dance:S({value:e.dance,limitValue:e.limitDance,statusIcon:v.dance,rank:e.getParameterRank("dance")}),visual:S({value:e.visual,limitValue:e.limitVisual,statusIcon:v.visual,rank:e.getParameterRank("visual")}),mental:S({value:e.mental,limitValue:e.limitMental,statusIcon:v.mental,rank:e.getParameterRank("mental")})}),n}return o(t,e),t}(aoba.Container);t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"sp",fullName:"sp",type:"container",x:0,y:7},{name:"fan",fullName:"fan",type:"container",x:201,y:0},{name:"vocal",fullName:"vocal",type:"container",x:0,y:40},{name:"dance",fullName:"dance",type:"container",x:200,y:40},{name:"visual",fullName:"visual",type:"container",x:0,y:72},{name:"mental",fullName:"mental",type:"container",x:200,y:72}],name:"",fullName:"",type:"container",x:425,y:45}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"statusIcon",fullName:"statusIcon",type:"sprite",key:null,x:0,y:0},{name:"statusRankIcon",fullName:"statusRankIcon",type:"sprite",key:null,x:30,y:1},{name:"value",fullName:"value",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:191,y:14}],name:"",fullName:"",type:"container",x:425,y:85}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"statusIcon",fullName:"statusIcon",type:"sprite",key:null,x:0,y:0},{name:"value",
fullName:"value",anchor:{x:1,y:.5},type:"text",text:"88,888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:192,y:16}],name:"",fullName:"",type:"container",x:425,y:52}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"statusIcon",fullName:"statusIcon",type:"sprite",key:null,x:0,y:8},{name:"value",fullName:"value",anchor:{x:1,y:.5},type:"text",text:"9,999,999",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:155,y:22},{name:"idolRankIcon",fullName:"idolRankIcon",type:"sprite",key:null,x:156,y:0}],name:"",fullName:"",type:"container",x:626,y:45}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1490),u=r(l),c=n(1),f=r(c),d=f.default.SCREEN_WIDTH,p=f.default.SCREEN_HEIGHT,h=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(u.default,{dot:{scale:2},luster:{scale:2},gradation:aoba.extras.TilingSprite.from("bg_gra.png",2*d,2*p)});return e._stars=n.stars,e._gradation=n.gradation,e._gradation.rotation=-45*aoba.DEG_TO_RAD,e._gradation.x-=500,e._gradation.y+=500,e._addStarEffect(),e}return o(t,e),s(t,[{key:"update",value:function(){this._gradation.tilePosition.x+=1,this._gradation.tilePosition.y+=1,this._gradation.tilePosition.x>=p&&(this._gradation.tilePosition.x=0,this._gradation.tilePosition.y=0)}},{key:"_addStarEffect",value:function(){this._stars.children.forEach(function(e,t){var n=500+30*t;aoba.Tween.new(e).to({scaleX:1.5,scaleY:1.5},n).to({scaleX:1,scaleY:1},n).loop()})}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"gradation",fullName:"gradation",type:"container",x:0,y:0},{name:"luster",fullName:"luster",type:"sprite",key:"bg_luster.png",x:0,y:0},{name:"dot",fullName:"dot",type:"sprite",key:"bg_dot.png",x:0,y:0},{children:[{name:"endingBgStar1",fullName:"stars/endingBgStar1",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_1.png",x:983,y:56},{name:"endingBgStar2",fullName:"stars/endingBgStar2",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_2.png",x:892,y:84},{name:"endingBgStar3",fullName:"stars/endingBgStar3",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_3.png",x:940,y:433},{name:"endingBgStar4",fullName:"stars/endingBgStar4",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_4.png",x:144,y:153},{name:"endingBgStar4",fullName:"stars/endingBgStar4",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_4.png",x:586,y:543},{name:"endingBgStar5",fullName:"stars/endingBgStar5",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_5.png",x:50,y:240},{name:"endingBgStar6",fullName:"stars/endingBgStar6",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_6.png",x:108,y:496},{name:"endingBgStar3",fullName:"stars/endingBgStar3",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_3.png",x:400,y:320},{name:"endingBgStar7",fullName:"stars/endingBgStar7",anchor:{x:.5,y:.5},type:"sprite",key:"ending_bg_star_7.png",x:524,y:209}],name:"stars",fullName:"stars",type:"container",x:56,y:20}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(22),c=r(u),f=n(24),d=r(f),p=n(3),h=r(p),y=n(1492),m=r(y),_=n(1493),g=r(_),b=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(m.default,{message:{text:h.default.t("ending.fesIdolRewardPop.comment")},"listBase/list/presentName":{text:n}});o["listBase/list/presentName"].style.align="center";var s=o["listBase/scroll"],u=l.default.commonUiHelper.createScrollBarBase({width:8,height:154});if(c.default.new({width:400,height:150,container:o["listBase/list"],scrollBar:d.default.new({width:18}),scrollBarBase:u}).addTo(o.listBase,0,10),u.addTo(s,0,0),e){var f=aoba.Container.new();f.fromData(g.default,{alertPresent:{text:h.default.t("ending.fesIdolRewardPop.maxMessage")}}).alertPresent.y-=3,f.addTo(r,0,r.height+10)}return r}return o(t,e),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"message",fullName:"message",type:"text",text:"\u4e0b\u8a18\u30a2\u30a4\u30c6\u30e0\u3092\u5165\u624b\u3057\u307e\u3057\u305f\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-132,y:10},{children:[{name:"innerBasePresentList",fullName:"listBase/innerBasePresentList",type:"sprite",key:"inner_base_produce_reward_list.png",x:0,y:0},{children:[{name:"presentName",fullName:"listBase/list/presentName",anchor:{x:.5,y:0},type:"text",text:"\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:93,y:0}],name:"list",fullName:"listBase/list",type:"container",x:125,y:7},{name:"scroll",fullName:"listBase/scroll",type:"container",x:433,y:5}],name:"listBase",fullName:"listBase",type:"container",x:-229,y:43}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:206}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"iconNotice",fullName:"iconNotice",type:"sprite",key:"icon_notice.png",x:-194,y:-13},{name:"alertPresent",fullName:"alertPresent",anchor:{x:0,y:0},type:"text",text:"\u6240\u6301\u67a0\u3092\u8d85\u3048\u3066\u3044\u308b\u305f\u3081\u53d7\u3051\u53d6\u308c\u307e\u305b\u3093",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-164,y:-9}],name:"",fullName:"",pivot:{x:.5,y:0},anchor:{x:0,y:.5},type:"container",x:568,y:332}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),s=n(34),l=r(s),u=n(68),c=r(u);t.default=["images/ui/produce_ending/parts_ceo_report.json","images/ui/produce_ending/parts_fes_idol_birth.json","images/ui/produce_ending/parts_fes_idol_birth_effect.json","images/ui/common/parts_link_skill_dialog.json","images/ui/common/parts_skill_list.json","images/ui/common/parts_effect.json",o.default.bg.PRESIDENT_REPORT,"images/ui/produce_event/parts_event.json","images/event/select_frame/001.png","images/event/select_frame/002.png","images/event/select_frame/003.png",{name:"impact_spark_2",
url:"particles/produce_fes_idol_birth/impact_spark_2/impact_spark_01_silver.json"},{name:"impact_spark_3",url:"particles/produce_fes_idol_birth/impact_spark_3/impact_spark_01_gold.json"},{name:"impact_spark_4",url:"particles/produce_fes_idol_birth/impact_spark_4/impact_spark_01_rainbow.json"},"particles/produce_fes_idol_birth/impact_spark_2/images.json","particles/produce_fes_idol_birth/impact_spark_3/images.json","particles/produce_fes_idol_birth/impact_spark_4/images.json",{name:"ryuhai_2",url:"particles/produce_fes_idol_birth/ryuhai/ryuhai_silver.json"},{name:"ryuhai_3",url:"particles/produce_fes_idol_birth/ryuhai/ryuhai_gold.json"},{name:"ryuhai_4",url:"particles/produce_fes_idol_birth/ryuhai/ryuhai_rainbow.json"},"particles/produce_fes_idol_birth/ryuhai/images.json",{name:"flash_spark_02",url:"particles/common/flash_spark_02/data.json"},"particles/common/flash_spark_02/images.json","images/ui/produce_ending/fes_idol_birth_crush_w.png",{name:"transition_page_turn_bar.png",url:"images/ui/common/transition_page_turn_bar.png"},{name:"staff_balloon.png",url:"images/event/text_frame/003.png"},o.default.bg.HOME,"spine/sub_characters/stand/staff/data.json"].concat(i((0,c.default)(l.default.produce)),i((0,c.default)(l.default.skillBoard)),i((0,c.default)(l.default.ending)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(5),d=r(f),p=n(184),h=r(p),y=n(183),m=r(y),_=n(1496),g=r(_),b=n(3),v=r(b),w=n(419),k=r(w),S=n(477),I=r(S),E=n(0),A=r(E),x=n(1),C=r(x),T=n(185),P=r(T),O=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._idolDetailLayer=aoba.Container.new().addTo(n),A.default.CommonPartsLayer.create({headerTitle:v.default.t("idolDetail.headerTitle.produce"),tips:C.default.tips.idolDetail,firstTimeKey:A.default.CommonPartsLayer.getDisplayedListForFirstTime.idolDetail,onTapBackButton:function(){aoba.sceneManager.popScene()}}).on("openGlobalMenu",function(){n._idolDetail.resetTab()}).on("openTips",function(){n._idolDetail.resetTab()}).addTo(n),n._zoomCardLayer=aoba.Container.new().addTo(n);var r=aoba.Container.new().addTo(n),i=aoba.Container.new().addTo(n);return n._idolDetailLayer.fromData(h.default,{bg:A.default.MovingBg.new(),"idolDetailBase/idolName/unitIcon":{key:e.getUnitImagePath("icon")},"idolDetailBase/idolName/idolName":{text:e.userIdol.idol.name},"idolDetailBase/cardImage":m.default.new(e.userIdol,"produce",n._zoomCardLayer),"idolDetailBase/copyright":{text:e.userIdol.idol.copyrightInfo,dy:2}}),n._idolDetail=g.default.new(e).addTo(n._idolDetailLayer).on("tapEventDetailButton",function(t){I.default.new(t,r,i,e)}).on("closeEnd",n._exit,n),n}return s(t,e),l(t,[{key:"_exit",value:function(){aoba.sceneManager.popScene()}}],[{key:"request",value:function(e){return k.default.get(e)}},{key:"getContentResources",value:function(e){function t(e){e.linkSkillCharacters.forEach(function(e){n.push(e.iconPath)})}var n=[];n.push(e.getImagePath("card")),n.push(e.getImagePath("sign")),n.push(e.getImagePath("name")),n.push(e.getUnitImagePath("logo")),n.push(e.getUnitImagePath("icon")),e.activeSkills.forEach(function(e){e.linkSkill&&t(e.linkSkill)});var r=e.userIdol.idol,i=r.memoryAppeals,a=r.produceAfterEvents;return i.forEach(function(e){e.linkSkill&&t(e.linkSkill)}),0!==a.length&&a.forEach(function(e){e.mission&&e.mission.missionRewards.forEach(function(e){["jewel","money","title"].includes(e.contentType)||n.push(e.getIconImagePath())})}),c.default.uniq(n)}},{key:"uiResources",get:function(){return[].concat(i(P.default.common),i(P.default.produceIdol))}}]),t}(d.default);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(475),u=r(l),c=n(476),f=r(c),d=n(181),p=r(d),h=n(270),y=r(h),m=n(277),_=r(m),g=n(182),b=r(g),v=n(7),w=r(v),k=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.userIdol.idol,o=r.idolParameterRanks,s=r.memoryAppeals,l=r.produceIdolEvents,c=r.produceAfterEvents,d=r.character,h=n.fromData(u.default,{"tabs/skillOff":{key:"skill_learned_off.png"},parameter:f.default.new(e,e.userIdol.evolutionStage,o,!0),skill:p.default.new(e,"skill_learned"),memoryAppeal:y.default.new(e.memoryAppeal,s,!0),event:_.default.new(e.userIdol.userProduceEventHistories,l,c),profile:b.default.new(d,e.getUnitImagePath("logo"))});return n._showTab=h.skill,h.memoryAppeal.hide(),h.event.hide(),h.profile.hide(),h.event.on("tapDetailButton",function(e){n.emit("tapEventDetailButton",e)}),h.tabs.children.forEach(function(e){e.interactive=!0,e.on("tap",function(){aoba.soundManager.playSE(w.default.ui.select),n._changeTab(e)})}),n._objs=h,n}return o(t,e),s(t,[{key:"_changeTab",value:function(e){var t=e.name.slice(0,-3),n=this._objs[""+t];this._showTab.hide(),this.resetTab(),n.show(),this._showTab=n}},{key:"resetTab",value:function(){this._showTab.reset&&this._showTab.reset()}}]),t}(aoba.Container);t.default=k},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}
}(),u=n(3),c=r(u),f=n(1498),d=r(f),p=n(1499),h=r(p),y=n(1),m=r(y),_=n(0),g=r(_),b=n(12),v=r(b),w=n(5),k=r(w),S=n(20),I=r(S),E=n(1500),A=r(E),x=n(1502),C=r(x),T=n(400),P=r(T),O=n(401),N=r(O),M=n(490),R=r(M),D=n(253),F=r(D),B=n(56),j=r(B),L=n(21),U=r(L),H=n(169),G=r(H),z=n(39),V=r(z),K=n(1506),W=r(K),q="/produceMarathon",X=function(e,t){return I.default.createImagePath("produce_marathons",e,t)},Y=function(e){var t=aoba.Container.new();return t.fromData(h.default,{base:{alpha:.9},text:{text:c.default.t("gameEvent.schedule",{closeAt:(0,j.default)(1e3*e,"mm/dd HH:MM")})}}),t},J=function(t){function r(e){a(this,r);var t=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this)),n=e.gameEvent,i=e.releasedCommunications,s=e.userGameEventPoint,l=e.clearedMissionsCount,u=e.imagePaths,c=e.userStamen,f=G.default.getProduceData(e),p=e.modules.Background,h=t.fromData(d.default,{bg:p.new(u.bg),logo:{key:u.logo},eventSchedule:Y(n.closeAt),pickupCommunication:t._createPickUpCommunication(n.name,i,u.communicationBanner),eventPoint:R.default.new(s.currentPoint),eventShopButton:{class:g.default.DecideButton},howToPlayButton:{class:g.default.DecideButton},missionButton:P.default.new({buttonImageKey:"event_mission_button.png"}),produceButton:N.default.new()}),y=h.eventShopButton,_=h.howToPlayButton,b=h.missionButton,w=h.produceButton;return y.once("tap",function(){v.default.directTo("/shop",{sceneParams:{fromPath:q}})}),_.on("tap",function(){return t._showTips(n.id)}),t._selectProduce=G.default.new(),w.on("tap",function(){t._selectProduce.onSelectProduce(f,t,q)}),w.setUserStamina(c),b.once("tap",function(){U.default.loadSceneAsync("mission",{sceneParams:{produceData:f,fromPath:q}})}),b.setCleardMissionCount(l),g.default.CommonPartsLayer.create({onTapBackButton:function(){return v.default.directTo("/home")},hasGlobalMenu:!1}).addTo(t),t.on("enter",function(){aoba.soundManager.playBGMAsync(m.default.bgm.produceMarathonTop);var e="hasOpenedGameEvent/"+n.id;localStorage.getItem(e)||(t.interactiveChildren=!1,setTimeout(function(){t._showTips(n.id),localStorage.setItem(e,"true"),t.interactiveChildren=!0},500))}),t}return s(r,t),l(r,[{key:"_showTips",value:function(e){var t=W.default[e];t&&F.default.loadAndAddTo(t,this)}},{key:"_createPickUpCommunication",value:function(e,t,n){var r=this,i=t.sort(function(e,t){return e.chapterNumber-t.chapterNumber}).find(function(e){return e.isNew}),a=i||t[t.length-1];return A.default.new({logoImagePath:n,communication:a,onTapBanner:function(){r._playCommunication(a)},onTapListButton:function(){r._showCommunicationsDialog(e,t)}})}},{key:"_showCommunicationsDialog",value:function(e,t){(0,C.default)(e,t,this._playCommunication.bind(this)).addTo(this).open()}},{key:"_playCommunication",value:function(e){var t=e.id,n=e.isNew;this.showLoadingLayer({transparent:!0}),(n?V.default.gameEventCommunicationHistory.create(t):Promise.resolve()).then(function(){U.default.loadSceneAsync("eventPlayer",{request:!1,sceneParams:{category:"game_event_communications",id:t,onEnd:function(){v.default.directTo(q)}}})}).catch(function(){throw new Error("Unable to start game event communication id "+t+".")})}}],[{key:"request",value:function(){return V.default.produceMarathon.getOpened().then(r.addImagePaths).then(r.importModules).then(function(e){return V.default.user.get().then(function(t){return Object.assign(e,t)})}).then(function(e){return V.default.myPage.get().then(function(t){return delete t.clearedMissionsCount,Object.assign(e,t)})})}},{key:"addImagePaths",value:function(e){var t=e.gameEvent;return Object.assign(e,{imagePaths:{bg:X("bg",t.id),logo:X("logo",t.id),communicationBanner:X("communication_banner",t.id)}})}},{key:"importModules",value:function(t){var r=e.pad(t.gameEvent.id,m.default.asset.ID_DIGIT_NUMBER.produce_marathons,"0");return n(1507)("./produce_marathons/"+r+"/Background").then(function(e){return Object.assign(t,{modules:{Background:e.default}})})}},{key:"getContentResources",value:function(e){var t=[];return t.push(e.imagePaths.bg,e.imagePaths.logo,e.imagePaths.communicationBanner),e.produceIdol&&t.push(e.produceIdol.getImagePath("icon")),[].concat(t,i(e.modules.Background.resources))}},{key:"uiResources",get:function(){return["images/ui/game_event/parts.json"]}}]),r}(k.default);t.default=J}).call(t,n(13))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"container",x:0,y:0},{name:"logo",fullName:"logo",type:"sprite",key:null,x:0,y:0},{name:"eventSchedule",fullName:"eventSchedule",type:"container",x:0,y:0},{name:"pickupCommunication",fullName:"pickupCommunication",type:"container",x:12,y:232},{name:"eventPoint",fullName:"eventPoint",type:"container",x:105,y:554},{name:"eventShopButton",fullName:"eventShopButton",anchor:{x:.5,y:.5},type:"sprite",key:"event_shop_button.png",x:635,y:574},{name:"howToPlayButton",fullName:"howToPlayButton",anchor:{x:.5,y:.5},type:"sprite",key:"how_to_play_button.png",x:766,y:574},{name:"missionButton",fullName:"missionButton",type:"container",x:839,y:514},{name:"produceButton",fullName:"produceButton",type:"container",x:972,y:458}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"graphics",fill:0,alpha:1,width:296,height:40,shape:"roundedRect",round:10,x:26,y:181},{name:"text",fullName:"text",anchor:{x:.5,y:0},type:"text",text:"\u958b\u50ac\u671f\u9650 08/30 20:59\u307e\u3067",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:173,y:191}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(1501),c=r(u),f=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(c.default,{listButton:{class:l.default.DecideButton},banner:{key:e.logoImagePath,interactive:!0},name:{text:e.communication.name},newBadge:e.communication.isNew?{}:null,title:{text:e.communication.title}}),o=r.listButton,s=r.name,u=r.banner;return s.style.fill=[1997537,3129067],u.once("tap",e.onTapBanner),o.on("tap",e.onTapListButton),n}return o(t,e),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"communicationBase",fullName:"communicationBase",type:"sprite",key:"communication_base.png",x:0,y:0},{name:"listButton",fullName:"listButton",anchor:{x:.5,y:.5},type:"sprite",key:"list_button.png",x:264,y:35},{name:"banner",fullName:"banner",anchor:{x:.5,y:.5},type:"sprite",key:null,x:156,y:139},{name:"name",fullName:"name",type:"text",text:"\u30d7\u30ed\u30ed\u30fc\u30b0",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:12,y:233},{name:"title",fullName:"title",type:"text",text:"\u307e\u3055\u304b\u771f\u4e43\u304c\u2026\u307e\u3055\u304b\u771f\u4e43\u304c\u2026\u3042",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:18,y:264},{name:"newBadge",fullName:"newBadge",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_badge_new.png",x:264,y:233}],name:"",fullName:"",type:"container",x:12,y:232}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}
Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=r(i),o=n(0),s=r(o),l=n(1503),u=r(l),c=n(1504),f=r(c),d=function(e,t,n){var r=aoba.Container.new(),i=r.fromData(f.default,{base:{fill:16053236,visible:n%2==0},name:{text:e.name},newBadge:e.isNew?{}:null,dotLine:s.default.dotLine.create({width:317,type:s.default.dotLine.types.DOT_BLACK}),title:{text:e.title},playButton:{class:s.default.DecideButton}}),a=i.name,o=i.playButton;return a.style.fontSize=20,e.isReadable?o.once("tap",function(){t(e)}):o.disable(),r},p=function(e,t,n){var r=aoba.Container.new(),i=aoba.Container.new();t.forEach(function(e,t){d(e,n,t).addTo(i,0,100*t)});var o=s.default.commonUiHelper.createScrollBarBase({width:8,height:340}),l=s.default.ScrollRect.new({width:488,height:346,round:10,container:i,scrollBar:s.default.ScrollBar.new({width:14}),scrollBarBase:o});return r.fromData(u.default,{eventName:{text:e},communicationList:l,noticeIcon:{key:"icon_notice_red.png"},noticeMessage:{text:a.default.t("gameEvent.communicationsDialog.noticeMessage")}}),o.addTo(r,476,l.y+4),r},h=function(e,t,n){var r=p(e,t,n);return r.pivot.set(r.width/2,0),s.default.Dialog.new({title:a.default.t("gameEvent.communicationsDialog.title"),type:"close",height:400,marginTop:8,container:r})};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"eventName",fullName:"eventName",anchor:{x:.5,y:.5},type:"text",text:"Light up the illumination",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:237,y:12},{name:"communicationListBase",fullName:"communicationListBase",type:"sprite",key:"communication_list_base.png",x:2,y:34},{name:"communicationList",fullName:"communicationList",type:"container",x:3,y:35},{name:"noticeIcon",fullName:"noticeIcon",anchor:{x:.5,y:.5},type:"sprite",key:null,x:46,y:409},{name:"noticeMessage",fullName:"noticeMessage",type:"text",text:"\u30b3\u30df\u30e5\u306f\u30a4\u30d9\u30f3\u30c8\u30b7\u30e7\u30c3\u30d7\u304b\u3089\u958b\u653e\u53ef\u80fd\u3067\u3059",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:62,y:409}],name:"",fullName:"",type:"container",x:321,y:96}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"graphics",fill:0,alpha:1,width:488,height:100,shape:"rect",x:0,y:0},{name:"name",fullName:"name",type:"text",text:"\u7b2c5\u8a71",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:24},anchor:{x:0,y:.5},rotation:0,x:37,y:31},{name:"newBadge",fullName:"newBadge",anchor:{x:.5,y:.5},type:"sprite",key:"common_menu_badge_new.png",x:326,y:30},{name:"dotLine",fullName:"dotLine",type:"container",x:41,y:48},{name:"title",fullName:"title",type:"text",text:"\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:38,y:69},{name:"playButton",fullName:"playButton",anchor:{x:.5,y:.5},type:"sprite",key:"play_button.png",x:417,y:50}],name:"",fullName:"",type:"container",x:324,y:131}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"eventPointBase",fullName:"eventPointBase",type:"sprite",key:"event_point_base.png",x:0,y:0},{name:"eventPointIcon",fullName:"eventPointIcon",type:"sprite",key:"event_point_icon.png",x:4,y:4},{name:"value",fullName:"value",anchor:{x:1,y:0},type:"text",text:"888,888,888,888,888",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:24},rotation:0,x:428,y:22}],name:"",fullName:"",type:"container",x:105,y:554}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={1:["game_event/1/001","game_event/1/002","game_event/1/003","game_event/1/004"],2:["game_event/2/001","game_event/2/002","game_event/2/003","game_event/2/004"]}},function(e,t,n){function r(e){var t=i[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"./produce_marathons/00001/Background":[1631,2],"./produce_marathons/00002/Background":[1632,1]};r.keys=function(){return Object.keys(i)},r.id=1507,e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=r(l),c=n(260),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._fromPath=e.fromPath||"/home",n}return o(t,e),s(t,[{key:"back",value:function(){u.default.directTo(this._fromPath)}},{key:"isProduceEnabled",get:function(){return!0}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(1),d=r(f),p=n(5),h=r(p),y=n(273),m=r(y),_=n(39),g=r(_),b=n(473),v=r(b),w=n(1510),k=r(w),S=n(3),I=r(S),E=n(14),A=r(E),x=n(12),C=r(x),T=n(275),P=r(T),O=n(21),N=r(O),M=n(274),R=r(M),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.idols,i=e.gashaId;return n._id=i,new Promise(function(e){P.default.new({idols:r}).addTo(n).once("removed",e)}).then(function(){aoba.soundManager.playBGMAsync(d.default.bgm.gasha),n._createGashaTop(r)}),n}return s(t,e),l(t,[{key:"_showRedrawConfirmPop",value:function(){var e=this,t=aoba.Container.new(),n=t.fromData(k.default,{comment:{text:I.default.t("gasha.popRedrawConfirm.comment")},iconNoticeRed:{dx:-30},txtNotice:{text:I.default.t("gasha.popRedrawConfirm.notice"),dx:-30}});n.comment.style.align="center",n.txtNotice.style.align="center",A.default.new({title:I.default.t("gasha.popRedrawConfirm.title"),container:t,buttons:[{type:"close",image:"rethink_button.png"},{type:"submit",image:"ok_button.png"}]}).addTo(this).on("submit",function(){g.default.gasha.confirmRedrawResult(e._id).then(function(){C.default.directTo("/gasha")})}).open()}},{key:"_createGashaTop",value:function(e){var t=this;this._resultLayer=v.default.new(e,!0).addTo(this),this._resultLayer.on("tapOkButton",this._showRedrawConfirmPop,this),this._resultLayer.on("tapRetryButton",function(){
t._redrawGashaAndShowGashaResult({gashaId:t._id})})}},{key:"_redrawGashaAndShowGashaResult",value:function(e){this.showLoadingLayer(),R.default.new().addTo(this).fadeIn();var t=e.gashaId;g.default.gasha.redraw(t).then(function(e){N.default.loadSceneAsync("redrawGashaResult",{request:!1,sceneParams:{idols:e.idols,gashaId:t}})})}}],[{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(d.default.bgm.gasha)]}},{key:"request",value:function(){return g.default.gashaGroup.getList().then(function(e){var t=e.find(function(e){return"tutorial"===e.redrawType});return t||0!==t.gashas.length||C.default.directTo("/gasha"),g.default.gasha.checkRedrawResult(t.gashas[0].id)})}},{key:"getContentResources",value:function(e){var t=[];return e.idols.forEach(function(e){t.push(e.getImagePath("icon"))}),c.default.uniq(t)}},{key:"getResourceList",value:function(e){return[].concat(i(t.uiResources),i(t.getContentResources(e)),i(P.default.getResourceList(e)))}},{key:"uiResources",get:function(){return m.default}}]),t}(h.default);t.default=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"comment",fullName:"comment",anchor:{x:.5,y:.5},type:"text",text:"\u30ea\u30bb\u30de\u30e9\u30ac\u30b7\u30e3\u306f\u3001\u304a\u6c17\u306b\u5165\u308a\u306e\u30a2\u30a4\u30c9\u30eb\u304c\u51fa\u308b\u307e\u3067\r\u4f55\u5ea6\u3067\u3082\u30ac\u30b7\u30e3\u3092\u3084\u308a\u76f4\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002",style:{fill:5063497,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:0,y:21},{name:"txtNotice",fullName:"txtNotice",anchor:{x:0,y:0},type:"text",text:"\u30ea\u30bb\u30de\u30e9\u30ac\u30b7\u30e3\u306e\u30a2\u30a4\u30c9\u30eb\u3092\r \u78ba\u5b9a\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:-117,y:85},{name:"iconNoticeRed",fullName:"iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:-143,y:84}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:590,y:245}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(3),c=r(u),f=n(12),d=r(f),p=n(1),h=r(p),y=n(1512),m=r(y),_=n(1513),g=r(_),b=n(39),v=r(b),w=n(0),k=r(w),S=n(1514),I=r(S),E=n(448),A=r(E),x=n(261),C=r(x),T=n(1519),P=r(T),O=n(1525),N=r(O),M=n(1527),R=r(M),D=n(5),F=r(D),B=n(1529),j=r(B),L=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));aoba.soundManager.playBGMAsync(h.default.bgm.home),t._shopStore=new j.default(e.userShops,e.userMoney,e.userGameEventPoints),t._money=e.userMoney.amount,t._shopStore.userWallet.update({banaCoin:e.moneyPower.coin,enzaPoint:e.moneyPower.point,money:t._money});var r=t.fromData(m.default,{bg:k.default.MovingBg.new(),tabList:A.default.new(),userWallet:R.default.new(t._shopStore.userWallet)});return t._userWallet=r.userWallet,t._itemListContainerNode=r.itemListContainer,t._itemListContainerOfCategory={},t._dialogLayer=I.default.new(),t._banaCoinShopTabs=[],t._shopStore.userShops.forEach(function(e){var n=e.shopCategory,i=C.default.new(n.tabImage,{image:n.tabImage,imageOn:n.tabImageOn,onSelect:function(){t._onSelectShop(e)}});"banaCoin"===n.walletKey&&t._banaCoinShopTabs.push(i),r.tabList.addTab(i)}),r.tabList.init(e.showBanaCoinTab||t._loadShowingBanaCoinShopFlag()),k.default.CommonPartsLayer.create({headerTitle:c.default.t("shop.headerTitle"),tips:h.default.tips.shop,firstTimeKey:k.default.CommonPartsLayer.getDisplayedListForFirstTime.shop,onTapBackButton:function(){d.default.directTo(e.fromPath||"/home")}}).addTo(t),t._dialogLayer.addTo(t),t}return o(n,t),s(n,[{key:"_onExit",value:function(){l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_onExit",this).call(this),this._removeShowingBanaCoinShopFlag()}},{key:"_saveShowingBanaCoinShopFlag",value:function(e){localStorage.setItem("ShopScene.isShowingBanaCoinShop",e?"1":"")}},{key:"_loadShowingBanaCoinShopFlag",value:function(){return!!localStorage.getItem("ShopScene.isShowingBanaCoinShop")}},{key:"_removeShowingBanaCoinShopFlag",value:function(){localStorage.removeItem("ShopScene.isShowingBanaCoinShop")}},{key:"_onSelectShop",value:function(e){this._itemListContainerOfCategory[e.category]||(this._itemListContainerOfCategory[e.category]=P.default.create(e,this._shopStore.userWallet)),this._buildItems(e)}},{key:"_buildItems",value:function(e){this._itemListContainerNode.removeChildren(),this._itemListContainer=this._itemListContainerOfCategory[e.category].addTo(this._itemListContainerNode,0,0),this._itemListContainer.showItems(this._createItems(e)),this._saveShowingBanaCoinShopFlag("banaCoin"===e.shopCategory.walletKey)}},{key:"_createItems",value:function(e){var t=this,n=this._shopStore.getPossessionCurrency(e.shopCategory);return e.shopMerchandises.map(function(r){return N.default.new({shopMerchandise:r,shopCategory:e.shopCategory,onTapInfoButton:function(e){t._showItemDetailDialog(e)},onTapPurchaseButton:function(e){t._showPurchaseConfirmationDialog(e)}}).setPurchasableState(n)})}},{key:"_showItemDetailDialog",value:function(e){this._dialogLayer.showItemDetail(e)}},{key:"_showPurchaseConfirmationDialog",value:function(e){var t=this,n=this._shopStore.getShopCategoryOf(e),r="-"!==this._shopStore.getPossessionCurrency(n)?this._shopStore.getPossessionCurrency(n):0;this._dialogLayer.showPurchaseConfirmation({shopCategory:n,shopMerchandise:e,possessionCurrency:r,userWallet:this._shopStore.userWallet,onSubmit:function(n,r){t._onSubmitPurchase(e.id,n,r)}})}},{key:"_onSubmitPurchase",value:function(e,t,n){var r=this;v.default.userShop.purchase({shopMerchandiseId:e,purchaseNum:t,usedPoint:n}).then(function(i){var a=i.shopMerchandise,o=r._shopStore.getShopCategoryOf(a);r._shopStore.updateUserWallet({shopCategory:o,price:a.price*t,shouldUsePoint:n}),r._shopStore.updateUserShopMerchandise(a),r._userWallet.setUserWallet(r._shopStore.userWallet),r._itemListContainer.onCompletePurchase(r._shopStore.getPossessionCurrency(o));var s=r._shopStore.getPossessionCurrency(o);r._dialogLayer.showResult({shopMerchandise:a,currencyName:o.currencyName,possessionCurrency:s,onClose:function(){r._updateItemList(e)}})})}},{key:"_updateItemList",value:function(t){var n=this,r=this._shopStore.findShopMerchandise(t),i=this._shopStore.getUserShopFromShopMerchandise(r),a=this._shopStore.getPossessionCurrencyFor(r);if(this._itemListContainer.findItemByshopMerchandiseId(t).updateWithShopMerchandise(r),r.limitedCount===r.purchasedNum){var o=this._shopStore.findShopMerchandiseByRequiredId(r.id);o&&(o.isNotPurchasable=!1)}var s=t,l=[];if(r.shopContents.forEach(function(e){var t=e.contentId,r=e.contentType,i=e.possession,a={contentId:t,contentType:r,possession:i,skipMerchandiseId:s},o=n._shopStore.updateShopMerchandiseContentPossession(a);l=l.concat(o)}),
r.purchasableLimitReached())return this._shopStore.removeShopMerchandise(r),void this._buildItems(i);e.unique(l).forEach(function(e){var t=n._shopStore.findShopMerchandise(e),r=n._itemListContainer.findItemByshopMerchandiseId(e);r&&r.updateWithShopMerchandise(t)}),this._itemListContainer.items.forEach(function(e){return e.setPurchasableState(a)})}}],[{key:"request",value:function(){return v.default.userShop.getList().then(function(e){return v.default.earthUser.getMoneyPower().then(function(t){return Object.assign({},e,{moneyPower:t})})})}},{key:"getContentResources",value:function(e){var t=[];return e.userShops.forEach(function(e){e.shopMerchandises.forEach(function(e){t.push(e.getImagePath())})}),t}},{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(h.default.bgm.home)]}},{key:"uiResources",get:function(){return g.default}}]),n}(F.default);t.default=L}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"tabListBase",fullName:"tabListBase",type:"sprite",key:"tab_list_base.png",x:0,y:0},{name:"tabList",fullName:"tabList",type:"container",x:16,y:80},{name:"itemListContainer",fullName:"itemListContainer",type:"container",x:209,y:80},{name:"userWallet",fullName:"userWallet",type:"container",x:387,y:8},{name:"menuButton",fullName:"menuButton",anchor:{x:1,y:.5},type:"sprite",key:"menu_button.png",x:1136,y:41},{name:"purchaseConfirmation",fullName:"purchaseConfirmation",type:"container",x:307,y:36}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/shop/parts.json","images/ui/game_event/parts.json","images/ui/common/parts_use_bana_coin_pop.json"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(1515),f=r(c),d=n(1516),p=r(d),h=n(1517),y=r(h),m=n(14),_=r(m),g=n(272),b=r(g),v=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"showItemDetail",value:function(e){var t=aoba.Container.new(),n=t.fromData(f.default,{contentIcon:{key:e.getImagePath()},comment:{text:e.comment}});n.contentIcon.x=0,n.comment.x=0,n.comment.style.align="center",_.default.new({title:e.title,container:t,type:"close"}).addTo(this).open()}},{key:"showPurchaseConfirmation",value:function(e){var t=this,n=e.shopCategory,r=e.shopMerchandise,i=e.possessionCurrency,a=y.default.new(n,r,i);_.default.new({title:u.default.t("shop.purchaseConfirmation.title"),container:a,buttons:[{type:"close",image:"cancel_button.png"},{type:"submit",image:"purchase_button.png"}]}).on("submit",function(){t._onSubmitPurchase(e,a.purchaseCount)}).addTo(this).open()}},{key:"_onSubmitPurchase",value:function(e,t){var n=e.shopCategory,r=e.shopMerchandise,i=e.possessionCurrency,a=e.onSubmit;if(0===t){var o=void 0;if(r.isPurchaseCountLimited()&&0===r.getRestOfPurchaseCount()?o=u.default.t("shop.purchaseError.purchaseCountOver"):0===r.calcPurchasableCountWithinPossessionNumLimit()?o=u.default.t("shop.purchaseError.possessionCountOver"):"money"===n.walletKey&&i<r.price&&(o=u.default.t("shop.purchaseError.moneyShortage")),o)return void this._showError(o)}"banaCoin"===n.walletKey?this._showUseBanaCoin(e,t):a(t)}},{key:"_showError",value:function(e){_.default.new({size:"simple",type:"close",text:e}).addTo(this).open()}},{key:"showResult",value:function(e){var t=e.shopMerchandise,n=e.currencyName,r=e.possessionCurrency,i=e.onClose,a=t.shopContents,o=aoba.Container.new();o.fromData(p.default,{message:{text:u.default.t("shop.purchaseResult.message",{title:t.title})},labelCurrency:{text:u.default.t("shop.possessionLabel",{currencyName:n})},possessionCurrency:{text:r},possessionItem:{text:a[0].possession}}),_.default.new({title:u.default.t("shop.purchaseResult.title"),container:o,type:"close"}).addTo(this).on("closeEnd",i).open()}},{key:"_showUseBanaCoin",value:function(e,t){var n=e.shopMerchandise,r=e.userWallet,i=e.onSubmit,a={price:n.price*t,moneyPower:r,description:u.default.t("shop.useBanaCoinConfirmation.message",{purchaseCount:t}),merchandise:u.default.t("shop.useBanaCoinConfirmation.merchandise",{title:n.title})},o=b.default.new(a).addTo(this).on("tapUseButton",function(e){i(t,e),o.destroy({children:!0})}).on("tapCancelButton",function(){o.destroy({children:!0})})}}]),t}(aoba.Container);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"comment",fullName:"comment",anchor:{x:.5,y:0},type:"text",text:"\u7279\u88fd\u306e\u6804\u990a\u30c9\u30ea\u30f3\u30af\u3002\u75b2\u308c\u305f\u4f53\u304c\u4e00\u6c17\u306b\u56de\u5fa9\uff01\r\u30b9\u30bf\u30df\u30ca\u304c30\u56de\u5fa9\u3057\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:400,breakWords:!0},rotation:0,x:163,y:164},{name:"contentIcon",fullName:"contentIcon",anchor:{x:.5,y:0},type:"sprite",key:"content_icon.png",x:163,y:0}],name:"",fullName:"",type:"container",x:405,y:216}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"message",fullName:"message",anchor:{x:.5,y:.5},type:"text",text:"\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u8cfc\u5165\u3057\u307e\u3057\u305f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:-1,y:10},{name:"purchaseResultContentBase",fullName:"purchaseResultContentBase",type:"sprite",key:"purchase_result_content_base.png",x:-217,y:62},{name:"labelCurrency",fullName:"labelCurrency",type:"text",text:"\u6240\u6301\u30d0\u30ca\u30b3\u30a4\u30f3",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-208,y:75},{name:"possessionCurrency",fullName:"possessionCurrency",anchor:{x:.5,y:.5},type:"text",text:"9",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:62,y:72},{name:"labelItem",fullName:"labelItem",type:"text",text:"\u30a2\u30a4\u30c6\u30e0\u6240\u6301\u6570",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},anchor:{x:0,y:.5},rotation:0,x:-207,y:109},{name:"possessionItem",fullName:"possessionItem",anchor:{x:.5,y:.5},type:"text",text:"150",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:61,y:107}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:568,y:202}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1518),f=r(c),d=n(3),p=r(d),h=1,y=.65,m=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=n.purchasedNum,l=n.shopContents;o._shopContent=l[0],o._shopMerchandise=n,o._possessionCurrency=r,o._shopMerchandise=n,o._reachedOfPurchaseCountLimit=n.isPurchaseCountLimited(),o._purchasableCount=o._getPurchasableCount(e,r),o._purchaseCount=Math.min(h,o._purchasableCount),o._objs=o.fromData(f.default,{contentIcon:{key:o._shopMerchandise.getImagePath(),scale:y},contentName:{text:n.title},"main/minusButton":{class:u.default.SelectButton},"main/plusButton":{class:u.default.SelectButton},"main/maxButton":{class:u.default.SelectButton,visible:"banaCoin"!==e.walletKey},"main/purchasable":{text:o._getPurchasableText(s,n.limitedCount)},"main/currencyBefore":{text:r.toLocaleString()},"main/itemBefore":{text:o._shopContent.possession.toLocaleString()}}),o._objs.confirmationComment.style.align="center",o._objs["main/plusButton"].on("tap",o._plusPurchaseCount,o),o._objs["main/minusButton"].on("tap",o._minusPurchaseCount,o),o._objs["main/maxButton"].on("tap",o._maximizePurchaseCount,o),o._objs["main/currencyAfter"].style.fill=u.default.DECREASE_FONT_COLOR,o._objs["main/itemAfter"].style.fill=u.default.INCREASE_FONT_COLOR;var c=o._objs.contentName;return c.style.wordWrap=!0,c.style.wordWrapWidth=280,c.style.breakWords=!0,o._setCurrencyName(e),o._updateWithCurrentPurchaseCount(),o}return o(t,e),s(t,[{key:"_setCurrencyName",value:function(e){var t=e.currencyName;this._objs.confirmationComment.text=p.default.t("shop.purchaseConfirmation.message",{currencyName:t}),this._objs["main/labelPossessionCurrency"].text=p.default.t("shop.possessionLabel",{currencyName:t})}},{key:"_getPurchasableCount",value:function(e,t){var n="banaCoin"!==e.walletKey?Math.floor(t/this._shopMerchandise.price):Number.POSITIVE_INFINITY,r=this._shopMerchandise.getRestOfPurchaseCount(),i=this._shopMerchandise.calcPurchasableCountWithinPossessionNumLimit();return Math.min(n,r,i)}},{key:"_getPurchasableText",value:function(e,t){return this._reachedOfPurchaseCountLimit?p.default.t("shop.purchasableText.limitedShort",{num:t-e}):p.default.t("shop.purchasableText.noLimitShort")}},{key:"_updateWithCurrentPurchaseCount",value:function(){var e=0!==this._purchasableCount?this._purchaseCount:0,t=this._shopContent.possession,n=this._shopContent.num;this._objs["main/purchaseCount"].text=e,this._objs["main/purchased"].text=e,this._objs["main/currencyAfter"].text=(this._possessionCurrency-this._shopMerchandise.price*e).toLocaleString(),this._objs["main/itemAfter"].text=p.default.t("shop.purchaseConfirmation.itemAfter",{total:(t+e*n).toLocaleString(),itemAfter:e*n}),this._purchaseCount>=this._purchasableCount?(this._objs["main/plusButton"].disable(),this._objs["main/maxButton"].disable()):(this._objs["main/plusButton"].enable(),this._objs["main/maxButton"].enable())}},{key:"_plusPurchaseCount",value:function(){this._purchaseCount>=this._purchasableCount||(this._purchaseCount++,this._updateWithCurrentPurchaseCount())}},{key:"_minusPurchaseCount",value:function(){this._purchaseCount<=1||(this._purchaseCount--,this._updateWithCurrentPurchaseCount())}},{key:"_maximizePurchaseCount",value:function(){this._purchaseCount=this._purchasableCount,this._updateWithCurrentPurchaseCount()}},{key:"purchaseCount",get:function(){return this._purchaseCount}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"confirmationComment",fullName:"confirmationComment",type:"text",text:"\u25cb\u25cb\u3092\u6d88\u8cbb\u3057\u3066\r\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u8cfc\u5165\u3057\u307e\u3059\u304b?",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-145,y:21},{name:"contentIcon",fullName:"contentIcon",type:"sprite",key:"content_icon.png",x:-217,y:71},{name:"contentName",fullName:"contentName",type:"text",text:"\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb \xd7 1",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:-109,y:118},{children:[{name:"purchaseConfirmationMainBase",fullName:"main/purchaseConfirmationMainBase",type:"sprite",key:"purchase_confirmation_main_base.png",x:0,y:0},{name:"labelPurchaseCount",fullName:"main/labelPurchaseCount",anchor:{x:.5,y:.5},type:"text",text:"\u8cfc\u5165\u6570",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:78,y:35},{name:"labelPurchasableCount",fullName:"main/labelPurchasableCount",anchor:{x:.5,y:.5},type:"text",text:"\u8cfc\u5165\u4e0a\u9650",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:78,y:69},{name:"labelPossessionCurrency",fullName:"main/labelPossessionCurrency",anchor:{x:.5,y:.5},type:"text",text:"\u6240\u6301\u30de\u30cb\u30fc",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:77,y:107},{name:"labelPossessionItem",fullName:"main/labelPossessionItem",anchor:{x:.5,y:.5},type:"text",text:"\u30a2\u30a4\u30c6\u30e0\u6240\u6301\u6570",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:77,y:143},{name:"purchaseCount",fullName:"main/purchaseCount",anchor:{x:.5,y:.5},type:"text",text:"1",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:294,y:28},{name:"minusButton",fullName:"main/minusButton",anchor:{x:.5,y:.5},type:"sprite",key:"minus_button.png",x:244,y:27},{name:"plusButton",fullName:"main/plusButton",anchor:{x:.5,y:.5},type:"sprite",key:"plus_button.png",x:349,y:27},{name:"maxButton",fullName:"main/maxButton",anchor:{x:.5,y:.5},type:"sprite",key:"max_button.png",x:413,y:27},{name:"purchasable",fullName:"main/purchasable",type:"text",text:" / 50",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:292,y:68},{name:"purchased",fullName:"main/purchased",anchor:{x:1,y:.5},type:"text",text:"50",style:{fill:14500143,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:286,y:67},{name:"currencyBefore",fullName:"main/currencyBefore",anchor:{x:.5,y:.5},type:"text",text:"267090",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:210,y:104},{name:"currencyAfter",fullName:"main/currencyAfter",anchor:{x:.5,y:.5},type:"text",text:"266000",style:{fill:14106433,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:382,y:104},{name:"arrowDecrease",fullName:"main/arrowDecrease",type:"sprite",key:"arrow_decrease.png",x:288,y:96},{name:"itemBefore",fullName:"main/itemBefore",anchor:{x:.5,y:.5},type:"text",text:"30",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:208,y:140},{name:"itemAfter",fullName:"main/itemAfter",anchor:{x:.5,y:.5},type:"text",text:"80(\uff0b30\uff09",style:{fill:3440356,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:383,y:139},{name:"arrowIncrease",fullName:"main/arrowIncrease",type:"sprite",key:"arrow_increase.png",x:286,y:132}],name:"main",fullName:"main",type:"container",x:-238,y:186}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:567,y:123}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}
}(),o=n(1520),s=r(o),l=n(1523),u=r(l),c=n(1524),f=r(c),d={BANA_COIN:"banaCoin",MONEY:"money",EVENT_POINT:"eventPoint",PREV_EVENT_POINT:"prevEventPoint"},p=function(){function e(){i(this,e)}return a(e,null,[{key:"create",value:function(e,t){var n=e.shopCategory,r=e.closeAt;switch(n.walletKey){case d.BANA_COIN:return u.default.new();case d.MONEY:return s.default.new();case d.EVENT_POINT:return f.default.new({eventPoint:t.eventPoint,closeAt:r});case d.PREV_EVENT_POINT:return f.default.new({eventPoint:t.prevEventPoint,closeAt:r});default:return s.default.new()}}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1521),l=r(s),u=n(280),c=r(u),f={layout:l.default,x:18,y:16,width:912,height:498},d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,f))}return o(t,e),t}(c.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"shopItemListContainerBase",fullName:"shopItemListContainerBase",type:"sprite",key:"shop_item_list_container_base.png",x:0,y:0},{name:"itemList",fullName:"itemList",type:"container",x:18,y:16}],name:"",fullName:"",type:"container",x:209,y:80}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"addItem",value:function(e){var t=this.children.length,n=t%4,r=Math.floor(t/4);e.addTo(this,217*n,344*r)}}]),t}(aoba.Container);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(491),u=r(l),c=n(280),f=r(c),d=n(0),p=r(d),h={layout:u.default,layoutParam:{policyButton:{class:p.default.DecideButton}},x:18,y:90,width:912,height:424},y=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,h));return e.getChildByName("policyButton").on("tap",e._onPolicyButton,e),e}return o(t,e),s(t,[{key:"_onPolicyButton",value:function(){p.default.platform.showSpecifiedCommercialTransactions()}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(491),f=r(c),d=n(280),p=r(d),h=n(490),y=r(h),m=n(56),_=r(m),g={layout:f.default,layoutParam:{policyButton:null},x:18,y:90,width:912,height:424},b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,g));n._eventPoint=y.default.new(e.eventPoint).addTo(n,18,12,{scale:.7});var r=aoba.Text.new(u.default.t("shop.expireDate",{closeAt:(0,_.default)(1e3*e.closeAt,"mm/dd HH:MM:ss")}),{fontSize:20,fontFamily:"HummingStd-E",fill:15936871}).addTo(n,892,36,{anchor:aoba.p(1,.5)});return window.notice=aoba.Sprite.new("icon_notice_red.png").addTo(n,r.x-r.width-8,34,{anchor:.5}),n}return o(t,e),s(t,[{key:"onCompletePurchase",value:function(e){this._eventPoint.updatePoint(e)}}]),t}(p.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1526),f=r(c),d=n(3),p=r(d),h=n(492),y=r(h),m=n(56),_=r(m),g=n(56),b=r(g),v={children:[{name:"expireDatetimeBase",fullName:"expireDatetimeBase",visible:!1,type:"sprite",key:"expire_datetime_base.png",x:31,y:57},{name:"expireDatetime",fullName:"expireDatetime",visible:!1,type:"text",text:"",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:13},anchor:{x:0,y:.5},rotation:0,x:35,y:70}],name:"",fullName:"",type:"container",x:0,y:0},w=function(e){var t=e.purchasedNum;return e.limitedCount<=0?p.default.t("shop.purchasableText.noLimit",{purchasedNum:t}):p.default.t("shop.purchasableText.limited",{purchasedNum:t,limitNum:e.limitedCount})},k=function(e){function t(e){i(this,t)
;var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.shopMerchandise,o=e.shopCategory,s=e.onTapInfoButton,l=e.onTapPurchaseButton,c=n.fromData(f.default,{name:{text:r.title},icon:{key:r.getImagePath()},infoIcon:{class:u.default.DecideButton},purchaseButton:{class:u.default.DecideButton},purchasedCount:{text:w(r)},price:{text:r.price.toLocaleString()},labelDisableBase:{visible:!1},textDisable:{visible:!1}}),d=r.getExpireDate(),h=null!==d,m=(0,b.default)(1e3*r.closeAt,p.default.t("common.expireDatetimeString"));aoba.Container.new().addTo(n).fromData(v,{expireDatetimeBase:{visible:h},expireDatetime:{visible:h,text:""+m}}),n._shopMerchandise=r,n._isBanaCoinShopItem=o.walletKey===y.default.shopCategories.bana_coin.get().walletKey,c.infoIcon.on("tap",function(){s(n._shopMerchandise)}),c.purchaseButton.on("tap",function(){l(n._shopMerchandise)}),aoba.Graphics.new().beginFill(0,0).drawRect(0,0,80,80).addTo(c.infoIcon,-55,-25,{interactive:!0}),n._purchasedCount=c.purchasedCount,n._priceLabel=c.priceLabel,n._purchaseButton=c.purchaseButton,n._labelDisableBase=c.labelDisableBase,n._textDisable=c.textDisable;var _=c.name.style;return _.align="center",_.lineHeight=_.fontSize+2,_.wordWrap=!0,_.wordWrapWidth=187,_.breakWords=!0,n._currencyName="",n.setCurrencyName(o),n}return o(t,e),s(t,[{key:"setCurrencyName",value:function(e){var t=e.currencyName,n=e.priceLabelFontSize;return this._currencyName=t,this._priceLabel.text=p.default.t("shop.shopItem.priceLabel",{currencyName:t}),this._priceLabel.style.fontSize=n,this}},{key:"updateWithShopMerchandise",value:function(e){this._shopMerchandise=e,this._purchasedCount.text=w(e)}},{key:"setPurchasableState",value:function(e){if(this._shopMerchandise.purchasableLimitReached())throw new Error("updated purchase restricted product.");return this._shopMerchandise.isNotPurchasable||this._isBanaCoinShopItem&&"-"===e?this._disable():!this._isBanaCoinShopItem&&e<this._shopMerchandise.price?this._disable(p.default.t("shop.shopItem.disableText.lack",{currencyName:this._currencyName})):this._enable(),this}},{key:"_disable",value:function(e){e?(this._labelDisableBase.show(),this._textDisable.show(),this._textDisable.text=e):(this._labelDisableBase.hide(),this._textDisable.hide()),this._purchaseButton.disable()}},{key:"_enable",value:function(){this._labelDisableBase.hide(),this._textDisable.hide(),this._purchaseButton.enable()}},{key:"_createExpireDatetimeString",value:function(e){return(0,_.default)(e.getTime(),p.default.t("common.expireDatetimeString"))}},{key:"shopMerchandiseId",get:function(){return this._shopMerchandise.id}}]),t}(aoba.Container);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"shopItemBase",fullName:"shopItemBase",type:"sprite",key:"shop_item_base.png",x:0,y:0},{name:"name",fullName:"name",type:"text",text:"\u30ea\u30ab\u30d0\u30ea\u30fc\u30bd\u30fc\u30c0\u5c0f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},anchor:{x:.5,y:.5},rotation:0,x:105,y:27},{name:"icon",fullName:"icon",anchor:{x:.5,y:.5},type:"sprite",key:"icon.png",x:106,y:134},{name:"infoIcon",fullName:"infoIcon",anchor:{x:.5,y:.5},type:"sprite",key:"info_icon.png",x:177,y:71},{name:"purchasedCountLabel",fullName:"purchasedCountLabel",anchor:{x:.5,y:.5},type:"text",text:"\u8cfc\u5165\u4e0a\u9650",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:66,y:233},{name:"purchasedCount",fullName:"purchasedCount",anchor:{x:1,y:.5},type:"text",text:"10/50",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:205,y:231},{name:"priceLabel",fullName:"priceLabel",anchor:{x:.5,y:.5},type:"text",text:"\u5fc5\u8981\u30de\u30cb\u30fc",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:66,y:266},{name:"price",fullName:"price",anchor:{x:1,y:.5},type:"text",text:"888888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:204,y:263},{name:"purchaseButton",fullName:"purchaseButton",anchor:{x:.5,y:.5},type:"sprite",key:"confirm_purchase_button.png",x:106,y:306},{name:"labelDisableBase",fullName:"labelDisableBase",anchor:{x:.5,y:.5},type:"sprite",key:"label_disable_base.png",x:106,y:293},{name:"textDisable",fullName:"textDisable",anchor:{x:.5,y:.5},type:"text",text:"\u30de\u30cb\u30fc\u4e0d\u8db3",style:{fill:16736334,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:106,y:295}],name:"",fullName:"",type:"container",x:227,y:96}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(1528),f=r(c),d=n(97),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(f.default);return n._money=r.money,n._banaCoin=r.banaCoin,n._enzaPoint=r.enzaPoint,n.setUserWallet(e),n}return o(t,e),s(t,[{key:"setUserWallet",value:function(e){var t=e.money,n=e.banaCoin,r=e.enzaPoint;this._money.text=u.default.numberFormat(t),this._banaCoin.text=p.default.isNumber(n)?u.default.numberFormat(n):n,this._enzaPoint.text=p.default.isNumber(r)?u.default.numberFormat(r):r}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"commonMenuStatusBase3",fullName:"commonMenuStatusBase3",type:"sprite",key:"common_menu_status_base3.png",x:0,y:0},{name:"money",fullName:"money",anchor:{x:1,y:.5},type:"text",text:"8,888,888",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:172,y:22},{name:"banaCoin",fullName:"banaCoin",anchor:{x:1,y:.5},type:"text",text:"200,000",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:383,y:22},{name:"enzaPoint",fullName:"enzaPoint",anchor:{x:1,y:.5},type:"text",text:"888,888",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:592,y:22}],name:"",fullName:"",type:"container",x:387,y:8}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),l=n(492),u=r(l),c=n(97),f=r(c),d="game_event",p="prev_game_event",h=function(){function e(t){i(this,e),this.update(t)}return a(e,[{key:"update",value:function(e){void 0!==e.money&&(this.money=e.money),void 0!==e.banaCoin&&(this.banaCoin=f.default.isNumber(e.banaCoin)?e.banaCoin:"-"),void 0!==e.enzaPoint&&(this.enzaPoint=f.default.isNumber(e.enzaPoint)?e.enzaPoint:"-"),void 0!==e.eventPoint&&(this.eventPoint=e.eventPoint),void 0!==e.prevEventPoint&&(this.prevEventPoint=e.prevEventPoint)}},{key:"pay",value:function(e){var t=e.shopCategory,n=e.price,r=e.shouldUsePoint
;return"money"===t.walletKey?void(this.money-=n):"eventPoint"===t.walletKey?void(this.eventPoint-=n):"prevEventPoint"===t.walletKey?void(this.prevEventPoint-=n):void(r?this.enzaPoint>=n?this.enzaPoint-=n:(n-=this.enzaPoint,this.enzaPoint=0,this.banaCoin-=n):this.banaCoin-=n)}}]),e}(),y=function(){function e(t,n,r){i(this,e),this._userShops=t.map(function(e){return e.shopCategory=u.default.shopCategories[e.category].get(),e}),this._shopMerchandises=s.default.flatten(t.map(function(e){return e.shopMerchandises})),this._userWallet=new h({money:n.amount,eventPoint:this._getEventPoint(t,r,d),prevEventPoint:this._getEventPoint(t,r,p)})}return a(e,[{key:"findShopMerchandise",value:function(e){return this._shopMerchandises.find(function(t){return t.id===e})}},{key:"findShopMerchandiseByRequiredId",value:function(e){return this._shopMerchandises.find(function(t){return t.requiredShopMerchandiseId===e})}},{key:"getShopCategoryOf",value:function(e){return this.getUserShopFromShopMerchandise(e).shopCategory}},{key:"getUserShopFromShopMerchandise",value:function(e){var t=e.shopId;return this._userShops.find(function(e){return e.id===t})}},{key:"getPossessionCurrency",value:function(e){return this._userWallet[e.walletKey]}},{key:"getPossessionCurrencyFor",value:function(e){var t=this.getShopCategoryOf(e);return this.getPossessionCurrency(t)}},{key:"updateUserWallet",value:function(e){this._userWallet.pay(e)}},{key:"updateUserShopMerchandise",value:function(e){var t=this._shopMerchandises.find(function(t){return t.id===e.id});t.purchasedNum=e.purchasedNum,t.shopContents=e.shopContents}},{key:"updateShopMerchandiseContentPossession",value:function(e){var t=e.contentId,n=e.contentType,r=e.possession,i=e.skipMerchandiseId,a=this._findShopMerchandiseBy(t,n).filter(function(e){return e.id!==i});return a.forEach(function(e){e.shopContents.forEach(function(e){e.someContentBy(t,n)&&(e.possession=r)})}),a.map(function(e){return e.id})}},{key:"removeShopMerchandise",value:function(e){var t=function(e,t){var n=e.findIndex(function(e){return e.id===t});n<0||e.splice(n,1)};t(this._shopMerchandises,e.id),t(this.getUserShopFromShopMerchandise(e).shopMerchandises,e.id)}},{key:"_findShopMerchandiseBy",value:function(e,t){return this._shopMerchandises.filter(function(n){return n.hasShopContentBy(e,t)})}},{key:"_getEventPoint",value:function(e,t,n){if(0===t.length)return 0;var r=e.find(function(e){return e.category===n});if(!r)return 0;var i=!0,a=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.gameEventId===r.gameEventId)return u.currentPoint}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return 0}},{key:"userShops",get:function(){return this._userShops}},{key:"userWallet",get:function(){return this._userWallet}}]),e}();t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(1531),f=r(c),d=n(5),p=r(d),h=n(1532),y=r(h),m=n(38),_=r(m),g=n(82),b=r(g),v=n(138),w=r(v),k=n(494),S=r(k),I=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=function(t){e.onUpdateSkillParams&&e.onUpdateSkillParams({userProduceIdol:t}),aoba.sceneManager.popScene()};if(y.default.new(e).addTo(n).once("back",r),e.produceAction===b.default){var o=new w.default(S.default,n);o.start(),o.once("end",function(){return r({})})}return n}return o(t,e),s(t,null,[{key:"request",value:function(){return _.default._getSkillPanels()}},{key:"getContentResources",value:function(e){var t=[],n=[];e.userProduceSupportIdols.forEach(function(e){t.push(e.getImagePath("skill_panel")),e.skillPanels.forEach(function(e){n.push(e.skill)})});var r=e.userProduceIdol;return t.push(r.getImagePath("icon")),t.push(r.getImagePath("skill_panel")),t.push(r.getImagePath("fes_skill_panel")),r.activeSkills.forEach(function(e){n.push(e)}),r.skillPanels.forEach(function(e){n.push(e.skill)}),n.forEach(function(e){var n=e.linkSkill;n&&Array.prototype.push.apply(t,n.getCharacterIconPaths())}),u.default.uniq(t)}},{key:"uiResources",get:function(){return f.default}}]),t}(p.default);t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),a=r(i),o=n(68),s=r(o);t.default=["images/ui/common/parts_skill_list.json","images/ui/common/parts_link_skill_dialog.json","images/content/active_skills/icon.json","images/content/passive_skills/icon.json","images/content/limit_break_skills/icon.json","images/ui/skill_board/parts.json","images/ui/skill_board/bg.jpg",{name:"skill_board_up_arrow.png",url:"images/ui/skill_board/skill_board_up_arrow.png"},{name:"skill_board_effect_fill_circle.png",url:"images/ui/skill_board/skill_board_effect_fill_circle.png"},{name:"skill_board_effect_line_circle.png",url:"images/ui/skill_board/skill_board_effect_line_circle.png"}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}((0,s.default)(a.default.skillBoard)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(1),f=r(c),d=n(3),p=r(d),h=n(0),y=r(h),m=n(1533),_=r(m),g=n(1534),b=r(g),v=n(1537),w=r(v),k=n(1539),S=r(k),I=n(1541),E=r(I),A=n(1542),x=r(A),C=n(1545),T=r(C),P=n(422),O=r(P),N=n(38),M=r(N),R=n(34),D=r(R),F=n(1547),B=r(F),j=aoba.p(f.default.SCREEN_WIDTH/2,f.default.SCREEN_HEIGHT/2),L=[.5,.7,1],U=1,H=f.default.app.SKILL_CATEGORIES,G=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.userProduceIdol,o=e.releasedSkills,s=n.fromData(_.default,{produceIdolOverview:B.default.new(r,n._showIdolDetail.bind(n)),zoomInButton:{class:y.default.DecideButton},zoomOutButton:{class:y.default.DecideButton}}),l=s.produceIdolOverview,u=s.zoomInButton,c=s.zoomOutButton,d=w.default.new(Object.assign(e,{onTapBg:n._hideSkillPanelDetail.bind(n)}));d.scale.set(L[U]),d.position=j,d.on("selectPanel",n._showSkillPanelDetail,n);var h=O.default.new({width:f.default.SCREEN_WIDTH,height:f.default.SCREEN_HEIGHT,container:d}).addToAt(n,0);u.on("tap",n._zoomIn,n),c.on("tap",n._zoomOut,n),n._produceAction=e.produceAction||M.default,n._scaleIndex=U,n._params=e,
n._userProduceIdol=r,n._releasedSkills=o,n._skillPanelsLayer=d,n._scrollMap=h,n._produceIdolOverview=l,n._dialogLayer=aoba.Container.new(),n._skillPanelDetail=null;var m=y.default.CommonPartsLayer.create({headerTitle:p.default.t("skillBord.header"),tips:f.default.tips.produceSkillBoard,hasGlobalMenu:!1}).addTo(n),g=m.addBackButton(function(){n.emit("back",n._userProduceIdol)});return n._uiPartsLayer=m,g.name="backButton",aoba.soundManager.playBGMAsync(f.default.bgm.produce.skillBoard),n._beginSkillUnlockEffect(),n._playSkillUnlockEffects(o).then(function(){return n._requestUnlock()}).then(function(){return n._endSkillUnlockEffect()}),n}return o(t,e),s(t,[{key:"_zoomIn",value:function(){this._scaleIndex!==L.length-1&&(this._scaleIndex+=1,this._scaleTo())}},{key:"_zoomOut",value:function(){0!==this._scaleIndex&&(this._scaleIndex-=1,this._scaleTo())}},{key:"_scaleTo",value:function(){var e=this._getScale();aoba.Tween.new(this._skillPanelsLayer).to({scaleX:e,scaleY:e},160)}},{key:"_getScale",value:function(){return L[this._scaleIndex]}},{key:"_showIdolDetail",value:function(){(0,E.default)(this._userProduceIdol).addTo(this)}},{key:"_showSkillPanelDetail",value:function(e){var t=this;if(!this._scrollMap.isScrolled()&&!this._switching){var n=e.data;if(!this._skillPanelDetail||this._skillPanelDetail.id!==n.id){this._switching=!0,this._skillPanelsLayer.showPanelFrameOn(e),aoba.soundManager.playSE(D.default.common.ui.decide);var r=this._skillPanelDetail?this._skillPanelDetail.hideAsync():Promise.resolve();this._skillPanelDetail=b.default.new(n,this._userProduceIdol.skillPoint).addToAt(this,this._uiPartsLayer).setProps({visible:!1,alpha:0,interactive:!0}).on("submit",this._onTapSkillDetailSubmitButton,this),r.then(function(){return t._skillPanelDetail.showAsync()}).then(function(){t._switching=!1})}}}},{key:"_hideSkillPanelDetail",value:function(){this._skillPanelDetail&&this._skillPanelDetail.visible&&(this._skillPanelsLayer.removePanelFrame(),this._skillPanelDetail.hideAsync(),this._skillPanelDetail=null)}},{key:"_showAcquiredNoticeDialog",value:function(e){var t=this;y.default.Dialog.new({title:p.default.t("skillBord.acquireConfirmationTitle"),text:p.default.t("skillBord.acquiredMessage"),buttons:[{type:"submit",image:"ok_button.png"}]}).on("submit",function(){t._requestAcquireSkill(e.id)}).addTo(this._dialogLayer).open()}},{key:"_showConfirmationDialog",value:function(e){var t=this;(0,S.default)(e,this._userProduceIdol.skillPoint).on("submit",function(){switch(e.skillCategory){case H.ACTIVE:return void t._showDeleteSkillSelectDialog(e);case H.PASSIVE:case H.LIMIT_BREAK:return void t._requestAcquireSkill(e.id);default:throw new Error("skillCategory "+e.skillCategory+" is invalid")}}).addTo(this._dialogLayer).open()}},{key:"_onTapSkillDetailSubmitButton",value:function(e){this._dialogLayer.addTo(this),0===e.skillPoint?this._showAcquiredNoticeDialog(e):this._showConfirmationDialog(e)}},{key:"_showDeleteSkillSelectDialog",value:function(e){var t=this;(0,x.default)(this._userProduceIdol.activeSkills).on("submit",function(n){t._showDeleteSkillConfirmationDialog(e,n)}).addTo(this._dialogLayer)}},{key:"_showDeleteSkillConfirmationDialog",value:function(e,t){var n=this;(0,T.default)(e.skill,t).on("submit",function(){n._dialogLayer.destroyChildren(),n._dialogLayer.remove(),n._requestAcquireSkill(e.id,t.id)}).addTo(this._dialogLayer).open()}},{key:"_requestAcquireSkill",value:function(e,t){var n=this;this.interactiveChildren=!1,this._produceAction.acquireSkillPanel(e,t).then(function(t){var r=t.userProduceIdol;n._skillPanelsLayer.updatePanels(t),n._userProduceIdol=r,n._produceIdolOverview.updateSkillPoint(r.skillPoint),n._hideSkillPanelDetail(),n._playSkillAcquireVoice(e),n.interactiveChildren=!0})}},{key:"_playSkillAcquireVoice",value:function(e){var t=this._skillPanelsLayer.findSkillPanelById(e),n=this._userProduceIdol;aoba.soundManager.playVoiceAsync(n.getVoicePath(u.default.pad(n.characterId,3,"0")+"_"+t.data.skillGrade.acquireVoiceId))}},{key:"_scrollToSkillPanel",value:function(e){var t=this;return this._isSkillUnlockEffectSkipped?Promise.resolve():new Promise(function(n){var r=t._getScale(),i=aoba.p(j.x-e.x*r,j.y-e.y*r);aoba.FrameTween.new(t._skillPanelsLayer).to({x:i.x,y:i.y},10,"easeInQuad").wait(10).call(n)})}},{key:"_beginSkillUnlockEffect",value:function(){this._isSkillUnlockEffectSkipped=!1,this._inputBlocker=aoba.Graphics.new().beginFill(0,0).drawRect(0,0,f.default.SCREEN_WIDTH,f.default.SCREEN_HEIGHT).setInteractive(!0).once("tap",this._onSkipSkillUnlockEffect,this).addTo(this)}},{key:"_onSkipSkillUnlockEffect",value:function(){this._isSkillUnlockEffectSkipped=!0,this._skillPanelsLayer.updatePanels(this._params),this.skillUnlockPop&&this.skillUnlockPop.skip()}},{key:"_endSkillUnlockEffect",value:function(){this._inputBlocker.destroy({children:!0}),this._inputBlocker=null}},{key:"_playSkillUnlockEffects",value:function(e){var t=this;return e&&0!==e.length?e.reduce(function(e,n){return e.then(function(){return t._playSkillUnlockEffect(n)})},Promise.resolve()):Promise.resolve()}},{key:"_playSkillUnlockEffect",value:function(e){var t=this;if(this._isSkillUnlockEffectSkipped)return Promise.resolve();var n=this._skillPanelsLayer.findSkillPanelById(e.skillPanelId);return this._scrollToSkillPanel(n).then(function(){return t._playSkillPanelUnlockEffect(n)})}},{key:"_playSkillPanelUnlockEffect",value:function(e){return this._isSkillUnlockEffectSkipped?Promise.resolve():new Promise(function(t){e.playUnlockEffect(),e.once("end",t)})}},{key:"_findIdol",value:function(e){return e===this._userProduceIdol.idolId?this._userProduceIdol:this._params.userProduceSupportIdols.find(function(t){return t.supportIdolId===e})}},{key:"_requestUnlock",value:function(){var e=this;return this._produceAction.notifyReleasedSkillPanelsConfirmation().then(function(){e._releasedSkills&&e._releasedSkills.splice(0,e._releasedSkills.length)})}}]),t}(aoba.Container);t.default=G},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"produceIdolOverview",fullName:"produceIdolOverview",type:"container",x:0,y:78},{name:"zoomInButton",fullName:"zoomInButton",anchor:{x:.5,y:.5},type:"sprite",key:"zoom_in_button.png",x:1090,y:231},{name:"zoomOutButton",fullName:"zoomOutButton",anchor:{x:.5,y:.5},type:"sprite",key:"zoom_out_button.png",x:1090,y:409},{name:"skillPanelDetail",fullName:"skillPanelDetail",type:"container",x:507,y:496}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1535),f=r(c),d=n(1536),p=r(d),h=n(77),y=r(h),m=n(118),_=r(m),g=function(e){var t=aoba.Container.new(),n=t.fromData(p.default,{openCondition:{text:e,dx:2,dy:2}}),r=n.openCondition;return r.style.stroke=0,r.style.strokeThickness=6,t},b=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.skill,s=e.skillPoint,l=e.isLocked,c=e.isArrival,d=e.skillLevel,p=e.releaseConditions,h={skillTypeIcon:{key:o.getImagePath(),scale:.5,dx:-4,dy:-4},name:{text:o.name},linkSkillButton:o.linkSkill?{
class:_.default}:null,comment:{text:o.comment},skillPoint:{text:s},acquireButton:{class:u.default.DecideButton}};h=!c||l?Object.assign(h,{acquireButton:{class:u.default.DecideButton,tint:11184810,interactive:!1},textOnAcquireButton:{key:"text_locked.png",visible:!0},lockOverlay:l?g(p):null}):n<s?Object.assign(h,{acquireButton:{class:u.default.DecideButton,tint:11184810,interactive:!1},textOnAcquireButton:{key:"text_lacking_sp.png",visible:!0},lockOverlay:null}):d>0?Object.assign(h,{acquireButton:{class:u.default.DecideButton,tint:11184810,interactive:!1},textOnAcquireButton:{key:"text_learned.png",visible:!0}}):Object.assign(h,{acquireButton:{class:u.default.DecideButton},textOnAcquireButton:null,lockOverlay:null});var m=r.fromData(f.default,h),b=m.acquireButton,v=m.linkSkillButton;if(b.on("tap",function(){r.emit("submit",e)}),v){var w=void 0;v.on("holdstart",function(){w=y.default.new(o.linkSkill);var e=v.x-w.width/2,t=v.y-w.height-32;w.addTo(r,e,t)}),v.on("holdend",function(){w.remove()})}return r._id=e.id,r}return o(t,e),s(t,[{key:"showAsync",value:function(){return this.y+=20,this.show(),aoba.Tween.new(this).by({y:-20,alpha:1},120).promise()}},{key:"hideAsync",value:function(){var e=this;return aoba.Tween.new(this).by({y:-20,alpha:-1},120).wait(80).call(function(){return e.destroy({children:!0})}).promise()}},{key:"id",get:function(){return this._id}}]),t}(aoba.Container);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"skillPanelDetailBase",fullName:"skillPanelDetailBase",type:"sprite",key:"skill_panel_detail_base.png",x:0,y:0},{name:"skillTypeIcon",fullName:"skillTypeIcon",type:"sprite",key:null,x:27,y:23},{name:"name",fullName:"name",type:"text",text:"\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:65,y:39},{name:"linkSkillButton",fullName:"linkSkillButton",anchor:{x:.5,y:.5},type:"sprite",key:"link_skill_button.png",x:399,y:39},{name:"comment",fullName:"comment",type:"text",text:"\uff11\uff11\u79d2\u6bce\u3001\u9ad8\u78ba\u7387\u3067\u5c11\u3057\u306e\u9593\u3001PERFECT\u3067\u30e9\u30a4\u30d5\uff13\u56de\r\u5fa9\u4e00\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:397,breakWords:!0},rotation:0,x:27,y:73},{name:"skillPoint",fullName:"skillPoint",anchor:{x:.5,y:.5},type:"text",text:"20",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:22},rotation:0,x:582,y:23},{name:"acquireButton",fullName:"acquireButton",anchor:{x:.5,y:.5},type:"sprite",key:"acquire_button.png",x:526,y:88},{name:"textOnAcquireButton",fullName:"textOnAcquireButton",anchor:{x:.5,y:.5},type:"sprite",key:null,x:525,y:87},{name:"lockOverlay",fullName:"lockOverlay",type:"container",x:10,y:32}],name:"",fullName:"",type:"container",x:507,y:496}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"lockOverlayBase",fullName:"lockOverlayBase",type:"sprite",key:"lock_overlay_base.png",x:0,y:0},{name:"openCondition",fullName:"openCondition",type:"text",text:"\u7279\u8a132\u6bb5\u968e\u76ee",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:57,y:34}],name:"",fullName:"",type:"container",x:517,y:528}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(1538),d=r(f),p=aoba,h=p.Container,y=p.Sprite,m=p.DEG_TO_RAD,_=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._bg=aoba.Sprite.new("images/ui/skill_board/bg.jpg").addTo(n,0,0,{scale:2,anchor:.5,interactive:!0}).on("tap",e.onTapBg);var r=e.userProduceIdol,s=e.userProduceSupportIdols,l=e.releasedSkills,u=c.default.pluck(l,"skillPanelId");n._panelLayer=aoba.Container.new().addTo(n),n._effectLayer=aoba.Container.new().addTo(n),n._panelFrame=aoba.Sprite.new("skill_panel_selected_frame.png").setAnchor(.5);var f=[r].concat(i(s)),p=360/f.length,h=-1*p;return n._allSkillPanels={},f.forEach(function(e,t){var r=h+p*t,i=r*m;y.new(e.getImagePath("skill_panel")).addTo(n,92*Math.cos(i),92*Math.sin(i),{anchor:.5});var a=208*Math.cos(i),o=208*Math.sin(i),s={},l=aoba.Container.new().addTo(n._panelLayer,a,o);e.skillPanels.forEach(function(e){var t=d.default.new(e,u.includes(e.id)),i=t.height,a=e.step-1,o=e.sequence-1,c=(r-30)*m,f=(r+90)*m,p=i*(a*Math.cos(c)+o*Math.cos(f)),h=i*(a*Math.sin(c)+o*Math.sin(f));t.addTo(l,p,h,{anchor:.5,interactive:!0}),t.on("tap",function(){n.emit("selectPanel",t)}),t.on("flash",n._createSkillPanelFlashEffect,n),t.on("unlock",n._createSkillPanelFlashEffect,n),s[e.id]=t}),n._allSkillPanels[e.characterId]=s}),y.new(r.getImagePath("fes_skill_panel")).addTo(n,0,0,{anchor:.5}),n}return s(t,e),l(t,[{key:"showPanelFrameOn",value:function(e){var t=e.parent;this._panelFrame.addTo(this,t.x+e.x,t.y+e.y)}},{key:"removePanelFrame",value:function(){this._panelFrame.remove()}},{key:"updatePanels",value:function(e){var t=e.userProduceIdol,n=e.userProduceSupportIdols,r=[t].concat(i(n));this._effectLayer.removeChildren();var a=!0,o=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,f=c.skillPanels;if(f){var d=this._allSkillPanels[c.characterId],p=!0,h=!1,y=void 0;try{for(var m,_=f[Symbol.iterator]();!(p=(m=_.next()).done);p=!0){var g=m.value;d[g.id].updateStateView(g)}}catch(e){h=!0,y=e}finally{try{!p&&_.return&&_.return()}finally{if(h)throw y}}}}}catch(e){o=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw s}}}},{key:"findSkillPanelById",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=Object.keys(this._allSkillPanels)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=this._allSkillPanels[o][e];if(s)return s}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return null}},{key:"_createSkillPanelFlashEffect",value:function(e){var t=this._effectLayer.toLocal(aoba.p(0,0),e),n=aoba.Sprite.new("skill_board_effect_fill_circle.png").addTo(this._effectLayer,t.x,t.y,{anchor:.5}),r=e.width/n.width;n.scale=aoba.p(0,0),aoba.FrameTween.new(n).to({scaleX:r,scaleY:r},5).to({alpha:0,scaleX:1.5*r,scaleY:1.5*r},15).call(n.destroy,n);var i=aoba.Sprite.new("skill_board_effect_line_circle.png").addTo(this._effectLayer,t.x,t.y,{anchor:.5}),a=1.2*e.width/i.width;i.scale=aoba.p(0,0),aoba.FrameTween.new(i).to({scaleX:a,scaleY:a},5).to({alpha:0,scaleX:1.5*a,scaleY:1.5*a},15).call(i.destroy,i)}},{key:"_createSkillUnlockEffect",value:function(e){var t=aoba.Sprite.new("lock_"+e.panel.lockSize+".png").addTo(this._effectLayer,e.x,e.y,{anchor:.5});aoba.FrameTween.new(t).to({scaleX:2,scaleY:2},10,"easeOutQuad").to({scaleX:2.2,scaleY:2.2,alpha:0},10).call(t.destroy,t)}}]),t}(h);t.default=_},function(e,t,n){
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(34),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={NOT_ARRIVAL:{key:"not_arrival",overlayImage:"layer_skill_panel_gray.png"},ARRIVAL:{key:"arrival",overlayImage:"layer_skill_panel_white.png"},ACQUIRED:{key:"acquired",overlayImage:null}},c={1:{panelImage:"skill_panel_base.png",lockImage:"skill_panel_lock.png"},2:{panelImage:"skill_panel_base_gold.png",lockImage:"skill_panel_lock_gold.png"}},f={fill:16777215,fontSize:24,fontFamily:"UDKakugo_SmallPr6"},d=function(e){var t=e.isArrival;return e.skillLevel>0?u.ACQUIRED:t?u.ARRIVAL:u.NOT_ARRIVAL},p=function(e){function t(e,n){r(this,t);var a=e.skill,o=e.skillPoint,s=e.isLocked,l=c[a.rarity||1],u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.panelImage));u._id=e.id,u._data=e,u._acquireState=d(e),aoba.Sprite.new(a.getImagePath()).addTo(u,0,-10,{anchor:.5}),u._skillPointText=aoba.Text.new(o,f).addTo(u,18,42,{anchor:.5});var p=u._acquireState.overlayImage;return p&&(u._overlay=aoba.Sprite.new(p).addTo(u,0,0,{anchor:.5})),(s||n)&&(u._lockIcon=aoba.Sprite.new(l.lockImage).addTo(u,0,0,{anchor:.5})),u}return a(t,e),o(t,[{key:"updateStateView",value:function(e){this._data=e;var t=d(e);this._skillPointText.text=e.skillPoint,this._lockIcon&&!e.isLocked&&this._lockIcon.hide(),this._acquireState!==t&&(this._acquireState=t,this._isAcquired&&this._playLearnedStateChangeAnimation(),this._isArrival&&this._playArrivedStateChangeAnimation())}},{key:"playUnlockEffect",value:function(){var e=this;aoba.soundManager.playSE(l.default.skillBoard.unlockSkill),this._lockIcon&&this._lockIcon.hide(),aoba.FrameTween.new(this).wait(25).call(function(){e.emit("end")}),this.emit("unlock",this)}},{key:"_playLearnedStateChangeAnimation",value:function(){var e=this;aoba.soundManager.playSE(l.default.skillBoard.learnSkill),aoba.FrameTween.new(this).to({scaleY:0},5).call(function(){e._overlay.hide()}).to({scaleY:1},10,"easeOutQuad").call(function(){e.emit("flash",e)})}},{key:"_playArrivedStateChangeAnimation",value:function(){var e=this,t=this._acquireState.overlayImage,n=aoba.Sprite.new(t).addTo(this,0,0,{anchor:.5,alpha:0});aoba.FrameTween.new(n).wait(30).to({alpha:1},8).call(function(){n.destroy({children:!0}),e._overlay.texture=aoba.Texture.fromImage(t)})}},{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"_isAcquired",get:function(){return this._acquireState===u.ACQUIRED}},{key:"_isArrival",get:function(){return this._acquireState===u.ARRIVAL}}]),t}(aoba.Sprite);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1540),a=r(i),o=n(14),s=r(o),l=n(493),u=r(l),c=n(3),f=r(c),d=n(0),p=r(d),h=function(e,t){var n=aoba.Container.new();return n.fromData(a.default,{skillItem:(0,u.default)(e.skill),message:{text:f.default.t("skillBord.acquireConfirmationMessage",{skillPoint:e.skillPoint})},beforeSp:{text:t},afterSp:{text:t-e.skillPoint},decreaseArrow:{key:"arrow_decrease.png"}}).afterSp.style.fill=p.default.DECREASE_FONT_COLOR,aoba.Graphics.new().beginFill(16777215,0).drawRect(0,0,471,1).addTo(n),n.pivot.set(n.width/2,0),n},y=function(e,t){var n=s.default.new({title:f.default.t("skillBord.acquireConfirmationTitle"),type:"submit",container:h(e,t)});return n.main.y-=12,n};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"skillItem",fullName:"skillItem",type:"container",x:0,y:0},{name:"message",fullName:"message",type:"text",text:"SP\u3092\u3007\u3007\u6d88\u8cbb\u3057\u3066\u30b9\u30ad\u30eb\u3092\u7fd2\u5f97\u3057\u307e\u3059\u304b\uff1f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:60,y:137},{name:"skillPointDiffBase",fullName:"skillPointDiffBase",type:"sprite",key:"skill_point_diff_base.png",x:58,y:166},{name:"beforeSp",fullName:"beforeSp",anchor:{x:1,y:.5},type:"text",text:"1000",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:301,y:176},{name:"decreaseArrow",fullName:"decreaseArrow",type:"sprite",key:"decrease_arrow.png",x:315,y:168},{name:"afterSp",fullName:"afterSp",type:"text",text:"250",style:{fill:16725359,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:349,y:176}],name:"",fullName:"",type:"container",x:321,y:210}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=r(i),o=n(489),s=r(o),l=function(e){var t=aoba.Container.new();return a.default.createDialogOverlay().addTo(t).once("tap",function(){return t.destroy({children:!0})}),(0,s.default)(e).addTo(t),a.default.CommonPartsLayer.new().addTo(t).addBackButton(function(){return t.destroy({children:!0})}),t};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=r(i),o=n(1543),s=r(o),l=n(1544),u=r(l),c=n(118),f=r(c),d=n(77),p=r(d),h=function(e){var t=aoba.Container.new(),n=t.fromData(u.default,{effectTypeIcon:{key:e.getImagePath(),scale:.5,dx:-4,dy:-4},name:{text:e.name},comment:{text:e.comment},linkSkillButton:e.linkSkill?{class:f.default}:null,selectButton:{class:a.default.DecideButton}}),r=n.linkSkillButton,i=n.selectButton;if(r){var o=void 0;r.on("holdstart",function(){o=p.default.new(e.linkSkill).addTo(t,36,-36)}),r.on("holdend",function(){o.remove()})}return i.on("tap",function(){t.emit("submit")}),t},y=function(e){var t=aoba.Container.new(),n=aoba.Container.new();return e.filter(function(e){return!e.isDeleted}).forEach(function(e,r){h(e).addTo(n,0,122*r).on("submit",function(){t.emit("submit",e)})}),t.fromData(s.default,{overlay:a.default.createDialogOverlay(),base:{fill:16777215},deleteSkillList:n,cancelButton:{class:a.default.CancelButton}}).cancelButton.once("tap",function(){t.destroy({children:!0})}),t};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"overlay",fullName:"overlay",type:"container",x:0,y:0},{name:"base",fullName:"base",type:"graphics",fill:0,alpha:1,width:684,height:630,shape:"roundedRect",round:10,x:226,y:5},{children:[{name:"iconNoticeRed",fullName:"notice/iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:0,y:0},{name:"noticeComment",fullName:"notice/noticeComment",type:"text",text:"\u899a\u3048\u3089\u308c\u308b\u30e9\u30a4\u30d6\u30b9\u30ad\u30eb\u306f4\u3064\u307e\u3067\u3067\u3059\u3002\u5fd8\u308c\u308b\u30b9\u30ad\u30eb\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:27,y:10}],name:"notice",fullName:"notice",type:"container",x:257,y:25},{name:"deleteSkillList",fullName:"deleteSkillList",type:"container",x:268,y:61},{name:"cancelButton",fullName:"cancelButton",anchor:{x:.5,y:.5},type:"sprite",key:"cancel_button.png",x:568,y:589}],name:"",fullName:"",type:"container",x:0,y:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"deleteSkillListItemBase",
fullName:"deleteSkillListItemBase",type:"sprite",key:"delete_skill_list_item_base.png",x:0,y:0},{name:"effectTypeIcon",fullName:"effectTypeIcon",type:"sprite",key:null,x:13,y:13},{name:"name",fullName:"name",type:"text",text:"\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:51,y:29},{name:"linkSkillButton",fullName:"linkSkillButton",anchor:{x:.5,y:.5},type:"sprite",key:"link_skill_button.png",x:380,y:29},{name:"comment",fullName:"comment",type:"text",text:"\uff11\uff11\u79d2\u6bce\u3001\u9ad8\u78ba\u7387\u3067\u5c11\u3057\u306e\u9593\u3001PERFECT\u3067\u30e9\u30a4\u30d5\uff13\u56de\r\u5fa9\u4e00\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002\u884c\u6700\u592727\u6587\u5b57\u5165\u308a\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16,wordWrap:!0,wordWrapWidth:397,breakWords:!0},rotation:0,x:13,y:63},{name:"selectButton",fullName:"selectButton",anchor:{x:.5,y:.5},type:"sprite",key:"select_button.png",x:505,y:57}],name:"",fullName:"",type:"container",x:270,y:61}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1546),a=r(i),o=n(493),s=r(o),l=n(14),u=r(l),c=n(3),f=r(c),d=function(e,t){var n=aoba.Container.new();return n.fromData(a.default,{deleteSkill:(0,s.default)(t),acquireSkill:(0,s.default)(e),message:{dx:6},notice:{dy:4}}).message.style.align="center",n.pivot.set(n.width/2,0),n},p=function(e,t){var n=u.default.new({title:f.default.t("skillBord.deleteSkillConfirmationTitle"),type:"submit",container:d(e,t),height:400});return n.main.y-=20,n};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"titleDeleteSkill",fullName:"titleDeleteSkill",type:"sprite",key:"title_delete_skill.png",x:0,y:0},{name:"deleteSkill",fullName:"deleteSkill",type:"container",x:0,y:34},{name:"titleAcquireSkill",fullName:"titleAcquireSkill",type:"sprite",key:"title_acquire_skill.png",x:0,y:162},{name:"acquireSkill",fullName:"acquireSkill",type:"container",x:0,y:196},{name:"message",fullName:"message",anchor:{x:.5,y:.5},type:"text",text:"\u9078\u629e\u3055\u308c\u305f\u30b9\u30ad\u30eb\u306f\u5fd8\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\r\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:22},rotation:0,x:246,y:359},{children:[{name:"effect",fullName:"notice/effect",anchor:{x:.5,y:.5},type:"text",text:"\u5fd8\u308c\u305f\u30b9\u30ad\u30eb\u306f\u518d\u5ea6\u7fd2\u5f97\u3067\u304d\u307e\u305b\u3093",style:{fill:16725359,fontFamily:"HummingStd-E",fontSize:22},rotation:0,x:203,y:11},{name:"iconNoticeRed",fullName:"notice/iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:0,y:0}],name:"notice",fullName:"notice",type:"container",x:57,y:397}],name:"",fullName:"",type:"container",x:321,y:91}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(0),f=r(c),d=n(1548),p=r(d),h=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(p.default,{idolIcon:{key:e.getImagePath("icon")},spIcon:{key:"icon_status_sp.png"},skillPoint:{text:""},produceIdolDetailButton:{class:f.default.DecideButton}});return r._skillPoint=o.skillPoint,r.updateSkillPoint(e.skillPoint),o.produceIdolDetailButton.on("tap",n),r}return o(t,e),s(t,[{key:"updateSkillPoint",value:function(e){this._skillPoint.text=u.default.numberFormat(e)}}]),t}(aoba.Container);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"produceIdolOverviewBase",fullName:"produceIdolOverviewBase",type:"sprite",key:"produce_idol_overview_base.png",x:0,y:0},{name:"idolIcon",fullName:"idolIcon",type:"sprite",key:null,x:16,y:18},{name:"spIcon",fullName:"spIcon",type:"sprite",key:null,x:120,y:30},{name:"skillPoint",fullName:"skillPoint",anchor:{x:1,y:.5},type:"text",text:"88,888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:22},rotation:0,x:266,y:44},{name:"produceIdolDetailButton",fullName:"produceIdolDetailButton",anchor:{x:.5,y:.5},type:"sprite",key:"produce_idol_detail_button.png",x:194,y:90}],name:"",fullName:"",type:"container",x:0,y:78}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1550),u=r(l),c=n(1551),f=r(c),d=n(1552),p=r(d),h={top:{x:120,y:80},top_left:{x:20,y:80},middle:{x:120,y:320},middle_hazuki:{x:108,y:172},bottom:{x:120,y:560}},y={x:568,y:396},m=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.interactive=!0,e.beginFill(0,0),e.drawRect(0,0,aoba.game.width,aoba.game.height),e._overlay=u.default.new().addTo(e,0,0,{visible:!1}),e._maskLayer=aoba.Container.new().addTo(e),e._imagesLayer=aoba.Container.new().addTo(e),e._comment=f.default.new().addTo(e,0,0,{visible:!1}).on("endText",function(){e.emit("endText",e._lock)}),e._tips=p.default.new().addTo(e,y.x,y.y,{anchor:.5,visible:!1}),e}return o(t,e),s(t,[{key:"enable",value:function(){this.interactive=!0}},{key:"disable",value:function(){this.interactive=!1}},{key:"addImage",value:function(e){e.addTo(this._imagesLayer)}},{key:"addMaskImage",value:function(e){e.addTo(this._maskLayer)}},{key:"addButton",value:function(e){e.addToAt(this,this._imagesLayer)}},{key:"endText",value:function(){this._comment.endText()}},{key:"showTips",value:function(e){return this._overlay.resetAndCreate(),this._tips.appear(e)}},{key:"hideTips",value:function(){return this._tips.disappear()}},{key:"changeTips",value:function(e){this._tips.texture=aoba.Texture.fromImage(e)}},{key:"setCommentPosition",value:function(e){var t=e.positionType,n=e.x,r=e.y;if(t||n&&r){var i=t?h[t]:{x:n,y:r};this._comment.setPosition(i.x,i.y)}}},{key:"showOverlay",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return this._overlay.resetAndCreate(t,n,r,i),this._overlay.appear()}},{key:"hideOverlay",value:function(){return this._overlay.disappear()}},{key:"changeOverlay",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height
;this._overlay.resetAndCreate(t,n,r,i)}},{key:"showComment",value:function(e){var t=e.positionType,n=e.windowType,r=e.x,i=e.y;return this.setCommentPosition({positionType:t,x:r,y:i}),n&&this._comment.changeTextWindow(n),this._comment.appear()}},{key:"hideComment",value:function(){return this._comment.disappear()}},{key:"playComment",value:function(e){var t=e.positionType,n=e.windowType,r=e.content,i=e.x,a=e.y,o=e.lock,s=void 0===o||o;this.setCommentPosition({positionType:t,x:i,y:a}),n&&this._comment.changeTextWindow(n),this._lock=s,this._comment.playText(r)}}]),t}(aoba.Graphics);t.default=m},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n,r){return aoba.Graphics.new().beginFill(0,0).drawRect(e,t,n,r).setInteractive(!0)},u=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=aoba.p(e,t),o=aoba.p(e+n,t+i),s=[[0,0,1136,t],[o.x,a.y,1136-o.x,640],[0,o.y,o.x,640-o.y],[0,a.y,a.x,i]],u=!0,c=!1,f=void 0;try{for(var d,p=s[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value,y=l.apply(void 0,r(h));this.addChild(y)}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}}},{key:"reset",value:function(){this.removeChildren()}},{key:"resetAndCreate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.reset(),this.create(e,t,n,r)}},{key:"appear",value:function(){return this.show(),this.alpha=0,aoba.FrameTween.new(this).to({alpha:1},6).wait(3).promise()}},{key:"disappear",value:function(){var e=this;return aoba.FrameTween.new(this).to({alpha:0},6).wait(3).call(function(){e.alpha=1,e.hide()}).promise()}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(74),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u={s:{image:"text_window_s.png",wordWrapWidth:624,textPosition:{x:64,y:-18},iconVisible:!0},m:{image:"text_window_m.png",wordWrapWidth:624,textPosition:{x:64,y:-34},iconVisible:!0},l:{image:"text_window_l.png",wordWrapWidth:624,textPosition:{x:64,y:-52},iconVisible:!0},l_bottom:{image:"text_window_l_bottom.png",wordWrapWidth:600,textPosition:{x:40,y:-64},iconVisible:!1},l_left:{image:"text_window_l_left.png",wordWrapWidth:624,textPosition:{x:64,y:-52},iconVisible:!0}},c={fill:5329761,fontSize:24,lineHeight:32,fontFamily:"HummingStd-E",wordWrap:!0,wordWrapWidth:100,breakWords:!0},f=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._icon=aoba.Sprite.new("navi_icon.png").addTo(e,0,0,{anchor:aoba.p(0,.5)}),e._textWindow=aoba.Sprite.new().addTo(e,128,8,{anchor:aoba.p(0,.5)}),e._text=aoba.Text.new("",c).addTo(e._textWindow,64,0),e._textPlayer=new l.default.TextPlayer({text:e._text,speed:2}),e._textPlayer.on("end",e.onEndText,e),e}return a(t,e),o(t,[{key:"changeTextWindow",value:function(e){var t=u[e];this._textWindow.texture=aoba.Texture.fromImage(t.image),this._text.x=t.textPosition.x,this._text.y=t.textPosition.y,this._text.style.wordWrapWidth=t.wordWrapWidth,this._icon.visible=t.iconVisible}},{key:"ezgUpdate",value:function(e){this._textPlayer&&this._textPlayer.update(e)}},{key:"playText",value:function(e){this._textPlayer.play(e,!0)}},{key:"endText",value:function(){this._textPlayer.showAll()}},{key:"onEndText",value:function(){this.emit("endText")}},{key:"appear",value:function(){return this.show(),this._textWindow.scale.set(0),this._textWindow.alpha=0,aoba.FrameTween.new(this._textWindow).to({scaleX:1,scaleY:1,alpha:1},6,"easeOutQuad").wait(3).promise()}},{key:"disappear",value:function(){var e=this;return aoba.FrameTween.new(this._textWindow).to({scaleX:0,scaleY:0,alpha:0},6,"easeInQuad").call(function(){e._textPlayer.clear(),e.hide()}).wait(3).promise()}},{key:"playing",get:function(){return this._playing}}]),t}(aoba.Container);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"appear",value:function(e){return this.alpha=0,this.show(),this.texture=aoba.Texture.fromImage(e),aoba.FrameTween.new(this).to({alpha:1},6).wait(3).promise()}},{key:"disappear",value:function(){var e=this;return aoba.FrameTween.new(this).to({alpha:0},6).wait(3).call(function(){e.alpha=1,e.hide()}).promise()}}]),t}(aoba.Sprite);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={left:{image:"finger_left.png",anchor:{x:0,y:0}},right:{image:"finger_right.png",anchor:{x:1,y:0}}},l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,null,[{key:"create",value:function(e){var t=s[e],n=aoba.Sprite.new(t.image);return n.anchor.set(t.anchor.x,t.anchor.y),n}}]),t}(aoba.Sprite);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1),c=r(u),f=n(3),d=r(f),p=n(57),h=r(p),y=n(76),m=r(y),_=n(1555),g=r(_),b=document.createElement("div"),v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.color,a=r.fontSize,o=void 0===a?20:a,s=document.getElementsByTagName("canvas")[0],l=+s.style.width.replace("px","")/s.width,u=document.createElement("div");b.appendChild(u),u.innerText=e;var c=u.style;return c.position="absolute",c.left=(t+4)*l+"px",c.top=n*l+"px",i&&(c.color=i),o&&(c.fontSize=o*l+"px"),u},w=function(e){function t(e){var n;return i(this,t),(n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))).beginFill(7829367).drawRoundedRect(0,0,240,30,4).setInteractive(!0).on("tap",n.select,n),n._name=e,n._selected=!1,n}return o(t,e),s(t,[{key:"select",value:function(){this.emit("select",this._name),this._selected=!0,this.clear().beginFill(3355443).drawRoundedRect(0,0,240,30,4)}},{key:"unselect",value:function(){this._selected=!1,this.clear().beginFill(7829367).drawRoundedRect(0,0,240,30,4)}},{key:"createText",value:function(){var e=this,t=this.toGlobal(aoba.p(0,0));return v(this._name,t.x,t.y,{color:"#ffffff"}).addEventListener("click",function(){e.emit("tap")}),this}},{key:"remove",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}}]),t}(aoba.Graphics),k=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._spine=e;var r=e.spineData.animations;return r.forEach(function(e,t){w.new(e.name).addTo(n,-120,60+40*t).on("select",n._onSelectButton,n)}),n.children[r.length-1].emit("tap"),n}return o(t,e),s(t,[{key:"createButtonText",value:function(){this.children.forEach(function(e){e.createText()})}},{key:"_onSelectButton",value:function(e){var t=this.children.find(function(e){return e.selected});t&&t.unselect(),this._spine.setAnimation(0,e,!0,{mixing:!0})}}]),t}(aoba.Container),S=function(e){function t(e,n,r){var o;return i(this,t),(o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))).beginFill(8900346).drawRoundedRect(0,0,240,60,4).setInteractive(!0),aoba.Text.new(e,{fill:16777215}).addTo(o,o.width/2,o.height/2,{anchor:.5}),o._type=n,o._category=r,o._selected=!1,o.on("tap",o.select,o),o}return o(t,e),s(t,[{key:"select",value:function(){aoba.event.emit("changeType",this._type,this._category),this.emit("select",this._name),this._selected=!0,this.clear().beginFill(128).drawRoundedRect(0,0,240,60,4)}},{key:"unselect",value:function(){this._selected=!1,this.clear().beginFill(8900346).drawRoundedRect(0,0,240,60,4)}}]),t}(aoba.Graphics),I=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.forEach(function(e,t){e.addTo(n,300*t,0)}),aoba.event.on("changeType",n._changeActiveButton,n),n}return o(t,e),s(t,[{key:"_changeActiveButton",value:function(){var e=this.children.find(function(e){return e.selected});e&&e.unselect()}}]),t}(aoba.Container),E=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._params=e,n._loadStatuses={};var r=aoba.Container.new().addTo(n),o=aoba.Container.new().addTo(n);n._animationArea=aoba.Container.new().addTo(n,160,320),aoba.Graphics.new().beginFill(15658734).drawRect(0,0,aoba.game.width,aoba.game.height).addTo(r);var s=[{text:d.default.t("spine.cb"),type:"cb",category:"characters_cb"},{text:d.default.t("spine.stand"),type:"stand",category:"characters_stand"},{text:d.default.t("spine.cbCostume"),type:"cb_costume",category:"characters_cb_costume"},{text:d.default.t("spine.cbSub"),type:"cb",category:"sub_characters_cb"},{text:d.default.t("spine.standSub"),type:"stand",category:"sub_characters_stand"}],l=s.map(function(e){return S.new(e.text,e.type,e.category)});return I.new(l).addTo(o,20,20),document.body.appendChild(b),aoba.event.on("changeType",n._loadAndDisplayAnimationArea,n),l[0].emit("tap"),n}return o(t,e),s(t,[{key:"_loadAndDisplayAnimationArea",value:function(e,t){var n=this,r=this._params[t].map(function(t){return t.getSpinePath(e)});if(this._loadStatuses[t])return void this._displayAnimationArea(e,t);this._loadStatuses[t]=!0,aoba.loader.add(r).load(function(){n._displayAnimationArea(e,t)})}},{key:"_displayAnimationArea",value:function(e,t){var n=this,r="stand"===e?.45:1,i=this._params[t];for(this._animationArea.removeChildren();b.firstChild;)b.removeChild(b.firstChild);i.forEach(function(i,a){var o=t.match("characters")?"ID: "+i.idol.characterId:i.characterName,s=aoba.Container.new().addTo(n._animationArea,280*a,0),l=h.default.new(i.getSpinePath(e)).addTo(s,0,0,{scale:r}),u=[5,7,10];"characters_cb"===t&&u.lastIndexOf(i.idol.characterId)<0&&l.setSkin("normal");var c=l.toGlobal(aoba.p(0,0));v(o,c.x-110,c.y+74),k.new(l).addTo(s,0,50).createButtonText()})}}],[{key:"request",value:function(){aoba.game.setParams({width:2*c.default.SCREEN_WIDTH,height:4*c.default.SCREEN_HEIGHT}),aoba.game._stats=null,aoba.sceneManager.loadScene("LoadingScene",{},!0),aoba.game.run();var e=aoba.game._renderer.view;e.style.margin="0px 0px 0px 0px",e.style.top="0",e.style.left="0",e.style.bottom="0",e.style.right="0";var t={characters_cb:[{idol:{characterId:1}},{idol:{characterId:5}},{idol:{characterId:6}},{idol:{characterId:7}},{idol:{characterId:8}},{idol:{characterId:9}},{idol:{characterId:10}},{idol:{characterId:12}},{idol:{characterId:14}}],characters_cb_costume:[{idol:{characterId:1}},{idol:{characterId:6}},{idol:{characterId:8}},{idol:{characterId:9}},{idol:{characterId:10}},{idol:{characterId:12}},{idol:{characterId:14}}],characters_stand:[{idol:{characterId:1}},{idol:{characterId:5}},{idol:{characterId:6}},{idol:{characterId:7}},{idol:{characterId:8}},{idol:{characterId:9}},{idol:{characterId:10}},{idol:{characterId:12}},{idol:{characterId:14}}],sub_characters_cb:[{characterName:"bird"},{characterName:"ceo"},{characterName:"producer"},{characterName:"staff"}],sub_characters_stand:[{characterName:"ceo"},{characterName:"producer"},{characterName:"staff"}]}
;return t.characters_cb.forEach(function(e){aoba.utils.setPrototypeOf(e,m.default)}),t.characters_cb_costume.forEach(function(e){aoba.utils.setPrototypeOf(e,m.default)}),t.characters_stand.forEach(function(e){aoba.utils.setPrototypeOf(e,m.default)}),t.sub_characters_cb.forEach(function(e){aoba.utils.setPrototypeOf(e,g.default)}),t.sub_characters_stand.forEach(function(e){aoba.utils.setPrototypeOf(e,g.default)}),Promise.resolve(t)}}]),t}(aoba.Scene);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getSpinePath:function(e){return"spine/sub_characters/"+e+"/"+this.characterName+"/data.json"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(13),c=r(u),f=n(3),d=r(f),p=n(1),h=r(p),y=n(128),m=r(y),_=n(12),g=r(_),b=n(107),v=r(b),w=n(97),k=r(w),S=n(0),I=r(S),E=n(1557),A=r(E),x=n(1563),C=r(x),T=n(1565),P=r(T),O=n(1566),N=r(O),M=n(5),R=r(M),D=n(247),F=r(D),B=n(82),j=r(B),L=n(42),U=r(L),H=n(67),G=r(H),z=n(243),V=r(z),K=n(231),W=r(K),q=n(20),X=r(q),Y=n(66),J=r(Y),Q=n(133),Z=r(Q),$=n(99),ee=r($),te=n(407),ne=r(te),re=n(14),ie=r(re),ae=function(){var e=Math.floor(Math.random()*(h.default.app.CHARACTER_NUM+1));if(0===e)return X.default.createVoicePath("unison","title_1_unison");var t=c.default.pad(e,3,"0");return X.default.createVoicePath("characters",t,t+"_title_1")},oe=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n.fromData(P.default,{startBg:aoba.Sprite.new("start_bg.jpg"),guestStartButton:{class:I.default.DecideButton},memberStartButton:{class:I.default.DecideButton},howToAddHomeIconButton:{class:I.default.DecideButton,visible:!1},pfMenuButton:{class:I.default.DecideButton}});n._title=r.title,n._title.mask=aoba.Sprite.new("title_mask.png").addTo(n._title),r.howToAddHomeIconButton.on("tap",function(){return I.default.platform.showHowToAddHomeIcon()}),r.pfMenuButton.on("tap",n._showPlatformMenu,n),n._howToAddHomeIconButton=r.howToAddHomeIconButton,n._guestStartButton=r.guestStartButton,n._memberStartButton=r.memberStartButton,n._pfMenuButton=r.pfMenuButton,n._touchToStart=r.touchToStart;var o=r.startBg;n._bgMask=aoba.Graphics.new().beginFill(0,0).drawRect(0,0,h.default.SCREEN_WIDTH,h.default.SCREEN_HEIGHT).addTo(o,0,0);var s=new I.default.ParticleSystem(["particles/top/blue.png"],"particles/top/blue.json");if(s.play({startTime:1e4}),n.addChild(s.container),n._initSpotLight(),V.default.gameStart(),e.isCreated){n._showTouchToStart(),n._startTween();var l=parseInt(e["x-tutorial-progress-status"],10);n._bgMask.once("tap",function(){n._startGame(l)})}else{var u=e.user;u.grade>0&&!u.is_app_installed?location.href="http://"+U.default.PF_URI+"/game/"+U.default.GAME_ID:0===u.grade?(n._showLoginBtn(),J.default.IOS_STANDALONE_MODE?n._setUpHtmlLink():n._guestStartButton.on("tap",function(){return n._showUserPolicy()}),n._memberStartButton.on("tap",function(){U.default.PF_URI&&G.default.jumpTo.loginForm(document.baseURI.toString())})):(n._showTouchToStart(),n._startTween(),n._bgMask.on("tap",function(){n._showUserPolicy()}))}return n}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._divElement&&(document.removeChild(this._divElement),this._divElement=null),this._resizeFuncFromDom&&(v.default.off("resized",this._resizeFuncFromDom),this._resizeFuncFromDom=function(){}),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"onEnter",value:function(){var e=this,t=this.showLoadingLayer({transparent:!0}),n=function(){t.destroy(),t=null};this._showSplashScreen().then(function(){return e._bgMask.interactive=!0,aoba.soundManager.playBGMAsync(h.default.bgm.top),aoba.soundManager.playVoiceAsync(ae()),window.ezpf,J.default.webViewInApp()?(e._exitWithDeprecationPopup(),void n()):I.default.platform.needsHowToAddHomeIcon()?(e._howToAddHomeIconButton.visible=!0,J.default.isTwitter()?(I.default.platform.showTwitterBrowserModal(),void n()):I.default.platform.needsToShowHowToAddHomeIconAnnounce()?(I.default.platform.showHowToAddHomeIcon(),void n()):(I.default.platform.needsToShowFullScreenAnnounce()&&I.default.platform.showFullScreenAnnounce(),void n())):void n()})}},{key:"showMaintenanceDialog",value:function(e){this.hideLoadingLayer();var t=[{type:"close",image:"close_button.png"}];U.default.PF_URI&&t.push({type:"submit",image:"inquiry_button_l.png"}),ie.default.new({size:"l",title:d.default.t("maintenance.title"),text:e.text||d.default.t("maintenance.defaultMessage"),buttons:t,height:200,textAnchorY:.5,isCenter:!0}).on("submit",function(){U.default.PF_URI&&G.default.ui.showInquiryDialog()}).addTo(this).open()}},{key:"_showSplashScreen",value:function(){if(!k.default.isExternalReferrer())return Promise.resolve();var e=I.default.graphics.rect(h.default.SCREEN_WIDTH,h.default.SCREEN_HEIGHT).addTo(this);return aoba.Text.new(d.default.t("splash.message"),Object.assign({},h.default.app.textStyle,{fontSize:28,fill:16777215,align:"center"})).addTo(e,h.default.SCREEN_CENTER.x,h.default.SCREEN_CENTER.y,{anchor:.5}),new Promise(function(t){aoba.FrameTween.new(e).wait(75).to({alpha:0},3).call(function(){t(),e.destroy({children:!0})})})}},{key:"_showLoginBtn",value:function(){this._guestStartButton.show(),this._guestStartButton.interactive=!0,this._memberStartButton.show(),this._memberStartButton.interactive=!0,this._touchToStart.hide()}},{key:"_showTouchToStart",value:function(){this._guestStartButton.hide(),this._memberStartButton.hide(),this._touchToStart.show()}},{key:"_showPlatformMenu",value:function(){ne.default.new().addTo(this).open()}},{key:"_showUserPolicy",value:function(){var e=this,t=C.default.new().once("agree",function(){e.showLoadingLayer(),t.interactiveChildren=!1,F.default.create().then(e._startGame)}).addTo(this);t.open()}},{key:"_startGame",value:function(e){aoba.soundManager.playSE(W.default.start);var t=I.default.TransitionFadeLayer.createWhite();e===m.default.PROGRESS.FINISHED?g.default.directTo("/home",{transition:t}):e>=m.default.PROGRESS.STARTED?g.default.directTo("/tutorial",{transition:t}):(V.default.tutorialStart(),j.default.startAndNext().then(function(e){var n=Object.assign({},e,{produceAction:j.default});g.default.directTo("/tutorial",{transition:t,sceneParams:n,request:!1})}))}},{key:"_startTween",value:function(){var e=this,t=aoba.Sprite.new("touch_to_start.png").addTo(this._touchToStart,190,25,{anchor:.5,alpha:0}),n=new aoba.filters.ColorMatrixFilter;n.brightness(2,!0),t.filters=[n],aoba.FrameTween.new(this).wait(75).call(function(){t.alpha=.5,aoba.FrameTween.new(t).wait(6).to({scaleX:1.1,alpha:0},45,"easeOutQuart"),I.default.commonUiHelper.createGlossEffect().addTo(e._title,0,0,{anchor:aoba.p(.5),scale:aoba.p(2)})})}},{key:"_initSpotLight",value:function(){this._spotLight=ee.default.new(!1).addTo(this)}},{key:"_getDeprecationType",value:function(){
return J.default.isAndroid()?A.default.TYPES.ANDROID:J.default.isLine()?A.default.TYPES.IOS_LINE:J.default.isFaceBookMessenger()?A.default.TYPES.IOS_FB_MS:J.default.isFaceBook()?A.default.TYPES.IOS_FB:A.default.TYPES.IOS}},{key:"_exitWithDeprecationPopup",value:function(){this._spotLight.showSpotLight(),A.default.new({type:this._getDeprecationType()}).addTo(this)}},{key:"_setUpHtmlLink",value:function(){this._setUpHtmlLinkDom(this._guestStartButton,window.location.origin+"/?from-app-time="+Date.now())}},{key:"_setUpHtmlLinkDom",value:function(e,t){var n=e.width,r=e.height,i=Z.default.createLinkTargetDom(e.getGlobalPosition().x,e.getGlobalPosition().y,n,r,t);document.body.appendChild(i);var a=function(){var t=e.getGlobalPosition();Z.default.resizeDom(i,t.x,t.y,n,r)};this._divElement=i,this._resizeFuncFromDom=a,v.default.on("resized",a)}}],[{key:"getRequiredBgmResourceNames",value:function(){return[aoba.soundManager.createBgmResourceName(h.default.bgm.top)]}},{key:"uiResources",get:function(){var e=[].concat(N.default);return J.default.webViewInApp()&&(e=e.concat(A.default.manifests)),e}}]),t}(R.default);t.default=oe},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(107),u=r(l),c=n(355),f=r(c),d=n(1558),p=r(d),h=n(1559),y=r(h),m=n(1560),_=r(m),g=n(1561),b=r(g),v=n(1562),w=r(v),k=n(133),S=r(k),I=n(0),E=r(I),A={ANDROID:"android",IOS:"ios",IOS_FB:"iosFb",IOS_FB_MS:"iosFbMs",IOS_LINE:"iosLine"},x=Object.values(A),C=f.default.SIZE_LIST.SIMPLE,T=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i(this,t),!x.includes(e.type))throw new Error("invalid argument type. "+e.type);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._setUp(e.type),n}return o(t,e),s(t,null,[{key:"manifests",get:function(){return["images/ui/deprecation/parts.json"]}},{key:"TYPES",get:function(){return A}}]),s(t,[{key:"_setUp",value:function(e){switch(e){case A.ANDROID:this._renderAndroid();break;case A.IOS:this._renderIos();break;case A.IOS_FB:this._renderIosFb();break;case A.IOS_FB_MS:this._renderIosFbMs();break;case A.IOS_LINE:this._renderIosLine();break;default:throw new Error("invalid argument type. "+e)}}},{key:"_renderAndroid",value:function(){var e=this.fromData(p.default,{base:{instance:f.default.new({size:C,height:324})}}),t=location.protocol.slice(0,-1),n=location.href.slice(location.protocol.length),r="intent:"+n+"#Intent;scheme="+t+";package=com.android.chrome;end";this._createLinkDom(e.buttonOpenChrome,""+r)}},{key:"_renderIos",value:function(){var e=this.fromData(y.default,{base:{instance:f.default.new({size:C,height:404})},textDeprecationUrl:{text:""+window.location.href},buttonDeprecationUrlCopy:{class:E.default.DecideButton}});this._createCopyDom(e.buttonDeprecationUrlCopy,""+window.location.href),this._createLinkDom(e.buttonDeprecationStart,"x-web-search://")}},{key:"_renderIosFb",value:function(){this.fromData(_.default,{base:{instance:f.default.new({size:C,height:324})}})}},{key:"_renderIosFbMs",value:function(){this.fromData(b.default,{base:{instance:f.default.new({size:C,height:324})}})}},{key:"_renderIosLine",value:function(){this.fromData(w.default,{base:{instance:f.default.new({size:C,height:324})}})}},{key:"_createCopyDom",value:function(e,t){var n=this,r=S.default.createClickTargetDom(e.x+this.x,e.y+this.y,e.width,e.height);document.body.appendChild(r);var i=function(){S.default.resizeDom(r,e.x+n.x,e.y+n.y,e.width,e.height)};u.default.on("resized",i),r.addEventListener("click",function(){e.emit("tap"),S.default.execCopy(t)})}},{key:"_createLinkDom",value:function(e,t){var n=this,r=S.default.createLinkTargetDom(e.x+this.x,e.y+this.y,e.width,e.height,t);document.body.appendChild(r);var i=function(){S.default.resizeDom(r,e.x+n.x,e.y+n.y,e.width,e.height)};u.default.on("resized",i)}}]),t}(aoba.Container);t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"base.png",x:0,y:0},{name:"textOpenChrome",fullName:"textOpenChrome",type:"text",text:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002\rChrome\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:42,y:117},{name:"buttonOpenChrome",fullName:"buttonOpenChrome",anchor:{x:.5,y:.5},type:"sprite",key:"button_open_chrome.png",x:285,y:251}],name:"",fullName:"",type:"container",x:283,y:163}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"base.png",x:0,y:0},{name:"textOpenSafari",fullName:"textOpenSafari",type:"text",text:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002\rSafari\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:41,y:67},{name:"titleProcessDeprecation",fullName:"titleProcessDeprecation",type:"sprite",key:"title_process_deprecation.png",x:22,y:124},{name:"processBaseL",fullName:"processBaseL",type:"sprite",key:"process_base_l.png",x:39,y:168},{name:"processBaseInner",fullName:"processBaseInner",type:"sprite",key:"process_base_inner.png",x:49,y:207},{name:"\u2460URL\u3092\u30b3\u30d4\u30fc",fullName:"\u2460URL\u3092\u30b3\u30d4\u30fc",type:"text",text:"\u2460URL\u3092\u30b3\u30d4\u30fc",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:50,y:191},{name:"textDeprecationUrl",fullName:"textDeprecationUrl",type:"text",text:"https://earth.abcdefghi.co.jp",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:73,y:226},{name:"buttonDeprecationUrlCopy",fullName:"buttonDeprecationUrlCopy",anchor:{x:.5,y:.5},type:"sprite",key:"button_deprecation_url_copy.png",x:445,y:224},{name:"processBaseS",fullName:"processBaseS",type:"sprite",key:"process_base_s.png",x:39,y:264},{name:"\u2461Safari\u3092\u8d77\u52d5",fullName:"\u2461Safari\u3092\u8d77\u52d5",type:"text",text:"\u2461Safari\u3092\u8d77\u52d5",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:50,y:288},{name:"buttonDeprecationStart",fullName:"buttonDeprecationStart",anchor:{x:.5,y:.5},type:"sprite",key:"button_deprecation_start.png",x:445,y:289},{name:"processBaseS",fullName:"processBaseS",type:"sprite",key:"process_base_s.png",x:39,y:320},{name:"\u2462URL\u3092\u30da\u30fc\u30b9\u30c8\u3057\u3066\u958b\u304f",fullName:"\u2462URL\u3092\u30da\u30fc\u30b9\u30c8\u3057\u3066\u958b\u304f",type:"text",text:"\u2462URL\u3092\u30da\u30fc\u30b9\u30c8\u3057\u3066\u958b\u304f",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:50,y:344}],name:"",fullName:"",type:"container",x:283,y:119}},function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"base.png",x:0,y:0},{name:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002 Safari\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",fullName:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002 Safari\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",type:"text",text:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002\rSafari\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:41,y:71},{children:[{name:"titleProcessDeprecation",fullName:"process/titleProcessDeprecation",type:"sprite",key:"title_process_deprecation.png",x:0,y:0},{children:[{name:"processBaseS",fullName:"process/processFirst/processBaseS",type:"sprite",key:"process_base_s.png",x:0,y:0},{name:"\u2460\u53f3\u4e0b\u307e\u305f\u306f\u53f3\u4e0a\u306e   \u3092\u30af\u30ea\u30c3\u30af",fullName:"process/processFirst/\u2460\u53f3\u4e0b\u307e\u305f\u306f\u53f3\u4e0a\u306e   \u3092\u30af\u30ea\u30c3\u30af",type:"text",text:"\u2460\u53f3\u4e0b\u307e\u305f\u306f\u53f3\u4e0a\u306e    \u3092\u30af\u30ea\u30c3\u30af",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:11,y:24},{name:"deprecationIconTate",fullName:"process/processFirst/deprecationIconTate",type:"sprite",key:"deprecation_icon_tate.png",x:201,y:10}],name:"processFirst",fullName:"process/processFirst",type:"container",x:17,y:44},{children:[{name:"processBaseS",fullName:"process/processSecond/processBaseS",type:"sprite",key:"process_base_s.png",x:0,y:0},{name:"\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",fullName:"process/processSecond/\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",type:"text",text:"\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:11,y:24}],name:"processSecond",fullName:"process/processSecond",type:"container",x:17,y:100}],name:"process",fullName:"process",type:"container",x:22,y:122}],name:"",fullName:"",type:"container",x:283,y:163}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"base.png",x:0,y:0},{name:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002 Safari\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",fullName:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002 Safari\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",type:"text",text:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002\rSafari\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:41,y:71},{children:[{name:"titleProcessDeprecation",fullName:"process/titleProcessDeprecation",type:"sprite",key:"title_process_deprecation.png",x:0,y:0},{children:[{name:"processBaseS",fullName:"process/processSecond/processBaseS",type:"sprite",key:"process_base_s.png",x:0,y:0},{name:"\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",fullName:"process/processSecond/\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",type:"text",text:"\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:11,y:24}],name:"processSecond",fullName:"process/processSecond",type:"container",x:17,y:100},{children:[{name:"processBaseS",fullName:"process/processFirst/processBaseS",type:"sprite",key:"process_base_s.png",x:0,y:0},{name:"\u2460\u53f3\u4e0a\u306e      \u3082\u3057\u304f\u306f     \u3092\u30af\u30ea\u30c3\u30af",fullName:"process/processFirst/\u2460\u53f3\u4e0a\u306e      \u3082\u3057\u304f\u306f     \u3092\u30af\u30ea\u30c3\u30af",type:"text",text:"\u2460\u53f3\u4e0a\u306e      \u3082\u3057\u304f\u306f     \u3092\u30af\u30ea\u30c3\u30af",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:11,y:24},{name:"deprecationIconSafari",fullName:"process/processFirst/deprecationIconSafari",type:"sprite",key:"deprecation_icon_safari.png",x:103,y:9},{name:"deprecationIconTate",fullName:"process/processFirst/deprecationIconTate",type:"sprite",key:"deprecation_icon_tate.png",x:229,y:10}],name:"processFirst",fullName:"process/processFirst",type:"container",x:17,y:44}],name:"process",fullName:"process",type:"container",x:22,y:122}],name:"",fullName:"",type:"container",x:283,y:163}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"base",fullName:"base",type:"sprite",key:"base.png",x:0,y:0},{name:"textOpenSafari",fullName:"textOpenSafari",type:"text",text:"\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u672c\u30b2\u30fc\u30e0\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u3002\rSafari\u306e\u3054\u5229\u7528\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:41,y:71},{children:[{name:"titleProcessDeprecation",fullName:"process/titleProcessDeprecation",type:"sprite",key:"title_process_deprecation.png",x:0,y:0},{children:[{name:"processBaseS",fullName:"process/processFirst/processBaseS",type:"sprite",key:"process_base_s.png",x:0,y:0},{name:"deprecationIconSafari",fullName:"process/processFirst/deprecationIconSafari",type:"sprite",key:"deprecation_icon_safari.png",x:97,y:9},{name:"\u2460\u53f3\u4e0a\u306e    \u3092\u30af\u30ea\u30c3\u30af",fullName:"process/processFirst/\u2460\u53f3\u4e0a\u306e    \u3092\u30af\u30ea\u30c3\u30af",type:"text",text:"\u2460\u53f3\u4e0a\u306e    \u3092\u30af\u30ea\u30c3\u30af",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:11,y:24}],name:"processFirst",fullName:"process/processFirst",type:"container",x:17,y:44},{children:[{name:"processBaseS",fullName:"process/processSecond/processBaseS",type:"sprite",key:"process_base_s.png",x:0,y:0},{name:"\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",fullName:"process/processSecond/\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",type:"text",text:"\u2461\u300cSafari\u3067\u958b\u304f\u300d\u3092\u9078\u629e",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:11,y:24}],name:"processSecond",fullName:"process/processSecond",type:"container",x:17,y:100}],name:"process",fullName:"process",type:"container",x:22,y:122}],name:"",fullName:"",type:"container",x:283,y:163}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(0),c=r(u),f=n(1564),d=r(f),p=n(1),h=r(p),y=n(133),m=r(y),_=n(14),g=r(_),b=n(3),v=r(b),w=n(107),k=r(w),S=function(e){function t(){i(this,t);var e=aoba.Container.new(),n=e.fromData(d.default,{iconNoticeRed:{dx:-24,dy:-3},notice:{text:v.default.t("userPolicy.warningText")},personalPolicyButton:{class:c.default.DecideButton},servisePolicyButton:{class:c.default.DecideButton}});n.description.style.align="center",n.notice.style.align="center";var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{size:"m",title:v.default.t("userPolicy.title"),container:e,buttons:[{image:"disagree_button.png",type:"close"},{image:"agree_button.png",callback:function(){return r.emit("agree")}}]}));return r._removeTargets={},r.once("openEnd",function(){r._setUpLinkTag(n.personalPolicyButton,h.default.app.PRIVACY_POLICY_URI),r._setUpLinkTag(n.servisePolicyButton,h.default.app.SERVICE_POLICY_URI)}),r}return o(t,e),s(t,[{key:"ezgPreDestroy",value:function(){this._removeLinkTags(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ezgPreDestroy",this).call(this)}},{key:"open",value:function(){this._showLinkTags(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,!0)}},{key:"close",value:function(){this._hideLinkTags(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}},{key:"_showLinkTags",value:function(){var e=this;Object.keys(this._removeTargets).forEach(function(t){e._removeTargets[t].dom.style.display="block",e._removeTargets[t].dom.style.visibility="visible"})}},{key:"_hideLinkTags",value:function(){var e=this;Object.keys(this._removeTargets).forEach(function(t){e._removeTargets[t].dom.style.display="none",e._removeTargets[t].dom.style.visibility="hidden"})}},{key:"_removeLinkTags",value:function(){var e=this;Object.keys(this._removeTargets).forEach(function(t){k.default.off("resized",e._removeTargets[t].resizeFuncFromDom),document.body.removeChild(e._removeTargets[t].dom),e._removeTargets[t].dom=null,e._removeTargets[t].resizeFuncFromDom=null,e._removeTargets[t]=null}),this._removeTargets={}}},{key:"_setUpLinkTag",value:function(e,t){var n=this;this._removeTargets[t]={};var r=m.default.createLinkTargetDom(e.getGlobalPosition().x,e.getGlobalPosition().y,e.width,e.height,t);document.body.appendChild(r);var i=function(){m.default.resizeDom(n._removeTargets[t].dom,e.getGlobalPosition().x,e.getGlobalPosition().y,e.width,e.height)};k.default.on("resized",i),this._removeTargets[t].dom=r,this._removeTargets[t].resizeFuncFromDom=i}}]),t}(g.default);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"popLineM",fullName:"popLineM",type:"sprite",key:"pop_line_m.png",x:-330,y:332},{name:"description",fullName:"description",type:"text",text:"\u5229\u7528\u898f\u7d04\u3068\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc\u306b\u540c\u610f\u3057\u3066\u304b\u3089\r\u672c\u30b5\u30fc\u30d3\u30b9\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002\r\u307e\u305f\u3001\u672a\u6210\u5e74\u306e\u65b9\u306f\u3001\u6cd5\u5b9a\u4ee3\u7406\u4eba\uff08\u3054\u4e21\u89aa\u7b49\uff09\u306e\r\u540c\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:22},anchor:{x:0,y:.5},rotation:0,x:-239,y:49},{name:"notice",fullName:"notice",type:"text",text:"\u5185\u5bb9\u304c\u308f\u304b\u3089\u306a\u3044\u6642\u306f\r\u304a\u3046\u3061\u306e\u3072\u3068\u306b\u304c\u3081\u3093\u3092\u307f\u305b\u3066\u304f\u3060\u3055\u3044\u3002",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:-161,y:145},{name:"iconNoticeRed",fullName:"iconNoticeRed",type:"sprite",key:"icon_notice_red.png",x:-107,y:124},{name:"servisePolicyButton",fullName:"servisePolicyButton",anchor:{x:.5,y:.5},type:"sprite",key:"servise_policy_button.png",x:-145,y:256},{name:"personalPolicyButton",fullName:"personalPolicyButton",anchor:{x:.5,y:.5},type:"sprite",key:"personal_policy_button.png",x:152,y:256}],name:"",fullName:"",pivot:{x:.5,y:0},type:"container",x:569,y:143}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"startBg",fullName:"startBg",type:"sprite",key:"start_bg.jpg",x:0,y:0},{name:"title",fullName:"title",type:"sprite",key:"title.png",x:184,y:322},{name:"touchToStart",fullName:"touchToStart",type:"sprite",key:"touch_to_start.png",x:376,y:534},{name:"copyright",fullName:"copyright",type:"sprite",key:"copyright.png",x:659,y:608},{children:[{name:"bandai",fullName:"softlogo/bandai",type:"sprite",key:"bandai.png",x:0,y:0}],name:"softlogo",fullName:"softlogo",type:"container",x:970,y:16},{name:"howToAddHomeIconButton",fullName:"howToAddHomeIconButton",anchor:{x:.5,y:.5},type:"sprite",key:"how_to_add_home_icon_button.png",x:179,y:48},{name:"pfMenuButton",fullName:"pfMenuButton",anchor:{x:.5,y:.5},type:"sprite",key:"pf_menu_button.png",x:48,y:48},{name:"guestStartButton",fullName:"guestStartButton",anchor:{x:.5,y:.5},type:"sprite",key:"guest_start_button.png",x:428,y:565},{name:"memberStartButton",fullName:"memberStartButton",anchor:{x:.5,y:.5},type:"sprite",key:"member_start_button.png",x:708,y:565}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(231),a=r(i),o=n(68),s=r(o);t.default=["images/ui/start/parts.json",{name:"start_bg.jpg",url:"images/ui/start/start_bg.jpg"},{name:"logo_mask_shine.png",url:"images/ui/start/logo_mask_shine.png"},"particles/top/blue.json","particles/top/blue.png",{name:"pop_copyright_title_base.png",url:"images/ui/common/pop_copyright_title_base.png"}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}((0,s.default)(a.default)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}
}(),c=n(4),f=r(c),d=n(5),p=r(d),h=n(183),y=r(h),m=n(184),_=r(m),g=n(1568),b=r(g),v=n(3),w=r(v),k=n(174),S=r(k),I=n(112),E=r(I),A=n(0),x=r(A),C=n(1),T=r(C),P=n(185),O=r(P),N=function(e){function t(e){var n=e.userSupportIdol,r=e.supportIdolExps,i=e.isEvolutionAndTrainingVisible,s=void 0===i||i,l=e.isDefaultStatus,u=void 0!==l&&l;a(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return c._idolDetailLayer=aoba.Container.new().addTo(c),x.default.CommonPartsLayer.create({headerTitle:w.default.t("idolDetail.headerTitle.support"),tips:T.default.tips.supportIdol,firstTimeKey:x.default.CommonPartsLayer.getDisplayedListForFirstTime.supportIdol,onTapBackButton:function(){aoba.sceneManager.popScene()}}).on("openGlobalMenu",function(){c._idolDetail.resetTab()}).on("openTips",function(){c._idolDetail.resetTab()}).addTo(c),c._zoomCardLayer=aoba.Container.new().addTo(c),c._idolDetailLayer.fromData(_.default,{bg:x.default.MovingBg.new(),"idolDetailBase/idolName/unitIcon":{key:n.getUnitImagePath("icon")},"idolDetailBase/idolName/idolName":{text:n.name},"idolDetailBase/cardImage":y.default.new(n,"support",c._zoomCardLayer),"idolDetailBase/copyright":{text:n.supportIdol.copyrightInfo,dy:2}}),c._idolDetail=b.default.new(n,r,s,u).addTo(c._idolDetailLayer).on("closeEnd",c._exit,c),c}return s(t,e),u(t,[{key:"_exit",value:function(){aoba.sceneManager.popScene()}}],[{key:"request",value:function(e){return Promise.all([S.default.get(e),(0,E.default)("/config/support_idol_exps.json").then(function(e){return e.body})]).then(function(e){var t=l(e,2),n=t[0],r=t[1];return Promise.resolve({userSupportIdol:n,supportIdolExps:r})})}},{key:"getContentResources",value:function(e){function t(e){e.linkSkillCharacters.forEach(function(e){r.push(e.iconPath)})}var n=this,r=[],i=e.userSupportIdol;return r.push(i.getImagePath("card")),r.push(i.getImagePath("sign")),r.push(i.getImagePath("name")),r.push(i.getUnitImagePath("logo")),r.push(i.getUnitImagePath("icon")),i.skillPanels.forEach(function(e){e.skill.linkSkill&&t(e.skill.linkSkill)}),i.supportIdolActiveSkill.currentActiveSkills.forEach(function(e){e.linkSkill&&n._setLinkSkillResourcePath(e.linkSkill)}),f.default.uniq(r)}},{key:"uiResources",get:function(){return[].concat(i(O.default.common),i(O.default.supportIdol))}}]),t}(p.default);t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1569),u=r(l),c=n(1570),f=r(c),d=n(181),p=r(d),h=n(1572),y=r(h),m=n(277),_=r(m),g=n(182),b=r(g),v=n(7),w=r(v),k=n(0),S=r(k),I=n(12),E=r(I),A=n(3),x=r(A),C=function(e){function t(e,n,r,o){i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),l=e.character,c=e.skillPanels,d=e.evolutionStage,h=e.supportSkills,m=e.userProduceEventHistories,g=e.supportIdolActiveSkill,v=e.produceSupportIdolEvents,k=s.fromData(u.default,{parameter:f.default.new(e,d,n),skillPanel:p.default.new({skillPanels:c,evolutionStage:d},"skill_panel"),uniqueSkill:y.default.new(g,h,e.level),event:_.default.new(m,v),profile:b.default.new(l,e.getUnitImagePath("logo")),evolutionButton:{class:S.default.DecideButton,visible:r},trainingButton:{class:S.default.DecideButton,visible:r},"fromGashaNotice/text":{text:x.default.t("idolDetail.fromGashaNotice"),dx:3},fromGashaNotice:{visible:o}});return k["fromGashaNotice/text"].style.stroke=16777215,k["fromGashaNotice/text"].style.strokeThickness=5,k.evolutionButton.on("tap",function(){s.emit("closeEnd"),E.default.directTo("/evolution",{transition:S.default.TransitionFadeLayer.createWhite({duration:80})})}),k.trainingButton.on("tap",function(){s.emit("closeEnd"),E.default.directTo("/training",{transition:S.default.TransitionFadeLayer.createWhite({duration:80})})}),s._showTab=k.skillPanel,k.uniqueSkill.hide(),k.event.hide(),k.profile.hide(),k.tabs.children.forEach(function(e){e.interactive=!0,e.on("tap",function(){aoba.soundManager.playSE(w.default.ui.select),s._changeTab(e)})}),s._objs=k,s}return o(t,e),s(t,[{key:"_changeTab",value:function(e){var t=e.name.slice(0,-3),n=this._objs[""+t];this._showTab.hide(),this.resetTab(),n.show(),this._showTab=n}},{key:"resetTab",value:function(){this._showTab.reset&&this._showTab.reset()}}]),t}(aoba.Container);t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"parameter",fullName:"parameter",type:"container",x:0,y:361},{children:[{name:"skillPanelOff",fullName:"tabs/skillPanelOff",type:"sprite",key:"skill_panel_off.png",x:0,y:0},{name:"uniqueSkillOff",fullName:"tabs/uniqueSkillOff",type:"sprite",key:"unique_skill_off.png",x:128,y:0},{name:"eventOff",fullName:"tabs/eventOff",type:"sprite",key:"event_off.png",x:256,y:0},{name:"profileOff",fullName:"tabs/profileOff",type:"sprite",key:"profile_off.png",x:384,y:0}],name:"tabs",fullName:"tabs",type:"container",x:570,y:0},{name:"skillPanel",fullName:"skillPanel",type:"container",x:563,y:0},{name:"uniqueSkill",fullName:"uniqueSkill",type:"container",x:563,y:0},{name:"event",fullName:"event",type:"container",x:578,y:0},{name:"profile",fullName:"profile",type:"container",x:578,y:0},{name:"trainingButton",fullName:"trainingButton",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"training_button.png",x:843,y:508},{name:"evolutionButton",fullName:"evolutionButton",visible:!1,anchor:{x:.5,y:.5},type:"sprite",key:"evolution_button.png",x:1015,y:508},{children:[{name:"text",fullName:"fromGashaNotice/text",type:"text",text:"\u5404\u30b9\u30c6\u30fc\u30bf\u30b9\u3001\u7279\u8a13\u56de\u6570\u306f\u521d\u671f\u72b6\u614b\u306e\u5024\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002",style:{fill:16199013,fontFamily:"HummingStd-E",fontSize:22},anchor:{x:0,y:.5},rotation:0,x:21,y:11}],name:"fromGashaNotice",fullName:"fromGashaNotice",visible:!1,type:"sprite",key:"icon_notice_red.png",x:449,y:500}],name:"",fullName:"",type:"container",x:29,y:81}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1571),l=r(s),u=n(1),c=r(u),f=n(3),d=r(f),p=n(115),h=r(p),y=n(13),m=r(y),_=n(495),g=r(_),b={NORMAL:"normal_limit_break_star.png",MAX:"max_limit_break_star.png"},v=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments[2];i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=e.rarity<c.default.app.EVOLUTION_ENABLED_RARITY,u=e.level===e.limitLevel?"-":e.nextLevelExp,f={"limitBreak/noLimitBreak":{visible:s},"limitBreak/base":{visible:!s},"level/currentLevel":{text:e.level},
"level/maxLevel":{text:d.default.t("idolDetail.supportParameter.maxLevel",{level:e.limitLevel})},"level/remainingExp":{text:d.default.t("idolDetail.supportParameter.remainingExp",{exp:u})},"level/supportIdolDetailExpGauge":h.default.new("support_idol_detail_exp_gauge.png",(0,g.default)(r,e))};["vocal","dance","visual","mental"].forEach(function(t){f[t+"/score"]={text:m.default.numberFormat(e[t+"Bonus"])}});var p=o.fromData(l.default,f);if(p["level/currentLevel"].style.fill=e.level===e.limitLevel?"#ff366f":"#615466",!n)return a(o);for(var y=n===c.default.app.MAX_EVOLUTION_STAGE?b.MAX:b.NORMAL,_=0;_<n;_++)aoba.Sprite.new(y).addTo(p["limitBreak/base"],36*_,0);return o}return o(t,e),t}(aoba.Container);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"iconStatusVocal",fullName:"vocal/iconStatusVocal",type:"sprite",key:"icon_status_vocal.png",x:0,y:0},{name:"idolDetailStatusLine",fullName:"vocal/idolDetailStatusLine",type:"sprite",key:"idol_detail_status_line.png",x:28,y:25},{name:"score",fullName:"vocal/score",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:132,y:14}],name:"vocal",fullName:"vocal",type:"container",x:0,y:55},{children:[{name:"iconStatusDance",fullName:"dance/iconStatusDance",type:"sprite",key:"icon_status_dance.png",x:0,y:0},{name:"idolDetailStatusLine",fullName:"dance/idolDetailStatusLine",type:"sprite",key:"idol_detail_status_line.png",x:27,y:25},{name:"score",fullName:"dance/score",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:127,y:14}],name:"dance",fullName:"dance",type:"container",x:134,y:55},{children:[{name:"iconStatusVisual",fullName:"visual/iconStatusVisual",type:"sprite",key:"icon_status_visual.png",x:0,y:0},{name:"idolDetailStatusLine",fullName:"visual/idolDetailStatusLine",type:"sprite",key:"idol_detail_status_line.png",x:24,y:25},{name:"score",fullName:"visual/score",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:131,y:14}],name:"visual",fullName:"visual",type:"container",x:269,y:55},{children:[{name:"iconStatusMental",fullName:"mental/iconStatusMental",type:"sprite",key:"icon_status_mental.png",x:0,y:0},{name:"idolDetailStatusLine",fullName:"mental/idolDetailStatusLine",type:"sprite",key:"idol_detail_status_line.png",x:28,y:25},{name:"score",fullName:"mental/score",anchor:{x:1,y:.5},type:"text",text:"9,995",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:131,y:14}],name:"mental",fullName:"mental",type:"container",x:403,y:55},{children:[{children:[{name:"limitBreakStarBase",fullName:"limitBreak/base/limitBreakStarBase",type:"sprite",key:"limit_break_star_base.png",x:0,y:0},{name:"limitBreakStarBase",fullName:"limitBreak/base/limitBreakStarBase",type:"sprite",key:"limit_break_star_base.png",x:36,y:0},{name:"limitBreakStarBase",fullName:"limitBreak/base/limitBreakStarBase",type:"sprite",key:"limit_break_star_base.png",x:72,y:0},{name:"limitBreakStarBase",fullName:"limitBreak/base/limitBreakStarBase",type:"sprite",key:"limit_break_star_base.png",x:108,y:0}],name:"base",fullName:"limitBreak/base",type:"container",x:50,y:3},{name:"idolDetailLimitBreakTitle",fullName:"limitBreak/idolDetailLimitBreakTitle",type:"sprite",key:"idol_detail_limit_break_title.png",x:0,y:0},{name:"limitBreakLine",fullName:"limitBreak/limitBreakLine",type:"sprite",key:"limit_break_line.png",x:40,y:38},{name:"noLimitBreak",fullName:"limitBreak/noLimitBreak",visible:!1,type:"text",text:"\u30fc\u30fc\u30fc\u30fc",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:91,y:23}],name:"limitBreak",fullName:"limitBreak",type:"container",x:3,y:1},{children:[{name:"supportIdolDetailParameterLevelLine",fullName:"level/supportIdolDetailParameterLevelLine",type:"sprite",key:"support_idol_detail_parameter_level_line.png",x:41,y:39},{name:"idolDetailLevelTitle",fullName:"level/idolDetailLevelTitle",type:"sprite",key:"idol_detail_level_title.png",x:0,y:1},{name:"currentLevel",fullName:"level/currentLevel",anchor:{x:1,y:.5},type:"text",text:"60",style:{fill:16725359,fontFamily:"HummingStd-E",fontSize:28},rotation:0,x:90,y:21},{name:"maxLevel",fullName:"level/maxLevel",anchor:{x:1,y:.5},type:"text",text:"/60",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},rotation:0,x:133,y:25},{name:"supportIdolDetailExpGaugeBase",fullName:"level/supportIdolDetailExpGaugeBase",type:"sprite",key:"support_idol_detail_exp_gauge_base.png",x:139,y:18},{name:"supportIdolDetailExpGauge",fullName:"level/supportIdolDetailExpGauge",type:"sprite",key:"support_idol_detail_exp_gauge.png",x:141,y:20},{name:"remainingExp",fullName:"level/remainingExp",anchor:{x:1,y:.5},type:"text",text:"\u3042\u3068 888888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:307,y:8}],name:"level",fullName:"level",type:"container",x:226,y:0}],name:"",fullName:"",type:"container",x:29,y:442}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(81),f=r(c),d=n(1573),p=r(d),h=n(269),y=r(h),m=n(22),_=r(m),g=n(24),b=r(g),v=n(77),w=r(v),k={WIDTH:525.99,HEIGHT:398},S=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(p.default,{noSkillMessage:{visible:0===e.currentActiveSkills.length&&0===n.length}});r._linkSkillLayer=aoba.Container.new().addTo(r),r._linkAppealDetails={};var s=e.currentActiveSkills,l=o.list;return s&&s.length>0&&y.default.new(s,f.default.SKILL_TYPES.ACTIVE).on("tapLinkButton",function(e,t){r._showLinkSkill(e.linkButton,e.linkSkill,t,l.y)}).on("releaseLinkButton",function(e){r._deleteLinkSkill(e)}).addTo(o.list,0,0),n&&n.length>0&&y.default.new(n,f.default.SKILL_TYPES.SUPPORT).addTo(l,0,l.height+20),l.height>k.HEIGHT&&r._createScrollBar(o.scrollBar,l),r}return o(t,e),s(t,[{key:"reset",value:function(){var e=this;return Object.keys(this._linkAppealDetails).forEach(function(t){e._linkAppealDetails[t]&&(e._linkAppealDetails[t].destroy(),e._linkAppealDetails[t]=null)}),this}},{key:"_createScrollBar",value:function(e,t){var n=e,r=u.default.commonUiHelper.createScrollBarBase({width:8,height:k.HEIGHT});_.default.new({width:k.WIDTH,height:k.HEIGHT,container:t,scrollBar:b.default.new({width:18}),scrollBarBase:r}).addToAt(this,n,0,56),r.addTo(n,0,0)}},{key:"_showLinkSkill",value:function(e,t,n,r){this._deleteLinkSkill(t),this._linkAppealDetails[t.id]=w.default.new(t).addTo(this._linkSkillLayer,125,100*n-52+r,{visible:!0})}},{key:"_deleteLinkSkill",value:function(e){this._linkAppealDetails[e.id]&&(this._linkAppealDetails[e.id].destroy({children:!0}),this._linkAppealDetails[e.id]=null)}}]),t}(aoba.Container);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"list",fullName:"list",type:"container",x:0,y:56},{name:"uniqueSkillOn",fullName:"uniqueSkillOn",type:"sprite",
key:"unique_skill_on.png",x:135,y:0},{name:"scrollBar",fullName:"scrollBar",type:"container",x:507,y:56}],name:"",fullName:"",type:"container",x:592,y:81}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(12),c=r(u),f=n(3),d=r(f),p=n(5),h=r(p),y=n(1575),m=r(y),_=n(0),g=r(_),b=n(39),v=r(b),w=n(112),k=r(w),S=n(177),I=r(S),E=n(175),A=r(E),x=n(176),C=r(x),T=n(178),P=r(T),O=n(137),N=r(O),M=n(21),R=r(M),D=n(1),F=r(D),B=["userSupportIdol"],j=function(e){return e.isLevelMax},L=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._userEnhancementItems=e.userEnhancementItems;var r=new N.default,o=function(t,i,a){n.showLoadingLayer({transparent:!0}),t.serverAction.get(i.id).then(function(o){n.hideLoadingLayer();var s={userSupportIdol:o,userEnhancementItems:e.userEnhancementItems,supportIdolExps:e.supportIdolExps};aoba.sceneManager.loadScene("training",s,{additive:!0}),aoba.sceneManager.currentScene.on("end",function(e){r.setIdolDetail(t,i),a.applyData(e),j(e)&&a.disable()})})},s=function(e,t){R.default.loadSceneAsync(e.detailSceneName,{additive:!0,requestParams:t.id})},l=C.default.new({onTapIdolIcon:o,onHoldIdolIcon:s}),u=I.default.create({idolTypeNames:B,onSelectTab:function(e){P.default.switchIdolList({tabList:u,idolListContainer:l,idolType:e,store:r,checkIconIsDisabled:j})}});return n.fromData(A.default,{bg:g.default.MovingBg.new(),tabList:u,idolListContainer:l}),u.init(),g.default.CommonPartsLayer.create({headerTitle:d.default.t("header.trainingIdolList"),tips:F.default.tips.training,firstTimeKey:g.default.CommonPartsLayer.getDisplayedListForFirstTime.training,onTapBackButton:function(){c.default.directTo("/idolPortal")}}).addTo(n),n}return o(t,e),l(t,null,[{key:"request",value:function(){return Promise.all([v.default.userEnhancementItem.getList(),(0,k.default)("/config/support_idol_exps.json").then(function(e){return e.body})]).then(function(e){var t=s(e,2),n=t[0],r=t[1];return Promise.resolve({userEnhancementItems:n,supportIdolExps:r})})}},{key:"getContentResources",value:function(e){var t=[];return e.userEnhancementItems.forEach(function(e){t.push(e.iconImagePath)}),t}},{key:"uiResources",get:function(){return m.default}}]),t}(h.default);t.default=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/training/parts.json","images/ui/training_and_evolution/parts.json",{name:"idol_list_container_base.png",url:"images/ui/idol_list/idol_list_container_base.png"},"images/ui/idol_list/parts.json"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(0),f=r(c),d=n(1577),p=r(d),h=n(5),y=r(h),m=n(1578),_=r(m),g=n(174),b=r(g),v=n(456),w=r(v),k=n(457),S=r(k),I=n(1588),E=r(I),A=n(1589),x=r(A),C=n(1),T=r(C),P=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.userSupportIdol,o=e.userEnhancementItems,s=e.supportIdolExps;n._userSupportIdol=r,n._userEnhancementItems=o,o.forEach(function(e){e.selectedNum=0});var l=n.fromData(p.default,{bg:f.default.MovingBg.new(),idolContainer:_.default.new(r,s),consumableItemContainer:w.default.new(n._createConsumableItems(o)),trainingButton:{class:f.default.DecideButton},clearButton:{class:f.default.CancelButton}}),c=l.idolContainer,d=l.consumableItemContainer,h=l.trainingButton,y=l.clearButton;return y.on("tap",n._resetItemNum,n),h.on("tap",n._showConfirmationDialog,n),n._idolContainer=c,n._consumableItemContainer=d,n._clearButton=y,n._trainingButton=h,n.addHeader(u.default.t("header.training")),n.addGlobalMenuButton(),n.addBackButton(function(){n.emit("end",n._userSupportIdol),aoba.sceneManager.popScene()}),f.default.CommonPartsLayer.create({headerTitle:u.default.t("header.training"),tips:T.default.tips.training,firstTimeKey:f.default.CommonPartsLayer.getDisplayedListForFirstTime.training,onTapBackButton:function(){n.emit("end",n._userSupportIdol),aoba.sceneManager.popScene()}}).addTo(n),n._onChangeItemCount(o),n}return o(t,e),s(t,[{key:"_createConsumableItems",value:function(e){var t=this,n=e.length;return e.map(function(e,r){var i=S.default.new({id:e.id,name:e.enhancementItem.name,iconSprite:aoba.Sprite.new(e.iconImagePath).setScale(.65),num:e.num,shouldShowLine:r===n-1});return i.plusButton.on("tap",function(){t._plusItemNum(e)}),i.minusButton.on("tap",function(){t._minusItemNum(e)}),i.maxButton.on("tap",function(){t._maximizeItemNum(e)}),i})}},{key:"_showConfirmationDialog",value:function(){var e=this._userEnhancementItems.filter(function(e){return e.selectedNum>0});(0,E.default)(e).addTo(this).on("submit",this._startTraining,this).open()}},{key:"_showResultDialog",value:function(e,t){(0,x.default)(e,t).addTo(this).open()}},{key:"_startTraining",value:function(){var e=this,t=this._userEnhancementItems.filter(function(e){return e.selectedNum>0}).map(function(e){return{id:e.enhancementItem.id,num:e.selectedNum}}),n={vocalBonus:this._userSupportIdol.vocalBonus,danceBonus:this._userSupportIdol.danceBonus,visualBonus:this._userSupportIdol.visualBonus,mentalBonus:this._userSupportIdol.mentalBonus};b.default.enhance(this._userSupportIdol.id,{enhancementItems:t}).then(function(){return b.default.get(e._userSupportIdol.id)}).then(function(r){e._userSupportIdol=r,t.forEach(function(t){e._userEnhancementItems.find(function(e){return e.id===t.id}).num-=t.num}),e._idolContainer.updateContent(r),e._consumableItemContainer.updatePossessionAndSelectedNum(e._userEnhancementItems),e._resetItemNum(),e._showResultDialog(n,e._userSupportIdol)})}},{key:"_resetItemNum",value:function(){this._userEnhancementItems.forEach(function(e){e.selectedNum=0}),this._onChangeItemCount()}},{key:"_plusItemNum",value:function(e){if(!(e.selectedNum>=e.num)){var t=this._userEnhancementItems.map(function(e){
return e.enhancementItem.expGain*e.selectedNum}).reduce(function(e,t){return e+t},0);this._idolContainer.getRemainingExpToLevelMax()-t<=0||(e.selectedNum++,this._onChangeItemCount())}}},{key:"_minusItemNum",value:function(e){0!==e.selectedNum&&(e.selectedNum--,this._onChangeItemCount())}},{key:"_maximizeItemNum",value:function(e){var t=this._userEnhancementItems.filter(function(t){return t!==e}).map(function(e){return e.enhancementItem.expGain*e.selectedNum}).reduce(function(e,t){return e+t},0),n=Math.max(this._idolContainer.getRemainingExpToLevelMax()-t,0);if(!(n<=0)){var r=Math.ceil(n/e.enhancementItem.expGain);e.selectedNum=Math.min(r,e.num),this._onChangeItemCount()}}},{key:"_onChangeItemCount",value:function(){var e=this._userEnhancementItems.map(function(e){return e.enhancementItem.expGain*e.selectedNum}).reduce(function(e,t){return e+t},0);this._consumableItemContainer.updateSelectedNum(this._userEnhancementItems),this._idolContainer.updateWithAdditionalExp(e);var t=this._userEnhancementItems.some(function(e){return e.selectedNum>0});this._trainingButton.setAvailable(t),this._clearButton.setAvailable(t)}}]),t}(y.default);t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.jpg",x:0,y:0},{name:"idolContainer",fullName:"idolContainer",type:"container",x:15,y:69},{name:"consumableItemContainer",fullName:"consumableItemContainer",type:"container",x:592,y:101},{name:"clearButton",fullName:"clearButton",anchor:{x:.5,y:.5},type:"sprite",key:"clear_button.png",x:872,y:589},{name:"trainingButton",fullName:"trainingButton",anchor:{x:.5,y:.5},type:"sprite",key:"training_button.png",x:1044,y:589}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),f=n(0),d=r(f),p=n(1579),h=r(p),y=n(22),m=r(y),_=n(24),g=r(_),b=n(98),v=r(b),w=n(1580),k=r(w),S=n(1582),I=r(S),E=n(1584),A=r(E),x=n(453),C=r(x),T=n(496),P=r(T),O=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._userSupportIdol=e,r._supportIdolExps=n,r._supportSkillList=A.default.new(r._userSupportIdol.supportSkills);var i=d.default.commonUiHelper.createScrollBarBase({width:6,height:272}),s=m.default.new({width:524,height:278,container:r._supportSkillList,scrollBar:g.default.new({width:14}),scrollBarBase:i}),l=r.fromData(h.default,{icon:v.default.new(e),nameBase:d.default.dotLine.create({width:415,type:d.default.dotLine.types.DOT_BLACK}),name:{text:e.supportIdol.name},levelBase:(0,P.default)(c.default.t("training.levelLabel")),expBase:(0,P.default)(c.default.t("training.gainExpLabel")),exp:{text:"0",dy:2},expGroup:k.default.new(n,e),levelGrowth:I.default.new(e.level),skillListBase:(0,C.default)(c.default.t("training.skillListTitle")),supportSkillList:{instance:s,dy:1}});return i.addTo(r,526,180),r._idolIcon=l.icon,r._exp=l.exp,r._expGroup=l.expGroup,r._levelGrowth=l.levelGrowth,r}return s(t,e),l(t,[{key:"getRemainingExpToLevelMax",value:function(){return this._getTotalExpToLevelMax()-this._userSupportIdol.exp}},{key:"_getTotalExpToLevelMax",value:function(){var e=this;return this._supportIdolExps.find(function(t){return t.level===e._userSupportIdol.limitLevel}).total_exp}},{key:"_updateSupportSkillsByLevel",value:function(e){var t=this._userSupportIdol.supportIdol.supportSkills,n=t.filter(function(t){return t.level<=e});this._supportSkillList.updateByAvailableSkills(n)}},{key:"updateWithAdditionalExp",value:function(e){var t=this._supportIdolExps,n=Math.min(this._userSupportIdol.exp+e,this._getTotalExpToLevelMax()),r=[].concat(i(t)).sort(function(e,t){return t.total_exp-e.total_exp}).find(function(e){return n>=e.total_exp}),a=t[t.indexOf(r)+1],o=n-this._userSupportIdol.exp;this._exp.text=o;var s=n===this._getTotalExpToLevelMax();this._expGroup.updateValue(n,o,r.total_exp,a.total_exp,s),this._levelGrowth.updateGrowth(r.level),this._userSupportIdol.supportIdol.levelLimits.sort(function(e,t){return e.evolutionStage<t.evolutionStage}),this._updateSupportSkillsByLevel(r.level)}},{key:"updateContent",value:function(e){this._userSupportIdol=e,this._expGroup.updateValue(e.exp),this._levelGrowth.updateValue(e.level,e.isLevelMax),this._supportSkillList.updateAcquiredSkills(e.supportSkills),this._idolIcon.applyData(e)}}]),t}(aoba.Container);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"idolContainerBase",fullName:"idolContainerBase",type:"sprite",key:"idol_container_base.png",x:0,y:0},{name:"icon",fullName:"icon",type:"sprite",key:null,x:18,y:22},{name:"nameBase",fullName:"nameBase",type:"container",x:124,y:50},{name:"name",fullName:"name",type:"text",text:"\u30a2\u30f3\u30c6\u30a3\u30fc\u30ab\u3000\u5e7d\u8c37\u9727\u5b50",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:129,y:30},{name:"levelBase",fullName:"levelBase",type:"container",x:124,y:62},{name:"levelGrowth",fullName:"levelGrowth",type:"container",x:212,y:61},{name:"expBase",fullName:"expBase",type:"container",x:124,y:92},{name:"exp",fullName:"exp",anchor:{x:0,y:.5},type:"text",text:"250000",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:225,y:103},{name:"expGroup",fullName:"expGroup",type:"container",x:366,y:75},{name:"skillListBase",fullName:"skillListBase",type:"container",x:16,y:130},{name:"supportSkillList",fullName:"supportSkillList",type:"container",x:18,y:172}],name:"",fullName:"",type:"container",x:15,y:69}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(495),u=r(l),c=n(3),f=r(c),d=n(115),p=r(d),h=n(1581),y=r(h),m=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=(0,u.default)(e,n),s=o.value,l=o.maxValue,c=r.fromData(y.default,{expGauge:{instance:p.default.new("exp_gauge.png",{value:s,maxValue:l,speed:1e4})},remaining:{text:f.default.t("supportIdol.remaining",{remaining:l-s})}}),d=c.remaining,h=c.expGauge;return r._remaining=d,r._expGauge=h,r}
return o(t,e),s(t,[{key:"updateValue",value:function(e,t,n,r,i){if(i)return this._remaining.text=f.default.t("supportIdol.remaining",{remaining:"-"}),this._expGauge.maxValue=1,void this._expGauge.setValue(1);this._remaining.text=f.default.t("supportIdol.remaining",{remaining:r-e}),this._expGauge.maxValue=r-n,this._expGauge.setValue(e-n)}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"remaining",fullName:"remaining",anchor:{x:0,y:.5},type:"text",text:"\u3042\u3068 888888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:3,y:8},{name:"expGaugeBase",fullName:"expGaugeBase",anchor:{x:.5,y:.5},type:"sprite",key:"exp_gauge_base.png",x:84,y:30},{name:"expGauge",fullName:"expGauge",anchor:{x:.5,y:.5},type:"sprite",key:"exp_gauge.png",x:84,y:30}],name:"",fullName:"",type:"container",x:381,y:144}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1583),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.fromData(l.default,{before:{text:e,dx:2,dy:3},arrowIncrease:{visible:!1},after:{visible:!1,dx:2,dy:3}});return n._value=e,n._before=a.before,n._after=a.after,n._arrow=a.arrowIncrease,n._beforeOriginPosition=n._before.x,n._maxLevelBeforePositionOffset=76,n}return a(t,e),o(t,[{key:"updateGrowth",value:function(e){e>this._value?(this._after.text=e,this._after.show(),this._arrow.show()):(this._after.hide(),this._arrow.hide())}},{key:"updateValue",value:function(e,t){this._value=e,this._before.text=e,t?(this._before.text+=" (MAX)",this._before.x=this._beforeOriginPosition+this._maxLevelBeforePositionOffset):this._before.x=this._beforeOriginPosition,this._after.hide(),this._arrow.hide()}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"before",fullName:"before",anchor:{x:1,y:.5},type:"text",text:"19",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:26,y:10},{name:"arrowIncrease",fullName:"arrowIncrease",type:"sprite",key:"arrow_increase.png",x:34,y:3},{name:"after",fullName:"after",anchor:{x:1,y:.5},type:"text",text:"20",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:85,y:10}],name:"",fullName:"",type:"container",x:227,y:130}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1585),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.forEach(function(e){n._addSupportSkillItem(e)}),n._possibleSkillItems=[],n}return a(t,e),o(t,[{key:"updateByAvailableSkills",value:function(e){var t=this;this._resetPossibleSkillItems(),e.forEach(function(e){var n=e.supportSkillLevel,r=e.supportSkillGroup,i=t._findSkillItemByGroup(r);i||(i=t._addSupportSkillItem(e,{isNew:!0}),t._possibleSkillItems.push(i)),n>i.level&&i.addAfterLevel(e.supportSkillLevel)})}},{key:"updateAcquiredSkills",value:function(e){var t=this;this.destroyChildren(),this._possibleSkillItems=[],e.forEach(function(e){t._addSupportSkillItem(e)})}},{key:"_addSupportSkillItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.children.length,r=(n+1)%2==0?0:1;return l.default.new(e,r,{isNew:t.isNew}).addTo(this,0,38*n)}},{key:"_findSkillItemByGroup",value:function(e){return this.children.find(function(t){return t.group===e})}},{key:"_resetPossibleSkillItems",value:function(){this.children.forEach(function(e){return e.reset()}),this._possibleSkillItems.forEach(function(e){return e.destroy({children:!0})})}}]),t}(aoba.Container);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1586),u=r(l),c=n(0),f=r(c),d=n(3),p=r(d),h={NORMAL:6378597,GROWTH:16463728},y=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isNew:!1};i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));f.default.graphics.rect(524,38,{fill:16053236,alpha:n}).addTo(o);var s=t.getLevelText(e.supportSkillLevel),l={skillName:{text:e.name,dy:2}};r.isNew?(l.beforeLevel={text:""},l.afterLevel={text:s,visible:!0},l.arrowIncrease={visible:!0}):(l.beforeLevel={text:s},l.afterLevel={text:"",visible:!1},l.arrowIncrease={visible:!1}),l.beforeLevel.dy=2,l.afterLevel.dy=2;var c=o.fromData(u.default,l);return o._group=e.supportSkillGroup,o._level=e.supportSkillLevel,o._skillName=c.skillName,o._afterLevel=c.afterLevel,o._beforeLevel=c.beforeLevel,o._arrowIncrease=c.arrowIncrease,o._beforeLevelX=o._beforeLevel.x,o._beforeLevel.x=o._afterLevel.x,o}return o(t,e),s(t,[{key:"addAfterLevel",value:function(e){this._skillName.style.fill=h.GROWTH,this._beforeLevel.x=this._beforeLevelX,this._afterLevel.show(),this._afterLevel.text=t.getLevelText(e),this._arrowIncrease.show()}},{key:"reset",value:function(){this._skillName.style.fill=h.NORMAL,this._beforeLevel.x=this._afterLevel.x,this._afterLevel.hide(),this._afterLevel.text="",this._arrowIncrease.hide()}},{key:"group",get:function(){return this._group}},{key:"level",get:function(){return this._level}}],[{key:"getLevelText",value:function(e){return p.default.t("common.lv",{level:e})}}]),t}(aoba.Container);t.default=y},function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"skillName",fullName:"skillName",type:"text",text:"\u30c8\u30e9\u30d6\u30eb\u30ac\u30fc\u30c9",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},anchor:{x:0,y:.5},rotation:0,x:15,y:17},{name:"beforeLevel",fullName:"beforeLevel",type:"text",text:"Lv.1",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:362,y:18},{name:"afterLevel",fullName:"afterLevel",type:"text",text:"Lv.2",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:451,y:18},{name:"arrowIncrease",fullName:"arrowIncrease",type:"sprite",key:"arrow_increase.png",x:418,y:10}],name:"",fullName:"",type:"container",x:34,y:241}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"trainingLabelBase",fullName:"trainingLabelBase",type:"sprite",key:"training_label_base.png",x:0,y:0},{name:"dotLine",fullName:"dotLine",type:"container",x:78,y:22},{name:"name",fullName:"name",anchor:{x:.5,y:.5},type:"text",text:"Lv.",style:{fill:16777215,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:40,y:12}],name:"",fullName:"",type:"container",x:139,y:131}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=r(i),o=n(458),s=r(o),l=n(14),u=r(l),c=n(267),f=r(c),d=function(e){var t=a.default.t("training.startConfirm"),n=aoba.Container.new(),r=aoba.Container.new();e.forEach(function(e,t){f.default.new({iconSprite:aoba.Sprite.new(e.iconImagePath).setScale(.65),num:e.selectedNum}).addTo(r,116*t,0,{pivot:aoba.p(.5,0)})});var i=n.fromData(s.default,{items:r});i.comment.style.align="center",i.comment.anchor.set(.5),i.comment.x=n.width/2,i.comment.x-=8*(r.children.length-1),r.x=n.width/2,r.x-=72*(r.children.length-1),n.pivot.set(n.width/2,0);var o=[{type:"close",image:"cancel_button.png"},{type:"submit",image:"training_start_button.png"}];return u.default.new({title:t,buttons:o,container:n})};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(3),s=r(o),l=n(1590),u=r(l),c=n(1591),f=r(c),d=n(0),p=r(d),h=n(496),y=r(h),m=n(7),_=r(m),g=a.default.asset.PARAMETER_ICONS,b=function(e,t,n){var r=aoba.Container.new(),i=n!==t;return r.fromData(f.default,{icon:{key:e},line:{instance:p.default.dotLine.create({type:p.default.dotLine.types.DOT_BLACK,width:198}),dx:1},before:{text:t.toLocaleString(),dy:-2},after:{text:n.toLocaleString(),dy:-2,visible:i},arrowIncrease:{visible:i}}),r},v=function(e,t){var n=aoba.Container.new();return n.fromData(u.default,{levelLabel:(0,y.default)(s.default.t("training.levelLabel")),level:{text:t.level,dy:-2},vocal:b(g.vocal,e.vocalBonus,t.vocalBonus),dance:b(g.dance,e.danceBonus,t.danceBonus),visual:b(g.visual,e.visualBonus,t.visualBonus),mental:b(g.mental,e.mentalBonus,t.mentalBonus)}),n.pivot.set(n.width/2,0),aoba.soundManager.playSE(_.default.ui.popup),p.default.Dialog.new({type:"close",title:s.default.t("training.resultTitle"),container:n})};t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"levelLabel",fullName:"levelLabel",type:"container",x:0,y:0},{name:"level",fullName:"level",anchor:{x:.5,y:0},type:"text",text:"20",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:151,y:1},{name:"vocal",fullName:"vocal",type:"container",x:0,y:47},{name:"dance",fullName:"dance",type:"container",x:237,y:47},{name:"visual",fullName:"visual",type:"container",x:1,y:95},{name:"mental",fullName:"mental",type:"container",x:237,y:95}],name:"",fullName:"",type:"container",x:335,y:249}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"icon",fullName:"icon",type:"sprite",key:null,x:0,y:0},{name:"line",fullName:"line",type:"container",x:28,y:25},{name:"before",fullName:"before",anchor:{x:1,y:0},type:"text",text:"88,888",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:104,y:5},{name:"after",fullName:"after",anchor:{x:1,y:0},type:"text",text:"88,888",style:{fill:16725359,fontFamily:"UDKakugo_SmallPr6-B",fontSize:18},rotation:0,x:224,y:5},{name:"arrowIncrease",fullName:"arrowIncrease",type:"sprite",key:"arrow_increase.png",x:120,y:5}],name:"",fullName:"",type:"container",x:335,y:296}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(12),c=r(u),f=n(21),d=r(f),p=n(139),h=r(p),y=n(474),m=r(y),_=n(82),g=r(_),b=n(138),v=r(b),w=n(1593),k=r(w),S=n(1594),I=r(S),E=n(1595),A=r(E),x=n(243),C=r(x),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.getChildByNameRecursively("commonMenu"),i=r.menuLayer;return n.on("added",function(){v.default.createAndPlay(k.default,n)}),i.off("gasha"),i.once("gasha",function(){g.default.gashaGroups().then(function(e){return d.default.loadSceneAsync("gasha",{request:!1,additive:!0,sceneParams:Object.assign({isTutorial:!0},e)})}).then(function(e){v.default.createAndPlay(A.default,e).then(function(){aoba.sceneManager.popScene()}),e.once("exit",function(){v.default.createAndPlay(I.default,n).then(function(){g.default.finish().then(function(){n.setInteractive(!1),n.interactiveChildren=!1,C.default.tutorialFinish(),c.default.directTo("/home")})})})})}),n}return s(t,e),l(t,[{key:"onEnter",value:function(){this.resume()}}],[{key:"uiResources",get:function(){return[].concat(i(h.default),i(m.default.uiResources),i(v.default.getTrackResources([].concat(i(k.default),i(I.default),i(A.default)))))}}]),t}(m.default);t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"top",windowType:"m"},{command:"playComment",content:"\u3053\u3061\u3089\u306f\u300c\u30db\u30fc\u30e0\u753b\u9762\u300d\u306b\u306a\u308a\u307e\u3059\n\u5168\u3066\u306e\u30b2\u30fc\u30e0\u30b7\u30b9\u30c6\u30e0\u306f\u3053\u3053\u304b\u3089\u30a2\u30af\u30bb\u30b9\u304c\u3067\u304d\u307e\u3059\u3088"},{command:"playComment",content:"\u305d\u308c\u3067\u306f\u2026\u2026\u304a\u5f85\u3061\u304b\u306d\u306e\n\u300c\u904b\u547d\u306e\u51fa\u4f1a\u3044\u30ac\u30b7\u30e3\u300d\u306b\u3054\u6848\u5185\u3057\u307e\u3059\u306d\uff5e",lock:!1},{command:"playVoice",voiceName:"hazuki_general_4"},{command:"showFinger",type:"right",target:"gashaButton",dx:32,dy:48},{command:"waitInput",target:"gashaButton"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showOverlay"},{command:"showMask",imageName:"home2_1",label:"mask1"},{command:"wait",time:1500},{command:"hideMask",label:"mask1"},{command:"showMask",imageName:"mask",label:"mask2"},{command:"showTips",imageName:"022"},{
command:"showComment",positionType:"top",windowType:"m"},{command:"playComment",content:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3067\u80b2\u6210\u3057\u305f\u30a2\u30a4\u30c9\u30eb\u3092\n\u300c\u30d5\u30a7\u30b9\u300d\u3067\u30e9\u30a4\u30d6\u5bfe\u6226\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059"},{command:"playVoice",voiceName:"901_fun"},{command:"wait",time:500},{command:"playComment",content:"\u300c\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u300d\u3067\u30a2\u30a4\u30c9\u30eb\u3092\u80b2\u6210\u3057\u305f\u5f8c\u306b\n\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u306d"},{command:"changeTips",imageName:"023"},{command:"wait",time:2e3},{command:"playComment",content:"\u6700\u5f8c\u306b\u300c\u4ed6\u306e\u30b2\u30fc\u30e0\u30b7\u30b9\u30c6\u30e0\u300d\u306e\u8aac\u660e\u3092\n\u7c21\u5358\u306b\u3057\u307e\u3059\u3088"},{command:"changeTips",imageName:"024"},{command:"wait",time:2e3},{command:"playVoice",voiceName:"hazuki_tutorial_5"},{command:"playComment",windowType:"l",content:"\u3053\u308c\u3067\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306f\u7d42\u308f\u308a\u306b\u306a\u308a\u307e\u3059\n\u6700\u9ad8\u306e\u30a2\u30a4\u30c9\u30eb\u3092\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3059\u308b\u305f\u3081\u306b\n\u3053\u308c\u304b\u3089\u4e00\u7dd2\u306b\u304c\u3093\u3070\u3063\u3066\u3044\u304d\u307e\u3057\u3087\uff5e"},{command:"wait",time:500}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"wait",time:400},{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showTips",imageName:"020"},{command:"showComment",positionType:"top",windowType:"m"},{command:"playComment",content:"\u300c\u904b\u547d\u306e\u51fa\u4f1a\u3044\u30ac\u30b7\u30e3\u300d\u306f\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306e\n\u597d\u304d\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5f15\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059"},{command:"wait",time:500},{command:"playComment",content:"\u305f\u3060\u3057\u3001\uff11\u56de\u3057\u304b\u5f15\u304f\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u306e\u3067\n\u30bf\u30a4\u30df\u30f3\u30b0\u306f\u3088\u304f\u8003\u3048\u307e\u3057\u3087\u3046\u306d\uff5e"},{command:"wait",time:1e3},{command:"changeTips",imageName:"021"},{command:"playComment",windowType:"l",content:"\u4f59\u8ac7\u3067\u3059\u304c\u3001\u300c\u307b\u307c\u5168\u3066\u306e\u30b2\u30fc\u30e0\u753b\u9762\u300d\u306b\n\u300c\uff1f\u30dc\u30bf\u30f3\u300d\u304c\u8a2d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3088\n\u308f\u304b\u3089\u306a\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u3089\u3001\u3053\u3053\u3067\u78ba\u8a8d\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u306d"},{command:"wait",time:2e3}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),f=r(c),d=n(1597),p=r(d),h=n(82),y=r(h),m=n(5),_=r(m),g=n(0),b=r(g),v=n(486),w=r(v),k=n(108),S=r(k),I=n(109),E=r(I),A=n(21),x=r(A),C=n(128),T=r(C),P=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.on("enter",function(){return n._start(e)}),n}return o(t,e),s(t,[{key:"_start",value:function(e){var t=this;if(aoba.soundManager.stopBGM(),e.tutorialProgress>T.default.PROGRESS.OPENING_EVENT_FIRST_HALF)return void this._addProduceReady(e);Promise.resolve().then(function(){return t._startOpening()}).then(function(){return t._showMorningCountdown()}).then(function(){return t._playOpeningEvent(e.produceEvents[0])}).then(function(){return y.default.ready()}).then(function(e){return t._addProduceReady(e)})}},{key:"_startOpening",value:function(){var e=this,t=[f.default.t("tutorial.openingMessage.mes0"),f.default.t("tutorial.openingMessage.mes1"),f.default.t("tutorial.openingMessage.mes2"),f.default.t("tutorial.openingMessage.mes3"),f.default.t("tutorial.openingMessage.mes4"),f.default.t("tutorial.openingMessage.mes5"),f.default.t("tutorial.openingMessage.mes6"),f.default.t("tutorial.openingMessage.mes7"),f.default.t("tutorial.openingMessage.mes8"),f.default.t("tutorial.openingMessage.mes9")],n=b.default.createDialogOverlay(1).addTo(this),r=(u.default.SCREEN_HEIGHT-48*t.length)/2;return t.reduce(function(e,t,i){var a=aoba.Text.new(t,{fill:16777215,fontSize:32,fontFamily:"HummingStd-E"});a.addTo(n,u.default.SCREEN_CENTER.x,r+48*i,{anchor:aoba.p(.5,0),alpha:0}),a.x+=60;return e.then(function(){return aoba.FrameTween.new(a).wait(24).to({x:u.default.SCREEN_CENTER.x,alpha:1},24,"easeOutQuart").promise()})},Promise.resolve()).then(function(){return n.interactive=!0,new Promise(function(t){return e.once("tap",t)})}).then(function(){return aoba.FrameTween.new(n).to({alpha:0},10).call(function(){n.destroy({children:!0})}).promise()}).then(function(){return b.default.TransitionFadeLayer.createWhite({duration:320}).addTo(e).appear()})}},{key:"_showMorningCountdown",value:function(){var e=this;return aoba.soundManager.playBGMAsync(u.default.bgm.produce.morning),new Promise(function(t){return w.default.new(1,8,"start").addTo(e).on("end",t)})}},{key:"_playOpeningEvent",value:function(e){var t=this,n=S.default.new().addTo(this);return Promise.resolve().then(function(){return n.appear()}).then(function(){return E.default.loadJson(e.eventCategory.getDataPath(e.id))}).then(function(e){return E.default.loadResourcesFromTracks(e)}).then(function(e){n.disappear();var r=E.default.createAdvPlayer(e);return r.mainController.hide(),r.addToAt(t,n),E.default.playAdvPlayer(r)})}},{key:"_addProduceReady",value:function(e){x.default.loadSceneAsync("tutorialProduceReady",{additive:!0,request:!1,sceneParams:e})}}],[{key:"request",value:function(){return y.default.resume()}},{key:"uiResources",get:function(){return p.default}}]),t}(_.default);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o=r(a),s=n(68),l=r(s),u=n(139),c=r(u);t.default=[].concat(i(c.default),["images/ui/produce_countdown/parts.json",{name:"effect_countdown_calender.png",url:"images/ui/produce_countdown/effect_countdown_calender.png"},{name:"night_blur.jpg",url:"images/ui/produce_countdown/night_blur.jpg"},{name:"morning_blur.jpg",url:"images/ui/produce_countdown/morning_blur.jpg"},"images/ui/produce_common/parts_header.json",{name:"transition_page_turn_bar.png",url:"images/ui/common/transition_page_turn_bar.png"},"images/ui/produce_event/parts_event.json","images/event/select_frame/001.png","images/event/select_frame/002.png","images/event/select_frame/003.png","images/event/text_frame/001.png","images/event/text_frame/002.png","images/event/text_frame/003.png","images/event/text_frame/004.png","images/event/text_frame/005.png","images/event/text_frame/006.png","images/event/text_frame/007.png"],i((0,l.default)(o.default.produce)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){
for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},c=n(128),f=r(c),d=n(69),p=r(d),h=n(479),y=r(h),m=n(82),_=r(m),g=n(487),b=r(g),v=n(138),w=r(v),k=n(1599),S=r(k),I=n(1600),E=r(I),A=n(1601),x=r(A),C=n(1602),T=r(C),P=n(1603),O=r(P),N=n(1604),M=r(N),R=n(1605),D=r(R),F=n(494),B=r(F),j=n(21),L=r(j),U=n(32),H=r(U),G=n(117),z=r(G),V=n(139),K=r(V),W=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.auditionSceneName="tutorialAudition",n._produceAction=_.default,n._tutorialProgress=e.tutorialProgress,n}return s(t,e),l(t,[{key:"showProduceMain",value:function(){dlog(!1,"showProduceMain_EVENT",this);var e=this,n=w.default.getTrackResources([].concat(i(S.default),i(E.default),i(x.default),i(B.default)));return Promise.all([(0,H.default)(n),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"showProduceMain",this).call(this).then(function(){e._mainLayer.interactiveChildren=!1})]).then(function(){e._mainLayer.interactiveChildren=!0,e._updateTutorialProgressIfNeeded(),e._mainLayer.name="mainLayer",7===e._store.remainSeasonWeek&&e._mainLayer.once("backFromSkillBoard",function(){e._produceAction.updateProgress(),w.default.createAndPlay(x.default,e)}),8===e._store.remainSeasonWeek&&w.default.createAndPlay(S.default,e),7===e._store.remainSeasonWeek&&(e._tutorialProgress>=f.default.PROGRESS.AFTER_SKILL_BOARD?w.default.createAndPlay(x.default,e):w.default.createAndPlay(E.default,e))})}},{key:"createEventPlayer",value:function(e){var t=this;e.eventCategory.hasTimeLimit=!1,e.eventCategory.hasRandomAnswers=!1,e.eventCategoryName=null;var n=z.default.new({event:e,userProduceIdol:this._store.userProduceIdol,produceAction:this._produceAction,onUpdateParameter:this._store.updateParameter.bind(this._store),hideMainController:!0});dlog(!1,"createEventPlayer",e,p.default.EVENT_CATEGORIES,n,this);return e.eventCategory.key===p.default.EVENT_CATEGORIES.COMMUNICATION&&(n.on("appearSelectList",function(e){e.selectList.name="selectList",w.default.createAndPlay(O.default,n);dlog(!1,"createEventPlayer_COMMUNICATIONappearSelectList",e,n)}),n.on("endMemoryLevelUp",function(){n.name="produceEventPlayer",w.default.createAndPlay(M.default,t);dlog(!1,"createEventPlayer_COMMUNICATIONendMemoryLevelUp",n)})),e.eventCategory.key===p.default.EVENT_CATEGORIES.COMMUNICATION_CHEER&&n.on("appearSelectList",function(e){w.default.createAndPlay(D.default,e);dlog(!1,"createEventPlayer_COMMUNICATION_CHEERappearSelectList",e,n)}),n}},{key:"_updateTutorialProgressIfNeeded",value:function(){8===this._store.remainSeasonWeek&&this._tutorialProgress>=f.default.PROGRESS.TOP||7===this._store.remainSeasonWeek&&this._tutorialProgress>=f.default.PROGRESS.SKILL_BOARD||this._produceAction.updateProgress()}},{key:"_handleProduceState",value:function(e){dlog(!1,"_handleProduceState_1",e);e.isAfterConcert?this._endWeek(this._store.eveningEvents):e.tutorialProgress===f.default.PROGRESS.IDOL_RANK?this._onEndWeek(e):this._startWeek(this._store.seasonNum,this._store.remainSeasonWeek,this._store.morningEvents)}},{key:"createIdolRankLayer",value:function(e,t){var n=this;return b.default.new(e,t).on("endRankUp",function(){var e=new w.default(T.default,n);e.start(),e.once("end",function(){_.default.myPage().then(function(e){return L.default.loadSceneAsync("tutorialHome",{request:!1,sceneParams:e})}).then(function(e){e.once("enter",function(){})})})})}}],[{key:"request",value:function(){return _.default.resume()}},{key:"uiResources",get:function(){return[].concat(i(K.default),i(y.default.uiResources),i(w.default.getTrackResources([].concat(i(O.default),i(M.default),i(D.default),i(T.default)))))}}]),t}(y.default);t.default=W},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showMask",imageName:"mask",label:"mask1"},{command:"showOverlay"},{command:"showComment",positionType:"top",windowType:"s"},{command:"playComment",content:"\u6b21\u306f\u300c\u30ec\u30c3\u30b9\u30f3\u3068\u304a\u4ed5\u4e8b\u300d\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u306d\u301c",lock:!1},{command:"wait",time:500},{command:"showFinger",type:"left",target:"produceButton",dx:240,dy:150},{command:"waitInput",target:"produceButton"},{command:"playComment",windowType:"l",content:"\u300c\u30ec\u30c3\u30b9\u30f3\u300d\u3068\u300c\u304a\u4ed5\u4e8b\u300d\u3067\u306f\n\u30a2\u30a4\u30c9\u30eb\u3092\u69d8\u3005\u306a\u65b9\u6cd5\u3067\u6210\u9577\u3055\u305b\u308b\u3053\u3068\u304c\n\u3067\u304d\u308b\u3093\u3067\u3059\u3088\uff5e"},{command:"wait",time:500},{command:"hideMask",label:"mask1"},{command:"changeOverlay",x:0,y:85,width:234,height:148},{command:"showMask",imageName:"produce1_1",label:"mask2"},{command:"wait",time:1500},{command:"hideMask",label:"mask2"},{command:"showMask",imageName:"mask",label:"mask3"},{command:"showTips",imageName:"003"},{command:"wait",time:2e3},{command:"playComment",content:"\u307e\u305a\u3001\u30ec\u30c3\u30b9\u30f3\u306e\u7a2e\u985e\u306f\uff13\u3064\u3042\u308a\u307e\u3059\n\u3053\u3061\u3089\u3067\u306f\u305d\u308c\u305e\u308c\u300cVocal\u300d\u300cDance\u300d\u300cVisual\u300d\u306e\n\u57fa\u790e\u80fd\u529b\u3092\u4f38\u3070\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059"},{command:"hideTips"},{command:"hideMask",label:"mask3"},{command:"changeOverlay",x:0,y:234,width:215,height:148},{command:"showMask",imageName:"produce1_2",label:"mask4"},{command:"trigger",target:"workTab",event:"touchstart"},{command:"wait",time:1500},{command:"hideMask",label:"mask4"},{command:"showMask",imageName:"mask",label:"mask5"},{command:"showTips",imageName:"004"},{command:"wait",time:1500},{command:"playComment",windowType:"l",content:"\u304a\u4ed5\u4e8b\u306e\u7a2e\u985e\u3082\uff13\u3064\u3042\u308b\u3093\u3067\u3059\u3088\n\u305d\u308c\u305e\u308c\u300c\u30e1\u30f3\u30bf\u30eb\u300d\u300cSP\u300d\u300c\u30d5\u30a1\u30f3\u300d\u3092\n\u5897\u3084\u3059\u3053\u3068\u304c\u53ef\u80fd\u306a\u3093\u3067\u3059"},{command:"hideTips"},{command:"hideMask",label:"mask5"},{command:"changeOverlay",x:0,y:0,width:1136,height:640},{command:"showMask",imageName:"produce1_3",label:"mask6"},{command:"playVoice",voiceName:"hazuki_tutorial_1"},{command:"playComment",windowType:"l_bottom",positionType:"middle_hazuki",content:"\u30ec\u30c3\u30b9\u30f3\u3001\u304a\u4ed5\u4e8b\u306b\u306f\u305d\u308c\u305e\u308c\n\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u306e\u7686\u3055\u3093\u304c\u3044\u307e\u3059\n\u662f\u975e\u3001\u4e00\u7dd2\u306b\u884c\u52d5\u3057\u3066\u7d46\u3092\u6df1\u3081\u3066\u3044\u3063\u3066\u304f\u3060\u3055\u3044\u306d\uff5e"},{command:"hideMask",label:"mask6"},{command:"showMask",imageName:"mask",label:"mask7"},{command:"changeOverlay",x:670,y:230,width:124,height:200},{command:"hideMask",label:"mask7"},{command:"showMask",imageName:"produce1_4",label:"mask8"},{
command:"playVoice",voiceName:"901_occur"},{command:"playComment",content:"\u3042\u3001\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u3001\n\u79c1\u304c\u3044\u308b\u3053\u3068\u304c\u6c17\u306b\u306a\u308a\u307e\u3057\u305f\uff1f\n\u3075\u3075\u3002\u79c1\u306f\u304a\u624b\u4f1d\u3044\u3092\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3088\n"},{command:"playComment",content:"\u306a\u306e\u3067\u30b5\u30dd\u30fc\u30c8\u30a2\u30a4\u30c9\u30eb\u306e\u307f\u306a\u3055\u3093\u306e\u3088\u3046\u306b\n\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306e\u62c5\u5f53\u30a2\u30a4\u30c9\u30eb\u3092\u6210\u9577\u3055\u305b\u308b\u3053\u3068\u306f\n\u3067\u304d\u307e\u305b\u3093\u306e\u3067\u6c17\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u306d\uff5e"},{command:"hideMask",label:"mask8"},{command:"showMask",imageName:"mask",label:"mask9"},{command:"changeOverlay"},{command:"hideComment"},{command:"showTips",imageName:"005",lock:!0},{command:"wait",time:2e3},{command:"changeTips",imageName:"006",lock:!0},{command:"wait",time:2e3},{command:"hideTips"},{command:"hideMask",label:"mask9"},{command:"showMask",imageName:"produce1_5",label:"mask10"},{command:"showComment",windowType:"m",positionType:"bottom"},{command:"playVoice",voiceName:"hazuki_tutorial_5"},{command:"playComment",content:"\u305d\u308c\u3067\u306f\u2026\u2026\u4eca\u56de\u306f\n\u30dc\u30fc\u30ab\u30eb\u30ec\u30c3\u30b9\u30f3\u306b\u6311\u6226\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff5e"},{command:"hideComment"},{command:"trigger",target:"lessonTab",event:"touchstart"},{command:"wait",time:200},{command:"changeOverlay"},{command:"showFinger",type:"right",target:"decisionButton",dx:-32,dy:-20},{command:"waitInput",target:"decisionButton"},{command:"hideOverlay"},{command:"hideMask",label:"mask10"},{command:"hideComment"},{command:"wait",time:3e3},{command:"pause",target:"mainLayer"},{command:"showMask",imageName:"produce1_6",label:"mask11"},{command:"showOverlay",x:842,y:9,width:284,height:59},{command:"showComment",windowType:"l",positionType:"top_left"},{command:"playComment",content:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u3001\u30a2\u30a4\u30c9\u30eb\u306e\u4f53\u529b\u304c\u6e1b\u3063\u3066\u3044\u308b\u4e8b\u306b\u6c17\u4ed8\u304d\u307e\u3057\u305f\u304b\uff1f"},{command:"playVoice",voiceName:"hazuki_tutorial_2"},{command:"showTips",imageName:"007"},{command:"wait",time:1500},{command:"playComment",content:"\u30a2\u30a4\u30c9\u30eb\u306b\u7121\u7406\u3092\u3055\u305b\u3059\u304e\u308b\u3068\u300c\u30c8\u30e9\u30d6\u30eb\u300d\u304c\u767a\u751f\u3057\u3066\n\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u307e\u3081\u306b\u4f11\u307e\u305b\u3066\u3042\u3052\u307e\u3057\u3087\u3046\u306d\n\u4f53\u8abf\u7ba1\u7406\u3082\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306e\u5927\u4e8b\u306a\u304a\u4ed5\u4e8b\u3067\u3059\u3088\uff5e"},{command:"hideTips"},{command:"hideMask",label:"mask11"},{command:"hideOverlay"},{command:"hideComment"},{command:"resume",target:"mainLayer"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showMask",imageName:"mask",label:"mask1"},{command:"showOverlay"},{command:"showComment",positionType:"top",windowType:"l"},{command:"showTips",imageName:"010"},{command:"playComment",content:"\u4e8b\u52d9\u6240\u3067\u306f\u30a2\u30a4\u30c9\u30eb\u3068\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3093\u3067\u3059\u3088"},{command:"wait",time:1500},{command:"playComment",content:"\u305f\u3060\u3001\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306a\u3089\u304a\u5206\u304b\u308a\u304b\u3068\u601d\u3044\u307e\u3059\u304c\n\u300c\u7bc0\u5ea6\u306e\u3042\u308b\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u300d\u3092\n\u5fc3\u639b\u3051\u3066\u304f\u3060\u3055\u3044\u306d\uff5e"},{command:"wait",time:500},{command:"hideTips"},{command:"playComment",windowType:"s",content:"\u6b21\u306f\u632f\u308a\u8fd4\u308a\u306e\u8aac\u660e\u3092\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059",lock:!1},{command:"showFinger",type:"right",target:"reflectionButton",dx:-30,dy:-30},{command:"waitInput",target:"reflectionButton"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showMask",imageName:"mask",label:"mask1"},{command:"showOverlay"},{command:"showComment",positionType:"top",windowType:"s"},{command:"playComment",content:"\u3055\u3041\u3001\u6b21\u306f\u30aa\u30fc\u30c7\u30a3\u30b7\u30e7\u30f3\u306e\u8aac\u660e\u3067\u3059\u3088\uff5e",lock:!1},{command:"showFinger",type:"left",target:"produceButton",dx:240,dy:150},{command:"waitInput",target:"produceButton"},{command:"hideComment"},{command:"hideMask",label:"mask1"},{command:"changeOverlay",x:0,y:384,width:229,height:147},{command:"showMask",imageName:"produce3_1",label:"mask2"},{command:"showFinger",type:"left",target:"auditionTab",dx:200,dy:50},{command:"waitInput",target:"auditionTab"},{command:"hideComment"},{command:"hideMask",label:"mask2"},{command:"changeOverlay",x:0,y:0,width:1136,height:640},{command:"wait",time:1500},{command:"showMask",imageName:"mask",label:"mask3"},{command:"showComment",windowType:"l"},{command:"showTips",imageName:"012"},{command:"playComment",content:"\u30aa\u30fc\u30c7\u30a3\u30b7\u30e7\u30f3\u3067\u306f\u3001\n\u4e00\u6c17\u306b\u305f\u304f\u3055\u3093\u306e\u30d5\u30a1\u30f3\u3092\u7372\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3093\u3067\u3059\n\u679c\u6562\u306b\u6311\u6226\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u306d"},{command:"wait",time:2e3},{command:"hideTips"},{command:"hideMask",label:"mask3"},{command:"showMask",imageName:"produce3_2",label:"mask4"},{command:"changeOverlay",x:638,y:92,width:408,height:56},{command:"playVoice",voiceName:"hazuki_tutorial_3"},{command:"playComment",positionType:"middle",windowType:"l",content:"\u80b2\u3066\u3066\u3044\u308b\u30a2\u30a4\u30c9\u30eb\u306e\u300c\u5f97\u610f\u30b8\u30e3\u30f3\u30eb\u300d\u3068\n\u300c\u6d41\u884c\uff11\u4f4d\u306e\u30b8\u30e3\u30f3\u30eb\u300d\u304c\u540c\u3058\u6642\u306b\u6311\u6226\u3059\u308b\u3053\u3068\u304c\n\u30aa\u30fc\u30c7\u30a3\u30b7\u30e7\u30f3\u6210\u529f\u306e\u30b3\u30c4\u3067\u3059\u3088\uff5e"},{command:"wait",time:1e3},{command:"hideMask",label:"mask4"},{command:"showMask",imageName:"mask",label:"mask5"},{command:"changeOverlay"},{command:"playComment",positionType:"top",windowType:"m",content:"\u305d\u308c\u3067\u306f\u3001\u4eca\u56de\u306f\u4e00\u756a\u96e3\u6613\u5ea6\u306e\u4f4e\u3044\u30aa\u30fc\u30c7\u30a3\u30b7\u30e7\u30f3\u306b\n\u6311\u6226\u3092\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff5e",lock:!1},{command:"showFinger",type:"right",target:"decisionButton",dx:-32,dy:-20},{command:"waitInput",target:"decisionButton"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showOverlay",x:0,y:0,width:1136,height:640},{command:"showComment",positionType:"top",windowType:"l"},{command:"playVoice",voiceName:"hazuki_general_1"},{command:"playComment",content:"\u30a2\u30a4\u30c9\u30eb\u30e9\u30f3\u30af\u30a2\u30c3\u30d7\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\n\u5404\u30b7\u30fc\u30ba\u30f3\u5185\u306b\u3042\u308b\u300c\u76ee\u6a19\u30e9\u30f3\u30af\u300d\u3092\u5fc5\u305a\u9054\u6210\u3057\u307e\u3057\u3087\u3046\u306d"},{command:"wait",time:500},{command:"changeOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"playComment",content:"\u305d\u308c\u3067\u306f\u300c\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u8b1b\u5ea7\u300d\u306f\u3053\u3053\u3067\u4e00\u65e6\u7d42\u4e86\u3057\u307e\u3059\n\u672c\u756a\u3082\u6c17\u5408\u3092\u5165\u308c\u3066\u81e8\u307f\u307e\u3057\u3087\u3046\u306d"},{command:"playVoice",voiceName:"hazuki_tutorial_5"},{command:"wait",time:500},{command:"playComment",
content:"\u3055\u3041\u3001\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306f\u3082\u3046\u5c11\u3057\u3067\u3059\u3088\uff5e\n\u305d\u308d\u305d\u308d\u304a\u663c\u5bdd\u304c\u604b\u3057\u304f\u306a\u3063\u3066\u304d\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\n\u3042\u3068\u3061\u3087\u3063\u3068\u304c\u3093\u3070\u308a\u307e\u3057\u3087\uff5e"},{command:"wait",time:500}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showMask",imageName:"mask",label:"mask1"},{command:"showOverlay"},{command:"showComment",positionType:"bottom",windowType:"s"},{command:"playComment",content:"\u307e\u308c\u306b\u3001\u671d\u3001\u30a2\u30a4\u30c9\u30eb\u304b\u3089\u76f8\u8ac7\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3088"},{command:"playVoice",voiceName:"hazuki_tutorial_3"},{command:"playComment",windowType:"l",content:"\u30a2\u30a4\u30c9\u30eb\u306e\u5fc3\u60c5\u3092\u6c72\u307f\u53d6\u3063\u3066\n\u9069\u5207\u306a\u8fd4\u7b54\u3092\u300c\u7d20\u65e9\u304f\u7b54\u3048\u308b\u300d\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u306e\u3067\n\u65e5\u9803\u304b\u3089\u30a2\u30a4\u30c9\u30eb\u306e\u3053\u3068\u3092\u3088\u304f\u898b\u3066\u3066\u3042\u3052\u307e\u3057\u3087\u3046\uff5e"},{command:"playComment",windowType:"s",content:"\u4eca\u56de\u306f\u79c1\u304c\u9069\u5207\u306a\u8fd4\u7b54\u3092\u6559\u3048\u3066\u3042\u3052\u307e\u3059\u306d\uff5e",lock:!1},{command:"changeOverlay",x:370,y:8,width:384,height:212},{command:"hideMask",label:"mask1"},{command:"showMask",imageName:"communication1_1",label:"mask2"},{command:"showFinger",type:"right",x:568,y:152},{command:"waitEvent",target:"selectList",event:"select"},{command:"hideMask",label:"mask2"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"pause",target:"produceEventPlayer"},{command:"showOverlay"},{command:"showTips",imageName:"008"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"top",windowType:"l"},{command:"playVoice",voiceName:"hazuki_general_1"},{command:"playComment",content:"\u9069\u5207\u306a\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u53d6\u308b\u3068\n\u300c\u30a2\u30a4\u30c9\u30eb\u306e\u30c6\u30f3\u30b7\u30e7\u30f3\u300d\u304c\u4e0a\u6607\u3057\n\u300c\u89aa\u611b\u5ea6\u300d\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3088\uff5e"},{command:"wait",time:2e3},{command:"changeTips",imageName:"009"},{command:"playComment",content:"\u3055\u3089\u306b\u3001\u30a2\u30a4\u30c9\u30eb\u3068\u306e\u4fe1\u983c\u95a2\u4fc2\u3092\u7bc9\u3044\u3066\u3044\u304f\u3068\n\u300c\u601d\u3044\u51fa\u30a2\u30d4\u30fc\u30eb\u300d\u306e\u30ec\u30d9\u30eb\u304c\u4e0a\u304c\u308a\u307e\u3059"},{command:"wait",time:2e3},{command:"resume",target:"produceEventPlayer"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"top",windowType:"l"},{command:"playComment",content:"\u3042\u3001\u30a2\u30a4\u30c9\u30eb\u304c\u7dca\u5f35\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u306d\n\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u3001\n\u4f55\u304b\u6fc0\u52b1\u306e\u8a00\u8449\u3092\u304b\u3051\u3066\u3042\u3052\u3066\u304f\u3060\u3055\u3044"},{command:"wait",time:1e3},{command:"playComment",content:"\u30aa\u30fc\u30c7\u30a3\u30b7\u30e7\u30f3\u306e\u76f4\u524d\u306f\u30a2\u30a4\u30c9\u30eb\u306e\n\u7dca\u5f35\u3092\u307b\u3050\u3057\u3066\u3042\u3052\u308b\u306e\u3082\u3001\n\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306e\u5927\u5207\u306a\u5f79\u76ee\u3067\u3059\u3088\uff5e"},{command:"wait",time:1e3}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(260),c=r(u),f=n(82),d=r(f),p=n(138),h=r(p),y=n(1607),m=r(y),_=n(21),g=r(_),b=n(26),v=r(b),w=n(139),k=r(w),S=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"onEnter",value:function(){var e=this;h.default.createAndPlay(m.default,this);var t=this.getChildByNameRecursively("decisionButton");t.off("tap"),t.once("tap",function(){aoba.soundManager.playSE(v.default.ready.start),e.startProduce()})}},{key:"back",value:function(){}},{key:"startProduce",value:function(){d.default.next().then(function(e){g.default.loadSceneAsync("tutorialProduce",{request:!1,sceneParams:e})})}},{key:"isProduceEnabled",get:function(){return!0}}],[{key:"uiResources",get:function(){return[].concat(i(k.default),i(c.default.uiResources),i(h.default.getTrackResources(m.default)))}}]),t}(c.default);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"wait",time:600},{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"top",windowType:"l"},{command:"playComment",content:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\n\u4eca\u56de\u306f\u521d\u3081\u3066\u306e\u30a2\u30a4\u30c9\u30eb\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u306b\u306a\u308a\u307e\u3059\u306e\u3067\n\u79c1\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u306d\u301c"},{command:"wait",time:500},{command:"playComment",content:"\u3053\u3053\u3067\u8aac\u660e\u3059\u308b\u3053\u3068\u306f\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u306e\u4e0a\u3067\n\u3068\u3066\u3082\u5927\u4e8b\u306a\u3053\u3068\u306a\u306e\u3067\u304a\u663c\u5bdd\u305b\u305a\u306b\u805e\u3044\u3066\u3082\u3089\u3048\u308b\u3068\n\u5b09\u3057\u3044\u3067\u3059\uff5e\n"},{command:"playVoice",voiceName:"hazuki_tutorial_5"},{command:"wait",time:500},{command:"playComment",content:"\u305d\u308c\u3067\u306f\u300c\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u8b1b\u5ea7\u300d\u30b9\u30bf\u30fc\u30c8\u3067\u3059"},{command:"hideMask",label:"mask1"},{command:"changeOverlay",x:0,y:170,width:372,height:470},{command:"showMask",imageName:"produceReady_1",label:"mask2"},{command:"playComment",content:"\u307e\u305a\u6700\u521d\u306e\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3067\u306f\n\u300c\u6afb\u6728\u771f\u4e43\u300d\u3055\u3093\u3092\u62c5\u5f53\u3057\u3066\u3082\u3089\u3044\u307e\u3059\u266a"},{command:"hideMask",label:"mask2"},{command:"changeOverlay",x:0,y:170,width:1136,height:470},{command:"showMask",imageName:"produceReady_2",label:"mask3"},{command:"playComment",content:"\u305d\u3057\u3066\u300c\u6afb\u6728\u771f\u4e43\u300d\u3055\u3093\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304f\u308c\u308b\n\u30a2\u30a4\u30c9\u30eb5\u4eba\u306e\u307f\u306a\u3055\u3093\u3082\u3001\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u306b\u53c2\u52a0\u3057\u307e\u3059\u3088\n\u307f\u3093\u306a\u3067\u304c\u3093\u3070\u3063\u3066\u3044\u304d\u307e\u3057\u3087\uff5e"},{command:"wait",time:500},{command:"playComment",
content:"\u3042\u3001\u3082\u3061\u308d\u3093\u3001\u4eca\u56de\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304f\u308c\u308b\u5b50\u305f\u3061\u3092\u542b\u3081\n16\u4eba\u5168\u54e1\u3092\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3067\u304d\u307e\u3059\u306e\u3067\n\u5b89\u5fc3\u3057\u3066\u304f\u3060\u3055\u3044\u306d"},{command:"hideMask",label:"mask3"},{command:"showMask",imageName:"mask",label:"mask4"},{command:"showTips",imageName:"001"},{command:"playComment",content:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306e\u624b\u8155\u3068\u30a2\u30a4\u30c9\u30eb\u305f\u3061\u306e\u529b\u3067\n\u6700\u9ad8\u306e\u30a2\u30a4\u30c9\u30eb\u3092\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046"},{command:"wait",time:2e3},{command:"hideTips"},{command:"playComment",content:"\u3042\u30fc\u3001\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\n\u5148\u306b\u5927\u5207\u306a\u3053\u3068\u3092\u304a\u77e5\u3089\u305b\u3057\u3066\u304a\u304d\u307e\u3059"},{command:"playVoice",voiceName:"hazuki_tutorial_3"},{command:"wait",time:500},{command:"playComment",content:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u306e\u305f\u3081\u306b\u3001\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u7d42\u4e86\u5f8c\u306b\u306f\n\u300c\u904b\u547d\u306e\u51fa\u4f1a\u3044\u30ac\u30b7\u30e3\u300d\u3092\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u306e\u3067\n\u79c1\u306e\u8aac\u660e\u3092\u304d\u3061\u3093\u3068\u6700\u5f8c\u307e\u3067\u805e\u3044\u3066\u304f\u3060\u3055\u3044\u306d\uff5e"},{command:"showTips",imageName:"002"},{command:"playVoice",voiceName:"901_joy"},{command:"playComment",content:"\u3053\u3061\u3089\u306e\u8aac\u660e\u306f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u6700\u5f8c\u306b\u3057\u307e\u3059\u306e\u3067\n\u697d\u3057\u307f\u306b\u3057\u3066\u3044\u3066\u304f\u3060\u3055\u3044\u306d\uff5e\u3002\u3075\u3075"},{command:"wait",time:2e3},{command:"hideTips"},{command:"playVoice",voiceName:"901_fun"},{command:"playComment",windowType:"s",content:"\u3055\u3041\u3001\u305d\u308c\u3067\u306f\u30a2\u30a4\u30c9\u30eb\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u3092\u59cb\u3081\u307e\u3057\u3087\u3046",lock:!1},{command:"showFinger",type:"right",target:"decisionButton",dx:-32,dy:-20},{command:"waitInput",target:"decisionButton"}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),u=r(l),c=n(421),f=r(c),d="/assets/movies/test.mp4",p=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.playByFromVideoUrlWithMute(d),e}return o(t,e),s(t,null,[{key:"uiResources",get:function(){return[]}}]),s(t,[{key:"playByFromVideoUrlWithMute",value:function(e){var t=f.default.new(e).addTo(this);t.scale.set(.6),t.interactive=!0,this._addMutedSpriteListener(t),window.muteSprite=t;var n=!1;t.on("tap",function(){if(n)return t.resume(),void(n=!1);t.pause(),n=!0}),t.once("end",function(){t.destroy()})}},{key:"_addMutedSpriteListener",value:function(e){e.video.addEventListener("canplay",function(){}),e.video.addEventListener("progress",function(){}),e.video.addEventListener("suspend",function(){}),e.video.addEventListener("stalled",function(){}),e.video.addEventListener("loadeddata",function(){}),e.video.addEventListener("canplaythrough",function(){}),e.video.addEventListener("loadstart",function(){}),e.video.addEventListener("abort",function(){}),e.video.addEventListener("emptied",function(){}),e.video.addEventListener("play",function(){});var t=0;e.video.addEventListener("waiting",function(){t=Date.now()}),e.video.addEventListener("error",function(e){Date.now()})}}]),t}(u.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),u=r(l),c=n(1610),f=r(c),d=n(1611),p=r(d),h=n(1613),y=r(h),m=n(12),_=r(m),g=n(3),b=r(g),v=n(0),w=r(v),k=n(1614),S=r(k),I=n(39),E=r(I),A=n(1616),x=r(A),C=n(99),T=r(C),P=function(e){function t(e){i(this,t);var n=e.invitationCampaign,r=e.invitedCount,o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o.fromData(y.default,{bg:w.default.MovingBg.new()}),o.addHeader(b.default.t("header.invitation")),o.addBackButton(function(){_.default.directTo("/home")});var s=p.default.new(e).addTo(o);S.default.new({invitationCampaign:n}).addTo(o);var l=T.default.new(!1).addTo(o),u=x.default.new().addTo(o).hide();return s.btnReceive.on("tap",function(){s.btnReceive.interactive=!1,E.default.invitation.receive(n.id).then(function(e){l.showSpotLight(),u.setReceivedContentsText(e.receivedContents),u.show(),s.updateCount(e.invitedCount,r)})}),u.btnOK.on("tap",function(){u.hide(),l.hideSpotLight()}),o}return o(t,e),s(t,null,[{key:"getContentResources",value:function(e){var t=e.invitationCampaign;return[t.getMainImagePath(),t.getDetailImagePath()]}},{key:"request",value:function(e){return e.id?E.default.invitation.get(e.id):(window.location.href="/home",new Promise(function(e,t){}))}},{key:"uiResources",get:function(){return f.default}}]),t}(u.default);t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["images/ui/invitation/parts.json"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(1612),f=r(c),d=n(0),p=r(d),h=n(66),y=r(h),m=function(e){function t(e){
var n=e.invitedCount,r=void 0===n?"-":n,o=e.invitationURL,s=void 0===o?"-":o,l=e.receivedCount,c=void 0===l?"-":l;i(this,t);var d=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));d._originInvitationURL=s;var h=d.fromData(f.default,{invitationNumber:{text:u.default.t("common.people",{num:r})},invitationUrl:{text:s.split("?")[0]+"..."},btnUrlCopy:p.default.SelectButton.new("btn_url_copy.png"),btnReceive:p.default.DecideButton.new("btn_receive.png")});return d._btnReceive=h.btnReceive,d._invitedCount=r,d._receivedCount=c,d._updateReceiveBtn(),h.btnUrlCopy.on("tap",function(){d._copyURL()}),d}return o(t,e),s(t,[{key:"updateCount",value:function(e,t){this._invitedCount=e,this._receivedCount=t,this._updateReceiveBtn()}},{key:"_updateReceiveBtn",value:function(){if(this._invitedCount>this._receivedCount)return this._btnReceive.tint=16777215,void(this._btnReceive.interactive=!0);this._btnReceive.interactive=!1,this._btnReceive.tint=11184810}},{key:"_copyURL",value:function(){var e=this;if(y.default.isSafari()){var t=document.createElement("p");t.setAttribute("class","copyTarget"),t.setAttribute("style","{ display: false; }"),t.innerText=this._originInvitationURL,document.body.appendChild(t);var n=document.createRange();n.selectNode(t);var r=window.getSelection();r.addRange(n),document.execCommand("copy"),document.body.removeChild(t),r.removeAllRanges()}else{var i=function t(n){n.clipboardData.setData("text/plain",e._originInvitationURL),document.removeEventListener("copy",t),n.preventDefault()};document.addEventListener("copy",i),document.execCommand("copy")}}},{key:"btnReceive",get:function(){return this._btnReceive}}]),t}(aoba.Container);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"titleInviteUrl",fullName:"titleInviteUrl",type:"sprite",key:"title_invite_url.png",x:0,y:0},{name:"invitationNumber",fullName:"invitationNumber",anchor:{x:1,y:.5},type:"text",text:"888,888,888\u4eba",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:20},rotation:0,x:812,y:60},{name:"btnReceive",fullName:"btnReceive",anchor:{x:.5,y:.5},type:"sprite",key:"btn_receive.png",x:909,y:45},{name:"invitationUrl",fullName:"invitationUrl",anchor:{x:0,y:.5},type:"text",text:"\u3000\u3000https://\u30fb\u30fb\u30fb\u30fb\u30fb",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:28,y:62},{name:"btnUrlCopy",fullName:"btnUrlCopy",anchor:{x:.5,y:.5},type:"sprite",key:"btn_url_copy.png",x:450,y:60}],name:"",fullName:"",type:"container",x:115,y:533}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"bg",fullName:"bg",type:"sprite",key:"bg.png",x:0,y:0},{name:"mainReward",fullName:"mainReward",type:"container",x:115,y:71},{name:"invite",fullName:"invite",type:"container",x:115,y:533},{name:"popReceiveAll",fullName:"popReceiveAll",type:"container",x:307,y:118}],name:"",fullName:"",type:"container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1615),l=r(s),u=n(0),c=r(u),f=n(24),d=r(f),p=n(22),h=r(p),y=n(116),m=r(y),_=function(e){function t(e){var n=e.invitationCampaign;i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.fromData(l.default,{mainReward:{key:n.getMainImagePath()},detailReward:{key:n.getDetailImagePath()},btnIdolInfo:c.default.DecideButton.new("btn_idol_info.png"),itemListBtnScroll:{visible:!1},scrollBase:{visible:!1}}),s=o.detailReward,u=o.invitationBase,f=d.default.new({width:18}),p=m.default.new({width:8,height:o.mainReward.height});return o.btnIdolInfo.hide(),h.default.new({maskX:s.x,width:u.width,height:o.mainReward.height+10,container:s,scrollBar:f,scrollBarBase:p}).addTo(r,1,6),r._scrollBarBase=p.addTo(r,u.width-25,15),r}return o(t,e),t}(aoba.Container);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{name:"invitationBase",fullName:"invitationBase",type:"sprite",key:"invitation_base.png",x:0,y:0},{name:"mainReward",fullName:"mainReward",type:"sprite",key:"main_reward.png",x:11,y:13},{name:"btnIdolInfo",fullName:"btnIdolInfo",anchor:{x:.5,y:.5},type:"sprite",key:"btn_idol_info.png",x:76,y:253},{name:"detailReward",fullName:"detailReward",type:"sprite",key:"detail_reward.png",x:464,y:6}],name:"",fullName:"",type:"container",x:115,y:71}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(1617),f=r(c),d=n(0),p=r(d),h=n(116),y=r(h),m=n(24),_=r(m),g=n(22),b=r(g),v=function(e){var t=e.contentType,n=e.content;return"jewel"===t?u.default.t(t):"money"===t?u.default.t(t):n.name},w=function(e){return 1!==e?u.default.t("invitation.receivedMessage.multipleNum",{num:e}):u.default.t("invitation.receivedMessage.singularNum")},k=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.fromData(f.default,{btnOK:p.default.DecideButton.new("ok_button.png")});e._receivedContents=n.contentListName,e._btnOK=n.btnOK;var r=n.receiveContentBase,o=r.height-12,s=_.default.new({width:12}),l=y.default.new({width:6,height:o});return b.default.new({width:r.width,height:r.height-5,container:e._receivedContents,scrollBar:s,scrollBarBase:l}).addTo(e,27,r.y+5),e._scrollBarBase=l.addTo(e,r.width+10,r.y+5),e}return o(t,e),s(t,[{key:"setReceivedContentsText",value:function(e){var t=e.map(function(e){return u.default.t("invitation.receivedMessage.message",{typeText:v(e),numText:w(e.num)})});this._receivedContents.text=t.join("\r")}},{key:"btnOK",get:function(){return this._btnOK}}]),t}(aoba.Container);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={children:[{children:[{name:"base",fullName:"base/base",type:"sprite",key:"base.png",x:0,y:0},{name:"title",fullName:"base/title",type:"sprite",key:"title.png",x:16,y:24}],name:"base",fullName:"base",type:"container",x:0,y:0},{name:"receiveTxt",fullName:"receiveTxt",type:"text",text:"\u4e0b\u8a18\u30a2\u30a4\u30c6\u30e0\u304c\u30d7\u30ec\u30bc\u30f3\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u9001\u3089\u308c\u307e\u3057\u305f\u3002",style:{fill:6378341,fontFamily:"HummingStd-E",fontSize:20},anchor:{x:0,y:.5},rotation:0,x:29,y:97},{name:"receiveContentBase",fullName:"receiveContentBase",type:"sprite",key:"receive_content_base.png",x:30,y:129},{name:"contentListName",fullName:"contentListName",anchor:{x:.5,y:0},type:"text",
text:"\u30fb\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb\xd7300\r\u30fb\u30ea\u30ab\u30d0\u30ea\u30fc\u30bd\u30fc\u30c01/2\r\u30fbSR\u6afb\u6728 \u771f\u4e43 \r\u30fb\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb\xd7300\r\u30fb\u30ea\u30ab\u30d0\u30ea\u30fc\u30bd\u30fc\u30c01/2\r\u30fbSR\u6afb\u6728 \u771f\u4e43 \r\u30fb\u30d5\u30a7\u30b6\u30fc\u30b8\u30e5\u30a8\u30eb\xd7300",style:{fill:6378341,fontFamily:"UDKakugo_SmallPr6-B",fontSize:16},rotation:0,x:252,y:141},{name:"btnOK",fullName:"btnOK",anchor:{x:.5,y:.5},type:"sprite",key:"btn_OK.png",x:261,y:349}],name:"",fullName:"",type:"container",x:307,y:118}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(135),c=r(u),f=n(82),d=r(f),p=n(138),h=r(p),y=n(1619),m=r(y),_=n(1620),g=r(_),b=n(1621),v=r(b),w=n(1622),k=r(w),S=n(1623),I=r(S),E=n(1624),A=r(E),x=n(1625),C=r(x),T=n(1626),P=r(T),O=n(83),N=r(O),M=n(136),R=r(M),D=n(139),F=r(D),B=[v.default,k.default,I.default,A.default],j=4,L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._produceAction=d.default;var r=N.default.createAudition(e.produceAudition.difficulty),i=n.createConcertGame(Object.assign(e,{isTutorial:!0}),R.default.tutorialAudition,r);return i.pauseButton.hide(),i.speedButton.hide(),n._auditionId=e.produceAudition.id,i.name="concertGame",i.once("startConcert",function(){h.default.createAndPlay(m.default,n)}),i.on("setUpTurn",function(e){var t=B[e-1];t&&h.default.createAndPlay(t,n)}),i.once("showAppealStartText",function(){h.default.createAndPlay(g.default,n)}),i.once("endLinkSkill",function(){h.default.createAndPlay(C.default,n)}),i.on("endAppealPhase",function(e){e===j&&h.default.createAndPlay(P.default,n)}),n}return s(t,e),l(t,[{key:"_requestFinishConcert",value:function(e){return this._produceAction.auditionFinish({score:e.score,produceConcertRivals:e.rivals})}}],[{key:"getContentResources",value:function(e){return[].concat(i(c.default.getContentResources(e)),[N.default.IMAGES.AUDITION(e.produceAudition.difficulty).bg])}},{key:"request",value:function(){return d.default.resume()}},{key:"uiResources",get:function(){return[].concat(i(F.default),i(c.default.uiResources),i(h.default.getTrackResources([].concat(i(m.default),i(g.default),i(v.default),i(k.default),i(I.default),i(A.default),i(C.default),i(P.default)))))}}]),t}(c.default);t.default=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"pause",target:"concertGame"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showOverlay"},{command:"showComment",positionType:"top",windowType:"l"},{command:"showTips",imageName:"013"},{command:"playComment",content:"\u30aa\u30fc\u30c7\u30a3\u30b7\u30e7\u30f3\u306f\u3001\u4ed6\u306e\u30e9\u30a4\u30d0\u30eb\u30e6\u30cb\u30c3\u30c8\u3068\u4e00\u7dd2\u306b\n\u53c2\u52a0\u3092\u3057\u307e\u3059\u3002\u300c\u5be9\u67fb\u54e1\u300d\u3092\u4e00\u756a\u591a\u304f\u6e80\u8db3\u3055\u305b\u3066\n\u300c\u30b9\u30bf\u30fc\u3092\u7372\u5f97\u300d\u3057\u3001\uff11\u4f4d\u3092\u76ee\u6307\u3057\u3066\u304f\u3060\u3055\u3044\u306d\u266a"},{command:"wait",time:2e3},{command:"changeTips",imageName:"014"},{command:"playVoice",voiceName:"hazuki_tutorial_2"},{command:"playComment",content:"\u4ed6\u306e\u30e9\u30a4\u30d0\u30eb\u30e6\u30cb\u30c3\u30c8\u3082\u542b\u3081\u300c\u30b9\u30bf\u30fc\u306e\u6570\u300d\u3068\n\u300c\u30e1\u30f3\u30bf\u30eb\u300d\u3092\u90fd\u5ea6\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u306d"},{command:"wait",time:2e3},{command:"resume",target:"concertGame"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"pause",target:"concertGame"},{command:"showOverlay"},{command:"showTips",imageName:"015"},{command:"showComment",positionType:"top",windowType:"l"},{command:"playComment",content:"\u30a2\u30d4\u30fc\u30eb\u30d5\u30a7\u30a4\u30ba\u3067\u306f\u3001\u884c\u52d5\u9806\u756a\u6bce\u306b\n\u30a2\u30a4\u30c9\u30eb\u304c\u30a2\u30d4\u30fc\u30eb\u3092\u3057\u3066\u3044\u304d\u307e\u3059"},{command:"wait",time:2e3},{command:"changeTips",imageName:"016"},{command:"playVoice",voiceName:"901_surprise"},{command:"playComment",content:"\u5be9\u67fb\u54e1\u306e\u65b9\u3005\u306f\u3001\u30a2\u30a4\u30c9\u30eb\u9054\u306b\u53b3\u3057\u3044\u30b3\u30e1\u30f3\u30c8\u3092\n\u3055\u308c\u307e\u3059\u3002\u30a2\u30a4\u30c9\u30eb\u306e\u300c\u30e1\u30f3\u30bf\u30eb\u300d\u3092\u5e38\u306b\u898b\u5b88\u3063\u3066\n\u9069\u5207\u306a\u6307\u793a\u3092\u51fa\u3057\u3066\u3042\u3052\u307e\u3057\u3087\u3046"},{command:"wait",time:2e3},{command:"resume",target:"concertGame"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"middle",windowType:"l"},{command:"playComment",content:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\u30e6\u30cb\u30c3\u30c8\u304c\u6240\u6301\u3057\u3066\u3044\u308b\uff18\u3064\u306e\n\u30e9\u30a4\u30d6\u30b9\u30ad\u30eb\u304b\u3089\uff13\u3064\u304c\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u51fa\u3055\u308c\u3001\n\uff11\u30bf\u30fc\u30f3\u306b\uff11\u3064\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059"},{command:"playComment",content:"\u307e\u305a\u306f\u3001\u771f\u4e43\u3055\u3093\u304c\u6301\u3063\u3066\u3044\u308b\u300c\u30b9\u30ad\u30eb\u300d\u3092\n\u9078\u629e\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff5e",lock:!1},{command:"changeOverlay",x:470,y:534,width:202,height:170},{command:"showFinger",type:"right",x:500,y:555},{command:"hideMask",label:"mask1"},{command:"showMask",imageName:"concert_turn_1_1",label:"mask2"},{command:"waitEvent",target:"concertGame",event:"selectCard"},{command:"changeOverlay",x:420,y:368,width:300,height:228},{command:"hideMask",label:"mask2"},{command:"showMask",imageName:"concert_turn_1_2",label:"mask3"},{command:"playComment",positionType:"top",content:"\u771f\u4e43\u3055\u3093\u306e\u30e9\u30a4\u30d6\u30b9\u30ad\u30eb\u306f\u300cVocal\u300d\u30b8\u30e3\u30f3\u30eb\u306a\u306e\u3067\n\u300cVocal\u62c5\u5f53\u5be9\u67fb\u54e1\u300d\u306b\u4f7f\u3046\u3068\u300e\u597d\u53cd\u5fdc\u300f\u3092\u5f97\u3089\u308c\u307e\u3059"},{command:"wait",time:500},{command:"hideMask",label:"mask3"},{command:"showMask",imageName:"concert_vocal",label:"mask4"},{command:"changeOverlay",x:0,y:52,width:200,height:160},{command:"playComment",positionType:"middle",windowType:"s",content:"\u305d\u308c\u3067\u306f\u300cVocal\u62c5\u5f53\u5be9\u67fb\u54e1\u300d\u3092\u9078\u629e\u3057\u307e\u3057\u3087\u3046\uff5e",lock:!1},{command:"showFinger",type:"left",x:112,y:120},{command:"waitEvent",target:"concertGame",event:"selectJudge"},{command:"hideMask",label:"mask4"},{command:"changeOverlay"},{command:"playComment",positionType:"top",windowType:"l",
content:"\u5be9\u67fb\u54e1\u306e\u65b9\u3092\u9078\u629e\u3059\u308b\u3068\n\u300c\u30a2\u30d4\u30fc\u30eb\u30e1\u30fc\u30bf\u30fc\u300d\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n\u57fa\u672c\u306f\u300cPerfect\u300d\u306e\u4f4d\u7f6e\u3092\u72d9\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046"},{command:"trigger",target:"concertGame",event:"stopOnPerfect"},{command:"wait",time:2400},{command:"playComment",positionType:"top",windowType:"m",content:"\u4eca\u304c\u300cPerfect\u300d\u30c1\u30e3\u30f3\u30b9\u306e\u4f4d\u7f6e\u3067\u3059\n\u672c\u756a\u3067\u306f\u3001\u3046\u307e\u304f\u72d9\u3063\u3066\u304f\u3060\u3055\u3044\u306d",lock:!1},{command:"changeOverlay",x:0,y:0,width:1136,height:640},{command:"showFinger",type:"left",x:800,y:440},{command:"waitEvent",target:"concertGame",event:"startAppealPhase"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"middle",windowType:"m"},{command:"playComment",content:"2\u30bf\u30fc\u30f3\u76ee\u306f\u98a8\u91ce\u706f\u7e54\u3055\u3093\u306e\u6301\u3063\u3066\u3044\u308b\n\u300c\u30b9\u30ad\u30eb\u300d\u3092\u9078\u629e\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044",lock:!1},{command:"changeOverlay",x:470,y:534,width:202,height:170},{command:"showFinger",type:"right",x:500,y:555},{command:"hideMask",label:"mask1"},{command:"showMask",imageName:"concert_turn_2_1",label:"mask2"},{command:"waitEvent",target:"concertGame",event:"selectCard"},{command:"hideMask",label:"mask2"},{command:"showMask",imageName:"concert_vocal",label:"mask3"},{command:"changeOverlay",x:0,y:52,width:200,height:160},{command:"playComment",windowType:"s",content:"\u4eca\u56de\u3082\u300cVocal\u300d\u5be9\u67fb\u54e1\u3092\u9078\u629e\u3057\u307e\u3057\u3087\u3046",lock:!1},{command:"showFinger",type:"left",x:112,y:120},{command:"waitEvent",target:"concertGame",event:"selectJudge"},{command:"hideMask",label:"mask3"},{command:"changeOverlay",x:0,y:0,width:1136,height:640},{command:"playComment",positionType:"top",windowType:"s",content:"\u30a2\u30d4\u30fc\u30eb\u30e1\u30fc\u30bf\u30fc\u3092TAP\u3057\u3066\u304f\u3060\u3055\u3044",lock:!1},{command:"waitEvent",target:"concertGame",event:"startAppealPhase"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"middle",windowType:"m"},{command:"playComment",content:"\uff13\u30bf\u30fc\u30f3\u76ee\u306f\u516b\u5bae\u3081\u3050\u308b\u3055\u3093\u304c\u6301\u3063\u3066\u3044\u308b\n\u300c\u30b9\u30ad\u30eb\u300d\u3092\u9078\u629e\u3057\u3066\u307f\u307e\u3057\u3087\u3046",lock:!1},{command:"changeOverlay",x:470,y:534,width:202,height:170},{command:"showFinger",type:"right",x:500,y:555},{command:"hideMask",label:"mask1"},{command:"showMask",imageName:"concert_turn_3_1",label:"mask2"},{command:"waitEvent",target:"concertGame",event:"selectCard"},{command:"changeOverlay",x:0,y:52,width:200,height:160},{command:"hideMask",label:"mask2"},{command:"showMask",imageName:"concert_vocal",label:"mask3"},{command:"playComment",windowType:"s",content:"\u3082\u3046\u4e00\u5ea6\u300cVocal\u62c5\u5f53\u5be9\u67fb\u54e1\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",lock:!1},{command:"showFinger",type:"left",x:112,y:120},{command:"waitEvent",target:"concertGame",event:"selectJudge"},{command:"hideMask",label:"mask3"},{command:"changeOverlay",x:0,y:0,width:1136,height:640},{command:"playComment",positionType:"top",windowType:"m",content:"\u30a2\u30d4\u30fc\u30eb\u30e1\u30fc\u30bf\u30fc\u3092TAP\u3057\u3066\u304f\u3060\u3055\u3044\n\u3075\u3075\u3001\u305d\u308d\u305d\u308d\u6163\u308c\u3066\u304d\u307e\u3057\u305f\u304b\uff5e\uff1f",lock:!1},{command:"waitEvent",target:"concertGame",event:"startAppealPhase"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showComment",positionType:"top",windowType:"l"},{command:"hideMask",label:"mask1"},{command:"showMask",imageName:"concert_turn_4_1",label:"mask2"},{command:"changeOverlay",x:880,y:514,width:256,height:126},{command:"playComment",content:"\u601d\u3044\u51fa\u30b2\u30fc\u30b8\u304c\u6e9c\u307e\u308a\u307e\u3057\u305f\u3088\n\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u3068\u30a2\u30a4\u30c9\u30eb\u3068\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\n\u306b\u3088\u3063\u3066\u3001\u5f15\u304d\u51fa\u3055\u308c\u305f\u80fd\u529b\u3067\u3059",lock:!1},{command:"showFinger",type:"right",x:900,y:555},{command:"waitEvent",target:"concertGame",event:"selectCard"},{command:"hideMask",label:"mask2"},{command:"showMask",imageName:"mask",label:"mask"},{command:"changeOverlay",x:568,y:366,width:406,height:160},{command:"wait",time:200},{command:"hideMask",label:"mask"},{command:"showMask",imageName:"concert_turn_4_2",label:"mask3"},{command:"playComment",content:"\u3055\u3089\u306b\u3001\u4eca\u56de\u306f\u300c\u30ea\u30f3\u30af\u30a2\u30d4\u30fc\u30eb\u300d\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u601d\u3044\u51fa\u30a2\u30d4\u30fc\u30eb\u306e\u5f8c\u306b\u7d9a\u3051\u3066\u300c\u30ea\u30f3\u30af\u30a2\u30d4\u30fc\u30eb\u300d\u304c\u884c\u308f\u308c\u307e\u3059\u3088"},{command:"playComment",content:"\u30a2\u30a4\u30c9\u30eb\u9054\u306e\u8f1d\u304f\u77ac\u9593\u3092\u3057\u3063\u304b\u308a\u898b\u5c4a\u3051\u3066\u304f\u3060\u3055\u3044\u306d\uff01"},{command:"hideMask",label:"mask3"},{command:"showMask",imageName:"concert_dance",label:"mask4"},{command:"changeOverlay",x:0,y:212,width:200,height:160},{command:"playComment",windowType:"s",content:"\u305d\u308c\u3067\u306f\u3001\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\uff5e",lock:!1},{command:"showFinger",type:"left",x:112,y:260},{command:"waitEvent",target:"concertGame",event:"selectJudge"},{command:"hideMask",label:"mask4"},{command:"changeOverlay"},{command:"waitEvent",target:"concertGame",event:"startMemoryRoulette"},{command:"trigger",target:"concertGame",event:"stopMemoryRoulette"},{command:"waitEvent",target:"concertGame",event:"stopOnGood"},{command:"playComment",windowType:"m",content:"Good\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u3046\u307e\u304f\u72d9\u3048\u308b\u3068\n\u601d\u3044\u51fa\u30a2\u30d4\u30fc\u30eb\u306e\u529b\u304c\u300c\u6700\u5927\u9650\u300d\u5f15\u304d\u51fa\u3055\u308c\u307e\u3059"},{command:"playComment",content:"\u300cGood\u300d\u3092TAP\u3057\u307e\u3057\u3087\u3046\n\u672c\u756a\u3067\u306f\u3001\u3057\u3063\u304b\u308a\u72d9\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046",lock:!1},{command:"changeOverlay",x:0,y:0,width:1136,height:640},{command:"showFinger",type:"right",x:468,y:300},{command:"waitInput",target:"concertGame",event:"touchstart",bringFront:!1}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"pause",target:"concertGame"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showOverlay"},{command:"showTips",imageName:"017"},{command:"showComment",positionType:"top",windowType:"l"},{command:"playComment",content:"\u30ea\u30f3\u30af\u30a2\u30d4\u30fc\u30eb\u306e\u767a\u52d5\u6761\u4ef6\u306f\u30b9\u30ad\u30eb\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\n\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u306a\u3044\u3068\u767a\u52d5\u3067\u304d\u307e\u305b\u3093\u306e\u3067\n\u78ba\u8a8d\u3092\u3057\u3066\u304b\u3089\u30e6\u30cb\u30c3\u30c8\u3092\u7de8\u6210\u3057\u307e\u3057\u3087\u3046"},{command:"wait",time:2e3},{command:"resume",target:"concertGame"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"pause",target:"concertGame"},{command:"showOverlay"},{command:"showMask",imageName:"mask",label:"mask1"},{command:"showTips",imageName:"018"},{
command:"showComment",positionType:"top",windowType:"l"},{command:"playVoice",voiceName:"hazuki_tutorial_6"},{command:"playComment",content:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc\u3055\u3093\u3001\u3084\u308a\u307e\u3057\u305f\u306d\uff5e\n\u5be9\u67fb\u54e1\u3092\u6e80\u8db3\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u306e\u3067\n\u300c\u30b9\u30bf\u30fc\u300d\u3092\u7372\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3088\n"},{command:"wait",time:2e3},{command:"changeTips",imageName:"019"},{command:"playComment",content:"\u30e9\u30a4\u30d0\u30eb\u3088\u308a\u3082\u300c\u4e00\u756a\u591a\u304f\u306e\u30b9\u30bf\u30fc\u3092\u7372\u5f97\u300d\u3057\u3066\n\uff11\u4f4d\u3092\u76ee\u6307\u3057\u307e\u3057\u3087\u3046"},{command:"wait",time:2e3},{command:"resume",target:"concertGame"}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),u=r(l),c=n(0),f=r(c),d=n(40),p=r(d),h=n(83),y=r(h),m=n(432),_=r(m),g=n(433),b=r(g),v=n(442),w=r(v),k=n(441),S=r(k),I=n(437),E=r(I),A=n(444),x=r(A),C=n(431),T=r(C),P=n(19),O=r(P),N=n(443),M=r(N),R=n(35),D=r(R),F=[y.default.IMAGES.AUDITION(1).bg,y.default.IMAGES.AUDITION(6).bg,y.default.IMAGES.AUDITION(11).bg,y.default.IMAGES.AUDITION(16).bg,y.default.IMAGES.CONCERT.bg,y.default.IMAGES.FES.bg,"images/ui/_sandbox/bg.png","images/ui/concert/parts.json","images/ui/concert/parts_attack_order.json","images/ui/concert/parts_number.json","images/ui/concert/parts_bg.json","images/ui/concert/parts_pause.json","images/ui/concert/parts_effect.json","images/ui/concert/parts_text.json","images/ui/concert/effects/fireworks_blue.png","images/ui/concert/effects/fireworks_green.png","images/ui/concert/effects/fireworks_yellow.png","images/ui/concert/effects/spark_impact_yellow.png","particles/concert/common/images.json","particles/concert/memory_appeal/bg.json","particles/concert/memory_appeal/impact.json","particles/concert/memory_appeal/spark.json","particles/concert/memory_appeal_gauge/heart_1.json","particles/concert/memory_appeal_gauge/heart_2.json","particles/concert/recover_skill/note.json","particles/concert/recover_skill/wave.json","particles/concert/judge_attack/trail_boke.json","particles/concert/judge_attack/trail.json","particles/concert/rival_attack/hit.json","particles/concert/rival_attack/trail.json","particles/concert/rival_attack/charge.json","particles/concert/idol_attack/hit.json","particles/concert/idol_attack/trail.json","particles/concert/idol_attack/charge.json","particles/concert/star/hit.json","particles/concert/star/trail.json","particles/concert/star/trail_boke.json","particles/concert/heart/hit.json","particles/concert/heart/trail.json","particles/concert/common/twinkle.json","particles/concert/common/arrow_up.json","particles/concert/common/arrow_down.json","particles/concert/common/flash_line_1.json","particles/concert/common/flash_line_2.json","particles/concert/common/flash_line_3.json","particles/concert/common/flash_line_3_down.json","particles/concert/common/flash_line_3_up.json","particles/concert/common/flash_line_ring.json","particles/concert/common/flash_spark_3.json","particles/concert/common/flash_spark_4.json","particles/concert/common/idol_buff.json","particles/concert/common/idol_debuff.json","particles/concert/common/idol_gain_star.json","particles/concert/common/retire_aura.json","particles/concert/common/retire_flash.json","particles/concert/common/stage_flash_011.json","particles/concert/common/stage_flash_012.json","particles/concert/common/stage_flash_013.json","particles/concert/common/stage_flash_020.json","particles/concert/common/stage_flash_030.json","particles/concert/common/timing_bad_center.json","particles/concert/common/timing_bad_top.json","particles/concert/common/timing_normal_top.json","particles/concert/common/timing_good_center.json","particles/concert/common/timing_good_top.json","particles/concert/common/timing_perfect_center.json","particles/concert/common/timing_perfect_top.json","images/content/idols/cut_in/1040020010.png","images/content/characters/memory_roulette_good/002.png","images/content/characters/memory_roulette_bad/002.png","spine/idols/stand_costume/1030060010/data.json","spine/idols/stand_costume/1030040010/data.json","images/content/characters/active_skill_silhouette/001.png"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(D.default))),B=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return aoba.Sprite.new("images/ui/_sandbox/bg.png").addTo(e),e.on("enter",e._play,e),e}return o(t,e),s(t,[{key:"_play",value:function(){this._appealStart()}},{key:"_memorySkillRoulette",value:function(){var e={getImagePath:function(e){return"images/content/characters/"+e+"/002.png"},tensionLevel:5},t=E.default.new(e);t.addTo(this),t.appear(1),aoba.FrameTween.new(this).wait(22).call(function(){t.start(),t.stopOnGood()}).wait(12).call(function(){var e=t.judge();e.resultCallBack.call(t,e)})}},{key:"_appealStart",value:function(){(0,M.default)().addTo(this)}},{key:"ezgUpdate",value:function(e){this.fireworks&&this.fireworks.worldVisible&&this.fireworks.ezgUpdate(e)}},{key:"_ready",value:function(){var e=this,t=new PIXI.AEDataInterceptor({});(0,O.default)({folderPath:"concert/ready",interceptor:t}).then(function(t){e.addChild(t),t.play()})}},{key:"_auditionFailure",value:function(){var e=f.default.Spine.new("spine/idols/stand_costume/1030060010/data.json");(0,x.default)(e).addTo(this)}},{key:"_rivalRetire",value:function(){(0,T.default)("images/content/characters/active_skill_silhouette/001.png").addTo(this)}},{key:"_passiveSkillCutIn",value:function(){var e=this,t=[{name:"\u3072\u304a\u308a\u30b9\u30ad\u30eb",comment:"\u8aac\u660e",rarity:1},{name:"\u3072\u304a\u308a\u30b9\u30ad\u30eb",comment:"\u8aac\u660e",rarity:2},{name:"\u3072\u304a\u308a\u30b9\u30ad\u30eb",comment:"\u8aac\u660e",rarity:1}],n=f.default.Spine.new("spine/idols/stand_costume/1030040010/data.json");t.reduce(function(t,r){return t.then(function(){return r.rarity>=2?w.default.new(n,r).addTo(e,0,350).play():S.default.new("images/content/idols/cut_in/1040020010.png",r).addTo(e,0,480,{anchor:.5}).play()})},Promise.resolve())}},{key:"_idolAttack",value:function(){b.default.shootIdolAttack({x:200,y:200},{x:800,y:540},this)}},{key:"_rivalAttack",value:function(){b.default.shootRivalAttack({x:200,y:200},{x:800,y:540},this)}},{key:"_rivalMemoryAppeal",value:function(){b.default.shootRivalMemoryAppeal({x:200,y:200},{x:800,y:540},this)}},{key:"_judgeAttack",value:function(){b.default.shootJudgeAttack({x:200,y:200},{x:800,y:540},this)}},{key:"_recoverEffect",value:function(){_.default.playIdolRecoverEffect().addTo(this)}},{key:"_star",value:function(){b.default.shootJudgeStar({x:200,y:200},{x:800,y:540},this)}},{key:"_arrowDown",value:function(){f.default.playParticle(p.default.arrowDown,this,800,600)}},{key:"_arrowUp",value:function(){f.default.playParticle(p.default.arrowUp,this,720,780,{scale:1.5})}}],[{key:"uiResources",get:function(){return F}}]),t
}(u.default);t.default=B}],[497]);"notifsw"in window&&!0===notifsw||(window.notifsw=!0),"debuglog"in window&&!0===debuglog||(window.debuglog=!1),dlog=function(o,...i){if(1==window.debuglog||o){if(!1===o||!0===o||1!=window.debuglog){if(!0!==o||"granted"!==Notification.permission)return console.log(...i);if(!window.notifsw)return console.log(i[0],i[1]);var n=new Notification(i[0],{body:i[1],tag:i[2],icon:"assets/images/icon/icon_192.png"});"number"==typeof i[3]&&(n.onshow=function(){setTimeout(n.close.bind(n),1e3*i[3])}),n.onclick=function(){n.close()}}return console.info(o,...i)}},window.Notification&&"granted"!==Notification.permission&&Notification.requestPermission(function(o){Notification.permission!==o&&(Notification.permission=o)}),dlog(!0,"SCTmod","LoadSuccess","load",2);